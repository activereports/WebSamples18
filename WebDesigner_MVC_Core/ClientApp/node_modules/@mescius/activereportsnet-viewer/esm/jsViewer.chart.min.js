(()=>{var t={91522:function(t,e){var n,i,o;i=[],void 0===(o="function"==typeof(n=function(){"use strict";var t,e,n=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))},o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,l=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(l=(r<3?o(l):r>3?o(e,n,l):o(e,n))||l);return r>3&&l&&Object.defineProperty(e,n,l),l};return function(t){var e=function(){function t(){}return t.Precision=.01,t.LabelPadding=2,t.TooltipThreshold=15,t.BarLineStroke="#000000",t.MiterSize=4,t.MajorTick=4,t.MinorTick=2,t.LogBase=10,t.AxisOrigin=0,t.BarWidth=.7,t.TextOffset=0,t.ViewSize=1,t.AnimationStay=200,t.SymbolValue=15,t.NeedleEndOffset=10,t.AnimationDuration=200,t.AnimationStartDelay=0,t.AnimationEndDelay=0,t.Padding=0,t.Margin=0,t.StrokeWidth=0,t.DataPointTextScope="DataPoint",t.ClusterTextScope="Cluster",t.ZoomInAcceleratedSpeed=1.1,t.ZoomOutAcceleratedSpeed=.9,t.AxisMaxWidthOrHeight=.75,t.AxisSetValueMaxWidthOrHeight=.5,t.MaxMajorTickCount=1e3,t.MaxMinorTickCount=2e3,t}();t._Constants=e}(t||(t={})),t||(t={}),t||(t={}),function(t){!function(t){t[t.NotLoad=0]="NotLoad",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded"}(t.AsyncResourceState||(t.AsyncResourceState={}))}(t||(t={})),function(t){var e=function(){function t(){this.__callbacks=[],this.__loadingResources=[]}return Object.defineProperty(t.prototype,"completed",{get:function(){return this.__loadingResources.length<=0},enumerable:!1,configurable:!0}),t.prototype.load=function(t){var e=this;if(!t._isCompleted()){this.__loadingResources.push(t);var n=this;t._load((function(t){var i=e.__loadingResources.indexOf(t);if(i>=0&&e.__loadingResources.splice(i,1),e.__loadingResources.length<=0){for(var o=0,r=e.__callbacks;o<r.length;o++)(0,r[o])(n);e.__callbacks=[]}}))}},t.prototype.wait=function(t){this.__loadingResources.length<=0?t(this):this.__callbacks.push(t)},t}();t._BuildInAsyncResourcePool=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t){this._paths=this._splitPath(t)}return e.prototype._getValueFromPath=function(e,n){if(null==e)return this._getValueFromUnsupportedPath(e,n);if("object"==typeof e){if(Array.isArray(e)){if("length"==n)return t._NativeExtension.getPropertyValue(e,n);n.length>2&&"["==n[0]&&"]"==n[n.length-1]&&(n=n.substring(1,n.length-1));var i=parseInt(n,10);if(isNaN(i))return this._getValueFromUnsupportedPath(e,n);var o=e;return 0<=i&&i<o.length?o[i]:null}return t._NativeExtension.hasProperty(e,n,!0)?t._NativeExtension.getPropertyValue(e,n):this._getValueFromUnsupportedPath(e,n)}return this._getValueFromUnsupportedPath(e,n)},e.prototype._createUnknownPropertyObject=function(t,e){return null},e.prototype._setUnknownPropertyValue=function(e,n,i){t._NativeExtension.setPropertyValue(e,n,i)},e.prototype._getValue=function(t){if(this._paths.length>0)for(var e=0,n=this._paths.length;e<n;e++){var i=this._paths[e];t=this._getValueFromPath(t,i)}return this._convert(t)},e.prototype._setValue=function(e,n){if(this._paths.length>0)for(var i=0,o=this._paths.length-1;i<o;i++){var r=this._paths[i];if("object"==typeof e){if(Array.isArray(e)){r.length>2&&"["==r[0]&&"]"==r[r.length-1]&&(r=r.substring(1,r.length-1));var l=parseInt(r,10);if(isNaN(l)){if(null==(e=this._createUnknownPropertyObject(e,r)))return}else e=e[l]}else if(t._NativeExtension.hasProperty(e,r,!0))e=this._getValueFromPath(e,r);else if(null==(e=this._createUnknownPropertyObject(e,r)))return}else if(null==(e=this._createUnknownPropertyObject(e,r)))return}"object"==typeof e&&(r=this._paths[this._paths.length-1],t._NativeExtension.hasProperty(e,r,!0)?t._NativeExtension.setPropertyValue(e,r,n):this._setUnknownPropertyValue(e,r,n))},e}();t._BaseBinding=e}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t){this.__comparer=t}return t.prototype._equalsWith=function(t,e){if(null==t&&null==e)return!0;if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(!this.__comparer._equalsWith(t[n],e[n]))return!1;return!0},t}();t._ArrayEqualityComparer=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._equalsWith=function(t,e){return!(!isNaN(t)||!isNaN(e))||!isNaN(t)&&!isNaN(e)&&t===e},t}(),n=function(){function t(){}return t.prototype._equalsWith=function(e,n){if(null==e&&null==n)return!0;if(null==e||null==n)return!1;if(e.length!=n.length)return!1;for(var i=0,o=e.length;i<o;i++)if(!t.__numberEqualityComparer._equalsWith(e[i],n[i]))return!1;return!0},t.__numberEqualityComparer=new e,t}(),i=function(){function t(){}return t.prototype._equalsWith=function(t,e){return null==t&&null==e||null!=t&&null!=e&&(!(!isNaN(t)||!isNaN(e))||!isNaN(t)&&!isNaN(e)&&t===e)},t._numberEqualityComparer=new t,t._numberArrayEqualityComparer=new n,t}();t._NumberEqualityComparer=i}(t||(t={})),function(t){var e=function(){function e(t){void 0===t&&(t=null),this.__precision=t}return e.prototype._equalsWith=function(e,n){return null==e&&null==n||null!=e&&null!=n&&(!(!isNaN(e)||!isNaN(n))||!isNaN(e)&&!isNaN(n)&&Math.abs(e-n)<t._NativeExtension._toNonNullNumber(this.__precision,.1))},e._numberPixelRoundEqualityComparer=new e,e}();t._NumberPixelRoundEqualityComparer=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._equalsWith=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equalsWith(e)},t}();t._ObjectEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t===e},e._stringEqualityComparer=new e,e._stringArrayEqualityComparer=new t._ArrayEqualityComparer(e._stringEqualityComparer),e}();t._StringEqualityComparer=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e,n){this._name=t,this._numberFormat=e,this._calendar=n}return t._currentCulture=function(){return t._usCulture()},t._usCulture=function(){return null==this.__usCulture&&(this.__usCulture=new t("en-US",new o(new n(2,"%",["-n %","n %"],[3]),new i("USD",2,"$",["($n)","$n"],[3]),".",",","+","-","‰",2,["(n)","-n","- n","n-","n -"],[3]),new r(0,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["January","February","March","April","May","June","July","August","September","October","November","December"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["AM","A"],["PM","P"],["A.D.","B.C."],{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},null,"/",":"))),this.__usCulture},t}();t._CultureInfo=e;var n=function(t,e,n,i){this._decimalDigits=t,this._symbol=e,this._pattern=n,this._groupSizes=i},i=function(t,e,n,i,o){this._currency=t,this._decimalDigits=e,this._symbol=n,this._pattern=i,this._groupSizes=o},o=function(t,e,n,i,o,r,l,a,u,s){this._percent=t,this._currency=e,this._decimalSeparator=n,this._groupSeparator=i,this._positiveSign=o,this._negativeSign=r,this._permilleSymbol=l,this._decimalDigits=a,this._negativePattern=u,this._groupSizes=s},r=function(t,e,n,i,o,r,l,a,u,s,_,p){this._firstDay=t,this._days=e,this._daysAbbr=n,this._months=i,this._monthsAbbr=o,this._am=r,this._pm=l,this._eras=a,this._patterns=u,this._twoDigitYearMax=s,this._dateSeparator=_,this._timeSeparator=p}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._expandFormat=function(e){var n=t._CultureInfo._currentCulture()._calendar._patterns[e];return null!=n&&""!=n?n:e},e.prototype._getEraByNameOrSymbol=function(t,e){return-1},e.prototype._parseDateFormat=function(n){if(t._NativeExtension.hasProperty(e.__dateFomatParts,n,!0))return e.__dateFomatParts[n];for(var i,o=[],r=0;r>-1&&r<n.length;r++){var l=n[r];if(("'"==l||'"'==l)&&(i=n.indexOf(l,r+1))>-1)o.push(n.substring(r,i+1)),r=i;else{for(i=r+1;i<n.length&&n[i]==l;i++);o.push(n.substring(r,i)),r=i-1}}return e.__dateFomatParts[n]=o,o},e.prototype._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},e.prototype._fromFiscal=function(t,e){return t},e.prototype._parse=function(n,i){var o;if("R"==i||"r"==i){var r=n.match(/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/);return null!=r&&(null!=r[1]&&""!=r[1]||null!=r[5]&&""!=r[5])?(o=null!=r[1]&&""!=r[1]?new Date(parseInt(r[2],10),parseInt(r[3],10)-1,parseInt(r[4],10)):new Date,null!=r[5]&&""!=r[5]&&(o.setHours(parseInt(r[6],10)),o.setMinutes(parseInt(r[7],10)),o.setSeconds(null!=r[8]&&""!=r[8]?parseInt(r[9],10):0)),o.setMilliseconds(0)):o=new Date(n),isNaN(o.valueOf())?null:o}i=this._expandFormat(null!=i&&""!=i?i:"d");var l=t._CultureInfo._currentCulture()._calendar,a=e.__CJK,u=new RegExp("(\\"+l._dateSeparator+")|(\\"+l._timeSeparator+")|(\\d+)|(["+a+"\\.]{2,})|(["+a+"]+)","gi"),s=n.match(u),_=this._parseDateFormat(i),p=0,c=-1,h=0,f=1,d=0,y=0,g=0,m=0,v=-1,w=!1,b=!1,P=!1,S=!1,C=null;if(null==s||0==s.length||null==_||0==_.length)return null;for(var V=0;V<_.length&&null!=s;V++){var x=V-p,D=x>-1&&x<s.length?s[x]:"",O=_[V].length,A=_[V];if("EEEE"==A||"EEE"==A||"EE"==A||"E"==A||"eeee"==A||"eee"==A||"ee"==A||"e"==A)C=_[V];else if("yyyy"==A||"yyy"==A||"yy"==A||"y"==A)O>1&&D.length>O&&(s[x]=D.substr(O),D=D.substr(0,O),p++),c=parseInt(D,10);else if("MMMM"==A||"MMM"==A){S=!0;var L=D.toLowerCase();h=-1;for(var T=0;T<12;T++)if(0==l._months[T].toLowerCase().indexOf(L)){h=T;break}if(h>-1)continue}else if("MM"==A||"M"==A)S=!0,O>1&&D.length>O&&(s[x]=D.substr(O),D=D.substr(0,O),p++),h=parseInt(D,10)-1;else if("dddd"==A||"ddd"==A)w=!0;else if("dd"==A||"d"==A)O>1&&D.length>O&&(s[x]=D.substr(O),D=D.substr(0,O),p++),f=parseInt(D,10),b=!0;else if("hh"==A||"h"==A)O>1&&D.length>O&&(s[x]=D.substr(O),D=D.substr(0,O),p++),d=12==(d=parseInt(D,10))?0:d;else if("HH"==A)O>1&&D.length>O&&(s[x]=D.substr(O),D=D.substr(0,O),p++),d=parseInt(D,10);else if("H"==A)d=parseInt(D,10);else if("mm"==A||"m"==A)O>1&&D.length>O&&(s[x]=D.substr(O),D=D.substr(0,O),p++),y=parseInt(D,10);else if("ss"==A||"s"==A)O>1&&D.length>O&&(s[x]=D.substr(O),D=D.substr(0,O),p++),g=parseInt(D,10);else if("fffffff"==A||"FFFFFFF"==A||"ffffff"==A||"FFFFFF"==A||"fffff"==A||"FFFFF"==A||"ffff"==A||"FFFF"==A||"fff"==A||"FFF"==A||"ff"==A||"FF"==A||"f"==A||"F"==A)m=parseInt(D,10)/Math.pow(10,O-3);else if("tt"==A||"t"==A)D=D.toUpperCase(),(null!=l._pm[0]&&""!=l._pm[0]&&D==l._pm[0]&&d<12||null!=l._pm[1]&&""!=l._pm[1]&&D==l._pm[1]&&d<12)&&(d+=12);else if("q"==A||"Q"==A||"u"==A||"U"==A)P=!0;else if("ggg"==A||"gg"==A||"g"==A)v=l._eras.length>1?this._getEraByNameOrSymbol(D,l):-1;else if(A==l._dateSeparator||A==l._timeSeparator){if(null!=D&&""!=D&&D!=_[V])return null}else"K"==A||this._unquote(_[V])!=D&&p++}if(S&&b&&(isNaN(d)&&(d=0),isNaN(y)&&(y=0),isNaN(g)&&(g=0)),h<0||h>11||isNaN(h)||f<0||f>31||isNaN(f)||d<0||d>24||isNaN(d)||y<0||y>60||isNaN(y)||g<0||g>60||isNaN(g))return null;if(null!=C&&""!=C){if(!S)return null;o=new Date(c,h),c=(o=this._fromFiscal(o,"E"==C[0])).getFullYear(),h=o.getMonth()}return w&&!b||P&&!S?null:(c<0&&(c=(new Date).getFullYear()),v>-1||c<100&&(c+=c+2e3<(t._AnyTypeExtension._isNumber(l._twoDigitYearMax)?l._twoDigitYearMax:2029)?2e3:1900),o=new Date(c,h,f,d,y+0,g,m),isNaN(o.valueOf())?null:o)},e.__CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),e.__dateFomatParts={},e}();t._CustomDateParser=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._parseStringValue=function(e){var n=e.split("T");if(2!==n.length)return null;var i=n[1];if(3!==(n=n[0].split("-")).length)return null;var o=n[0],r=n[1],l=n[2];if(null!=o.match(/[\d]{4}|[\+\-]\d{6}/)&&null!=r.match(/0\d|1[0-2]/)&&null!=l.match(/[0-2]\d|3[0-1]/)&&null!=i.match(/[0-1]\d:[0-5][0-9]:[0-5][0-9]\.[\d]{3}Z|2[0-4]:[0-5][0-9]:[0-5][0-9]\.[\d]{3}Z/)){var a=t._NativeExtension._parseDateByPlatform(e);if(null!=a)return new Date(a)}return null},e.prototype._parse=function(t,e){return"o"===e||"O"===e?this._parseStringValue(t):null},e}();t._Iso8601DateParser=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._parseStringValue=function(e){var n=e.match(/\b[a-zA-Z]+,\s([0-9]{2})\s([a-zA-Z]+)\s([0-9]{4})\s([0-9]{2}):([0-9]{2}):([0-9]{2})\sGMT\b/);if(null!=n&&7==n.length){if(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(n[2])<0)return null;var i=t._NativeExtension._parseDateByPlatform(e);if(null!=i)return new Date(i)}return null},e.prototype.parse=function(t,e){return"r"===e||"R"===e?this._parseStringValue(t):null},e}();t._Rfc1123DateParser=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._parseStringValue=function(e){var n=e.match(/\b([0-9]{4})-([0-9]{2})-([0-9]{2})\s([0-9]{2}):([0-9]{2}):([0-9]{2})Z\b/i);if(null!=n&&7==n.length){var i=t._NativeExtension._parseDateByPlatform(e);if(null!=i)return new Date(i)}return null},e.prototype.parse=function(t,e){return"u"===e?this._parseStringValue(t):null},e}();t._UniversalDateParser=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._parse=function(t,n){var i=e.__iso8601DateParser._parse(t,n);return null!=i||null!=(i=e.__universalDateParser.parse(t,n))?i:e.__customDateParser._parse(t,n)},e._dateParser=new e,e.__iso8601DateParser=new t._Iso8601DateParser,e.__universalDateParser=new t._UniversalDateParser,e.__customDateParser=new t._CustomDateParser,e}();t._DateParser=e}(t||(t={})),function(t){var e=function(){function e(){}return e._format=function(t,n){if("r"==n||"R"==n)return t.toUTCString();if("u"==n)return t.toISOString().replace(/\.\d{3}/,"");n=e._expandFormat(n);for(var i=e._parseDateFormat(n),o="",r=0;r<i.length;r++)o+=e._formatDatePart(t,n,i[r]);return o},e._formatDatePart=function(n,i,o){var r,l=t._CultureInfo._currentCulture()._calendar,a=0,u=0,s=o.length;if("yyyy"==o||"yyy"==o||"yy"==o||"y"==o||"EEEE"==o||"EEE"==o||"EE"==o||"E"==o||"eeee"==o||"eee"==o||"ee"==o||"e"==o)return a=(r="E"==o[0]?e._toFiscal(n,!0):"e"==o[0]?e._toFiscal(n,!1):n).getFullYear(),l._eras.length>1&&i.indexOf("g")>-1&&e._getEra(n,l),e._zeroPad(a,4).substr(4-o.length);if("MMMM"==o)return l._months[n.getMonth()];if("MMM"==o)return l._monthsAbbr[n.getMonth()];if("MM"==o||"M"==o)return e._zeroPad(n.getMonth()+1,s);if("dddd"==o)return l._days[n.getDay()];if("ddd"==o)return l._daysAbbr[n.getDay()];if("dd"==o)return e._zeroPad(n.getDate(),2);if("d"==o)return n.getDate().toString();if("hh"==o||"h"==o)return e._zeroPad(e._h12(n),s);if("HH"==o||"H"==o)return e._zeroPad(n.getHours(),s);if("mm"==o||"m"==o)return e._zeroPad(n.getMinutes(),s);if("ss"==o||"s"==o)return e._zeroPad(n.getSeconds(),s);if("fffffff"==o||"FFFFFFF"==o||"ffffff"==o||"FFFFFF"==o||"fffff"==o||"FFFFF"==o||"ffff"==o||"FFFF"==o||"fff"==o||"FFF"==o||"ff"==o||"FF"==o||"f"==o||"F"==o)return u=n.getMilliseconds()*Math.pow(10,s-3),"f"==o[0]?e._zeroPad(u,s):u.toFixed(0);if("tt"==o)return n.getHours()<12?l._am[0]:l._pm[0];if("t"==o)return n.getHours()<12?l._am[1]:l._pm[1];if("q"==o||"Q"==o)return(Math.floor(n.getMonth()/3)+1).toString();if("u"==o||"U"==o)return r=e._toFiscal(n,"U"==o),(Math.floor(r.getMonth()/3)+1).toString();if("ggg"==o||"gg"==o||"g"==o)return l._eras.length>1&&e._getEra(n,l),l._eras[0];if("/"==o)return l._dateSeparator;if(":"==o)return l._timeSeparator;if("K"==o){var _=n.toString().match(/(\+|\-)(\d{2})(\d{2})/);return null!=_?_[1]+_[2]+_[3]:""}return s>1&&o[0]==o[s-1]&&('"'==o[0]||"'"==o[0])?o.substr(1,s-2):o},e._parseDateFormat=function(n){if(t._NativeExtension.hasProperty(e.__dateFomatParts,n,!0))return e.__dateFomatParts[n];for(var i,o=[],r=0;r>-1&&r<n.length;r++){var l=n[r];if(("'"==l||'"'==l)&&(i=n.indexOf(l,r+1))>-1)o.push(n.substring(r,i+1)),r=i;else{for(i=r+1;i<n.length&&n[i]==l;i++);o.push(n.substring(r,i)),r=i-1}}return e.__dateFomatParts[n]=o,o},e._expandFormat=function(e){var n=t._CultureInfo._currentCulture()._calendar._patterns[e];return null!=n&&""!=n?n:e},e._getEra=function(t,e){return-1},e._zeroPad=function(t,e){var n=t.toFixed(0),i=e-n.length+1;if(i>0){for(var o=[],r=0;r<i-1;r++)o.push("0");return o.join("")+n}return n},e._h12=function(e){var n=t._CultureInfo._currentCulture()._calendar,i=e.getHours();return null!=n._am&&null!=n._am[0]&&""!=n._am[0]&&0==(i%=12)&&(i=12),i},e._toFiscal=function(t,e){return t},e.__dateFomatParts={},e}();t._DateFormat=e}(t||(t={})),function(t){var e=function(){function t(t){this._provider=t}return t.prototype._getPositiveSign=function(){return this._provider._positiveSign},t.prototype._getNegativeSign=function(){return this._provider._negativeSign},t.prototype._getGroupSeparator=function(){return this._provider._groupSeparator},t.prototype._getDecimalSeparator=function(){return this._provider._decimalSeparator},t}();t._BaseNumberFormat=e}(t||(t={})),function(t){var e=function(e){function _(t,n){var i=e.call(this,n)||this;return i.__zeroFormatLiterals=null,i.__roundZero=!1,i.__mainFormatContext=new u,i.__negativeFormatContext=null,i.__zeroFormatLiterals=null,i._parseFormat(t),i}return n(_,e),_.prototype._format=function(e,n){if(!isFinite(e)||isNaN(e))throw new t.AssertError(t.ErrorCode.InvalidArgument);if(0==e&&null!=this.__zeroFormatLiterals)return this.__zeroFormatLiterals;var i;this.__roundZero=!1;var o=this.__mainFormatContext;if(i=e<0?null==this.__negativeFormatContext?this._getNegativeSign()+o._prefix:(o=this.__negativeFormatContext)._prefix:o._prefix,o._allInLiteral||o._noFormatPattern)return i;var r=o._scaleCount;r>0&&(e/=Math.pow(10,3*r));var l=o._multiplier;l>1&&(e*=l);var a=[];a.push(i),this._formatNumber(Math.abs(e),a,o);var u=a.join("");if(this.__roundZero){if(null!=this.__zeroFormatLiterals)return this.__zeroFormatLiterals;e<0&&(null!=this.__negativeFormatContext&&(o=this.__mainFormatContext),a=[],i=o._prefix,a.push(i),this._formatNumber(0,a,o),u=a.join(""))}return u},_.prototype._formatNumber=function(t,e,n){n._useExponentialNotation?this._formatExponential(t,e,n):this._formatNormal(t,e,n)},_.prototype._formatExponential=function(t,e,n){var i=t.toExponential(),o=i.indexOf("e"),r=i.substr(0,o),l=r.length,a=parseInt(i.substr(o+1),10),u=n._digitLeftCount,s=r[0],_="";l>1&&"."==r[1]&&(l--,_=r.substr(2),r=s+_),u>1&&(a-=u-1,s=r.substr(0,u),l<u?(s+="0".repeat(u-l),_=""):_=r.substr(u)),this._formatBySections(s,_,e,n,a)},_.prototype._getFormatExponentSection=function(t,e,n){var i=[];i.push(e),t>0&&n._useSignForPositiveExponent?i.push(this._getPositiveSign()):t<0&&(i.push(this._getNegativeSign()),t*=-1);var o=t.toString(),r=n._minimumExponentDigits-o.length;return r>0&&(o="0".repeat(r)+o),i.push(o),i.join("")},_.prototype._formatNormal=function(t,e,n){var i,o,r,l,a=0,u=t.toString();if(-1==(r=u.indexOf("e"))){var s=n._digitRightCount;if(u=t.toFixed(s),0==parseFloat(u))return void(this.__roundZero=!0);-1==(r=u.indexOf("."))?(i=u,o=""):(i=u.substr(0,r),o=u.substr(r+1))}else{a=parseInt(u.substr(r+1),10);var _=u.substr(0,r);l=r,"."==_[1]&&(_=_[0]+_.substr(2),l--),a+1>l?(i=_+"0".repeat(a+1-l),o=""):a>0?(i=_.substr(0,a+1),o=_.substr(a+1)):(i="",o="0".repeat(-a-1)+_)}this._formatBySections(i,o,e,n)},_.prototype._formatBySections=function(t,e,n,i,r){void 0===r&&(r=null);var a=i._needGroup,u=i._formatInfo[0],s=u.length,_=t.length,p=i._leftZeros;p>_?(t="0".repeat(p-_)+t,_=p):0==p&&1==_&&"0"==t[0]&&(t="",_=0);var c=[],h="",f=[],d=0;if(s>0&&_>0){for(var y=_-1,g=s-1,m=0,v=i._digitLeftCount;g>=0;){if(o(V=u[g--])){var w=V;f.push(w._literalChar)}else if(null!=r&&l(V)){var b=V;f.push(this._getFormatExponentSection(r,b._exponentSymbol,i))}else y>=0&&(f.push(t[y--]),d++,m++);if(3==d&&(c.push(f.reverse().join("")),f=[],d=0),m>=v)for(;y>=0;)f.push(t[y--]),3==++d&&(c.push(f.reverse().join("")),f=[],d=0)}for(;y>=0;)f.push(t[y--]),3==++d&&(c.push(f.reverse().join("")),f=[],d=0);d>0&&c.push(f.reverse().join("")),h=c.reverse().join(a?this._getGroupSeparator():"")}else if(a){p=0;for(var P=_%3;p<_;)c.push(t.substr(p,P)),p+=P,P=3;h=c.join(this._getGroupSeparator())}else h=t;var S=i._rightZeros;_=e.length;var C=i._digitRightCount;if(_>C?(e=parseFloat("0."+e).toFixed(C).substr(2),_=C):_<S&&(e+="0".repeat(S-_),_=S),null==r)for(;_>S&&"0"==e[_-1];)_--;if(f=[],(s=(u=i._formatInfo[1]).length)>0){for(g=0,y=0;g<s;){var V;o(V=u[g++])?(w=V,f.push(w._literalChar)):null!=r&&l(V)?(b=V,f.push(this._getFormatExponentSection(r,b._exponentSymbol,i))):y<_&&f.push(e[y++])}y<_&&f.push(e.substr(y)),e=f.join("")}e.length>0?n.push([h,e].join(_>0?this._getDecimalSeparator():"")):n.push(h)},_.prototype._parseFormat=function(t){var e=this.__mainFormatContext,n=new s(t);n._moveNext();var i=this._parsePrefix(n,e);if(e._allInLiteral||this._parseTrunk(n,e),e._allInLiteral){var o=this._parseAsLiterals(n,_.__sectionSeparator);e._prefix=o}else e._prefix=i;if(null!=n&&n._getCurrentChar()==_.__sectionSeparator&&n._moveNext()){if(n._getCurrentChar()!=_.__sectionSeparator){var r=new u;if(this.__negativeFormatContext=r,i=this._parsePrefix(n,r),r._allInLiteral||(r._prefix=i,this._parseTrunk(n,r)),r._allInLiteral&&(o=this._parseAsLiterals(n,_.__sectionSeparator),r._prefix=o,null!=n._getCurrentChar()))return void(this.__zeroFormatLiterals=this._parseAsLiterals(n))}n._getCurrentChar()==_.__sectionSeparator&&n._moveNext()&&(this.__zeroFormatLiterals=this._parseAsLiterals(n))}},_.prototype._parseAsLiterals=function(t,e){void 0===e&&(e=null);for(var n=[];;){var i=t._getCurrentChar();if(null==i)break;if(null!=e&&i==e){t._moveNext();break}if(("\\"==i||i==_.__quote)&&(t._moveNext(),null==(i=t._getCurrentChar())))break;n.push(i),t._moveNext()}return n.join("")},_.prototype._parsePrefix=function(t,e){var n=[];for(t._inQuote=!1;this._parseLiterals(n,t,e)&&t._moveNext(););return n.join("")},_.prototype._parseLiterals=function(e,n,i){var o=n._getCurrentChar();if(null==o)return!1;if("\\"==o)return n._moveNext(),null!=(o=n._getCurrentChar())&&e.push(o),!0;if(o==_.__quote)return n._inQuote=!n._inQuote,!0;if(n._inQuote)e.push(o);else{var r=o.toUpperCase();if(r==_.__patternGroupingSeparator)return!0;if(r==_.__patternDigit||r==_.__patternZeroDigit||r==_.__patternDecimalSeparator)return!1;if(r==_.__sectionSeparator)return!0;if(r==_.__patternPercent){if(1!=i._multiplier&&i._multiplier!=_.__percentScale)throw new t.RuntimeError(t.ErrorCode.TooManyPercent);i._multiplier=_.__percentScale,e.push(this._provider._percent._symbol)}else if(r==_.__patternPerMille){if(1!=i._multiplier&&i._multiplier!=_.__perMilleScale)throw new t.RuntimeError(t.ErrorCode.TooManyPermill);i._multiplier=_.__perMilleScale,e.push(this._provider._permilleSymbol)}else if(r==_.__patternExponent){if(/^[+-]?0+/.test(n._getRemainder()))return i._allInLiteral=!0,!1;e.push(o)}else e.push(o)}return!0},_.prototype._parseTrunk=function(t,e){if(null==t._getCurrentChar())e._noFormatPattern=!0;else for(;this._parseTrunkCharacter(t,e););},_.prototype._parseTrunkCharacter=function(e,n){var i=e._getCurrentChar();if(null==i)return!1;if("\\"==i)return e._moveNext(),null!=(i=e._getCurrentChar())&&this._addLiteralItem(i,n),e._moveNext();if(i==_.__quote)return e._inQuote=!e._inQuote,e._moveNext();if(e._inQuote)return this._addLiteralItem(i,n),e._moveNext();var o=i.toUpperCase();if(o==_.__sectionSeparator)return!1;if(o==_.__patternDigit)n._decimalFound?n._digitRightCount+=1:(n._digitLeftCount+=1,n._leftZeros>0&&(n._leftZeros+=1)),this._addPlaceHolder(n);else if(o==_.__patternZeroDigit)n._decimalFound?(n._digitRightCount+=1,n._rightZeros=n._digitRightCount):(n._digitLeftCount+=1,n._leftZeros+=1),this._addPlaceHolder(n);else if(o==_.__patternGroupingSeparator)if(n._decimalFound)n._scaleCount+=1;else{var r=e._getPreviousChar(),l=e._getNextChar();r!=_.__patternDigit&&r!=_.__patternZeroDigit||l!=_.__patternDigit&&l!=_.__patternZeroDigit?n._scaleCount+=1:(n._needGroup=!0,n._scaleCount=0)}else if(o==_.__patternDecimalSeparator)n._decimalFound||(n._decimalFound=!0,n._scaleCount>0&&(n._needGroup=!0),n._scaleCount=0);else if(o==_.__patternExponent)if(n._useExponentialNotation)this._addLiteralItem(i,n);else{if(/^[+-]?0+/.test(e._getRemainder())){if(0==n._digitLeftCount&&0==n._digitRightCount)return n._allInLiteral=!0,!1;var a=0;e._moveNext();var u=e._getCurrentChar();for(u!=_.__patternPlus&&u!=_.__patternMinus||(e._moveNext(),n._useSignForPositiveExponent=u==_.__patternPlus);e._getCurrentChar()==_.__patternZeroDigit;)e._moveNext(),a++;return n._minimumExponentDigits=a,n._useExponentialNotation=!0,n._exponentSymbol=i,this._addExponentItem(n,i),!0}this._addLiteralItem(i,n)}else if(o==_.__patternPercent){if(1!=n._multiplier&&n._multiplier!=_.__percentScale)throw new t.RuntimeError(t.ErrorCode.TooManyPercent);n._multiplier=_.__percentScale,this._addLiteralItem(this._provider._percent._symbol,n)}else if(o==_.__patternPerMille){if(1!=n._multiplier&&n._multiplier!=_.__perMilleScale)throw new t.RuntimeError(t.ErrorCode.TooManyPermill);n._multiplier=_.__perMilleScale,this._addLiteralItem(this._provider._permilleSymbol,n)}else this._addLiteralItem(i,n);return e._moveNext()},_.prototype._addLiteralItem=function(t,e){var n=e._decimalFound?1:0;e._formatInfo[n].push(new r(t))},_.prototype._addPlaceHolder=function(t){var e=t._decimalFound?1:0;t._formatInfo[e].push(new i(0))},_.prototype._addExponentItem=function(t,e){var n=t._decimalFound?1:0;t._formatInfo[n].push(new a(e))},_.__sectionSeparator=";",_.__quote="'",_.__patternDigit="#",_.__patternZeroDigit="0",_.__patternGroupingSeparator=",",_.__patternDecimalSeparator=".",_.__patternPerMille="‰",_.__perMilleScale=1e3,_.__patternPercent="%",_.__percentScale=100,_.__patternExponent="E",_.__patternPlus="+",_.__patternMinus="-",_}(t._BaseNumberFormat);t._CustomNumberFormat=e;var i=function(t){this._type=t};function o(t){return void 0!==t._literalChar}var r=function(t){function e(e){var n=t.call(this,1)||this;return n._literalChar=e,n}return n(e,t),e}(i);function l(t){return void 0!==t._exponentSymbol}var a=function(t){function e(e){var n=t.call(this,2)||this;return n._exponentSymbol=e,n}return n(e,t),e}(i),u=function(){this._decimalFound=!1,this._leftZeros=0,this._rightZeros=0,this._needGroup=!1,this._scaleCount=0,this._digitLeftCount=0,this._digitRightCount=0,this._minimumExponentDigits=0,this._useSignForPositiveExponent=!1,this._useExponentialNotation=!1,this._exponentSymbol=null,this._multiplier=1,this._allInLiteral=!1,this._prefix="",this._noFormatPattern=!1,this._formatInfo=[[],[]]},s=function(){function t(t){this.__source=t,this.__length=t.length,this.__current=null,this.__nextIndex=0,this._inQuote=!1}return t.prototype._getCurrentChar=function(){return this.__current},t.prototype._getNextChar=function(){return this.__nextIndex>=this.__length?null:this.__source[this.__nextIndex]},t.prototype._getPreviousChar=function(){return this.__nextIndex>1?this.__source[this.__nextIndex-2]:null},t.prototype._getRemainder=function(){return this.__source.substring(this.__nextIndex)},t.prototype._moveNext=function(){return this.__nextIndex>=this.__length?(this.__current=null,!1):(this.__current=this.__source[this.__nextIndex],this.__nextIndex++,!0)},t}()}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e._format=function(t,n,i){if(void 0===i&&(i=!1),isNaN(t))return"NaN";if(!isFinite(t))return t>0?"Infinity":"-Infinity";var o=e.__formatCache[n];return null==o&&(o=e._createNumberFormat(n),e.__formatCache[n]=o),null!=o?o._format(t,i):t.toString()},e._createNumberFormat=function(n,i){void 0===i&&(i=null);var o=n.match(e.__regStandardPattern);if(null!=o){var r=o[1],l=o[2],a=0==l.length?-1:parseInt(l,10);return new t._StandardNumberFormat(r,a,t._CultureInfo._currentCulture()._numberFormat)}return new t._CustomNumberFormat(n,t._CultureInfo._currentCulture()._numberFormat)},e.__regStandardPattern=/^([a-zA-Z])(\d{0,2})$/,e.__formatCache={},e}();t._NumberFormat=e}(t||(t={})),function(t){var e=function(e){function r(t,n,i){var o=e.call(this,i)||this;return o.__formatSpecifier=t,o.__formatPrecision=n,o}return n(r,e),r.prototype._format=function(e,n){if(!isFinite(e)||isNaN(e))throw new t.AssertError(t.ErrorCode.InvalidArgument);var i=this.__formatSpecifier.toUpperCase();if("C"==i)return this._getCurrencyString(e);if("D"==i)return this._getDecimalString(e);if("E"==i)return this._getExponentialString(e);if("F"==i)return this._getFixedPointString(e);if("G"==i)return this._getGeneralString(e);if("N"==i)return this._getNumberString(e,n);if("P"==i)return this._getPercentString(e,n);if("R"==i)return this._getRoundTripString(e);if("X"==i)return this._getHexadecimalString(e);throw new t.RuntimeError(t.ErrorCode.FormatInvalid)},r.prototype._getHexadecimalString=function(t){var e="X"==this.__formatSpecifier;return o._from(t)._toString(this.__formatPrecision,e)},r.prototype._getRoundTripString=function(t){var e=t.toString(),n=e.split("e");if(1==n.length)return e;var i="R"==this.__formatSpecifier?"E":"e",o=n[1],r=!1;return"-"==o[0]&&(r=!0,o=o.substr(1)),1==o.length&&(o="0"+o),o=(r?this._getNegativeSign():"")+o,n[0]+i+o},r.prototype._getPercentString=function(e,n){var o=this.__formatPrecision;-1==o&&(o=n?t._Utility._isInteger(e)?0:2:this._provider._percent._decimalDigits);var r=this._provider._percent._groupSizes,l=this._getNegativeSign(),a=i._from(e)._toPercent(o,r,l,this._getDecimalSeparator(),this._getGroupSeparator());return a[0]!=l?this._provider._percent._pattern[1].replace("n",a):this._provider._percent._pattern[0].replace("n",a.substr(1))},r.prototype._getNumberString=function(e,n){var o=this.__formatPrecision;-1==o&&(o=n?t._Utility._isInteger(e)?0:2:this._provider._decimalDigits);var r=this._provider._groupSizes,l=this._getNegativeSign(),a=i._from(e)._toGroup(o,r,l,this._getDecimalSeparator(),this._getGroupSeparator()),u=a[0]==l;return u&&(a=a.substr(1)),u?this._provider._negativePattern[1].replace("n",a):a},r.prototype._getGeneralString=function(t){var e=this.__formatPrecision;return-1!=e&&0!=e||(e=15),i._from(t)._toGeneral(e,this.__formatSpecifier,this._getPositiveSign(),this._getNegativeSign(),this._getDecimalSeparator())},r.prototype._getFixedPointString=function(t){var e=this.__formatPrecision;return-1==e&&(e=2),i._from(t)._toFixed(e,this._getNegativeSign(),this._getDecimalSeparator())},r.prototype._getExponentialString=function(t){var e=this.__formatPrecision;return-1==e&&(e=6),i._from(t)._toExponential(e,3,this.__formatSpecifier,this._getPositiveSign(),this._getNegativeSign(),this._getDecimalSeparator())},r.prototype._getDecimalString=function(t){var e=t<0,n=Math.floor(Math.abs(t)).toString(),i=this.__formatPrecision,o=n.length;return i>o&&(n="0".repeat(i-o)+n),e&&(n=this._getNegativeSign()+n),n},r.prototype._getCurrencyString=function(t){var e=this.__formatPrecision;-1==e&&(e=this._provider._currency._decimalDigits);var n=this._provider._currency._groupSizes,o=this._getNegativeSign(),r=i._from(t)._toGroup(e,n,o,this._getDecimalSeparator(),this._getGroupSeparator());return r[0]!=o?this._provider._currency._pattern[1].replace("n",r):this._provider._currency._pattern[0].replace("n",r.substring(1))},r}(t._BaseNumberFormat);t._StandardNumberFormat=e;var i=function(){function t(t,e,n){this.__isNegative=t,this.__place=e,this.__num=n.slice()}return t._from=function(e){var n=!1,i=0,o=[];(e<0||0==e&&1/e<0)&&(n=!0,e=-e);var r=e.toExponential(17);i=1;var l=r.split("e");i+=parseInt(l[1]),r=l[0];for(var a=0;a<r.length;++a)"."!=r[a]&&o.push(r.charCodeAt(a)-48);for(var u=o.length-1;u>=0&&0==o[u];)o.pop(),u--;for(;0!=o.length&&0==o[0];)o.shift(),i--;0==o.length&&(o.push(0),i=1);var s=new t(n,i,o);return s.__place=0,s._round(17),s.__place+=i,s},t.prototype._toExponential=function(t,e,n,i,o,r){var l=this._clone(),a=l.__place-1;l.__place=1,l._round(t),2==l.__place&&(l.__place=1,l.__num.pop(),a++);var u="";if(l.__isNegative&&(u+=o),u+=l.__num[0].toString(),0!=t){u+=r;for(var s=1;s<l.__num.length;++s)u+=l.__num[s].toString();l.__num.length<=t&&(u+="0".repeat(t-l.__num.length+1))}u+=a<0?n:n+i;var _=a.toString(),p=!1;return"-"==_[0]&&(p=!0,_=_.substr(1)),(u+=p?o:"")+(_.length>=e?_:"0".repeat(e-_.length)+_)},t.prototype._toGeneral=function(t,e,n,i,o){var r=this._clone();if(r.__place=0,r._round(t),r.__place+=this.__place,r._removeTrailingZero(),r._isZero())return r._zero(0,i,o);var l=r._toExponential(t,2,"E",n,i,o),a=parseFloat(l.split("E")[1]);if(a>-5&&a<t)return r._toString(i,o);for(var u=l.split("E"),s=u[0],_=s.length-1;_>=0&&("0"==s[_]||"."==s[_]);)s=s.substr(0,s.length-1),_--;return s+("G"==e?"E":"e")+u[1]},t.prototype._toPercent=function(t,e,n,i,o){var r=this._clone();return r._isZero()?r._zero(t,n,i):(r.__place+=2,r._round(t),r._isZero()?r._zero(t,n,i):r._toGroup(t,e,n,i,o))},t.prototype._toGroup=function(t,e,n,i,o){var r=this._toFixed(t,n,i).split(i),l=r[0],a=!1;l[0]==n&&(l=l.substr(1),a=!0);for(var u=[],s=0,_=e;s<_.length;s++){var p=_[s];if(!((c=l.length-p)>=0)){0!=l.length&&(u.unshift(l),l="");break}u.unshift(l.substr(c,p)),l=l.substr(0,c)}if(0!=l.length)for(p=e[e.length-1];0!=l.length;){var c;(c=l.length-p)<0&&(c=0),u.unshift(l.substr(c,p)),l=l.substr(0,c)}return 1==r.length?(a?n:"")+u.join(o):(a?n:"")+u.join(o)+i+r[1]},t.prototype._toFixed=function(t,e,n){var i=this._clone();if(i._round(t),i._isZero())return i._zero(t,e,n);var o=i.__isNegative?e:"";if(i.__place<=0){o+="0"+n+"0".repeat(-i.__place);for(var r=0;r<i.__num.length;++r)o+=i.__num[r].toString();return-i.__place+i.__num.length<t&&(o+="0".repeat(t+i.__place-i.__num.length)),o}if(i.__place<i.__num.length){for(r=0;r<i.__place;++r)o+=i.__num[r].toString();for(o+=n,r=i.__place;r<i.__num.length;++r)o+=i.__num[r].toString();return i.__num.length-i.__place<t&&(o+="0".repeat(t-(i.__num.length-i.__place))),o}for(r=0;r<i.__num.length;++r)o+=i.__num[r].toString();return o+="0".repeat(i.__place-i.__num.length),t>0&&(o+=n+"0".repeat(t)),o},t.prototype._toNumber=function(t){return void 0===t&&(t=15),parseFloat(this._toFixed(t,"-","."))},t.prototype._toString=function(t,e){var n=this.__isNegative?t:"";if(this.__place<=0)if(this._isZero())n+="0";else{n+="0"+e+"0".repeat(-this.__place);for(var i=0,o=this.__num;i<o.length;i++)n+=o[i]}else if(this.__place<this.__num.length){for(var r=0;r<this.__place;++r)n+=this.__num[r];for(n+=e,r=this.__place;r<this.__num.length;++r)n+=this.__num[r]}else{for(r=0;r<this.__num.length;++r)n+=this.__num[r];this.__place!=this.__num.length&&(n+="0".repeat(this.__place-this.__num.length))}return n},t.prototype._round=function(t){var e=this.__place+t;if(e<0)this.__num=[0],this.__place=1-t;else if(0==e)this.__num[e]>=5?(this.__num=[1],this.__place++):this.__num=[0];else if(e<this.__num.length){this.__num[e]>=5&&(this.__num[e-1]+=1),this.__num=this.__num.slice(0,e);for(var n=e-1;n>=0&&10==this.__num[n];--n)this.__num[n]=0,n-1>=0?this.__num[n-1]+=1:(this.__num.unshift(1),this.__place++)}},t.prototype._clone=function(){return new t(this.__isNegative,this.__place,this.__num)},t.prototype._removeTrailingZero=function(){for(var t=this.__num.length-1;t>=0&&0==this.__num[t];)this.__num.pop(),t--;0==this.__num.length&&(this.__num.push(0),this.__place=1)},t.prototype._isZero=function(){return 0==parseInt(this.__num.join(""))},t.prototype._zero=function(t,e,n){var i=this.__isNegative?e:"";return 0==t?i+"0":i+"0"+n+"0".repeat(t)},t}(),o=function(){function t(t){this.__digits=t.slice()}return t._from=function(e){var n=(e=Math.round(e))<0;n&&(e=-e);var i=[];if(0==e)i.push(e);else for(;0!=e;)i.unshift(e%16),e=Math.floor(e/16);if(n){for(var o=[],r=0;r<16;++r)o.push(15);r=i.length-1;for(var l=o.length-1;r>=0;--r)o[l]=o[l]-i[r],l-=1;o[o.length-1]+=1;for(var a=o.length-1;a>=0&&16==o[a];)o[a]=0,o[--a]+=1;return o.length=16,new t(o)}return new t(i)},t.prototype._toString=function(t,e){void 0===e&&(e=!1);for(var n="",i=0,o=this.__digits;i<o.length;i++){var r=o[i];n+=this._toChar(r)}return n.length<t&&(n="0".repeat(t-n.length)+n),e?n.toUpperCase():n},t.prototype._toChar=function(t){return t>=0&&t<=9?String.fromCharCode(48+t):String.fromCharCode(97+t-10)},t}()}(t||(t={})),function(t){var e=function(){function e(){}return e._format=function(e,n,i){if(void 0===i&&(i=!1),t._AnyTypeExtension._isString(e))return t._AnyTypeExtension._toString(e);if(t._AnyTypeExtension._isNumber(e)){var o=t._AnyTypeExtension._toNumber(e),r=t._NativeExtension._isNullOrEmptyString(n)?t._Utility._isInteger(o)?"n0":"n2":t._Utility._toNonNullString(n,"");return t._NumberFormat._format(o,r,i)}return t._AnyTypeExtension._isDate(e)?t._DateFormat._format(t._AnyTypeExtension._toDate(e),n):null!=e?e.toString():""},e._parseDate=function(e,n){return t._DateParser._dateParser._parse(e,n)},e}();t._Globalize=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(){}return e._deprecated=function(e,n){t._NativeExtension._ConsoleWarning('"'+e+'" has been deprecated; please use "'+n+'" instead.')},e}();t._Debug=e}(t||(t={})),function(t){t.deprecated=function(e,n){return function(i,o,r){var l=function(){n?t._NativeExtension._ConsoleWarning('The "'+e+'" has been deprecated; please use "'+n+'" instead.'):t._NativeExtension._ConsoleWarning('The "'+e+'" has been deprecated.')};if(null!=r){var a=r.value;null!=a&&(r.value=function(){return l(),a.apply(this,arguments)});var u=r.get;null!=u&&(r.get=function(){return l(),u.call(this)});var s=r.set;null!=s&&(r.set=function(){l(),s.apply(this,arguments)})}}}}(t||(t={})),function(t){t.JsonIgnoreAttribute=function(){return function(t,e,n){}}}(t||(t={})),function(t){var e=function(e){function o(n,o){for(var r=[],l=2;l<arguments.length;l++)r[l-2]=arguments[l];var a=e.call(this,t._NativeExtension._format.apply(t._NativeExtension,i([n+t.ExceptionLocalization._errorMessage(o)],r,!1)))||this;return a._errorCode=o,a}return n(o,e),o}(Error);t.BaseError=e}(t||(t={})),function(t){var e=function(e){function o(n){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return e.apply(this,i([t.ExceptionLocalization._errorMessage(t.ErrorCode.AssertPrompt),n],o,!1))||this}return n(o,e),o}(t.BaseError);t.AssertError=e}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.AssertPrompt=1]="AssertPrompt",t[t.OptionPrompt=2]="OptionPrompt",t[t.PluginPrompt=3]="PluginPrompt",t[t.RuntimePrompt=4]="RuntimePrompt",t[t.InvalidArgument=5]="InvalidArgument",t[t.LegalNumberValueRequired=6]="LegalNumberValueRequired",t[t.IntegerValueRequired=7]="IntegerValueRequired",t[t.LowerThanOrEqualToNumberValueRequired=8]="LowerThanOrEqualToNumberValueRequired",t[t.GreaterThanOrEqualToNumberValueRequired=9]="GreaterThanOrEqualToNumberValueRequired",t[t.Unknown=10]="Unknown",t[t.CoreBegin=2e3]="CoreBegin",t[t.CoreUnexpectedValue=2001]="CoreUnexpectedValue",t[t.NumberRequired=2002]="NumberRequired",t[t.BooleanRequired=2003]="BooleanRequired",t[t.StringRequired=2004]="StringRequired",t[t.DateRequired=2005]="DateRequired",t[t.UnexpectedValueType=2006]="UnexpectedValueType",t[t.ParsingXMLError=2007]="ParsingXMLError",t[t.FormatInvalid=2008]="FormatInvalid",t[t.TooManyPercent=2009]="TooManyPercent",t[t.TooManyPermill=2010]="TooManyPermill",t[t.MethodNotImplemented=2011]="MethodNotImplemented",t[t.InvalidRectangle=2012]="InvalidRectangle",t[t.InvalidRefParameter=2013]="InvalidRefParameter",t[t.MissingTemplatePart=2014]="MissingTemplatePart",t[t.CreateControlFailed=2015]="CreateControlFailed",t[t.FunctionExpected=2016]="FunctionExpected",t[t.CoordinateSystemTypeNotFound=2017]="CoordinateSystemTypeNotFound",t[t.OptionBegin=3e3]="OptionBegin",t[t.UnexpectedValue=3001]="UnexpectedValue",t[t.UnexpectedNullValue=3002]="UnexpectedNullValue",t[t.UnexpectedNaNValue=3003]="UnexpectedNaNValue",t[t.DuplicatedRowColumn=3004]="DuplicatedRowColumn",t[t.PositiveOrZeroExpected=3005]="PositiveOrZeroExpected",t[t.MaxLessThanMin=3006]="MaxLessThanMin",t[t.UnexpectedNegativeValue=3007]="UnexpectedNegativeValue",t[t.UnitIntervalExpected=3008]="UnitIntervalExpected",t[t.PositiveIntegerExpected=3009]="PositiveIntegerExpected",t[t.PositiveNumberExpected=3010]="PositiveNumberExpected",t[t.UnexpectedLogBaseValue=3011]="UnexpectedLogBaseValue",t[t.WrongLegendMerge=3012]="WrongLegendMerge",t[t.WrongGraphJson=3013]="WrongGraphJson",t[t.TextStyleRequired=3014]="TextStyleRequired",t[t.OverlayStyleRequired=3015]="OverlayStyleRequired",t[t.StyleRequired=3016]="StyleRequired",t[t.PathAnnotationRequired=3017]="PathAnnotationRequired",t[t.WrongGradientPosition=3018]="WrongGradientPosition",t[t.UnexpectedEmptyString=3019]="UnexpectedEmptyString",t[t.PluginBegin=4e3]="PluginBegin",t[t.PluginNullType=4001]="PluginNullType",t[t.PluginInvalidType=4002]="PluginInvalidType",t[t.PluginNull=4003]="PluginNull",t[t.PluginTypeExist=4004]="PluginTypeExist",t[t.PluginNullName=4005]="PluginNullName",t[t.AssertBegin=5e3]="AssertBegin",t[t.HslColorRequired=5001]="HslColorRequired",t[t.WrongDimensionMerge=5002]="WrongDimensionMerge",t[t.NoMatchedPlace=5003]="NoMatchedPlace",t[t.UnexpectedEmptyArray=5004]="UnexpectedEmptyArray",t[t.NotEqual=5005]="NotEqual",t[t.OperationIsNotPermitted=5006]="OperationIsNotPermitted",t[t.CyclicDataExisted=6001]="CyclicDataExisted"}(t.ErrorCode||(t.ErrorCode={}))}(t||(t={})),function(t){var e=function(){function e(){}return e._errorMessage=function(n){var i=e._errorMessages[t.ErrorCode[n]];return null!=i?i:"Unknown Error!"},e._errorMessages={None:"",AssertPrompt:"Assert Error: ",OptionPrompt:"Option Error: ",PluginPrompt:"Plugin Error: ",RuntimePrompt:"Runtime Error: ",InvalidArgument:"{0} is an invalid argument.",LegalNumberValueRequired:"{0} is an unexptectd value. A legal number value (not NaN) is required.",IntegerValueRequired:"{0} is an unexptectd value. A integer vaue is required.",LowerThanOrEqualToNumberValueRequired:"{0} is an unexptectd value. A number value lower than or equal to {1} is required .",GreaterThanOrEqualToNumberValueRequired:"{0} is an unexptectd value. A number value greater than or equal to {1} is required.",NumberRequired:"{0} is an unexptectd value. Number type is required.",BooleanRequired:"{0} is an unexptectd value. Boolean type is required.",StringRequired:"{0} is an unexptectd value. String type is required.",UnexpectedValueType:"Unexpected value type, the {0} type is required.",ParsingXMLError:"Error parsing XML string.",FormatInvalid:"{0} is invalid format value.",TooManyPercent:"Too many percent/permill",TooManyPermill:"Too many percent/permill",MethodNotImplemented:"Method not implemented.",InvalidRectangle:"Invalid source rectangle.",InvalidRefParameter:"Invalid ref parameter.",MissingTemplatePart:"Missing template part.",CreateControlFailed:"Create control failed.",FunctionExpected:"Function expected.",UnexpectedNullValue:"Unexpected null value.",UnexpectedNaNValue:"Unexpected NaN value.",UnexpectedValue:"{0} is an unexptectd value.",DuplicatedRowColumn:"Unexpected duplicated row and column value.",PositiveOrZeroExpected:"{0} is an unexpected value. A positive integer or zero was expected.",MaxLessThanMin:"The axis range max value {0} less than min value {1}!",UnexpectedNegativeValue:"{0} is an unexpected negative value.",UnitIntervalExpected:"{0} is an unexpected value. An unit interval value was expected.",PositiveIntegerExpected:"{0} is an unexpected value. A positive integer was expected.",PositiveNumberExpected:"{0} is an unexpected value. A positive number was expected.",UnexpectedLogBaseValue:"{0} is an unexpected negative value, 0 or 1.",WrongGraphJson:"{0} is an unexptectd value. A graph json is required.",StyleRequired:"{0} is an unexptectd value. A style option is required.",TextStyleRequired:"{0} is an unexptectd value. A TextStyle option is required.",OverlayStyleRequired:"{0} is an unexptectd value. An OverlayStyle option is required.",PathAnnotationRequired:"{0} is an unexptectd value. A string or array type is required.",UnexpectedEmptyArray:"The array is empty.",WrongLegendMerge:"Wrong Legend format.",WrongGradientPosition:"{0} is an unexpected vaue. Other direction keyword is required.",UnexpectedEmptyString:"Unexpected empty string.",PluginNullType:"Unexpected null type.",PluginInvalidType:"Unexpected plugin type.",PluginNull:"Unexpected plugin null.",PluginTypeExist:"Plugin type is exist.",PluginNullName:"Unexpected null plugin name.",OptionGraphViewport:"{0} is an unexptectd value. A viewport value (like [left, top, width, height]) is required.",NoMatchedPlace:"{0} is not equal {1}, no matched place holder pairs",NotEqual:"{0} is not equal {1}",HslColorRequired:"hsl({0}, {1}, {2}) is unexpected, HSL Color is required",OperationIsNotPermitted:"The operation {0} is not permitted.",CyclicDataExisted:"Sankey is a DAG, the original data has cycle."},e}();t.ExceptionLocalization=e}(t||(t={})),function(t){var e=function(e){function o(n){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return e.apply(this,i([t.ExceptionLocalization._errorMessage(t.ErrorCode.RuntimePrompt),n],o,!1))||this}return n(o,e),o}(t.BaseError);t.RuntimeError=e}(t||(t={})),function(t){var e=function(){function e(){}return e._isBoolean=function(t){return"boolean"==typeof t},e._isDate=function(t){return t instanceof Date&&!isNaN(t.valueOf())},e._isNumber=function(t){return"number"==typeof t},e._isString=function(t){return"string"==typeof t},e._toNumber=function(n){if(null==n)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);if(!e._isNumber(n))throw new t.RuntimeError(t.ErrorCode.NumberRequired,n);return n},e._toString=function(n){if(null==n)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);if(!e._isString(n))throw new t.RuntimeError(t.ErrorCode.StringRequired,n);return n},e._toDate=function(n){if(null==n)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);if(!e._isDate(n))throw new t.RuntimeError(t.ErrorCode.DateRequired,n);return n},e._toEnumValueOrNull=function(t,e){if("string"==typeof t){var n=e[t];if(null!=n)return n}else if("number"==typeof t&&null!=e[t])return t;return null},e._and=function(t,e){return!!t&&!!e},e._or=function(t,e){return!!t||!!e},e._equal=function(t,e){return t instanceof Date&&e instanceof Date?t.valueOf()==e.valueOf():t==e},e._notEqual=function(t,e){return!this._equal(t,e)},e._greaterThan=function(t,e){return t>e},e._greaterThanOrEqual=function(t,e){return t>=e},e._lessThan=function(t,e){return t<e},e._lessThanOrEqual=function(t,e){return t<=e},e._add=function(t,e){return t+e},e._subtract=function(t,e){return t-e},e._multiply=function(t,e){return t*e},e._divide=function(t,e){return t/e},e._modulo=function(t,e){return t%e},e._not=function(t){return!t},e._negative=function(t){return-t},e._positive=function(t){return+t},e}();t._AnyTypeExtension=e}(t||(t={})),function(t){var e=function(){function t(){}return t._isMacOS=function(){var t=navigator.platform;return null!=t&&t.indexOf("Mac")>-1},t._isNullOrEmptyString=function(t){return null==t||t.length<=0},t._isNullOrWhiteSpace=function(t){return null==t||t.trim().length<=0},t._parseDateByPlatform=function(t){if(null==t)return null;var e=Date.parse(t);return isNaN(e)?null:e},t._enumValueToString=function(t,e){return e[t]},t._enumValueToEnum=function(t,e){return null!=e[t]?t:null},t._equalWithEnum=function(t,e){return t==e},t._findIndex=function(t,e){if(null!=t)for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},t._toNonNullBoolean=function(t,e){return null==t?e:t},t._toNonNullNumber=function(t,e){return null==t?e:t},t._toNonNullEnum=function(t,e){return null==t?e:t},t.properties=function(t,e){if(!e)return Object.getOwnPropertyNames(t);var n=[];for(var i in t)n.push(i);return n},t.hasProperty=function(t,e,n){return n?e in t:t.hasOwnProperty(e)},t.getPropertyValue=function(t,e){return t[e]},t.setPropertyValue=function(t,e,n){t[e]=n},t._ConsoleWarning=function(t){console.warn("WARNING: "+t)},t._format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(e.length<=0)return t;var i=e.map((function(t){return null===t?"null":void 0===t?"undefined":"function"==typeof t?"function":"symbol"==typeof t||"bigint"==typeof t||"number"==typeof t?t.toString():"string"==typeof t?'"'+t+'"':"boolean"==typeof t?t?"true":"false":t instanceof Date?t.toString():JSON.stringify(t)}));return t.replace(/{(\d+)}/g,(function(t,e){return void 0!==i[e]?i[e]:t}))},t.Undefined=void 0,t}();t._NativeExtension=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isDisposable=function(t){return null!=t&&"function"==typeof t.dispose}}(t||(t={})),t||(t={}),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isQueryInterface=function(t){return null!=t.queryInterface}}(t||(t={})),function(t){var e=function(){function t(){this.__entry={},this.__keys={},this.__size=0}return t.prototype._hashCode=function(t){return null==t?"null":t instanceof Date?"Date"+t.valueOf().toString():typeof t+t.toString()},t.prototype._get=function(t){return this.__entry[this._hashCode(t)]},t.prototype._set=function(t,e){var n=this._hashCode(t);null!=n&&void 0===this.__keys[n]&&this.__size++,this.__entry[n]=e,this.__keys[n]=t},t.prototype._has=function(t){return null!=this.__keys[this._hashCode(t)]},t.prototype._clear=function(){this.__entry={},this.__keys={},this.__size=0},Object.defineProperty(t.prototype,"_size",{get:function(){return this.__size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_keys",{get:function(){for(var t=[],e=0,n=Object.keys(this.__keys);e<n.length;e++){var i=n[e];t.push(this.__keys[i])}return t},enumerable:!1,configurable:!0}),t}();t._Map=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(){}return e._isBoolean=function(t){return"boolean"==typeof t},e._isNumber=function(t){return"number"==typeof t},e._isString=function(t){return"string"==typeof t},e._isDate=function(t){return t instanceof Date},e._isObject=function(t){return"[object Object]"==Object.prototype.toString.call(t)},e._isArray=function(t){return Array.isArray(t)},e._isNull=function(t){return null==t},e._isEmpty=function(t){return null!=t&&0==Object.getOwnPropertyNames(t).length},e._getAsDouble=function(n){if(!e._isNumber(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n},e._getAsInt=function(n){if(!e._isNumber(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return parseInt(n)},e._getAsString=function(n){if(!e._isString(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n},e._getAsBoolean=function(n){if(!e._isBoolean(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n},e._getAsDate=function(n){if(!e._isDate(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n},e._getAsArray=function(n){if(!e._isArray(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n},e._getLength=function(n){if(!e._isArray(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n.length},e._getAt=function(n,i){if(!e._isArray(n))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n[i]},e._getProperty=function(n,i){if(!e._hasProperty(n,i))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);return n[i]},e._hasProperty=function(t,n){return!!e._isObject(t)&&t.hasOwnProperty(n)},e._enumerateArray=function(n,i){if(!e._isArray(n)||null==i)throw new t.RuntimeError(t.ErrorCode.InvalidArgument);for(var o=0;o<n.length;o++)i(n[o],o)},e}();t._JsonElementUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.deserialize=function(n,i,o){if(void 0===o&&(o=null),null==n||null==i)return n;for(var r in null==o&&(o=new t.JsonSerializerSettings),i)if(r in n){var l=e._getPropertyDescriptor(n,r);null!=l&&null!=l.set&&l.set.call(n,i[r],o)}return n},e._getPropertyDescriptor=function(t,e){for(var n=Object.getPrototypeOf(t),i=Object.getOwnPropertyDescriptor(n,e);null==i&&null!=(n=Object.getPrototypeOf(n))&&n!=Object.prototype;)i=Object.getOwnPropertyDescriptor(n,e);return i},e.serialize=function(t){throw new Error("Method not implemented.")},e}();t.JsonSerializer=e}(t||(t={})),function(t){var e=function(){this.strictMode=null};t.JsonSerializerSettings=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(){}return e._toNumberOrNull=function(e){return null==e?null:t._AnyTypeExtension._toNumber(e)},e._toStringOrNull=function(e){return null==e?null:t._AnyTypeExtension._toString(e)},e._toDateOrNull=function(e){return null==e?null:t._AnyTypeExtension._toDate(e)},e}();t._AnyTypeUtility=e}(t||(t={})),function(t){var e=function(){function t(){}return t.isIE=function(){return window.navigator.userAgent.indexOf("MSIE ")>0||window.navigator.userAgent.indexOf("Trident/")>0||"Microsoft Internet Explorer"==navigator.appName},t.isEdge=function(){return"Netscape"==navigator.appName&&navigator.appVersion.indexOf("Edge")>-1},t.isFireFox=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},t.isSafari=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},t}();t._BrowserUtility=e}(t||(t={})),function(t){var e=function(){function t(){}return t._addDays=function(t,e){var n=new Date(t.getTime());return n.setDate(n.getDate()+e),n},t._addMonths=function(t,e){var n=new Date(t.getTime());return n.setMonth(n.getMonth()+e),n},t._addYears=function(t,e){var n=new Date(t.getTime());return n.setFullYear(n.getFullYear()+e),n},t._addHours=function(t,e){var n=new Date(t.getTime());return n.setHours(n.getHours()+e),n},t._addMinutes=function(t,e){var n=new Date(t.getTime());return n.setMinutes(n.getMinutes()+e),n},t._addSeconds=function(t,e){var n=new Date(t.getTime());return n.setSeconds(n.getSeconds()+e),n},t._isMonthLastDay=function(t){var e=new Date(t.getTime());return e.setDate(e.getDate()+1),e.getMonth()!=t.getMonth()},t}();t._DateUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.DefaultFontFamily=function(){return t._NativeExtension._isMacOS()?"Helvetica Neue, Arial, sans-serif":"Helvetica"},e}();t._SystemUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._toFixed=function(t,e,n){if(n){var i=(o=t.toString()).indexOf(".");i>-1&&(o=o.substr(0,i+1+e),t=parseFloat(o))}else{var o=t.toFixed(e);t=parseFloat(o)}return t},e._isInteger=function(t){return t%1==0},e._toNonNullString=function(t,e){return null==t?e:t},e._isStringColorTransparent=function(t){if(null==t)return!0;var n=e._toNonNullString(t,"");return""==n||"#00000000"==n||"transparent"==n.toLowerCase()||"none"==n.toLowerCase()||"rgba(0,0,0,0)"==n.toLowerCase()},e.min=function(t){for(var e=t.length,n=1/0,i=0;i<e;i++)t[i]<n&&(n=t[i]);return n},e.max=function(t){for(var e=t.length,n=-1/0,i=0;i<e;i++)t[i]>n&&(n=t[i]);return n},e.clamp=function(t,e,n){return null!=t&&(null!=n&&t>n&&(t=n),null!=e&&t<e&&(t=e)),t},e._assignValueToArray=function(e,n,i,o){var r=e.length;if(n<0)throw new t.RuntimeError(t.ErrorCode.UnexpectedNegativeValue,n);if(n>=r){for(var l=r;l<n;l++)e.push(o);e.push(i)}else e[n]=i},e._PI2=2*Math.PI,e}();t._Utility=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e._colorEqualityComparer=new e,e}(t._ObjectEqualityComparer);t._ColorEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(e){this.type=t.models.ColorType.CssColor,this.color=null!=e?e:"none"}return e._none=function(){return null==this.__none&&(this.__none=new e("none")),this.__none},e._defaultStyleColor=function(){return null==this.__defaultStyleColor&&(this.__defaultStyleColor=new e("#666666")),this.__defaultStyleColor},e._defaultBarLineStroke=function(){return null==this.__defaultBarLineStroke&&(this.__defaultBarLineStroke=new e("#000000")),this.__defaultBarLineStroke},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.color===t.color)},e}();t._CssColor=e}(t||(t={})),function(t){var e=function(){function t(t,e){this.color=t,this.stop=e}return t.prototype.equalsWith=function(t){return null!=t&&(this==t||this.color===t.color&&this.stop===t.stop)},t}();t._ColorStop=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._colorStopEqualityComparer=new i,i._colorStopArrayEqualityComparer=new t._ArrayEqualityComparer(i._colorStopEqualityComparer),i}(t._ObjectEqualityComparer);t._ColorStopEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e._calcColorStopWithRadius=function(e,n,i){for(var o=0!=i?n/i:0,r=[],l=0,a=e;l<a.length;l++){var u=a[l];r.push(new t._ColorStop(u.color,o+u.stop*(1-o)))}return r},e}();t._ColorStopUtility=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.degree=e,this.type=t.models.ColorType.LinearGradient;var i=n.length;if(!(i>0))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n);for(var o=n[0].stop,r=1;r<i;r++){var l=n[r].stop;if(o>l)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n);o=l}this.colorStops=n}return e.prototype.equalsWith=function(n){return null!=n&&(this==n||n instanceof e&&this.degree===n.degree&&t._ColorStopEqualityComparer._colorStopArrayEqualityComparer._equalsWith(this.colorStops,n.colorStops))},e}();t._LinearGradientColor=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r){if(this.type=t.models.ColorType.RadialGradient,this.center=e,this.radius=n,this.focus=i,this.focusRadius=o,this.colorStops=r,0==n&&0==o&&!t._Utility._isStringColorTransparent(r[r.length-1].color)){var l=new t._ColorStop("transparent",1);this.colorStops.push(l)}}return e.prototype.equalsWith=function(n){return null!=n&&(this==n||n instanceof e&&this.center.equalsWith(n.center)&&this.focus.equalsWith(n.focus)&&this.radius===n.radius&&this.focusRadius===n.focusRadius&&t._ColorStopEqualityComparer._colorStopArrayEqualityComparer._equalsWith(this.colorStops,n.colorStops))},e}();t._RadialGradientColor=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCssColor=function(e){var n=e;return null!=n&&n.type===t.ColorType.CssColor&&null!=n.color}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isLinearGradientColor=function(e){var n=e;return n.type===t.ColorType.LinearGradient&&null!=n.equalsWith&&null!=n.degree&&null!=n.colorStops}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isPathWithStyle=function(t){var e=t;return null!=e.equalsWith&&null!=e.style&&null!=e.content}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isPatternColor=function(e){var n=e;return n.type===t.ColorType.Pattern&&null!=n.equalsWith&&null!=n.backgroundColor&&null!=n.pattern}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isRadialGradientColor=function(e){var n=e;return n.type===t.ColorType.RadialGradient&&null!=n.equalsWith&&null!=n.center&&null!=n.radius&&null!=n.focus&&null!=n.focusRadius&&null!=n.colorStops}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(){this.pattern={},this._defaultPatterns()}return t.prototype._defaultPatterns=function(){this.pattern["Dotted-5%"]=["M 6 6 L 8 6 L 8 8 L 6 8 Z","M 14 14 L 16 14 L 16 16 L 14 16 Z"],this.pattern["Dotted-10%"]=["M 6 2 L 8 2 L 8 4 L 6 4 Z","M 14 6 L 16 6 L 16 8 L 14 8 Z","M 6 10 L 8 10 L 8 12 L 6 12 Z","M 14 14 L 16 14 L 16 16 L 14 16 Z"],this.pattern["Dotted-20%"]=["M 1 1 L 2 1 L 2 2 L 1 2 Z","M 5 1 L 6 1 L 6 2 L 5 2 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 7 3 L 8 3 L 8 4 L 7 4 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z"],this.pattern["Dotted-25%"]=["M 1 0 L 2 0 L 2 1 L 1 1 Z","M 3 1 L 4 1 L 4 2 L 3 2 Z","M 1 2 L 2 2 L 2 3 L 1 3 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z"],this.pattern["Dotted-30%"]=["M 0 0 L 1 0 L 1 1 L 0 1 Z","M 2 0 L 3 0 L 3 1 L 2 1 Z","M 4 0 L 5 0 L 5 1 L 4 1 Z","M 6 0 L 7 0 L 7 1 L 6 1 Z","M 1 1 L 2 1 L 2 2 L 1 2 Z","M 5 1 L 6 1 L 6 2 L 5 2 Z","M 0 2 L 1 2 L 1 3 L 0 3 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 4 2 L 5 2 L 5 3 L 4 3 Z","M 6 2 L 7 2 L 7 3 L 6 3 Z","M 0 4 L 1 4 L 1 5 L 0 5 Z","M 2 4 L 3 4 L 3 5 L 2 5 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 6 4 L 7 4 L 7 5 L 6 5 Z","M 0 6 L 1 6 L 1 7 L 0 7 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 4 6 L 5 6 L 5 7 L 4 7 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 7 3 L 8 3 L 8 4 L 7 4 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z"],this.pattern["Dotted-40%"]=["M 0 0 L 1 0 L 1 1 L 0 1 Z","M 1 1 L 2 1 L 2 2 L 1 2 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 2 0 L 3 0 L 3 1 L 2 1 Z","M 3 1 L 4 1 L 4 2 L 3 2 Z","M 4 2 L 5 2 L 5 3 L 4 3 Z","M 5 3 L 6 3 L 6 4 L 5 4 Z","M 6 4 L 7 4 L 7 5 L 6 5 Z","M 7 5 L 8 5 L 8 6 L 7 6 Z","M 4 0 L 5 0 L 5 1 L 4 1 Z","M 5 1 L 6 1 L 6 2 L 5 2 Z","M 6 2 L 7 2 L 7 3 L 6 3 Z","M 7 3 L 8 3 L 8 4 L 7 4 Z","M 6 0 L 7 0 L 7 1 L 6 1 Z","M 0 2 L 1 2 L 1 3 L 0 3 Z","M 1 3 L 2 3 L 2 4 L 1 4 Z","M 2 4 L 3 4 L 3 5 L 2 5 Z","M 4 6 L 5 6 L 5 7 L 4 7 Z","M 5 7 L 6 7 L 6 8 L 5 8 Z","M 0 4 L 1 4 L 1 5 L 0 5 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 0 6 L 1 6 L 1 7 L 0 7 Z","M 1 7 L 2 7 L 2 8 L 1 8 Z"],this.pattern["Dotted-50%"]=["M 1 0 L 2 0 L 2 1 L 1 1 Z","M 3 0 L 4 0 L 4 1 L 3 1 Z","M 5 0 L 6 0 L 6 1 L 5 1 Z","M 7 0 L 8 0 L 8 1 L 7 1 Z","M 1 2 L 2 2 L 2 3 L 1 3 Z","M 3 2 L 4 2 L 4 3 L 3 3 Z","M 5 2 L 6 2 L 6 3 L 5 3 Z","M 7 2 L 8 2 L 8 3 L 7 3 Z","M 1 4 L 2 4 L 2 5 L 1 5 Z","M 3 4 L 4 4 L 4 5 L 3 5 Z","M 5 4 L 6 4 L 6 5 L 5 5 Z","M 7 4 L 8 4 L 8 5 L 7 5 Z","M 1 6 L 2 6 L 2 7 L 1 7 Z","M 3 6 L 4 6 L 4 7 L 3 7 Z","M 5 6 L 6 6 L 6 7 L 5 7 Z","M 7 6 L 8 6 L 8 7 L 7 7 Z","M 0 1 L 1 1 L 1 2 L 0 2 Z","M 2 1 L 3 1 L 3 2 L 2 2 Z","M 4 1 L 5 1 L 5 2 L 4 2 Z","M 6 1 L 7 1 L 7 2 L 6 2 Z","M 0 3 L 1 3 L 1 4 L 0 4 Z","M 2 3 L 3 3 L 3 4 L 2 4 Z","M 4 3 L 5 3 L 5 4 L 4 4 Z","M 6 3 L 7 3 L 7 4 L 6 4 Z","M 0 5 L 1 5 L 1 6 L 0 6 Z","M 2 5 L 3 5 L 3 6 L 2 6 Z","M 4 5 L 5 5 L 5 6 L 4 6 Z","M 6 5 L 7 5 L 7 6 L 6 6 Z","M 0 7 L 1 7 L 1 8 L 0 8 Z","M 2 7 L 3 7 L 3 8 L 2 8 Z","M 4 7 L 5 7 L 5 8 L 4 8 Z","M 6 7 L 7 7 L 7 8 L 6 8 Z"],this.pattern["Dotted-60%"]=["M 3 0 L 4 0 L 4 1 L 3 1 Z","M 0 3 L 1 3 L 1 4 L 0 4 Z","M 3 2 L 4 2 L 4 4 L 2 4 L 2 3 L 3 3 Z","M 1 0 L 2 0 L 2 1 L 3 1 L 3 2 L 2 2 L 2 3 L 1 3 L 1 2 L 0 2 L 0 1 L 1 1 Z"],this.pattern["Dotted-70%"]=["M 0 0 L 3 0 L 3 1 L 4 1 L 4 2 L 2 2 L 2 1 L 1 1 L 1 2 L 0 2 Z","M 0 2 L 3 2 L 3 3 L 4 3 L 4 4 L 2 4 L 2 3 L 1 3 1 4 L 0 4 Z"],this.pattern["Dotted-75%"]=["M 1 0 L 4 0 L 4 2 L 0 2 L 0 1 L 1 1 Z","M 0 2 L 2 2 L 2 3 L 3 3 L 3 2 L 4 2 L 4 4 L 0 4 Z"],this.pattern["Dotted-80%"]=["M 1 0 L 4 0 L 4 8 L 0 8 L 0 5 L 1 5 L 1 4 L 0 4 L 0 1 L 1 1 Z","M 4 0 L 4 2 L 5 2 L 5 3 L 4 3 L 4 6 L 5 6 L 5 7 L 4 7 L 4 8 L 8 8 L 8 0 Z"],this.pattern["Dotted-90%"]=["M 1 0 L 4 0 L 4 8 L 0 8 L 0 1 L 1 1 Z","M 4 0 L 4 4 L 5 4 L 5 5 L 4 5 L 4 8 L 8 8 L 8 0 Z"],this.pattern["DiagonalStripes-LightDownward"]=["M 0 0 L 1 0 L 1 1 L 0 1 Z","M 1 1 L 2 1 L 2 2 L 1 2 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z"],this.pattern["DiagonalStripes-LightUpward"]=["M 3 0 L 4 0 L 4 1 L 3 1 Z","M 2 1 L 3 1 L 3 2 L 2 2 Z","M 1 2 L 2 2 L 2 3 L 1 3 Z","M 0 3 L 1 3 L 1 4 L 0 4 Z"],this.pattern["DiagonalStripes-DarkDownward"]=["M 0 0 L 2 0 L 2 1 L 3 1 L 3 2 L 4 2 L 4 4 L 3 4 L 3 3 L 2 3 L 2 2 L 1 2 L 1 1 L 0 1 Z","M 0 3 L 1 3 L 1 4 L 0 4 Z"],this.pattern["DiagonalStripes-DarkUpward"]=["M 4 0 L 2 0 L 2 1 L 1 1 L 1 2 L 0 2 L 0 4 L 1 4 L 1 3 L 2 3 L 2 2 L 3 2 L 3 1 L 4 1 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z"],this.pattern["DiagonalStripes-WideDownward"]=["M 0 0 L 3 0 L 3 1 L 4 1 L 4 2 L 5 2 L 5 3 L 6 3 L 6 4 L 7 4 L 7 5 L 8 5 L 8 8 L 7 8 L 7 7 L 6 7 L 6 6 L 5 6 L 5 5 L 4 5 L 4 4 L 3 4 L 3 3 L 2 3 L 2 2 L 1 2 L 1 1 L 0 1 Z","M 0 6 L 1 6 L 1 7 L 2 7 L 2 8 L 0 8 Z"],this.pattern["DiagonalStripes-WideUpward"]=["M 8 0 L 5 0 L 5 1 L 4 1 L 4 2 L 3 2 L 3 3 L 2 3 L 2 4 L 1 4 L 1 5 L 0 5 L 0 8 L 1 8 L 1 7 L 2 7 L 2 6 L 3 6 L 3 5 L 4 5 L 4 4 L 5 4 L 5 3 L 6 3 L 6 2 L 7 2 L 7 1 L 8 1 Z","M 7 6 L 8 6 L 8 8 L 6 8 L 6 7 L 7 7 Z"],this.pattern["VerticalStripes-Light"]=["M 3 0 L 4 0 L 4 16 L 3 16 Z","M 7 0 L 8 0 L 8 16 L 7 16 Z","M 11 0 L 12 0 L 12 16 L 11 16 Z","M 15 0 L 16 0 L 16 16 L 15 16 Z"],this.pattern["HorizontalStripes-Light"]=["M 0 3 L 4 3 L 4 4 L 0 4"],this.pattern["VerticalStripes-Narrow"]=["M 1 0 L 2 0 L 2 4 L 1 4 Z","M 3 0 L 4 0 L 4 4 L 3 4 Z"],this.pattern["HorizontalStripes-Narrow"]=["M 0 1 L 4 1 L 4 2 L 0 2 Z","M 0 3 L 4 3 L 4 4 L 0 4 Z"],this.pattern["VerticalStripes-Dark"]=["M 2 0 L 4 0 L 4 4 L 2 4 Z"],this.pattern["HorizontalStripes-Dark"]=["M 0 2 L 4 2 L 4 4 L 0 4 Z"],this.pattern["VerticalStripes-AlternatingVerticalLines"]=["M 3 0 L 4 0 L 4 4 L 3 4 Z","M 7 4 L 8 4 L 8 8 L 7 8 Z"],this.pattern["HorizontalStripes-AlternatingHorizontalLines"]=["M 0 3 L 4 3 L 4 4 L 0 4 Z","M 4 7 L 8 7 L 8 8 L 4 8 Z"],this.pattern["Stripes-Backslashes"]=["M 0 4 L 1 4 L 1 5 L 0 5 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z"],this.pattern["Stripes-Slashes"]=["M 0 7 L 1 7 L 1 8 L 0 8 Z","M 1 6 L 2 6 L 2 7 L 1 7 Z","M 2 5 L 3 5 L 3 6 L 2 6 Z","M 3 4 L 4 4 L 4 5 L 3 5 Z","M 4 7 L 5 7 L 5 8 L 4 8 Z","M 5 6 L 6 6 L 6 7 L 5 7 Z","M 6 5 L 7 5 L 7 6 L 6 6 Z","M 7 4 L 8 4 L 8 5 L 7 5 Z"],this.pattern.SmallConfetti=["M 2 0 L 3 0 L 3 1 L 2 1 Z","M 3 2 L 4 2 L 4 3 L 3 3 Z","M 6 1 L 7 1 L 7 2 L 6 2 Z","M 0 3 L 1 3 L 1 4 L 0 4 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 4 6 L 5 6 L 5 7 L 4 7 Z","M 5 4 L 6 4 L 6 5 L 5 5 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z"],this.pattern.LargeConfetti=["M 0 0 L 2 0 L 2 2 L 0 2 Z","M 2 2 L 4 2 L 4 4 L 2 4 Z","M 5 1 L 7 1 L 7 3 L 5 3 Z","M 1 5 L 3 5 L 3 7 L 1 7 Z","M 4 6 L 6 6 L 6 8 L 4 8 Z","M 6 4 L 8 4 L 8 6 L 6 6 Z"],this.pattern.ZigZag=["M 0 2 L 1 2 L 1 3 L 0 3 Z","M 1 1 L 2 1 L 2 2 L 1 2 Z","M 4 1 L 5 1 L 5 2 L 4 2 Z","M 5 2 L 6 2 L 6 3 L 5 3 Z","M 2 0 L 4 0 L 4 1 L 2 1 Z","M 6 3 L 8 3 L 8 4 L 6 4 Z","M 0 6 L 1 6 L 1 7 L 0 7 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 4 5 L 5 5 L 5 6 L 4 6 Z","M 5 6 L 6 6 L 6 7 L 5 7 Z","M 2 4 L 4 4 L 4 5 L 2 5 Z","M 6 7 L 8 7 L 8 8 L 6 8 Z"],this.pattern.Wave=["M 5 1 L 7 1 L 7 2 L 5 2 Z","M 2 3 L 4 3 L 4 4 L 2 4 Z","M 2 7 L 4 7 L 4 8 L 2 8 Z","M 5 5 L 7 5 L 7 6 L 5 6 Z","M 1 2 L 2 2 L 2 3 L 1 3 Z","M 4 2 L 5 2 L 5 3 L 4 3 Z","M 7 2 L 8 2 L 8 3 L 7 3 Z","M 1 6 L 2 6 L 2 7 L 1 7 Z","M 4 6 L 5 6 L 5 7 L 4 7 Z","M 7 6 L 8 6 L 8 7 L 7 7 Z"],this.pattern.HorizontalBrick=["M 6 0 L 6 3 L 0 3 L 0 4 L 2 4 L 2 7 L 0 7 L 0 8 L 8 8 L 8 7 L 3 7 L 3 4 L 8 4 L 8 3 L 7 3 L 7 0 Z"],this.pattern.DiagonalBrick=["M 7 0 L 8 0 L 8 1 L 7 1 Z","M 6 1 L 7 1 L 7 2 L 6 2 Z","M 3 4 L 4 4 L 4 5 L 3 5 Z","M 2 5 L 3 5 L 3 6 L 2 6 Z","M 6 4 L 7 4 L 7 5 L 6 5 Z","M 7 5 L 8 5 L 8 6 L 7 6 Z","M 5 2 L 6 2 L 6 4 L 4 4 L 4 3 L 5 3 Z","M 0 6 L 2 6 L 2 7 L 1 7 L 1 8 L 0 8 Z"],this.pattern.Weave=["M 0 0 L 1 0 L 1 1 L 0 1 Z","M 4 0 L 5 0 L 5 1 L 4 1 Z","M 3 1 L 4 1 L 4 2 L 3 2 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 1 3 L 2 3 L 2 4 L 1 4 Z","M 0 4 L 1 4 L 1 5 L 0 5 Z","M 5 1 L 6 1 L 6 2 L 5 2 Z","M 6 2 L 7 2 L 7 3 L 6 3 Z","M 7 3 L 8 3 L 8 4 L 7 4 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 5 7 L 6 7 L 6 8 L 5 8 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 3 5 L 4 5 L 4 6 L 3 6 Z","M 1 7 L 2 7 L 2 8 L 1 8 Z"],this.pattern.Plaid=["M 0 0 L 4 0 L 4 4 L 0 4 Z","M 0 4 L 1 4 L 1 5 L 0 5 Z","M 2 4 L 3 4 L 3 5 L 2 5 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 6 4 L 7 4 L 7 5 L 6 5 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 3 5 L 4 5 L 4 6 L 3 6 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 7 5 L 8 5 L 8 6 L 7 6 Z","M 0 6 L 1 6 L 1 7 L 0 7 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 4 6 L 5 6 L 5 7 L 4 7 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 1 7 L 2 7 L 2 8 L 1 8 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 5 7 L 6 7 L 6 8 L 5 8 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z"],this.pattern.Divot=["M 3 1 L 4 1 L 4 2 L 3 2 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 6 5 L 7 5 L 7 6 L 6 6 Z","M 7 6 L 8 6 L 8 7 L 7 7 Z","M 6 7 L 7 7 L 7 8 L 6 8 Z"],this.pattern.DottedGrid=["M 7 1 L 8 1 L 8 2 L 7 2 Z","M 7 3 L 8 3 L 8 4 L 7 4 Z","M 7 5 L 8 5 L 8 6 L 7 6 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 1 7 L 2 7 L 2 8 L 1 8 Z","M 3 7 L 4 7 L 4 8 L 3 8 Z","M 5 7 L 6 7 L 6 8 L 5 8 Z"],this.pattern.DottedDiamondGrid=["M 1 1 L 2 1 L 2 2 L 1 2 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 5 1 L 6 1 L 6 2 L 5 2 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z"],this.pattern.Shingle=["M 2 1 L 3 1 L 3 2 L 2 2 Z","M 4 5 L 5 5 L 5 6 L 4 6 Z","M 5 6 L 6 6 L 6 7 L 5 7 Z","M 1 5 L 2 5 L 2 6 L 1 6 Z","M 0 6 L 1 6 L 1 7 L 0 7 Z","M 0 0 L 2 0 L 2 1 L 0 1 Z","M 6 7 L 8 7 L 8 8 L 6 8 Z","M 3 2 L 4 2 L 4 5 L 2 5 L 2 4 L 3 4 Z"],this.pattern.Trellis=["M 0 0 L 4 0 L 4 3 L 2 3 L 2 4 L 0 4 L 0 2 L 2 2 L 2 1 L 0 1 Z"],this.pattern.Sphere=["M 1 0 L 4 0 L 4 1 L 5 1 L 5 4 L 4 4 L 4 5 L 1 5 L 1 4 L 0 4 L 0 1 L 1 1 L 1 2 L 3 2 L 3 1 L 1 1 Z","M 0 5 L 1 5 L 1 8 L 0 8 Z","M 5 0 L 5 1 L 8 1 L 8 0 Z","M 5 4 L 8 4 L 8 8 L 4 8 L 4 5 L 5 5 L 5 6 L 7 6 L 7 5 L 5 5 Z"],this.pattern.SmallGrid=["M 0 0 L 4 0 L 4 1 L 1 1 L 1 4 L 0 4 Z"],this.pattern.LargeGrid=["M 0 0 L 8 0 L 8 1 L 1 1 L 1 8 L 0 8 Z"],this.pattern.SmallCheckerBoard=["M 0 0 L 0 2 L 2 2 L 2 0 Z","M 2 2 L 2 4 L 4 4 L 4 2 Z"],this.pattern.LargeCheckerBoard=["M 0 0 L 0 8 L 8 8 L 8 0 Z","M 8 8 L 8 16 L 16 16 L 16 8 Z"],this.pattern.OutlinedDiamondGrid=["M 0 0 L 1 0 L 1 1 L 0 1 Z","M 1 1 L 2 1 L 2 2 L 1 2 Z","M 2 2 L 3 2 L 3 3 L 2 3 Z","M 3 3 L 4 3 L 4 4 L 3 4 Z","M 4 4 L 5 4 L 5 5 L 4 5 Z","M 5 5 L 6 5 L 6 6 L 5 6 Z","M 6 6 L 7 6 L 7 7 L 6 7 Z","M 7 7 L 8 7 L 8 8 L 7 8 Z","M 7 1 L 8 1 L 8 2 L 7 2 Z","M 6 2 L 7 2 L 7 3 L 6 3 Z","M 5 3 L 6 3 L 6 4 L 5 4 Z","M 3 5 L 4 5 L 4 6 L 3 6 Z","M 2 6 L 3 6 L 3 7 L 2 7 Z","M 1 7 L 2 7 L 2 8 L 1 8 Z"],this.pattern.SolidDiamondGrid=["M 4 1 L 5 1 L 5 2 L 6 2 L 6 3 L 7 3 L 7 4 L 8 4 L 8 5 L 7 5 L 7 6 L 6 6 L 6 7 L 5 7 L 5 8 L 4 8 L 4 7 L 3 7 L 3 6 L 2 6 L 2 5 L 1 5 L 1 4 L 2 4 L 2 3 L 3 3 L 3 2 L 4 2 Z"]},t.defaultExcelPattern=new t,t}();t._ExcelNamedPatternList=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.style=t,this.content=e}return e.prototype.equalsWith=function(e){return null!=e&&(this==e||!!t.models._isPathWithStyle(e)&&t._StyleEqualityComparer._styleEqualityComparer._equalsWith(this.style,e.style)&&this.content===e.content)},e}();t._PathWithStyle=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.type=t.models.ColorType.Pattern,this.backgroundColor=e,this.pattern=n}return e.prototype.equalsWith=function(n){return null!=n&&(this==n||n instanceof e&&t._ColorEqualityComparer._colorEqualityComparer._equalsWith(this.backgroundColor,n.backgroundColor)&&t._PatternWithStyleEqualityComparer._patternWithStyleArrayEqualityComparer._equalsWith(this.pattern,n.pattern))},e}();t._PatternColor=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._patternWithStyleEqualityComparer=new i,i._patternWithStyleArrayEqualityComparer=new t._ArrayEqualityComparer(i._patternWithStyleEqualityComparer),i}(t._ObjectEqualityComparer);t._PatternWithStyleEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e._isTransparent=function(e){if(null==e)return!0;if(t.models._isCssColor(e)){var n=e;return t._Utility._isStringColorTransparent(n.color)}if(t.models._isLinearGradientColor(e)||t.models._isRadialGradientColor(e)||t.models._isPatternColor(e))return!1;throw new t.RuntimeError(t.ErrorCode.InvalidArgument)},e._buildLinearGradientColorByLightnessRange=function(e,n,i,o){var r=t._NativeColorUtility._buildNativeColor(e.color);if(null==r)return null;var l=t._NativeColorUtility._toHsla(r),a=new t._HslaNativeColor(l._hue,l._saturation,n,l._alpha),u=new t._HslaNativeColor(l._hue,l._saturation,i,l._alpha),s=[new t._ColorStop(t._NativeColorUtility._toRgbaFromHsla(a)._toCss(),0),new t._ColorStop(t._NativeColorUtility._toRgbaFromHsla(u)._toCss(),1)],_=o===t.Orientation.Horizontal?90:360;return new t._LinearGradientColor(_,s)},e._buildColorByTint=function(e,n){if(null==e)return null;if(t.models._isCssColor(e)){var i=e,o=t._NativeColorUtility._buildNativeColor(i.color);if(null!=o){var r=t._NativeColorUtility._tint(o,n)._toCss();return new t._CssColor(r)}}else{if(t.models._isLinearGradientColor(e)){for(var l=e,a=[],u=0,s=l.colorStops;u<s.length;u++){var _=s[u];if(null==(f=t._NativeColorUtility._buildNativeColor(_.color)))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);r=t._NativeColorUtility._tint(f,f._alpha*n),a.push(new t._ColorStop(r._toCss(),_.stop))}return new t._LinearGradientColor(l.degree,a)}if(t.models._isRadialGradientColor(e)){for(var p=e,c=(a=[],0),h=p.colorStops;c<h.length;c++){var f;if(_=h[c],null==(f=t._NativeColorUtility._buildNativeColor(_.color)))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);r=t._NativeColorUtility._tint(f,f._alpha*n),a.push(new t._ColorStop(r._toCss(),_.stop))}return new t._RadialGradientColor(p.center,p.radius,p.focus,p.focusRadius,a)}if(t.models._isPatternColor(e))return null}throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._buildColorByAlpha=function(e,n){if(null==e)return null;if(t.models._isCssColor(e)){var i=e;if(null!=(c=t._NativeColorUtility._buildNativeColor(i.color)))return c._alpha*=n,new t._CssColor(c._toCss())}else{if(t.models._isLinearGradientColor(e)){for(var o=e,r=[],l=0,a=o.colorStops;l<a.length;l++){var u=a[l];if(null==(c=t._NativeColorUtility._buildNativeColor(u.color)))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);c._alpha*=n,r.push(new t._ColorStop(c._toCss(),u.stop))}return new t._LinearGradientColor(o.degree,r)}if(t.models._isRadialGradientColor(e)){for(var s=e,_=(r=[],0),p=s.colorStops;_<p.length;_++){var c;if(u=p[_],null==(c=t._NativeColorUtility._buildNativeColor(u.color)))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);c._alpha*=n,r.push(new t._ColorStop(c._toCss(),u.stop))}return new t._RadialGradientColor(s.center,s.radius,s.focus,s.focusRadius,r)}if(t.models._isPatternColor(e))return null}throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._toStringColor=function(e,n){void 0===n&&(n=null);var i=t._NativeColorUtility._buildNativeColor(e);return null!=i?(null!=n&&(i._alpha=i._alpha*t._NativeExtension._toNonNullNumber(n,1)),i._toCss()):null},e._toCssString=function(n){if(null!=n){if(t.models._isCssColor(n))return n.color;if(t.models._isLinearGradientColor(n)){var i=n,o=e._buildGradientColorStopsCssSegment(i.colorStops);return"linear-gradient("+i.degree+"deg,"+o+")"}if(t.models._isRadialGradientColor(n)){var r=n,l=e._buildRadialGradientSizeCssSegment(r.center,r.radius),a=e._buildRadialGradientPositionCssSegment(r.center);return o=e._buildGradientColorStopsCssSegment(r.colorStops),null==l?"radial-gradient( at "+a+","+o+")":"radial-gradient("+l+" at "+a+","+o+")"}}return null},e._buildGradientColorStopsCssSegment=function(t){for(var e="",n=t.length,i=0;i<n;i++)e+=t[i].color+" "+(100*t[i].stop).toString()+"%",i!==n-1&&(e+=",");return e},e._buildRadialGradientSizeCssSegment=function(t,n){var i=Math.min(t.x,1-t.x),o=Math.min(t.y,1-t.y),r=Math.min(i,o);if(e._radiusEquals(n,r))return"closest-side";var l=Math.sqrt(i*i+o*o);if(e._radiusEquals(n,l))return"closest-corner";var a=Math.max(1-i,1-o);if(e._radiusEquals(n,a))return"farthest-side";var u=Math.sqrt((1-i)*(1-i)+(1-o)*(1-o));return e._radiusEquals(n,u)?"farthest-corner":null},e._buildRadialGradientPositionCssSegment=function(t){var e=100*t.x,n=100*t.y;return 50==e&&50==n?"center":e.toString()+"% "+n.toString()+"%"},e._radiusEquals=function(t,e){return Math.abs(t-e)<1e-10},e}();t._ColorUtility=e}(t||(t={})),function(t){!function(t){!function(t){t[t.LinearGradient=0]="LinearGradient",t[t.RadialGradient=1]="RadialGradient",t[t.CssColor=2]="CssColor",t[t.Pattern=3]="Pattern"}(t.ColorType||(t.ColorType={}))}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t[t.Butt=0]="Butt",t[t.Round=1]="Round",t[t.Square=2]="Square"}(t.LineCap||(t.LineCap={}))}(t||(t={})),function(t){!function(t){t[t.Miter=0]="Miter",t[t.Bevel=1]="Bevel",t[t.Round=2]="Round"}(t.LineJoin||(t.LineJoin={}))}(t||(t={})),function(t){!function(t){t[t.Nonzero=0]="Nonzero",t[t.Evenodd=1]="Evenodd"}(t.PathFillType||(t.PathFillType={}))}(t||(t={})),function(t){!function(t){t[t.Normal=0]="Normal",t[t.Italic=1]="Italic",t[t.Oblique=2]="Oblique"}(t.FontStyle||(t.FontStyle={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isHtmlImageInfo=function(t){return void 0!==t._imageElement}}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e){this.src=e,this.__imageElement=null,this.__state=t.AsyncResourceState.NotLoad,this.__callbacks=[]}return Object.defineProperty(e.prototype,"_imageElement",{get:function(){return this.__imageElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.__state==t.AsyncResourceState.Loaded&&null!=this.__imageElement?this.__imageElement.width:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.__state==t.AsyncResourceState.Loaded&&null!=this.__imageElement?this.__imageElement.height:null},enumerable:!1,configurable:!0}),e.prototype._isCompleted=function(){return this.__state==t.AsyncResourceState.Loaded},e.prototype._load=function(e){var n=this;this.__state==t.AsyncResourceState.Loaded?e(this):this.__state==t.AsyncResourceState.Loading?this.__callbacks.push(e):(this.__state=t.AsyncResourceState.Loading,this.__callbacks.push(e),this.__imageElement=new Image,this.__imageElement.crossOrigin="anonymous",this.__imageElement.onload=function(){n.__state=t.AsyncResourceState.Loaded;for(var e=0,i=n.__callbacks;e<i.length;e++)(0,i[e])(n);n.__callbacks=[]},this.__imageElement.src=this.src)},e}();t._ImageInfo=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildImageInfo=function(e,n){if(t._NativeExtension._isNullOrEmptyString(e))return null;var i=new t._ImageInfo(e);return null!=n&&n.load(i),i},e._imageInfoBuilder=new e,e}();t._ImageInfoBuilder=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(e){if(void 0===e&&(e=null),null==e)this.values=[1,0,0,1,0,0];else{if(6!=e.length)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);this.values=e.slice()}}return e.prototype._multiply=function(t,e,n,i,o,r){var l=this.values[0],a=this.values[1],u=this.values[2],s=this.values[3],_=this.values[4],p=this.values[5];this.values[0]=l*t+u*e,this.values[1]=a*t+s*e,this.values[2]=l*n+u*i,this.values[3]=a*n+s*i,this.values[4]=l*o+u*r+_,this.values[5]=a*o+s*r+p},e.prototype.clone=function(){return new e(this.values)},e.prototype.reset=function(){this.values[0]=1,this.values[1]=0,this.values[2]=0,this.values[3]=1,this.values[4]=0,this.values[5]=0},e.prototype.invert=function(){var t=this.values[0],n=this.values[2],i=this.values[4],o=this.values[1],r=this.values[3],l=this.values[5],a=t*r-o*n;if(0==a)return null;a=1/a;var u=[];return u.push(r*a),u.push(-o*a),u.push(-n*a),u.push(t*a),u.push((n*l-r*i)*a),u.push((o*i-t*l)*a),new e(u)},e.prototype.transform=function(t){if(null!=t){var e=t.values;this._multiply(e[0],e[1],e[2],e[3],e[4],e[5])}},e.prototype.translate=function(e,n){void 0===n&&(n=null);var i=t._NativeExtension._toNonNullNumber(n,0);if(isNaN(e)||isNaN(i))throw new t.AssertError(t.ErrorCode.InvalidArgument,e,n);this._multiply(1,0,0,1,e,i)},e.prototype.rotate=function(e,n){if(void 0===n&&(n=null),isNaN(e))throw new t.AssertError(t.ErrorCode.InvalidArgument,e);var i=null==n?0:n.x,o=null==n?0:n.y,r=Math.cos(e),l=Math.sin(e);this._multiply(r,l,-l,r,(1-r)*i+o*l,(1-r)*o-i*l)},e.prototype.scale=function(e,n){void 0===n&&(n=null);var i=t._NativeExtension._toNonNullNumber(n,e);if(isNaN(e)||isNaN(i))throw new t.AssertError(t.ErrorCode.InvalidArgument,e,n);this._multiply(e,0,0,i,0,0)},e.prototype.skew=function(t,e){isNaN(t)||isNaN(t)||this._multiply(1,Math.tan(e),Math.tan(t),1,0,0)},e.prototype.skewX=function(t){this.skew(t,0)},e.prototype.skewY=function(t){this.skew(0,t)},e.prototype.shear=function(t,e){isNaN(t)||isNaN(e)||this._multiply(1,e,t,1,0,0)},e.prototype.transformPoint=function(e,n,i){return void 0===i&&(i=null),null==i&&(i=new t.core.Point(0,0)),i.x=this.values[0]*e+this.values[2]*n+this.values[4],i.y=this.values[1]*e+this.values[3]*n+this.values[5],i},e}();t.Matrix=e}(t||(t={})),function(t){var e=function(e){void 0===e&&(e=1),this._alpha=t._Utility.clamp(e,0,1)};t._BaseNativeColor=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(e){var n=t._RgbaNativeColorBuilder._rgbaColorBuilder._build(e);if(null!=n)return n;var i=t._HslaNativeColorBuilder._hslaColorBuilder._build(e);return null!=i?i:null},e._colorBuilder=new e,e}();t._NativeColorBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){void 0===r&&(r=1);var l=e.call(this,r)||this;return n%=360,l._hue=t._Utility.clamp(n,0,360),l._saturation=t._Utility.clamp(i,0,1),l._lightness=t._Utility.clamp(o,0,1),l}return n(i,e),i.prototype._toCss=function(){var t=Math.round(100*this._alpha);return t>99?"hsl("+this._hue+","+Math.round(100*this._saturation)+"%,"+Math.round(100*this._lightness)+"%)":"hsla("+this._hue+","+Math.round(100*this._saturation)+"%,"+Math.round(100*this._lightness)+"%,"+t/100+")"},i}(t._BaseNativeColor);t._HslaNativeColor=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(t){return this._buildFromCss(t)},e.prototype._buildFromCss=function(e){if(0==e.indexOf("hsla(")&&e.indexOf(")")==e.length-1){var n=e.substring(5,e.length-1).split(",");return 4==n.length?new t._HslaNativeColor(parseFloat(n[0]),this._parsePercent(n[1]),this._parsePercent(n[2]),parseFloat(n[3])):null}if(0==e.indexOf("hsl(")&&e.indexOf(")")==e.length-1){var i=e.substring(4,e.length-1).split(",");return 3==i.length?new t._HslaNativeColor(parseFloat(i[0]),this._parsePercent(i[1]),this._parsePercent(i[2])):null}return null},e.prototype._parsePercent=function(t){return t.lastIndexOf("%")==t.length-1?parseFloat(t.slice(0,t.length-1))/100:NaN},e._hslaColorBuilder=new e,e}();t._HslaNativeColorBuilder=e}(t||(t={})),function(t){t._isHslaColor=function(t){var e=t;return"number"==typeof e._hue&&"number"==typeof e._saturation&&"number"==typeof e._lightness}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isRgbaColor=function(t){var e=t;return"number"==typeof e._red&&"number"==typeof e._green&&"number"==typeof e._blue}}(t||(t={})),function(t){var e=function(){function t(){this.__namedColors={},this.__namedColors.aliceblue="rgb(240, 248, 255)",this.__namedColors.antiquewhite="rgb(250, 235, 215)",this.__namedColors.aqua="rgb( 0, 255, 255)",this.__namedColors.aquamarine="rgb(127, 255, 212)",this.__namedColors.azure="rgb(240, 255, 255)",this.__namedColors.beige="rgb(245, 245, 220)",this.__namedColors.bisque="rgb(255, 228, 196)",this.__namedColors.black="rgb( 0, 0, 0)",this.__namedColors.blanchedalmond="rgb(255, 235, 205)",this.__namedColors.blue="rgb( 0, 0, 255)",this.__namedColors.blueviolet="rgb(138, 43, 226)",this.__namedColors.brown="rgb(165, 42, 42)",this.__namedColors.burlywood="rgb(222, 184, 135)",this.__namedColors.cadetblue="rgb( 95, 158, 160)",this.__namedColors.chartreuse="rgb(127, 255, 0)",this.__namedColors.chocolate="rgb(210, 105, 30)",this.__namedColors.coral="rgb(255, 127, 80)",this.__namedColors.cornflowerblue="rgb(100, 149, 237)",this.__namedColors.cornsilk="rgb(255, 248, 220)",this.__namedColors.crimson="rgb(220, 20, 60)",this.__namedColors.cyan="rgb( 0, 255, 255)",this.__namedColors.darkblue="rgb( 0, 0, 139)",this.__namedColors.darkcyan="rgb( 0, 139, 139)",this.__namedColors.darkgoldenrod="rgb(184, 134, 11)",this.__namedColors.darkgray="rgb(169, 169, 169)",this.__namedColors.darkgreen="rgb( 0, 100, 0)",this.__namedColors.darkgrey="rgb(169, 169, 169)",this.__namedColors.darkkhaki="rgb(189, 183, 107)",this.__namedColors.darkmagenta="rgb(139, 0, 139)",this.__namedColors.darkolivegreen="rgb( 85, 107, 47)",this.__namedColors.darkorange="rgb(255, 140, 0)",this.__namedColors.darkorchid="rgb(153, 50, 204)",this.__namedColors.darkred="rgb(139, 0, 0)",this.__namedColors.darksalmon="rgb(233, 150, 122)",this.__namedColors.darkseagreen="rgb(143, 188, 143)",this.__namedColors.darkslateblue="rgb( 72, 61, 139)",this.__namedColors.darkslategray="rgb( 47, 79, 79)",this.__namedColors.darkslategrey="rgb( 47, 79, 79)",this.__namedColors.darkturquoise="rgb( 0, 206, 209)",this.__namedColors.darkviolet="rgb(148, 0, 211)",this.__namedColors.deeppink="rgb(255, 20, 147)",this.__namedColors.deepskyblue="rgb( 0, 191, 255)",this.__namedColors.dimgray="rgb(105, 105, 105)",this.__namedColors.dimgrey="rgb(105, 105, 105)",this.__namedColors.dodgerblue="rgb( 30, 144, 255)",this.__namedColors.firebrick="rgb(178, 34, 34)",this.__namedColors.floralwhite="rgb(255, 250, 240)",this.__namedColors.forestgreen="rgb( 34, 139, 34)",this.__namedColors.fuchsia="rgb(255, 0, 255)",this.__namedColors.gainsboro="rgb(220, 220, 220)",this.__namedColors.ghostwhite="rgb(248, 248, 255)",this.__namedColors.gold="rgb(255, 215, 0)",this.__namedColors.goldenrod="rgb(218, 165, 32)",this.__namedColors.gray="rgb(128, 128, 128)",this.__namedColors.grey="rgb(128, 128, 128)",this.__namedColors.green="rgb( 0, 128, 0)",this.__namedColors.greenyellow="rgb(173, 255, 47)",this.__namedColors.honeydew="rgb(240, 255, 240)",this.__namedColors.hotpink="rgb(255, 105, 180)",this.__namedColors.indianred="rgb(205, 92, 92)",this.__namedColors.indigo="rgb( 75, 0, 130)",this.__namedColors.ivory="rgb(255, 255, 240)",this.__namedColors.khaki="rgb(240, 230, 140)",this.__namedColors.lavender="rgb(230, 230, 250)",this.__namedColors.lavenderblush="rgb(255, 240, 245)",this.__namedColors.lawngreen="rgb(124, 252, 0)",this.__namedColors.lemonchiffon="rgb(255, 250, 205)",this.__namedColors.lightblue="rgb(173, 216, 230)",this.__namedColors.lightcoral="rgb(240, 128, 128)",this.__namedColors.lightcyan="rgb(224, 255, 255)",this.__namedColors.lightgoldenrodyellow="rgb(250, 250, 210)",this.__namedColors.lightgray="rgb(211, 211, 211)",this.__namedColors.lightgreen="rgb(144, 238, 144)",this.__namedColors.lightgrey="rgb(211, 211, 211)",this.__namedColors.lightpink="rgb(255, 182, 193)",this.__namedColors.lightsalmon="rgb(255, 160, 122)",this.__namedColors.lightseagreen="rgb( 32, 178, 170)",this.__namedColors.lightskyblue="rgb(135, 206, 250)",this.__namedColors.lightslategray="rgb(119, 136, 153)",this.__namedColors.lightslategrey="rgb(119, 136, 153)",this.__namedColors.lightsteelblue="rgb(176, 196, 222)",this.__namedColors.lightyellow="rgb(255, 255, 224)",this.__namedColors.lime="rgb( 0, 255, 0)",this.__namedColors.limegreen="rgb( 50, 205, 50)",this.__namedColors.linen="rgb(250, 240, 230)",this.__namedColors.magenta="rgb(255, 0, 255)",this.__namedColors.maroon="rgb(128, 0, 0)",this.__namedColors.mediumaquamarine="rgb(102, 205, 170)",this.__namedColors.mediumblue="rgb( 0, 0, 205)",this.__namedColors.mediumorchid="rgb(186, 85, 211)",this.__namedColors.mediumpurple="rgb(147, 112, 219)",this.__namedColors.mediumseagreen="rgb( 60, 179, 113)",this.__namedColors.mediumslateblue="rgb(123, 104, 238)",this.__namedColors.mediumspringgreen="rgb( 0, 250, 154)",this.__namedColors.mediumturquoise="rgb( 72, 209, 204)",this.__namedColors.mediumvioletred="rgb(199, 21, 133)",this.__namedColors.midnightblue="rgb( 25, 25, 112)",this.__namedColors.mintcream="rgb(245, 255, 250)",this.__namedColors.mistyrose="rgb(255, 228, 225)",this.__namedColors.moccasin="rgb(255, 228, 181)",this.__namedColors.navajowhite="rgb(255, 222, 173)",this.__namedColors.navy="rgb( 0, 0, 128)",this.__namedColors.oldlace="rgb(253, 245, 230)",this.__namedColors.olive="rgb(128, 128, 0)",this.__namedColors.olivedrab="rgb(107, 142, 35)",this.__namedColors.orange="rgb(255, 165, 0)",this.__namedColors.orangered="rgb(255, 69, 0)",this.__namedColors.orchid="rgb(218, 112, 214)",this.__namedColors.palegoldenrod="rgb(238, 232, 170)",this.__namedColors.palegreen="rgb(152, 251, 152)",this.__namedColors.paleturquoise="rgb(175, 238, 238)",this.__namedColors.palevioletred="rgb(219, 112, 147)",this.__namedColors.papayawhip="rgb(255, 239, 213)",this.__namedColors.peachpuff="rgb(255, 218, 185)",this.__namedColors.peru="rgb(205, 133, 63)",this.__namedColors.pink="rgb(255, 192, 203)",this.__namedColors.plum="rgb(221, 160, 221)",this.__namedColors.powderblue="rgb(176, 224, 230)",this.__namedColors.purple="rgb(128, 0, 128)",this.__namedColors.red="rgb(255, 0, 0)",this.__namedColors.rosybrown="rgb(188, 143, 143)",this.__namedColors.royalblue="rgb( 65, 105, 225)",this.__namedColors.saddlebrown="rgb(139, 69, 19)",this.__namedColors.salmon="rgb(250, 128, 114)",this.__namedColors.sandybrown="rgb(244, 164, 96)",this.__namedColors.seagreen="rgb( 46, 139, 87)",this.__namedColors.seashell="rgb(255, 245, 238)",this.__namedColors.sienna="rgb(160, 82, 45)",this.__namedColors.silver="rgb(192, 192, 192)",this.__namedColors.skyblue="rgb(135, 206, 235)",this.__namedColors.slateblue="rgb(106, 90, 205)",this.__namedColors.slategray="rgb(112, 128, 144)",this.__namedColors.slategrey="rgb(112, 128, 144)",this.__namedColors.snow="rgb(255, 250, 250)",this.__namedColors.springgreen="rgb( 0, 255, 127)",this.__namedColors.steelblue="rgb( 70, 130, 180)",this.__namedColors.tan="rgb(210, 180, 140)",this.__namedColors.teal="rgb( 0, 128, 128)",this.__namedColors.thistle="rgb(216, 191, 216)",this.__namedColors.tomato="rgb(255, 99, 71)",this.__namedColors.turquoise="rgb( 64, 224, 208)",this.__namedColors.violet="rgb(238, 130, 238)",this.__namedColors.wheat="rgb(245, 222, 179)",this.__namedColors.white="rgb(255, 255, 255)",this.__namedColors.whitesmoke="rgb(245, 245, 245)",this.__namedColors.yellow="rgb(255, 255, 0)",this.__namedColors.yellowgreen="rgb(154, 205, 50)"}return t.prototype._toCssRgbaColor=function(t){return this.__namedColors[t.toLowerCase()]},t._namedNativeColor=new t,t}();t._NamedNativeColor=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){void 0===r&&(r=1);var l=e.call(this,r)||this;return l._red=t._Utility.clamp(n,0,255),l._green=t._Utility.clamp(i,0,255),l._blue=t._Utility.clamp(o,0,255),l}return n(i,e),i.prototype._toCss=function(){var t=Math.round(100*this._alpha);return t>99?"#"+((1<<24)+(this._red<<16)+(this._green<<8)+this._blue).toString(16).slice(1):"rgba("+this._red+","+this._green+","+this._blue+","+t/100+")"},i}(t._BaseNativeColor);t._RgbaNativeColor=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(t){return this._buildFromCssColor(t)},e.prototype._buildFromCssColor=function(e){var n,i=t._NamedNativeColor._namedNativeColor._toCssRgbaColor(e);return null==i&&(i=e),t._Utility._isStringColorTransparent(i.toLowerCase())?new t._RgbaNativeColor(0,0,0,0):0==i.indexOf("#")?4==i.length?new t._RgbaNativeColor(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)):i.length>=7?new t._RgbaNativeColor(parseInt(i.substr(1,2),16),parseInt(i.substr(3,2),16),parseInt(i.substr(5,2),16)):null:0==i.indexOf("rgba(")&&i.indexOf(")")==i.length-1?4==(n=i.substring(5,i.length-1).split(",")).length?new t._RgbaNativeColor(parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10),parseFloat(n[3])):null:0==i.indexOf("rgb(")&&i.indexOf(")")==i.length-1&&3==(n=i.substring(4,i.length-1).split(",")).length?new t._RgbaNativeColor(parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)):null},e._rgbaColorBuilder=new e,e}();t._RgbaNativeColorBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildNativeColor=function(e){return t._NativeColorBuilder._colorBuilder._build(e)},e._toRgba=function(n){if(t._isRgbaColor(n))return n;if(t._isHslaColor(n))return e._toRgbaFromHsla(n);throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n)},e._toHsla=function(n){if(t._isHslaColor(n))return n;if(t._isRgbaColor(n))return e._toHslaFromRgba(n);throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n)},e._toHslaFromRgba=function(e){var n=e._red/255,i=e._green/255,o=e._blue/255,r=Math.max(n,i,o),l=Math.min(n,i,o),a=0,u=0,s=(r+l)/2;if(r==l)a=u=0;else{var _=r-l;u=s>.5?_/(2-r-l):_/(r+l),r==n?a=(i-o)/_+(i<o?6:0):r==i?a=(o-n)/_+2:r==o&&(a=(n-i)/_+4),a/=6}return new t._HslaNativeColor(360*a,u,s,e._alpha)},e._toRgbaFromHsla=function(n){var i=e._hslToRgb(n._hue/360,n._saturation,n._lightness);return new t._RgbaNativeColor(i[0],i[1],i[2],n._alpha)},e._tint=function(n,i){if(t._isRgbaColor(n)){var o=n,r=e._toHslaFromRgba(o);return e._toRgbaFromHsla(e._tintHslaNativeColor(r,i))}if(t._isHslaColor(n)){var l=n;return e._tintHslaNativeColor(l,i)}throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n)},e._tintHslaNativeColor=function(e,n){var i;return i=n>=0?e._lightness+(1-e._lightness)*n:e._lightness*(1+n),new t._HslaNativeColor(e._hue,e._saturation,i,e._alpha)},e._hslToRgb=function(n,i,o){if(n<0||n>1||i<0||i>1||o<0||o>1)throw new t.AssertError(t.ErrorCode.HslColorRequired,n,i,o);var r,l,a;if(0==i)r=l=a=o;else{var u=o<.5?o*(1+i):o+i-o*i,s=2*o-u;r=e._hueToRgb(s,u,n+1/3),l=e._hueToRgb(s,u,n),a=e._hueToRgb(s,u,n-1/3)}return[Math.round(255*r),Math.round(255*l),Math.round(255*a)]},e._hueToRgb=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},e}();t._NativeColorUtility=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(){this.__epsilon=1e-8}return e.prototype._buildPathBoundRectangleByMatrix=function(n,i){for(var o=null,r=0,l=0,a=0,u=0,s=0,_=n.commands;s<_.length;s++){var p=_[s];if(p.type===t.PathCommandType.MoveTo){var c=p,h=c.x,f=c.y;o=this._mergePoint(o,h,f),r=a=h,l=u=f}else if(p.type===t.PathCommandType.LineTo){var d=p;h=d.x,f=d.y,o=this._mergePoint(o,h,f),r=h,l=f}else if(p.type===t.PathCommandType.CurveTo){for(var y=p,g=y.cpx1,m=y.cpy1,v=y.cpx2,w=y.cpy2,b=y.x,P=y.y,S=1/0,C=-1/0,V=this._cubicExtrema(r,g,v,b,e.__xDim),x=0;x<V;x++){var D=this._cubicAt(r,g,v,b,e.__xDim[x]);S=Math.min(D,S),C=Math.max(D,C)}var O=1/0,A=-1/0,L=this._cubicExtrema(l,m,w,P,e.__yDim);for(x=0;x<L;x++){var T=this._cubicAt(l,m,w,P,e.__yDim[x]);O=Math.min(T,O),A=Math.max(T,A)}h=Math.min(r,b,S),f=Math.min(l,P,O);var M=Math.max(r,b,C)-h,E=Math.max(l,P,A)-f,I=new t.core.Rect(h,f,M,E);o=null==o?I:t._RectangleUtility._unionOfRectangles(I,o),r=b,l=P}else if(p.type===t.PathCommandType.QuadraticCurveTo){var B=p,R=B.cpx,k=B.cpy,N=(b=B.x,P=B.y,Math.max(Math.min(this._quadraticExtremum(r,R,b),1),0)),F=Math.max(Math.min(this._quadraticExtremum(l,k,P),1),0),U=this._quadraticAt(r,R,b,N),z=this._quadraticAt(l,k,P,F),j=(h=Math.min(r,b,U),f=Math.min(l,P,z),M=Math.max(r,b,U)-h,E=Math.max(l,P,z)-f,new t.core.Rect(h,f,M,E));o=null==o?j:t._RectangleUtility._unionOfRectangles(j,o),r=b,l=P}else if(p.type===t.PathCommandType.Arc){var W=p,G=i.shift();if(null!=G){var H=t._PathCommandUtility._toCanvasArcPathCommand(W,r,l),q=H.rx,J=H.ry,X=q>J?q:J,Y=1!=H.counterclockwise,Z=H.startAngle,K=H.startAngle+H.sweepAngle;if(!isNaN(X)&&!isNaN(Z)&&!isNaN(K)){if(!Y){var Q=Z;Z=K,K=Q}null!=G&&(o=this._mergePointByArcCommand(X,Z,K,G,o))}}r=t._PathCommandUtility._getCommandEndPointXCoordinate(W),l=t._PathCommandUtility._getCommandEndPointYCoordinate(W)}else p.type===t.PathCommandType.Close&&(r=a,l=u)}return o},e.prototype._buildPathBoundRectangle=function(n){for(var i=null,o=0,r=0,l=0,a=0,u=0,s=n.commands;u<s.length;u++){var _=s[u];if(_.type===t.PathCommandType.MoveTo){var p=_,c=p.x,h=p.y;i=this._mergePoint(i,c,h),o=l=c,r=a=h}else if(_.type===t.PathCommandType.LineTo){var f=_;c=f.x,h=f.y,i=this._mergePoint(i,c,h),o=c,r=h}else if(_.type===t.PathCommandType.CurveTo){for(var d=_,y=d.cpx1,g=d.cpy1,m=d.cpx2,v=d.cpy2,w=d.x,b=d.y,P=1/0,S=-1/0,C=this._cubicExtrema(o,y,m,w,e.__xDim),V=0;V<C;V++){var x=this._cubicAt(o,y,m,w,e.__xDim[V]);P=Math.min(x,P),S=Math.max(x,S)}var D=1/0,O=-1/0,A=this._cubicExtrema(r,g,v,b,e.__yDim);for(V=0;V<A;V++){var L=this._cubicAt(r,g,v,b,e.__yDim[V]);D=Math.min(L,D),O=Math.max(L,O)}c=Math.min(o,w,P),h=Math.min(r,b,D);var T=Math.max(o,w,S)-c,M=Math.max(r,b,O)-h,E=new t.core.Rect(c,h,T,M);i=null==i?E:t._RectangleUtility._unionOfRectangles(E,i),o=w,r=b}else if(_.type===t.PathCommandType.QuadraticCurveTo){var I=_,B=I.cpx,R=I.cpy,k=(w=I.x,b=I.y,Math.max(Math.min(this._quadraticExtremum(o,B,w),1),0)),N=Math.max(Math.min(this._quadraticExtremum(r,R,b),1),0),F=this._quadraticAt(o,B,w,k),U=this._quadraticAt(r,R,b,N),z=(c=Math.min(o,w,F),h=Math.min(r,b,U),T=Math.max(o,w,F)-c,M=Math.max(r,b,U)-h,new t.core.Rect(c,h,T,M));i=null==i?z:t._RectangleUtility._unionOfRectangles(z,i),o=w,r=b}else if(_.type===t.PathCommandType.Arc){var j=_,W=j.rotation,G=j.rx,H=j.ry,q=G<H?G/H:1,J=G>H?H/G:1,X=t._PathCommandUtility._toCanvasArcPathCommand(j,o,r),Y=G>H?G:H,Z=1!=X.counterclockwise,K=X.startAngle,Q=X.startAngle+X.sweepAngle,$=void 0;if(!(isNaN(q)||isNaN(J)||isNaN(W)||isNaN(X.cx)||isNaN(X.cy)||(($=new t.Matrix).scale(q,J),$.rotate(W),$.translate(X.cx,X.cy),isNaN(Y)||isNaN(K)||isNaN(Q)))){if(!Z){var tt=K;K=Q,Q=tt}i=this._mergePointByArcCommand(Y,K,Q,$,i)}o=t._PathCommandUtility._getCommandEndPointXCoordinate(j),r=t._PathCommandUtility._getCommandEndPointYCoordinate(j)}else _.type===t.PathCommandType.Close&&(o=l,r=a)}return i},e.prototype._mergePoint=function(e,n,i){if(null==e)return new t.core.Rect(n,i,0,0);if(n<e.left){var o=e.right;e.left=n,e.width=o-n}else n>e.right&&(e.width+=n-e.right);if(i<e.top){var r=e.bottom;e.top=i,e.height=r-i}else i>e.bottom&&(e.height+=i-e.bottom);return e},e.prototype._cubicExtrema=function(e,n,i,o,r){var l=6*i-12*n+6*e,a=9*n+3*o-3*e-9*i,u=3*n-3*e,s=0;if(this._isAroundZero(a))this._isNotAroundZero(l)&&(p=-u/l)>=0&&p<=1&&t._Utility._assignValueToArray(r,s++,p,NaN);else{var _=l*l-4*a*u;if(this._isAroundZero(_))t._Utility._assignValueToArray(r,0,-l/(2*a),NaN);else if(_>0){var p,c=Math.sqrt(_),h=(-l-c)/(2*a);(p=(-l+c)/(2*a))>=0&&p<=1&&t._Utility._assignValueToArray(r,s++,p,NaN),h>=0&&h<=1&&t._Utility._assignValueToArray(r,s++,h,NaN)}}return s},e.prototype._cubicAt=function(t,e,n,i,o){var r=1-o;return r*r*(r*t+3*o*e)+o*o*(o*i+3*r*n)},e.prototype._isAroundZero=function(t){return t>-this.__epsilon&&t<this.__epsilon},e.prototype._isNotAroundZero=function(t){return t>this.__epsilon||t<-this.__epsilon},e.prototype._quadraticExtremum=function(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i},e.prototype._quadraticAt=function(t,e,n,i){var o=1-i;return o*(o*t+2*i*e)+i*i*n},e.prototype._mergePointByArcCommand=function(e,n,i,o,r){var l=new t.core.Point(e*Math.cos(n),e*Math.sin(n)),a=new t.core.Point(e*Math.cos(i),e*Math.sin(i)),u=new t.core.Point(0,e),s=new t.core.Point(-e,0),_=new t.core.Point(0,-e),p=new t.core.Point(e,0),c=o.transformPoint(l.x,l.y),h=o.transformPoint(a.x,a.y),f=o.transformPoint(u.x,u.y),d=o.transformPoint(s.x,s.y),y=o.transformPoint(_.x,_.y),g=o.transformPoint(p.x,p.y);return r=this._mergePoint(r,c.x,c.y),r=this._mergePoint(r,h.x,h.y),l.x>0&&l.y>=0?((a.x<=0||a.y<l.y)&&(r=this._mergePoint(r,f.x,f.y)),(a.y<=0||a.x>l.x&&a.y>=0)&&(r=this._mergePoint(r,d.x,d.y)),(a.x>=0&&a.y<=0||a.x>l.x&&a.y>=0)&&(r=this._mergePoint(r,y.x,y.y)),a.x>l.x&&a.y>=0&&(r=this._mergePoint(r,g.x,g.y))):l.x<=0&&l.y>0?(a.x>l.x&&a.y>=0&&(r=this._mergePoint(r,f.x,f.y)),(a.y<=0||a.x>l.x&&a.y>=0)&&(r=this._mergePoint(r,d.x,d.y)),(a.x>=0||a.x>l.x&&a.y>=0)&&(r=this._mergePoint(r,y.x,y.y)),(a.x>=0&&a.y>=0||a.x>l.x&&a.y>=0)&&(r=this._mergePoint(r,g.x,g.y))):l.x<0&&l.y<=0?(a.x<=0&&a.y>l.y&&(r=this._mergePoint(r,f.x,f.y)),a.y<=0&&a.x<l.x&&(r=this._mergePoint(r,d.x,d.y)),(a.x>=0||a.x<=0&&a.y>l.y)&&(r=this._mergePoint(r,y.x,y.y)),(a.y>=0||a.y<=0&&a.x<l.x)&&(r=this._mergePoint(r,g.x,g.y))):l.x>=0&&l.y<0&&((a.x<=0||a.y<0&&a.x<l.x)&&(r=this._mergePoint(r,f.x,f.y)),a.y<=0&&a.x<l.x&&(r=this._mergePoint(r,d.x,d.y)),a.x>=0&&a.y<l.y&&(r=this._mergePoint(r,y.x,y.y)),(a.y>=0||a.y<0&&a.x<l.x)&&(r=this._mergePoint(r,g.x,g.y))),r},e.__xDim=[],e.__yDim=[],e._defaultPathBoundRectangleBuilder=new e,e}();t._PathBoundRectangleBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPathFromExpression=function(e){return this._verify(e)?new t._SvgPath(e):null},e.prototype._buildPath=function(e){return void 0===e&&(e=null),new t._Path(e)},e.prototype._buildRectangle=function(n,i,o,r){var l=t._PathCommandBuilder._defaultPathCommandBuilder,a=[];return a.push(l._buildMoveToPathCommand(n.x,n.y)),a.push(l._buildLineToPathCommand(i.x,i.y)),a.push(l._buildLineToPathCommand(o.x,o.y)),a.push(l._buildLineToPathCommand(r.x,r.y)),a.push(l._buildClosePathCommand()),e._defaultPathBuilder._buildPath(a)},e.prototype._buildArc=function(n,i,o,r,l){var a=!1;(l>=t._Utility._PI2||Math.abs(l-t._Utility._PI2)<=.001)&&(a=!0,l=t._Utility._PI2-.001);var u=t._PathCommandBuilder._defaultPathCommandBuilder,s=[],_=n+o*Math.cos(r),p=i+o*Math.sin(r);s.push(u._buildMoveToPathCommand(_,p));var c=o;if(0!==c){var h=l<0?1:0;s.push(u._buildCanvasArcToPathCommand(c,c,0,n,i,r,l,h))}return a&&s.push(u._buildClosePathCommand()),e._defaultPathBuilder._buildPath(s)},e.prototype._buildDonutSegment=function(n,i,o,r,l,a){var u=!1;(a>=t._Utility._PI2||Math.abs(a-t._Utility._PI2)<=.001)&&(u=!0,a=t._Utility._PI2-.001);var s=l+a,_=t._PathCommandBuilder._defaultPathCommandBuilder,p=[],c=new t.core.Point(n,i);c.x+=o*Math.cos(l),c.y+=o*Math.sin(l);var h=new t.core.Point(n,i);h.x+=o*Math.cos(s),h.y+=o*Math.sin(s),p.push(_._buildMoveToPathCommand(c.x,c.y));var f=o;if(0!==f){var d=a<0?1:0;p.push(_._buildCanvasArcToPathCommand(f,f,0,n,i,l,a,d))}if(o!=r){var y=new t.core.Point(n,i);y.x+=r*Math.cos(s),y.y+=r*Math.sin(s),u?p.push(_._buildMoveToPathCommand(y.x,y.y)):p.push(_._buildLineToPathCommand(y.x,y.y));var g=new t.core.Point(n,i);g.x+=r*Math.cos(l),g.y+=r*Math.sin(l);var m=r;0!==m&&(d=-a<0?1:0,p.push(_._buildCanvasArcToPathCommand(m,m,0,n,i,s,-a,d))),u||p.push(_._buildClosePathCommand())}else u&&p.push(_._buildClosePathCommand());return e._defaultPathBuilder._buildPath(p)},e.prototype._verify=function(e){if(null==e)return!1;var n=t._PathCommandBuilder._defaultPathCommandBuilder._buildPathCommands(e);return null!=n&&0!==n.length},e._defaultPathBuilder=new e,e}();t._PathBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._buildMoveToPathCommandByMCommand=function(e,n,i,o){var r=parseFloat(n),l=parseFloat(i);if(isNaN(r)||isNaN(l))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var a=!1,u=0,s=0;return"m"===e&&(a=!0,u=t._PathCommandUtility._getPathCommandsCurrentX(o),s=t._PathCommandUtility._getPathCommandsCurrentY(o)),this._buildMoveToPathCommand(r,l,a,u,s)},e.prototype._buildLineToPathCommandByLCommand=function(e,n,i,o){var r=parseFloat(n),l=parseFloat(i);if(isNaN(r)||isNaN(l))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var a=!1,u=0,s=0;return"l"===e&&(a=!0,u=t._PathCommandUtility._getPathCommandsCurrentX(o),s=t._PathCommandUtility._getPathCommandsCurrentY(o)),this._buildLineToPathCommand(r,l,a,u,s)},e.prototype._buildLineToPathCommandByHCommand=function(e,n,i){var o=parseFloat(n);if(isNaN(o))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n);var r=!1,l=0,a=t._PathCommandUtility._getPathCommandsCurrentY(i);return"h"===e&&(r=!0,l=t._PathCommandUtility._getPathCommandsCurrentX(i)),this._buildHorizontalLineToPathCommand(o,a,r,l)},e.prototype._buildLineToPathCommandByVCommand=function(e,n,i){var o=parseFloat(n);if(isNaN(o))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n);var r=!1,l=t._PathCommandUtility._getPathCommandsCurrentX(i),a=0;return"v"===e&&(r=!0,a=t._PathCommandUtility._getPathCommandsCurrentY(i)),this._buildVerticalLineToPathCommand(o,l,r,a)},e.prototype._buildCurveToPathCommandByCCommand=function(e,n,i,o,r,l,a,u){var s=parseFloat(n),_=parseFloat(i),p=parseFloat(o),c=parseFloat(r),h=parseFloat(l),f=parseFloat(a);if(isNaN(s)||isNaN(_)||isNaN(p)||isNaN(c)||isNaN(h)||isNaN(f))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var d=!1,y=0,g=0;return"c"===e&&(d=!0,y=t._PathCommandUtility._getPathCommandsCurrentX(u),g=t._PathCommandUtility._getPathCommandsCurrentY(u)),this._buildCurveToPathCommand(s,_,p,c,h,f,d,y,g)},e.prototype._buildCurveToPathCommandBySCommand=function(e,n,i,o,r,l){var a=parseFloat(n),u=parseFloat(i),s=parseFloat(o),_=parseFloat(r);if(isNaN(a)||isNaN(u)||isNaN(s)||isNaN(_))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var p=l[l.length-1],c=t._PathCommandUtility._getPathCommandsCurrentX(l),h=t._PathCommandUtility._getPathCommandsCurrentY(l),f="s"===e;return this._buildSmoothCurveToPathCommand(a,u,s,_,p,c,h,f)},e.prototype._buildQuadraticCurveToPathCommandByQCommand=function(e,n,i,o,r,l){var a=parseFloat(n),u=parseFloat(i),s=parseFloat(o),_=parseFloat(r);if(isNaN(a)||isNaN(u)||isNaN(s)||isNaN(_))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var p=!1,c=0,h=0;return"q"===e&&(p=!0,c=t._PathCommandUtility._getPathCommandsCurrentX(l),h=t._PathCommandUtility._getPathCommandsCurrentY(l)),this._buildQuadraticCurveToPathCommand(a,u,s,_,p,c,h)},e.prototype._buildQuadraticCurveToPathCommandByTCommand=function(e,n,i,o){var r=parseFloat(n),l=parseFloat(i);if(isNaN(r)||isNaN(l))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var a=o[o.length-1],u=t._PathCommandUtility._getPathCommandsCurrentX(o),s=t._PathCommandUtility._getPathCommandsCurrentY(o),_="t"===e;return this._buildSmoothQuadraticCurveToPathCommand(r,l,a,u,s,_)},e.prototype._buildArcPathCommandByACommand=function(e,n,i,o,r,l,a,u,s){var _=parseFloat(n),p=parseFloat(i),c=parseFloat(o),h=parseFloat(r),f=parseFloat(l),d=parseFloat(a),y=parseFloat(u);if(isNaN(_)||isNaN(p)||isNaN(c)||isNaN(h)||isNaN(f)||isNaN(d)||isNaN(y))throw new t.RuntimeError(t.ErrorCode.InvalidArgument);var g=!1,m=0,v=0;return"a"===e&&(g=!0,m=t._PathCommandUtility._getPathCommandsCurrentX(s),v=t._PathCommandUtility._getPathCommandsCurrentY(s)),this._buildSvgArcToPathCommand(_,p,c,h,f,d,y,g,m,v)},e.prototype._buildPathCommands=function(t){if(null==t||""===t)return null;var e=t.match(/([mlhvcsqtaz][^mlhvcsqtaz]*)/gi);if(null==e)return null;for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i].trim().match(/([mlhvcsqtaz])|([\-]?(?:(\.\d*)|(0|[1-9]\d*)(\.\d*)?)([eE][+\-]?\d+)?)/gi);if(null==r||r.length<=0)return null;if("z"!==r[0].toLowerCase()){if("m"===r[0].toLowerCase()){var l=r[0];if(r.shift(),r.length>=2){if(a=this._buildMoveToPathCommandByMCommand(l,r[0],r[1],n),n.push(a),r.splice(0,2),!(r.length>0))continue;"m"===l?r.unshift("l"):r.unshift("L")}}if("l"!==r[0].toLowerCase())if("h"!==r[0].toLowerCase())if("v"!==r[0].toLowerCase())if("c"!==r[0].toLowerCase())if("s"!==r[0].toLowerCase())if("q"!==r[0].toLowerCase())if("t"!==r[0].toLowerCase())if("a"!==r[0].toLowerCase());else for(l=r[0],r.shift();r.length>=7;)a=this._buildArcPathCommandByACommand(l,r[0],r[1],r[2],r[3],r[4],r[5],r[6],n),n.push(a),r.splice(0,7);else for(l=r[0],r.shift();r.length>=2;)a=this._buildQuadraticCurveToPathCommandByTCommand(l,r[0],r[1],n),n.push(a),r.splice(0,2);else for(l=r[0],r.shift();r.length>=4;)a=this._buildQuadraticCurveToPathCommandByQCommand(l,r[0],r[1],r[2],r[3],n),n.push(a),r.splice(0,4);else for(l=r[0],r.shift();r.length>=4;)a=this._buildCurveToPathCommandBySCommand(l,r[0],r[1],r[2],r[3],n),n.push(a),r.splice(0,4);else for(l=r[0],r.shift();r.length>=6;){var a=this._buildCurveToPathCommandByCCommand(l,r[0],r[1],r[2],r[3],r[4],r[5],n);n.push(a),r.splice(0,6)}else for(l=r[0],r.shift();r.length>=1;)a=this._buildLineToPathCommandByVCommand(l,r[0],n),n.push(a),r.splice(0,1);else for(l=r[0],r.shift();r.length>=1;)a=this._buildLineToPathCommandByHCommand(l,r[0],n),n.push(a),r.splice(0,1);else for(l=r[0],r.shift();r.length>=2;)a=this._buildLineToPathCommandByLCommand(l,r[0],r[1],n),n.push(a),r.splice(0,2)}else{if(r.shift(),r.length>0)return null;a=this._buildClosePathCommand(),n.push(a)}}return n},e.prototype._buildMoveToPathCommand=function(e,n,i,o,r){return void 0===i&&(i=!1),void 0===o&&(o=0),void 0===r&&(r=0),i&&(e+=o,n+=r),new t._MoveToPathCommand(e,n)},e.prototype._buildLineToPathCommand=function(e,n,i,o,r){return void 0===i&&(i=!1),void 0===o&&(o=0),void 0===r&&(r=0),i&&(e+=o,n+=r),new t._LineToPathCommand(e,n)},e.prototype._buildHorizontalLineToPathCommand=function(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=0);var r=n;return i&&(e+=o),new t._LineToPathCommand(e,r)},e.prototype._buildVerticalLineToPathCommand=function(e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=0);var r=n;return i&&(e+=o),new t._LineToPathCommand(r,e)},e.prototype._buildCurveToPathCommand=function(e,n,i,o,r,l,a,u,s){return void 0===a&&(a=!1),void 0===u&&(u=0),void 0===s&&(s=0),a&&(e+=u,n+=s,i+=u,o+=s,r+=u,l+=s),new t._CurveToPathCommand(e,n,i,o,r,l)},e.prototype._buildSmoothCurveToPathCommand=function(e,n,i,o,r,l,a,u){void 0===u&&(u=!1);var s=0,_=0;if(t._isCurveToPathCommand(r)){var p=r;s=2*p.x-p.cpx2,_=2*p.y-p.cpy2}else s=l,_=a;return u&&(e+=l,n+=a,i+=l,o+=a),new t._CurveToPathCommand(s,_,e,n,i,o)},e.prototype._buildQuadraticCurveToPathCommand=function(e,n,i,o,r,l,a){return void 0===r&&(r=!1),void 0===l&&(l=0),void 0===a&&(a=0),r&&(e+=l,n+=a,i+=l,o+=a),new t._QuadraticCurveToPathCommand(e,n,i,o)},e.prototype._buildSmoothQuadraticCurveToPathCommand=function(e,n,i,o,r,l){void 0===l&&(l=!1);var a=0,u=0;if(t._isQuadraticCurveToPathCommand(i)){var s=i;a=2*s.x-s.cpx,u=2*s.y-s.cpy}else a=o,u=r;return l&&(e+=o,n+=r),new t._QuadraticCurveToPathCommand(a,u,e,n)},e.prototype._buildSvgArcToPathCommand=function(e,n,i,o,r,l,a,u,s,_){return void 0===u&&(u=!1),void 0===s&&(s=0),void 0===_&&(_=0),u&&(l+=s,a+=_),new t._SvgArcPathCommand(e,n,i,o,r,l,a)},e.prototype._buildCanvasArcToPathCommand=function(e,n,i,o,r,l,a,u){return new t._CanvasArcPathCommand(e,n,i,o,r,l,a,u)},e.prototype._buildClosePathCommand=function(){return new t._ClosePathCommand},e._defaultPathCommandBuilder=new e,e}();t._PathCommandBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){this.__type=t.PathCommandType.Arc,this.__rx=e,this.__ry=n,this.__rotation=i}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rx",{get:function(){return this.__rx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ry",{get:function(){return this.__ry},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.__rotation},enumerable:!1,configurable:!0}),e}();t._ArcPathCommand=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u){var s=t.call(this,e,n,i)||this;return s.__x=o,s.__y=r,s.__startAngle=l,s.__sweepAngle=a,s.__counterclockwise=u,s}return n(e,t),Object.defineProperty(e.prototype,"cx",{get:function(){return this.__x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cy",{get:function(){return this.__y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.__startAngle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sweepAngle",{get:function(){return this.__sweepAngle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"counterclockwise",{get:function(){return this.__counterclockwise},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.rx,this.ry,this.rotation,this.cx,this.cy,this.startAngle,this.sweepAngle,this.counterclockwise)},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.rx===t.rx&&this.ry===t.ry&&this.rotation===t.rotation&&this.cx===t.cx&&this.cy===t.cy&&this.startAngle===t.startAngle&&this.sweepAngle===t.sweepAngle&&this.counterclockwise===t.counterclockwise)},e}(t._ArcPathCommand);t._CanvasArcPathCommand=e}(t||(t={})),function(t){t._isArcPathCommand=function(e){var n=e;return null!=n&&n.type===t.PathCommandType.Arc&&null!=n.rx&&null!=n.ry&&null!=n.rotation}}(t||(t={})),function(t){t._isCanvasArcPathCommand=function(e){if(!t._isArcPathCommand(e))return!1;var n=e;return null!=n&&null!=n.cx&&null!=n.cy&&null!=n.startAngle&&null!=n.sweepAngle&&null!=n.counterclockwise}}(t||(t={})),function(t){t._isSvgArcPathCommand=function(e){if(!t._isArcPathCommand(e))return!1;var n=e;return null!=n&&null!=n.largeArcFlag&&null!=n.sweepFlag&&null!=n.x&&null!=n.y}}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a){var u=t.call(this,e,n,i)||this;return u.__largeArcFlag=o,u.__sweepFlag=r,u.__ex=l,u.__ey=a,u}return n(e,t),Object.defineProperty(e.prototype,"largeArcFlag",{get:function(){return this.__largeArcFlag},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sweepFlag",{get:function(){return this.__sweepFlag},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.__ex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__ey},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.rx,this.ry,this.rotation,this.largeArcFlag,this.sweepFlag,this.x,this.y)},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.rx===t.rx&&this.ry===t.ry&&this.rotation===t.rotation&&this.largeArcFlag===t.largeArcFlag&&this.sweepFlag===t.sweepFlag&&this.x===t.x&&this.y===t.y)},e}(t._ArcPathCommand);t._SvgArcPathCommand=e}(t||(t={})),function(t){var e=function(){function e(){this.__type=t.PathCommandType.Close}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e)},e}();t._ClosePathCommand=e}(t||(t={})),function(t){t._isClosePathCommand=function(e){return null!=e&&e.type===t.PathCommandType.Close}}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r,l){this.__type=t.PathCommandType.CurveTo,this.__cpx1=e,this.__cpy1=n,this.__cpx2=i,this.__cpy2=o,this.__x=r,this.__y=l}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cpx1",{get:function(){return this.__cpx1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cpy1",{get:function(){return this.__cpy1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cpx2",{get:function(){return this.__cpx2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cpy2",{get:function(){return this.__cpy2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.__x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__y},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.cpx1,this.cpy1,this.cpx2,this.cpy2,this.x,this.y)},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.cpx1===t.cpx1&&this.cpy1===t.cpy1&&this.cpx2===t.cpx2&&this.cpy2===t.cpy2&&this.x===t.x&&this.y===t.y)},e}();t._CurveToPathCommand=e}(t||(t={})),function(t){t._isCurveToPathCommand=function(e){if(null==e)return!1;var n=e;return n.type===t.PathCommandType.CurveTo&&null!=n.cpx1&&null!=n.cpy1&&null!=n.cpx2&&null!=n.cpy2&&null!=n.x&&null!=n.y}}(t||(t={})),function(t){t._isLineToPathCommand=function(e){var n=e;return null!=n&&n.type===t.PathCommandType.LineTo&&null!=n.x&&null!=n.y}}(t||(t={})),function(t){var e=function(){function e(e,n){this.__type=t.PathCommandType.LineTo,this.__x=e,this.__y=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.__x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__y},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.x===t.x&&this.y===t.y)},e}();t._LineToPathCommand=e}(t||(t={})),function(t){t._isMoveToPathCommand=function(e){var n=e;return null!=n&&n.type===t.PathCommandType.MoveTo&&null!=n.x&&null!=n.y}}(t||(t={})),function(t){var e=function(){function e(e,n){this.__type=t.PathCommandType.MoveTo,this.__x=e,this.__y=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.__x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__y},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.x===t.x&&this.y===t.y)},e}();t._MoveToPathCommand=e}(t||(t={})),function(t){t._isQuadraticCurveToPathCommand=function(e){if(null==e)return!1;var n=e;return n.type===t.PathCommandType.QuadraticCurveTo&&null!=n.cpx&&null!=n.cpy&&null!=n.x&&null!=n.y}}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){this.__type=t.PathCommandType.QuadraticCurveTo,this.__cpx=e,this.__cpy=n,this.__x=i,this.__y=o}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cpx",{get:function(){return this.__cpx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cpy",{get:function(){return this.__cpy},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.__x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__y},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.cpx,this.cpy,this.x,this.y)},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.cpx===t.cpx&&this.cpy===t.cpy&&this.x===t.x&&this.y===t.y)},e}();t._QuadraticCurveToPathCommand=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._pathCommandEqualityComparer=new i,i._pathCommandArrayEqualityComparer=new t._ArrayEqualityComparer(i._pathCommandEqualityComparer),i}(t._ObjectEqualityComparer);t._PathCommandEqualityComparer=e}(t||(t={})),t||(t={}),function(t){!function(t){t[t.MoveTo=0]="MoveTo",t[t.LineTo=1]="LineTo",t[t.CurveTo=2]="CurveTo",t[t.QuadraticCurveTo=3]="QuadraticCurveTo",t[t.Arc=4]="Arc",t[t.Close=5]="Close"}(t.PathCommandType||(t.PathCommandType={}))}(t||(t={})),function(t){var e=function(){function e(){}return e._getCommandEndPointXCoordinate=function(e,n){return void 0===n&&(n=null),null==e?n:t._isMoveToPathCommand(e)||t._isLineToPathCommand(e)||t._isCurveToPathCommand(e)||t._isQuadraticCurveToPathCommand(e)?e.x:t._isSvgArcPathCommand(e)?(i=e).x:t._isCanvasArcPathCommand(e)?(i=e).cx+i.rx*Math.cos(i.startAngle+i.sweepAngle):n;var i},e._getCommandEndPointYCoordinate=function(e,n){return void 0===n&&(n=null),null==e?n:t._isMoveToPathCommand(e)||t._isLineToPathCommand(e)||t._isCurveToPathCommand(e)||t._isQuadraticCurveToPathCommand(e)?e.y:t._isSvgArcPathCommand(e)?(i=e).y:t._isCanvasArcPathCommand(e)?(i=e).cy+i.ry*Math.sin(i.startAngle+i.sweepAngle):n;var i},e._getSubPathStartPoint=function(e){for(var n=e.length-1;n>=0;n--)if(t._isMoveToPathCommand(e[n])){var i=e[n];return new t.core.Point(i.x,i.y)}return new t.core.Point(0,0)},e._getPathCommandsCurrentX=function(t){var n=null;if(null!=t&&t.length>0){var i=t[t.length-1];n=e._getCommandEndPointXCoordinate(i)}return null==n?e._getSubPathStartPoint(t).x:n},e._getPathCommandsCurrentY=function(t){var n=null;if(null!=t&&t.length>0){var i=t[t.length-1];n=e._getCommandEndPointYCoordinate(i)}return null==n?e._getSubPathStartPoint(t).y:n},e._getPathExpression=function(n,i){return void 0===i&&(i=!1),t._isSvgPath(n)?n._expression:e._buildPathExpression(n.commands,i)},e._buildPathExpression=function(e,n){for(var i="",o=0,r=e;o<r.length;o++){var l=r[o];if(t._isMoveToPathCommand(l)){var a=l;i+="M "+(n?a.x.toFixed(3):a.x.toString())+" "+(n?a.y.toFixed(3):a.y.toString())+" "}else if(t._isLineToPathCommand(l)){var u=l;i+="L "+(n?u.x.toFixed(3):u.x.toString())+" "+(n?u.y.toFixed(3):u.y.toString())}else if(t._isCurveToPathCommand(l)){var s=l;i+="C "+(n?s.cpx1.toFixed(3):s.cpx1.toString())+" "+(n?s.cpy1.toFixed(3):s.cpy1.toString())+" "+(n?s.cpx2.toFixed(3):s.cpx2.toString())+" "+(n?s.cpy2.toFixed(3):s.cpy2.toString())+" "+(n?s.x.toFixed(3):s.x.toString())+" "+(n?s.y.toFixed(3):s.y.toString())}else if(t._isQuadraticCurveToPathCommand(l)){var _=l;i+="Q "+(n?_.cpx.toFixed(3):_.cpx.toString())+" "+(n?_.cpy.toFixed(3):_.cpy.toString())+" "+(n?_.x.toFixed(3):_.x.toString())+" "+(n?_.y.toFixed(3):_.y.toString())+" "}else if(t._isSvgArcPathCommand(l)){var p=l,c=n?p.rx.toFixed(3):p.rx.toString(),h=n?p.ry.toFixed(3):p.ry.toString(),f=n?p.rotation.toFixed(3):p.rotation.toString(),d=n?p.x.toFixed(3):p.x.toString(),y=n?p.y.toFixed(3):p.y.toString();i+="A "+c+" "+h+" "+f+" "+p.largeArcFlag+" "+p.sweepFlag+" "+d+" "+y}else if(t._isCanvasArcPathCommand(l)){var g=(p=l).cx,m=p.cy,v=(c=p.rx,h=p.ry,p.startAngle),w=p.sweepAngle,b=v+w,P=Math.abs(w)>Math.PI?1:0,S=w<0?0:1,C=(d=g+c*Math.cos(b),y=m+h*Math.sin(b),n?c.toFixed(3):c.toString()),V=n?h.toFixed(3):h.toString(),x=n?d.toFixed(3):d.toString(),D=n?y.toFixed(3):y.toString();i+="A "+C+" "+V+" "+(f=n?p.rotation.toFixed(3):p.rotation.toString())+" "+P+" "+S+" "+x+" "+D}else t._isClosePathCommand(l)&&(i+="Z")}return i},e._toCanvasArcPathCommand=function(e,n,i){if(t._isCanvasArcPathCommand(e))return e;var o=e,r=o.rx,l=o.ry,a=o.rotation,u=o.largeArcFlag,s=o.sweepFlag,_=o.x,p=o.y,c=Math.cos(a)*(n-_)/2+Math.sin(a)*(i-p)/2,h=-Math.sin(a)*(n-_)/2+Math.cos(a)*(i-p)/2,f=Math.pow(c,2)/Math.pow(r,2)+Math.pow(h,2)/Math.pow(l,2);f>1&&(r*=Math.sqrt(f),l*=Math.sqrt(f));var d=(u==s?-1:1)*Math.sqrt((Math.pow(r,2)*Math.pow(l,2)-Math.pow(r,2)*Math.pow(h,2)-Math.pow(l,2)*Math.pow(c,2))/(Math.pow(r,2)*Math.pow(h,2)+Math.pow(l,2)*Math.pow(c,2)));isNaN(d)&&(d=0);var y=d*r*h/l,g=d*-l*c/r,m=(n+_)/2+Math.cos(a)*y-Math.sin(a)*g,v=(i+p)/2+Math.sin(a)*y+Math.cos(a)*g,w=this._a([1,0],[(c-y)/r,(h-g)/l]),b=[(c-y)/r,(h-g)/l],P=[(-c-y)/r,(-h-g)/l],S=this._a(b,P);this._r(b,P)<=-1&&(S=Math.PI),this._r(b,P)>=1&&(S=0);var C=1-s;return new t._CanvasArcPathCommand(r,l,a,m,v,w,S,C)},e._toSvgArcPathCommand=function(e){if(t._isSvgArcPathCommand(e))return e;var n=e,i=n.cx,o=n.cy,r=n.rx,l=n.ry,a=n.rotation,u=n.startAngle,s=n.sweepAngle,_=Math.abs(s)>Math.PI?1:0,p=s<0?0:1,c=i+r*Math.cos(u+s),h=o+l*Math.sin(u+s);return new t._SvgArcPathCommand(r,l,a,_,p,c,h)},e._a=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(this._r(t,e))},e._r=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(this._m(t)*this._m(e))},e._m=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},e}();t._PathCommandUtility=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isSvgPath=function(t){return null!=t&&null!=t._expression}}(t||(t={})),function(t){var e=function(){function e(t){void 0===t&&(t=null),this._pathCommands=null==t?[]:t}return Object.defineProperty(e.prototype,"expression",{get:function(){return t._PathCommandUtility._getPathExpression(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commands",{get:function(){return this._pathCommands},enumerable:!1,configurable:!0}),e.prototype.equalsWith=function(n){return null!=n&&(this==n||n instanceof e&&t._PathCommandEqualityComparer._pathCommandArrayEqualityComparer._equalsWith(this.commands,n.commands))},o([t.deprecated("expression","")],e.prototype,"expression",null),e}();t._Path=e}(t||(t={})),function(t){var e=function(e){function i(t){void 0===t&&(t=null);var n=e.call(this,null)||this;return n.__expression=null==t?"":t,n}return n(i,e),Object.defineProperty(i.prototype,"commands",{get:function(){if(""!=this._expression&&0==this._pathCommands.length){var e=t._PathCommandBuilder._defaultPathCommandBuilder._buildPathCommands(this.__expression);this._pathCommands=null==e?[]:e}return this._pathCommands},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_expression",{get:function(){return this.__expression},enumerable:!1,configurable:!0}),i.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof i&&this._expression===t._expression)},i}(t._Path);t._SvgPath=e}(t||(t={})),function(t){var e,n;e=t.core||(t.core={}),n=function(){function e(t,e){this.__x=t,this.__y=e}return Object.defineProperty(e.prototype,"x",{get:function(){return this.__x},set:function(e){if("number"!=typeof e||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__x!=e&&(this.__x=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__y},set:function(e){if("number"!=typeof e)throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__y!=e&&(this.__y=e)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equalsWith=function(t){return this.x==t.x&&this.y==t.y},e}(),e.Point=n}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._pointEqualityComparer=new i,i._pointArrayEqualityComparer=new t._ArrayEqualityComparer(i._pointEqualityComparer),i}(t._ObjectEqualityComparer);t._PointEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(e){void 0===e&&(e=null),this.__numberPixelRoundEqualityComparer=null==e?t._NumberPixelRoundEqualityComparer._numberPixelRoundEqualityComparer:new t._NumberPixelRoundEqualityComparer(e)}return e.prototype._equalsWith=function(t,e){return null==t&&null==e||null!=t&&null!=e&&this.__numberPixelRoundEqualityComparer._equalsWith(t.x,e.x)&&this.__numberPixelRoundEqualityComparer._equalsWith(t.y,e.y)},e._pointPixelRoundEqualityComparer=new e,e}();t._PointPixelRoundEqualityComparer=e}(t||(t={})),function(t){var e,n,i;e=t.core||(t.core={}),n=function(){function n(){this.__left=0,this.__top=0,this.__width=0,this.__height=0}return Object.defineProperty(n.prototype,"left",{get:function(){return this.__left},set:function(e){throw new t.AssertError(t.ErrorCode.OperationIsNotPermitted,"set left")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.__top},set:function(e){throw new t.AssertError(t.ErrorCode.OperationIsNotPermitted,"set top")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.__width},set:function(e){throw new t.AssertError(t.ErrorCode.OperationIsNotPermitted,"set width")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.__height},set:function(e){throw new t.AssertError(t.ErrorCode.OperationIsNotPermitted,"set height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"location",{get:function(){return new e.Point(this.left,this.top)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"center",{get:function(){return new e.Point(this.left+this.width/2,this.top+this.height/2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return new e.Size(this.width,this.height)},enumerable:!1,configurable:!0}),n.prototype.contains=function(t){return t.x>=this.left&&t.x<this.right&&t.y>=this.top&&t.y<this.bottom},n.prototype.intersectsWith=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},n.prototype.inflate=function(t,e){this.left-=t,this.top-=e,this.width+=2*t,this.height+=2*e},n.prototype.offset=function(t,e){this.left+=t,this.top+=e},n.prototype.clone=function(){return new n},n.prototype.equalsWith=function(t){return null!=t&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n}(),i=function(){function i(t,e,n,i){this.left=t,this.top=e,this.width=n,this.height=i}return Object.defineProperty(i.prototype,"left",{get:function(){return this.__left},set:function(e){if(!t._AnyTypeExtension._isNumber(e)||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__left!=e&&(this.__left=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.__top},set:function(e){if(!t._AnyTypeExtension._isNumber(e)||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__top!=e&&(this.__top=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(e){if(!t._AnyTypeExtension._isNumber(e)||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__width!=e&&(this.__width=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(e){if(!t._AnyTypeExtension._isNumber(e)||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__height!=e&&(this.__height=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.left+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"location",{get:function(){return new e.Point(this.left,this.top)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"center",{get:function(){return new e.Point(this.left+this.width/2,this.top+this.height/2)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return new e.Size(this.width,this.height)},enumerable:!1,configurable:!0}),i.prototype.contains=function(t){return t.x>=this.left&&t.x<this.right&&t.y>=this.top&&t.y<this.bottom},i.prototype.intersectsWith=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},i.prototype.inflate=function(t,e){this.left-=t,this.top-=e,this.width+=2*t,this.height+=2*e},i.prototype.offset=function(t,e){this.left+=t,this.top+=e},i.prototype.clone=function(){return new i(this.left,this.top,this.width,this.height)},i.prototype.equalsWith=function(t){return null!=t&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},i.ReadOnlyRect=new n,i}(),e.Rect=i}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e._rectangleEqualityComparer=new e,e}(t._ObjectEqualityComparer);t._RectangleEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(e){void 0===e&&(e=null),this.__numberPixelRoundEqualityComparer=null==e?t._NumberPixelRoundEqualityComparer._numberPixelRoundEqualityComparer:new t._NumberPixelRoundEqualityComparer(e)}return e.prototype._equalsWith=function(t,e){return null==t&&null==e||null!=t&&null!=e&&this.__numberPixelRoundEqualityComparer._equalsWith(t.left,e.left)&&this.__numberPixelRoundEqualityComparer._equalsWith(t.top,e.top)&&this.__numberPixelRoundEqualityComparer._equalsWith(t.width,e.width)&&this.__numberPixelRoundEqualityComparer._equalsWith(t.height,e.height)},e._rectanglePixelRoundEqualityComparer=new e,e}();t._RectanglePixelRoundEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e._unionOfRectangles=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray);for(var i=e[0].left,o=e[0].top,r=e[0].right,l=e[0].bottom,a=1;a<e.length;a++){var u=e[a];i=Math.min(i,u.left),o=Math.min(o,u.top),r=Math.max(r,u.right),l=Math.max(l,u.bottom)}return new t.core.Rect(i,o,r-i,l-o)},e._intersectionOfRectangle=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray);for(var i=e[0].left,o=e[0].top,r=e[0].right,l=e[0].bottom,a=1;a<e.length;a++){var u=e[a];i=Math.max(i,u.left),o=Math.max(o,u.top),r=Math.min(r,u.right),l=Math.min(l,u.bottom)}return r>=i&&l>=o?new t.core.Rect(i,o,r-i,l-o):new t.core.Rect(0,0,0,0)},e._inflateRectangle=function(t,e,n){return(t=t.clone()).inflate(e,n),t},e._scaleRectangle=function(t,e){if(t=t.clone(),e>0){var n=t.width*e,i=t.height*e;t.left-=(n-t.width)/2,t.top-=(i-t.height)/2,t.width=n,t.height=i}return t},e}();t._RectangleUtility=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype.buildRectangleRegion=function(e,n,i,o){return null!=e&&null!=n&&null!=i&&null!=o&&i>=0&&o>=0?new t._RectangleRegion(e,n,i,o):null},e.prototype.buildPathRegion=function(e){return null!=e?new t._PathRegion(e):null},e.prototype.buildEllipseRegion=function(e,n,i,o){return null!==e&&null!==n&&null!==i&&null!==o?new t._EllipseRegion(e,n,i,o):null},e.prototype.buildPolygonRegion=function(e){return null!=e&&e.length>0?new t._PolygonRegion(e):null},e.prototype.buildIntersectionRegion=function(e){return null!=e&&e.length>1?new t._IntersectionRegion(e):null},e.prototype.buildUnionRegion=function(e){return null!=e&&e.length>1?new t._UnionRegion(e):null},e.defaultRegionBuilder=new e,e}();t.RegionBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._regionEqualityComparer=new i,i._regionArrayEqualityComparer=new t._ArrayEqualityComparer(i._regionEqualityComparer),i}(t._ObjectEqualityComparer);t._RegionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){this.__type=t.RegionType.EllipseRegion,this.__cx=e,this.__cy=n,this.__rx=i,this.__ry=o}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cx",{get:function(){return this.__cx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cy",{get:function(){return this.__cy},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rx",{get:function(){return this.__rx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ry",{get:function(){return this.__ry},enumerable:!1,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isEllipseRegion(e)){var n=e;return this.type===n.type&&this.cx===n.cx&&this.cy===n.cy&&this.rx===n.rx&&this.ry===n.ry}return!1},e}();t._EllipseRegion=e}(t||(t={})),function(t){t._isEllipseRegion=function(e){var n=e;return n.type===t.RegionType.EllipseRegion&&null!=n.cx&&null!=n.cy&&null!=n.rx&&null!=n.ry}}(t||(t={})),function(t){t._isIntersectionRegion=function(e){var n=e;return n.type===t.RegionType.IntersectionRegion&&null!=n.regions}}(t||(t={})),function(t){var e=function(){function e(e){this.__type=t.RegionType.IntersectionRegion,this.__regions=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"regions",{get:function(){return this.__regions},enumerable:!1,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isIntersectionRegion(e)){var n=e;return t._RegionEqualityComparer._regionArrayEqualityComparer._equalsWith(this.regions,n.regions)}return!1},e}();t._IntersectionRegion=e}(t||(t={})),function(t){t._isPathRegion=function(e){var n=e;return n.type===t.RegionType.PathRegion&&null!=n.path}}(t||(t={})),function(t){var e=function(){function e(e){this.__type=t.RegionType.PathRegion,this.__path=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.__path},enumerable:!1,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isPathRegion(e)){var n=e;return this.path.equalsWith(n.path)}return!1},e}();t._PathRegion=e}(t||(t={})),function(t){t._isPolygonRegion=function(e){var n=e;return n.type===t.RegionType.PolygonRegion&&null!=n.points}}(t||(t={})),function(t){var e=function(){function e(e){this.__type=t.RegionType.PolygonRegion,this.__points=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"points",{get:function(){return this.__points},enumerable:!1,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isPolygonRegion(e)){var n=e;return t._PointEqualityComparer._pointArrayEqualityComparer._equalsWith(this.points,n.points)}return!1},e}();t._PolygonRegion=e}(t||(t={})),function(t){t._isRectangleRegion=function(e){var n=e;return n.type===t.RegionType.RectangleRegion&&null!=n.left&&null!=n.top&&null!=n.width&&null!=n.height}}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){this.__type=t.RegionType.RectangleRegion,this.__left=e,this.__top=n,this.__width=i,this.__height=o}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.__left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.__top},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.__width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.__height},enumerable:!1,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isRectangleRegion(e)){var n=e;return this.left===n.left&&this.top===n.top&&this.width===n.width&&this.height===n.height}return!1},e}();t._RectangleRegion=e}(t||(t={})),function(t){t._isUnionRegion=function(e){var n=e;return n.type===t.RegionType.UnionRegion&&null!=n.regions}}(t||(t={})),function(t){var e=function(){function e(e){this.__type=t.RegionType.UnionRegion,this.__regions=e}return Object.defineProperty(e.prototype,"type",{get:function(){return this.__type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"regions",{get:function(){return this.__regions},enumerable:!1,configurable:!0}),e.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(t._isUnionRegion(e)){var n=e;return t._RegionEqualityComparer._regionArrayEqualityComparer._equalsWith(this.regions,n.regions)}return!1},e}();t._UnionRegion=e}(t||(t={})),function(t){!function(t){t[t.RectangleRegion=0]="RectangleRegion",t[t.PathRegion=1]="PathRegion",t[t.EllipseRegion=2]="EllipseRegion",t[t.PolygonRegion=3]="PolygonRegion",t[t.IntersectionRegion=4]="IntersectionRegion",t[t.UnionRegion=5]="UnionRegion"}(t.RegionType||(t.RegionType={}))}(t||(t={})),function(t){var e,n;e=t.core||(t.core={}),n=function(){function e(t,e){this.width=t,this.height=e}return Object.defineProperty(e.prototype,"width",{get:function(){return this.__width},set:function(e){if("number"!=typeof e||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__width!=e&&(this.__width=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.__height},set:function(e){if("number"!=typeof e||isNaN(e))throw new t.RuntimeError(t.ErrorCode.LegalNumberValueRequired,e);this.__height!=e&&(this.__height=e)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.equalsWith=function(t){return null!=t&&this.width==t.width&&this.height==t.height},e}(),e.Size=n}(t||(t={})),function(t){var e=function(){this.fillOpacity=null,this.fill=null,this.strokeOpacity=null,this.stroke=null,this.strokeWidth=null,this.strokeDasharray=null,this.scalingStroke=null,this.fontSize=null,this.fontFamily=null,this.fontWeight=null,this.fontStyle=null,this.textOpacity=null,this.textFill=null,this.textOverline=null,this.textLineThrough=null,this.textUnderline=null,this.textWritingMode=null};t._Style=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._Style;return n.fillOpacity=e.fillOpacity,n.fill=e.fill,n.strokeOpacity=e.strokeOpacity,n.stroke=e.stroke,n.strokeWidth=e.strokeWidth,n.strokeDasharray=e.strokeDasharray,n.scalingStroke=e.scalingStroke,n.fontFamily=e.fontFamily,n.fontSize=e.fontSize,n.fontWeight=e.fontWeight,n.fontStyle=e.fontStyle,n.textOpacity=e.textOpacity,n.textFill=e.textFill,n.textOverline=e.textOverline,n.textLineThrough=e.textLineThrough,n.textUnderline=e.textUnderline,n.textWritingMode=e.textWritingMode,n},e._styleCloneMaker=new e,e}();t._StyleCloneMaker=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return null==e&&null==n||null!=e&&null!=n&&(e==n||e.fillOpacity===n.fillOpacity&&t._ColorEqualityComparer._colorEqualityComparer._equalsWith(e.fill,n.fill)&&e.strokeOpacity===n.strokeOpacity&&t._ColorEqualityComparer._colorEqualityComparer._equalsWith(e.stroke,n.stroke)&&e.strokeWidth===n.strokeWidth&&e.strokeDasharray===n.strokeDasharray&&e.scalingStroke===n.scalingStroke&&e.fontFamily===n.fontFamily&&e.fontSize===n.fontSize&&e.fontWeight===n.fontWeight&&e.fontStyle===n.fontStyle&&e.textOpacity===n.textOpacity&&e.textFill===n.textFill&&e.textOverline===n.textOverline&&e.textLineThrough===n.textLineThrough&&e.textUnderline===n.textUnderline&&e.textWritingMode===n.textWritingMode)},e._styleEqualityComparer=new e,e}();t._StyleEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildStyle=function(e,n,i,o,r,l,a){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null);var u=new t._Style;return null!=e&&(u.fillOpacity=e),null!=n&&(u.fill=new t._CssColor(n)),null!=i&&(u.strokeOpacity=i),null!=o&&(u.stroke=new t._CssColor(o)),null!=r&&(u.strokeWidth=r),null!=l&&(u.strokeDasharray=l),null!=a&&(u.scalingStroke=a),u},e._buildStrokeStyle=function(e,n,i,o,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null);var l=new t._Style;return null!=e&&(l.strokeOpacity=e),null!=n&&(l.stroke=new t._CssColor(n)),null!=i&&(l.strokeWidth=i),null!=o&&(l.strokeDasharray=o),null!=r&&(l.scalingStroke=r),l},e._buildFillStyle=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=new t._Style;return null!=e&&(i.fillOpacity=e),null!=n&&(i.fill=new t._CssColor(n)),i},e._applyStyle=function(t,e){null!=e&&(null!=e.fillOpacity&&(t.fillOpacity=e.fillOpacity),null!=e.fill&&(t.fill=e.fill),null!=e.strokeOpacity&&(t.strokeOpacity=e.strokeOpacity),null!=e.stroke&&(t.stroke=e.stroke),null!=e.strokeWidth&&(t.strokeWidth=e.strokeWidth),null!=e.strokeDasharray&&(t.strokeDasharray=e.strokeDasharray),null!=e.scalingStroke&&(t.scalingStroke=e.scalingStroke))},e._applyAllStyle=function(e,n){null!=n&&(null!=n.fillOpacity&&(e.fillOpacity=n.fillOpacity),null!=n.fill&&(e.fill=n.fill),null!=n.strokeOpacity&&(e.strokeOpacity=n.strokeOpacity),null!=n.stroke&&(e.stroke=n.stroke),null!=n.strokeWidth&&(e.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(e.strokeDasharray=n.strokeDasharray),null!=n.scalingStroke&&(e.scalingStroke=n.scalingStroke),null!=n.fontFamily&&(e.fontFamily=n.fontFamily),null!=n.fontSize&&(e.fontSize=n.fontSize),null!=n.fontWeight&&(e.fontWeight=n.fontWeight),null!=n.fontStyle&&(e.fontStyle=t._NativeExtension._toNonNullEnum(n.fontStyle,t.FontStyle.Normal)),null!=n.textOpacity&&(e.textOpacity=n.textOpacity),null!=n.textFill&&(e.textFill=n.textFill),null!=n.textOverline&&(e.textOverline=n.textOverline),null!=n.textLineThrough&&(e.textLineThrough=n.textLineThrough),null!=n.textUnderline&&(e.textUnderline=n.textUnderline),null!=n.textWritingMode&&(e.textWritingMode=n.textWritingMode))},e._applyStrokeStyle=function(t,e){null!=e&&(null!=e.strokeOpacity&&(t.strokeOpacity=e.strokeOpacity),null!=e.stroke&&(t.stroke=e.stroke),null!=e.strokeWidth&&(t.strokeWidth=e.strokeWidth),null!=e.strokeDasharray&&(t.strokeDasharray=e.strokeDasharray),null!=e.scalingStroke&&(t.scalingStroke=e.scalingStroke))},e._applyFillStyle=function(t,e){null!=e&&(null!=e.fillOpacity&&(t.fillOpacity=e.fillOpacity),null!=e.fill&&(t.fill=e.fill))},e._applyStroke=function(t,e){null!=e&&(t.stroke=e)},e._applyFill=function(t,e){null!=e&&(t.fill=e)},e._copyAllStyle=function(t,e){null!=e&&(t.fillOpacity=e.fillOpacity,t.fill=e.fill,t.strokeOpacity=e.strokeOpacity,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeDasharray=e.strokeDasharray,t.scalingStroke=e.scalingStroke,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontWeight=e.fontWeight,t.fontStyle=e.fontStyle,t.textOpacity=e.textOpacity,t.textFill=e.textFill,t.textOverline=e.textOverline,t.textLineThrough=e.textLineThrough,t.textUnderline=e.textUnderline,t.textWritingMode=e.textWritingMode)},e._scaleVisualValue=function(t,n){var i=parseFloat(t),o=e._getSuffix(t);return isNaN(i)?t:(i*n).toString()+o},e._getSuffix=function(t){var e=/[^\d+-\.]/g.exec(t);return null!=e?t.substring(e.index):""},e}();t._StyleUtility=e}(t||(t={})),function(t){!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(t.TextWritingMode||(t.TextWritingMode={}))}(t||(t={})),function(t){!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(t.Orientation||(t.Orientation={}))}(t||(t={})),function(t){var e=function(){function e(){}return e._element=function(t){return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):t&&t.jquery?t[0]:null},e._getCombinedMatrix=function(n){for(var i=new t.Matrix,o=n;null!=o;)i.transform(e._getElementMatrix(o)),o=o.parentElement;return i},e._getElementMatrix=function(n){var i=[1,0,0,1,0,0],o=e._getComputedStyle(n);if(null!=o&&null!=o.transform&&o.transform.indexOf("matrix")>=0)for(var r=o.transform.slice(7,-1).split(","),l=0;l<r.length&&l<6;l++)i[l]=parseFloat(r[l]);return new t.Matrix(i)},e._getActiveElement=function(){var t=document.activeElement;return null!=t&&null!=t.shadowRoot&&(t=t.shadowRoot.activeElement),t},e._getComputedStyle=function(t){return null!=t&&null!=t.ownerDocument&&null!=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t):null},e._getElementRect=function(e){var n=e.getBoundingClientRect();return new t.core.Rect(n.left+pageXOffset,n.top+pageYOffset,n.width,n.height)},e._contains=function(t,e){for(var n=e;null!=n;){if(n===t)return!0;n=null==n.parentNode?n instanceof Element&&null!=n.shadowRoot?n.shadowRoot.host:null:n.parentNode}return!1},e._remove=function(t){null!=t&&null!=t.parentNode&&t.parentNode.removeChild(t)},e._replace=function(t,e){null!=e&&null!=e.parentNode&&e.parentNode.replaceChild(t,e)},e._empty=function(t){if(null!=t)for(t.innerHTML="";null!=t.firstChild;)t.removeChild(t.firstChild)},e._hasClass=function(e,n){if(t._NativeExtension._isNullOrWhiteSpace(n))return!1;var i=e.getAttribute("class");return null!=i&&new RegExp("(\\s|^)"+n.trim()+"(\\s|$)").test(i)},e._addClass=function(n,i){if(!t._NativeExtension._isNullOrWhiteSpace(i)&&(i=i.trim(),!e._hasClass(n,i))){var o=n.getAttribute("class");n.setAttribute("class",null!=o?o+" "+i:i)}},e._removeClass=function(n,i){if(!t._NativeExtension._isNullOrWhiteSpace(i)&&(i=i.trim(),e._hasClass(n,i))){var o=n.getAttribute("class");if(null!=o){var r=new RegExp("((\\s|^)"+i+"(\\s|$))","g");o=o.replace(r," ").replace(/ +/g," ").trim(),n.setAttribute("class",o)}}},e._setCss=function(e,n){for(var i=e.style,o=0,r=t._NativeExtension.properties(n,!0);o<r.length;o++){var l=r[o],a=n[l];"number"==typeof a&&l.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(a+="px"),i[l]!=a&&(i[l]=a.toString())}},e._enable=function(t,n){n?(t.removeAttribute("disabled"),e._removeClass(t,"gcdv-state-focused")):(t.setAttribute("disabled","true"),e._addClass(t,"gcdv-state-focused"));for(var i=t.querySelectorAll("input"),o=0,r=i.length;o<r;o++){var l=i[o];n?l.removeAttribute("disabled"):l.setAttribute("disabled","true")}},e}();t._DomElementUtility=e}(t||(t={})),function(t){!function(t){t[t.List=0]="List",t[t.Sum=1]="Sum",t[t.Count=2]="Count",t[t.Average=3]="Average",t[t.Max=4]="Max",t[t.Min=5]="Min",t[t.Range=6]="Range",t[t.StandardDeviation=7]="StandardDeviation",t[t.Variance=8]="Variance",t[t.PopulationStandardDeviation=9]="PopulationStandardDeviation",t[t.PopulationVariance=10]="PopulationVariance",t[t.CountOfAll=11]="CountOfAll",t[t.CountDistinct=12]="CountDistinct"}(t.Aggregate||(t.Aggregate={}))}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Near=1]="Near",t[t.Far=2]="Far"}(t.AxisPosition||(t.AxisPosition={}))}(t||(t={})),function(t){!function(t){t[t.Control=0]="Control",t[t.Header=1]="Header",t[t.Footter=2]="Footter",t[t.PlotArea=3]="PlotArea",t[t.Legend=4]="Legend",t[t.LegendItem=260]="LegendItem",t[t.LegendTitle=516]="LegendTitle",t[t.LegendItemSymbol=772]="LegendItemSymbol",t[t.LegendItemLabel=1028]="LegendItemLabel",t[t.PlotsPane=5]="PlotsPane",t[t.Plot=6]="Plot",t[t.DataPoint=7]="DataPoint",t[t.DataPointLabel=263]="DataPointLabel",t[t.Series=8]="Series",t[t.Axis=9]="Axis",t[t.AxisLabel=265]="AxisLabel",t[t.AxisTitle=521]="AxisTitle",t[t.AxisUnitLabel=777]="AxisUnitLabel",t[t.GridLine=10]="GridLine",t[t.Trellis=16]="Trellis",t[t.TrellisRowHeader=272]="TrellisRowHeader",t[t.TrellisColumnHeader=528]="TrellisColumnHeader",t[t.TrellisRow=784]="TrellisRow",t[t.TrellisColumn=1040]="TrellisColumn",t[t.TrellisCell=1296]="TrellisCell",t[t.TrellisCorner=1552]="TrellisCorner",t[t.OverlayItem=17]="OverlayItem",t[t.TextOverlayItem=273]="TextOverlayItem",t[t.RectangleOverlayItem=529]="RectangleOverlayItem",t[t.EllipseOverlayItem=785]="EllipseOverlayItem",t[t.ImageOverlayItem=1041]="ImageOverlayItem",t[t.LineOverlayItem=1297]="LineOverlayItem",t[t.NeedleOverlayItem=1553]="NeedleOverlayItem",t[t.TrendLineOverlayItem=1809]="TrendLineOverlayItem",t[t.ReferenceLineOverlayItem=2065]="ReferenceLineOverlayItem",t[t.ErrorBarOverlayItem=2321]="ErrorBarOverlayItem",t[t.Overlay=18]="Overlay",t[t.Node=19]="Node",t[t.Flow=20]="Flow",t[t.DataScaleBar=21]="DataScaleBar",t[t.DataScaleThumbHandler=277]="DataScaleThumbHandler",t[t.DataScaleScaleHandler=533]="DataScaleScaleHandler"}(t.ElementType||(t.ElementType={}))}(t||(t={})),function(t){!function(t){t[t.Front=0]="Front",t[t.Back=1]="Back",t[t.FrontOfPlot=2]="FrontOfPlot",t[t.BackOfPlot=3]="BackOfPlot"}(t.OverlayDisplay||(t.OverlayDisplay={}))}(t||(t={})),function(t){!function(t){t[t.OptionChanged=0]="OptionChanged",t[t.Resizing=1]="Resizing"}(t._RefreshReason||(t._RefreshReason={}))}(t||(t={})),function(t){!function(t){!function(t){t[t.Unknown=0]="Unknown",t[t.Object=1]="Object",t[t.String=2]="String",t[t.Number=3]="Number",t[t.Boolean=4]="Boolean",t[t.Date=5]="Date",t[t.Array=6]="Array"}(t.DataType||(t.DataType={}))}(t.core||(t.core={}))}(t||(t={})),function(t){!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(t.AxisType||(t.AxisType={}))}(t||(t={})),function(t){!function(t){t[t.Aggregate=0]="Aggregate",t[t.Bin=1]="Bin",t[t.Calculate=2]="Calculate",t[t.Unpivot=3]="Unpivot"}(t.TransformType||(t.TransformType={}))}(t||(t={})),function(t){!function(t){t[t.Linear=0]="Linear",t[t.Swing=1]="Swing",t[t.EaseInQuad=2]="EaseInQuad",t[t.EaseOutQuad=3]="EaseOutQuad",t[t.EaseInOutQuad=4]="EaseInOutQuad",t[t.EaseInCubic=5]="EaseInCubic",t[t.EaseOutCubic=6]="EaseOutCubic",t[t.EaseInOutCubic=7]="EaseInOutCubic",t[t.EaseInQuart=8]="EaseInQuart",t[t.EaseOutQuart=9]="EaseOutQuart",t[t.EaseInOutQuart=10]="EaseInOutQuart",t[t.EaseInQuint=11]="EaseInQuint",t[t.EaseOutQuint=12]="EaseOutQuint",t[t.EaseInOutQuint=13]="EaseInOutQuint",t[t.EaseInSine=14]="EaseInSine",t[t.EaseOutSine=15]="EaseOutSine",t[t.EaseInOutSine=16]="EaseInOutSine",t[t.EaseInExpo=17]="EaseInExpo",t[t.EaseOutExpo=18]="EaseOutExpo",t[t.EaseInOutExpo=19]="EaseInOutExpo",t[t.EaseInCirc=20]="EaseInCirc",t[t.EaseOutCirc=21]="EaseOutCirc",t[t.EaseInOutCirc=22]="EaseInOutCirc",t[t.EaseInBack=23]="EaseInBack",t[t.EaseOutBack=24]="EaseOutBack",t[t.EaseInOutBack=25]="EaseInOutBack",t[t.EaseInBounce=26]="EaseInBounce",t[t.EaseOutBounce=27]="EaseOutBounce",t[t.EaseInOutBounce=28]="EaseInOutBounce",t[t.EaseInElastic=29]="EaseInElastic",t[t.EaseOutElastic=30]="EaseOutElastic",t[t.EaseInOutElastic=31]="EaseInOutElastic"}(t.AnimationEasing||(t.AnimationEasing={}))}(t||(t={})),function(t){!function(t){t[t.All=0]="All",t[t.Point=1]="Point",t[t.Group=2]="Group"}(t.AnimationMode||(t.AnimationMode={}))}(t||(t={})),function(t){!function(t){t[t.Highlight=0]="Highlight",t[t.Loading=1]="Loading",t[t.Update=2]="Update",t[t.Hover=3]="Hover",t[t.Effect=4]="Effect",t[t.Layout=5]="Layout",t[t.Resize=6]="Resize"}(t.AnimationType||(t.AnimationType={}))}(t||(t={})),function(t){!function(t){t[t.Cartesian=0]="Cartesian",t[t.Radial=1]="Radial",t[t.Polygonal=2]="Polygonal"}(t.AxisMode||(t.AxisMode={}))}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Fit=1]="Fit",t[t.Clip=2]="Clip"}(t.ClippingMode||(t.ClippingMode={}))}(t||(t={})),function(t){!function(t){t[t.Linear=0]="Linear",t[t.Radial=1]="Radial",t[t.CssColor=2]="CssColor",t[t.Pattern=3]="Pattern"}(t.ColorOptionType||(t.ColorOptionType={}))}(t||(t={})),function(t){!function(t){t[t.Start=0]="Start",t[t.End=1]="End",t[t.GroupStart=2]="GroupStart",t[t.GroupEnd=3]="GroupEnd",t[t.Custom=4]="Custom"}(t.ConcatType||(t.ConcatType={}))}(t||(t={})),function(t){!function(t){t[t.MilliSecond=0]="MilliSecond",t[t.Second=1]="Second",t[t.Minute=2]="Minute",t[t.Hour=3]="Hour",t[t.Day=4]="Day",t[t.Week=5]="Week",t[t.Month=6]="Month",t[t.Year=7]="Year"}(t.DateMode||(t.DateMode={}))}(t||(t={})),function(t){!function(t){t[t.Normal=0]="Normal",t[t.Bold=1]="Bold",t[t.Bolder=2]="Bolder",t[t.Lighter=3]="Lighter"}(t.FontWeight||(t.FontWeight={}))}(t||(t={})),function(t){!function(t){t[t.Default=0]="Default",t[t.EqualBar=1]="EqualBar",t[t.Bar=2]="Bar"}(t.FunnelType||(t.FunnelType={}))}(t||(t={})),function(t){!function(t){t[t.ClosestSide=0]="ClosestSide",t[t.ClosestCorner=1]="ClosestCorner",t[t.FarthestSide=2]="FarthestSide",t[t.FarthestCorner=3]="FarthestCorner"}(t.GradientExtentKeyword||(t.GradientExtentKeyword={}))}(t||(t={})),function(t){!function(t){t[t.Default=0]="Default",t[t.Radius=1]="Radius",t[t.InnerRadius=2]="InnerRadius"}(t.GradientFillDirection||(t.GradientFillDirection={}))}(t||(t={})),function(t){!function(t){t[t.Center=0]="Center",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Top=3]="Top",t[t.Bottom=4]="Bottom"}(t.GradientPositionKeyword||(t.GradientPositionKeyword={}))}(t||(t={})),function(t){!function(t){t[t.ToLeft=65536]="ToLeft",t[t.ToRight=65537]="ToRight",t[t.ToTop=65538]="ToTop",t[t.ToBottom=65539]="ToBottom",t[t.ToLeftTop=65540]="ToLeftTop",t[t.ToRightTop=65541]="ToRightTop",t[t.ToLeftBottom=65542]="ToLeftBottom",t[t.ToRightBottom=65543]="ToRightBottom"}(t.GradientSideOrCorner||(t.GradientSideOrCorner={}))}(t||(t={})),function(t){!function(t){t[t.Cluster=0]="Cluster",t[t.Stack=1]="Stack",t[t.Mirror=2]="Mirror"}(t.Group||(t.Group={}))}(t||(t={})),function(t){!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(t.HAlign||(t.HAlign={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto"}(t.HeaderFooterWidthOptionType||(t.HeaderFooterWidthOptionType={}))}(t||(t={})),function(t){!function(t){t[t.Left=0]="Left",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.None=4]="None",t[t.Floating=5]="Floating"}(t.LegendPosition||(t.LegendPosition={}))}(t||(t={})),function(t){!function(t){t[t.Color=0]="Color",t[t.Size=1]="Size",t[t.Shape=2]="Shape",t[t.Overlay=3]="Overlay",t[t.BackgroundColor=4]="BackgroundColor",t[t.Lightness=5]="Lightness"}(t.LegendType||(t.LegendType={}))}(t||(t={})),function(t){!function(t){t[t.Default=0]="Default",t[t.Spline=1]="Spline",t[t.StepLeft=2]="StepLeft",t[t.StepRight=3]="StepRight",t[t.StepCenter=4]="StepCenter",t[t.BezierCurve=5]="BezierCurve"}(t.LineAspect||(t.LineAspect={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Center=1]="Center"}(t.LinePosition||(t.LinePosition={}))}(t||(t={})),function(t){!function(t){t[t.Ascending=0]="Ascending",t[t.Descending=1]="Descending",t[t.None=2]="None"}(t.OrderType||(t.OrderType={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Show=1]="Show",t[t.Hide=2]="Hide",t[t.HideAll=3]="HideAll",t[t.Smart=4]="Smart"}(t.OverlappingLabels||(t.OverlappingLabels={}))}(t||(t={})),function(t){!function(t){t[t.TopLeft=0]="TopLeft",t[t.TopCenter=1]="TopCenter",t[t.TopRight=2]="TopRight",t[t.BottomLeft=3]="BottomLeft",t[t.BottomCenter=4]="BottomCenter",t[t.BottomRight=5]="BottomRight",t[t.MiddleLeft=6]="MiddleLeft",t[t.MiddleRight=7]="MiddleRight",t[t.MiddleCenter=8]="MiddleCenter"}(t.OverlayLabelPosition||(t.OverlayLabelPosition={}))}(t||(t={})),function(t){!function(t){t[t.Standard=0]="Standard",t[t.Cocoa=1]="Cocoa",t[t.Coral=2]="Coral",t[t.Dark=3]="Dark",t[t.HighContrast=4]="HighContrast",t[t.Light=5]="Light",t[t.Midnight=6]="Midnight",t[t.Modern=7]="Modern",t[t.Organic=8]="Organic",t[t.Slate=9]="Slate",t[t.Zen=10]="Zen",t[t.Cyborg=11]="Cyborg",t[t.Superhero=12]="Superhero",t[t.Flatly=13]="Flatly",t[t.Darkly=14]="Darkly",t[t.Cerulan=15]="Cerulan",t[t.Office=16]="Office",t[t.Office2010=17]="Office2010",t[t.Grayscale=18]="Grayscale",t[t.BlueWarm=19]="BlueWarm",t[t.Blue=20]="Blue",t[t.Blue2=21]="Blue2",t[t.BlueGreen=22]="BlueGreen",t[t.Green=23]="Green",t[t.GreenYellow=24]="GreenYellow",t[t.Yellow=25]="Yellow",t[t.YellowOrange=26]="YellowOrange",t[t.Orange=27]="Orange",t[t.OrangeRed=28]="OrangeRed",t[t.RedOrange=29]="RedOrange",t[t.Red=30]="Red",t[t.RedViolet=31]="RedViolet",t[t.Violet=32]="Violet",t[t.Violet2=33]="Violet2",t[t.Median=34]="Median",t[t.Paper=35]="Paper",t[t.Marquee=36]="Marquee",t[t.Slipstream=37]="Slipstream",t[t.Aspect=38]="Aspect"}(t.Palette||(t.Palette={}))}(t||(t={})),function(t){!function(t){!function(t){t[t.Index=0]="Index",t[t.Data=1]="Data"}(t.PaletteItemType||(t.PaletteItemType={}))}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t[t.Exclusive=0]="Exclusive",t[t.Inclusive=1]="Inclusive"}(t.PercentileType||(t.PercentileType={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Left=1]="Left",t[t.Top=2]="Top",t[t.Right=3]="Right",t[t.Bottom=4]="Bottom"}(t.Placement||(t.Placement={}))}(t||(t={})),function(t){!function(t){t[t.Left=0]="Left",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.None=4]="None"}(t.Position||(t.Position={}))}(t||(t={})),function(t){!function(t){t[t.Sum=1]="Sum",t[t.Count=2]="Count",t[t.Average=3]="Average",t[t.Max=4]="Max",t[t.Min=5]="Min",t[t.Median=6]="Median",t[t.Percentile=7]="Percentile"}(t.ReferenceLineAggregate||(t.ReferenceLineAggregate={}))}(t||(t={})),function(t){!function(t){t[t.SVG=0]="SVG",t[t.Canvas=1]="Canvas"}(t.RenderMethod||(t.RenderMethod={}))}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Point=1]="Point",t[t.Points=2]="Points",t[t.Group=3]="Group",t[t.Color=4]="Color",t[t.Shape=5]="Shape",t[t.Size=6]="Size",t[t.LegendSingle=7]="LegendSingle",t[t.LegendMultiple=8]="LegendMultiple",t[t.Category=9]="Category",t[t.Custom=10]="Custom",t[t.Trellis=11]="Trellis",t[t.Node=12]="Node"}(t.SelectionMode||(t.SelectionMode={}))}(t||(t={})),function(t){!function(t){t[t.Gaps=0]="Gaps",t[t.Zeros=1]="Zeros",t[t.Connected=2]="Connected"}(t.ShowNulls||(t.ShowNulls={}))}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Reversed=1]="Reversed",t[t.Ascending=2]="Ascending",t[t.Descending=3]="Descending"}(t.SortOrder||(t.SortOrder={}))}(t||(t={})),function(t){!function(t){t[t.Index=0]="Index",t[t.Data=1]="Data"}(t.SymbolItemType||(t.SymbolItemType={}))}(t||(t={})),function(t){!function(t){t[t.Normal=0]="Normal",t[t.Overline=1]="Overline",t[t.LineThrough=2]="LineThrough",t[t.Underline=4]="Underline"}(t.TextDecoration||(t.TextDecoration={}))}(t||(t={})),function(t){!function(t){t[t.Clip=0]="Clip",t[t.Ellipsis=1]="Ellipsis",t[t.Wrap=2]="Wrap"}(t.TextOverflow||(t.TextOverflow={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Outside=1]="Outside",t[t.Center=2]="Center",t[t.Inside=3]="Inside",t[t.Smart=4]="Smart"}(t.TextPosition||(t.TextPosition={}))}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Cross=3]="Cross"}(t.TickMark||(t.TickMark={}))}(t||(t={})),function(t){!function(t){t[t.CrossX=0]="CrossX",t[t.CrossY=1]="CrossY",t[t.Area=2]="Area"}(t.TrackerType||(t.TrackerType={}))}(t||(t={})),function(t){!function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"}(t.VAlign||(t.VAlign={}))}(t||(t={})),function(t){!function(t){t[t.Number=0]="Number",t[t.Date=1]="Date",t[t.Percentage=2]="Percentage",t[t.Pixel=3]="Pixel",t[t.Enum=4]="Enum",t[t.Available=5]="Available"}(t.ValueOptionType||(t.ValueOptionType={}))}(t||(t={})),function(t){!function(t){t[t.Ordinal=0]="Ordinal",t[t.Linear=1]="Linear",t[t.Logarithmic=2]="Logarithmic",t[t.Percentage=3]="Percentage",t[t.Date=4]="Date"}(t.ValueScaleType||(t.ValueScaleType={}))}(t||(t={})),function(t){!function(t){t[t.Center=0]="Center",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Middle=3]="Middle",t[t.Top=4]="Top",t[t.Bottom=5]="Bottom"}(t.AnnotationAlign||(t.AnnotationAlign={}))}(t||(t={})),function(t){!function(t){t[t.DataPoint=0]="DataPoint",t[t.PlotCoordinate=1]="PlotCoordinate",t[t.ClientCoordinate=2]="ClientCoordinate"}(t.AnnotationAttachment||(t.AnnotationAttachment={}))}(t||(t={})),function(t){!function(t){t[t.Center=0]="Center",t[t.Inside=1]="Inside",t[t.Outside=2]="Outside"}(t.AnnotationPosition||(t.AnnotationPosition={}))}(t||(t={})),function(t){!function(t){t[t.Rectangle=0]="Rectangle",t[t.Ellipse=1]="Ellipse",t[t.Line=2]="Line",t[t.Image=3]="Image",t[t.Text=4]="Text",t[t.Polygon=5]="Polygon",t[t.Path=6]="Path"}(t.AnnotationType||(t.AnnotationType={}))}(t||(t={})),function(t){var e=function(){function e(t){this._strictMode=t}return e.prototype.canConvert=function(t,e,n){return!0},e.prototype.toJson=function(t){return null},e.prototype._processError=function(e,n){if(void 0===n&&(n=t.ErrorCode.UnexpectedValue),this._strictMode)throw new t.OptionError(n,e)},e}();t.JsonConverter=e}(t||(t={})),function(t){t.JsonConverterAttribute=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return function(o,r,l){var a=l.set;l.set=function(r,l){null==l&&(l=new t.JsonSerializerSettings);var u=l.strictMode;null!=u&&(null==n&&(n=[]),n[0]=u);var s=new(e.bind.apply(e,i([void 0],n,!1)));if(s.canConvert(o,r,l)){var _=s.fromJson(r,l);a.call(this,_,u)}else a.call(this,r,u)}}}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(e,n,i){var o=n;if(t._JsonElementUtility._isArray(n))for(var r=0,l=t._JsonElementUtility._getAsArray(n);r<l.length;r++){var a=l[r];if(!t._JsonElementUtility._isNull(a)){o=a;break}}return!(!t._JsonElementUtility._isNull(o)&&t.OptionSerializer._isOptionObject(o))},i}(t.JsonConverter);t._BaseOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?new t.options._OverlayOption(e,null!=n.strictMode&&0!=n.strictMode):null},i}(t._BaseOptionConverter);t._OverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isBoolean(e)?t._JsonElementUtility._getAsBoolean(e)?new t.options._AnimationOption(null,null!=n.strictMode&&0!=n.strictMode):null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._AnimationOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._AnimationOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){void 0===i&&(i=!0),void 0===o&&(o=!0);var r=e.call(this,t)||this;return r.__itemType=n,r.__castAsArray=i,r.__skipNotMatchedItem=o,r}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=[];if(t._JsonElementUtility._isArray(e)?i=t._JsonElementUtility._getAsArray(e):this.__castAsArray&&(i=[e]),"string"==this.__itemType)return this._toStringArray(i,this.__skipNotMatchedItem);if("number"==this.__itemType)return this._toNumberArray(i,this.__skipNotMatchedItem);if("boolean"==this.__itemType)return this._toBooleanArray(i,this.__skipNotMatchedItem);if("object"==this.__itemType)return this._toObjectArray(i);throw new t.AssertError(t.ErrorCode.AssertPrompt)},i.prototype._toStringArray=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isString(l)){var a=t._JsonElementUtility._getAsString(l);i.push(a)}else if(!n)throw new t.OptionError(t.ErrorCode.StringRequired)}return i},i.prototype._toNumberArray=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isNumber(l)){var a=t._JsonElementUtility._getAsDouble(l);i.push(a)}else if(!n)throw new t.OptionError(t.ErrorCode.NumberRequired)}return i},i.prototype._toBooleanArray=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isBoolean(l)){var a=t._JsonElementUtility._getAsBoolean(l);i.push(a)}else if(!n)throw new t.OptionError(t.ErrorCode.BooleanRequired)}return i},i.prototype._toObjectArray=function(e){return t.OptionSerializer._toObjectArray(e)},i._toArrayOption=function(e,n,i,o,r){if(void 0===r&&(r=!0),t._JsonElementUtility._isNull(e))return i;for(var l=[],a=0,u=t._JsonElementUtility._isArray(e)?t._JsonElementUtility._getAsArray(e):[e];a<u.length;a++){var s=o(u[a],n);null==s&&r||l.push(s)}return l.length>0?l:i},i}(t.JsonConverter);t._ArrayConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===i&&(i=!0);var o=e.call(this,t)||this;return o.__optionType=n,o.__castAsArray=i,o}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=[];t._JsonElementUtility._isArray(e)?i=t._JsonElementUtility._getAsArray(e):this.__castAsArray&&(i=[e]);for(var o=[],r=0,l=i;r<l.length;r++){var a=l[r],u=new t._OptionConverter(this._strictMode,this.__optionType).fromJson(a,n);null==u||o.push(u)}return o},i}(t._BaseOptionConverter);t._ArrayOptionConverter=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNumber(e)){var i=new t.options._AxisUnitOption(null,null!=n.strictMode&&0!=n.strictMode);return i.value=t._JsonElementUtility._getAsDouble(e),i.dateMode=null,i}return t._JsonElementUtility._isObject(e)||t._JsonElementUtility._isNull(e)?t.OptionSerializer.deserialize(new t.options._AxisUnitOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._AxisUnitOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isBoolean(e)){if(t._JsonElementUtility._getAsBoolean(e)){var i=new t.options._BinOption(null,null!=n.strictMode&&0!=n.strictMode);return i.steps=[],i}return null}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._BinOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._BinOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n){void 0===n&&(n=null);var i=e.call(this,t)||this;return i.__defaultValue=n,i}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?this.__defaultValue:t._JsonElementUtility._isBoolean(e)?t._JsonElementUtility._getAsBoolean(e):(this._processError(e,t.ErrorCode.BooleanRequired),this.__defaultValue)},i}(t.JsonConverter);t._BooleanConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e).split("/",2);if(1==i.length)return(o=new t.options._BorderRadiusOption(null,null!=n.strictMode&&0!=n.strictMode)).horizontalRadius=t.options._BorderRadiusOptionExtension._parseString(i[0],n),o.verticalRadius=t.options._BorderRadiusOptionExtension._parseString(i[0],n),o;if(2==i.length)return(o=new t.options._BorderRadiusOption(null,null!=n.strictMode&&0!=n.strictMode)).horizontalRadius=t.options._BorderRadiusOptionExtension._parseString(i[0],n),o.verticalRadius=t.options._BorderRadiusOptionExtension._parseString(i[1],n),o}if(t._JsonElementUtility._isNumber(e)){var o,r=t._JsonElementUtility._getAsDouble(e);return(o=new t.options._BorderRadiusOption(null,null!=n.strictMode&&0!=n.strictMode)).horizontalRadius=t.options._BorderRadiusOptionExtension._parseNumber(r,n),o.verticalRadius=t.options._BorderRadiusOptionExtension._parseNumber(r,n),o}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._BorderRadiusOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._BorderRadiusOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isString(e)?t.options._BorderRadiusOptionExtension._parseString(t._JsonElementUtility._getAsString(e),n):t._JsonElementUtility._isNumber(e)?t.options._BorderRadiusOptionExtension._parseNumber(t._JsonElementUtility._getAsDouble(e),n):t._JsonElementUtility._isObject(e)||t._JsonElementUtility._isNull(e)?t.OptionSerializer.deserialize(new t.options._BorderRadiusValueOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._BorderRadiusValueOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var o=t._JsonElementUtility._getAsString(e);if(t._NativeExtension._isNullOrEmptyString(o))return null;if(null!=(r=i._toColorOptionFromString(o,n)))return r;this._processError(e)}if(t._JsonElementUtility._isObject(e)){var r;if(null!=(r=i._toColorOptionFromObject(e,n)))return r.type==t.ColorOptionType.CssColor&&null==r.color?null:r;this._processError(e)}return this._processError(e),null},i._toColorOptionFromString=function(e,n){void 0===n&&(n=null),null==n&&(n=new t.JsonSerializerSettings),e=e.trim();var o=i._toCssColorOptionFromCss(e,n);if(null!=o)return o;var r=i._toLinearGradientOptionFromCss(e,n);if(null!=r)return r;var l=i._toRadialGradientOptionFromCss(e,n);return null!=l?l:null},i._toColorOptionFromObject=function(e,n){if(void 0===n&&(n=null),null==n&&(n=new t.JsonSerializerSettings),t._JsonElementUtility._hasProperty(e,"type")){var i=t._AnyTypeExtension._toEnumValueOrNull(t._JsonElementUtility._getProperty(e,"type"),t.ColorOptionType);if(null!=i){var o=t._NativeExtension._enumValueToEnum(i,t.ColorOptionType);if(o==t.ColorOptionType.Linear){var r=t.OptionSerializer.deserialize(new t.options._LinearGradientOption,e,n);return r.colorStops.length<=0?null:r}if(o==t.ColorOptionType.Radial){var l=t.OptionSerializer.deserialize(new t.options._RadialGradientOption,e,n);return l.colorStops.length<=0?null:l}if(o==t.ColorOptionType.Pattern)return t.OptionSerializer.deserialize(new t.options._PatternOption,e,n);if(o==t.ColorOptionType.CssColor)return t.OptionSerializer.deserialize(new t.options._CssColorOption,e,n)}throw new t.OptionError(t.ErrorCode.UnexpectedValue,t._JsonElementUtility._getProperty(e,"type"))}return t._JsonElementUtility._hasProperty(e,"pattern")?t.OptionSerializer.deserialize(new t.options._PatternOption,e,n):t._JsonElementUtility._hasProperty(e,"color")?t.OptionSerializer.deserialize(new t.options._CssColorOption,e,n):null},i._toCssColorOptionFromCss=function(e,n){if(null==e)return null;var i=t._OptionUtility._toStringColorFromString(e);return null==i?null:t.options._CssColorOption._buildColorOption(i)},i._toLinearGradientOptionFromCss=function(t,e){var n=t.match(/^\s*(\w*-\w*)\((.*)\)/);return null==n||"linear-gradient"!=n[1]?null:i._toLinearGradientOptionFromExpression(n[2],e)},i._toRadialGradientOptionFromCss=function(t,e){var n=t.match(/^\s*(\w*-\w*)\((.*)\)/);return null==n||"radial-gradient"!=n[1]?null:i._toRadialGradientOptionFromExpression(n[2],e)},i._toRadialGradientOptionFromExpression=function(e,n){var o=new t.options._RadialGradientOption(null,null!=n.strictMode&&0!=n.strictMode),r=e.split(new RegExp(",(?![^()]*\\))")),l=e.match(new RegExp("\\s*((closest-side|closest-corner|farthest-side|farthest-corner)\\s+)?(at(((\\s+([\\d.]+%|center|((left|right)(?!\\s+(left|right)))|((top|bottom)(?!\\s+(top|bottom))))){1,2})|((\\s+(((left|right)(?!\\s+[\\d.]+%\\s+(left|right))\\s+[\\d.]+%)|((top|bottom)(?!\\s+[\\d.]+%\\s+(top|bottom))\\s+[\\d.]+%))){2}))(?=\\s*\\,))?"));null==l||null==l[2]&&null==l[4]||r.shift();for(var a=[],u=0;u<r.length;u++){var s=t._ColorStopOptionConverter._toColorStopOptionFromString(r[u],n);null!=s&&a.push(s)}return o.colorStops=a,null!=l&&null!=l[2]&&("closest-side"==l[2]?o.extentKeyword=t.GradientExtentKeyword.ClosestSide:"closest-corner"==l[2]?o.extentKeyword=t.GradientExtentKeyword.ClosestCorner:"farthest-side"==l[2]?o.extentKeyword=t.GradientExtentKeyword.FarthestSide:"farthest-corner"==l[2]&&(o.extentKeyword=t.GradientExtentKeyword.FarthestCorner)),null!=l&&null!=l[4]&&(o.position=i._toRadialGradientOptionPositionFromExpression(l[4].trim(),n)),o},i._toRadialGradientOptionPositionFromExpression=function(e,n){var i=new t.options._GradientPositionOption(null,null!=n.strictMode&&0!=n.strictMode);i.keyword=t.GradientPositionKeyword.Left,i.offset=.5;var o=new t.options._GradientPositionOption(null,null!=n.strictMode&&0!=n.strictMode);o.keyword=t.GradientPositionKeyword.Top,o.offset=.5;for(var r=e.split(/\s+/),l=r.length,a=0;a<l;a++){var u=r[a];if(u.search("%")==u.length-1){u=u.slice(0,u.length-1);var s=Number(u)/100;isNaN(s)||(1==l||0==a?(i.keyword=t.GradientPositionKeyword.Left,i.offset=s):2==l&&1==a?"top"==r[a-1]||"bottom"==r[a-1]?i.offset=s:o.offset=s:4==l&&("left"!=r[a-1]&&"right"!=r[a-1]||(i.offset=s),"top"!=r[a-1]&&"bottom"!=r[a-1]||(o.offset=s)))}"top"==u?(o.keyword=t.GradientPositionKeyword.Top,o.offset=0):"bottom"==u?(o.keyword=t.GradientPositionKeyword.Bottom,o.offset=0):"left"==u?(i.keyword=t.GradientPositionKeyword.Left,i.offset=0):"right"==u&&(i.keyword=t.GradientPositionKeyword.Right,i.offset=0)}return[i,o]},i._toLinearGradientOptionFromExpression=function(e,n){var i=new t.options._LinearGradientOption(null,null!=n.strictMode&&0!=n.strictMode),o=e.split(new RegExp(",(?![^()]*\\))")),r=o;if("to"==o[0].slice(0,2)){for(var l=o[0].toLowerCase().split(" "),a="",u=0;u<l.length;u++)a+=l[u].substring(0,1).toUpperCase()+l[u].substring(1);o[0]=a}if("To"==o[0].slice(0,2)){var s=t._AnyTypeExtension._toEnumValueOrNull(o[0],t.GradientSideOrCorner);i.angle=null==s?0:t._LinearGradientAngleOptionConverter._toAngleFromGradientSideOrCorner(t._NativeExtension._enumValueToEnum(s,t.GradientSideOrCorner)),r=o.slice(1)}if(o[0].search("deg")==o[0].length-3){var _=Number(o[0].slice(0,o[0].length-3));isNaN(_)||(i.angle=_),r=o.slice(1)}var p=[];for(u=0;u<r.length;u++)p.push(t._ColorStopOptionConverter._toColorStopOptionFromString(r[u],n));return i.colorStops=p,i},i}(t._BaseOptionConverter);t._ColorOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isNull(e))return i;var o=null;if(t._JsonElementUtility._isArray(e)?o=t._JsonElementUtility._getAsArray(e):t._JsonElementUtility._isObject(e)&&(o=[e]),null!=o){for(var r=0,l=o;r<l.length;r++){var a=l[r],u=this._toColorStopOption(a,n);null!=u&&i.push(u)}return i}return this._processError(e),i},i.prototype._toColorStopOption=function(e,n){return t._JsonElementUtility._isString(e)?i._toColorStopOptionFromString(t._JsonElementUtility._getAsString(e),n):t._JsonElementUtility._isObject(e)&&!t._JsonElementUtility._isEmpty(e)?t.OptionSerializer.deserialize(new t.options._ColorStopOption,e,n):(this._processError(e),null)},i._toColorStopOptionFromString=function(e,n){var i,o=(e=e.trim()).lastIndexOf(" ");if(-1==o){if(null!=(i=t._ColorUtility._toStringColor(e)))return(u=new t.options._ColorStopOption(null,null!=n.strictMode&&0!=n.strictMode)).color=i,u.stop=null,u}else if(null!=(i=t._ColorUtility._toStringColor(e.slice(0,o).trim()))){var r=e.slice(o+1);if("%"===r)return(u=new t.options._ColorStopOption(null,null!=n.strictMode&&0!=n.strictMode)).color=i,u.stop=null,u;if("%"==r[r.length-1]){var l=r.slice(0,r.length-1),a=parseFloat(l);if(!isNaN(a))return(u=new t.options._ColorStopOption(null,null!=n.strictMode&&0!=n.strictMode)).color=i,u.stop=a/100,u}else{var u,s=parseFloat(r);if(!isNaN(s))return(u=new t.options._ColorStopOption(null,null!=n.strictMode&&0!=n.strictMode)).color=i,u.stop=s,u}}return null},i}(t._BaseOptionConverter);t._ColorStopOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)||t._JsonElementUtility._isNumber(e)){var i=t._AnyTypeExtension._toEnumValueOrNull(e,t.ConcatType);if(null!=i){var o=t._NativeExtension._enumValueToEnum(i,t.ConcatType);return(r=new t.options._ConcatOption(null,null!=n.strictMode&&0!=n.strictMode)).type=o,r}}if(t._JsonElementUtility._isObject(e)||t._JsonElementUtility._isArray(e)){if(t._JsonElementUtility._isArray(e)){var r,l=[];return t._JsonElementUtility._enumerateArray(e,(function(e,n){if(!t._JsonElementUtility._isNumber(e))throw new t.OptionError(t.ErrorCode.LegalNumberValueRequired,e);l.push(t._JsonElementUtility._getAsDouble(e))})),(r=new t.options._ConcatOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ConcatType.Custom,r.customArray=l,r}return t.OptionSerializer.deserialize(new t.options._ConcatOption,e,n)}return this._processError(e),null},i}(t._BaseOptionConverter);t._ConcatOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ConfigPluginOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._ConfigPluginOptionOrNullConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"CumulativeMovingAverageTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._CumulativeMovingAverageTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._CumulativeMovingAverageTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isNull(e))return i;if(t._JsonElementUtility._isObject(e)){var o=t.OptionSerializer.deserialize(new t.options._DataOption,e,n);return i.push(o),i}if(t._JsonElementUtility._isArray(e)){for(var r=0,l=t._JsonElementUtility._getAsArray(e);r<l.length;r++){var a=l[r];t._JsonElementUtility._isObject(a)?(o=t.OptionSerializer.deserialize(new t.options._DataOption,a,n),i.push(o)):this._processError(a)}return i}return this._processError(e),i},i}(t.JsonConverter);t._DataOptionsConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isBoolean(e)?t._DataValueTypeExtension._toDataValueType(t._JsonElementUtility._getAsBoolean(e)):t._JsonElementUtility._isNumber(e)?t._DataValueTypeExtension._toDataValueType(t._JsonElementUtility._getAsDouble(e)):t._JsonElementUtility._isString(e)?t._DataValueTypeExtension._toDataValueType(t._JsonElementUtility._getAsString(e)):t._JsonElementUtility._isDate(e)?t._DataValueTypeExtension._toDataValueType(t._JsonElementUtility._getAsDate(e)):(this._processError(e),null)},i}(t.JsonConverter);t._DataValueTypeConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=this;return t._JsonElementUtility._isNull(e)?[null]:t._ArrayConverter._toArrayOption(e,n,null,(function(e,n){return new t._DataValueTypeConverter(i._strictMode).fromJson(e,n)}),!1)},i}(t.JsonConverter);t._DataValueTypesConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isBoolean(e))return t._JsonElementUtility._getAsBoolean(e)?null:[];if(t._JsonElementUtility._isString(e))return[t._JsonElementUtility._getAsString(e)];if(t._JsonElementUtility._isArray(e)){for(var i=[],o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isString(l)){var a=t._JsonElementUtility._getAsString(l);a.trim().length>0&&i.push(a)}}return i}return this._processError(e),null},i}(t.JsonConverter);t._DateFormatsConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=new t._FieldNameConverter(this._strictMode).fromJson(e,n);if(null!=i){for(var o=[],r=0,l=i;r<l.length;r++){var a=l[r],u=t._DataValueTypeExtension._toDataValueType(a);o.push(u)}return o}return null},i}(t.JsonConverter);t._DetailKeyFieldNameConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Ellipse"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._EllipseOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._EllipseOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===i&&(i=null);var o=e.call(this,t)||this;return o.__enumType=n,o.__defaultValue=i,o}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return this.__defaultValue;if(t._JsonElementUtility._isString(e)||t._JsonElementUtility._isNumber(e)){var i=t._AnyTypeExtension._toEnumValueOrNull(e,this.__enumType);if(null!=i)return i}return this._processError(e),null},i}(t.JsonConverter);t._EnumConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"ErrorBar"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ErrorBarOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._ErrorBarOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"ExponentialMovingAverageTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ExponentialMovingAverageTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._ExponentialMovingAverageTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"ExponentialTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ExponentialTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._ExponentialTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isArray(e)){for(var i=[],o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];t._JsonElementUtility._isString(l)?i.push(t._JsonElementUtility._getAsString(l)):this._processError(l)}return i}return t._JsonElementUtility._isString(e)?this._fromStr(t._JsonElementUtility._getAsString(e)):(this._processError(e),null)},i.prototype._fromStr=function(e){for(var n=[],i=0,o=t._EscapedCharacterStringUtility._split(e,",");i<o.length;i++){var r=o[i],l=t._EscapedCharacterStringUtility._normalize(t._EscapedCharacterStringUtility._trim(r));n.push(l)}return n},i}(t.JsonConverter);t._FieldNameConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e))return t._JsonElementUtility._getAsString(e);if(t._JsonElementUtility._isNumber(e)){var i=t._JsonElementUtility._getAsDouble(e);if(!isNaN(i))return i.toString()}return this._processError(e),null},i}(t.JsonConverter);t._FontSizeConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e))return t._JsonElementUtility._getAsString(e);if(t._JsonElementUtility._isNumber(e)){var i=t._JsonElementUtility._getAsDouble(e);if(!isNaN(i))return i.toString()+"_NumberFlag_"}return this._processError(e),null},i}(t.JsonConverter);t._FontWeightConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=new t.options._FormatOption(null,null!=n.strictMode&&0!=n.strictMode);return i.value=t._JsonElementUtility._getAsString(e),i}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._FormatOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._FormatOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"FourierTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._FourierTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._FourierTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isBoolean(e)?t._JsonElementUtility._getAsBoolean(e)?new t.options._HoverAnimationOption(null,null!=n.strictMode&&0!=n.strictMode):null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._HoverAnimationOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._HoverAnimationOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Image"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ImageOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._ImageOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i.__defaultValue=n,i}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return this.__defaultValue;if(t._JsonElementUtility._isNumber(e)){var i=t._JsonElementUtility._getAsDouble(e);if(t._Utility._isInteger(i))return i}return this._processError(e),this.__defaultValue},i}(t.JsonConverter);t._IntegerConverter=e}(t||(t={})),function(t){!function(t){t[t.NullCreateDefault=0]="NullCreateDefault",t[t.NullReturnNull=1]="NullReturnNull",t[t.NullThrowError=2]="NullThrowError",t[t.EmptyReturnNull=3]="EmptyReturnNull"}(t._JsonNullOrEmptyPolicy||(t._JsonNullOrEmptyPolicy={}))}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isNumber(e))i.push(t._JsonElementUtility._getAsDouble(e));else if(t._JsonElementUtility._isString(e))for(var o=0,r=t._JsonElementUtility._getAsString(e).split(",");o<r.length;o++)null!=(u=r[o])&&""!=u.trim()?i.push(parseInt(u.trim(),10)):i.push(null);else if(t._JsonElementUtility._isArray(e))for(var l=0,a=t._JsonElementUtility._getAsArray(e);l<a.length;l++){var u=a[l];i.push(new t._NumberConverter(this._strictMode).fromJson(u,n))}else t._JsonElementUtility._isBoolean(e)&&this._processError(e,t.ErrorCode.UnexpectedValue);return i},i}(t.JsonConverter);t._LabelAngleConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return n(i,e),i.prototype.fromJson=function(n,i){return t._JsonElementUtility._isBoolean(n)?t._JsonElementUtility._getAsBoolean(n)?null:t.AxisPosition.None:e.prototype.fromJson.call(this,n,i)},i}(t._EnumConverter);t._LabelsPositionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isBoolean(e)){var i=t._JsonElementUtility._getAsBoolean(e),o=new t.options._LegendGradientOption(null,null!=n.strictMode&&0!=n.strictMode);return o.enabled=i,o}return t._JsonElementUtility._isObject(e)||t._JsonElementUtility._isNull(e)?t.OptionSerializer.deserialize(new t.options._LegendGradientOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._LegendGradientOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;for(var i=[],o=0,r=t._JsonElementUtility._isArray(e)?t._JsonElementUtility._getAsArray(e):[e];o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isNull(l))break;var a=t.OptionSerializer.deserialize(new t.options._LegendRangeOption,l,n);i.push(a)}return i},i}(t.JsonConverter);t._LegendRangeOptionsOrNullConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i._defaultValue=n,i}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return this._defaultValue;var o=t._AnyTypeExtension._toEnumValueOrNull(e,t.GradientSideOrCorner);if(null!=o)return i._toAngleFromGradientSideOrCorner(t._NativeExtension._enumValueToEnum(o,t.GradientSideOrCorner));var r=this._toNumberValue(e);return isNaN(r)?(this._processError(e),this._defaultValue):r},i._toAngleFromGradientSideOrCorner=function(e){switch(e){case t.GradientSideOrCorner.ToLeft:return 270;case t.GradientSideOrCorner.ToRight:return 90;case t.GradientSideOrCorner.ToTop:return 360;case t.GradientSideOrCorner.ToBottom:return 180;case t.GradientSideOrCorner.ToLeftTop:return 315;case t.GradientSideOrCorner.ToRightTop:return 45;case t.GradientSideOrCorner.ToLeftBottom:return 225;case t.GradientSideOrCorner.ToRightBottom:return 135;default:return 0}},i.prototype._toNumberValue=function(e){return t._JsonElementUtility._isString(e)?parseFloat(t._JsonElementUtility._getAsString(e)):t._JsonElementUtility._isNumber(e)?t._JsonElementUtility._getAsDouble(e):NaN},i}(t.JsonConverter);t._LinearGradientAngleOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"LinearTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._LinearTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._LinearTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Line"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._LineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._LineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isBoolean(e)){if(t._JsonElementUtility._getAsBoolean(e)){var i=new t.options._LineStyleOption(null,null!=n.strictMode&&0!=n.strictMode);return i.stroke=null,i.strokeWidth=1,i}return null}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._LineStyleOption,e,n):null},i}(t._BaseOptionConverter);t._LineStyleOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isBoolean(e)){if(t._JsonElementUtility._getAsBoolean(e)){var i=new t.options._AnimationOption(null,null!=n.strictMode&&0!=n.strictMode);return i.mode=t.AnimationMode.Point,i.duration=1e3,i.easing=t.AnimationEasing.Linear,i.startDelay=1e3,i}return null}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._AnimationOption,e,n):null},i}(t.JsonConverter);t._LoadingAnimationOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"LogarithmicTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._LogarithmicTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._LogarithmicTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var o=i._parse(t._JsonElementUtility._getAsString(e),n);if(null!=o)return o}if(t._JsonElementUtility._isNumber(e)){var r=t._JsonElementUtility._getAsDouble(e),l=new t.options._MarginOption(null,null!=n.strictMode&&0!=n.strictMode);return l.left=r,l.right=r,l.top=r,l.bottom=r,l}return t._JsonElementUtility._isObject(e)?t._JsonElementUtility._isEmpty(e)?null:t.OptionSerializer.deserialize(new t.options._MarginOption,e,n):(this._processError(e),null)},i._parse=function(e,n){if(0==e.length)return null;var i=e.split(",",4),o=NaN,r=NaN,l=NaN,a=NaN;if(4==i.length?(o=parseFloat(i[0]),a=parseFloat(i[1]),r=parseFloat(i[2]),l=parseFloat(i[3])):3==i.length?(o=parseFloat(i[0]),l=a=parseFloat(i[1]),r=parseFloat(i[2])):2==i.length?(o=r=parseFloat(i[0]),l=a=parseFloat(i[1])):1==i.length&&(o=r=l=a=parseFloat(i[0])),!(isNaN(o)||isNaN(r)||isNaN(l)||isNaN(a))){var u=new t.options._MarginOption(null,null!=n.strictMode&&0!=n.strictMode);return u.top=o,u.bottom=r,u.left=l,u.right=a,u}return null},i}(t.JsonConverter);t._MarginOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=[];if(t._JsonElementUtility._isString(e))for(var o=0,r=t._JsonElementUtility._getAsString(e).split(",");o<r.length;o++){var l=r[o];null!=(s=this._convertFromString(l,n,e))&&i.push(s)}else if(t._JsonElementUtility._isArray(e))for(var a=0,u=t._JsonElementUtility._getAsArray(e);a<u.length;a++){var s,_=u[a];null!=(s=this._toMergeLegendType(_,n))&&i.push(s)}return i},i.prototype._toMergeLegendType=function(e,n){return t._JsonElementUtility._isString(e)?this._convertFromString(t._JsonElementUtility._getAsString(e),n,e):t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._MergeLegendTypeOption,e,n):(this._processError(e,t.ErrorCode.StringRequired),null)},i.prototype._convertFromString=function(e,n,i){var o=e.split(".").map((function(t){return t.trim()}));if(2!=o.length||null==o[0]||null==o[1])throw new t.OptionError(t.ErrorCode.WrongLegendMerge,o);var r=t._AnyTypeExtension._toEnumValueOrNull(o[1],t.LegendType);if(null!=r){var l=new t.options._MergeLegendTypeOption(null,null!=n.strictMode&&0!=n.strictMode);return l.plotName=o[0],l.type=t._NativeExtension._enumValueToEnum(r,t.LegendType),l}return this._processError(i),null},i}(t.JsonConverter);t._MergeLegendTypeOptionArrayConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"MovingAnnualTotalTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._MovingAnnualTotalTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._MovingAnnualTotalTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=[];if(t._JsonElementUtility._isArray(e)){var o=t._JsonElementUtility._getAsArray(e);i=this._stringConverter(o,n)}else{if(t._JsonElementUtility._isString(e))return t._JsonElementUtility._getAsString(e).split(",");o=[e],i=this._stringConverter(o,n)}return i},i.prototype._stringConverter=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=new t._StringConverter(this._strictMode).fromJson(l,n);i.push(a)}return i},i}(t.JsonConverter);t._NameArrayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Needle"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._NeedleOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._NeedleOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=this;return t._ArrayConverter._toArrayOption(e,n,null,(function(e,n){return new t._NumberConverter(i._strictMode).fromJson(e,n)}))},i}(t.JsonConverter);t._NumberArrayConverter=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){void 0===i&&(i=null),void 0===o&&(o=!1),void 0===r&&(r=t.ErrorCode.LegalNumberValueRequired);var l=e.call(this,n)||this;return l.__defaultValue=i,l.__errorCode=r,l.__isInteger=o,l}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return this.__defaultValue;if(t._JsonElementUtility._isNumber(e)){var i=t._JsonElementUtility._getAsDouble(e);if(this.__isInteger&&!t._Utility._isInteger(i)&&this._processError(e,t.ErrorCode.IntegerValueRequired),!isNaN(i))return i}return this._processError(e,this.__errorCode),this.__defaultValue},i}(t.JsonConverter);t._NumberConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=this;return t._ArrayConverter._toArrayOption(e,n,null,(function(e,n){return new t._NumberConverter(i._strictMode).fromJson(e,n)}),!1)},i}(t.JsonConverter);t._NumberOrNullArrayConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isNumber(e)?t._JsonElementUtility._getAsDouble(e):!t._JsonElementUtility._isString(e)||"auto"!=t._JsonElementUtility._getAsString(e)&&"Auto"!==t._JsonElementUtility._getAsString(e)?(this._processError(e),null):null},i}(t.JsonConverter);t._NumberOrNullOrAutoNumberConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===i&&(i=!1);var o=e.call(this,t)||this;return o.__optionType=n,o.__emptyReturnNull=i,o}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)||this.__emptyReturnNull&&t._JsonElementUtility._isEmpty(e)?null:(t._JsonElementUtility._isObject(e)||this._processError(e,t.ErrorCode.UnexpectedValue),t.OptionSerializer._createOption(this.__optionType,e,n))},i}(t._BaseOptionConverter);t._OptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e))return t.OptionSerializer.deserialize(new t.options._ReferenceLineLabelOption,e,n);if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e),o=new t.options._ReferenceLineLabelOption(null,null!=n.strictMode&&0!=n.strictMode);return o.text=i,o}return this._processError(e),null},i}(t._BaseOptionConverter);t._OverlayLabelOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n){void 0===n&&(n=!0);var i=e.call(this,t)||this;return i.__castAsArray=n,i}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=[];t._JsonElementUtility._isArray(e)?i=t._JsonElementUtility._getAsArray(e):this.__castAsArray&&(i=[e]);for(var o=[],r=0,l=i;r<l.length;r++){var a=l[r],u=t.OptionSerializer._deserializeToDerivedType(a,n,t._OverlayOptionConverter,this._strictMode,t.options._OverlayOption);null!=u&&o.push(u)}return o},i}(t.JsonConverter);t._OverlayOptionsConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=null!=n.strictMode&&0!=n.strictMode;if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var o=t._JsonElementUtility._getAsString(e);if(t._NativeExtension._isNullOrEmptyString(o))return null;var r=o.split(",",4).map((function(e){return t.options._ValueOptionExtension._parseStringPixelValueOption(e)})),l=new t.options._PaddingOption(null,i);return 1==r.length?(l.left=r[0],l.right=r[0],l.top=r[0],l.bottom=r[0]):2==r.length?(l.top=r[0],l.bottom=r[0],l.left=r[1],l.right=r[1]):3==r.length?(l.top=r[0],l.left=r[1],l.right=r[1],l.bottom=r[2]):4==r.length&&(l.top=r[0],l.right=r[1],l.bottom=r[2],l.left=r[3]),l}if(t._JsonElementUtility._isNumber(e)){var a=t._JsonElementUtility._getAsDouble(e),u=new t.options._PaddingOption(null,i),s=t.options._ValueOptionExtension._pixelValueOption(a);return u.left=s,u.right=s,u.top=s,u.bottom=s,u}return t._JsonElementUtility._isObject(e)?t._JsonElementUtility._isEmpty(e)?null:t.OptionSerializer.deserialize(new t.options._PaddingOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._PaddingOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return[];if(t._JsonElementUtility._isArray(e)){for(var i=[],o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];if(t._JsonElementUtility._isNull(l))i.push(null);else{if(!t._JsonElementUtility._isString(l))return null;i.push(t._JsonElementUtility._getAsString(l))}}return i}return t._JsonElementUtility._isString(e)?t._JsonElementUtility._getAsString(e).split(","):[]},i}(t.JsonConverter);t._PaletteConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;var i=t._AnyTypeExtension._toEnumValueOrNull(e,t.Palette);if(null!=i){var o=t._NativeExtension._enumValueToString(i,t.Palette);return t.PaletteColorUtility.getPaletteColors(o).map((function(e){var i=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode);i.type=t.options.PaletteItemType.Index;var o=t.options._CssColorOption._buildColorOption(e);return i.color=o,i}))}for(var r=[],l=0,a=t._JsonElementUtility._isArray(e)?t._JsonElementUtility._getAsArray(e):[e];l<a.length;l++){var u=a[l];r.push(this._createPaletteItemOption(u,n))}return r},i.prototype._createPaletteItemOption=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e)){if(t._JsonElementUtility._hasProperty(e,"type")&&!t._JsonElementUtility._isNull(t._JsonElementUtility._getProperty(e,"type"))){var i=t._AnyTypeExtension._toEnumValueOrNull(t._JsonElementUtility._getProperty(e,"type"),t.options.PaletteItemType),o=null==i?null:t._NativeExtension._enumValueToEnum(i,t.options.PaletteItemType);if(o==t.options.PaletteItemType.Data&&t._JsonElementUtility._hasProperty(e,"color")&&t._JsonElementUtility._hasProperty(e,"data"))return null!=(l=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n))?((a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Data,a.data=new t._DataValueTypeConverter(!1).fromJson(t._JsonElementUtility._getProperty(e,"data"),n),a.color=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n),a):(this._processError(e,t.ErrorCode.UnexpectedValue),null);if(o==t.options.PaletteItemType.Index&&t._JsonElementUtility._hasProperty(e,"color"))return null!=(l=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n))?((a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Index,a.color=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n),a):(this._processError(e,t.ErrorCode.UnexpectedValue),null);var r=new t._ColorOptionConverter(this._strictMode).fromJson(e,n);return null!=r?((a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Index,a.color=r,a):null}return t._JsonElementUtility._hasProperty(e,"data")?t._JsonElementUtility._hasProperty(e,"color")&&null!=(l=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n))?((a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Data,a.data=new t._DataValueTypeConverter(!1).fromJson(t._JsonElementUtility._getProperty(e,"data"),n),a.color=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n),a):(this._processError(e,t.ErrorCode.UnexpectedValue),null):t._JsonElementUtility._hasProperty(e,"color")&&null!=(l=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n))?((a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Index,a.color=new t._ColorOptionConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"color"),n),a):(this._processError(e,t.ErrorCode.UnexpectedValue),null)}var l,a;return t._JsonElementUtility._isString(e)&&null!=(l=new t._ColorOptionConverter(this._strictMode).fromJson(e,n))?((a=new t.options._PaletteItemOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.options.PaletteItemType.Index,a.color=l,a):(this._processError(e,t.ErrorCode.UnexpectedValue),null)},i}(t.JsonConverter);t._PaletteItemOptionsConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")&&!t._JsonElementUtility._hasProperty(i,"location")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Path"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._PathAnnotationOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._PathAnnotationOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isNull(e))return i;if(t._JsonElementUtility._isNumber(e)){var o=t._JsonElementUtility._getAsDouble(e);return null!=(_=t.options._ValueOptionExtension._percentageValueOption(o))&&i.push(_),i}if(t._JsonElementUtility._isString(e)){var r=t._JsonElementUtility._getAsString(e).split(","),l="",a="";return r.length>=1&&(l=r[0]),r.length>=2&&(a=r[1]),i.push(this._parseStringPercentage(l)),i.push(this._parseStringPixel(a)),i}if(t._JsonElementUtility._isArray(e)){for(var u=t._JsonElementUtility._getAsArray(e),s=0;s<u.length&&!(s>1);s++){var _=this._createValueOptionByJson(u[s],n,s);i.push(_)}return i}return t._JsonElementUtility._isObject(e)?(_=this._createValueOptionByJson(e,n,0),i.push(_),i):(this._processError(e),i)},i.prototype._parseStringPercentage=function(e){var n=t.options._ValueOptionExtension._parseValueWithUnit(e,"%")/100;return isNaN(n)?(n=t.options._ValueOptionExtension._parseValueWithUnit(e,""),isNaN(n)?null:t.options._ValueOptionExtension._percentageValueOption(n)):t.options._ValueOptionExtension._percentageValueOption(n)},i.prototype._parseStringPixel=function(e){var n=t.options._ValueOptionExtension._parseValueWithUnit(e,"px");return isNaN(n)?(n=t.options._ValueOptionExtension._parseValueWithUnit(e,""),isNaN(n)?null:t.options._ValueOptionExtension._pixelValueOption(n)):t.options._ValueOptionExtension._pixelValueOption(n)},i.prototype._createValueOptionByJson=function(e,n,i){if(t._JsonElementUtility._hasProperty(e,"type")&&t._JsonElementUtility._hasProperty(e,"value")){var o=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n),r=new t._NumberConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"value"),n);if(null!=o&&null!=r&&!isNaN(r)){var l,a=t._NativeExtension._enumValueToEnum(o,t.ValueOptionType);if(0==i&&a==t.ValueOptionType.Percentage)return(l=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=a,l.value=r,l;if(1==i&&a==t.ValueOptionType.Pixel)return(l=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=a,l.value=r,l}}return null},i}(t._BaseOptionConverter);t._PlotConfigOffsetArrayConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?new t.options._PlotConfigOption(e,null!=n.strictMode&&0!=n.strictMode):null},i}(t._BaseOptionConverter);t._PlotConfigOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer._deserializeToDerivedType(e,n,t._PlotConfigOptionConverter,this._strictMode,t.options._PlotConfigOption):null},i}(t._BaseOptionConverter);t._PlotConfigOptionDerivedTypeConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isArray(e))for(var o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];t._JsonElementUtility._isNull(l)||i.push(t.OptionSerializer.deserialize(new t.options._PlotConfigTextOption,l,n))}else i.push(t.OptionSerializer.deserialize(new t.options._PlotConfigTextOption,e,n));return i},i}(t.JsonConverter);t._PlotConfigTextConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"PolynomialTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._PolynomialTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._PolynomialTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"PowerTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._PowerTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._PowerTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Rectangle"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._RectangleOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._RectangleOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"ReferenceBand"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ReferenceBandOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._ReferenceBandOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"ReferenceLine"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._ReferenceLineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._ReferenceLineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"MovingAverageTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._SimpleMovingAverageTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._SimpleMovingAverageTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e))return t.OptionSerializer.deserialize(new t.options._SortEncodingOption,e,n);var i=t._AnyTypeExtension._toEnumValueOrNull(e,t.OrderType);if(null!=i){var o=t._NativeExtension._enumValueToEnum(i,t.OrderType),r=new t.options._SortEncodingOption(null,null!=n.strictMode&&0!=n.strictMode);return r.order=o,r}return this._processError(e),null},i}(t._BaseOptionConverter);t._SortEncodingOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=this;return t._ArrayConverter._toArrayOption(e,n,[],(function(e,n){return new t._SortEncodingOptionConverter(i._strictMode).fromJson(e,n)}))},i}(t._BaseOptionConverter);t._SortEncodingOptionsConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=this;return t._JsonElementUtility._isNull(e)?null:t._ArrayConverter._toArrayOption(e,n,[],(function(e,n){return new t._StringConverter(i._strictMode).fromJson(e,n)}),!1)},i}(t.JsonConverter);t._StringArrayConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isString(e)?t._JsonElementUtility._getAsString(e):(this._processError(e,t.ErrorCode.UnexpectedValue),null)},i}(t.JsonConverter);t._StringConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=t._MarginOptionConverter._parse(t._JsonElementUtility._getAsString(e),n);if(null!=i)return(o=new t.options._StrokeWidthOption(null,null!=n.strictMode&&0!=n.strictMode)).left=i.left,o.right=i.right,o.top=i.top,o.bottom=i.bottom,o}if(t._JsonElementUtility._isNumber(e)){var o,r=t._JsonElementUtility._getAsDouble(e);return(o=new t.options._StrokeWidthOption(null,null!=n.strictMode&&0!=n.strictMode)).top=r,o.bottom=r,o.left=r,o.right=r,o}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._StrokeWidthOption,e,n):(this._processError(e),null)},i}(t._BaseOptionConverter);t._StrokeWidthOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=this;if(t._JsonElementUtility._isNull(e))return[];var o=[];return t._JsonElementUtility._isArray(e)&&t._JsonElementUtility._enumerateArray(e,(function(e,r){var l=e,a=null;if(t._JsonElementUtility._isObject(l))if(t._JsonElementUtility._hasProperty(l,"shape")){var u=null;t._JsonElementUtility._hasProperty(l,"type")&&(u=new t._EnumConverter(i._strictMode,t.SymbolItemType,null).fromJson(t._JsonElementUtility._getProperty(l,"type"),n));var s=i._fromSymbolShapeOption(t._JsonElementUtility._getProperty(l,"shape"),n),_=null==u?null:t._NativeExtension._enumValueToEnum(u,t.SymbolItemType);null!=_&&_==t.SymbolItemType.Index||!t._JsonElementUtility._hasProperty(l,"data")||null!=_&&_!=t.SymbolItemType.Data?((a=new t.options._SymbolItemOption(null,null!=n.strictMode&&0!=n.strictMode)).data=null,a.shape=s,a.type=t.SymbolItemType.Index):(null!=s.content||t._JsonElementUtility._isString(t._JsonElementUtility._getProperty(l,"shape")))&&((a=new t.options._SymbolItemOption(null,null!=n.strictMode&&0!=n.strictMode)).data=new t._DataValueTypeConverter(!1).fromJson(t._JsonElementUtility._getProperty(l,"data"),n),a.shape=s,a.type=t.SymbolItemType.Data)}else t._JsonElementUtility._hasProperty(l,"name")&&((a=new t.options._SymbolItemOption(null,null!=n.strictMode&&0!=n.strictMode)).data=null,a.shape=i._fromSymbolShapeOption(l,n),a.type=t.SymbolItemType.Index);else t._JsonElementUtility._isString(l)?((a=new t.options._SymbolItemOption(null,null!=n.strictMode&&0!=n.strictMode)).data=null,a.shape=i._fromSymbolShapeOption(l,n),a.type=t.SymbolItemType.Index):i._processError(l,t.ErrorCode.UnexpectedValue);null!=a&&o.push(a)})),o},i.prototype._fromSymbolShapeOption=function(e,n){if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e),o=new t.options._SymbolShapeOption(null,null!=n.strictMode&&0!=n.strictMode);return o.name=i,o.content="",o}if(t._JsonElementUtility._isObject(e)){var r=t._JsonElementUtility._hasProperty(e,"name")?t._JsonElementUtility._getProperty(e,"name"):null,l=t._JsonElementUtility._hasProperty(e,"content")?t._JsonElementUtility._getProperty(e,"content"):null;if(!t._JsonElementUtility._isNull(r)&&t._JsonElementUtility._isString(r)&&(t._JsonElementUtility._isNull(l)||t._JsonElementUtility._isString(l))){var a=null;if(t._JsonElementUtility._isNull(l))(a=new t.options._SymbolShapeOption(null,null!=n.strictMode&&0!=n.strictMode)).name=t._JsonElementUtility._getAsString(r),a.content=null;else{var u=t._JsonElementUtility._getAsString(l);(a=new t.options._SymbolShapeOption(null,null!=n.strictMode&&0!=n.strictMode)).name=t._JsonElementUtility._getAsString(r),a.content=u}return a}t._JsonElementUtility._isNull(r)||t._JsonElementUtility._isString(r)||this._processError(r,t.ErrorCode.UnexpectedValue),t._JsonElementUtility._isNull(l)||t._JsonElementUtility._isString(l)||this._processError(l,t.ErrorCode.UnexpectedValue)}return this._processError(e,t.ErrorCode.UnexpectedValue),null},i}(t.JsonConverter);t._SymbolShapesConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=[];if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isNumber(e)&&!isNaN(e))i.push(t._JsonElementUtility._getAsDouble(e));else if(t._JsonElementUtility._isString(e))for(var o=t._JsonElementUtility._getAsString(e).split(","),r=0,l=o.length;r<l;r++){var a=o[r].trim();if(null==a)i.push(null);else if("Auto"==a)i.push(null);else{var u=parseInt(a,10);if(isNaN(u))throw new t.OptionError(t.ErrorCode.UnexpectedNaNValue);i.push(u)}}else t._JsonElementUtility._isArray(e)&&(i=t._JsonElementUtility._getAsArray(e).map((function(n){if(null==n)return null;if(t._JsonElementUtility._isNumber(n)&&!isNaN(n))return t._JsonElementUtility._getAsDouble(n);if("Auto"==n)return null;if(!t._JsonElementUtility._isString(n))throw new t.OptionError(t.ErrorCode.UnexpectedValue,e);var o=parseInt(t._JsonElementUtility._getAsString(n),10);if(isNaN(o))throw new t.OptionError(t.ErrorCode.UnexpectedNaNValue);throw i.push(o),new t.OptionError(t.ErrorCode.UnexpectedValue,e)})));r=0;for(var s=i.length;r<s;r++)u=i[r],t._JsonElementUtility._isNumber(u)&&(null!=u&&u<-90?i[r]=-90:null!=u&&u>90&&(i[r]=90));return i},i}(t.JsonConverter);t._TextAnglesConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e))return this._parse(t._JsonElementUtility._getAsString(e),n);if(t._JsonElementUtility._isNumber(e)){var i=0!=(t._JsonElementUtility._getAsInt(e)&t.TextDecoration.Overline),o=0!=(t._JsonElementUtility._getAsInt(e)&t.TextDecoration.LineThrough),r=0!=(t._JsonElementUtility._getAsInt(e)&t.TextDecoration.Underline),l=new t.options._TextDecorationOption(null,null!=n.strictMode&&0!=n.strictMode);return l.overline=i,l.lineThrough=o,l.underline=r,l}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._TextDecorationOption,e,n):(this._processError(e),null)},i.prototype._parse=function(e,n){for(var i=null,o=null,r=null,l=0,a=e.split(",",3);l<a.length;l++){var u=a[l].trim();"Overline"==u?i=!0:"LineThrough"==u?o=!0:"Underline"==u&&(r=!0)}var s=new t.options._TextDecorationOption(null,null!=n.strictMode&&0!=n.strictMode);return s.overline=i,s.lineThrough=o,s.underline=r,s},i}(t._BaseOptionConverter);t._TextDecorationOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Text"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._TextGroupOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._TextGroupOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e)){var i=t.OptionSerializer.deserialize(new t.options._PlotConfigTooltipOption,e,n);return t._JsonElementUtility._hasProperty(e,"scope")&&(i.scope=new t._StringConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"scope"),n)),i}return null},i}(t._BaseOptionConverter);t._ToolTipConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=this;return t._ArrayConverter._toArrayOption(e,n,[],(function(t,e){return i._fromJsonImp(t,e)}))},i.prototype._fromJsonImp=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var i=new t._EnumConverter(this._strictMode,t.TrackerType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=i){var o=t._NativeExtension._enumValueToEnum(i,t.TrackerType);if(o==t.TrackerType.CrossY||o==t.TrackerType.CrossX)return t.OptionSerializer.deserialize(new t.options._TrackLineOption,e,n);if(o==t.TrackerType.Area)return t.OptionSerializer.deserialize(new t.options._TrackAreaOption,e,n)}}return this._processError(e),null},i}(t._BaseOptionConverter);t._TrackerOptionOrNullConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return[];for(var i=[],o=0,r=t._JsonElementUtility._isArray(e)?t._JsonElementUtility._getAsArray(e):[e];o<r.length;o++){var l=r[o],a=this._toTransformOptionOrNull(l,n);null!=a&&i.push(a)}return i},i.prototype._toTransformOptionOrNull=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e)){var i,o=t._JsonElementUtility._hasProperty(e,"type")?new t._EnumConverter(this._strictMode,t.TransformType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n):null,r=null==o?null:t._NativeExtension._enumValueToEnum(o,t.TransformType);if(null==r)return t._JsonElementUtility._hasProperty(e,"aggregate")?((i=t.OptionSerializer.deserialize(new t.options._AggregateTransformOption,e,n)).type=t.TransformType.Aggregate,i):t._JsonElementUtility._hasProperty(e,"bin")&&t._JsonElementUtility._hasProperty(e,"field")&&t._JsonElementUtility._hasProperty(e,"outputAs")?((i=t.OptionSerializer.deserialize(new t.options._BinTransformOption,e,n)).type=t.TransformType.Bin,i):t._JsonElementUtility._hasProperty(e,"calculate")&&t._JsonElementUtility._hasProperty(e,"outputAs")?((i=t.OptionSerializer.deserialize(new t.options._CalculateTransformOption,e,n)).type=t.TransformType.Calculate,i):t._JsonElementUtility._hasProperty(e,"category")&&t._JsonElementUtility._hasProperty(e,"valueFieldAs")&&t._JsonElementUtility._hasProperty(e,"outputAs")?((i=t.OptionSerializer.deserialize(new t.options._UnpivotTransformOption,e,n)).type=t.TransformType.Unpivot,i):null;switch(r){case t.TransformType.Aggregate:return t.OptionSerializer.deserialize(new t.options._AggregateTransformOption,e,n);case t.TransformType.Bin:return t.OptionSerializer.deserialize(new t.options._BinTransformOption,e,n);case t.TransformType.Calculate:return t.OptionSerializer.deserialize(new t.options._CalculateTransformOption,e,n);case t.TransformType.Unpivot:return t.OptionSerializer.deserialize(new t.options._UnpivotTransformOption,e,n)}}return this._processError(e),null},i}(t.JsonConverter);t._TransformOptionOrNullConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return[];if(t._JsonElementUtility._isArray(e)){for(var i=[],o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];null!=(a=this._toValueEncodingOption(l,n))&&i.push(a)}return i}var a;return null!=(a=this._toValueEncodingOption(e,n))?[a]:[]},i.prototype._toValueEncodingOption=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"field")){var i=t._JsonElementUtility._getProperty(e,"field");if(t._JsonElementUtility._isString(i)){var o=t.OptionSerializer.deserialize(new t.options._FieldsValueEncodingOption,e,n);if(null!=o.field)return o}else if(t._JsonElementUtility._isObject(i)){var r=t.OptionSerializer.deserialize(new t.options._RangeFieldValueEncodingOption,e,n);return null!=r.field?r:t.OptionSerializer.deserialize(new t.options._ValueEncodingOption,e,n)}}return null},i}(t._BaseOptionConverter);t._ValueEncodingOptionsConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=this;if(t._JsonElementUtility._isNull(e))return[];var o=[];if(t._JsonElementUtility._isString(e))o.push(e);else if(t._JsonElementUtility._isArray(e))for(var r=0,l=t._JsonElementUtility._getAsArray(e);r<l.length;r++){var a=l[r];o.push(a)}return o.map((function(t){return i._parse(t,n)}))},i.prototype._parse=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e);if(t._NativeExtension._isNullOrEmptyString(i))return null;var o=t.options._ValueOptionExtension._parseValueWithUnit(i,"*");if(!isNaN(o))return t.options._ValueOptionExtension._starValueOption(o);if(o=t.options._ValueOptionExtension._parseValueWithUnit(i,"px"),!isNaN(o))return t.options._ValueOptionExtension._pixelValueOption(o);if(o=t.options._ValueOptionExtension._parseValueWithUnit(i,""),!isNaN(o))return t.options._ValueOptionExtension._pixelValueOption(o)}else{if(t._JsonElementUtility._isNumber(e)){var r=t._JsonElementUtility._getAsDouble(e);return isNaN(r)?null:t.options._ValueOptionExtension._pixelValueOption(r)}if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var l=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=l){var a=t._NativeExtension._enumValueToEnum(l,t.ValueOptionType);if((a==t.ValueOptionType.Available||a==t.ValueOptionType.Pixel)&&t._JsonElementUtility._hasProperty(e,"value")){var u=new t._NumberConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"value"),n);if(null!=u&&!isNaN(u)){var s=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode);return s.type=a,s.value=u,s}}}}}return null},i}(t.JsonConverter);t._ValueOptionPixelStarConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isNumber(e)&&!isNaN(t._JsonElementUtility._getAsDouble(e)))return(r=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Number,r.value=t._JsonElementUtility._getAsDouble(e),r;if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var i=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=i){var o=t._NativeExtension._enumValueToEnum(i,t.ValueOptionType);if((o===t.ValueOptionType.Number||o===t.ValueOptionType.Date)&&t._JsonElementUtility._hasProperty(e,"value")){var r,l=new t._NumberConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"value"),n);if(null!=l&&!isNaN(l))return(r=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=o,r.value=l,r}}}return null},i}(t._BaseOptionConverter);t._ValueOptionWithNumberDateConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e);if(null!=(o=t.options._ValueOptionExtension._parseStringPixelValueOption(i)))return o}else{if(t._JsonElementUtility._isNumber(e)&&!isNaN(t._JsonElementUtility._getAsDouble(e))){var o=t._JsonElementUtility._getAsDouble(e);return(a=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Pixel,a.value=o,a}if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var r=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=r){var l=t._NativeExtension._enumValueToEnum(r,t.ValueOptionType);if(l==t.ValueOptionType.Pixel&&t._JsonElementUtility._hasProperty(e,"value")){var a,u=new t._NumberConverter(this._strictMode).fromJson(t._JsonElementUtility._getProperty(e,"value"),n);if(null!=u&&!isNaN(u))return(a=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=l,a.value=u,a}}}}return null},i}(t._BaseOptionConverter);t._ValueOptionWithPixelConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=this;return t._JsonElementUtility._isNull(e)?null:t._ArrayConverter._toArrayOption(e,n,null,(function(e,n){return new t._ValueOptionWithPixelPercentageConverter(i._strictMode,0,null,!0,!1).fromJson(e,n)}),!1)},i}(t.JsonConverter);t._ValueOptionWithPixelPercentageArrayConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===r&&(r=!1);var l=e.call(this,t)||this;return l.__minPercentage=n,l.__maxPercentage=i,l.__leftClose=o,l.__rightClose=r,l}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e);if(t._NativeExtension._isNullOrEmptyString(i))return null;if("Auto"==i)return(s=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Enum,s.value=0,s;if(null!=(o=t.options._ValueOptionExtension._parseStringPixelPercentageValueOption(i,this.__minPercentage,this.__maxPercentage,this.__leftClose,this.__rightClose)))return o}else if(t._JsonElementUtility._isNumber(e)){var o,r=t._JsonElementUtility._getAsDouble(e);if(null!=(o=t.options._ValueOptionExtension._parseNumberPixelPercentageValueOption(r,this.__minPercentage,this.__maxPercentage,this.__leftClose,this.__rightClose)))return o}else if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var l=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=l){var a=t._NativeExtension._enumValueToEnum(l,t.ValueOptionType);if(a==t.ValueOptionType.Percentage||a==t.ValueOptionType.Pixel){if(t._JsonElementUtility._hasProperty(e,"value")){var u=this._toNumberValue(t._JsonElementUtility._getProperty(e,"value"));if(!isNaN(u))return(s=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=a,s.value=u,s;this._processError(t._JsonElementUtility._getProperty(e,"value"))}}else if(a==t.ValueOptionType.Enum&&t._JsonElementUtility._hasProperty(e,"value")){var s;if(null!=t._AnyTypeExtension._toEnumValueOrNull(t._JsonElementUtility._getProperty(e,"value"),t.HeaderFooterWidthOptionType))return(s=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.ValueOptionType.Enum,s.value=0,s;this._processError(t._JsonElementUtility._getProperty(e,"value"))}}}return this._processError(e),null},i.prototype._toNumberValue=function(e){return t._JsonElementUtility._isString(e)?parseFloat(t._JsonElementUtility._getAsString(e)):t._JsonElementUtility._isNumber(e)?t._JsonElementUtility._getAsDouble(e):NaN},i}(t._BaseOptionConverter);t._ValueOptionWithPixelPercentageAutoOrNullConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===r&&(r=!1);var l=e.call(this,t)||this;return l.__minPercentage=n,l.__maxPercentage=i,l.__leftClose=o,l.__rightClose=r,l}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e);if(t._NativeExtension._isNullOrEmptyString(i))return null;if(null!=(o=t.options._ValueOptionExtension._parseStringPixelPercentageValueOption(i,this.__minPercentage,this.__maxPercentage,this.__leftClose,this.__rightClose)))return o}else if(t._JsonElementUtility._isNumber(e)){var o,r=t._JsonElementUtility._getAsDouble(e);if(null!=(o=t.options._ValueOptionExtension._parseNumberPixelPercentageValueOption(r,this.__minPercentage,this.__maxPercentage,this.__leftClose,this.__rightClose)))return o}else if(t._JsonElementUtility._isObject(e)){if(!t._JsonElementUtility._hasProperty(e,"type"))return null;var l=new t._EnumConverter(this._strictMode,t.ValueOptionType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null==l)return null;var a=t._NativeExtension._enumValueToEnum(l,t.ValueOptionType);if(a!=t.ValueOptionType.Percentage&&a!=t.ValueOptionType.Pixel)return this._processError(e),null;if(!t._JsonElementUtility._hasProperty(e,"value"))return null;var u=t._JsonElementUtility._getProperty(e,"value");if(t._JsonElementUtility._isNull(u))return null;var s=new t._NumberConverter(this._strictMode).fromJson(u,n);if(null==s||isNaN(s))return null;var _=new t.options._ValueOption(null,null!=n.strictMode&&0!=n.strictMode);return _.type=a,_.value=s,_}return this._processError(e,t.ErrorCode.UnexpectedValue),null},i}(t._BaseOptionConverter);t._ValueOptionWithPixelPercentageConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isArray(e)){for(var i=[],o=0,r=t._JsonElementUtility._getAsArray(e);o<r.length;o++){var l=r[o];null==l?i.push(null):t._JsonElementUtility._isNumber(l)?i.push(t._JsonElementUtility._getAsDouble(l)):this._processError(e)}return i}return this._processError(e),null},i}(t.JsonConverter);t._ViewportOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"WeightedMovingAverageTrendline"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._WeightedMovingAverageTrendlineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._WeightedMovingAverageTrendlineOverlayOptionConverter=e}(t||(t={})),function(t){var e=function(){function e(t){void 0===t&&(t=!0),this._strictMode=t}return e.prototype._processError=function(e,n){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];if(this._strictMode){var l=[];l.push(e);for(var a=0,u=o;a<u.length;a++){var s=u[a];l.push(s)}throw new(t.OptionError.bind.apply(t.OptionError,i([void 0,n],l,!1)))}return e},e}();t._BaseValidator=e}(t||(t={})),function(t){t.ValidatorAttribute=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(n,o,r){var l=r.set;null!=l&&(r.set=function(n,r){1==r&&(null==e&&(e=[]),e[0]=r);var a=(new(t.bind.apply(t,i([void 0],e,!1)))).validate(n,o,this);l.call(this,a)})}}}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null!=e||this._processError(e,t.ErrorCode.UnexpectedNullValue),e},i}(t._BaseValidator);t._AggregateOptionValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:e.type==t.ValueOptionType.Pixel?e:e.type==t.ValueOptionType.Percentage?e.value>=0?e:(this._processError(e,t.ErrorCode.UnexpectedValue),t.options._ValueOptionExtension._percentageValueOption(1)):(this._processError(e,t.ErrorCode.UnexpectedValue),t._NativeExtension.getPropertyValue(i,n))},i}(t._BaseValidator);t._AnimationScaleValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n){void 0===n&&(n=!0);var i=e.call(this,t)||this;return i.__isMaxValue=n,i}return n(i,e),i.prototype.validate=function(e,n,i){var o=i,r=this.__isMaxValue?e:o.max,l=this.__isMaxValue?o.min:e;return null!=r&&null!=l&&r.value<l.value&&this._processError(r.value,t.ErrorCode.MaxLessThanMin,l.value),e},i}(t._BaseValidator);t._AxisOptionMaxMinValueValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n){void 0===n&&(n=!1);var i=e.call(this,t)||this;return i.__openPercentage=n,i}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return null;if(e.type==t.ValueOptionType.Percentage){if(!this.__openPercentage&&e.value>=0&&e.value<=1)return e;if(this.__openPercentage&&e.value>0&&e.value<1)return e}else if(e.type==t.ValueOptionType.Pixel)return e.value<0&&(e.value=0),e;return this._processError(e,t.ErrorCode.UnexpectedValue),null},i}(t._BaseValidator);t._AxisSizeValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:(!isNaN(e)&&e>0||this._processError(e,t.ErrorCode.PositiveNumberExpected),e)},i}(t._BaseValidator);t._AxisUnitValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:(null!=e.match(/xx-small|x-small|small|medium|large|x-large|xx-large|[\d.]+px|[\d.]+pt|[\d.]+pc|[\d.]+in|[\d.]+cm|[\d.]+mm|[\d.]+%|[\d.]+em|[\d.]+ex|[\d.]+ch|[\d.]+rem|[\d.]+q|[\d.]+/)||this._processError(e,t.ErrorCode.UnexpectedValue),e)},i}(t._BaseValidator);t._FontSizeValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,o){if(null==e)return null;var r=!1,l=e.match(/_NumberFlag_$/);null!=l&&(e=e.substring(0,l.index),r=!0);var a=parseFloat(e);if(isNaN(a)){if(null!=(u=t._AnyTypeExtension._toEnumValueOrNull(e,t.FontWeight)))return e}else{var u;if(null!=(u=t._AnyTypeExtension._toEnumValueOrNull(a,t.FontWeight)))return t._NativeExtension._enumValueToString(u,t.FontWeight);if(i.__minFontWeight<=a&&a<=i.__maxFontWeight)return e}return r?this._processError(a,t.ErrorCode.UnexpectedValue):this._processError(e,t.ErrorCode.UnexpectedValue),e},i.__minFontWeight=1,i.__maxFontWeight=1e3,i}(t._BaseValidator);t._FontWeightValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e||0==e.length){var o=[],r=new t.options._GradientPositionOption,l=new t.options._GradientPositionOption;return o.push(r,l),o}var a=e;if(1===a.length){var u=new t.options._GradientPositionOption;switch(a[0].keyword){case t.GradientPositionKeyword.Left:case t.GradientPositionKeyword.Right:u.keyword=t.GradientPositionKeyword.Top,u.offset=.5;break;case t.GradientPositionKeyword.Top:case t.GradientPositionKeyword.Bottom:u.keyword=t.GradientPositionKeyword.Left,u.offset=.5}a.push(u)}if(2===a.length){if(!(a[0].keyword!==t.GradientPositionKeyword.Left&&a[0].keyword!==t.GradientPositionKeyword.Right||a[1].keyword!==t.GradientPositionKeyword.Left&&a[1].keyword!==t.GradientPositionKeyword.Right)){var s=t._NativeExtension._enumValueToString(e[1].keyword,t.GradientPositionKeyword);throw new t.OptionError(t.ErrorCode.WrongGradientPosition,s)}if(a[0].keyword===t.GradientPositionKeyword.Top||a[0].keyword===t.GradientPositionKeyword.Bottom){if(a[1].keyword===t.GradientPositionKeyword.Top||a[1].keyword===t.GradientPositionKeyword.Bottom)throw s=t._NativeExtension._enumValueToString(e[1].keyword,t.GradientPositionKeyword),new t.OptionError(t.ErrorCode.WrongGradientPosition,s);a.reverse()}return a}return this._processError(e,t.ErrorCode.UnexpectedValue),e},i}(t._BaseValidator);t._GradientPositionsValidator=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.validate=function(t,e,n){return null!=t&&t.duration>0?t:null},e}(t._BaseValidator);t._HoverAnimationOptionValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null!=e&&!isNaN(e)&&0<=e&&e<=1?e:(this._processError(e,t.ErrorCode.UnexpectedValue),null)},i}(t._BaseValidator);t._InnerRadiusValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var r=e.call(this,t)||this;return r.__defaultValue=n,r.__min=i,r.__max=o,r}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?this.__defaultValue:null!=this.__min&&e<this.__min?(this._processError(e,t.ErrorCode.LowerThanOrEqualToNumberValueRequired,this.__min),this.__defaultValue):null!=this.__max&&e>this.__max?(this._processError(e,t.ErrorCode.GreaterThanOrEqualToNumberValueRequired,this.__max),this.__defaultValue):e},i}(t._BaseValidator);t._IntegerValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:isNaN(e)||0==e?(this._processError(e,t.ErrorCode.PositiveNumberExpected),e):e},i}(t._BaseValidator);t._InterceptValidator=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.validate=function(t,e,n){if(null==t)return[];for(var i=0;i<t.length;i++){var o=t[i];null!=o&&(o<-90?t[i]=-90:o>90&&(t[i]=90))}return t},e}(t._BaseValidator);t._LabelAngleValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null!=e&&!isNaN(e)&&e>0&&1!=e||this._processError(null,t.ErrorCode.UnexpectedLogBaseValue),e},i}(t._BaseValidator);t._LogBaseValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null!=e||this._processError(e,t.ErrorCode.UnexpectedValue),e},i}(t._BaseValidator);t._MergeLegendTypeValidator=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.validate=function(t,e,n){return null==t?[]:(t=t.map((function(t){return null==t?null:t.trim()}))).filter((function(t){return null!=t&&""!=t}))},e}(t._BaseValidator);t._NameArrayOptionValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var o=e.call(this,t)||this;return o.__length=n,o.__childLength=i,o}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return null;if(!Array.isArray(e))return this._processError(e,t.ErrorCode.UnexpectedValue),null;if(null!=this.__length)if(e.length>this.__length)this._processError(e,t.ErrorCode.UnexpectedValue),e=e.slice(0,this.__length);else if(e.length<this.__length)return this._processError(e,t.ErrorCode.UnexpectedValue),null;for(var o=0;o<e.length;++o){if(!Array.isArray(e[o]))return this._processError(e,t.ErrorCode.UnexpectedValue),null;if(null!=this.__childLength)if(e[o].length>this.__childLength)this._processError(e,t.ErrorCode.UnexpectedValue),e=e.slice(0,this.__childLength);else if(e[o].length<this.__childLength)return this._processError(e,t.ErrorCode.UnexpectedValue),null;for(var r=0;r<e[o].length;++r){if(isNaN(e[o][r]))return this._processError(e,t.ErrorCode.UnexpectedValue),null;if(!t._AnyTypeExtension._isNumber(e[o][r]))return this._processError(e,t.ErrorCode.UnexpectedValue),null}}return e},i}(t._BaseValidator);t._NumberArrayArrayValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=e.call(this,t)||this;return r.__length=n,r.__min=i,r.__max=o,r}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return null;if(null!=this.__length)if(e.length>this.__length)this._processError(e,t.ErrorCode.UnexpectedValue),e=e.slice(0,this.__length);else if(e.length<this.__length)return this._processError(e,t.ErrorCode.UnexpectedValue),null;for(var o=0;o<e.length;++o){if(isNaN(e[o]))return this._processError(e,t.ErrorCode.UnexpectedValue),null;if(null!=this.__min&&e[o]<this.__min)return this._processError(e,t.ErrorCode.UnexpectedValue),null;if(null!=this.__max&&e[o]>this.__max)return this._processError(e,t.ErrorCode.UnexpectedValue),null}return e},i}(t._BaseValidator);t._NumberArrayValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=e.call(this,t)||this;return r.__length=n,r.__min=i,r.__max=o,r}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return null;if(null!=this.__length)if(e.length>this.__length)this._processError(e,t.ErrorCode.UnexpectedValue),e=e.slice(0,this.__length);else if(e.length<this.__length)return this._processError(e,t.ErrorCode.UnexpectedValue),null;for(var o=0;o<e.length;++o){if(null==e[o])return this._processError(e,t.ErrorCode.UnexpectedValue),null;if(isNaN(e[o]))return this._processError(e,t.ErrorCode.UnexpectedValue),null;if(null!=this.__min&&e[o]<this.__min)return this._processError(e,t.ErrorCode.UnexpectedValue),null;if(null!=this.__max&&e[o]>this.__max)return this._processError(e,t.ErrorCode.UnexpectedValue),null}return e},i}(t._BaseValidator);t._NumberOrNullArrayValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===r&&(r=!1);var l=e.call(this,t)||this;return l.__min=n,l.__max=i,l.__autoCorrect=o,l.__isInteger=r,l}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:isNaN(e)?(this._processError(e,t.ErrorCode.LegalNumberValueRequired,e),null):(this.__isInteger&&!t._Utility._isInteger(e)&&this._processError(e,t.ErrorCode.IntegerValueRequired),null!=this.__min&&e<this.__min&&(this.__autoCorrect?e=this.__min:this._processError(e,t.ErrorCode.GreaterThanOrEqualToNumberValueRequired,this.__min)),null!=this.__max&&e>this.__max&&(this.__autoCorrect?e=this.__max:this._processError(e,t.ErrorCode.LowerThanOrEqualToNumberValueRequired,this.__max)),e)},i}(t._BaseValidator);t._NumberValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n){void 0===n&&(n=!0);var i=e.call(this,t)||this;return i.__nullCreateDefault=n,i}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return this.__nullCreateDefault?this._createDefaultPaletteItemOpions():null;for(var o=[],r=!1,l=0,a=e;l<a.length;l++){var u=a[l];null==u||(u.type==t.options.PaletteItemType.Index&&(r=!0),this._isDuplicatedInPalettes(u,o)||o.push(u))}return r||o.push.apply(o,this._createDefaultPaletteItemOpions()),o},i.prototype._createDefaultPaletteItemOpions=function(){for(var e=[],n=0,i=t.PaletteColorUtility.getPaletteColors("Office");n<i.length;n++){var o=i[n],r=new t.options._PaletteItemOption;r.type=t.options.PaletteItemType.Index,r.color=t._ColorOptionConverter._toColorOptionFromString(o),e.push(r)}return e},i.prototype._isDuplicatedInPalettes=function(e,n){if(e.type==t.options.PaletteItemType.Index)return!1;for(var i=0,o=n;i<o.length;i++){var r=o[i];if(r.type==t.options.PaletteItemType.Data&&t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer._equalsWith(r.data,e.data))return!0}return!1},i}(t._BaseValidator);t._PaletteItemOptionsValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return[];for(var o=[],r=0,l=e;r<l.length;r++){var a=l[r],u=null==a?null:a.trim();null!=u&&""!=u&&("none"==u?o.push("none"):null==t._ColorUtility._toStringColor(u)?this._processError(u,t.ErrorCode.UnexpectedNullValue):o.push(u))}return o},i}(t._BaseValidator);t._PaletteValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return this._defaultPath();var o=e.split(":");if(2==o.length){var r=o[0],l=o[1];if("path"==r&&null!=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(l))return e}else{var a=t._ExcelNamedPatternList.defaultExcelPattern.pattern[e];if(null!=a)return"path:"+a.join(" ")}return this._processError(e,t.ErrorCode.UnexpectedValue),e},i.prototype._defaultPath=function(){return"path:"+t._ExcelNamedPatternList.defaultExcelPattern.pattern["Dotted-5%"].join(" ")},i}(t._BaseValidator);t._PathWithStyleOptionContentValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:((null!=e.fill&&t.options._isPatternOption(e.fill)||null!=e.stroke&&t.options._isPatternOption(e.stroke))&&this._processError(e,t.ErrorCode.UnexpectedValue),null==e.fill&&(e.fill=t.options._CssColorOption._buildColorOption("#000000")),null==e.strokeWidth&&(e.strokeWidth=0),null==e.stroke&&(e.stroke=t.options._CssColorOption._buildColorOption("none")),e)},i}(t._BaseValidator);t._PathWithStyleOptionStyleValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){var o=[];if(null==e||0==e.length)return o;for(var r=0;r<e.length;r++){var l=e[r];null==l.row&&(l.row=r),null==l.column&&(l.column=0);for(var a=0,u=o;a<u.length;a++){var s=u[a];s.row==l.row&&s.column==l.column&&this._processError(o,t.ErrorCode.DuplicatedRowColumn)}o.push(l)}return o},i}(t._BaseValidator);t._PlotAreasValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return null;if(!isNaN(e)){var o=this._normalizeAngle(e);return o<=-90&&(o+=180),o>90&&(o-=180),o}return this._processError(e,t.ErrorCode.LegalNumberValueRequired,e),null},i.prototype._normalizeAngle=function(t){for(;t<-180||t>180;)t<-180&&(t+=360),t>180&&(t-=360);return t},i}(t._BaseValidator);t._PlotConfigTextAngleValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){if(0==e.length)e.push(new t.options._PlotConfigTextOption);else{for(var o=!1,r=0,l=e;r<l.length;r++)if(l[r].scope==t._Constants.DataPointTextScope){o=!0;break}o||e.push(new t.options._PlotConfigTextOption)}return e},i}(t._BaseValidator);t._PlotConfigTextValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)e=[new t.options._PlotConfigTooltipOption];else if(0==e.length)e.push(new t.options._PlotConfigTooltipOption);else{for(var o=!1,r=0,l=e;r<l.length;r++)if("DataPoint"===l[r].scope){o=!0;break}o||e.push(new t.options._PlotConfigTooltipOption)}return e},i}(t._BaseValidator);t._PlotConfigTooltipArrayValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:e.type==t.ValueOptionType.Percentage?e.value>=1?e:(this._processError(e,t.ErrorCode.UnexpectedValue),t.options._ValueOptionExtension._percentageValueOption(1)):e.type==t.ValueOptionType.Pixel?e.value>=0?e:(this._processError(e,t.ErrorCode.UnexpectedValue),t.options._ValueOptionExtension._pixelValueOption(0)):(this._processError(e,t.ErrorCode.UnexpectedValue),t.options._ValueOptionExtension._pixelValueOption(10))},i}(t._BaseValidator);t._RippleScaleValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=!0),void 0===r&&(r=null);var l=e.call(this,t)||this;return l.__empytAsNull=n,l.__nullAsEmpty=i,l.__filterOutNullItem=o,l.__expectedCount=r,l}return n(i,e),i.prototype.validate=function(e,n,i){var o=e;return this.__filterOutNullItem&&null!=o&&(o=o.filter((function(t){return null!=t}))),this.__empytAsNull&&null!=o&&0==o.length?o=null:this.__nullAsEmpty&&null==o&&(o=[]),null!=this.__expectedCount&&null!=o&&o.length!=this.__expectedCount&&this._processError(o,t.ErrorCode.UnexpectedValue),o},i}(t._BaseValidator);t._StringArrayValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var o=e.call(this,t)||this;return o.__empytAsNull=n,o.__nullAsError=i,o}return n(i,e),i.prototype.validate=function(e,n,i){if(null!=e){if(0!=e.length){var o=t._OptionUtility._toStringColorFromString(e);return null!=o?o:this._processError(e,t.ErrorCode.UnexpectedValue)}if(!this.__empytAsNull)return this._processError(e,t.ErrorCode.UnexpectedValue);e=null}return this.__nullAsError?this._processError(e,t.ErrorCode.UnexpectedValue):null},i}(t._BaseValidator);t._StringColorValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!0);var o=e.call(this,t)||this;return o.__acceptNull=n,o.__acceptEmpty=i,o}return n(i,e),i.prototype.validate=function(e,n,i){return null!=e||this.__acceptNull||this._processError(e,t.ErrorCode.UnexpectedNullValue),""!=e||this.__acceptEmpty||this._processError(e,t.ErrorCode.UnexpectedValue),e},i}(t._BaseValidator);t._StringValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){for(var o=e.map((function(t){var e=t.shape.content;return null!=e&&""!==e?t.shape.name:null})),r=0;r<o.length;r++){var l=o[r],a=o.slice(r+1);null!=l&&a.indexOf(l)>-1&&this._processError(l,t.ErrorCode.UnexpectedValue)}return e},i}(t._BaseValidator);t._SymbolShapesValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){for(var o=0,r=e;o<r.length;o++){var l=r[o];l instanceof t.options._UnpivotTransformOption?this._validateUnpivotTransformOption(l):l instanceof t.options._CalculateTransformOption?this._validateCalculateTransformOption(l):l instanceof t.options._AggregateTransformOption&&this._validateAggregateTransformOption(l)}return e},i.prototype._validateUnpivotTransformOption=function(e){null!=e.names&&1!=e.names.length&&this._processError(e.names,t.ErrorCode.UnexpectedValue),null==e.category&&this._processError(e.category,t.ErrorCode.UnexpectedNullValue),null==e.valueFieldAs&&this._processError(e.valueFieldAs,t.ErrorCode.UnexpectedNullValue),null==e.outputAs&&this._processError(e.outputAs,t.ErrorCode.UnexpectedNullValue)},i.prototype._validateCalculateTransformOption=function(e){null==e.calculate&&this._processError(e.calculate,t.ErrorCode.UnexpectedNullValue),null==e.outputAs&&this._processError(e.outputAs,t.ErrorCode.UnexpectedNullValue)},i.prototype._validateAggregateTransformOption=function(e){null!=e.aggregate&&0!=e.aggregate.length||this._processError(e.aggregate,t.ErrorCode.UnexpectedNullValue)},i}(t._BaseValidator);t._TransformOptionsValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:(!isNaN(e)&&e>=0&&e<=1||this._processError(e,t.ErrorCode.UnitIntervalExpected),e)},i}(t._BaseValidator);t._UnitIntervalValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null!=e&&null!=e.fieldAs||this._processError(e,t.ErrorCode.UnexpectedNullValue),e},i}(t._BaseValidator);t._UnpivotCategoryOptionValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){for(var o=0;o<e.length;++o)null==e[o]?e[o]=t.options._ValueOptionExtension._starValueOption(1):e[o].type==t.ValueOptionType.Available||e[o].type==t.ValueOptionType.Pixel?e[o].value<=0&&(this._processError(e,t.ErrorCode.UnexpectedValue),e[o]=t.options._ValueOptionExtension._starValueOption(1)):(this._processError(e,t.ErrorCode.UnexpectedValue),e[o]=t.options._ValueOptionExtension._starValueOption(1));return e},i}(t._BaseValidator);t._ValueOptionPixelStarValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return null;if(e.type==t.ValueOptionType.Percentage)return e.value<0?(this._processError(e,t.ErrorCode.UnexpectedValue),t.options._ValueOptionExtension._percentageValueOption(0)):e.value>1?(this._processError(e,t.ErrorCode.UnexpectedValue),t.options._ValueOptionExtension._percentageValueOption(1)):e;if(e.type==t.ValueOptionType.Pixel)return e;if(e.type==t.ValueOptionType.Enum){if(0==e.value)return e;this._processError(e,t.ErrorCode.UnexpectedValue);var o=new t.options._ValueOption(null,this._strictMode);return o.type=t.ValueOptionType.Enum,o.value=0,o}return this._processError(e,t.ErrorCode.UnexpectedValue),t._NativeExtension.getPropertyValue(i,n)},i}(t._BaseValidator);t._ValueOptionWithPixelPercentageAutoValidator=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var o=e.call(this,t)||this;return o.__minPercentage=n,o.__maxPercentage=i,o}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:e.type==t.ValueOptionType.Percentage?null!=this.__minPercentage&&this.__minPercentage>e.value?(this._processError(e,t.ErrorCode.UnexpectedValue),t.options._ValueOptionExtension._percentageValueOption(this.__minPercentage)):null!=this.__maxPercentage&&this.__maxPercentage<e.value?(this._processError(e,t.ErrorCode.UnexpectedValue),t.options._ValueOptionExtension._percentageValueOption(this.__maxPercentage)):e:e.type==t.ValueOptionType.Pixel?e.value>=0?e:(this._processError(e,t.ErrorCode.UnexpectedValue),t.options._ValueOptionExtension._pixelValueOption(0)):(this._processError(e,t.ErrorCode.UnexpectedValue),t._NativeExtension.getPropertyValue(i,n))},i}(t._BaseValidator);t._ValueOptionWithPixelPercentageValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:e.type==t.ValueOptionType.Pixel?e.value>=0?e:(this._processError(e,t.ErrorCode.UnexpectedValue),t.options._ValueOptionExtension._pixelValueOption(0)):t._NativeExtension.getPropertyValue(i,n)},i}(t._BaseValidator);t._ValueOptionWithPixelValidator=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return null;4!=e.length&&this._processError(e,t.ErrorCode.UnexpectedValue);for(var o=0;o<e.length;o++){var r=e[o];null==r&&this._processError(r,t.ErrorCode.UnexpectedNullValue),isNaN(r)&&this._processError(r,t.ErrorCode.LegalNumberValueRequired),(2==o||3==o)&&r<0&&this._processError(r,t.ErrorCode.GreaterThanOrEqualToNumberValueRequired,0)}return e},i}(t._BaseValidator);t._ViewportOptionValidator=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){return null==e?null:(!isNaN(e)&&e>0&&e<=1||this._processError(e,t.ErrorCode.UnexpectedValue),e)},i}(t._BaseValidator);t._ViewSizeValidator=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.__x=e,this.__y=n,this.__action=t}return Object.defineProperty(e.prototype,"action",{get:function(){return this.__action},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.__x},set:function(t){this.__x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__y},set:function(t){this.__y=t},enumerable:!1,configurable:!0}),e.prototype.contains=function(e){return null!=e&&e.contains(new t.core.Point(this.x,this.y))},e.ACTION_DOWN=0,e.ACTION_UP=1,e.ACTION_MOVE=2,e.ACTION_CANCEL=3,e.ACTION_OUTSIDE=4,e.ACTION_MOUSE_DOWN=5,e.ACTION_MOUSE_MOVE=6,e.ACTION_MOUSE_UP=7,e.ACTION_MOUSE_OVER=8,e.ACTION_MOUSE_OUT=9,e.ACTION_CLICK=10,e.ACTION_MOUSE_ENTER=11,e.ACTION_MOUSE_LEAVE=12,e.ACTION_WHEEL=13,e.ACTION_DOUBLE_CLICK=14,e}();t.MotionEvent=e}(t||(t={})),function(t){!function(t){t._isOption=function(t){return null!=t&&"function"==typeof t.option}}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isOptionStrictMode=function(e){return!!t._isOption(e)&&void 0!==e._strictMode}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=!1),this.__strictMode=n,this._setOption(e),null!=e&&t.OptionSerializer.deserialize(this,e)}return e.prototype._setOption=function(t){this.__option=t},e.prototype.option=function(){return this.__option},Object.defineProperty(e.prototype,"_strictMode",{get:function(){return this.__strictMode},enumerable:!1,configurable:!0}),e.prototype.validate=function(e){return t._ReflectorUtility._validateOptionValue(e,this,this.__strictMode)},o([t.JsonIgnoreAttribute()],e.prototype,"_strictMode",null),e}(),e._Option=n}(t||(t={})),function(t){var e=function(e){function o(n){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return e.apply(this,i([t.ExceptionLocalization._errorMessage(t.ErrorCode.OptionPrompt),n],o,!1))||this}return n(o,e),o}(t.BaseError);t.OptionError=e}(t||(t={})),function(t){var e=function(){function e(){}return e.deserialize=function(e,n,i){return void 0===i&&(i=null),t.options._isOption(n)&&(n=this._serialize(n)),e._setOption(n),t.JsonSerializer.deserialize(e,n,i)},e._serialize=function(e){var n={};for(var i in e){var o=e[i];i.startsWith("_")||"function"==typeof e[i]||(t.options._isOption(o)&&(o=this._serialize(o)),n[i]=o)}return n},e._deserializeToDerivedType=function(e,n,i,o,r){var l=this._keys.indexOf(i);if(l<0){for(var a=[],u=0,s=Object.getOwnPropertyNames(t);u<s.length;u++){var _=s[u];null!=(h=t[_])&&Object.getPrototypeOf(h)==i&&a.push(h)}this._keys.push(i),this._values.push(a),l=this._keys.length-1}for(var p=0,c=this._values[l];p<c.length;p++){var h,f=new(h=c[p])(o);if(f.canConvert(r,e,n))return f.fromJson(e,n)}return this.deserialize(new r(o),e,n)},e._isOptionObject=function(e){return t.options._isOption(e)},e._createOption=function(n,i,o){var r=t.options[n];if(null==r&&null!=t.financial&&(r=t.financial.options[n]),null==r)throw new t.AssertError(t.ErrorCode.InvalidArgument,n);if(t.options._isOption(i))return i;var l=new r(null,null==o?null:null!=o.strictMode&&0!=o.strictMode);return l._setOption(i),e.deserialize(l,i,o)},e._toObjectArray=function(t){return t},e._keys=[],e._values=[],e}();t.OptionSerializer=e}(t||(t={})),function(t){var e=function(){function t(){}return t._validateOptionValue=function(t,e,n){return t},t}();t._ReflectorUtility=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__objects=t,this.__type=e}return e.prototype._objects=function(t,e){return void 0===e&&(e=null),this._buildInObjects(this.__objects,e,t,this.__type)},e.prototype._buildInObjects=function(e,n,i,o){e=e.slice();var r=[];null!=i&&(r=i.filter((function(t){return t.type===o})));for(var l=r.map((function(t){return t.name})),a=0,u=this._plugins(n,o,l);a<u.length;a++){var s=u[a];e.indexOf(s)<0&&e.push(s)}for(var _=0,p=this._plugins(t.plugins.PluginCollection.defaultPluginCollection,o,l);_<p.length;_++)s=p[_],e.indexOf(s)<0&&e.push(s);for(var c=[],h=0;h<e.length;h++){var f=e[h];if(t.plugins._isPlugin(f)){var d=(s=f).priority,y=!1;if(r.length>0)for(var g=0;g<r.length;g++)if(r[g].name===s.name){c.push(new t._BuildInObjectInfo(f,h,d,g,r[g])),y=!0;break}y||c.push(new t._BuildInObjectInfo(f,h,d,-1,null))}else c.push(new t._BuildInObjectInfo(f,h,-1,-1,null))}return c.sort((function(t,e){return t.priority!==e.priority?e.priority-t.priority:t.optionIndex!==e.optionIndex?t.optionIndex-e.optionIndex:t.index-e.index})),c},e.prototype._plugins=function(t,e,n){var i=[];if(null==t)return i;for(var o=0,r=t._pluginModelsFromType(e);o<r.length;o++){var l=r[o];if(l._withoutOption||n.indexOf(l._plugin.name)>=0){var a=this._convert(l._plugin);null!=a&&i.push(a)}}return i},e}();t._BuildInObjectCollection=e}(t||(t={})),function(t){var e=function(t,e,n,i,o){this.item=t,this.index=e,this.priority=n,this.optionIndex=i,this.option=o};t._BuildInObjectInfo=e}(t||(t={})),function(t){!function(t){t._isPlugin=function(t){var e=t;return void 0!==e.name&&void 0!==e.type&&void 0!==e.priority}}(t.plugins||(t.plugins={}))}(t||(t={})),function(t){t.plugins||(t.plugins={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,n,i;e=t.plugins||(t.plugins={}),n=function(t,e){this._plugin=t,this._withoutOption=e},i=function(){function e(){this.__pluginModels=[]}return e.prototype.register=function(e,i){if(void 0===i&&(i=null),null==e)throw new t.PluginError(t.ErrorCode.PluginNull);if(null==e.type)throw new t.PluginError(t.ErrorCode.PluginNullType);if(null==e.name)throw new t.PluginError(t.ErrorCode.PluginNullName);this.__pluginModels.map((function(t){return t._plugin})).indexOf(e)<0&&this.__pluginModels.push(new n(e,t._NativeExtension._toNonNullBoolean(i,!0)))},e.prototype.unregister=function(e){if(null==e)throw new t.PluginError(t.ErrorCode.PluginNull);var n=this.__pluginModels.map((function(t){return t._plugin})).indexOf(e);n>=0&&this.__pluginModels.splice(n,1)},e.prototype.plugin=function(t,n){void 0===n&&(n=null),null==n&&(n=e.defaultPluginName);for(var i=[],o=0,r=this.__pluginModels;o<r.length;o++){var l=r[o];l._plugin.type==t&&l._plugin.name==n&&i.push(l._plugin)}return i},e.prototype._pluginModelsFromType=function(t){for(var e=[],n=0,i=this.__pluginModels;n<i.length;n++){var o=i[n];o._plugin.type==t&&e.push(o)}return e},e.defaultPluginName="Default",e.defaultPluginCollection=new e,e}(),e.PluginCollection=i}(t||(t={})),function(t){var e=function(e){function o(n){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return e.apply(this,i([t.ExceptionLocalization._errorMessage(t.ErrorCode.PluginPrompt),n],o,!1))||this}return n(o,e),o}(t.BaseError);t.PluginError=e}(t||(t={})),function(t){var e=function(){function t(t){this._transform=null,this._visible=!0,this._zLevel=0,this._zIndex=0,this._ownerView=t}return t.prototype._getClassName=function(){return null},t.prototype._getClipping=function(){return null},t.prototype._drawView=function(t,e){},t.prototype._renderChildren=function(t,e){},t.prototype._getOwnerView=function(){return this._ownerView},t.prototype._isVisible=function(){return this._visible},t.prototype._render=function(t,e){var n=this;this._isVisible()&&(this._zLevel>0&&-1==e._zLevels.indexOf(this._zLevel)&&e._zLevels.push(this._zLevel),this._zLevel==e._currentZLevel?t.drawGroup(this._getClassName(),this._getClipping(),this._transform,(function(i){n._drawView(i,e),n._renderChildren(t,e)})):this._renderChildren(t,e))},t.prototype._hitTest=function(t,e,n){return null},t.prototype.queryInterface=function(t){return null},t}();t._BaseView=e}(t||(t={})),function(t){var e=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.__list=[],null!=t)for(var n=0,i=t;n<i.length;n++){var o=i[n];this._push(o)}}return t.prototype._push=function(t){null!=t&&this.__list.push(t)},t.prototype._unshift=function(t){null!=t&&this.__list.unshift(t)},t.prototype._shift=function(){return this.__list.length>0?this.__list.shift():null},t.prototype._pop=function(){return this.__list.length>0?this.__list.pop():null},t.prototype._delete=function(t){for(var e=0;e<this.__list.length;++e)if(this.__list[e]==t){this.__list.splice(e,1);break}},t.prototype._indexOf=function(t){return this.__list.indexOf(t)},t.prototype._flush=function(t,e){for(var n=0,i=this.__list;n<i.length;n++){var o=i[n],r=o._cutOff();if(o._draw(t,e),r)break}},t.prototype.contains=function(t){for(var e=0,n=this.__list;e<n.length;e++){var i=n[e],o=i._cutOff(),r=i._contains(t);if(o)return r;if(r)return!0}return!1},t.prototype._filter=function(t){return this.__list.filter((function(e){return t(e)}))},t.prototype.queryInterface=function(t){return null},t}();t.DisplayablePipeLine=e}(t||(t={})),t||(t={}),function(t){t._isHoverView=function(t){if(null==t)return!1;var e=t;return"function"==typeof e._isHover&&"function"==typeof e._updateHover}}(t||(t={})),function(t){t._isAnimationView=function(t){return null!=t&&void 0!==t._animationVisible}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){t._isIdentityModel=function(t){return"function"==typeof t._id}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e,n,i){this._left=t,this._top=e,this._right=n,this._bottom=i}return t.prototype._getLeft=function(){return this._left},t.prototype._getTop=function(){return this._top},t.prototype._getRight=function(){return this._right},t.prototype._getBottom=function(){return this._bottom},t}();t._Padding=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function i(n){var i=e.call(this,n)||this;return i.__rectangle=t.core.Rect.ReadOnlyRect,i}return n(i,e),i.prototype._paddings=function(){return null},i.prototype._layoutContent=function(t,e,n){t.beginTransform(),this._applyBorderStyle(t);var i=this._calculateInnerRectangle(t,this._getRectangle());t.restoreTransform(),this._layoutInnerContent(t,i,n)},i.prototype._measure=function(e,n){null==n&&(n=new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE)),n=n.clone();var i=new t.core.Size(0,0);if(e.beginTransform(),this._applyBorderStyle(e),null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;i.width+=2*o,i.height+=2*o,n.width-=2*o,n.height-=2*o}var r=this._paddings();null!=r&&(i.width+=r.left.value+r.right.value,i.height+=r.top.value+r.bottom.value,n.width-=r.left.value+r.right.value,n.height-=r.top.value+r.bottom.value),e.restoreTransform();var l=this._measureInnerContent(e,n);return i.width+=l._size.width,i.height+=l._size.height,new t._RectangleViewMetricsResult(i)},i.prototype._drawView=function(e,n){e.beginTransform(),this._applyBorderStyle(e),this._applyBackgroundStyle(e);var i=this._getRectangle().clone();if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;e.drawRect(i.left+o/2,i.top+o/2,i.width-o,i.height-o),i.inflate(-o,-o)}e.restoreTransform(),this._renderInnerContent(e,this._calculateExcludedPaddingsRectangle(i,this._paddings()),n)},i.prototype._layoutInnerContent=function(t,e,n){},i.prototype._renderInnerContent=function(t,e,n){},i.prototype._measureInnerContent=function(e,n){return new t._RectangleViewMetricsResult(new t.core.Size(0,0))},i.prototype._applyBorderStyle=function(e){t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle())},i.prototype._applyBackgroundStyle=function(e){t._StyleUtility._applyFill(e,t._CssColor._none())},i.prototype._calculateInnerRectangle=function(t,e){var n=e.clone();if(null!=t.strokeWidth&&t.strokeWidth>0){var i=t.strokeWidth;n.inflate(-i,-i)}return this._calculateExcludedPaddingsRectangle(n,this._paddings())},i.prototype._calculateExcludedPaddingsRectangle=function(e,n){return null!=n?new t.core.Rect(e.left+n.left.value,e.top+n.top.value,e.width-n.left.value-n.right.value,e.height-n.top.value-n.bottom.value):e},i.prototype._getRectangle=function(){return this.__rectangle},i.prototype._layout=function(t,e,n){this._updateRectangle(n),this._layoutContent(t,n,e)},i.prototype._updateRectangle=function(t){this.__rectangle=t.clone()},i.prototype._isVisible=function(){var t=this._getRectangle();return!(t.width<=0||t.height<=0)&&e.prototype._isVisible.call(this)},i}(t._BaseView);t._RectangleView=e}(t||(t={})),function(t){var e=function(t){this._size=t.clone()};t._RectangleViewMetricsResult=e}(t||(t={})),function(t){var e=function(){function t(){this.__customContexts=new Array,this._labels=[],this._axisLabels=[],this._legendsLabels=[],this._headerLabels=[],this._footerLabels=[],this._tmpAxisLabels=[],this._tmpGroupGridLinePositions=[],this.apiSelectedStyle=null,this._dataLabelClipRectangle=null,this._innerPlotAreaRect=null,this._plotsMarginRectangle=null,this._textAnnotationSymbolRect=null,this._originalLegendSize=null,this._legendSymbolSize=null,this._lineCartesianCoordinateSystemContent=null,this._otherSideRect=null,this._areaBaseLine=null,this._radialAngle=null,this._renderLabel=!1,this.hasSelectionInPlotArea=!1,this._checkOverlap=!1,this._hovered=!1,this.selected=!1,this._altStyle=!1,this._fTextOverlay=!1,this._ignoreWrap=!1,this._scrollableViewZIndex=0,this._ignored=!1,this._currentZLevel=0,this._zLevels=[]}return t.prototype._pushContext=function(t){this.__customContexts.push(t)},t.prototype._popContext=function(){return this.__customContexts.pop()},t.prototype.queryInterface=function(t){for(var e=0,n=this.__customContexts.reverse();e<n.length;e++){var i=n[e];if(null!=i.queryInterface(t))return i}return null},t}();t._RenderContext=e}(t||(t={})),function(t){t._isScrollableView=function(t){var e=t;return"function"==typeof e._getScrollX()&&"function"==typeof e._getScrollY()&&"function"==typeof e._scrollTo}}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this,t)||this;return n.__scrollX=0,n.__scrollY=0,n}return n(i,e),i.prototype._canScroll=function(){return!0},i.prototype._redraw=function(){null!=this.__scrollableGroupElement&&(this.__scrollableGroupElement.offsetX=this.__scrollX,this.__scrollableGroupElement.offsetY=this.__scrollY,this.__scrollableGroupElement.flush())},i.prototype._getViewport=function(){return this._getRectangle()},i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this.__scrollX=0,this.__scrollY=0},i.prototype._renderScrollableContent=function(t,e){var n=this,i=this._getLogicSize(),o=this._getViewport();this.__scrollableGroupElement=t.createGroup("scroll-content",null,this._transform,o,i.width,i.height,this.__scrollX,this.__scrollY,(function(t){n._invokeBaseRenderContent(t,e)})),null==this.__scrollableGroupElement&&t.drawGroup("scroll-content",null,this._transform,(function(t){n._invokeBaseRenderContent(t,e)}))},i.prototype._renderNonScrollableContent=function(t,e){this._invokeBaseRenderContent(t,e)},i.prototype._invokeBaseRenderContent=function(t,n){e.prototype._drawView.call(this,t,n)},i.prototype._drawView=function(e,n){var i=this;if(this._canScroll()){var o=this._getRectangle(),r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height);e.drawGroup("scroll-viewport",r,null,(function(t){i._renderScrollableContent(t,n)}))}else this._renderNonScrollableContent(e,n)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();return null!=r&&r.contains(n)?this._hitTestContent(new t.core.Point(this.__scrollX+n.x,this.__scrollY+n.y),i,o):e.prototype._hitTest.call(this,n,i,o)},i.prototype._hitTestContent=function(t,n,i){return e.prototype._hitTest.call(this,t,n,i)},i.prototype._getScrollX=function(){return this.__scrollX},i.prototype._getScrollY=function(){return this.__scrollY},i.prototype._scrollTo=function(t,e){var n=!1;this._canScroll()&&(this.__scrollX!=t&&(this.__scrollX=t,n=!0),this.__scrollY!=e&&(this.__scrollY=e,n=!0),n&&this._redraw())},i}(t._RectangleView);t._ScrollableView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._compare=function(e,n){return t._isSelectingView(e)?t._isSelectingView(n)?0:1:t._isSelectingView(n)?-1:0},e}(),n=function(){function t(){this._visualViewOrderComparer=new e}return t._defaultSelectingBehaviorPolicy=new t,t}();t._DefaultSelectingBehaviorPolicy=n}(t||(t={})),t||(t={}),function(t){t._isSelectingView=function(t){return null!=t&&"function"==typeof t._isSelected}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t,e,n){this.width=t,this.overflow=e,this.metrics=n},n=function(){function n(){this.__caches={}}return n.prototype.measureMultiLineString=function(n,i,o,r,l){if(void 0===l&&(l=null),n.fontSize==this.__fontSize&&n.fontFamily==this.__fontFamily&&n.fontWeight==this.__fontWeight&&n.fontStyle==this.__fontStyle){if(t._Util.hasKey(this.__caches,i)){var a=this.__caches[i];if(a.overflow===r){if(a.width===o)return a.metrics;if(o==a.metrics.size.width)return a.metrics;if(r==t.TextOverflow.Clip)return a.metrics}}var u=n.measureMultiLineString(i,o,r,l);return this.__caches[i]=new e(o,r,u),u}return this.__fontSize=n.fontSize,this.__fontFamily=n.fontFamily,this.__fontWeight=n.fontWeight,this.__fontStyle=n.fontStyle,this.__caches={},u=n.measureMultiLineString(i,o,r,l),this.__caches[i]=new e(o,r,u),u},n}();t._TextMetricsResult=n}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l,a,u,s,_,p){void 0===o&&(o=t.TextOverflow.Clip),void 0===r&&(r=null),void 0===l&&(l=t.HAlign.Center),void 0===a&&(a=t.VAlign.Middle),void 0===u&&(u=null),void 0===s&&(s=null),void 0===_&&(_=null),void 0===p&&(p=null);var c=e.call(this,n)||this;return c.__hover=!1,c.__textInlines=[],c.__cachedMetricsResult=null,c.__cachedTextMetricsResult=null,c.text=i,c._externalStyle=null,c.__textOverflow=o,c.__style=u,c.__hoverStyle=s,c.__textPadding=r,c.__hAlign=l,c.__vAlign=a,c.__textAlignment=_,c.__wordSeparators=p,c}return n(i,e),i.prototype._getMeasureInfo=function(){return this.__cachedMetricsResult},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t)},i.prototype._measure=function(n,i){this.__textInlines=[],null==this.text||0==this.text.length?this.__cachedMetricsResult=new t._RectangleViewMetricsResult(new t.core.Size(0,0)):this.__cachedMetricsResult=e.prototype._measure.call(this,n,i);var o=this.__cachedMetricsResult._size.clone();if(null!=i){var r=i.width>=0?i.width:0;o.width>r&&(o.width=r);var l=i.height>=0?i.height:0;o.height>l&&(o.height=l)}return new t._RectangleViewMetricsResult(o)},i.prototype._paddings=function(){return null!=this.__textPadding?this.__textPadding:null},i.prototype._textOverflow=function(){return this.__textOverflow},i.prototype._writingMode=function(){return null!=this.__style&&null!=this.__style.textWritingMode?t._NativeExtension._toNonNullEnum(this.__style.textWritingMode,t.TextWritingMode.Horizontal):t.TextWritingMode.Horizontal},i.prototype._hAlign=function(){return this.__hAlign},i.prototype._vAlign=function(){return this.__vAlign},i.prototype._textAlignment=function(){return this.__textAlignment},i.prototype._getClassName=function(){return t._CssClassName._label},i.prototype._measureInnerContent=function(e,n){e.beginTransform(),this._applyStyle(e),null==n&&(n=new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE));for(var i=this._measureMultiLineString(e,this.text,this._writingMode()==t.TextWritingMode.Vertical?n.height:n.width,this._textOverflow()),o=i.size,r=0,l=i.lineMetricsResults;r<l.length;r++){var a=l[r];this.__textInlines.push(new t._TextInline(a.text,a.size))}return e.restoreTransform(),new t._RectangleViewMetricsResult(o)},i.prototype._measureMultiLineString=function(e,n,i,o){return null==this.__cachedTextMetricsResult&&(this.__cachedTextMetricsResult=new t._TextMetricsResult),this.__cachedTextMetricsResult.measureMultiLineString(e,n,i,o,this.__wordSeparators)},i.prototype._layoutInnerContent=function(e,n,i){e.beginTransform(),this._applyStyle(e);for(var o=new t.core.Size(0,0),r=0,l=this.__textInlines;r<l.length;r++){var a=l[r];this._writingMode()==t.TextWritingMode.Horizontal?(o.height+=a.size.height,o.width=Math.max(o.width,a.size.width)):(o.height=Math.max(o.height,a.size.height),o.width+=a.size.width)}var u=new t.core.Point(n.center.x-n.size.width/2,n.center.y-n.size.height/2);if(this._writingMode()==t.TextWritingMode.Horizontal)switch(this._vAlign()){case t.VAlign.Top:break;case t.VAlign.Bottom:u.y+=n.size.height-o.height;break;default:u.y+=(n.size.height-o.height)/2}else switch(this._hAlign()){case t.HAlign.Left:u.x+=o.width;break;case t.HAlign.Right:u.x+=n.size.width;break;default:u.x+=(n.size.width+o.width)/2}for(var s=null!=this._textAlignment()?this._textAlignment():this._hAlign(),_=0,p=this.__textInlines;_<p.length;_++)a=p[_],this._writingMode()==t.TextWritingMode.Horizontal?(u.y+=a.size.height,s==t.HAlign.Left?a.location=new t.core.Point(u.x,u.y):s==t.HAlign.Center?a.location=new t.core.Point(u.x+(n.size.width-a.size.width)/2,u.y):s==t.HAlign.Right&&(a.location=new t.core.Point(u.x+n.size.width-a.size.width,u.y))):(u.x-=a.size.width,this._vAlign()==t.VAlign.Top?a.location=new t.core.Point(u.x,u.y):this._vAlign()==t.VAlign.Middle?a.location=new t.core.Point(u.x,u.y+(n.size.height-a.size.height)/2):this._vAlign()==t.VAlign.Bottom&&(a.location=new t.core.Point(u.x,u.y+n.size.height-a.size.height)));e.restoreTransform()},i.prototype._renderInnerContent=function(e,n,i){e.beginTransform(),this._applyStyle(e);for(var o=0,r=this.__textInlines;o<r.length;o++){var l=r[o];if(null!=l.location){var a=null;this._textOverflow()==t.TextOverflow.Clip&&l.size.width-n.size.width>.001&&(a=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(n.left,n.top,n.width>0?n.width:0,n.height>0?n.height:0)),e.drawSingleLineString(l.text,l.location.x,l.location.y,a,null)}}e.restoreTransform()},i.prototype._applyBorderStyle=function(n){e.prototype._applyBorderStyle.call(this,n),null!=this.__style&&t._StyleUtility._applyStrokeStyle(n,this.__style),null!=this._externalStyle&&t._StyleUtility._applyStrokeStyle(n,this._externalStyle),this._isHover()&&null!=this.__hoverStyle&&t._StyleUtility._applyStrokeStyle(n,this.__hoverStyle)},i.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),null!=this.__style&&t._StyleUtility._applyFillStyle(n,this.__style),null!=this._externalStyle&&t._StyleUtility._applyFillStyle(n,this._externalStyle),this._isHover()&&null!=this.__hoverStyle&&t._StyleUtility._applyFillStyle(n,this.__hoverStyle)},i.prototype._applyStyle=function(e){null!=this.__style&&t._StyleUtility._applyAllStyle(e,this.__style),null!=this._externalStyle&&t._StyleUtility._applyAllStyle(e,this._externalStyle),this._isHover()&&null!=this.__hoverStyle&&t._StyleUtility._applyAllStyle(e,this.__hoverStyle)},i}(t._RectangleView);t._TextView=e}(t||(t={})),function(t){t._isRectangleViewUpdater=function(t){return null!=t&&"function"==typeof t._update}}(t||(t={})),t||(t={}),function(t){var e=function(t,e,n,i,o){void 0===o&&(o=null),this.point=t,this.model=e,this.addition=o};t.HitTestResult=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._splitPath=function(e){return null==e?[]:t._EscapedCharacterStringUtility.slicePathArray(e)},i.prototype._convert=function(t){return t},i.prototype._getValueFromUnsupportedPath=function(e,n){return t._NativeExtension.Undefined},i}(t._BaseBinding);t._AnyValueBinding=e}(t||(t={})),function(t){var e=function(){function e(n,i){if(void 0===i&&(i=!1),this.__focus=!1,this.__updating=0,this.gotFocus=new t.core.DvEvent,this.lostFocus=new t.core.DvEvent,null!=e.getControl(n))throw new t.RuntimeError(t.ErrorCode.CreateControlFailed);var o=this._getElement(n);if(null==o)throw new t.RuntimeError(t.ErrorCode.CreateControlFailed);if(this.__original=this._backupElement(o),("INPUT"==o.tagName||"SELECT"==o.tagName)&&null==(o=this._replaceElementWithDivElement(o)))throw new t.RuntimeError(t.ErrorCode.CreateControlFailed);this.__hostElement=o,o[e.__dataKey]=this,i&&(this.__controlSize=new t.core.Size(o.offsetWidth,o.offsetHeight),this._addEventListener(window,"resize",this._handleResize.bind(this))),this._addEventListener(o,"focus",this._handleFocus.bind(this),!0),this._addEventListener(o,"blur",this._handleBlur.bind(this),!0);var r=this._handleDisabled.bind(this);if(this._addEventListener(o,"mousedown",r,!0),this._addEventListener(o,"mouseup",r,!0),this._addEventListener(o,"click",r,!0),this._addEventListener(o,"dblclick",r,!0),this._addEventListener(o,"keydown",r,!0),this._addEventListener(o,"wheel",r,!0),null==e.__touching&&(e.__touching=!1,t._NativeExtension.hasProperty(window,"ontouchstart",!0)||t._NativeExtension.hasProperty(window,"onpointerdown",!0))){var l=document.body,a=this._handleTouchStart,u=this._handleTouchEnd;t._NativeExtension.hasProperty(window,"ontouchstart",!0)?(l.addEventListener("touchstart",a),l.addEventListener("touchend",u),l.addEventListener("touchcancel",u),l.addEventListener("touchleave",u)):t._NativeExtension.hasProperty(window,"onpointerdown",!0)&&(l.addEventListener("pointerdown",a),l.addEventListener("pointerup",u),l.addEventListener("pointerout",u),l.addEventListener("pointercancel",u),l.addEventListener("pointerleave",u))}}return e.getControl=function(n){var i=t._DomElementUtility._element(n);if(null!=i){var o=i[e.__dataKey];if(o instanceof e)return o}return null},e.invalidateAll=function(n){null==n&&(n=document.body);var i=t._DomElementUtility._element(n);if(null!=i){if(null!=i.children)for(var o=0,r=i.children.length;o<r;o++)e.invalidateAll(i.children[o]);var l=e.getControl(i);null!=l&&l.invalidate()}},e.refreshAll=function(n){null==n&&(n=document.body);var i=t._DomElementUtility._element(n);if(null!=i){if(null!=i.children)for(var o=0,r=i.children.length;o<r;o++)e.refreshAll(i.children[o]);var l=e.getControl(i);null!=l&&l.refresh()}},e.disposeAll=function(n){var i=e.getControl(n);if(null!=i)i.dispose();else{var o=t._DomElementUtility._element(n);if(null!=o&&null!=o.children)for(var r=0,l=o.children.length;r<l;r++)e.disposeAll(o.children[r])}},e.prototype._getElement=function(e){var n=t._DomElementUtility._element(e);if(null==n)throw new t.RuntimeError(t.ErrorCode.CreateControlFailed);return n},e.prototype.dispose=function(){null!=this.__invalidateTimer&&(clearTimeout(this.__invalidateTimer),this.__invalidateTimer=null),this.lostFocus.removeAllHandlers(),this.gotFocus.removeAllHandlers(),this._removeEventListener();var n=document.body,i=this._handleTouchStart,o=this._handleTouchEnd;if(t._NativeExtension.hasProperty(window,"ontouchstart",!0)?(n.removeEventListener("touchstart",i),n.removeEventListener("touchend",o),n.removeEventListener("touchcancel",o),n.removeEventListener("touchleave",o)):t._NativeExtension.hasProperty(window,"onpointerdown",!0)&&(n.removeEventListener("pointerdown",i),n.removeEventListener("pointerup",o),n.removeEventListener("pointerout",o),n.removeEventListener("pointercancel",o),n.removeEventListener("pointerleave",o)),null!=this.__hostElement){var r=this.__hostElement;this.__hostElement=null,r[e.__dataKey]=null,null!=this.__original&&(this._restoreElement(r,this.__original),this.__original=null)}},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this.__hostElement},enumerable:!1,configurable:!0}),e.prototype._getHostSize=function(){var e=new t.core.Size(0,0);if(null!=this.__hostElement){var n=t._DomElementUtility._getComputedStyle(this.__hostElement);if(null!=n){var i=this.__hostElement;e=new t.core.Size(i.clientWidth,i.clientHeight);var o=parseFloat(n.paddingLeft.replace("px","")),r=parseFloat(n.paddingRight.replace("px","")),l=parseFloat(n.paddingTop.replace("px","")),a=parseFloat(n.paddingBottom.replace("px",""));isNaN(o)||(e.width-=o),isNaN(r)||(e.width-=r),isNaN(l)||(e.height-=l),isNaN(a)||(e.height-=a)}}return e},e.prototype._getHostMatrix=function(){return null!=this.__hostElement?t._DomElementUtility._getCombinedMatrix(this.__hostElement):null},e.prototype._isInDomTree=function(){for(var t=this.__hostElement;null!=t;){if(t==document.documentElement)return!0;t=t.parentElement}return!1},e.prototype._updateState=function(){var e=this.hostElement;null!=e&&(this.containsFocus()?t._DomElementUtility._addClass(e,"gcdv-state-focused"):t._DomElementUtility._removeClass(e,"gcdv-state-focused"))},e.prototype._backupElement=function(t){var e={tagName:"",attributes:{},innerHTML:""};e.tagName=t.tagName;for(var n=0,i=t.attributes.length;n<i;n++){var o=t.attributes[n];e.attributes[o.name]=o.value}return e.innerHTML=t.innerHTML,e},e.prototype._restoreElement=function(t,e){var n=t.parentElement;if(null!=n){if(t.tagName!=e.tagName){var i=document.createElement(e.tagName);n.replaceChild(i,t),t=i}t.innerHTML=e.innerHTML;for(var o=t.attributes.length-1;o>=0;o--)t.removeAttribute(t.attributes[o].name);for(var r=0,l=Object.getOwnPropertyNames(e.attributes);r<l.length;r++){var a=l[r];t.setAttribute(a,e.attributes[a])}}return t},e.prototype._replaceElementWithDivElement=function(t){var e=t.parentElement;if(null!=e){var n=document.createElement("div");e.replaceChild(n,t);for(var i=0,o=t.attributes.length;i<o;i++){var r=t.attributes[i];r.name.match(/id|style|class/i)&&n.setAttribute(r.name,r.value)}return n.innerHTML=t.innerHTML,n}return null},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this.__updating>0},enumerable:!1,configurable:!0}),e.prototype.beginUpdate=function(){this.__updating++},e.prototype.endUpdate=function(){this.__updating--,this.__updating<=0&&this.refresh()},e.prototype.deferUpdate=function(t){try{this.beginUpdate(),t()}finally{this.endUpdate()}},e.prototype.refresh=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=0),this._internalRefresh(t,e)},e.prototype._internalRefresh=function(e,n,i){var o=this;void 0===i&&(i=t._RefreshReason.OptionChanged),n>0?(null!=this.__invalidateTimer&&(clearTimeout(this.__invalidateTimer),this.__invalidateTimer=null),this.__invalidateTimer=window.setTimeout((function(){o.invalidate()}),n)):this.invalidate()},e.prototype.invalidate=function(){this._render()},e.prototype.draw=function(){this.invalidate()},e.prototype._render=function(){},e.prototype.containsFocus=function(){if(null==this.__hostElement)return!1;var e=t._DomElementUtility._getActiveElement();return null!=e&&t._DomElementUtility._contains(this.__hostElement,e)},e.prototype.focus=function(){null!=this.__hostElement&&this.__hostElement.focus()},e.prototype._handleFocus=function(){var t=this;setTimeout((function(){t._updateFocusState()}))},e.prototype._handleBlur=function(){var t=this;setTimeout((function(){t._updateFocusState()}),20)},e.prototype._updateFocusState=function(){var t=this;setTimeout((function(){for(var n=t.__hostElement;null!=n;){var i=e.getControl(n);if(null!=i){var o=i.containsFocus();o!=i.__focus&&(i.__focus=o,o?i._onGotFocus():i._onLostFocus(),i._updateState())}n=n.parentElement}}))},e.prototype._handleResize=function(){if(null!=this.__hostElement&&this.__hostElement.parentElement){var e=new t.core.Size(this.__hostElement.offsetWidth,this.__hostElement.offsetHeight);e.equalsWith(this.__controlSize)||(this.__controlSize=e,this._controlResize())}},e.prototype._controlResize=function(){this._internalRefresh(!0,0,t._RefreshReason.Resizing)},e.prototype._onGotFocus=function(t){void 0===t&&(t=null),this.gotFocus.raise(this,t)},e.prototype._onLostFocus=function(t){void 0===t&&(t=null),this.lostFocus.raise(this,t)},Object.defineProperty(e.prototype,"isTouching",{get:function(){return e.__touching},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return null!=this.__hostElement&&null!=this.__hostElement.getAttribute("disabled")},set:function(e){if(null!=this.__hostElement){if("boolean"!=typeof e)throw new t.RuntimeError(t.ErrorCode.BooleanRequired,e);this.isDisabled!=e&&t._DomElementUtility._enable(this.__hostElement,!e)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return t._Debug._deprecated("disabled","isDisabled"),this.isDisabled},set:function(e){t._Debug._deprecated("disabled","isDisabled"),this.isDisabled=e},enumerable:!1,configurable:!0}),e.prototype._addEventListener=function(t,e,n,i){void 0===i&&(i=!1),t&&(t.addEventListener(e,n,i),null==this.__listeners&&(this.__listeners=[]),this.__listeners.push({target:t,type:e,fn:n,capture:i}))},e.prototype._removeEventListener=function(t,e,n,i){var o=0;if(this.__listeners)for(var r=0;r<this.__listeners.length;r++){var l=this.__listeners[r];null!=t&&t!=l.target||null!=e&&e!=l.type||null!=n&&n!=l.fn||null!=i&&i!=l.capture||(l.target.removeEventListener(l.type,l.fn,l.capture),this.__listeners.splice(r,1),r--,o++)}return o},e.prototype._handleTouchStart=function(t){null!=t.pointerType&&"touch"!=t.pointerType||(e.__touching=!0)},e.prototype._handleTouchEnd=function(t){null!=t.pointerType&&"touch"!=t.pointerType||setTimeout((function(){e.__touching=!1}),400)},e.prototype._handleDisabled=function(t){this.isDisabled&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},e.__dataKey="gcdv-control",o([t.deprecated("draw","invalidate")],e.prototype,"draw",null),e}();t.Control=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__hostElement=t,this.__motionEventProvider=e,this.__domElements=[]}return e.prototype._setCursor=function(t){this.__hostElement.style.cursor=t},e.prototype._getBoundingClientRect=function(){return t._DomElementUtility._getElementRect(this.__hostElement)},e.prototype._createZoomButtons=function(e,n){var i=this.__hostElement;return new t._ZoomButtons(i,e,n)},e.prototype._createZoomInButton=function(e,n){return new t._ZoomInButton(e,n)},e.prototype._createZoomOutButton=function(e,n){return new t._ZoomOutButton(e,n)},e.prototype._createZoomResetButton=function(e,n){return new t._ZoomResetButton(e,n)},e.prototype._createScrollbar=function(e,n,i,o,r){var l=this.__hostElement;return new t._Scrollbar(l,e,n,i,o,r)},e.prototype._subscribeEvents=function(t,e){for(var n=this.__hostElement,i={},o=0,r=t;o<r.length;o++){var l=r[o];i[l]=this._eventListener.bind(this,e),n.addEventListener(l,i[l],!1)}return i},e.prototype._unsubscribeEvents=function(e){for(var n=this.__hostElement,i=0,o=t._NativeExtension.properties(e,!0);i<o.length;i++){var r=o[i];n.removeEventListener(r,e[r],!1)}},e.prototype._eventListener=function(t,e){t(this.__motionEventProvider._fromEvent(e))},e.prototype.dispose=function(){for(var t=0,e=this.__domElements;t<e.length;t++)e[t].dispose();this.__domElements=[]},e}();t._DomElementProxy=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r,l){this._orientation=n,this._value=i,this._visibleAmount=o,this._minimum=r,this._maximum=l,this._isActive=!1,this._bounds=null,this.__host=e,this.__event=new t._EventManager,this.__touchIntervalId=0,this.__observer=null,this.__scrollTimeoutId=0,this._initElements(),this._initEvents()}return e.prototype._initElements=function(){var e=this._orientation==t.Orientation.Horizontal?"gcdv-scrollbar-x":"gcdv-scrollbar-y";this.__scrollbar=this._createElement("div",e,{width:0,height:0,position:"relative"}),this.__track=this._createElement("div","gcdv-scrollbar-track",{position:"absolute"}),this.__thumb=this._createElement("div","gcdv-scrollbar-thumb"),this.__track.appendChild(this.__thumb),this.__scrollbar.appendChild(this.__track)},e.prototype._active=function(t){this.__scrollbar.classList.contains("gcdv-scrolling")||(t&&null==this.__scrollbar.parentNode&&this.__host.insertBefore(this.__scrollbar,this.__host.firstChild),t||null==this.__scrollbar.parentNode||this.__host.removeChild(this.__scrollbar))},e.prototype._draw=function(){if(null!=this.__scrollbar.parentNode){var e=this.__host,n=this._bounds,i=this._computeTrackLength(this._orientation,n),o=this._computeThumbLength(i,this._visibleAmount,this._minimum,this._maximum);this._setCss(this.__scrollbar,{left:e.scrollLeft+n.left,top:e.scrollTop+n.top}),this._setCss(this.__track,{left:0,top:0,width:n.width,height:n.height}),this._orientation==t.Orientation.Horizontal?this._setCss(this.__thumb,{left:this._distanceFromValue(this._value,i,this._minimum,this._maximum),width:o}):this._setCss(this.__thumb,{top:this._distanceFromValue(this._value,i,this._minimum,this._maximum),height:o})}},e.prototype._createElement=function(t,e,n){var i=document.createElement(t);return i.className=e,n&&this._setCss(i,n),i},e.prototype._setCss=function(e,n){for(var i=0,o=t._NativeExtension.properties(n,!1);i<o.length;i++){var r=o[i],l=n[r];"number"==typeof l&&(l+="px"),e.style[r]=l}},e.prototype._initEvents=function(){var t=this,e=this.__event;e.element(window).on("resize",(function(e){return t._onWindowResize(e)})),e.element(this.__host.ownerDocument).on("keydown",(function(e){return t._onDocumentKeyDown(e)}));var n=null;window.MutationObserver?n=window.MutationObserver:window.WebKitMutationObserver?n=window.WebKitMutationObserver:window.MozMutationObserver&&(n=window.MozMutationObserver),n&&(this.__observer=new n((function(e){return t._onHostChildrenChange(e)})),this.__observer.observe(this.__host,{subtree:!0,childList:!0}));var i=e.element(this.__host);i.on("scroll",(function(e){return t._onHostScroll(e)})),i.on("wheel",(function(e){return t._onHostMouseWheel(e)}));var o=window.navigator.pointerEnabled?"pointerdown":"touchstart";i.on(o,(function(e){return t._onHostTouchStart(e)})),e.element(this.__track).on("mousedown",(function(e){return t._onTrackMouseDown(e)})),e.element(this.__thumb).on("mousedown",(function(e){return t._onThumbMouseDown(e)})),e.element(this.__scrollbar).on("click mousemove",(function(e){return t._cancelEvent(e)}))},e.prototype.on=function(t,e){this.__event.object(this).on(t,e)},e.prototype.once=function(t,e){this.__event.object(this).once(t,e)},e.prototype.off=function(t){this.__event.object(this).off(t)},e.prototype._fire=function(t,e){this.__event.object(this).fire(t,e)},e.prototype._onHostChildrenChange=function(t){this._isActive&&this._draw()},e.prototype._onWindowResize=function(t){this._isActive&&this._draw()},e.prototype._onDocumentKeyDown=function(e){if(this._isActive&&!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)){var n=null;Element&&(Element.prototype.matches?n=Element.prototype.matches:Element.prototype.webkitMatchesSelector?n=Element.prototype.webkitMatchesSelector:Element.prototype.msMatchesSelector&&(n=Element.prototype.msMatchesSelector));var i=document.activeElement?document.activeElement:this.__host.ownerDocument.activeElement;if(!(i&&("IFRAME"===i.tagName&&(i=i.contentDocument.activeElement),n.call(i,"input,[contenteditable]")||n.call(i,"select,[contenteditable]")||n.call(i,"textarea,[contenteditable]")||n.call(i,"button,[contenteditable]")))){var o=0,r=0;switch(e.which){case 37:o=-40;break;case 39:o=40;break;case 38:r=40;break;case 40:r=-40;break;case 33:r=this._visibleAmount;break;case 34:r=-this._visibleAmount;break;case 36:r=this._maximum-this._minimum;break;case 35:r=-this._maximum-this._minimum;break;default:return}if(0!=o&&this._orientation==t.Orientation.Horizontal){var l=this._value+o;this._processScrolled(l),this._cancelEvent(e)}else 0!=r&&this._orientation==t.Orientation.Vertical&&(l=this._value-r,this._processScrolled(l),this._cancelEvent(e))}}},e.prototype._onHostScroll=function(t){this._isActive&&this._draw()},e.prototype._onHostMouseWheel=function(e){if(this._isActive){var n=this._getWheelDelte(e),i=n.deltaX,o=n.deltaY,r=this._computeTrackLength(this._orientation,this._bounds);if(this._orientation==t.Orientation.Vertical&&0!==o){var l=this._value-this._valueFromDistance(o,r,this._minimum,this._maximum);this._processScrolled(l),this._cancelEvent(e)}else this._orientation==t.Orientation.Horizontal&&0!==i&&(l=this._value+this._valueFromDistance(i,r,this._minimum,this._maximum),this._processScrolled(l),this._cancelEvent(e))}},e.prototype._getWheelDelte=function(e){var n=0,i=0;return t._NativeExtension.hasProperty(e,"deltaY",!0)&&(i=-1*e.deltaY),t._NativeExtension.hasProperty(e,"deltaX",!0)&&(n=e.deltaX),1===e.deltaMode?(n*=10,i*=10):e.deltaMode,{deltaX:n,deltaY:i}},e.prototype._onHostTouchStart=function(e){if(this.__touchIntervalId&&(clearInterval(this.__touchIntervalId),this.__touchIntervalId=0),this._isActive&&this._shouldHandleTouch(e)){var n=e.targetTouches?e.targetTouches[0]:e,i={},o=(new Date).getTime(),r={x:0,y:0};i.pageX=n.pageX,i.pageY=n.pageY;var l=this,a=l.__event.element(l.__host),u=l._computeTrackLength(l._orientation,l._bounds),s=window.navigator.pointerEnabled?"pointermove":"touchmove";a.off(s),a.on(s,(function(e){if(l._shouldHandleTouch(e)){var n=e.targetTouches?e.targetTouches[0]:e,a={pageX:n.pageX,pageY:n.pageY},s=a.pageX-i.pageX,_=a.pageY-i.pageY;if(0!=_&&l._orientation==t.Orientation.Vertical){var p=l._value-l._valueFromDistance(_,u,l._minimum,l._maximum);l._processScrolled(p),l._cancelEvent(e)}else 0!=s&&l._orientation==t.Orientation.Horizontal&&(p=l._value-l._valueFromDistance(s,u,l._minimum,l._maximum),l._processScrolled(p),l._cancelEvent(e));i=a;var c=(new Date).getTime(),h=c-o;h>0&&(r.x=s/h,r.y=_/h,o=c)}}));var _=window.navigator.pointerEnabled?"pointerup":"touchend";a.off(_),a.on(_,(function(e){a.off(s),a.off(_),l.__touchIntervalId&&clearInterval(l.__touchIntervalId),l.__touchIntervalId=window.setInterval((function(){if(Math.abs(r.x)<.01&&l._orientation==t.Orientation.Horizontal||Math.abs(r.y)<.01&&l._orientation==t.Orientation.Vertical)return clearInterval(l.__touchIntervalId),l.__touchIntervalId=0,void l._active(!1);if(l._orientation==t.Orientation.Vertical){var e=l._value-l._valueFromDistance(30*r.y,u,l._minimum,l._maximum);l._processScrolled(e)}else l._orientation==t.Orientation.Horizontal&&(e=l._value-l._valueFromDistance(30*r.x,u,l._minimum,l._maximum),l._processScrolled(e));r.x*=.8,r.y*=.8}),10)}))}},e.prototype._shouldHandleTouch=function(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))},e.prototype._onTrackMouseDown=function(e){var n,i=this.__thumb.getBoundingClientRect();if(this._orientation==t.Orientation.Horizontal){var o=e.pageX-window.pageXOffset<i.left?-1:1;n=this._value+o*this._visibleAmount}else o=e.pageY-window.pageYOffset<i.top?-1:1,n=this._value+o*this._visibleAmount;this._processScrolled(n),this._cancelEvent(e)},e.prototype._onThumbMouseDown=function(e){var n=this,i=n._value,o=e.pageX,r=e.pageY,l=n._computeTrackLength(n._orientation,n._bounds),a=n.__host.ownerDocument,u=n.__event.element(a);u.on("mousemove",(function(e){var a;a=n._orientation==t.Orientation.Horizontal?i+n._valueFromDistance(e.pageX-o,l,n._minimum,n._maximum):i+n._valueFromDistance(e.pageY-r,l,n._minimum,n._maximum),n._processScrolled(a),n.__scrollbar.classList.add("gcdv-scrolling"),n._cancelEvent(e)}),!0),u.on("mouseup",(function(){n.__event.off(a),n.__scrollbar.classList.remove("gcdv-scrolling"),n._draw()}),!0),n._cancelEvent(e)},e.prototype._cancelEvent=function(t){t.cancelable&&(t.preventDefault(),t.stopPropagation())},e.prototype._processScrolled=function(e,n){void 0===n&&(n=10);var i=this;function o(){if(e=Math.max(i._minimum,Math.min(e,i._maximum-i._visibleAmount)),0!=i._value-e){var n=i._value;i._value=e,i._fire("Scrolled",{orientation:t.Orientation.Horizontal,newValue:i._value,oldValue:n}),null!=i._scrollCallback&&i._scrollCallback(i._value,n)}i._draw(),i.__scrollTimeoutId=0}i.__scrollTimeoutId&&window.clearTimeout(i.__scrollTimeoutId),0==n?o():i.__scrollTimeoutId=window.setTimeout((function(){o()}),n)},e.prototype._computeTrackLength=function(e,n){return null==n?0:e==t.Orientation.Horizontal?n.width:n.height},e.prototype._computeThumbLength=function(t,e,n,i){return t*e/(i-n)},e.prototype._valueFromDistance=function(t,e,n,i){return t*((i-n)/e)},e.prototype._distanceFromValue=function(t,e,n,i){return t*(e/(i-n))},e.prototype._refresh=function(){var t=!(this._maximum-this._minimum<=this._visibleAmount+.5)&&this._isActive;this._active(t),this._draw()},e.prototype.dispose=function(){this._scrollCallback=null,this.__observer&&this.__observer.disconnect(),this.__event.off(),null!=this.__scrollbar.parentNode&&this.__host.removeChild(this.__scrollbar)},e}();t._Scrollbar=e}(t||(t={})),function(t){var e=function(){function e(e,n){var i=this;this._zoomView=e,null!=n&&(this._backgroundColor=n.backgroundColor,this._fill=n.fill,this._stroke=n.stroke,this._strokeWidth=n.strokeWidth),this.__button=document.createElement("div"),this.__event=new t._EventManager,this.__event.element(this.__button).on("dblclick",(function(t){t.preventDefault(),t.stopPropagation()})),this.__event.element(this.__button).on("click",(function(e){i._onClicked();var n=t._ViewUtility._dvView(i._zoomView);if(null!=n){var o=t._DvViewUtility._control(n);null!=o&&o._requestInvalidate()}e.preventDefault(),e.stopPropagation()}));var o=document.createElement("i");o.className="gcdv-icon",this.__button.appendChild(o)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.__button},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){this.__button.className=this._className();var e=t._Util.getCssColorString(this._fill);null!=e&&(this.__button.style.color=e);var n=t._Util.getCssColorString(this._backgroundColor);null!=n&&(this.__button.style.backgroundColor=n);var i=this._strokeWidth,o=t._Util.getCssColorString(this._stroke);null!=i&&null!=o&&(this.__button.style.borderColor=o,this.__button.style.borderWidth=i+"px")},e.prototype.dispose=function(){null!=this.__event&&(this.__event.off(),this.__event=null),this.__button=null},e}();t._BaseZoomButton=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){if(this.__hostElement=e,this._vAlign=i.vAlign,this._hAlign=i.hAlign,this._orientation=i.orientation,this._margin=i.margin,this._space=i.space,this._buttons=[],this._bounds=n._zoomView._zoomBounds,this._isActive=!1,i.showButtons){var o=this._creatZoomButtons(n._zoomView,i);if(this._buttons=o,o.length>0){this.__container=this._createContainer();for(var r=0;r<o.length;r++){var l=o[r].element;null!=this._space&&r>0&&(this._orientation===t.Orientation.Vertical?l.style.marginTop=this._space+"px":l.style.marginLeft=this._space+"px"),this.__container.appendChild(l)}}}}return e.prototype._createContainer=function(){var n=document.createElement("div");return this._setCss(n,{position:"absolute",display:"flex",flexDirection:this._orientation===t.Orientation.Vertical?"column":"row",alignItems:"center"}),n.className=e.__constClassName,n},e.prototype._creatZoomButtons=function(e,n){var i=[],o=t._ViewUtility._dvView(e);if(null!=o){var r=t._DvViewUtility._domManager(o);if(null!=r){var l=n.style;if(n.showZoomResetButton){var a=r._createZoomResetButton(e,l);null!=a&&i.push(a)}if(n.showZoomInButton){var u=r._createZoomInButton(e,l);null!=u&&i.push(u)}if(n.showZoomOutButton){var s=r._createZoomOutButton(e,l);null!=s&&i.push(s)}return i}}return i},e.prototype._calcContainerBBox=function(e,n){var i=e.getBoundingClientRect(),o=new t.core.Rect(0,0,i.width,i.height);return null!=n&&(o.left-=n.left,o.top-=n.top,o.width+=n.left+n.right,o.height+=n.top+n.bottom),o},e.prototype._setCss=function(e,n){for(var i=0,o=t._NativeExtension.properties(n,!1);i<o.length;i++){var r=o[i],l=n[r];"number"==typeof l&&(l+="px"),e.style[r]=l}},e.prototype._refresh=function(){if(null!=this.__container)if(this._isActive){null==this.__container.parentNode&&this.__hostElement.insertBefore(this.__container,this.__hostElement.firstChild);for(var e=0,n=this._buttons;e<n.length;e++)n[e]._refresh();var i=this._calcContainerBBox(this.__container,this._margin),o=null==this._hAlign?t.HAlign.Right:this._hAlign,r=null==this._vAlign?t.VAlign.Bottom:this._vAlign,l=new t.core.Point(i.right,i.bottom),a=new t.core.Point(this._bounds.right,this._bounds.bottom);switch(o){case t.HAlign.Left:l.x=i.left,a.x=this._bounds.left;break;case t.HAlign.Center:l.x=i.left+i.width/2,a.x=this._bounds.left+this._bounds.width/2}switch(r){case t.VAlign.Top:l.y=i.top,a.y=this._bounds.top;break;case t.VAlign.Middle:l.y=i.top+i.height/2,a.y=this._bounds.top+this._bounds.height/2}var u=a.x-l.x,s=a.y-l.y;this._setCss(this.__container,{left:u,top:s})}else null!=this.__container.parentNode&&this.__hostElement.removeChild(this.__container)},e.prototype.dispose=function(){for(var t=0,e=this._buttons;t<e.length;t++)e[t].dispose();this._buttons.splice(0,this._buttons.length),null!=this.__container&&this.__container.remove()},e.__constClassName="gcdv-zoom-buttons",e}();t._ZoomButtons=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._className=function(){return i.__constClassName},i.prototype._onClicked=function(){var e=this._zoomView._zoomBounds.center,n=this._zoomView._zoomFactor*t._Constants.ZoomInAcceleratedSpeed;this._zoomView._zoomAt(n,e.x,e.y)},i.__constClassName="gcdv-zoom-button-zoomin",i}(t._BaseZoomButton);t._ZoomInButton=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._className=function(){return i.__constClassName},i.prototype._onClicked=function(){var e=this._zoomView._zoomBounds.center,n=this._zoomView._zoomFactor*t._Constants.ZoomOutAcceleratedSpeed;this._zoomView._zoomAt(n,e.x,e.y)},i.__constClassName="gcdv-zoom-button-zoomout",i}(t._BaseZoomButton);t._ZoomOutButton=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._className=function(){return e.__constClassName},e.prototype._onClicked=function(){this._zoomView._reset()},e.__constClassName="gcdv-zoom-button-reset",e}(t._BaseZoomButton);t._ZoomResetButton=e}(t||(t={})),function(t){var e=function(){function e(t){this.__element=t,this.__events={}}return e.prototype.context=function(){return this.__element},e.prototype.on=function(t,e,n){if("string"==typeof t&&"function"==typeof e){n=!!n;for(var i=t.split(" ").filter((function(t){return""!==t})),o=0;o<i.length;o++){var r=i[o];this.__events[r]||(this.__events[r]=[]),this.__events[r].push({fn:e,capture:n}),this.__element.addEventListener(r,e,n)}}},e.prototype.off=function(e){var n=this.__events;if(e){if("string"==typeof e)for(var i=0,o=e.split(" ").filter((function(t){return""!==t}));i<o.length;i++){var r=o[i];for(p=n[r]?n[r]:[],c=0;c<p.length;c++)this.__element.removeEventListener(r,p[c].fn,p[c].capture);delete n[r]}else if("function"==typeof e)for(var l=0,a=t._NativeExtension.properties(n,!1);l<a.length;l++)for(p=n[_=a[l]]?n[_]:[],c=0;c<p.length;c++)p[c]===e&&(this.__element.removeEventListener(_,p[c].fn,p[c].capture),p.splice(c--,1))}else{for(var u=0,s=t._NativeExtension.properties(n,!1);u<s.length;u++)for(var _,p=n[_=s[u]]?n[_]:[],c=0;c<p.length;c++)this.__element.removeEventListener(_,p[c].fn,p[c].capture);this.__events={}}},e}();t._EventElement=e}(t||(t={})),function(t){var e=function(){function e(){this.__events=[]}return e.prototype.element=function(e){var n=this.__events.filter((function(t){return t.context()===e}))[0];return n||(n=new t._EventElement(e),this.__events.push(n)),n},e.prototype.object=function(e){var n=this.__events.filter((function(t){return t.context()===e}))[0];return n||(n=new t._EventObject(e),this.__events.push(n)),n},e.prototype.off=function(t){var e=this.__events;if(t)for(var n=0;n<e.length;n++)e[n].context()===t&&(e[n].off(),e.splice(n--,1));else{for(n=0;n<e.length;n++)e[n].off();this.__events=[]}},e}();t._EventManager=e}(t||(t={})),function(t){var e=function(){function e(t){this.__context=t,this.__events={}}return e.prototype.context=function(){return this.__context},e.prototype.on=function(t,e){this._bind(t,e,!1)},e.prototype.once=function(t,e){this._bind(t,e,!0)},e.prototype.off=function(e){var n=this.__events;if(e){if("string"==typeof e)delete n[e];else if("function"==typeof e)for(var i=0,o=t._NativeExtension.properties(n,!1);i<o.length;i++)for(var r=o[i],l=n[r]?n[r]:[],a=0;a<l.length;a++)l[a][0]===e&&l.splice(a--,1)}else this.__events={}},e.prototype.fire=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.__events[t];if(i&&0!==i.length)for(var o=0;o<i.length;o++){var r=i[o];r[0].apply(this.__context,e),r[1]&&i.splice(o--,o)}},e.prototype._bind=function(t,e,n){"string"==typeof t&&"function"==typeof e&&(this.__events[t]||(this.__events[t]=[]),this.__events[t].push([e,n]))},e}();t._EventObject=e}(t||(t={})),function(t){t._isDomElement=function(t){return null!=t&&"function"==typeof t._element}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(t){this.__hostElement=t}return e.prototype._toControl=function(e,n){var i=new t.core.Point(0,0);n instanceof MouseEvent?i=new t.core.Point(n.pageX,n.pageY):n instanceof TouchEvent&&(i="touchend"==n.type?new t.core.Point(n.changedTouches[0].pageX,n.changedTouches[0].pageY):new t.core.Point(n.targetTouches[0].pageX,n.targetTouches[0].pageY));var o=i.clone(),r=t._DomElementUtility._getElementRect(e);o.x-=r.left,o.y-=r.top;var l=null;if(null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView&&(l=e.ownerDocument.defaultView.getComputedStyle(e)),null!=l){var a=parseInt(l.paddingLeft.replace("px",""),10);null==a||isNaN(a)||(o.x-=a);var u=parseInt(l.paddingTop.replace("px",""),10);null==u||isNaN(u)||(o.y-=u)}return o},e.prototype._fromEvent=function(e){var n=this.__hostElement,i=e||window.event,o=new t.MotionEvent(0,0,0);switch(i.type){case"touchstart":o=new t.MotionEvent(t.MotionEvent.ACTION_DOWN);break;case"touchend":o=new t.MotionEvent(t.MotionEvent.ACTION_UP);break;case"touchcancel":o=new t.MotionEvent(t.MotionEvent.ACTION_CANCEL);break;case"touchmove":o=new t.MotionEvent(t.MotionEvent.ACTION_MOVE);break;case"mousedown":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_DOWN);break;case"mousemove":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_MOVE);break;case"mouseup":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_UP);break;case"mouseout":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_OUT);break;case"mouseover":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_OVER);break;case"click":o=new t.MotionEvent(t.MotionEvent.ACTION_CLICK);break;case"mouseenter":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_ENTER);break;case"mouseleave":o=new t.MotionEvent(t.MotionEvent.ACTION_MOUSE_LEAVE);break;case"wheel":o=new t.MotionEvent(t.MotionEvent.ACTION_WHEEL);break;case"dblclick":o=new t.MotionEvent(t.MotionEvent.ACTION_DOUBLE_CLICK)}var r=this._toControl(n,i);return o.x=r.x,o.y=r.y,o.originalEvent=i,o},e}();t._MotionEventProvider=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n){this.__motionProvider=e,this.__callback=n,this.__eventMsg=new t._EventElement(document)}return e.prototype._startCapturing=function(){var t=this;this.__eventMsg.on("mousemove mouseup touchmove touchend touchcancel",(function(e){var n=t.__motionProvider._fromEvent(e);t.__callback(n)}))},e.prototype._endCapturing=function(){this.__eventMsg.off()},e.prototype.dispose=function(){this._endCapturing(),this.__motionProvider=null,this.__callback=null,this.__eventMsg=null},e}();t._MouseCaptureProvider=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e,n,i;e=t.core||(t.core={}),n=function(t,e){this.handler=t,this.self=e},i=function(){function e(){this.__handlers=[]}return e.prototype.addHandler=function(e,i){if("function"!=typeof e&&null!=e)throw new t.RuntimeError(t.ErrorCode.FunctionExpected);this.__handlers.push(new n(e,i))},e.prototype.removeHandler=function(e,n){if("function"!=typeof e&&null!=e)throw new t.RuntimeError(t.ErrorCode.FunctionExpected);for(var i=0;i<this.__handlers.length;i++){var o=this.__handlers[i];if((o.handler==e||null==e)&&(o.self==n||null==n)&&(this.__handlers.splice(i,1),e&&n))break}},e.prototype.removeAllHandlers=function(){this.__handlers.length=0},e.prototype.raise=function(e,n){void 0===n&&(n=null);for(var i=0;i<this.__handlers.length;i++){var o=this.__handlers[i];o.handler.call(o.self,e,null==n?t.DvEventArgs.empty:n)}},Object.defineProperty(e.prototype,"hasHandlers",{get:function(){return this.__handlers.length>0},enumerable:!1,configurable:!0}),e}(),e.DvEvent=i}(t||(t={})),function(t){var e=function(){function t(){}return t.empty=new t,t}();t.DvEventArgs=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.raise=function(e,n){t.prototype.raise.call(this,e,n)},e}(t.core.DvEvent);t.HitTestEvent=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this)||this;return o.point=e,o.model=n,o.addition=i,o}return n(e,t),e}(t.DvEventArgs);t.HitTestEventArgs=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.raise=function(e,n){t.prototype.raise.call(this,e,n)},e}(t.core.DvEvent);t._LayoutedEvent=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n._reason=e,n}return n(e,t),e}(t.DvEventArgs);t._LayoutedEventArgs=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.raise=function(e,n){t.prototype.raise.call(this,e,n)},e}(t.core.DvEvent);t.RenderedEvent=e}(t||(t={})),function(t){var e=function(t){function e(){return t.call(this)||this}return n(e,t),e}(t.DvEventArgs);t.RenderedEventArgs=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.raise=function(e,n){t.prototype.raise.call(this,e,n)},e}(t.core.DvEvent);t.ResizeEvent=e}(t||(t={})),function(t){var e=function(t){function e(){return t.call(this)||this}return n(e,t),e}(t.DvEventArgs);t.ResizeEventArgs=e}(t||(t={})),function(t){var e=function(){function t(){}return t.getPaletteColors=function(t){return"Standard"==t?["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"]:"Cocoa"==t?["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"]:"Coral"==t?["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"]:"Dark"==t?["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"]:"HighContrast"==t?["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"]:"Light"==t?["#ddca9a","#778deb","#cb9fbb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"]:"Midnight"==t?["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"]:"Modern"==t?["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"]:"Organic"==t?["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"]:"Slate"==t?["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"]:"Zen"==t?["#7bb5ae","#e2d287","#92b8da","#eac4cb","#7b8bbd","#c7d189","#b9a0c8","#dfb397","#a9a9a9"]:"Cyborg"==t?["#2a9fd6","#77b300","#9933cc","#ff8800","#cc0000","#00cca3","#3d6dcc","#525252","#000000"]:"Superhero"==t?["#5cb85c","#f0ad4e","#5bc0de","#d9534f","#9f5bde","#46db8c","#b6b86e","#4e5d6c","#2b3e4b"]:"Flatly"==t?["#18bc9c","#3498db","#f39c12","#6cc1be","#99a549","#8f54b5","#e74c3c","#8a9899","#2c3e50"]:"Darkly"==t?["#375a7f","#00bc8c","#3498db","#f39c12","#e74c3c","#8f61b3","#b08725","#4a4949","#000000"]:"Cerulan"==t?["#033e76","#87c048","#59822c","#53b3eb","#fc6506","#d42323","#e3bb00","#cccccc","#222222"]:"Office"==t?["#5b9bd5","#ed7d31","#a5a5a5","#ffc000","#4472c4","#70ad47"]:"Office2010"==t?["#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646"]:"Grayscale"==t?["#dddddd","#b2b2b2","#969696","#808080","#5f5f5f","#4d4d4d"]:"BlueWarm"==t?["#4a66ac","#629dd1","#297fd5","#7f8fa9","#5aa2ae","#9d90a0"]:"Blue"==t?["#0f6fc6","#009dd9","#0bd0d9","#10cf9b","#7cca62","#a5c249"]:"Blue2"==t?["#1cade4","#2683c6","#27ced7","#42ba97","#3e8853","#62a39f"]:"BlueGreen"==t?["#3494ba","#58b6c0","#75bda7","#7a8c8e","#84acb6","#2683c6"]:"Green"==t?["#549e39","#8ab833","#c0cf3a","#029676","#4ab5c4","#0989b1"]:"GreenYellow"==t?["#99cb38","#63a537","#37a76f","#44c1a3","#4eb3cf","#51c3f9"]:"Yellow"==t?["#ffca08","#f8931d","#ce8d3e","#ec7016","#e64823","#9c6a6a"]:"YellowOrange"==t?["#f0a22e","#a5644e","#b58b80","#c3986d","#a19574","#c17529"]:"Orange"==t?["#e48312","#bd582c","#865640","#9b8357","#c2bc80","#94a088"]:"OrangeRed"==t?["#d34817","#9b2d1f","#a28e6a","#956251","#918485","#855d5d"]:"RedOrange"==t?["#e84c22","#ffbd47","#b64926","#ff8427","#cc9900","#b22600"]:"Red"==t?["#a5300f","#d55816","#e19825","#b19c7d","#7f5f52","#b27d49"]:"RedViolet"==t?["#e32d91","#c830cc","#4ea6dc","#4775e7","#8971e1","#d54773"]:"Violet"==t?["#ad84c6","#8784c7","#5d739a","#6997af","#84acb6","#6f8183"]:"Violet2"==t?["#92278f","#9b57d3","#755dd9","#665eb8","#45a5ed","#5982db"]:"Median"==t?["#94b6d2","#dd8047","#a5ab81","#d8b25c","#7ba79d","#968c8c"]:"Paper"==t?["#a5b592","#f3a447","#e7bc29","#d092a7","#9c85c0","#809ec2"]:"Marquee"==t?["#418ab3","#a6b727","#f69200","#838383","#fec306","#df5327"]:"Slipstream"==t?["#4e67c8","#5eccf3","#a7ea52","#5dceaf","#ff8021","#f14124"]:"Aspect"==t?["#f07f09","#9f2936","#1b587c","#4e8542","#604878","#c19859"]:[]},t}();t.PaletteColorUtility=e}(t||(t={})),function(t){var e=function(e){function i(n,o,r,l,a){void 0===o&&(o=null),void 0===r&&(r=null),void 0===l&&(l=!0),void 0===a&&(a=null);var u=e.call(this,n,!0)||this;u._animationOnResize=l,u.hitTested=new t.HitTestEvent,u.rendered=new t.RenderedEvent,u.resize=new t.ResizeEvent,u.__layers=[],u.__motionEventProvider=new t._MotionEventProvider(u.hostElement),u.__pluginCollection=a,u.__interactionProcessor=new t._InteractionProcessor(u,u.__motionEventProvider,u.pluginCollection),u.__eventNames=["mousemove","mousewheel","mouseleave","click","wheel","dblclick","touchstart","touchmove","touchcancel","touchend","mousedown","mouseup"],u.__eventActuators=[],u.__zLevels=[],u.__renderMethod=t.RenderMethod.SVG,u.__enabled=!0,u.__eventListener=null,t._DomElementUtility._addClass(u.hostElement,i.__constClassName),u.__eventListener=u._ontouch.bind(u);for(var s=0,_=u.__eventNames;s<_.length;s++){var p=_[s];u.hostElement.addEventListener(p,u.__eventListener,!1)}return u.__eventActuators=t._BuildInEventActuatorBuilderCollection._defaultBuildInEventActuatorBuilderCollection()._eventActuators(u,u.pluginCollection),u.__size=r,null!=o&&u.load(o),u}return n(i,e),i.prototype.dispose=function(){for(var t=0,n=this.__eventNames.slice().reverse();t<n.length;t++){var i=n[t];this.hostElement.removeEventListener(i,this.__eventListener,!1)}this.__eventListener=null,this.hitTested.removeAllHandlers(),this.rendered.removeAllHandlers(),this.resize.removeAllHandlers(),this.__interactionProcessor.dispose(),null!=this.__dvView&&(this.__dvView.dispose(),this.__dvView=null),null!=this.__graphicsRender&&(this.__graphicsRender.dispose(),this.__graphicsRender=null),this.__layers.length=0,e.prototype.dispose.call(this),this._onDisposed()},Object.defineProperty(i.prototype,"enabled",{get:function(){return this.__enabled},set:function(t){"boolean"==typeof t&&t!=this.__enabled&&(this.__enabled=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"devicePixelRatio",{get:function(){return this.__devicePixelRatio},set:function(e){this.__devicePixelRatio!=e&&(e=t._CastExtension._toNumberOptionOrNull(e),this.__devicePixelRatio=e,null!=this.__graphicsRender&&(this.__graphicsRender.dispose(),this.__graphicsRender=null),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderMethod",{get:function(){return this.__renderMethod},set:function(e){if(null==e)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e);var n=t._AnyTypeExtension._toEnumValueOrNull(e,t.RenderMethod);if(null==n)throw new t.RuntimeError(t.ErrorCode.UnexpectedValue);this.__renderMethod!==n&&(this.__renderMethod=n,null!=this.__graphicsRender&&(this.__graphicsRender.dispose(),this.__graphicsRender=null),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"model",{get:function(){return null==this.__dvView?null:t._DvViewModelUtility._toDvModel(this.__dvView)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"option",{get:function(){return this.__option},enumerable:!1,configurable:!0}),i.prototype._onHitTested=function(t){void 0===t&&(t=null),this.hitTested.raise(this,t);for(var e=0,n=this.__eventActuators;e<n.length;e++){var i=n[e];null!=i.hitTested&&i.hitTested.raise(this,t)}},i.prototype._onRendered=function(t){void 0===t&&(t=null),this.rendered.raise(this,t)},i.prototype._onResize=function(t){void 0===t&&(t=null),this.resize.raise(this,t);for(var e=0,n=this.__eventActuators;e<n.length;e++){var i=n[e];null!=i.resized&&i.resized.raise(this)}},i.prototype._onLoaded=function(){for(var t=0,e=this.__eventActuators;t<e.length;t++){var n=e[t];null!=n.loaded&&n.loaded.raise(this)}},i.prototype._onLayouted=function(t){void 0===t&&(t=null);for(var e=0,n=this.__eventActuators;e<n.length;e++){var i=n[e];null!=i.layouted&&i.layouted.raise(this,t)}},i.prototype._onDisposed=function(){for(var t=0,e=this.__eventActuators;t<e.length;t++){var n=e[t];null!=n.disposed&&n.disposed.raise(this)}},i.prototype._requestRefreshData=function(){this._layoutData(),this.refresh()},i.prototype._requestRefresh=function(){this.refresh()},i.prototype._requestInvalidate=function(){this.invalidate()},Object.defineProperty(i.prototype,"pluginCollection",{get:function(){return this.__pluginCollection},enumerable:!1,configurable:!0}),i.prototype.layers=function(){return this.__layers},i.prototype._graphicsRender=function(){if(null==this.__graphicsRender&&null!=this.hostElement){var e=null==this.__dvView?null:this.__dvView._getDefinition()._dvConfigOption.plugins;this.__renderMethod==t.RenderMethod.Canvas?this.__graphicsRender=new t.models._CanvasGraphicsRender(this.hostElement,this.devicePixelRatio,e,this.pluginCollection):this.__graphicsRender=new t.models._SvgGraphicsRender(this.hostElement,e,this.pluginCollection)}return this.__graphicsRender},i.prototype.load=function(e){null!=this.__dvView&&(this.__dvView.dispose(),this.__dvView=null),this.__option=e;var n=new t.options._DvOption(e);null!=n.renderMethod&&(this.renderMethod=n.renderMethod),this.__dataSources=this._createDataSources(n);var i=this._createDvDefinition(n,this.__dataSources,null,[],this.pluginCollection);this.__dvView=i._createView(),this._loadDataSources(),this._layoutData(),this._onLoaded(),this.refresh()},i.prototype._createDvDefinition=function(e,n,i,o,r){var l=this,a=t._BuildInDvDefinitionBuilderCollection._buildInDvDefinitionBuilders()._dvDefinition(e,n,i,o,r);return null!=a?a:new t._DefaultDvDefinition(e,n,r,i,(function(e){return new t._FlexDvView(l,l.__motionEventProvider,e,null,null)}))},i.prototype._createDataSources=function(e){var n=new t._DataSourceDictionary,i=new t._DataSchemaBuilder;if(null!=e){for(var o=0,r=e.data;o<r.length;o++){var l=r[o],a=this._cloneDataItems(l.values),u=i._buildDataSchema(a,l,this.pluginCollection),s=new t._DataSource(a,null,u);n._add(s)}var _=e.transform;t._BuildInDataSourceTransformCollection._defaultBuildInDataSourceTransforms()._transformDataSources(n,_,[],this.pluginCollection)}return n},i.prototype._cloneDataItems=function(e){for(var n=[],i=0,o=e;i<o.length;i++){for(var r=o[i],l={},a=0,u=t._NativeExtension.properties(r,!0);a<u.length;a++){var s=u[a];l[s]=t._NativeExtension.getPropertyValue(r,s)}n.push(l)}return n},i.prototype._loadDataSources=function(){null!=this.__dvView&&this.__dvView._loadDataSources(this.__dataSources)},i.prototype._layoutData=function(){null!=this.__dvView&&this.__dvView._layoutData()},i.prototype._internalRefresh=function(n,i,o){var r=this;void 0===o&&(o=t._RefreshReason.OptionChanged),null!=this.__dvView&&this.__dvView._getDefinition()._asyncResourcePool.wait((function(){if(n){var l=r._getHostSize(),a=new t.core.Rect(0,0,l.width,l.height),u=r._graphicsRender();null!=u&&r._layout(u.defaultSurfaceRender()._render(),a,o)}e.prototype._internalRefresh.call(r,n,i)}))},i.prototype._render=function(){e.prototype._render.call(this),this._drawWithContext(new t._RenderContext)},i.prototype._drawWithContext=function(e){if(null!=this.__dvView){var n=this._getHostSize(),i=new t.core.Rect(0,0,n.width,n.height),o=this._graphicsRender();null!=o&&this._internalRender(o.defaultSurfaceRender()._render(),i,e)}},i.prototype._layout=function(e,n,i){e.beginRender(),e.setViewportSize(n.width,n.height),null!=this.__dvView&&this.__dvView._layout(e,new t._RenderContext,n),e.endRender(),this._onLayouted(new t._LayoutedEventArgs(i))},i.prototype._internalRender=function(e,n,i){if(e.beginRender(),n.width>0&&n.height>0){if(e.setViewportSize(n.width,n.height),null!=this.__dvView){this.__dvView._render(e,i),this.__zLevels=i._zLevels.slice().sort();for(var o=0,r=this.__zLevels;o<r.length;o++){var l=r[o];i._currentZLevel=l,this.__dvView._render(e,i)}}this.__layers.forEach((function(t){t.render(e)}))}e.endRender(),this._onRendered(new t.RenderedEventArgs)},i.prototype.containsFocus=function(){return!!t.models.GlobalModel.globalModel.tooltipManager().tooltip(this,null).containsFocus()||e.prototype.containsFocus.call(this)},i.prototype.hitTest=function(t,e){if(void 0===e&&(e=null),null!=this.__dvView&&this.__dvView._getRectangle().contains(t)){for(var n=0,i=this.__zLevels.slice().reverse();n<i.length;n++){var o=i[n],r=this.__dvView._hitTest(t,o,e);if(null!=r)return r}return this.__dvView._hitTest(t,0,e)}return null},i.prototype.query=function(e){return null!=this.__dvView?this.__dvView._query(e).map((function(e){return t.models._isPointModel(e)?e:null})).filter((function(t){return null!=t})):[]},i.prototype.select=function(e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=null),null!=this.__dvView){var o;null!=n&&(o=new t.options._SelectionStyleOption(n));var r=new t._RenderContext;r.apiSelectedStyle=o,Array.isArray(e)?(this.__dvView._select(e,i),this._drawWithContext(r)):null!=e&&(this.__dvView._select([e],i),this._drawWithContext(r))}},i.prototype._controlResize=function(){e.prototype._controlResize.call(this),this._onResize(new t.ResizeEventArgs)},i.prototype._getHostSize=function(){return this._isInDomTree()||null==this.__size?e.prototype._getHostSize.call(this):this.__size},i.prototype._ontouch=function(e){if(this.enabled&&null!=this.__dvView){var n=this.__motionEventProvider._fromEvent(e),i=new t.core.Point(n.x,n.y),o=this._getHostMatrix();null!=o&&(i=t._MatrixUtility._transformPoint(o.invert(),i));var r=this.hitTest(i,null),l=new t.HitTestEventArgs(i,null!=r?r.model:null,null!=r?r.addition:null);l.event=n,this._onHitTested(l),this.__interactionProcessor._process(l)}},i.runAnimation=function(e,n,i,o){void 0===o&&(o=null),t.runAnimation(e,n,i)},i.__constClassName="gcdv-flexdv",i}(t.Control);t.FlexDV=e}(t||(t={})),t||(t={}),function(t){!function(t){t._isControlAsOwnerModel=function(t){var e=t;return null!=e&&void 0!==e._control&&void 0!==e._hostElementProxy}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(){}return e._dataValue=function(e,n){var i=t._NativeExtension.getPropertyValue(e,n);return t._DataValueTypeExtension._toDataValueType(i)},e._boolValueOrNull=function(t,n){var i=e._dataValue(t,n);return null==i?null:"boolean"==typeof i?1==i:null},e._dateValueOrNull=function(n,i,o){var r=e._dataValue(n,i);return null==r?null:t._DataValueTypeExtension._isDate(r)?t._DataValueTypeExtension._toDate(r):"string"==typeof r?o._parseDate(r):null},e._stringValueOrNull=function(t,n){var i=e._dataValue(t,n);return null==i?null:"string"==typeof i?i:null},e._numberValueOrNull=function(t,n){var i=e._dataValue(t,n);return null==i?null:"number"==typeof i?i:null},e._dataValueOrNull=function(n,i,o){void 0===o&&(o=null);var r=e._dataValue(n,i);if(null==r)return null;if("boolean"==typeof r)return 1==r;if(t._AnyTypeExtension._isDate(r))return t._AnyTypeExtension._toDate(r);if("string"==typeof r){if(null!=o){var l=o._parseDate(r);if(null!=l)return l}return r}return"number"==typeof r?r:null},e._toItem=function(n,i){if(n=e._getDataField(n),t._isNumberDataField(n)){var o=n;return e._toNumberItem(o,i)}if(t._isStringDataField(n)){var r=n;return e._toStringItem(r,i)}if(t._isDateDataField(n)){var l=n;return e._toDateItem(l,i)}if(t._isBooleanDataField(n)){var a=n;return e._toBooleanItem(a,i)}if(t._isNullDataField(n)){var u=n;return e._toNullItem(u,i)}return null},e._getDataField=function(n){if(t._isBinDataField(n)){var i=n;return e._getDataField(i.originalField())}return n},e._toStringItem=function(t,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=e._stringValueOrNull(r,t._name);if(null!=l)return l}else if("object"==typeof n)return e._stringValueOrNull(n,t._name);return null},e._toNumberItem=function(t,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=e._numberValueOrNull(r,t._name);if(null!=l)return l}else if("object"==typeof n)return e._numberValueOrNull(n,t._name);return null},e._toBooleanItem=function(t,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=e._boolValueOrNull(r,t._name);if(null!=l)return l}else if("object"==typeof n)return e._boolValueOrNull(n,t._name);return null},e._toDateItem=function(t,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=e._dateValueOrNull(r,t._name,t._dateParser());if(null!=l)return l}else if("object"==typeof n)return e._dateValueOrNull(n,t._name,t._dateParser());return null},e._toNullItem=function(t,e){return null},e}();t._DataItemExtension=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._splitPath=function(t){return null==t?[]:[t]},i.prototype._convert=function(e){return t._DataValueTypeExtension._toDataValueType(e)},i.prototype._getValueFromUnsupportedPath=function(t,e){return null},i}(t._BaseBinding);t._DataItemBinding=e}(t||(t={})),function(t){t._isBooleanDataField=function(e){return null!=e&&e._type()===t.core.DataType.Boolean}}(t||(t={})),function(t){t._isDateDataField=function(e){var n=e;return null!=n&&n._type()===t.core.DataType.Date&&"function"==typeof n._dateParser}}(t||(t={})),function(t){var e=function(){function t(t,e,n){this._name=t,this.__type=e,this._dataSource=n}return t.prototype._type=function(){return this.__type},t.prototype.equalsWith=function(t){return this===t||null!=t&&t._type()==this._type()&&this._name==t._name},t}();t._BaseDataField=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,t.core.DataType.Boolean,i)||this}return n(i,e),i}(t._BaseDataField);t._BooleanDataField=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,t.core.DataType.Date,i)||this;return r.__dateParser=o,r}return n(i,e),i.prototype._dateParser=function(){return this.__dateParser},i}(t._BaseDataField);t._DateDataField=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,t.core.DataType.Unknown,i)||this}return n(i,e),i}(t._BaseDataField);t._NullDataField=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,t.core.DataType.Number,i)||this}return n(i,e),i}(t._BaseDataField);t._NumberDataField=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,t.core.DataType.String,i)||this}return n(i,e),i}(t._BaseDataField);t._StringDataField=e}(t||(t={})),function(t){t._isNullDataField=function(e){return null!=e&&e._type()===t.core.DataType.Unknown}}(t||(t={})),function(t){t._isNumberDataField=function(e){return null!=e&&e._type()===t.core.DataType.Number}}(t||(t={})),function(t){t._isStringDataField=function(e){return null!=e&&e._type()===t.core.DataType.String}}(t||(t={})),function(t){var e=function(){function t(t,e){this._fields=t,this._name=e}return t.prototype.equalsWith=function(t){return this==t},t}();t._DataSchema=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDataSchema=function(e,n,i){if(void 0===i&&(i=null),null==n)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue,n);var o=new t._DateStringParser(n.dateFormats,i),r=this._analyseItems(e,o,n);return new t._DataSchema(r,n.name)},e.prototype._buildEmptyDataSchema=function(){return new t._DataSchema({},null)},e.prototype._analyseItems=function(e,n,i){for(var o={},r=0,l=e;r<l.length;r++)for(var a=l[r],u=0,s=t._NativeExtension.properties(a,!0);u<s.length;u++){var _=s[u],p=o[_];null==p&&(o[_]=p=new t._NullDataField(_,i.name));var c=t._NativeExtension.getPropertyValue(a,_);t._isNullDataField(p)&&("number"==typeof c?o[_]=p=new t._NumberDataField(_,i.name):"string"==typeof c?null==n._parseDate(c)?o[_]=p=new t._StringDataField(_,i.name):o[_]=p=new t._DateDataField(_,i.name,n):t._AnyTypeExtension._isDate(c)?o[_]=p=new t._DateDataField(_,i.name,n):"boolean"==typeof c&&(o[_]=p=new t._BooleanDataField(_,i.name)))}return o},e}();t._DataSchemaBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.__dataSourceDictionary={},this.__dataSources=[]}return Object.defineProperty(e.prototype,"_defaultDataSource",{get:function(){return this.__default},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_dataSources",{get:function(){return this.__dataSources},enumerable:!1,configurable:!0}),e.prototype._add=function(e){var n=e._schema._name;null==n||t._NativeExtension._isNullOrWhiteSpace(n)?null!=this.__default&&t._NativeExtension._isNullOrWhiteSpace(this.__default._schema._name)||(this.__default=e):null==this.__dataSourceDictionary[n]&&(null==this.__default&&(this.__default=e),this.__dataSourceDictionary[n]=e),this.__dataSources.push(e)},e.prototype._dataSource=function(e){return null==e||t._NativeExtension._isNullOrWhiteSpace(e)?null==this.__default?new t._DataSource([],null,(new t._DataSchemaBuilder)._buildEmptyDataSchema()):this.__default:null==this.__dataSourceDictionary[e]?new t._DataSource([],null,(new t._DataSchemaBuilder)._buildEmptyDataSchema()):this.__dataSourceDictionary[e]},e}();t._DataSourceDictionary=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._compare=function(e,n){if(null==e&&null==n)return 0;if(null==e)return-1;if(null==n)return 1;if("number"==typeof e&&"number"==typeof n){var i=isNaN(e),o=isNaN(n);return i&&o?0:i?-1:o?1:e-n}return"string"==typeof e&&"string"==typeof n?e.localeCompare(n):"boolean"==typeof e&&"boolean"==typeof n?e===n?0:!0===e?1:-1:e instanceof Date&&n instanceof Date?e.valueOf()-n.valueOf():(t._NativeExtension._ConsoleWarning("Compare data between different data type."),"number"==typeof e&&isNaN(e)?-1:"number"==typeof n&&isNaN(n)?1:typeof e!=typeof n?-1:this._value(e)-this._value(n))},e.prototype._value=function(e){if("number"==typeof e)return e;if("string"==typeof e)return 0;if("boolean"==typeof e)return 1==e?1:0;if(e instanceof Date)return e.valueOf();throw new t.RuntimeError(t.ErrorCode.Unknown,e)},e._defaultDataValueTypeComparer=new e,e}();t._DataValueTypeComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return t._DataValueTypeExtension._equalsWith(e,n)},e._dataValueTypeEqualityComparer=new e,e._dataValueTypeArrayEqualityComparer=new t._ArrayEqualityComparer(e._dataValueTypeEqualityComparer),e}();t._DataValueTypeEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e._toDataValueType=function(t){return"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Date?t:null},e._toAnyObject=function(t){return t},e._toObjectItem=function(t){return t},e._isBoolean=function(t){return"boolean"==typeof t},e._isDate=function(t){return t instanceof Date},e._isNumber=function(t){return"number"==typeof t},e._isString=function(t){return"string"==typeof t},e._toBool=function(e){if(null==e)return!1;if("boolean"==typeof e)return e;if("number"==typeof e)return 0!==e&&!isNaN(e);if("string"==typeof e)return""!==e;if(e instanceof Date)return!0;throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._toDate=function(e){if(e instanceof Date)return e;throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._toNumber=function(e){if("number"==typeof e)return e;throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._toString=function(e){if("string"==typeof e)return e;throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._equalsWith=function(t,e){return null==t&&null==e||null!=t&&null!=e&&("boolean"==typeof t&&"boolean"==typeof e?t===e:t instanceof Date&&e instanceof Date?t.valueOf()===e.valueOf():"number"==typeof t&&"number"==typeof e?!(!isNaN(t)||!isNaN(e))||t===e:"string"==typeof t&&"string"==typeof e&&t===e)},e}();t._DataValueTypeExtension=e}(t||(t={})),function(t){var e=function(){function e(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.__formats=t,this.__pluginCollection=e}return e.prototype._dateParser=function(){return null==this.__cachedDateParser&&(this.__cachedDateParser=t._BuildInDateParserBuilderCollection._defaultBuildInDateParserBuilders()._dateParser("Default",[],this.__pluginCollection)),this.__cachedDateParser},e.prototype._parseDate=function(e){if(null!=e&&"string"==typeof e){if(null==this.__formats){var n=t._NativeExtension._parseDateByPlatform(e);return null!=n?new Date(n):null}var i=this.__cachedDateParser;if(null==i&&(i=this._dateParser()),null!=i)for(var o=0,r=this.__formats;o<r.length;o++){var l=r[o],a=i.parse(e,l);if(null!=a&&!isNaN(a.valueOf()))return a}}return null},e._dateStringParser=new e,e}();t._DateStringParser=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){t.options||(t.options={})}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__src=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"src",{get:function(){return this.__src},set:function(t){this.__src!=t&&(this.__src=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"src",null),i}(e._Option),e._BackgroundImagePluginArgumentsOption=i}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInBackgroundImagePolicyBuilders=function(){return null==i.__buildInBackgroundImagePolicyBuilders&&(i.__buildInBackgroundImagePolicyBuilders=new i([],i._pluginType)),i.__buildInBackgroundImagePolicyBuilders},i.prototype._convert=function(e){return t._isBackgroundImagePolicyBuilder(e)?e:null},i.prototype._backgroundImagePolicy=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i],l=r.item._buildBackgroundImagePolicy(t,r.option);if(null!=l)return l}return null},i._pluginType="BackgroundImage",i}(t._BuildInObjectCollection);t._BuildInBackgroundImagePolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(e){this.__option=e,this.name="Default",this.type=t._BuildInBackgroundImagePolicyBuilderCollection._pluginType,this.priority=1}return e.prototype._buildBackgroundImagePolicy=function(t,n){return new e(n)},e.prototype._buildBackgroundImage=function(e,n){if(null!=this.__option&&null!=this.__option.arguments){var i=this.__option.arguments;if(t.options._isBackgroundImagePluginArgumentsOption(i))return null==i.src?null:n.getImageInfo(i.src);var o=new t.options._BackgroundImagePluginArgumentsOption(i.option());return null==o.src?null:n.getImageInfo(o.src)}return null},e.prototype.queryInterface=function(t){return"IBackgroundImagePolicyBuilder"==t?this:null},e._defaultPlugin=new e(null),e}();t._DefaultBackgroundImagePolicy=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){t._isBackgroundImagePluginArgumentsOption=function(t){return void 0!==t.src}}(t.options||(t.options={}))}(t||(t={})),t||(t={}),function(t){t._isBackgroundImagePolicyBuilder=function(t){return null!=t._buildBackgroundImagePolicy}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInCalculationEngineBuilders=function(){return null==i.__buildInCalculationEngineBuilders&&(i.__buildInCalculationEngineBuilders=new i([],i._pluginType)),i.__buildInCalculationEngineBuilders},i.prototype._convert=function(e){return t._isCalculationEngineBuilder(e)?e:null},i.prototype._calculationEngine=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item.buildCalculationEngine(t,e);if(null!=l)return l}return null},i._pluginType="CalculationEngine",i}(t._BuildInObjectCollection);t._BuildInCalculationEngineBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isCalculationEngineBuilder=function(t){return null!=t.buildCalculationEngine}}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(){this.__sjsCalculationEngineExist=null,this.name="SjsCalculationEngine",this.type=t._BuildInCalculationEngineBuilderCollection._pluginType,this.priority=0}return e.prototype._isSJSCalculationEngineExist=function(){if(null==this.__sjsCalculationEngineExist){var t=window.GC;if(null==t)return!1;if(null==(t=t.Spread))return!1;if(null==(t=t.CalcEngine))return!1;this.__sjsCalculationEngineExist=!0}return this.__sjsCalculationEngineExist},e.prototype.buildCalculationEngine=function(i,o){if("Default"!==i)return null;if(this._isSJSCalculationEngineExist()){var r=function(e){function i(n){var i=e.call(this,new GC.Spread.CalcEngine.CalcService)||this;if(null==n)throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);return i.__proxy=n,i.getCalcService().getSourceModel(i),i}return n(i,e),i.prototype.evaluate=function(t,e){try{this.__name=t.toUpperCase(),this.getCalcSourceModel().setFormulaByName(t,e)}catch(t){console.warn("Wrong rule exprssion.")}},i.prototype.getParserContext=function(e,n,i){var o=this,r=new GC.Spread.CalcEngine.ParserContext(this,e,n||{},i),l=new GC.Spread.CalcEngine.TokenResolver(7e3);return l.resolveToken=function(e,n,i,r){var l=i[r],a=l.stringValue();if(0===l.type()&&0===l.subType()&&o.__proxy.isIdentityExpression(a)){var u=new GC.Spread.CalcEngine.Expression(25);return u.value=a,u}return t._NativeExtension.Undefined},r.addResolver(l),r},i.prototype.getEvaluatorContext=function(t,e,n){var i=new GC.Spread.CalcEngine.EvaluateContext(this,t,e,n),o=this;return i.evaluate=function(t,e,n){return this.getValue(o,t.value)},i},i.prototype.getValueByName=function(t){return""},i.prototype.setValueByName=function(e,n){if(e!=this.__name)throw new t.AssertError(t.ErrorCode.UnexpectedValue,e);this.__proxy.resultCallback(n)},i.prototype.getValue=function(t){return this.__proxy.getIdentityValue(t)},i}(GC.Spread.CalcEngine.CalcSource),l=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e._buildInGcCalculationEngineCustomFunctionBuilders=function(){return null==e.__buildInGcCalculationEngineCustomFunctionBuilders&&(e.__buildInGcCalculationEngineCustomFunctionBuilders=new e([u._topNPointGcCalculationEngineCustomFunctionBuilder,_._topNPercentPointGcCalculationEngineCustomFunctionBuilder,c._bottomNPointGcCalculationEngineCustomFunctionBuilder,f._bottomNPercentPointGcCalculationEngineCustomFunctionBuilder],e._pluginType)),e.__buildInGcCalculationEngineCustomFunctionBuilders},e.prototype._convert=function(t){return this._isGcCalculationEngineCustomFunctionBuilder(t)?t:null},e.prototype._isGcCalculationEngineCustomFunctionBuilder=function(t){return null!=t.buildGcCalculationEngineCustomFunction},e.prototype.gcCalculationEngineCustomFunctions=function(t){return this._objects(t).map((function(t){return t.item.buildGcCalculationEngineCustomFunction()}))},e._pluginType="GcCalculationEngineCustomFunction",e}(t._BuildInObjectCollection),a=function(e){function i(){return e.call(this,"TOPNPOINT",2,3)||this}return n(i,e),i.prototype.evaluate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<2)return null;var i=null,o=e[0];if(!t._isCartesianPointView(o))return null;i=o;var r=[],l=e[1];if(!Array.isArray(l))return null;for(var a=0,u=l;a<u.length;a++){var s=u[a];t._isCartesianPointView(s)&&r.push(s)}if(i=o,r.length<=0)return!1;var _=1;if(e.length>2){var p=e[2];"number"==typeof p&&p>=1&&(_=p)}r.sort((function(t,e){var n=e.value,i=t.value;return null==n&&(n=0),null==i&&(i=0),n-i}));for(var c=0,h=r=r.slice(0,_);c<h.length;c++)if(i==h[c])return!0;return!1},i}(GC.Spread.CalcEngine.Functions.Function),u=function(){function t(){}return t.prototype.buildGcCalculationEngineCustomFunction=function(){return new a},t.prototype.queryInterface=function(t){return"IGcCalculationEngineCustomFunctionBuilder"==t?this:null},t._topNPointGcCalculationEngineCustomFunctionBuilder=new t,t}(),s=function(e){function i(){return e.call(this,"TOPNPERCENTPOINT",2,3)||this}return n(i,e),i.prototype.evaluate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<2)return null;var i=null,o=e[0];if(!t._isCartesianPointView(o))return null;i=o;var r=[],l=e[1];if(!Array.isArray(l))return null;for(var a=0,u=l;a<u.length;a++){var s=u[a];t._isCartesianPointView(s)&&r.push(s)}if(i=o,r.length<=0)return!1;var _=null;if(e.length>2){var p=e[2];"number"==typeof p&&(_=p<=0?null:p>=1?1:p)}r.sort((function(t,e){var n=e.value,i=t.value;return null==n&&(n=0),null==i&&(i=0),n-i}));for(var c=0,h=r=r.slice(0,null==_?1:Math.round(r.length*_));c<h.length;c++)if(i==h[c])return!0;return!1},i}(GC.Spread.CalcEngine.Functions.Function),_=function(){function t(){}return t.prototype.buildGcCalculationEngineCustomFunction=function(){return new s},t.prototype.queryInterface=function(t){return"IGcCalculationEngineCustomFunctionBuilder"==t?this:null},t._topNPercentPointGcCalculationEngineCustomFunctionBuilder=new t,t}(),p=function(e){function i(){return e.call(this,"BOTTOMNPOINT",2,3)||this}return n(i,e),i.prototype.evaluate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<2)return null;var i=null,o=e[0];if(!(o instanceof t._CartesianPointView))return null;i=o;var r=[],l=e[1];if(!Array.isArray(l))return null;for(var a=0,u=l;a<u.length;a++){var s=u[a];s instanceof t._CartesianPointView&&r.push(s)}if(i=o,r.length<=0)return!1;var _=1;if(e.length>2){var p=e[2];"number"==typeof p&&p>=1&&(_=p)}r.sort((function(t,e){var n=e.value,i=t.value;return null==n&&(n=0),null==i&&(i=0),n-i}));for(var c=0,h=r=r.reverse().slice(0,_);c<h.length;c++)if(i==h[c])return!0;return!1},i}(GC.Spread.CalcEngine.Functions.Function),c=function(){function t(){}return t.prototype.buildGcCalculationEngineCustomFunction=function(){return new p},t.prototype.queryInterface=function(t){return"IGcCalculationEngineCustomFunctionBuilder"==t?this:null},t._bottomNPointGcCalculationEngineCustomFunctionBuilder=new t,t}(),h=function(e){function i(){return e.call(this,"BOTTOMNPERCENTPOINT",2,3)||this}return n(i,e),i.prototype.evaluate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length<2)return null;var i=null,o=e[0];if(!(o instanceof t._CartesianPointView))return null;i=o;var r=[],l=e[1];if(!Array.isArray(l))return null;for(var a=0,u=l;a<u.length;a++){var s=u[a];s instanceof t._CartesianPointView&&r.push(s)}if(i=o,r.length<=0)return!1;var _=null;if(e.length>2){var p=e[2];"number"==typeof p&&(_=p<=0?null:p>=1?1:p)}r.sort((function(t,e){var n=e.value,i=t.value;return null==n&&(n=0),null==i&&(i=0),n-i}));for(var c=0,h=r=r.reverse().slice(0,null==_?1:Math.round(r.length*_));c<h.length;c++)if(i==h[c])return!0;return!1},i}(GC.Spread.CalcEngine.Functions.Function),f=function(){function t(){}return t.prototype.buildGcCalculationEngineCustomFunction=function(){return new h},t.prototype.queryInterface=function(t){return"IGcCalculationEngineCustomFunctionBuilder"==t?this:null},t._bottomNPercentPointGcCalculationEngineCustomFunctionBuilder=new t,t}();if(!e.__hasRegisterCustomeFunctions){for(var d=0,y=l._buildInGcCalculationEngineCustomFunctionBuilders().gcCalculationEngineCustomFunctions([]);d<y.length;d++){var g=y[d];GC.Spread.CalcEngine.Functions.defineGlobalCustomFunction(g.name,g)}e.__hasRegisterCustomeFunctions=!0}return new r(o)}return null},e.prototype.queryInterface=function(t){return"ICalculationEngineBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e.__hasRegisterCustomeFunctions=!1,e}();t._SjsCalculationEnginePlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInHoverBehaviorPolicyPlugins=function(){return null==i.__buildInHoverBehaviorPolicyPlugins&&(i.__buildInHoverBehaviorPolicyPlugins=new i([],i._pluginType)),i.__buildInHoverBehaviorPolicyPlugins},i.prototype._convert=function(e){return t._isHoverBehaviorPolicyBuilder(e)?e:null},i.prototype._hoverBehaviorPolicy=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildHoverBehaviorPolicy(e);if(null!=l)return l}return t._DefaultHoverBehaviorPolicy._defaultPolicy},i._pluginType="HoverBehaviorPolicy",i}(t._BuildInObjectCollection);t._BuildInHoverBehaviorPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._compare=function(t,e){var n=0;return 0!=(n=this._compareHoverView(t,e))?n:n=this._compareFloatedView(t,e)},e.prototype._compareHoverView=function(t,e){return this._viewIsHover(t)?this._viewIsHover(e)?0:1:this._viewIsHover(e)?-1:0},e.prototype._compareFloatedView=function(t,e){return this._isFloated(t)?this._isFloated(e)?0:1:this._isFloated(e)?-1:0},e.prototype._viewIsHover=function(e){return t._isHoverView(e)&&e._isHover()},e.prototype._isFloated=function(e){return t._isPointView(e)&&e._floated},e}(),n=function(){function t(){this._visualViewOrderComparer=new e,this._changeVisualViewOrder=!0}return t._defaultPolicy=new t,t}();t._DefaultHoverBehaviorPolicy=n}(t||(t={})),function(t){t._isHoverBehaviorPolicyBuilder=function(t){return null!=t._buildHoverBehaviorPolicy}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInPointVisibilityPolicyBuilders=function(){return null==i.__buildInPointVisibilityPolicyBuilders&&(i.__buildInPointVisibilityPolicyBuilders=new i([],i._pluginType)),i.__buildInPointVisibilityPolicyBuilders},i.prototype._convert=function(e){return t._isPointVisibilityPolicyBuilder(e)?e:null},i.prototype.pointVisibilityPolicy=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildPointVisibilityPolicy(e);if(null!=l)return l}return t._DefaultPointVisibilityPolicy._defaultPointVisibilityPolicy},i._pluginType="PointVisibilityPolicy",i}(t._BuildInObjectCollection);t._BuildInPointVisibilityPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._shouldVisible=function(t){return t._visible},t._defaultPointVisibilityPolicy=new t,t}();t._DefaultPointVisibilityPolicy=e}(t||(t={})),t||(t={}),function(t){t._isPointVisibilityPolicyBuilder=function(t){return null!=t._buildPointVisibilityPolicy}}(t||(t={})),function(t){var e=function(){function e(){}return e._buildEmptyAxis=function(e){var n=new t.options._AxisOption(null);return n.type=e,n},e}();t._AxisUtility=e}(t||(t={})),function(t){var e=function(){function e(t){this.__provider=t,this.__paletteOffset=0}return e.prototype._next=function(t){var e=this.__paletteOffset;return t&&this.__paletteOffset++,this.__provider._colorWithIndex(e)},e.prototype._equalsWith=function(n){return n==this||n instanceof e&&t._PaletteColorProviderEqualityComparer._paletteColorProviderEqualityComparer._equalsWith(this.__provider,n.__provider)},e}();t._ColorIterator=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(t){this._colorOptions=this._createColorOptionList(t)}return e.prototype._createColorOptionList=function(e){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];null==r.data&&r.type==t.options.PaletteItemType.Index&&n.push(r.color)}return n},e.prototype._tintColor=function(n,i){return n instanceof t._CssColor?this._tintCssColor(n.color,i):n instanceof t._LinearGradientColor?this._tintLinearGradientColor(n,i):n instanceof t._RadialGradientColor?this._tintRadialGradientColor(n,i):n instanceof t._PatternColor?this._tintPatternColor(n,i):e.__defaultColor},e.prototype._tintPatternColor=function(e,n){var i=this._tintColor(e.backgroundColor,n);return new t._PatternColor(i,e.pattern)},e.prototype._tintCssColor=function(n,i){var o=new t._CssColor(n),r=e.__tiny[Math.floor(i/this._colorOptions.length)%e.__tiny.length];return t._ColorUtility._buildColorByTint(o,r)},e.prototype._tintLinearGradientColor=function(e,n){for(var i=[],o=0,r=e.colorStops;o<r.length;o++){var l=r[o];i.push(new t._ColorStop(this._tintCssColor(l.color,n).color,l.stop))}return new t._LinearGradientColor(e.degree,i)},e.prototype._tintRadialGradientColor=function(e,n){for(var i=[],o=0,r=e.colorStops;o<r.length;o++){var l=r[o];i.push(new t._ColorStop(this._tintCssColor(l.color,n).color,l.stop))}return new t._RadialGradientColor(e.center,e.radius,e.focus,e.focusRadius,i)},e.prototype._defaultColor=function(){return this._colorWithIndex(0)},e.prototype._colorWithIndex=function(n){if(null==this._colorOptions||0==this._colorOptions.length)return e.__defaultColor;var i=this._colorOptions[n%this._colorOptions.length],o=t._OptionUtility._colorFromOption(i);return null==o?e.__defaultColor:this._tintColor(o,n)},e.__defaultColor=new t._CssColor("grey"),e.__tiny=[0,-.5,.5,-.25,.25],e}();t._PaletteColorProvider=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return null==e&&null==n||null!=e&&null!=n&&(e==n||t._ColorOptionEqualityComparer._colorOptionArrayEqualityComparer._equalsWith(e._colorOptions,n._colorOptions))},e._paletteColorProviderEqualityComparer=new e,e}();t._PaletteColorProviderEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(t,e){this._colorWithValueOptions=this._createColorWithValueOptionList(t,e)}return e.prototype._findColorWithValueOption=function(e,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];if(t._OptionUtility._isDataEqualsConfigData(e,r.data))return r}return null},e.prototype._createColorWithValueOptionList=function(e,n){for(var i=[],o=0,r=n;o<r.length;o++)null==(s=r[o]).data&&s.type==t.options.PaletteItemType.Index||i.push(s);if(null!=e)for(var l=function(e){null==e.data&&e.type==t.options.PaletteItemType.Index||null==t._Util.find(i,(function(t){return t.type==e.type&&t.data==e.data}))&&i.push(e)},a=0,u=e._colorWithValueOptions;a<u.length;a++){var s;l(s=u[a])}return i},e.prototype._colorWithValue=function(e){var n=this._findColorWithValueOption(e,this._colorWithValueOptions);return null!=n?t._OptionUtility._colorFromOption(n.color):null},e}();t._ValueColorProvider=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return null==e&&null==n||null!=e&&null!=n&&(e==n||t._PaletteItemOptionEqualityComparer._paletteItemOptionArrayEqualityComparer._equalsWith(e._colorWithValueOptions,n._colorWithValueOptions))},e._valueColorProviderEqualityComparer=new e,e}();t._ValueColorProviderEqualityComparer=e}(t||(t={})),function(t){var e=function(){function t(t,e,n,i,o){this.__layoutDefinition=t,this._type=e,this._hAlign=n,this._vAlign=i,this._pluginCollection=t._pluginCollection,this._dvConfigOption=t._dvConfigOption,this._plotAreaOption=t._plotAreaOption,this._plotDefinitions=[],this.__axisDefinitions=[],this._viewBuilder=o}return t.prototype._findDataSchema=function(t){return this.__layoutDefinition._findDataSchema(t)},Object.defineProperty(t.prototype,"_axisDefinitions",{get:function(){return this.__axisDefinitions},enumerable:!1,configurable:!0}),t}();t._BaseCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInCoordinateSystemBuilders=function(){return null==i.__buildInCoordinateSystemDefinitionBuilders&&(i.__buildInCoordinateSystemDefinitionBuilders=new i([],i._pluginType)),i.__buildInCoordinateSystemDefinitionBuilders},i.prototype._convert=function(e){return t._isCoordinateSystemDefinitionBuilder(e)?e:null},i.prototype._coordinateSystemDefinition=function(e,n,i,o,r,l){void 0===l&&(l=null);for(var a=0,u=this._objects(r,l);a<u.length;a++){var s=u[a].item._buildCoordinateSystemDefinition(e,n,i,o);if(null!=s)return s}throw new t.RuntimeError(t.ErrorCode.CoordinateSystemTypeNotFound,n)},i._pluginType="CoordinateSystem",i}(t._BuildInObjectCollection);t._BuildInCoordinateSystemDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isCoordinateSystemDefinitionBuilder=function(t){return"function"==typeof t._buildCoordinateSystemDefinition}}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n)||this;return o.__rectangle=t.core.Rect.ReadOnlyRect,o.__horizontalViewSize=t._Constants.ViewSize,o.__verticalViewSize=t._Constants.ViewSize,o._definition=i,o._plotListView=o._createPlotListView(),o}return n(i,e),i.prototype._rectangle=function(){return this.__rectangle},i.prototype._updateRectangle=function(t){this.__rectangle=t},i.prototype._layoutData=function(){for(var t=0,e=this._getPlotViews();t<e.length;t++)e[t]._layoutData()},i.prototype._getClassName=function(){return"gcdv-coordinate-system"},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._layoutContent=function(t,e,n){this._layoutPlotViews(t,e,n)},i.prototype._renderChildren=function(t,e){this._plotListView._render(t,e)},i.prototype._layoutPlotViews=function(t,e,n){this._plotListView._layout(t,n,e)},i.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._getLayoutView()._id()+this._createIdentityContent()),this.__cachedId},i.prototype._createIdentityContent=function(){var e=this._definition._type;return t._Util.HashCode("coordinate"+e)},i.prototype._getDefinition=function(){return this._definition},i.prototype._getLayoutView=function(){return this._ownerView},i.prototype._getPlotListView=function(){return this._plotListView},i.prototype._getPlotViews=function(){return this._plotListView._getPlotViews()},i.prototype._addPlotView=function(t){this._plotListView._addPlotView(t)},Object.defineProperty(i.prototype,"_horizontalViewSize",{get:function(){return this.__horizontalViewSize},set:function(t){0<t&&t<=1&&(this.__horizontalViewSize=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_verticalViewSize",{get:function(){return this.__verticalViewSize},set:function(t){0<t&&t<=1&&(this.__verticalViewSize=t)},enumerable:!1,configurable:!0}),i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=this._plotListView._hitTest(t,n,i);return null!=o?o:e.prototype._hitTest.call(this,t,n,i)},i.prototype.dispose=function(){},i}(t._BaseView);t._BaseCoordinateSystemView=e}(t||(t={})),function(t){t._isCoordinateSystemView=function(t){var e=t;return"function"==typeof e._getLayoutView&&"function"==typeof e._getDefinition&&"function"==typeof e._getPlotListView&&"function"==typeof e._addPlotView}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(n){var i=e.call(this,n)||this;return i.__className="gcdv-plots",i.__plotViews=[],i.__frontOverlayViews=[],i.__backOverlayViews=[],i._displayablePipeLine=new t.DisplayablePipeLine,i}return n(i,e),i.prototype._getCoordinateSystemView=function(){return this._ownerView},i.prototype._getPlotViews=function(){return this.__plotViews},i.prototype._addPlotView=function(t){this.__plotViews.push(t)},i.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var t=this._ownerView;return 1!==t._horizontalViewSize||1!==t._verticalViewSize},i.prototype._getLogicSize=function(){var e=this._ownerView,n=e._horizontalViewSize,i=e._verticalViewSize;return new t.core.Size(this._getRectangle().width/n,this._getRectangle().height/i)},i.prototype._redraw=function(){e.prototype._redraw.call(this),null!=this.__plotsScrollableLabelsGroupElement&&(this.__plotsScrollableLabelsGroupElement.offsetX=this._getScrollX(),this.__plotsScrollableLabelsGroupElement.offsetY=this._getScrollY(),this.__plotsScrollableLabelsGroupElement.flush()),null!=this.__plotsDisplayGroupElement&&(this.__plotsDisplayGroupElement.offsetX=this._getScrollX(),this.__plotsDisplayGroupElement.offsetY=this._getScrollY(),this.__plotsDisplayGroupElement.flush())},i.prototype._renderScrollableContent=function(t,n){if(n._renderLabel){var i=this._getLogicSize(),o=this._getViewport();this._renderScrollableLabelsContent(t,n,o,i)}else e.prototype._renderScrollableContent.call(this,t,n);n._renderLabel&&(i=this._getLogicSize(),o=this._getViewport(),this._renderPlotsDisplayGroupElement(t,n,o,i))},i.prototype._renderNonScrollableContent=function(t,n){if(e.prototype._renderNonScrollableContent.call(this,t,n),n._renderLabel){var i=this._ownerView._getLayoutView()._getPlotAreaView()._getRectangle(),o=i.size;this._renderPlotsDisplayGroupElement(t,n,i,o)}},i.prototype._renderScrollableLabelsContent=function(t,e,n,i){var o=this;this.__plotsScrollableLabelsGroupElement=t.createGroup("scroll-labels",null,this._transform,n,i.width,i.height,this._getScrollX(),this._getScrollY(),(function(t){o._invokeBaseRenderContent(t,e)})),null==this.__plotsScrollableLabelsGroupElement&&t.drawGroup("scroll-labels",null,this._transform,(function(t){o._invokeBaseRenderContent(t,e)}))},i.prototype._renderPlotsDisplayGroupElement=function(t,e,n,i){var o=this;this.__plotsDisplayGroupElement=t.createGroup(this.__className+"-display",null,this._transform,n,i.width,i.height,this._getScrollX(),this._getScrollY(),(function(t){o._displayablePipeLine._flush(t,e)}))},i.prototype._layoutInnerContent=function(e,n,i){(n=n.clone()).width<0&&(n.width=0),n.height<0&&(n.height=0);var o=n;if("Xy"!==this._ownerView._getDefinition()._type&&this._canScroll()){var r=this._getLogicSize();(o=n.clone()).width=r.width,o.height=r.height}this.__frontOverlayViews.length=0,this.__backOverlayViews.length=0;for(var l=0,a=this.__plotViews;l<a.length;l++){var u=a[l];u._layout(e,o,i);for(var s=0,_=u._getOverlayViews();s<_.length;s++){var p=_[s],c=p._getDefinition()._display;c===t.OverlayDisplay.Back?this.__backOverlayViews.push(p):c===t.OverlayDisplay.Front&&this.__frontOverlayViews.push(p),p._layout(e,i)}}},i.prototype._getClassName=function(){return this.__className},i.prototype._renderInnerContent=function(t,n,i){e.prototype._renderInnerContent.call(this,t,n,i),this._draw(t,i)},i.prototype._drawOverlayViews=function(t,e,n){for(var i=0,o=t;i<o.length;i++)o[i]._render(e,n)},i.prototype._draw=function(e,n){if(n._renderLabel){this._drawOverlayViews(this.__backOverlayViews,e,n);for(var i=0,o=this.__plotViews;i<o.length;i++){s=[];for(var r=0,l=(v=o[i])._getOverlayViews();r<l.length;r++)(h=(c=l[r])._getDefinition()._display)===t.OverlayDisplay.FrontOfPlot?s.push(c):h===t.OverlayDisplay.BackOfPlot&&c._render(e,n);this._drawOverlayViews(s,e,n)}this._drawOverlayViews(this.__frontOverlayViews,e,n),null==this.__plotsDisplayGroupElement&&this._displayablePipeLine._flush(e,n)}else{this._drawOverlayViews(this.__backOverlayViews,e,n);for(var a=0,u=this.__plotViews;a<u.length;a++){for(var s=[],_=0,p=(v=u[a])._getOverlayViews();_<p.length;_++){var c,h;(h=(c=p[_])._getDefinition()._display)===t.OverlayDisplay.FrontOfPlot?s.push(c):h===t.OverlayDisplay.BackOfPlot&&c._render(e,n)}v._render(e,n),this._drawOverlayViews(s,e,n)}var f=this._ownerView._getDefinition()._dvConfigOption.selectedStyle.adorners;if(null!=n.apiSelectedStyle&&(f=n.apiSelectedStyle.adorners),f){var d=this._getCoordinateSystemView()._getLayoutView()._getDefinition()._pluginCollection,y=t._BuildInAdornerRenderBuilderCollection._defaultBuildInAdornerRenderBuilders()._adornerRender("Dot",[],d);if(null!=y)for(var g=0,m=this.__plotViews;g<m.length;g++)for(var v,w=0,b=(v=m[g])._selectionAdorners();w<b.length;w++){var P=b[w];e.beginTransform(),y.render(e,P.points),e.restoreTransform()}}this._drawOverlayViews(this.__frontOverlayViews,e,n)}},i.prototype._contains=function(t){return!1},i.prototype._cutOff=function(){return!1},i.prototype.queryInterface=function(n){if("IDisplayablePipeLine"===n)return this._displayablePipeLine;if("IFlushable"===n){if(null!=this.__plotsDisplayGroupElement){var i=this._ownerView._getLayoutView()._getPlotAreaView()._getDvView();if(null!=t._DvViewUtility._render(i))return this}return null}return e.prototype.queryInterface.call(this,n)},Object.defineProperty(i.prototype,"referenceGroupElement",{get:function(){return this.__plotsDisplayGroupElement},enumerable:!1,configurable:!0}),i.prototype.flush=function(){if(null!=this.__plotsDisplayGroupElement){var e=this._ownerView._getLayoutView()._getPlotAreaView()._getDvView(),n=t._DvViewUtility._render(e);if(null!=n){n.startReferenceGroup(this.__plotsDisplayGroupElement),this.__plotsDisplayGroupElement.children.splice(0,this.__plotsDisplayGroupElement.children.length),n.beginTransform(),t._StyleUtility._applyAllStyle(n,this.__plotsDisplayGroupElement.styleContext);var i=new t._RenderContext;this._displayablePipeLine._flush(n,i),n.restoreTransform(),n.endReferenceGroup(),this.__plotsDisplayGroupElement.dirty(),this.__plotsDisplayGroupElement.flush()}}},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();return!this._canScroll()||this._canScroll()&&null!=r&&r.contains(n)?this._hitTestContent(new t.core.Point(this._getScrollX()+n.x,this._getScrollY()+n.y),i,o):e.prototype._hitTest.call(this,n,i,o)},i.prototype._hitTestContent=function(n,i,o){for(var r=0,l=this.__frontOverlayViews.slice().reverse();r<l.length;r++)if(null!=(w=(v=l[r])._hitTest(n,i,o)))return w;for(var a=0,u=this.__plotViews.slice().reverse();a<u.length;a++)for(var s=0,_=u[a]._getOverlayViews().slice().reverse();s<_.length;s++)if((v=_[s])._getDefinition()._display===t.OverlayDisplay.FrontOfPlot&&null!=(w=v._hitTest(n,i,o)))return w;for(var p=0,c=this.__plotViews.concat().reverse();p<c.length;p++)if(null!=(w=c[p]._hitTest(n,i,o)))return w;for(var h=0,f=this.__plotViews.slice().reverse();h<f.length;h++)for(var d=0,y=f[h]._getOverlayViews().slice().reverse();d<y.length;d++)if((v=y[d])._getDefinition()._display===t.OverlayDisplay.BackOfPlot&&null!=(w=v._hitTest(n,i,o)))return w;for(var g=0,m=this.__backOverlayViews.slice().reverse();g<m.length;g++){var v,w;if(null!=(w=(v=m[g])._hitTest(n,i,o)))return w}return e.prototype._hitTestContent.call(this,n,i,o)},i}(t._ScrollableView);t._PlotListView=e}(t||(t={})),t||(t={}),function(t){t._isPolarCoordinateSystemLayoutModel=function(t){var e=t;return"function"==typeof e._setRadius&&"function"==typeof e._setCenter}}(t||(t={})),function(t){t._isPolarCoordinateSystemView=function(t){var e=t;return"function"==typeof e._getRadius&&"function"==typeof e._getCenter&&"function"==typeof e._toPoint&&"function"==typeof e._normalizeRadian&&"function"==typeof e._adjustPolarCoordinateRadian}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._PolarCoordinateSystemView(e,n)},e._viewBuilder=new e,e}(),i=function(t){function i(n,o,r,l,a){return t.call(this,n,null==o?i._type:o,r,l,null==a?e._viewBuilder:a)||this}return n(i,t),i._type="Polar",i}(t._BaseCoordinateSystemDefinition);t._PolarCoordinateSystemDefinition=i}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._PolarCoordinateSystemDefinition._type?new t._PolarCoordinateSystemDefinition(e,null,i,o,null):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t?this:null},e._noneCoordinateSystemDefinitionBuilder=new e,e}();t._PolarCoordinateSystemDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__radius=0,i.__center=null,i}return n(i,e),i.prototype._createPlotListView=function(){return new t._PlotListView(this)},i.prototype._getLayouter=function(){var e=this._definition._plotAreaOption.plugins,n=this._definition._pluginCollection,i=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._defaultBuildInCoordinateSystemLayoutBuilderCollection()._coordinateSystemLayoutPolicy(this,e,n);return null!=i?i:new t._DefaultPolarCoordinateSystemViewLayoutPolicy},i.prototype._getRadius=function(){return this.__radius},i.prototype._getCenter=function(){return this.__center},i.prototype._toPoint=function(e){var n=e._radius,i=e._radian-Math.PI/2;return new t.core.Point(n*Math.cos(i)+this.__center.x,n*Math.sin(i)+this.__center.y)},i.prototype._adjustPolarCoordinateRadian=function(e){return new t._PolarCoordinateValue(e._radius,e._radian-Math.PI/2)},i.prototype._normalizeRadian=function(e){for(;e<0||e>=t._Utility._PI2;)e<0&&(e+=t._Utility._PI2),e>=t._Utility._PI2&&(e-=t._Utility._PI2);return e},i.prototype._setRadius=function(t){this.__radius!=t&&(this.__radius=t)},i.prototype._setCenter=function(t){this.__center!=t&&(this.__center=t)},i.prototype._layoutContent=function(t,n,i){this._updateRectangle(n);var o=this._getLayouter()._layoutCoordinateSystem(t,n,i,this)._plotLogicRect;this.__radius=Math.min(o.width,o.height)/2,this.__center=o.center,e.prototype._layoutContent.call(this,t,n,i)},i}(t._BaseCoordinateSystemView);t._PolarCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function t(t,e){this._radius=t,this._radian=e}return t.prototype.clone=function(){return new t(this._radius,this._radian)},t.prototype.equalsWith=function(t){return this._radius==t._radius&&this._radian==t._radian},t}();t._PolarCoordinateValue=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseCoordinateSystemView);t._ScrollableCoordinateSystemView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createPlotListView=function(){return new t._PlotListView(this)},i}(t._BaseCoordinateSystemView);t._XyCoordinateSystemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._render=function(n,i){var o=this;if(this._isVisible()&&this._zLevel==i._currentZLevel){var r=this._zoomBounds,l=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(r.left,r.top,r.width,r.height);n.drawGroup(null,l,null,(function(t){e.prototype._render.call(o,t,i)}))}},i.prototype._hitTest=function(n,i,o){return this._zLevel!=i?null:(null!=this._transform&&(n=t._MatrixUtility._transformPoint(this._transform.invert(),n)),e.prototype._hitTest.call(this,n,i,o))},Object.defineProperty(i.prototype,"_zoomFactor",{get:function(){return null==this._transform?1:this._transform.values[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_zoomBounds",{get:function(){return this._rectangle()},enumerable:!1,configurable:!0}),i.prototype._translate=function(e,n){null==this._transform?this._transform=new t.Matrix([1,0,0,1,e,n]):t._MatrixUtility._translatePrepend(this._transform,e,n)},i.prototype._zoomAt=function(e,n,i){if(null==this._transform)this._transform=new t.Matrix,t._MatrixUtility._scaleAt(this._transform,e,e,new t.core.Point(n,i));else{var o=t._MatrixUtility._transformPoint(this._transform.invert(),new t.core.Point(n,i));this._transform.reset(),t._MatrixUtility._scaleAt(this._transform,e,e,o),t._MatrixUtility._translatePrepend(this._transform,n-o.x,i-o.y)}},i.prototype._reset=function(){this._transform=null},i.prototype._isHitTested=function(e,n){return this._zoomBounds.contains(new t.core.Point(e,n))},i}(t._BaseCoordinateSystemView);t._ZoomableCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._intersection=function(e,n){if(e._dataSource.equalsWith(n._dataSource)){var i=e._indexes.filter((function(t){return-1!==n._indexes.indexOf(t)}));return new t._DataSlices(e._dataSource,i)}return null},e._merge=function(e){for(var n=[],i=null,o=0,r=e;o<r.length;o++){var l=r[o];(null==i||l._dataSource.equalsWith(i))&&(i=l._dataSource,n.push.apply(n,l._indexes))}return null!=i?new t._DataSlices(i,n):null},e._includes=function(t,e){return 0===e._indexes.filter((function(e){return-1===t._indexes.indexOf(e)})).length},e}();t._DataSlicesUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n,i,o){if(void 0===o&&(o=null),null==i)return null;var r=null!=e?e._items:[];if(i==t.Aggregate.List)return null!=o&&o<=r.length?t._DataItemExtension._toItem(n,r.slice(0,o)):t._DataItemExtension._toItem(n,r);n=t._DataItemExtension._getDataField(n);var l=new t._DataItemBinding(n._name);if(i==t.Aggregate.Sum||i==t.Aggregate.Average){for(var a=!0,u=0,s=r;u<s.length;u++){var _=s[u];if(null!=l._getValue(_)){a=!1;break}}if(a)return null;for(var p=!0,c=0,h=r;c<h.length;c++){_=h[c];var f=l._getValue(_);if(null==f||"number"!=typeof f||!isNaN(f)){p=!1;break}}if(p)return NaN}return t._AggregateValueBuilder._defaultAggregateValueBuilder._build(i,r,l)},e._defaultAggregate=new e,e}();t._DataSlicesAggregate=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(){}return e._reduce=function(e,n,i,o){for(var r=0;r<e.length;++r)o=i(o,null==n?t._DataValueTypeExtension._toDataValueType(e[r]):n._getValue(e[r]));return o},e}();t._AggregateUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){var i=t._CountNumberAggregate._defaultAggregate._aggregate(e,n);return 0==i?0:t._SumAggregate._defaultAggregate._aggregate(e,n)/i},e._defaultAggregate=new e,e}();t._AverageAggregate=e}(t||(t={})),function(t){var e=function(){function e(t){this.__compareCallback=t}return e.prototype._aggregate=function(e,n){var i=this;return t._AggregateUtility._reduce(e,n,(function(e,n){var o=typeof e,r=typeof n;if(null==e)return n;if("number"==o){if(("number"==r||"boolean"==r)&&(isNaN(e)||i.__compareCallback(e,n)))return n}else if("boolean"==o){if("number"==r){if(t._DataValueTypeExtension._toBool(e)){if(i.__compareCallback(1,n)||1==n)return n}else if(i.__compareCallback(0,n)||0==n)return n}else if("boolean"==r&&i.__compareCallback(e,n))return n}else if("string"==o&&"string"==r){if(i.__compareCallback(e,n))return n}else{if("number"==r||"boolean"==r)return n;if("string"==r||"symbol"==r||"function"==r||"object"==r)return NaN}return e}),null)},e._maxAggregate=new e((function(t,e){return t<e})),e._minAggregate=new e((function(t,e){return t>e})),e}();t._CompareAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){return t._AggregateUtility._reduce(e,n,(function(t,e){return null!=e?t+1:t}),0)},e._defaultAggregate=new e,e}();t._CountAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){var i=new t._Map;return t._AggregateUtility._reduce(e,n,(function(t,e){return null!=e&&1!=i._get(e)?(i._set(e,1),t+1):t}),0)},e._defaultAggregate=new e,e}();t._CountDistinctAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){return t._AggregateUtility._reduce(e,n,(function(t,e){return"number"!=typeof e||isNaN(e)?"boolean"==typeof e?t+1:t:t+1}),0)},e._defaultAggregate=new e,e}();t._CountNumberAggregate=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._aggregate=function(t,e){return t.length},t._defaultAggregate=new t,t}();t._CountOfAllAggregate=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){return Math.sqrt(t._PopulationVarianceAggregate._defaultAggregate._aggregate(e,n))},e._defaultAggregate=new e,e}();t._PopulationStandardDeviationAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){var i=t._CountNumberAggregate._defaultAggregate._aggregate(e,n),o=t._SumSquareAggregate._defaultAggregate._aggregate(e,n),r=t._AverageAggregate._defaultAggregate._aggregate(e,n);return i<=1?0:o/i-r*r},e._defaultAggregate=new e,e}();t._PopulationVarianceAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){var i=t._CompareAggregate._maxAggregate._aggregate(e,n),o=t._CompareAggregate._minAggregate._aggregate(e,n);return""===i||""===o||"symbol"==typeof i&&"symbol"==typeof o?NaN:(null==i?0:i)-(null==o?0:o)},e._defaultAggregate=new e,e}();t._RangeAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){return Math.sqrt(t._VarianceAggregate._defaultAggregate._aggregate(e,n))},e._defaultAggregate=new e,e}();t._StandardDeviationAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){return t._AggregateUtility._reduce(e,n,(function(e,n){return"number"!=typeof n||isNaN(n)?"boolean"==typeof n&&t._DataValueTypeExtension._toBool(n)?e+1:e:e+n}),0)},e._defaultAggregate=new e,e}();t._SumAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){return t._AggregateUtility._reduce(e,n,(function(e,n){return"number"==typeof n?e+n*n:"boolean"==typeof n&&t._DataValueTypeExtension._toBool(n)?e+1:e}),0)},e._defaultAggregate=new e,e}();t._SumSquareAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n){var i=t._CountNumberAggregate._defaultAggregate._aggregate(e,n);return i<=1?0:t._PopulationVarianceAggregate._defaultAggregate._aggregate(e,n)*i/(i-1)},e._defaultAggregate=new e,e}();t._VarianceAggregate=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(e,n,i){if(void 0===i&&(i=null),e==t.Aggregate.Sum)return t._SumAggregate._defaultAggregate._aggregate(n,i);if(e==t.Aggregate.Count)return t._CountAggregate._defaultAggregate._aggregate(n,i);if(e==t.Aggregate.Average)return t._AverageAggregate._defaultAggregate._aggregate(n,i);if(e==t.Aggregate.Max)return t._CompareAggregate._maxAggregate._aggregate(n,i);if(e==t.Aggregate.Min)return t._CompareAggregate._minAggregate._aggregate(n,i);if(e==t.Aggregate.Range)return t._RangeAggregate._defaultAggregate._aggregate(n,i);if(e==t.Aggregate.StandardDeviation)return t._StandardDeviationAggregate._defaultAggregate._aggregate(n,i);if(e==t.Aggregate.Variance)return t._VarianceAggregate._defaultAggregate._aggregate(n,i);if(e==t.Aggregate.PopulationStandardDeviation)return t._PopulationStandardDeviationAggregate._defaultAggregate._aggregate(n,i);if(e==t.Aggregate.PopulationVariance)return t._PopulationVarianceAggregate._defaultAggregate._aggregate(n,i);if(e==t.Aggregate.CountOfAll)return t._CountOfAllAggregate._defaultAggregate._aggregate(n,i);if(e==t.Aggregate.CountDistinct)return t._CountDistinctAggregate._defaultAggregate._aggregate(n,i);throw new t.AssertError(t.ErrorCode.InvalidArgument,e)},e._defaultAggregateValueBuilder=new e,e}();t._AggregateValueBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this._dataSlices=t}return Object.defineProperty(e.prototype,"_items",{get:function(){return this._dataSlices._items},enumerable:!1,configurable:!0}),o([t.deprecated("_items",null)],e.prototype,"_items",null),e}();t._DataModel=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__filter=t,this.__keys=e}return e.prototype._filter=function(e){var n=this;if(null==this.__filter)return e;if(0==this.__keys.length)return e;var i=e._indexes.slice().filter((function(t){for(var i=!1,o=0,r=n.__keys;o<r.length;o++){var l=r[o];i=i||n.__filter.filter(e._dataSource._items[t],l)}return i}));return new t._DataSlices(e._dataSource,i)},e}();t._DataSlicesKeysFilter=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){t._isPointDataModel=function(t){var e=t;return null!=e&&void 0!==e.additionalKind&&"function"==typeof e._item&&void 0===typeof e._filtered}}(t||(t={})),t||(t={}),function(t){t._isSeriesDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._points&&"function"==typeof e._plot&&void 0!==e._filtered}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.__definition=n,i}return n(e,t),e.prototype._definition=function(){return this.__definition},e.prototype._initialize=function(){},e.prototype.queryInterface=function(t){return null},e}(t._DataModel);t._PlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n.__item={},n.__filtered=!1,n}return n(e,t),e.prototype._item=function(){return this.__item},Object.defineProperty(e.prototype,"_dataIndex",{get:function(){return 0==this._dataSlices._length?-1:this._dataSlices._indexes[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_filtered",{get:function(){return this.__filtered},set:function(t){this.__filtered!=t&&(this.__filtered=t,this._onFilteredChanged(t))},enumerable:!1,configurable:!0}),e.prototype._onFilteredChanged=function(t){},e.prototype.queryInterface=function(t){return null},e}(t._DataModel);t._PointDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,n)||this;return i.__plot=e,i._filtered=!1,i}return n(e,t),e.prototype._plot=function(){return this.__plot},e.prototype.queryInterface=function(t){return null},e}(t._DataModel);t._SeriesDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._compare=function(e,n,i){if(i=t._DataItemExtension._getDataField(i),t._isNumberDataField(i)){var o=i;return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(t._DataItemExtension._numberValueOrNull(e,o._name),t._DataItemExtension._numberValueOrNull(n,o._name))}if(t._isStringDataField(i)){var r=i;return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(t._DataItemExtension._stringValueOrNull(e,r._name),t._DataItemExtension._stringValueOrNull(n,r._name))}if(t._isDateDataField(i)){var l=i;return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(t._DataItemExtension._dateValueOrNull(e,l._name,l._dateParser()),t._DataItemExtension._dateValueOrNull(n,l._name,l._dateParser()))}if(t._isBooleanDataField(i)){var a=i;return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(t._DataItemExtension._boolValueOrNull(e,a._name),t._DataItemExtension._boolValueOrNull(n,a._name))}return t._isNullDataField(i),0},e._defaultComparer=new e,e}();t._DataObjectComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._compare=function(e,n,i){if(null!=i){var o=i,r=t._DataSlicesAggregate._defaultAggregate._aggregate(e,o._dataField,o._aggregate),l=t._DataSlicesAggregate._defaultAggregate._aggregate(n,o._dataField,o._aggregate);return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(r,l)}return 0},e._defaultComparer=new e,e}();t._DataSlicesComparer=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__sortDefinition=t,this.__dataFieldDefinition=e}return e.prototype._sort=function(e){var n=this;if(null==this.__sortDefinition)return e;var i=e._indexes.slice();if(t._isFieldSortDefinition(this.__sortDefinition)){var o=this.__sortDefinition;i.sort((function(n,i){return t._DataObjectComparer._defaultComparer._compare(e._dataSource._items[n],e._dataSource._items[i],o._dataField)}))}else null!=this.__dataFieldDefinition&&i.sort((function(i,o){return t._DataObjectComparer._defaultComparer._compare(e._dataSource._items[i],e._dataSource._items[o],n.__dataFieldDefinition._dataField)}));return this.__sortDefinition._isAscending||i.reverse(),new t._DataSlices(e._dataSource,i)},e}();t._DataSlicesSorter=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._sort=function(t){if(Array.isArray(t)){var e=t;return this._sortGroupings(e)}return t},t}();t._GroupingsSorter=e}(t||(t={})),function(t){var e=function(){function t(t){this._isAscending=t}return t.prototype.equalsWith=function(t){return null!=t&&(this==t||this._isAscending==t._isAscending)},t}();t._SortDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__sortDefinition=t,n}return n(i,e),i.prototype._sortGroupings=function(e){var n=this.__sortDefinition;return null!=n?(e.sort((function(e,i){return t._SortGroups._compareGroup(e,i,n)})),n._isAscending||e.reverse(),e):e},i}(t._GroupingsSorter);t._DefaultGroupingsSorter=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,n)||this;return o._dataField=t,o._aggregate=i,o}return n(i,e),i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isFieldSortDefinition(n)){var i=n;return this._aggregate==i._aggregate&&this._dataField.equalsWith(i._dataField)}return!1},i}(t._SortDefinition);t._FieldSortDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildFieldSortDefinition=function(e,n){if(null==e||e.order==t.OrderType.None)return null;if(null==e.field&&null==e.aggregate)return null;var i=n._fields[e.field];if(null==i)return null;var o=t._NativeExtension._toNonNullEnum(e.aggregate,t.Aggregate.List);return new t._FieldSortDefinition(i,e.order==t.OrderType.Ascending,o)},e._fieldSortDefinitionBuilder=new e,e}();t._FieldSortDefinitionBuilder=e}(t||(t={})),function(t){t._isFieldSortDefinition=function(t){var e=t;return null!=e._dataField&&null!=e._aggregate}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e}(t._SortDefinition);t._SimpleSortDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildSimpleSortDefinition=function(e){return e.order==t.OrderType.None?null:new t._SimpleSortDefinition(e.order==t.OrderType.Ascending)},e.prototype.buildSimpleSortDefinitionByOrderType=function(e){return e==t.OrderType.None?null:new t._SimpleSortDefinition(e==t.OrderType.Ascending)},e._simpleSortDefinitionBuilder=new e,e}();t._SimpleSortDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildSortDefinition=function(e,n,i,o){var r;return void 0===o&&(o=null),null==e?r=null:null==e.field&&null==e.aggregate?r=t._SimpleSortDefinitionBuilder._simpleSortDefinitionBuilder.buildSimpleSortDefinition(e):(null==e.field&&(e.field=i),null==e.aggregate&&(e.aggregate=null==o?t.Aggregate.List:o),r=t._FieldSortDefinitionBuilder._fieldSortDefinitionBuilder.buildFieldSortDefinition(e,n)),r},e._sortDefinitionBuilder=new e,e}();t._SortDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e._sortDefinitionEqualityComparer=new e,e}(t._ObjectEqualityComparer);t._SortDefinitionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e._compareGroup=function(e,n,i){if(null==i)return 0;if(t._isFieldSortDefinition(i)){var o=i,r=t._DataSlicesAggregate._defaultAggregate._aggregate(e._dataSlices,o._dataField,o._aggregate),l=t._DataSlicesAggregate._defaultAggregate._aggregate(n._dataSlices,o._dataField,o._aggregate);return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(r,l)}return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(e.key,n.key)},e}();t._SortGroups=e}(t||(t={})),function(t){t._isTableCell=function(t){var e=t;return null!=e._columnIndex&&null!=e._columnSpan&&null!=e._rowIndex&&null!=e._rowSpan}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){}return t.prototype._buildTableCells=function(t){for(var e=0,n=0,i=t;n<i.length;n++){var o=i[n],r=this._treeDepth(o);e<r&&(e=r)}for(var l=[],a=0,u=0,s=0,_=t.length;s<_;s++){var p=t[s],c=this._visit(p,e,0,a);l.push.apply(l,c.cells),u<c.rowSpan&&(u=c.rowSpan),a+=c.columnSpan}return l},t.prototype._visit=function(t,e,n,i){var o=t;o._rowIndex=n,o._columnIndex=i;var r=[o];if(t.children.length>0){for(var l=0,a=0,u=0,s=t.children.length;u<s;u++){var _=t.children[u],p=this._visit(_,e,n+1,i+l);r.push.apply(r,p.cells),a<p.rowSpan&&(a=p.rowSpan),l+=p.columnSpan}return o._columnSpan=l,o._rowSpan=1,{cells:r,rowSpan:a,columnSpan:1}}return o._columnSpan=1,o._rowSpan=e-o._rowIndex,{cells:r,rowSpan:1,columnSpan:1}},t.prototype._treeDepth=function(t){if(t.children.length>0){for(var e=0,n=0,i=t.children;n<i.length;n++){var o=i[n],r=this._treeDepth(o);e<r&&(e=r)}return e+1}return 1},t}();t._TableCellCollectionBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isTreeNode=function(t){var e=t;return null!=e.children&&null!=e.parent}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function t(){}return t._traverseDFS=function(e,n,i){void 0===i&&(i=0);for(var o=0,r=e;o<r.length;o++){var l=r[o];n(l,i),t._traverseDFS(l.children,n,i+1)}},t._traverseBFS=function(t,e){for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i];n.push(r)}for(var l=0;n.length>0;){for(var a=n.length,u=0;u<a;u++){var s=n.shift();e(s,l);for(var _=0,p=s.children;_<p.length;_++){var c=p[_];n.push(c)}}l++}},t._traverseGrouping=function(e,n,i,o){for(var r=0,l=e;r<l.length;r++){var a=l[r],u=o(n,a,i);t._traverseGrouping(a.children,u,i+1,o)}},t._find=function(e,n,i){void 0===i&&(i=0);for(var o=0,r=e;o<r.length;o++){var l=r[o];if(n(l,i))return l;var a=t._find(l.children,n,i+1);if(null!=a)return a}return null},t}();t._TreeNodeUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.parse=function(e,n){return t._Globalize._parseDate(e,n)},e}();t._BuildInDateParser=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInDateParserBuilders=function(){return null==i.__buildInDateParserBuilders&&(i.__buildInDateParserBuilders=new i([],i._pluginType)),i.__buildInDateParserBuilders},i.prototype._convert=function(e){return t._isDateParserBuilder(e)?e:null},i.prototype._dateParser=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item.buildDateParser(e);if(null!=l)return l}return new t._BuildInDateParser},i._pluginType="DateParser",i}(t._BuildInObjectCollection);t._BuildInDateParserBuilderCollection=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isDateParserBuilder=function(t){return null!=t.buildDateParser}}(t||(t={})),function(t){var e=function(){function t(){this._values=[]}return t.prototype._dimensionValues=function(){return this._values},t}();t._Dimension=e}(t||(t={})),function(t){var e=function(){function e(t){this.rawValue=t}return e.prototype._value=function(){return null!=this.__value?this.__value:this._getValueByRawValue(this.rawValue)},e.prototype._updatevalue=function(t){this.__value=t},e.prototype._getValueByRawValue=function(e){return t._DataValueTypeExtension._isString(e)?null:t._DataValueTypeExtension._isDate(e)?e.valueOf():t._DataValueTypeExtension._isBoolean(e)?t._DataValueTypeExtension._toBool(e)?1:0:e},e.prototype.queryInterface=function(t){return"IDimensionValue"===t?this:null},e}();t._DimensionValue=e}(t||(t={})),t||(t={}),function(t){t._isDimensionValue=function(t){var e=t;return null!=e&&void 0!==e.rawValue&&"function"==typeof e._value}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t){this._plotDefinition=t}return t.prototype.equalsWith=function(t){return this==t||this._plotDefinition==t._plotDefinition},t}();t._EncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t)||this;return r._excludeNulls=n,r._sortDefinition=i,r._dataSliceSortDefinition=o,r}return n(i,e),i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isCategoryEncodingDefinition(n)){var i=n;return this._excludeNulls==i._excludeNulls&&t._SortDefinitionEqualityComparer._sortDefinitionEqualityComparer._equalsWith(this._sortDefinition,i._sortDefinition)&&t._SortDefinitionEqualityComparer._sortDefinitionEqualityComparer._equalsWith(this._dataSliceSortDefinition,i._dataSliceSortDefinition)}return!1},i}(t._EncodingDefinition);t._CategoryEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,i,o,r)||this;return l._dataFieldDefinitions=n,l.__hierarchicalGroupingDefinitions=null,l}return n(i,e),Object.defineProperty(i.prototype,"_hierarchicalGroupingDefinitions",{get:function(){return null==this.__hierarchicalGroupingDefinitions&&(this.__hierarchicalGroupingDefinitions=this._buildHierarchicalGroupingDefinitions(this._plotDefinition,this._excludeNulls,this._sortDefinition)),this.__hierarchicalGroupingDefinitions},enumerable:!1,configurable:!0}),i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isHierarchicalCategoryEncodingDefinition(n)){var i=n;return t._DataFieldDefinitionEqualityComparer._dataFieldDefinitionArrayEqualityComparer._equalsWith(this._dataFieldDefinitions,i._dataFieldDefinitions)}return!1},i.prototype._buildHierarchicalGroupingDefinitions=function(e,n,i){var o=[],r=n?t._BuildInCategoryFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,e._pluginCollection):null,l=new t._DefaultGroupingsSorter(i);if(this._dataFieldDefinitions.length>=1)for(var a=0,u=this._dataFieldDefinitions;a<u.length;a++){var s=u[a],_=new t._DataFieldGroupingDefinition(s,l,r);o.push(_)}return o},i}(t._CategoryEncodingDefinition);t._HierarchicalCategoryEncodingDefinition=e}(t||(t={})),function(t){t._isHierarchicalCategoryEncodingDefinition=function(e){if(!t._isCategoryEncodingDefinition(e))return!1;var n=e;return null!=n._dataFieldDefinitions&&void 0!==n._hierarchicalGroupingDefinitions}}(t||(t={})),function(t){t._isCategoryEncodingDefinition=function(t){if(null==t)return!1;var e=t;return void 0!==e._excludeNulls&&void 0!==e._sortDefinition&&void 0!==e._dataSliceSortDefinition}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t)||this;return o._dataFieldDefinition=n,o._aggregate=i,o}return n(i,e),i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isAggregateContentEncodingDefinition(n)){var i=n;return this._aggregate==i._aggregate&&this._dataFieldDefinition.equalsWith(i._dataFieldDefinition)}return!1},i}(t._EncodingDefinition);t._AggregateContentEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildContentEncodingDefinition=function(e,n){if("string"==typeof n.field){var i=t._EscapedCharacterStringUtility._split(n.field,","),o=null!=n.label?n.label.split(","):[];if(i.length>0){var r=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i[0],e._dataSchema,o.length>0?o[0]:null);if(null!=r)return new t._AggregateContentEncodingDefinition(e,r,t._NativeExtension._toNonNullEnum(n.aggregate,t.Aggregate.List))}}return null},e._contentEncodingDefinitionBuilder=new e,e}();t._AggregateContentEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isAggregateContentEncodingDefinition=function(t){if(null==t)return!1;var e=t;return null!=e._dataFieldDefinition&&null!=e._aggregate}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e,n){this._dataField=t,this._format=e,this._label=null==n?this._dataField._name:n}return t.prototype.equalsWith=function(e){return this==e||e instanceof t&&this._format==e._format&&e._dataField.equalsWith(this._dataField)},t}();t._DataFieldDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._createDataFieldDefinition=function(e,n,i){if(t._isBooleanDataField(e))return new t._DataFieldDefinition(e,n,i);if(t._isDateDataField(e)){var o=e;return new t._DateDataFieldDefinition(o,n,i)}if(t._isNumberDataField(e)){var r=e;return new t._NumberDataFieldDefinition(r,n,i)}if(t._isStringDataField(e))return new t._DataFieldDefinition(e,n,i);if(t._isBinDataField(e)){var l=e;return new t._BinDataFieldDefinition(l,n,i)}return t._isNullDataField(e)?new t._DataFieldDefinition(e,n,i):null},e.prototype._dataFieldByName=function(e,n){var i=t._EscapedCharacterStringUtility._trim(n),o=t._EscapedCharacterStringUtility._normalize(i);return e._fields[o]},e.prototype._format=function(t,e){return e<2?null:2==e?t[1]:t.slice(1).join(":")},e.prototype._buildDataFieldDefinition=function(e,n,i){if(!t._NativeExtension._isNullOrEmptyString(e)){var o=t._EscapedCharacterStringUtility._split(e,":"),r=o.length;if(r>=1){var l=this._dataFieldByName(n,o[0]);if(null!=l){var a=this._format(o,r);return this._createDataFieldDefinition(l,a,i)}}}return null},e._dataFieldDefinitionBuilder=new e,e}();t._DataFieldDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,null==i?e.originalField()._name:i)||this}return n(e,t),e.prototype.binDataField=function(){return this._dataField},e}(t._DataFieldDefinition);t._BinDataFieldDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createDataFieldDefinition=function(e,n,i){if(t._isBinDataField(e)){var o=e;return new t._BinDataFieldDefinition(o,n,i)}return null},i._binDataFieldDefinitionBuilder=new i,i}(t._DataFieldDefinitionBuilder);t._BinDataFieldDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._dataFieldDefinitionEqualityComparer=new i,i._dataFieldDefinitionArrayEqualityComparer=new t._ArrayEqualityComparer(i._dataFieldDefinitionEqualityComparer),i}(t._ObjectEqualityComparer);t._DataFieldDefinitionEqualityComparer=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype.dateDataField=function(){return this._dataField},e}(t._DataFieldDefinition);t._DateDataFieldDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createDataFieldDefinition=function(e,n,i){if(t._isDateDataField(e)){var o=e;return new t._DateDataFieldDefinition(o,n,i)}return null},i._dateDataFieldDefinitionBuilder=new i,i}(t._DataFieldDefinitionBuilder);t._DateDataFieldDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildHierarchicalDataFieldDefinitionList=function(e,n){for(var i=[],o=t._EscapedCharacterStringUtility._split(e.field,">"),r=null!=e.label?e.label.split(","):[],l=0,a=o.length;l<a;l++){var u=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(o[l],n,l<r.length?r[l]:null);null!=u&&i.push(u)}return i.reverse(),i},e._dataFieldDefinitionListBuilder=new e,e}();t._HierarchicalDataFieldDefinitionListBuilder=e}(t||(t={})),function(t){t._isBinDataFieldDefinition=function(e){return t._isBinDataField(e._dataField)}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isDateDataFieldDefinition=function(e){return t._isDateDataField(e._dataField)}}(t||(t={})),function(t){t._isNumberDataFieldDefinition=function(e){return t._isNumberDataField(e._dataField)}}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype.numberDataField=function(){return this._dataField},e}(t._DataFieldDefinition);t._NumberDataFieldDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createDataFieldDefinition=function(e,n,i){if(t._isNumberDataField(e)){var o=e;return new t._NumberDataFieldDefinition(o,n,i)}return null},i._numberDataFieldDefinitionBuilder=new i,i}(t._DataFieldDefinitionBuilder);t._NumberDataFieldDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t)||this;return o._group=n,o._sortDefinition=i,o}return n(i,e),i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isDetailEncodingDefinition(n)){var i=n;return this._group==i._group&&t._SortDefinitionEqualityComparer._sortDefinitionEqualityComparer._equalsWith(this._sortDefinition,i._sortDefinition)}return!1},i}(t._EncodingDefinition);t._DetailEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function t(t,e){void 0===e&&(e=!1),this.__detailEncodingDefinitionBuilders=t,this.__onlyChooseFirstDefinition=e}return t.prototype._buildDetailEncodingDefinition=function(t,e){for(var n=0,i=this.__detailEncodingDefinitionBuilders;n<i.length;n++){var o=i[n]._buildDetailEncodingDefinition(t,e);if(null!=o)return o}return null},t.prototype._buildDetailEncodingDefinitions=function(t,e){var n=[];if(this.__onlyChooseFirstDefinition)e.length>0&&null!=(r=this._buildDetailEncodingDefinition(t,e[0]))&&n.push(r);else for(var i=0,o=e;i<o.length;i++){var r,l=o[i];null!=(r=this._buildDetailEncodingDefinition(t,l))&&n.push(r)}return n},t}();t._DetailEncodingDefinitionListBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,i,o)||this;return l._dataFieldDefinitions=n,l._dataSliceSortDefinition=r,l}return n(i,e),i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isHierarchicalDetailEncodingDefinition(n)){var i=n;return t._DataFieldDefinitionEqualityComparer._dataFieldDefinitionArrayEqualityComparer._equalsWith(this._dataFieldDefinitions,i._dataFieldDefinitions)&&t._SortDefinitionEqualityComparer._sortDefinitionEqualityComparer._equalsWith(this._dataSliceSortDefinition,i._dataSliceSortDefinition)}return!1},i}(t._DetailEncodingDefinition);t._HierarchicalDetailEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDetailEncodingDefinition=function(e,n){if(null==n.field)return null;for(var i=[],o=0,r=t._EscapedCharacterStringUtility._split(n.field,">");o<r.length;o++){var l=r[o],a=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(l,e._dataSchema,null);null!=a&&i.push(a)}if(i.length>0){var u=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(n.sort,e._dataSchema,i[0]._dataField._name),s=null,_=null;return n.onlySortBeforeGrouping?(_=u,s=null):(s=u,_=null),new t._HierarchicalDetailEncodingDefinition(e,i,n.group,s,_)}return null},e._detailEncodingDefinitionBuilder=new e,e}();t._HierarchicalDetailEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isHierarchicalDetailEncodingDefinition=function(e){if(null==e)return!1;if(!t._isDetailEncodingDefinition(e))return!1;var n=e;return void 0!==n._dataFieldDefinitions&&void 0!==n._dataSliceSortDefinition}}(t||(t={})),function(t){t._isDetailEncodingDefinition=function(t){if(null==t)return!1;var e=t;return void 0!==e._group&&void 0!==e._sortDefinition}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,i,r)||this;return l._excludeNulls=o,l._dataFieldDefinition=n,l}return n(i,e),i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isSingleDataFieldDetailEncodingDefinition(n)){var i=n;return this._excludeNulls==i._excludeNulls&&this._dataFieldDefinition.equalsWith(i._dataFieldDefinition)}return!1},i}(t._DetailEncodingDefinition);t._SingleDataFieldDetailEncodingDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return n(e,t),e}(t._SingleDataFieldDetailEncodingDefinition);t._ClusterGroupDetailEncodingDefinition=e}(t||(t={})),function(t){t._isClusterGroupDetailEncodingDefintion=function(e){return!!t._isSingleDataFieldDetailEncodingDefinition(e)&&e._group===t.Group.Cluster}}(t||(t={})),function(t){t._isSingleDataFieldDetailEncodingDefinition=function(e){if(!t._isDetailEncodingDefinition(e))return!1;var n=e;return null!=n._dataFieldDefinition&&null!=n._excludeNulls}}(t||(t={})),function(t){t._isMirrorGroupDetailEncodingDefintion=function(e){return!!t._isSingleDataFieldDetailEncodingDefinition(e)&&e._group===t.Group.Mirror}}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return n(e,t),e}(t._SingleDataFieldDetailEncodingDefinition);t._MirrorGroupDetailEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDetailEncodingDefinition=function(e,n){if(null==n.field)return null;var i=n.sort,o=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(i,e._dataSchema,n.field),r=t._EscapedCharacterStringUtility._split(n.field,">"),l=null!=n.label?n.label.split(","):[];if(r.length>0){var a=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(r[0],e._dataSchema,l.length>0?l[0]:null);if(null!=a)switch(n.group){case t.Group.Cluster:return new t._ClusterGroupDetailEncodingDefinition(e,a,n.group,n.excludeNulls,o);case t.Group.Stack:return new t._StackGroupDetailEncodingDefinition(e,a,n.group,n.excludeNulls,o);case t.Group.Mirror:return new t._MirrorGroupDetailEncodingDefinition(e,a,n.group,n.excludeNulls,o);default:return new t._SingleDataFieldDetailEncodingDefinition(e,a,n.group,n.excludeNulls,o)}}return null},e._detailEncodingDefinitionBuilder=new e,e}();t._SingleDataFieldDetailEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isStackGroupDetailEncodingDefintion=function(e){return!!t._isSingleDataFieldDetailEncodingDefinition(e)&&e._group===t.Group.Stack}}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return n(e,t),e}(t._SingleDataFieldDetailEncodingDefinition);t._StackGroupDetailEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),this._dataFieldDefinition=t,this._sorter=e,this._filter=n}return e.prototype._getLabel=function(){return this._dataFieldDefinition._label},e.prototype.equalsWith=function(e){if(this==e)return!0;if(t._isDataFieldGroupingDefinition(e)){var n=e;return this._dataFieldDefinition.equalsWith(n._dataFieldDefinition)}return!1},e.prototype.queryInterface=function(t){return null},e}();t._DataFieldGroupingDefinition=e}(t||(t={})),function(t){t._isDataFieldGroupingDefinition=function(t){return null!=t&&void 0!==t._dataFieldDefinition}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t,e,n,i,o,r,l,a){this._categoryEncodingDefinition=t,this._colorEncodingDefinition=e,this._shapeEncodingDefinition=n,this._sizeEncodingDefinition=i,this._backgroundColorEncodingDefinition=o,this._lightnessEncodingDefinition=r,this._textEncodingDefinitions=l,this._tooltipEncodingDefinitions=a}return t.prototype._getCategoryEncodingDefinition=function(){return this._categoryEncodingDefinition},t.prototype._getColorEncodingDefinition=function(){return this._colorEncodingDefinition},t.prototype._getShapeEncodingDefinition=function(){return this._shapeEncodingDefinition},t.prototype._getSizeEncodingDefinition=function(){return this._sizeEncodingDefinition},t.prototype._getBackgroundColorEncodingDefinition=function(){return this._backgroundColorEncodingDefinition},t.prototype._getLightnessEncodingDefinition=function(){return this._lightnessEncodingDefinition},t}();t._EncodingsDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this._adopter=null}return e.prototype._buildEncodingsDefinition=function(t,e){var n=this._createEncodingsDefinitionContext();return this._buildEncodingDefinitions(t,e,n),this._createEncodingsDefinition(n)},e.prototype._buildEncodingDefinitions=function(t,e,n){n._colorEncodingDefinition=this._createColorLegendEncodingDefinition(t,e.color,n),n._shapeEncodingDefinition=this._createShapeLegendEncodingDefinition(t,e.shape,n),n._sizeEncodingDefinition=this._createSizeLegendEncodingDefinition(t,e.size,n),n._backgroundColorEncodingDefinition=this._createBackgroundColorLegendEncodingDefinition(t,e.backgroundColor,n),n._lightnessEncodingDefinition=this._createLightnessLegendEncodingDefinition(t,e.lightness,n),n._textEncodingDefinitions=this._createTextContentEncodingDefinitions(t,e.text,n),n._tooltipEncodingDefinitions=this._createTooltipContentEncodingDefinitions(t,e.tooltip,n)},e.prototype._createColorLegendEncodingDefinition=function(e,n,i){var o=e._plotAreaOption.plugins,r=e._pluginCollection;return t._BuildInLegendDefinitionBuilderCollection._buildInLegendDefinitionBuilders()._legendDefinition(e,n,i,this._adopter,o,r)},e.prototype._createShapeLegendEncodingDefinition=function(e,n,i){var o=e._plotAreaOption.plugins,r=e._pluginCollection;return t._BuildInLegendDefinitionBuilderCollection._buildInLegendDefinitionBuilders()._legendDefinition(e,n,i,this._adopter,o,r)},e.prototype._createSizeLegendEncodingDefinition=function(e,n,i){var o=e._plotAreaOption.plugins,r=e._pluginCollection;return t._BuildInLegendDefinitionBuilderCollection._buildInLegendDefinitionBuilders()._legendDefinition(e,n,i,this._adopter,o,r)},e.prototype._createBackgroundColorLegendEncodingDefinition=function(e,n,i){var o=e._plotAreaOption.plugins,r=e._pluginCollection;return t._BuildInLegendDefinitionBuilderCollection._buildInLegendDefinitionBuilders()._legendDefinition(e,n,i,this._adopter,o,r)},e.prototype._createLightnessLegendEncodingDefinition=function(e,n,i){var o=e._plotAreaOption.plugins,r=e._pluginCollection;return t._BuildInLegendDefinitionBuilderCollection._buildInLegendDefinitionBuilders()._legendDefinition(e,n,i,this._adopter,o,r)},e.prototype._createTextContentEncodingDefinitions=function(t,e,n){var i=[];if(null!=e)for(var o=0,r=e;o<r.length;o++){var l=r[o],a=this._createTextContentEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},e.prototype._createTextContentEncodingDefinition=function(e,n,i){return t._AggregateContentEncodingDefinitionBuilder._contentEncodingDefinitionBuilder._buildContentEncodingDefinition(e,n)},e.prototype._createTooltipContentEncodingDefinitions=function(t,e,n){var i=[];if(null!=e)for(var o=0,r=e;o<r.length;o++){var l=r[o],a=this._createTooltipContentEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},e.prototype._createTooltipContentEncodingDefinition=function(e,n,i){return t._AggregateContentEncodingDefinitionBuilder._contentEncodingDefinitionBuilder._buildContentEncodingDefinition(e,n)},e}();t._EncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){this._textEncodingDefinitions=[],this._tooltipEncodingDefinitions=[]};t._EncodingsDefinitionContext=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e,n,i,o,r){void 0===r&&(r=null),this._plotDefinition=t,this._legendType=e,this._legendVisualType=n,this._label=i,this._legendDataModelBuilder=o,this._format=r}return t.prototype.equalsWith=function(e){return this==e||this._plotDefinition==e._plotDefinition&&e instanceof t},t.prototype.queryInterface=function(t){return this._plotDefinition.queryInterface(t)},t}();t._LegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._legendType=function(e){return t.options._isColorEncodingOption(e)?t.LegendType.Color:t.options._isShapeEncodingOption(e)?t.LegendType.Shape:t.options._isSizeEncodingOption(e)?t.LegendType.Size:t.options._isBackgroundColorEncodingOption(e)?t.LegendType.BackgroundColor:t.options._isLightnessEncodingOption(e)?t.LegendType.Lightness:null},e.prototype.queryInterface=function(t){return"ILegendEncodingDefinitionBuilder"==t?this:null},e}();t._LegendEncodingDefinitionBuilder=e}(t||(t={})),t||(t={}),function(t){t._isLegendDefinition=function(t){if(null==t)return!1;var e=t;return void 0!==e._plotDefinition&&void 0!==e._legendType&&void 0!==e._legendVisualType&&void 0!==e._label&&void 0!==e._format&&void 0!==e._legendDataModelBuilder}}(t||(t={})),function(t){t._isLegendEncodingDefinitionBuilder=function(t){return null!=t&&"function"==typeof t._buildLegendDefinition}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildFormat=function(e){if(null!=e._format)return e._format;var n=e._dataField;return t._isNumberDataField(n)?"n":null},e._legendEncodingDefinitionFormatBuilder=new e,e}(),i=function(i){function o(n,o,r,l,a,u,s){var _=i.call(this,n,o,r,l._label,s,e._legendEncodingDefinitionFormatBuilder._buildFormat(l))||this;if(null==l)throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);return _.__aggregate=a,_.__fieldDefinition=l,_.__sortDefinition=u,_}return n(o,i),o.prototype._aggregate=function(){return this.__aggregate},o.prototype._fieldDefinition=function(){return this.__fieldDefinition},o.prototype._sortDefinition=function(){return this.__sortDefinition},o.prototype.equalsWith=function(t){return this==t||t instanceof o&&(this==t||this._aggregate()==t._aggregate()&&(null!=this._sortDefinition()||null==t._sortDefinition())&&(null==this._sortDefinition()||null!=t._sortDefinition())&&!(null!=this._sortDefinition()&&null!=t._sortDefinition()&&!this._sortDefinition().equalsWith(t._sortDefinition()))&&this._fieldDefinition().equalsWith(t._fieldDefinition()))},o}(t._LegendEncodingDefinition);t._SingleDataFieldLegendEncodingDefinition=i}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._SingleDataFieldLegendEncodingDefinition);t._NumbericBaseLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a){return t.call(this,e,n,i,o,r,l,a)||this}return n(e,t),e.prototype._numberFieldDefinition=function(){return this._fieldDefinition()},e.prototype._numberFieldInfo=function(){return this._numberFieldDefinition().numberDataField()},e}(t._NumbericBaseLegendEncodingDefinition);t._NumbericLegendEncodingDefinition=e,t._isNumbericLegendEncodingDefinition=function(t){var e=t;return null!=e&&"function"==typeof e._numberFieldDefinition&&"function"==typeof e._numberFieldInfo}}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l){return e.call(this,t,n,"Default",i,o,r,l)||this}return n(i,e),i.prototype._numberFieldInfo=function(){var e=this._binFieldDefinition().binDataField().originalField();return e instanceof t._NumberDataField?e:null},i.prototype._binFieldDefinition=function(){return e.prototype._fieldDefinition.call(this)},i.prototype.equalsWith=function(t){return this==t||t instanceof i&&e.prototype.equalsWith.call(this,t)},i}(t._NumbericBaseLegendEncodingDefinition);t._BinItemizedRangeLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendDefinition=function(e,n,i,o,r){var l=this._legendType(n);if(null==l)return null;var a=l;if(l==t.LegendType.Color&&null!=n.field){var u=n,s=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(u.sort,e._dataSchema,n.field);if(null!=(p=t._BinDataFieldDefinitionBuilder._binDataFieldDefinitionBuilder._buildDataFieldDefinition(n.field,e._dataSchema,n.label))&&t._isBinDataFieldDefinition(p)){var _=p;return new t._BinItemizedRangeLegendEncodingDefinition(e,a,_,t._NativeExtension._toNonNullEnum(u.aggregate,t.Aggregate.List),s,new t.models._BinItemizedRangeLegendBuilder(i))}}else if(l==t.LegendType.Size&&null!=n.field){var p,c=n;if(s=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(c.sort,e._dataSchema,n.field),null!=(p=t._BinDataFieldDefinitionBuilder._binDataFieldDefinitionBuilder._buildDataFieldDefinition(n.field,e._dataSchema,n.label))&&t._isBinDataFieldDefinition(p))return _=p,new t._BinItemizedRangeLegendEncodingDefinition(e,a,_,t._NativeExtension._toNonNullEnum(c.aggregate,t.Aggregate.List),s,new t.models._BinItemizedRangeLegendBuilder(i))}return null},i._legendEncodingDefinitionBuilder=new i,i}(t._LegendEncodingDefinitionBuilder);t._BinItemizedRangeLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){return t.call(this,e,n,"Default",i,o,r,l)||this}return n(e,t),e.prototype._numberFieldDefinition=function(){return t.prototype._fieldDefinition.call(this)},e.prototype.equalsWith=function(n){return this==n||n instanceof e&&t.prototype.equalsWith.call(this,n)&&this._aggregate()==n._aggregate()},e}(t._NumbericLegendEncodingDefinition);t._ItemizedRangeLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendDefinition=function(e,n,i,o,r){var l=this._legendType(n);if(null==l)return null;var a=l;if(a==t.LegendType.Size&&null!=n.field){var u=n,s=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(u.sort,e._dataSchema,u.field),_=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(u.field,e._dataSchema,u.label);if(null!=_&&t._isNumberDataFieldDefinition(_))return new t._ItemizedRangeLegendEncodingDefinition(e,a,_,t._NativeExtension._toNonNullEnum(u.aggregate,t.Aggregate.List),s,new t.models._ItemizedRangeLegendBuilder(i))}return null},i._legendEncodingDefinitionBuilder=new i,i}(t._LegendEncodingDefinitionBuilder);t._ItemizedRangeLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){return t.call(this,e,n,"Default",i,o,r,l)||this}return n(e,t),e}(t._SingleDataFieldLegendEncodingDefinition);t._ItemizedSingleDataFieldLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createLegendEncodingDefinition=function(e,n,i,o,r,l,a){var u=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(r,e._dataSchema,i),s=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i,e._dataSchema,o);return null!=s?t._isNullDataField(s._dataField)?null:new t._ItemizedSingleDataFieldLegendEncodingDefinition(e,n,s,t._NativeExtension._toNonNullEnum(l,t.Aggregate.List),u,new t.models._ItemizedValueLegendBuilder(a)):null},i.prototype._buildLegendDefinition=function(e,n,i,o,r){var l=this._legendType(n);if(null==l)return null;var a=l;if(a==t.LegendType.Color&&null!=n.field){var u=n;return this._createLegendEncodingDefinition(e,a,n.field,n.label,u.sort,u.aggregate,i)}if(a==t.LegendType.Shape&&null!=n.field){var s=n;return this._createLegendEncodingDefinition(e,a,n.field,n.label,s.sort,s.aggregate,i)}if(a==t.LegendType.BackgroundColor&&null!=n.field){var _=n;return this._createLegendEncodingDefinition(e,a,n.field,n.label,_.sort,_.aggregate,i)}return null},i._legendEncodingDefinitionBuilder=new i,i}(t._LegendEncodingDefinitionBuilder);t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendDefinition=function(e,n,i,o,r){var l=this._legendType(n);if(null==l)return null;var a=l;if(a==t.LegendType.Color&&null!=n.field){var u=n,s=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(u.sort,e._dataSchema,u.field),_=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(u.field,e._dataSchema,u.label);if(null!=_&&t._isNumberDataFieldDefinition(_))return new t._NumbericLegendEncodingDefinition(e,a,"Default",_,t._NativeExtension._toNonNullEnum(u.aggregate,t.Aggregate.List),s,new t.models._NumbericLegendBuilder(i))}return null},i._legendEncodingDefinitionBuilder=new i,i}(t._LegendEncodingDefinitionBuilder);t._NumbericLegendEncodingDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t)||this;return o._excludeNulls=n,o._sortDefinition=i,o}return n(i,e),i.prototype._getExcludeNullsFilter=function(){return this._excludeNulls?t._BuildInValueFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null},i.prototype.equalsWith=function(n){if(this==n)return!0;if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isValueEncodingDefinition(n)){var i=n;return this._excludeNulls==i._excludeNulls&&t._SortDefinitionEqualityComparer._sortDefinitionEqualityComparer._equalsWith(this._sortDefinition,i._sortDefinition)}return!1},i}(t._EncodingDefinition);t._ValueEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,o,i)||this;return l.__fieldDefinition=n,l.__aggregate=r,l}return n(i,e),i.prototype._getDataFieldDefinition=function(){return this.__fieldDefinition},i.prototype._getAggregate=function(){return this.__aggregate},i.prototype._getIdentifier=function(){return this.__fieldDefinition._dataField._name},i.prototype._getLabel=function(){return this.__fieldDefinition._label},i.prototype.equalsWith=function(n){if(this==n)return!0;if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isAggregateValueEncodingDefinition(n)){var i=n;if(null!=i)return this._getDataFieldDefinition().equalsWith(i._getDataFieldDefinition())&&this._getAggregate()==i._getAggregate()}return!1},i}(t._ValueEncodingDefinition);t._AggregateValueEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(t){this.__defaultAggregate=t}return e.prototype._buildValueEncodingDefinition=function(e,n){if(null!=n&&"IFieldsValueEncodingOption"==n.type){var i=n,o=i.sort,r=t._EscapedCharacterStringUtility._split(i.field,","),l=null!=i.label?i.label.split(","):[];if(r.length>0){var a=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(r[0],e._dataSchema,l.length>0?l[0]:null);if(null!=a){var u=null!=i.aggregate?i.aggregate:this.__defaultAggregate,s=null;return null!=o&&o.length>0&&(s=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(o[0],e._dataSchema,a._dataField._name,u)),new t._AggregateValueEncodingDefinition(e,a,s,i.excludeNulls,u)}}}return null},e}();t._AggregateValueEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isAggregateValueEncodingDefinition=function(e){var n=e;return null!=n&&t._isValueEncodingDefinition(n)&&"function"==typeof n._getDataFieldDefinition&&"function"==typeof n._getAggregate}}(t||(t={})),function(t){t._isValueEncodingDefinition=function(t){var e=t;return null!=e&&void 0!==e._excludeNulls&&void 0!==e._sortDefinition}}(t||(t={})),t||(t={}),function(t){t._isXyStyleValueEncodingDefinition=function(e){var n=e;return null!=n&&t._isValueEncodingDefinition(e)&&"function"==typeof n._getXFieldEncodingDefinition}}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,o,null)||this;return r._lowerFieldDefinition=n,r._upperFieldDefinition=i,r}return n(i,e),i.prototype._getIdentifier=function(){return this._lowerFieldDefinition._dataField._name+"-"+this._upperFieldDefinition._dataField._name},i.prototype._getLabel=function(){return this._lowerFieldDefinition._label+"-"+this._upperFieldDefinition._label},i.prototype.equalsWith=function(n){if(this==n)return!0;if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isRangeValueEncodingDefinition(n)){var i=n;if(null!=i)return this._lowerFieldDefinition.equalsWith(i._lowerFieldDefinition)&&this._upperFieldDefinition.equalsWith(i._upperFieldDefinition)}return!1},i}(t._ValueEncodingDefinition);t._RangeValueEncodingDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return n(e,t),e}(t._RangeValueEncodingDefinition);t._DateRangeValueEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildValueEncodingDefinition=function(e,n){if(null!=n&&"IRangeFieldValueEncodingOption"==n.type){var i=n,o=null!=i.label?[i.label.lower,i.label.upper]:[],r=null!=i.field.lower?t._DateDataFieldDefinitionBuilder._dateDataFieldDefinitionBuilder._buildDataFieldDefinition(i.field.lower,e._dataSchema,o.length>0?o[0]:null):null,l=null!=i.field.upper?t._DateDataFieldDefinitionBuilder._dateDataFieldDefinitionBuilder._buildDataFieldDefinition(i.field.upper,e._dataSchema,o.length>1?o[1]:null):null;if(null!=r&&t._isDateDataFieldDefinition(r)&&null!=l&&t._isDateDataFieldDefinition(l)){var a=r,u=l;return new t._DateRangeValueEncodingDefinition(e,a,u,!!i.excludeNulls)}}return null},e._valueEncodingDefinitionBuilder=new e,e}();t._DateRangeValueEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isRangeValueEncodingDefinition=function(e){var n=e;return null!=n&&t._isValueEncodingDefinition(n)&&void 0!==n._lowerFieldDefinition&&void 0!==n._upperFieldDefinition}}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return n(e,t),e}(t._RangeValueEncodingDefinition);t._NumberRangeValueEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildValueEncodingDefinition=function(e,n){if(null!=n&&"IRangeFieldValueEncodingOption"==n.type){var i=n,o=null!=i.label?[i.label.lower,i.label.upper]:[],r=null!=i.field.lower?t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(i.field.lower,e._dataSchema,o.length>0?o[0]:null):null,l=null!=i.field.upper?t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(i.field.upper,e._dataSchema,o.length>1?o[1]:null):null;if(null!=r&&t._isNumberDataFieldDefinition(r)&&null!=l&&t._isNumberDataFieldDefinition(l)){var a=r,u=l;return new t._NumberRangeValueEncodingDefinition(e,a,u,!!i.excludeNulls)}}return null},e._valueEncodingDefinitionBuilder=new e,e}();t._NumberRangeValueEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isXyValueEncodingDefinition=function(e){var n=e;return null!=n&&t._isXyStyleValueEncodingDefinition(n)&&"function"==typeof n._getDataFieldDefinition&&"function"==typeof n._getAggregate}}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,r,o)||this;return l.__xFieldDefinition=n,l.__fieldDefinition=i,l}return n(i,e),i.prototype._getDataFieldDefinition=function(){return this.__fieldDefinition},i.prototype._getXFieldEncodingDefinition=function(){return this.__xFieldDefinition},i.prototype._getAggregate=function(){return t.Aggregate.List},i.prototype._getIdentifier=function(){return this.__fieldDefinition._dataField._name},i.prototype._getLabel=function(){return this.__fieldDefinition._label},i.prototype.equalsWith=function(n){if(this==n)return!0;if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isXyValueEncodingDefinition(n)){var i=n;if(null!=i)return this._getDataFieldDefinition().equalsWith(i._getDataFieldDefinition())&&this._getAggregate()==i._getAggregate()&&this._getXFieldEncodingDefinition().equalsWith(i._getXFieldEncodingDefinition())}return!1},i}(t._ValueEncodingDefinition);t._XyValueEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildValueEncodingDefinition=function(e,n){if(null!=n&&"IFieldsValueEncodingOption"==n.type){var i=n,o=i.sort,r=t._EscapedCharacterStringUtility._split(i.field,","),l=null!=i.label?i.label.split(","):[];if(r.length>1){var a=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(r[0],e._dataSchema,l.length>0?l[0]:null);if(null!=a){var u=null;null!=o&&o.length>0&&(u=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(o[0],e._dataSchema,a._dataField._name));var s=new t._XFieldEncodingDefinition(e,a,u,!!i.excludeNulls),_=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(r[1],e._dataSchema,l.length>1?l[1]:null);if(null!=_){var p=null;return null!=o&&o.length>1&&(p=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(o[1],e._dataSchema,_._dataField._name)),new t._XyValueEncodingDefinition(e,s,_,p,!!i.excludeNulls)}}}}return null},e._valueEncodingDefinitionBuilder=new e,e}();t._XyValueEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isXFieldEncodingDefinition=function(e){var n=e;return null!=n&&t._isValueEncodingDefinition(e)&&"function"==typeof n._getXDataFieldDefinition}}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,o,i)||this;return r.__fieldDefinition=n,r}return n(i,e),i.prototype._getXDataFieldDefinition=function(){return this.__fieldDefinition},i.prototype._getIdentifier=function(){return this.__fieldDefinition._dataField._name},i.prototype._getLabel=function(){return this.__fieldDefinition._label},i.prototype._getExcludeNullsFilter=function(){return null},i.prototype.equalsWith=function(n){if(this==n)return!0;if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isXFieldEncodingDefinition(n)){var i=n;if(null!=i)return this._getXDataFieldDefinition().equalsWith(i._getXDataFieldDefinition())}return!1},i}(t._ValueEncodingDefinition);t._XFieldEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._defaultBuildInEventActuatorBuilderCollection=function(){return null==i.__buildInEventActuatorBuilderCollection&&(i.__buildInEventActuatorBuilderCollection=new i([],i._pluginType)),i.__buildInEventActuatorBuilderCollection},i.prototype._convert=function(e){return t._isEventActuatorBuilder(e)?e:null},i.prototype._eventActuators=function(t,e){void 0===e&&(e=null);for(var n=[],i=0,o=this._objects(null,e);i<o.length;i++){var r=o[i].item.buildEventActuator(t);n.push(r)}return n},i._pluginType="EventActuator",i}(t._BuildInObjectCollection);t._BuildInEventActuatorBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isEventActuatorBuilder=function(t){return null!=t&&"function"==typeof t.buildEventActuator}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null),this.__imageInfoBuilder=null!=e?e:t._ImageInfoBuilder._imageInfoBuilder,this.__asyncResiurcePool=n}return e.prototype.getImageInfo=function(t){return this.__imageInfoBuilder.buildImageInfo(t,this.__asyncResiurcePool)},e}();t._ImageProvider=e}(t||(t={})),function(t){!function(t){t._isModel=function(t){return!1}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isLayoutModel=function(t){return!1}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isLoadDataSource=function(t){return null!=t&&"function"==typeof t._loadDataSources}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.compare=function(e,n){if(t._isSingleLegendDataModel(e)&&t._isSingleLegendDataModel(n)){var i=n,o=e._definition._legendType,r=i._definition._legendType;if(o==t.LegendType.Color&&r==t.LegendType.Color)return 0;if(o==t.LegendType.Color)return-1;if(r==t.LegendType.Color)return 1;if(o==t.LegendType.Overlay&&r==t.LegendType.Overlay)return 0;if(o==t.LegendType.Overlay)return-1;if(r==t.LegendType.Overlay)return 1;if(o==t.LegendType.Size&&r==t.LegendType.Size)return 0;if(o==t.LegendType.Size)return-1;if(r==t.LegendType.Size)return 1;if(o==t.LegendType.Shape&&r==t.LegendType.Shape)return 0;if(o==t.LegendType.Shape)return-1;if(r==t.LegendType.Shape)return 1}return 0},e}();t._LegendComparer=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._legendView=function(){return this._ownerView},i.prototype._getClassName=function(){return this._canScroll()?i.__className:null},i.prototype._orientation=function(){var e=this._legendView()._option.orientation;return null!=e||null!=(e=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.orientation)||(e=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.orientation),t._NativeExtension._toNonNullEnum(e,t.Orientation.Vertical)},i.prototype._canScroll=function(){return!!e.prototype._canScroll.call(this)&&this._legendView()._canScroll()},i.prototype._intersectWith=function(t){return!1},i.prototype._measure=function(e,n){return new t._RectangleViewMetricsResult(new t.core.Size(0,0))},i.prototype._getLogicSize=function(){return this._legendView()._getScrollContentSize()},i.prototype._enlarge=function(){return null},i.prototype._restore=function(){},i.prototype._hitTestContent=function(t,e,n){return null},i.__className="gcdv-content",i}(t._ScrollableView);t._LegendContentView=e}(t||(t={})),function(t){!function(t){var e=function(){function t(){this.__labels=[]}return t.prototype._addLabel=function(t){null!=t&&this.__labels.indexOf(t)<0&&this.__labels.push(t)},t.prototype._addLabelBuilder=function(t){for(var e=0,n=t.__labels;e<n.length;e++){var i=n[e];this._addLabel(i)}},t.prototype._build=function(){return this.__labels.join("-")},t}();t._LegendLabelBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.LegendTitle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._legendView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),i.prototype._legendView=function(){return this._ownerView},i.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._option.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.titleStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.titleStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._option.titleStyle),this.__style=e}return this.__style},i.prototype._textOverflow=function(){var e=this._legendView()._option.titleStyle.overflow;return null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.titleStyle.overflow),null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.titleStyle.overflow),null==e&&(e=this._legendView()._option.textStyle.overflow),null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle.overflow),null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle.overflow),null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},i.prototype._textAlignment=function(){var t=this._legendView()._option.titleStyle.alignment;return null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.titleStyle.alignment),null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.titleStyle.alignment),null==t&&(t=this._legendView()._option.textStyle.alignment),null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle.alignment),null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle.alignment),null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle.alignment),t},i.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._title(),this._textOverflow(),null,t.HAlign.Center,t.VAlign.Middle,this._style(),null,this._textAlignment())),this.__textView},i.prototype._getClassName=function(){return i.__className},i.prototype._title=function(){return this._legendView().title},i.prototype._paddings=function(){return t._PaddingUtility._buildPadding()},i.prototype._measureInnerContent=function(e,n){return this._textOverflow()==t.TextOverflow.Clip&&(n=new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE)),this._textView()._measure(e,n)},i.prototype._layoutInnerContent=function(t,e,n){this._textView()._layout(t,n,e),n._legendsLabels.push(e)},i.prototype._renderInnerContent=function(t,e,n){this._textView()._render(t,n),n._legendsLabels.push(e)},i.prototype._translate=function(t,e){var n=this._textView()._getRectangle();n.left+=t,n.top+=e},i.prototype._shape=function(){var e=this._textView()._getRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.LegendTitle);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype.queryInterface=function(t){return"IShapeModel"==t||"ILegendTitleModel"==t?this:e.prototype.queryInterface.call(this,t)},i.__className="gcdv-title",i}(t._RectangleView);t._LegendTitleView=e}(t||(t={})),function(t){var e=function(){function e(e){void 0===e&&(e=null),this.__legendViewBuilder=null==e?new t._DefaultLegendViewBuilder:e}return e.prototype.build=function(e){for(var n=[],i=new t._LegendOptionPickPolicy(e._getDefinition()._plotAreaOption.legends),o=0,r=this._plotDefinitions(e);o<r.length;o++){var l=r[o],a=new t._LegendModelBuilder(l)._build(i);null!=a&&n.push.apply(n,a)}for(var u=n,s=0,_=t._BuildInLegendMergePolicyCollection._defaultBuildInLegendMergePolicies()._legendMergePolicies(u,[],null);s<_.length;s++)u=_[s]._merge(u,i);for(var p=e._getDefinition()._plotAreaOption.plugins,c=e._getDefinition()._pluginCollection,h=0,f=u;h<f.length;h++){var d=f[h];if(t._isCombinedLegendDataModel(d)){var y=d;this._initCombinedLegend(e,y)}else{var g=t._BuildInLegendInitializerBuilderCollection._buildInLegnedInitializerBuilders()._legendInitializer(e,d,p,c);null!=g&&g._init()}}for(var m=[],v=0,w=u;v<w.length;v++){d=w[v];var b=t._BuildInLegendViewBuilderCollection._defaultBuildInLegendViewBuilders()._legendView(e,d,this.__legendViewBuilder,p,c);null!=b&&m.push(b)}return m.filter((function(t){return null!=t}))},e.prototype._initCombinedLegend=function(e,n){for(var i,o=e._getDefinition()._plotAreaOption.plugins,r=e._getDefinition()._pluginCollection,l=0,a=n._legends;l<a.length;l++){var u=a[l],s=t._BuildInLegendInitializerBuilderCollection._buildInLegnedInitializerBuilders()._legendInitializer(e,u,o,r);null!=s&&s._init()}if(t._isItemizedLegendDataModel(n))for(var _=n,p=0,c=n._legends;p<c.length;p++)if(u=c[p],t._isItemizedLegendDataModel(u)){var h=u;(i=_._items()).push.apply(i,h._items())}},e.prototype._plotDefinitions=function(t){for(var e=[],n=0,i=t._getPlotViews();n<i.length;n++){var o=i[n]._getDefinition();-1==e.indexOf(o)&&e.push(o)}return e},e}();t._LegendViewsBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){void 0===i&&(i=null),this._definition=e,this._adopter=i,this._option=null==n?new t.options._LegendOption(null):n,this._labelBuilder=new t.models._LegendLabelBuilder,this.__available=!0,this.__kind=t._LegendUtility._typeToKind(e._legendType)}return e.prototype._getDefinition=function(){return this._definition},e.prototype._visualType=function(){return this._getDefinition()._legendVisualType},e.prototype._findRelatedPlotViews=function(t){var e=this;return t._getPlotViews().filter((function(t){return t._getDefinition()==e._definition._plotDefinition}))},e.prototype._applyKind=function(t){this.__kind|=t},e.prototype._kind=function(){return this.__kind},e.prototype._getAvailable=function(){return this.__available},e.prototype._setAvailable=function(t){this.__available=t},e.prototype._refresh=function(t){},e.prototype.queryInterface=function(t){return null},e}();t._SingleLegendDataModel=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){};t._LegendRect=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t)||this;return r.__className="gcdv-legend",r._option=i,r.__titleView=r._createTitleView(),r.__legendData=n,r.__kind=o,r}return n(i,e),i.prototype._createTitleView=function(){return new t._LegendTitleView(this)},i.prototype._getDataModel=function(){return this.__legendData},i.prototype._legendsOption=function(){return t._LegendUtility._mergeOptions(this._getPlotAreaView()._getDefinition()._dvConfigOption.legend,this._getPlotAreaView()._getDefinition()._plotAreaOption.legend,this._option)},i.prototype._isVertical=function(){return this.position===t.LegendPosition.Floating?!(this._legendsOption().groupOrientation===t.Orientation.Horizontal):this.position===t.LegendPosition.Left||this.position===t.LegendPosition.Right},i.prototype._margin=function(){var e;return e=this._isVertical()?t._MarginUtility._buildMargin(0,20,0,20):t._MarginUtility._buildMargin(20,0,20,0),null!=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.margin&&(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.margin),null!=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.margin&&(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.margin),null!=this._option.margin&&(e=this._option.margin),e},i.prototype._contentHAlign=function(){return this._scrollable()?this._option.hAlign:null},i.prototype._contentVAlign=function(){return this._scrollable()?this._option.vAlign:null},Object.defineProperty(i.prototype,"position",{get:function(){return this._position()},enumerable:!1,configurable:!0}),i.prototype._ellipsize=function(){return null},i.prototype.queryInterface=function(t){return"IShapeModel"==t||"ILegendModel"==t?this:null},i.prototype._shape=function(){return new t._RectangleShape(this._getRectangle().center.x,this._getRectangle().center.y,this._getRectangle().width,this._getRectangle().height,0)},i.prototype._titlePosition=function(){var e=this._option.titlePosition;return null==e&&(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.titlePosition),null==e&&(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.titlePosition),t._NativeExtension._toNonNullEnum(e,t.Position.Top)},i.prototype._position=function(){var e=this._option.position;return null==e&&(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.position),null==e&&(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.position),t._NativeExtension._toNonNullEnum(e,t.LegendPosition.Right)},i.prototype._titleView=function(){return this.__titleView},i.prototype._contentView=function(){return null==this.__contentView&&(this.__contentView=this._createContentView()),this.__contentView},i.prototype._titleSpace=function(){return i.__titleSpace},i.prototype._paddings=function(){var e=this._option.padding;return null!=e||null!=(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.padding)||null!=(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.padding)?e:this._isVertical()?t._PaddingUtility._buildPadding(20,null,20,null):t._PaddingUtility._buildPadding(null,20,null,20)},Object.defineProperty(i.prototype,"title",{get:function(){return this._title()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"kind",{get:function(){return this.__kind},enumerable:!1,configurable:!0}),i.prototype._title=function(){return""},i.prototype._measureInnerContent=function(e,n){if(this._position()==t.LegendPosition.None)return new t._RectangleViewMetricsResult(new t.core.Size(0,0));e.beginTransform();var i=this._measureLegendTitle(e,n);switch(this.titleSize=i.clone(),n=n.clone(),this._titlePosition()){case t.Position.Left:case t.Position.Right:i.width>0&&(n.width-=i.width+this._titleSpace());break;case t.Position.Top:case t.Position.Bottom:i.height>0&&(n.height-=i.height+this._titleSpace())}var o=this._contentView()._measure(e,n);switch(this._contentLogicSize=o._size.clone(),this._titlePosition()){case t.Position.Left:case t.Position.Right:i.width>0&&(o._size.width+=i.width+this._titleSpace()),o._size.height<i.height&&(o._size.height=i.height);break;case t.Position.Top:case t.Position.Bottom:i.height>0&&(o._size.height+=i.height+this._titleSpace()),o._size.width<i.width&&(o._size.width=i.width)}return e.restoreTransform(),o},i.prototype._measureLegendTitle=function(e,n){var i=n.clone();if(this._isVertical()){var o=null,r=this._legendListView()._groupWidth();null!=this._legendListView()._groupMaxWidth()?o=Math.min(r,i.width):null!=r&&(o=r),this._titleView()._textOverflow()!=t.TextOverflow.Clip&&(i.width=null!=o?o:this._getPlotAreaView()._getRectangle().width,i=this._calculateMeasureSize(e,i,this._titleView()._textOverflow()))}return this._titleView()._measure(e,i)._size},i.prototype._calculateMeasureSize=function(t,e,n){var i=e.clone();if(null!=t.strokeWidth&&t.strokeWidth>0){var o=t.strokeWidth;i.width-=2*o,i.height-=2*o}var r=this._paddings();return null!=r&&(i.width-=r.left.value+r.right.value,i.height-=r.top.value+r.bottom.value),i},i.prototype._layoutContent=function(t,e,n){this._layoutInnerContent(t,e,n)},i.prototype._getInnerRect=function(t,n){t.beginTransform(),this._applyBorderStyle(t);var i=e.prototype._calculateInnerRectangle.call(this,t,n);return t.restoreTransform(),i},i.prototype._getParentVisiblePort=function(){return t._RectangleUtility._intersectionOfRectangle(this._legendListView()._getRectangle(),this._getPlotAreaView()._getRectangle())},i.prototype._layoutInnerContent=function(e,n,i){if(this._position()!=t.LegendPosition.None){if(e.beginTransform(),n=this._getRectangle(),n=this._getInnerRect(e,n),this._scrollable()&&(n=t._RectangleUtility._intersectionOfRectangle(this._getParentVisiblePort(),n)),n.height<=0||n.width<=0)return null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),void e.restoreTransform();var o=i._originalLegendSize,r=this._getInnerRect(e,new t.core.Rect(0,0,o.width,o.height)),l=o.clone();l.width=r.width,l.height=r.height;var a=new t.core.Rect(n.left+this._hAlignXOffset(l,n.size),n.top+this._vAlignYOffset(l,n.size),l.width,l.height),u=a.clone();a.width>n.width&&(u.left=n.left,u.width=n.width),a.height>n.height&&(u.top=n.top,u.height=n.height);var s=this._titlePosition(),_=this._titleView()._measure(e,n.size)._size;if(s==t.Position.None)_=new t.core.Size(0,0),u=new t.core.Rect(u.left,u.top,_.width,_.height);else switch(s){case t.Position.Left:u=new t.core.Rect(u.left,u.top+(u.height-_.height)/2,_.width,_.height);break;case t.Position.Right:u=new t.core.Rect(u.left+(u.width-_.width),u.top+(u.height-_.height)/2,_.width,_.height);break;case t.Position.Top:u=new t.core.Rect(u.left+(u.width-_.width)/2,u.top,_.width,_.height);break;case t.Position.Bottom:u=new t.core.Rect(u.left+(u.width-_.width)/2,u.top+(u.height-_.height),_.width,_.height)}this._titleView()._layout(e,i,u);var p=this._titleSpace();0!=u.width&&0!=u.height||(p=0);var c=a.left,h=a.top,f=n.right,d=n.bottom,y=this._contentLogicSize,g=this._paddings(),m=a.clone();switch(s){case t.Position.Left:c=u.right+p,m.width-=u.width+p;break;case t.Position.Right:f=u.left-p,m.width-=u.width+p;break;case t.Position.Top:h=u.bottom+p,m.height-=u.height+p;break;case t.Position.Bottom:d=u.top-p,m.height-=u.height+p}m.left=c,m.top=h,this._contentView()._layout(e,i,m);var v=this._getBorderStyle().strokeWidth;null==v&&(v=0),null!=g?(a.left==n.left&&s!=t.Position.Left&&(c-=g.left.value,y.width+=g.left.value),(a.width>n.width||a.width-n.width<t._Constants.Precision)&&s!=t.Position.Right&&(y.width+=g.right.value,this._scrollable()?f=Math.min(this._getParentVisiblePort().right-v,f+g.right.value):f+=g.right.value),a.top==n.top&&s!=t.Position.Top&&(h-=g.top.value,y.height+=g.top.value),(a.height>n.height||a.height-n.height<t._Constants.Precision)&&s!=t.Position.Bottom&&(y.height+=g.bottom.value,this._scrollable()?d=Math.min(this._getParentVisiblePort().bottom-v,d+g.bottom.value):d+=g.bottom.value)):((a.width>n.width||a.width-n.width<t._Constants.Precision)&&s!=t.Position.Right&&this._scrollable()&&(f=Math.min(this._getParentVisiblePort().right-v,f)),(a.height>n.height||a.height-n.height<t._Constants.Precision)&&s!=t.Position.Bottom&&this._scrollable()&&(d=Math.min(this._getParentVisiblePort().bottom-v,d))),this.__scrollSize=y.clone(),this.__scrollRect=new t.core.Rect(c,h,f-c,d-h),this._contentView()._updateRectangle(this.__scrollRect),e.restoreTransform(),null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),this._canScroll()&&(this.__scrollableContainer=new t._ScrollableContainer(this))}},i.prototype._hAlignXOffset=function(e,n){var i=n.width;n.width<e.width&&(i=e.width);var o=this._contentHAlign();if(null==o)return 0;switch(o){case t.HAlign.Center:return(i-e.width)/2;case t.HAlign.Right:return i-e.width;default:return 0}},i.prototype._vAlignYOffset=function(e,n){var i=n.height;n.height<e.height&&(i=e.height);var o=this._contentVAlign();if(null==o)return 0;switch(o){case t.VAlign.Middle:return(i-e.height)/2;case t.VAlign.Bottom:return i-e.height;default:return 0}},i.prototype._drawView=function(e,n){var i=this;e.beginTransform(),this._applyBorderStyle(e),this._applyBackgroundStyle(e);var o=this._getRectangle();if(this._scrollable()&&(o=t._RectangleUtility._intersectionOfRectangle(this._legendListView()._getRectangle(),o)),o.height<=0||o.width<=0)e.restoreTransform();else{if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var r=e.strokeWidth;e.drawRect(o.left+r/2,o.top+r/2,o.width-r,o.height-r)}var l=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height);e.drawGroup(this.__className,l,null,(function(t){var e=i._calculateInnerRectangle(t,i._getRectangle());t.restoreTransform(),i._renderInnerContent(t,e,n)}))}},i.prototype._renderInnerContent=function(e,n,i){this._position()!=t.LegendPosition.None&&(n.width<=0||n.height<=0||(e.beginTransform(),this._renderLegendTitle(e,i),this._renderLegendContent(e,i),e.restoreTransform()))},i.prototype._renderLegendTitle=function(t,e){this._titleView()._render(t,e)},i.prototype._renderLegendContent=function(t,e){},i.prototype._applyBorderStyle=function(e){t._StyleUtility._applyStyle(e,this._getBorderStyle())},i.prototype._getBorderStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(t._ViewUtility._defaultBorderStyle());return t._OptionUtility._applyLineStyleFromStyleOption(e,this._getPlotAreaView()._getDefinition()._dvConfigOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this._getPlotAreaView()._getDefinition()._plotAreaOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this._option.style),t._OptionUtility._applyLineStyleOption(e,this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.borderStyle),t._OptionUtility._applyLineStyleOption(e,this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.borderStyle),t._OptionUtility._applyLineStyleOption(e,this._option.borderStyle),e},i.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._OptionUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._dvConfigOption.backgroundColor),t._OptionUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._dvConfigOption.style.backgroundColor),t._OptionUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._plotAreaOption.backgroundColor),t._OptionUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._plotAreaOption.style.backgroundColor),t._OptionUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.style.backgroundColor),t._OptionUtility._applyFillOption(n,this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.style.backgroundColor),t._OptionUtility._applyFillOption(n,this._option.style.backgroundColor)},i.prototype._scrollable=function(){return 1===this._legendListView()._legendViews().length},i.prototype._getScrollContentSize=function(){return this.__scrollSize.clone()},i.prototype._internalParentView=function(t){this.__legendListView=t},i.prototype._canScroll=function(){if(this._scrollable()){var t=this.__scrollRect,e=this.__scrollSize;return e.width-t.width>=i.__scrollPrecision||e.height-t.height>=i.__scrollPrecision}return!1},i.prototype.dispose=function(){null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=this._titleView()._hitTest(n,i,o);return null!=l?l:(l=new t.HitTestResult(n,this,this,t.ElementType.Legend),null==o||null!=o&&o.predicate(l)?l:null)}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._legendListView=function(){return this.__legendListView},i.prototype._getPlotAreaView=function(){return this._ownerView},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Legend},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._getPlotAreaView();return t.models._isPlotAreaModel(e)?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),i.prototype._createScrollbar=function(e){var n=t._DvViewUtility._domManager(this._getPlotAreaView()._getDvView());return null==n?null:t._ScrollUtility._buildScrollbar(e,this.__scrollRect,this._contentLogicSize,n)},i.prototype._scrollTo=function(t,e){this._contentView()._scrollTo(t,e)},i.prototype._isHitTested=function(e,n){return this.__scrollRect.contains(new t.core.Point(e,n))},i.__titleSpace=10,i.__scrollPrecision=.5,i}(t._RectangleView);t._LegendView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__rectangle=t}return e.prototype.layoutHorizontal=function(e){for(var n=this.__rectangle,i=n.width,o=0,r=e;o<r.length;o++){var l=r[o];i=Math.max(l.rect.width+l.margin.left+l.margin.right,i)}for(var a=0,u=e;a<u.length;a++){var s=(l=u[a]).rect,_=l.margin,p=0,c=l.view._option.hAlign;if(null==c)p=_.left;else switch(c){case t.HAlign.Center:p=(i-s.width-_.left-_.right)/2;break;case t.HAlign.Right:p=i-s.width-_.right;break;default:p=_.left}s.left=p+n.left}},e.prototype.layoutVertical=function(e){for(var n=this.__rectangle,i=n.height,o=0,r=e;o<r.length;o++){var l=r[o];i=Math.max(l.rect.height+l.margin.top+l.margin.bottom,i)}for(var a=0,u=e;a<u.length;a++){var s=(l=u[a]).rect,_=l.margin,p=0,c=l.view._option.vAlign;if(null==c)p=_.top;else switch(c){case t.VAlign.Middle:p=(i-s.height-_.top-_.bottom)/2;break;case t.VAlign.Bottom:p=i-s.height-_.bottom;break;default:p=_.top}s.top=p+n.top}},e}();t._LegendViewLayouter=e}(t||(t={})),function(t){!function(t){var e=function(t){void 0===t&&(t=null),this._adopter=t};t._LegendDataModelBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendDataModel=function(e,n){return null!=e&&e instanceof t._BinItemizedRangeLegendEncodingDefinition?new t._RangeDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,e._legendType),this._adopter):null},i}(e._LegendDataModelBuilder),e._BinItemizedRangeLegendBuilder=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendDataModel=function(e,n){return null!=e&&e instanceof t._ItemizedRangeLegendEncodingDefinition?new t._RangeDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Size),this._adopter):null},i}(e._LegendDataModelBuilder),e._ItemizedRangeLegendBuilder=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendDataModel=function(e,n){if(null!=e&&e instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if(e._legendType==t.LegendType.Color)return new t._ValueDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color),this._adopter);if(e._legendType==t.LegendType.Shape)return new t._ValueDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Shape),this._adopter);if(e._legendType==t.LegendType.BackgroundColor)return new t._ValueDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.BackgroundColor),this._adopter)}return null},i}(e._LegendDataModelBuilder),e._ItemizedValueLegendBuilder=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendDataModel=function(e,n){if(null!=e&&e instanceof t._NumbericLegendEncodingDefinition){var i=n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color);return null!=i&&null!=i.ranges?new t._RangeDataPointItemizedLegendDataModel(e,i,this._adopter):null==i||0!=i.gradient.enabled?new t._ColorLinearPointLegendDataModel(e,i,this._adopter):new t._ValueDataPointItemizedLegendDataModel(e,i,this._adopter)}return null},i}(e._LegendDataModelBuilder),e._NumbericLegendBuilder=i}(t||(t={})),function(t){var e=function(){function e(e){this._legends=e,this._adopter=e.length>0?e[0]._adopter:null,this._option=e.length>0?e[0]._option:null,this.__items=[],this._labelBuilder=new t.models._LegendLabelBuilder,this.__kind=0;for(var n=0,i=e;n<i.length;n++){var o=i[n];this._applyKind(o._kind()),this._labelBuilder._addLabelBuilder(o._labelBuilder)}}return e.prototype._visualType=function(){return this._getDefinition()._legendVisualType},e.prototype._applyKind=function(t){this.__kind|=t},e.prototype._kind=function(){return this.__kind},e.prototype._getAvailable=function(){return!0},e.prototype._getDefinition=function(){return this._legends[0]._getDefinition()},e.prototype._items=function(){return this.__items},e.prototype._findRelatedPlotViews=function(e){for(var n=[],i=0,o=this._legends;i<o.length;i++){var r=o[i];if(t._isSingleLegendDataModel(r)){var l=r;n.push(l._definition._plotDefinition)}else if(t._isMergedLegendDataModel(r)){var a=r._definitions.map((function(t){return t._plotDefinition}));n.push.apply(n,a)}}return e._getPlotViews().filter((function(t){return n.indexOf(t._getDefinition())>=0}))},e.prototype._refresh=function(t){for(var e=0,n=this._legends;e<n.length;e++)n[e]._refresh(t)},e.prototype.queryInterface=function(t){return"IColorLegend"===t?this:null},e}();t._CombinedLegendDataModel=e}(t||(t={})),function(t){t._isCombinedLegendDataModel=function(t){return null!=t&&void 0!==t._legends}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDataPointsPolicy=function(e){return t._isSingleLegendDataModel(e)||t._isMergedLegendDataModel(e)?this:null},e.prototype._getPointViews=function(t,e){for(var n=[],i=0,o=e._findRelatedPlotViews(t);i<o.length;i++)for(var r=0,l=o[i]._getPointViews();r<l.length;r++){var a=l[r];n.push(a)}return n.sort((function(t,e){return t._data()._dataIndex-e._data()._dataIndex})),n},e.prototype.queryInterface=function(t){return"ILegendDataPointsPolicy"==t||"ILegendDataPointsPolicyBuilder"==t?this:null},e._legendDataPointsPolicy=new e,e}();t._DefaultLegendDataPointsPolicy=e}(t||(t={})),function(t){t._isLegendDataPointsPolicy=function(t){return null!=t&&"function"==typeof t._getPointViews}}(t||(t={})),function(t){t._isLegendDataPointsPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildDataPointsPolicy}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInLegendDataPointsPolicyBuilders=function(){return null==i.__buildInDataPointsPolicyBuilders&&(i.__buildInDataPointsPolicyBuilders=new i([],i._pluginType)),i.__buildInDataPointsPolicyBuilders},i.prototype._convert=function(e){return t._isLegendDataPointsPolicyBuilder(e)?e:null},i.prototype._dataPointsPolicy=function(e,n,i){for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildDataPointsPolicy(e);if(null!=l)return l}return t._DefaultLegendDataPointsPolicy._legendDataPointsPolicy},i._pluginType="Compatible",i}(t._BuildInObjectCollection);t._BuildInLegendDataPointsPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInLegendDefinitionBuilders=function(){return null==i.__buildInLegendDefinitionBuilders&&(i.__buildInLegendDefinitionBuilders=new i([t._NumbericLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder,t._BinItemizedRangeLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder,t._ItemizedSingleDataFieldLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder,t._ItemizedRangeLegendEncodingDefinitionBuilder._legendEncodingDefinitionBuilder],i._pluginType)),i.__buildInLegendDefinitionBuilders},i.prototype._convert=function(e){return t._isLegendEncodingDefinitionBuilder(e)?e:null},i.prototype._legendDefinition=function(t,e,n,i,o,r){for(var l=0,a=this._objects(o,r);l<a.length;l++){var u=a[l],s=u.item._buildLegendDefinition(t,e,i,n,u.option);if(null!=s)return s}return null},i._pluginType="LegendDefinitionBuilder",i}(t._BuildInObjectCollection);t._BuildInLegendDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return void 0===i&&(i=null),t.call(this,e,n,"Empty",null,i)||this}return n(e,t),e}(t._LegendEncodingDefinition);t._EmptyLegendDefinition=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isLegendTitleView=function(t){return null!=t&&"function"==typeof t._hitTest}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t,e,n){this._plotAreaView=t,this._legend=e,this._definition=n}return t.prototype._init=function(){this._setUp(),this._apply()},t.prototype._getLegendSymbol=function(){return this._definition._plotDefinition._legendSymbolViewBuilder._buildLegendSymbolView(this._definition._plotDefinition)},t.prototype._adopterApply=function(t){null!=this._legend._adopter&&this._legend._adopter._apply(t,this._legend)},t.prototype._getColorIterator=function(t){var e=this._definition._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},t.prototype._getColorProvider=function(){return this._definition._plotDefinition._valueColorProvider},t}();t._LegendInitializer=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._sortItemsBySorter=function(e){var n=e._getDefinition()._plotAreaOption.plugins,i=this._definition._plotDefinition._pluginCollection,o=t._BuildInLegendItemSortingPolicyBuilderCollection._defaultBuildInLegendItemSortingPolicyBuilders().itemziedLegednSorter(this._legend,this._legend._option,n,i);null!=o&&(this._legend.__items=o.sort(e,this._legend.__items,this._legend._option))},i}(t._LegendInitializer);t._ItemizedLegendInitializer=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){this._plotAreaView=t,this._mergedLegend=e,this._definitions=n}return t.prototype._init=function(){this._setUp(),this._apply()},t.prototype._getLegendSymbol=function(){return this._definitions[0]._plotDefinition._legendSymbolViewBuilder._buildLegendSymbolView(this._definitions[0]._plotDefinition)},t.prototype._adopterApply=function(t){null!=this._mergedLegend._adopter&&this._mergedLegend._adopter._apply(t,this._mergedLegend)},t.prototype._getColorIterator=function(t){var e=this._definitions[0]._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},t.prototype._getColorProvider=function(){return this._definitions[0]._plotDefinition._valueColorProvider},t}();t._MergedLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._sortItemsBySorter=function(e){var n=e._getDefinition()._plotAreaOption.plugins,i=this._definitions[0]._plotDefinition._pluginCollection,o=t._BuildInLegendItemSortingPolicyBuilderCollection._defaultBuildInLegendItemSortingPolicyBuilders().itemziedLegednSorter(this._mergedLegend,this._mergedLegend._option,n,i);null!=o&&(this._mergedLegend.__items=o.sort(e,this._mergedLegend.__items,this._mergedLegend._option))},i}(t._MergedLegendInitializer);t._MergedItemizedLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendInitializer=function(e,n){if(t._isMergedLegendDataModel(n)){if(n instanceof t._MergedRangeLegendDataModel){var i=n._definitions;return new t._MergedRangeLegendInitializer(e,n,i)}if(n instanceof t._MergedValueLegendDataModel)return i=n._definitions,new t._MergedValueLegendInitializer(e,n,i);if(n instanceof t._MergedLinearLegendDataModel)return i=n._definitions,new t._MergedLinearLegendInitializer(e,n,i)}return null},e.prototype.queryInterface=function(t){return"ILegendInitializerBuilder"==t?this:null},e}();t._MergedLegendInitializerBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._mergedLegend,e,n)._getPointViews(this._plotAreaView,this._mergedLegend),o=0,r=this._definitions;o<r.length;o++)for(var l=r[o],a=0,u=i;a<u.length;a++){var s=u[a];if(s._getPlotView()._getDefinition()==l._plotDefinition){var _=t._DataSlicesAggregate._defaultAggregate._aggregate(s._data()._dataSlices,l._fieldDefinition()._dataField,l._aggregate());null==_||isNaN(_)||((null==this._mergedLegend.__maximum||this._mergedLegend.__maximum<_)&&(this._mergedLegend.__maximum=_),(null==this._mergedLegend.__minimum||this._mergedLegend.__minimum>_)&&(this._mergedLegend.__minimum=_))}}},i.prototype._apply=function(){t._LegendUtility._isType(this._mergedLegend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._adopterApply(this._plotAreaView)},i.prototype._applyColor=function(e){var n=this._mergedLegend._option.gradient;if(0!=n.enabled){var i=[],o=n.palette;if(null!=o&&o.length>0)if(1==o.length)i=[new t._ColorStop(o[0],0),new t._ColorStop(o[0],1)];else for(var r=0;r<o.length;r++)i.push(new t._ColorStop(o[r],r/(o.length-1)));else i=[new t._ColorStop(this._getColor(e),0),new t._ColorStop(this._getColor(e),1)];this._createGradientColor(i,n)}},i.prototype._getColor=function(e){for(var n=this._getColorIterator(e),i=n._next(!0);null!=i;){if(i instanceof t._CssColor)return i.color;i=n._next(!0)}return null},i.prototype._createGradientColor=function(e,n){var i=new t._LinearAxisScale(t._YLinearAxisScalePolicy._yLinearAxisScalePolicy,null);i._setDomain([this._mergedLegend.__minimum,this._mergedLegend.__maximum]),i._setRange([0]),null!=n.unit&&i._setMajorUnit(n.unit),this._mergedLegend.__maximum=i.niceMax(),this._mergedLegend.__minimum=i.niceMin();var o=i.ticks();this._mergedLegend.__ticks=o,1==o.length?this._mergedLegend._linearScale()._updateDomain(o[0],null):o.length>1&&this._mergedLegend._linearScale()._updateDomain(o[0],o[o.length-1]),this._mergedLegend._linearScale()._updateRange(e)},i.prototype._getColorByPoint=function(e){if(t._isNumbericLegendEncodingDefinition(this._definitions[0])){var n=this._definitions[0],i=t._DataSlicesAggregate._defaultAggregate._aggregate(e._data()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=i?new t._CssColor(this._mergedLegend._linearScale()._scaleValue(i).color):null}return null},i}(t._MergedLegendInitializer);t._MergedLinearLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._buildLegendValue=function(e,n){return t._DataSlicesAggregate._defaultAggregate._aggregate(e._dataSlices,n._fieldDefinition()._dataField,n._aggregate())},i.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._mergedLegend,e,n)._getPointViews(this._plotAreaView,this._mergedLegend),o=this._definitions[0],r=o._plotDefinition,l=null,a=null,u=0,s=i;u<s.length;u++)(f=s[u])._getPlotView()._getDefinition()==r&&(null==(h=this._buildLegendValue(f._data(),o))||isNaN(h)||((null==a||isNaN(a)||a<h)&&(a=h),(null==l||isNaN(l)||l>h)&&(l=h)));for(var _=this._createItems(l,a),p=0,c=i;p<c.length;p++){var h,f=c[p];if(null!=(h=this._buildLegendValue(f._data(),o))&&!isNaN(h))for(var d=0;d<_.length;d++){var y=_[d];if(h>=y.start&&(d==_.length-1?h<=y.end:h<y.end)){var g=y._dataPointKey(),m=this._mergedLegend._dataPointKeysMap._get(g);null==m&&(m=[],this._mergedLegend._dataPointKeysMap._set(g,m)),m.push(f);break}}}var v=this._mergedLegend.__items;v.push.apply(v,_)},i.prototype._apply=function(){t._LegendUtility._isType(this._mergedLegend,t.LegendType.Size)&&this._applySize(),this._sortItems(),t._LegendUtility._isType(this._mergedLegend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},i.prototype._createItems=function(e,n){var i=this._mergedLegend._option;if(null==e||null==n)return[];var o=t._NativeExtension._toNonNullNumber(e,0),r=t._NativeExtension._toNonNullNumber(n,0);if(null!=i&&null!=i.ranges&&i.ranges.length>0)return this._createItemsByLegendRanges(o,r,i.ranges);var l=this._definitions[0];if(l instanceof t._BinItemizedRangeLegendEncodingDefinition){var a=l._binFieldDefinition().binDataField().toSteps(o,r);return this._createItemsBySteps(o,r,a)}return this._createItemsAutomatically(o,r)},i.prototype._createItemsByLegendRanges=function(t,e,n){for(var i=[],o=[],r=t,l=0,a=o=(o=o.concat(n)).sort((function(t,e){return null==t.to?1:null==e.to?-1:t.to>e.to?1:t.to<e.to?-1:0}));l<a.length;l++){var u=a[l];if(null!=u.to){if(u.to<=t)continue;if(r>e)continue;i.push(this._createItem(u.title,r,u.to)),r=u.to}else if(r<e)i.push(this._createItem(u.title,r,e)),r=e;else{if(0!=i.length)break;i.push(this._createItem(u.title,r,e)),r=e}}return r<e&&i.push(this._createItem(null,r,e)),i},i.prototype._createItemsBySteps=function(t,e,n){for(var i=[],o=Math.min(t,n[0]),r=0,l=n;r<l.length;r++){var a=l[r];a>o&&(i.push(this._createItem(null,o,a)),o=a)}return o<e&&i.push(this._createItem(null,o,e)),i},i.prototype._createItemsAutomatically=function(e,n){var i=[],o=new t._NumberTicksGenerator(e,n,!0,4)._ticks();if(o.length>0){var r=o[0];if(o.length>1)for(var l=1;l<o.length;l++){var a=o[l];i.push(this._createItem(null,r,a)),r=a}else i.push(this._createItem(null,r,r))}return i},i.prototype._createItem=function(e,n,i){var o=this._definitions[0],r=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definitions[0]._plotDefinition._pluginCollection);null==e&&(e=null!=r?r.format(o._fieldDefinition()._format,n)+"-"+r.format(o._fieldDefinition()._format,i):n.toString()+"-"+i.toString());var l=new t.models._ItemizedRangePointLegendItem(this._mergedLegend,e,n,i,r);return l._setSymbol(this._getLegendSymbol()),l},i.prototype._applySize=function(){for(var t=this._mergedLegend.__items,e=0;e<t.length;e++)t[e]._size=e+1},i.prototype._sortItems=function(){var e=this,n=this._mergedLegend.__items,i=this._definitions[0]._sortDefinition();if(null!=i){if(t._isFieldSortDefinition(i)){var o=i;n.sort((function(n,i){var r=e._mergedLegend._dataPointKeysMap._get(n._dataPointKey()),l=e._mergedLegend._dataPointKeysMap._get(i._dataPointKey());return r=null!=r?r:[],l=null!=l?l:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(r.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(l.map((function(t){return t._data()._dataSlices}))),o)}))}i._isAscending||n.reverse()}},i.prototype._applyColor=function(t){for(var e=0,n=this._mergedLegend.__items;e<n.length;e++)n[e]._updateColor(this._getColor(t))},i.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},i}(t._MergedItemizedLegendInitializer);t._MergedRangeLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._buildLegendValue=function(e,n){return t._DataSlicesAggregate._defaultAggregate._aggregate(e._dataSlices,n._fieldDefinition()._dataField,n._aggregate())},i.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._mergedLegend,e,n)._getPointViews(this._plotAreaView,this._mergedLegend),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._plotAreaView._getDefinition()._pluginCollection),r=[],l=0,a=this._definitions;l<a.length;l++)for(var u=a[l],s=0,_=i;s<_.length;s++){var p=_[s];if(p._data()._dataSlices._length>0&&p._getPlotView()._getDefinition()==u._plotDefinition){var c=this._buildLegendValue(p._data(),u),h=this._mergedLegend._dataPointKeysMap._get(c);if(null==h){h=[],this._mergedLegend._dataPointKeysMap._set(c,h);var f=null!=o?o.format(u._fieldDefinition()._format,c,null):c.toString(),d=new t.models._ItemizedValuePointLegendItem(this._mergedLegend,f,c,c,o);d._setSymbol(this._getLegendSymbol()),r.push(d)}h.push(p)}}var y=this._mergedLegend.__items;y.push.apply(y,r)},i.prototype._apply=function(){this._sortItems(),t._LegendUtility._isType(this._mergedLegend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),t._LegendUtility._isType(this._mergedLegend,t.LegendType.BackgroundColor)&&this._applyColor(this._plotAreaView),t._LegendUtility._isType(this._mergedLegend,t.LegendType.Shape)&&this._applyShape(),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},i.prototype._sortItems=function(){var e=this,n=this._definitions[0]._sortDefinition();if(null!=n){var i=this._mergedLegend.__items;if(t._isFieldSortDefinition(n)){var o=n;i.sort((function(n,i){var r=e._mergedLegend._dataPointKeysMap._get(n._dataPointKey()),l=e._mergedLegend._dataPointKeysMap._get(i._dataPointKey());return r=null!=r?r:[],l=null!=l?l:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(r.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(l.map((function(t){return t._data()._dataSlices}))),o)}))}else i.sort((function(e,n){return e.value==n.value?0:null==e.value?1:null==n.value?-1:e.value instanceof Date&&n.value instanceof Date?e.value.valueOf()-n.value.valueOf():"number"==typeof e.value&&"number"==typeof n.value?e.value-n.value:"string"==typeof e.value&&"string"==typeof n.value?e.value.toLowerCase().localeCompare(n.value.toLowerCase()):"boolean"==typeof e.value&&"boolean"==typeof n.value?t._DataValueTypeExtension._toBool(e.value)?-1:1:0}));n._isAscending||i.reverse()}},i.prototype._applyColor=function(t){for(var e=0,n=this._mergedLegend.__items;e<n.length;e++){var i=n[e],o=this._getColorProvider()._colorWithValue(i.key);null!=o?i._updateColor(o):i._updateColor(this._getColor(t))}},i.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},i.prototype._applyShape=function(){for(var e=0,n=this._mergedLegend.__items;e<n.length;e++){var i=n[e],o=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinitionWithValue(this._definitions[0]._plotDefinition._getSymbolDefinitionProviderList(),i.key);i._shape=null!=o?o.type:this._getShape()}this._resetShape()},i.prototype._getShape=function(){return this._getSymbolDefinitionIterator().next(!0).type},i.prototype._resetShape=function(){this._getSymbolDefinitionIterator().reset()},i.prototype._getSymbolDefinitionIterator=function(){if(null==this._mergedLegend.__symbolDefinitionIterator)for(var e=0,n=this._definitions[0]._plotDefinition._getSymbolDefinitionProviderList();e<n.length;e++){var i=n[e];if(i.symbolDefinitions.length>0){this._mergedLegend.__symbolDefinitionIterator=new t.models.SymbolDefinitionIterator(i);break}}return this._mergedLegend.__symbolDefinitionIterator},i}(t._MergedItemizedLegendInitializer);t._MergedValueLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInLegnedInitializerBuilders=function(){return null==i.__buildInLegendInitializerBuilders&&(i.__buildInLegendInitializerBuilders=new i([new t._LegendInitializerBuilder,new t._MergedLegendInitializerBuilder],i._pluginType)),i.__buildInLegendInitializerBuilders},i.prototype._convert=function(e){return t._isLegendInitializerBuilder(e)?e:null},i.prototype._legendInitializer=function(t,e,n,i){for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildLegendInitializer(t,e);if(null!=l)return l}return null},i._pluginType="LegendInitializerBuilder",i}(t._BuildInObjectCollection);t._BuildInLegendInitializerBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isLegendInitializerBuilder=function(t){return null!=t&&"function"==typeof t._buildLegendInitializer}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendInitializer=function(e,n){if(t._isSingleLegendDataModel(n)){var i=n,o=i._definition;if(i instanceof t._RangeDataPointItemizedLegendDataModel&&o instanceof t._NumbericBaseLegendEncodingDefinition)return new t._RangeLegendInitializer(e,i,o);if(i instanceof t._ValueDataPointItemizedLegendDataModel&&o instanceof t._SingleDataFieldLegendEncodingDefinition)return new t._ValueLegendInitializer(e,i,o);if(i instanceof t._ColorLinearPointLegendDataModel&&o instanceof t._NumbericLegendEncodingDefinition)return new t._LinearLegendInitializer(e,i,o);if(i instanceof t._OverlayItemizedLegendDataModel)return new t._OverlayLegendInitializer(e,i,o)}return null},e.prototype.queryInterface=function(t){return"ILegendInitializerBuilder"==t?this:null},e}();t._LegendInitializerBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=0,o=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,e,n)._getPointViews(this._plotAreaView,this._legend);i<o.length;i++){var r=o[i],l=t._DataSlicesAggregate._defaultAggregate._aggregate(r._data()._dataSlices,this._definition._fieldDefinition()._dataField,this._definition._aggregate());null==l||isNaN(l)||((null==this._legend.__maximum||this._legend.__maximum<l)&&(this._legend.__maximum=l),(null==this._legend.__minimum||this._legend.__minimum>l)&&(this._legend.__minimum=l))}},i.prototype._apply=function(){t._LegendUtility._isType(this._legend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._adopterApply(this._plotAreaView)},i.prototype._applyColor=function(e){var n=this._legend._option.gradient;if(0!=n.enabled){var i=[],o=n.palette;if(null!=o&&o.length>0)if(1==o.length)i=[new t._ColorStop(o[0],0),new t._ColorStop(o[0],1)];else for(var r=0;r<o.length;r++)i.push(new t._ColorStop(o[r],r/(o.length-1)));else i=[new t._ColorStop(this._getColor(e),0),new t._ColorStop(this._getColor(e),1)];this._createGradientColor(i,n)}},i.prototype._getColor=function(e){for(var n=this._getColorIterator(e),i=n._next(!0);null!=i;){if(i instanceof t._CssColor)return i.color;i=n._next(!0)}return null},i.prototype._createGradientColor=function(e,n){var i=new t._LinearAxisScale(t._YLinearAxisScalePolicy._yLinearAxisScalePolicy,null);i._setDomain([this._legend.__minimum,this._legend.__maximum]),i._setRange([0]),null!=n.unit&&i._setMajorUnit(n.unit),this._legend.__maximum=i.niceMax(),this._legend.__minimum=i.niceMin();var o=i.ticks();this._legend.__ticks=o,1==o.length?this._legend.__linearScale._updateDomain(o[0],null):o.length>1&&this._legend.__linearScale._updateDomain(o[0],o[o.length-1]),this._legend.__linearScale._updateRange(e)},i}(t._LegendInitializer);t._LinearLegendInitializer=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype._setUp=function(){},e.prototype._apply=function(){for(var t=0,e=this._legend._findRelatedPlotViews(this._plotAreaView);t<e.length;t++)for(var n=0,i=e[t]._getOverlayViews();n<i.length;n++){var o=i[n];this._initializeStyle(o)}this._createItem(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView)},e.prototype._initializeStyle=function(t){t._initializeStyle()},e.prototype._createItem=function(t){for(var e=0,n=this._legend._findRelatedPlotViews(this._plotAreaView);e<n.length;e++)for(var i=0,o=n[e]._getOverlayViews();i<o.length;i++){var r=o[i],l=r.queryInterface("IOverlayLegendItemsBuilder");if(null!=l){var a=l.buildLegendItemDataModels(this._legend,r);if(null!=a&&a.length>0){var u=this._legend.__items;u.push.apply(u,a)}}}},e}(t._ItemizedLegendInitializer);t._OverlayLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._buildLegendValue=function(e,n){return t._DataSlicesAggregate._defaultAggregate._aggregate(e._dataSlices,n._fieldDefinition()._dataField,n._aggregate())},i.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,e,n)._getPointViews(this._plotAreaView,this._legend),o=null,r=null,l=0,a=i;l<a.length;l++){var u=a[l];null==(c=this._buildLegendValue(u._data(),this._definition))||isNaN(c)||((null==r||isNaN(r)||r<c)&&(r=c),(null==o||isNaN(o)||o>c)&&(o=c))}for(var s=this._createItems(o,r),_=0,p=i;_<p.length;_++){var c;if(u=p[_],null!=(c=this._buildLegendValue(u._data(),this._definition))&&!isNaN(c))for(var h=0;h<s.length;h++){var f=s[h];if(c>=f.start&&(h==s.length-1?c<=f.end:c<f.end)){var d=f._dataPointKey(),y=this._legend._dataPointKeysMap._get(d);null==y&&(y=[],this._legend._dataPointKeysMap._set(d,y)),y.push(u);break}}}var g=this._legend.__items;g.push.apply(g,s)},i.prototype._apply=function(){t._LegendUtility._isType(this._legend,t.LegendType.Size)&&this._applySize(),this._sortItems(),t._LegendUtility._isType(this._legend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},i.prototype._createItems=function(e,n){var i=this._legend._option;if(null==e||null==n)return[];var o=t._NativeExtension._toNonNullNumber(e,0),r=t._NativeExtension._toNonNullNumber(n,0);if(null!=i&&null!=i.ranges&&i.ranges.length>0)return this._createItemsByLegendRanges(o,r,i.ranges);if(this._definition instanceof t._BinItemizedRangeLegendEncodingDefinition){var l=this._definition._binFieldDefinition().binDataField().toSteps(o,r);return this._createItemsBySteps(o,r,l)}return this._createItemsAutomatically(o,r)},i.prototype._createItemsByLegendRanges=function(t,e,n){for(var i=[],o=[],r=t,l=0,a=o=(o=o.concat(n)).sort((function(t,e){return null==t.to?1:null==e.to?-1:t.to>e.to?1:t.to<e.to?-1:0}));l<a.length;l++){var u=a[l];if(null!=u.to){if(u.to<=t)continue;if(r>e)continue;i.push(this._createItem(u.title,r,u.to)),r=u.to}else if(r<e)i.push(this._createItem(u.title,r,e)),r=e;else{if(0!=i.length)break;i.push(this._createItem(u.title,r,e)),r=e}}return r<e&&i.push(this._createItem(null,r,e)),i},i.prototype._createItemsBySteps=function(t,e,n){for(var i=[],o=Math.min(t,n[0]),r=0,l=n;r<l.length;r++){var a=l[r];a>o&&(i.push(this._createItem(null,o,a)),o=a)}return o<e&&i.push(this._createItem(null,o,e)),i},i.prototype._createItemsAutomatically=function(e,n){var i=[],o=new t._NumberTicksGenerator(e,n,!0,4)._ticks();if(o.length>0){var r=o[0];if(o.length>1)for(var l=1;l<o.length;l++){var a=o[l];i.push(this._createItem(null,r,a)),r=a}else i.push(this._createItem(null,r,r))}return i},i.prototype._createItem=function(e,n,i){var o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._plotDefinition._pluginCollection);null==e&&(e=null!=o?o.format(this._definition._fieldDefinition()._format,n)+"-"+o.format(this._definition._fieldDefinition()._format,i):n.toString()+"-"+i.toString());var r=new t.models._ItemizedRangePointLegendItem(this._legend,e,n,i,o);return r._setSymbol(this._getLegendSymbol()),r},i.prototype._applySize=function(){for(var t=this._legend.__items,e=0;e<t.length;e++)t[e]._size=e+1},i.prototype._sortItems=function(){var e=this,n=this._legend.__items,i=this._definition._sortDefinition();if(null!=i){if(t._isFieldSortDefinition(i)){var o=i;n.sort((function(n,i){var r=n,l=i,a=e._legend._dataPointKeysMap._get(r._dataPointKey()),u=e._legend._dataPointKeysMap._get(l._dataPointKey());return a=null!=a?a:[],u=null!=u?u:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(a.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(u.map((function(t){return t._data()._dataSlices}))),o)}))}i._isAscending||n.reverse()}},i.prototype._applyColor=function(t){for(var e=0,n=this._legend.__items;e<n.length;e++)n[e]._updateColor(this._getColor(t))},i.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},i}(t._ItemizedLegendInitializer);t._RangeLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._buildLegendValue=function(e,n){return t._DataSlicesAggregate._defaultAggregate._aggregate(e._dataSlices,n._fieldDefinition()._dataField,n._aggregate())},i.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,e,n)._getPointViews(this._plotAreaView,this._legend),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._plotAreaView._getDefinition()._pluginCollection),r=[],l=0,a=i;l<a.length;l++){var u=a[l];if(u._data()._dataSlices._length>0){var s=this._buildLegendValue(u._data(),this._definition),_=this._legend._dataPointKeysMap._get(s);if(null==_){_=[],this._legend._dataPointKeysMap._set(s,_);var p=null!=o?o.format(this._definition._fieldDefinition()._format,s,null):s.toString(),c=new t.models._ItemizedValuePointLegendItem(this._legend,p,s,s,o);c._setSymbol(this._getLegendSymbol()),r.push(c)}_.push(u)}}var h=this._legend.__items;h.push.apply(h,r)},i.prototype._apply=function(){this._sortItems(),t._LegendUtility._isType(this._legend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),t._LegendUtility._isType(this._legend,t.LegendType.BackgroundColor)&&this._applyColor(this._plotAreaView),t._LegendUtility._isType(this._legend,t.LegendType.Shape)&&this._applyShape(),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},i.prototype._sortItems=function(){var e=this,n=this._definition._sortDefinition();if(null!=n){var i=this._legend.__items;if(t._isFieldSortDefinition(n)){var o=n;i.sort((function(n,i){var r=n,l=i,a=e._legend._dataPointKeysMap._get(r._dataPointKey()),u=e._legend._dataPointKeysMap._get(l._dataPointKey());return a=null!=a?a:[],u=null!=u?u:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(a.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(u.map((function(t){return t._data()._dataSlices}))),o)}))}else i.sort((function(e,n){var i=e,o=n;return i.value==o.value?0:null==i.value?1:null==o.value?-1:i.value instanceof Date&&o.value instanceof Date?i.value.valueOf()-o.value.valueOf():"number"==typeof i.value&&"number"==typeof o.value?i.value-o.value:"string"==typeof i.value&&"string"==typeof o.value?i.value.toLowerCase().localeCompare(o.value.toLowerCase()):"boolean"==typeof i.value&&"boolean"==typeof o.value?t._DataValueTypeExtension._toBool(i.value)?-1:1:0}));n._isAscending||i.reverse()}},i.prototype._applyColor=function(t){for(var e=0,n=this._legend.__items;e<n.length;e++){var i=n[e],o=this._getColorProvider()._colorWithValue(i.key);null!=o?i._updateColor(o):i._updateColor(this._getColor(t))}},i.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},i.prototype._applyShape=function(){for(var e=0,n=this._legend.__items;e<n.length;e++){var i=n[e],o=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinitionWithValue(this._definition._plotDefinition._getSymbolDefinitionProviderList(),i.key);i._shape=null!=o?o.type:this._getShape()}this._resetShape()},i.prototype._getShape=function(){return this._getSymbolDefinitionIterator().next(!0).type},i.prototype._resetShape=function(){this._getSymbolDefinitionIterator().reset()},i.prototype._getSymbolDefinitionIterator=function(){if(null==this._legend.__symbolDefinitionIterator)for(var e=0,n=this._definition._plotDefinition._getSymbolDefinitionProviderList();e<n.length;e++){var i=n[e];if(i.symbolDefinitions.length>0){this._legend.__symbolDefinitionIterator=new t.models.SymbolDefinitionIterator(i);break}}return this._legend.__symbolDefinitionIterator},i}(t._ItemizedLegendInitializer);t._ValueLegendInitializer=e}(t||(t={})),function(t){!function(t){t._isColorLegend=function(t){return null!=t&&"function"==typeof t._getColorIterator}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),t||(t={}),function(t){!function(t){t._isLegendModelBuilder=function(t){return null!=t&&"function"==typeof t._build}}(t.models||(t.models={}))}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function t(t){this.mergeOptions=[],this._normalLegendOptions=[];for(var e=0,n=t;e<n.length;e++){var i=n[e];null==i.merge?this._normalLegendOptions.push(i):this.mergeOptions.push(i)}}return t.prototype._getOption=function(t,e){var n=this._findFirstInMerge(t,e);return null==n&&(n=this._findFirstInNormal(e)),n},t.prototype._findFirstInMerge=function(t,e){for(var n=0,i=this.mergeOptions;n<i.length;n++)for(var o=i[n],r=0,l=o.merge;r<l.length;r++){var a=l[r];if(t===a.plotName&&a.type===e)return o}return null},t.prototype._findFirstInNormal=function(t){for(var e=0;e<this._normalLegendOptions.length;++e)if(this._normalLegendOptions[e].type==t)return this._normalLegendOptions.splice(e,1)[0];return null},t}();t._LegendOptionPickPolicy=e}(t||(t={})),function(t){t._isSingleLegendDataModel=function(t){return null!=t&&void 0!==t._definition}}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===i&&(i=null);var o=e.call(this,t)||this;return o.__legendItemViews=o._createItemViews(n,i),o}return n(i,e),i.prototype._init=function(t){},i.prototype.calcInnerContentSize=function(){return null},i.prototype._itemizedLegendView=function(){return this._ownerView},i.prototype._legendItemViews=function(){return this.__legendItemViews},i.prototype._layoutedLegendItemViews=function(){return this._legendItemViews()},i.prototype._intersectWith=function(t){var e=this._layoutedLegendItemViews();if(null==e)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o._isVisible()){var r=o._rectangle();if(r.contains(t.leftTop)||r.contains(t.leftBottom)||r.contains(t.rightTop)||r.contains(t.rightBottom))return!0}}return!1},i.prototype._renderInnerContent=function(t,n,i){e.prototype._renderInnerContent.call(this,t,n,i);var o=this._layoutedLegendItemViews();if(null!=o)for(var r=0,l=o;r<l.length;r++){var a=l[r];a._isVisible()&&a._render(t,i)}},i.prototype._hitTestContent=function(t,n,i){var o=this._layoutedLegendItemViews();if(null!=o)for(var r=0,l=o;r<l.length;r++){var a=l[r];if(a._isVisible()){var u=a._hitTest(t,n,i);if(null!=u)return u}}return e.prototype._hitTestContent.call(this,t,n,i)},i.prototype._createItemViews=function(e,n){if(t._isCombinedLegendDataModel(e)){for(var i=[],o=0,r=e._legends;o<r.length;o++){var l=r[o];if(t._isItemizedLegendDataModel(l)&&l._getAvailable()){var a=l;i.push.apply(i,this._createItemViews(a,n))}}return i}for(var u=[],s=0,_=e._items();s<_.length;s++){var p=_[s],c=this._createItemView(p);null!=c&&u.push(c)}null!=n&&(u=n.sort(u));for(var h=e._option.items,f=0;f<u.length;++f){var d=null;f<h.length&&(d=h[f]),u[f]._initWithOption(d)}return u},i.prototype._createItemView=function(e){return new t._LegendItemView(this,e)},i}(t._LegendContentView);t._ItemizedLegendContentView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i)||this;return o.__context=new t.LegendItemLayoutContext,o}return n(i,e),i.prototype._layoutedLegendItemViews=function(){return this.__layoutedItemsView},i.prototype._init=function(t){this.__columns=null,this.__rows=null;var e=this.__context;e.rows=null,e.cols=null},i.prototype._initColum=function(e){var n=this._itemizedLegendView()._titlePosition();this._itemizedLegendView()._hasTittle()||(n=t.Position.None);var i=this._orientation()!==t.Orientation.Horizontal&&(this._itemizedLegendView()._labelPosition()===t.Position.Top||this._itemizedLegendView()._labelPosition()===t.Position.Bottom),o=new t.LegendItemLayoutColumns(i,n),r=new t.LegendItemLayoutColumn(o);o.push(r);for(var l=0,a=e;l<a.length;l++){var u=a[l],s=u.itemSize;i||(s=new t.core.Size(u.itemSize.width-u.symbolSize.width,u.itemSize.height));var _=new t._LegendItemLayoutRect(s,u);r.push(_)}return o},i.prototype._initRow=function(e){var n=this._itemizedLegendView()._titlePosition();this._itemizedLegendView()._hasTittle()||(n=t.Position.None);var i=this._orientation()===t.Orientation.Horizontal&&(this._itemizedLegendView()._labelPosition()===t.Position.Right||this._itemizedLegendView()._labelPosition()===t.Position.Left),o=new t.LegendItemLayoutRows(i,n),r=new t.LegendItemLayoutRow(o);o.push(r);for(var l=0,a=e;l<a.length;l++){var u=a[l],s=u.itemSize;i||(s=new t.core.Size(u.itemSize.width,u.itemSize.height-u.symbolSize.height));var _=new t._LegendItemLayoutRect(s,u);r.push(_)}return o},i.prototype._enlarge=function(){if(!this._itemizedLegendView()._wrapping())return e.prototype._enlarge.call(this);if(this._itemizedLegendView()._isVertical()){if(this._orientation()===t.Orientation.Horizontal)return null;var n=this.__columns.height,i=this.__columns.width;this.__context.cols=this.__columns.copy(this.__columns.list),this.__columns.enlarge();var o=n-this.__columns.height;return this.__columns.height<this._itemizedLegendView().titleSize.height&&(this._itemizedLegendView()._titlePosition()===t.Position.Right||this._itemizedLegendView()._titlePosition()===t.Position.Left)&&(o=n-this._itemizedLegendView().titleSize.height),this._itemizedLegendView().size.width+=this.__columns.width-i,o<=0?null:new t.core.Size(this._itemizedLegendView().size.width,o)}return this._orientation()===t.Orientation.Horizontal?(n=this.__rows.height,i=this.__rows.width,this.__context.rows=this.__rows.copy(this.__rows.list),this.__rows.enlarge(),o=i-this.__rows.width,this.__rows.width<this._itemizedLegendView().titleSize.width&&(this._itemizedLegendView()._titlePosition()===t.Position.Top||this._itemizedLegendView()._titlePosition()===t.Position.Bottom)&&(o=i-this._itemizedLegendView().titleSize.width),this._itemizedLegendView().size.height+=this.__rows.height-n,o<=0?null:new t.core.Size(o,this._itemizedLegendView().size.height)):null},i.prototype._restore=function(){if(this._itemizedLegendView()._isVertical()){if(this._orientation()!==t.Orientation.Horizontal&&null!=this.__context.cols){var e=this.__columns.width;this.__columns.list=this.__context.cols,this.__columns.onColumChange(),this._itemizedLegendView().size.width+=this.__columns.width-e}}else if(this._orientation()===t.Orientation.Horizontal&&null!=this.__context.rows){var n=this.__rows.height;this.__rows.list=this.__context.rows,this.__rows.onRowChange(),this._itemizedLegendView().size.height+=this.__rows.height-n}},i.prototype.calcInnerContentSize=function(){return this._orientation()==t.Orientation.Horizontal?new t.core.Size(this.__rows.width,this.__rows.height):new t.core.Size(this.__columns.width,this.__columns.height)},i.prototype._measure=function(e,n){var i=null;if(this._itemizedLegendView()._isVertical()){var o=this._itemizedLegendView()._legendListView()._groupWidth();null!=this._itemizedLegendView()._legendListView()._groupMaxWidth()?i=Math.min(o,n.width):null!=o&&(i=o)}for(var r=new t.core.Size(0,0),l=[],a=0,u=this._legendItemViews();a<u.length;a++){var s=u[a];if(s._isVisible()){l.push(s);var _=new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE);s._textOverflow()!=t.TextOverflow.Clip&&((_=n.clone()).width=null!=i?i:this._itemizedLegendView()._getPlotAreaView()._getRectangle().width,_=this._itemizedLegendView()._calculateMeasureSize(e,_,s._textOverflow())),s._measure(e,_)}}return this.__layoutedItemsView=l,this._orientation()==t.Orientation.Horizontal?(null==this.__rows&&(this.__rows=this._initRow(l)),r.width=this.__rows.width,r.height=this.__rows.height,new t._RectangleViewMetricsResult(r)):(null==this.__columns&&(this.__columns=this._initColum(l)),r.width=this.__columns.width,r.height=this.__columns.height,new t._RectangleViewMetricsResult(r))},i.prototype._layoutInnerContent=function(n,i,o){e.prototype._layoutInnerContent.call(this,n,i,o);var r=i.left,l=i.top;if(this._orientation()==t.Orientation.Horizontal){if(null!=this.__rows)for(var a=0,u=this.__rows.list;a<u.length;a++){var s=u[a];o._legendSymbolSize=new t.core.Size(0,s.maxSymbolHeight);for(var _=r,p=0,c=s.items;p<c.length;p++){var h=c[p],f=s.margin(h);h.view._layout(n,new t.core.Rect(_+f.left,l+f.top,h.width,s._height()-f.top-f.bottom),o),_+=h.width+f.left+f.right}l+=s._height()}}else if(null!=this.__columns)for(var d=0,y=this.__columns.list;d<y.length;d++){var g=y[d];o._legendSymbolSize=new t.core.Size(g.maxSymbolWidth,0);for(var m=l,v=0,w=g.items;v<w.length;v++)h=w[v],f=g.margin(h),h.view._layout(n,new t.core.Rect(r+f.left,m+f.top,g._width()-f.left-f.right,h.height),o),m+=h.height+f.top+f.bottom;r+=g._width()}o._legendSymbolSize=null},i}(t._ItemizedLegendContentView);t._DefaultItemizedLegendContentView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){void 0===i&&(i=null);var o=t.call(this,e,n,i)||this;return o.__items=[],o}return n(e,t),e.prototype._items=function(){return this.__items},e}(t._SingleLegendDataModel);t._ItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this._legend=t,this.__title=e,this._stringFormatting=n,this.__filtered=!1}return Object.defineProperty(e.prototype,"_filtered",{get:function(){return this.__filtered},set:function(t){this.__filtered!=t&&(this.__filtered=t)},enumerable:!1,configurable:!0}),e.prototype._getLegendItemLabelViewBuilder=function(){return t._LegendItemLabelViewBuilder._legendItemLabelViewBuilder()},e.prototype._getSymbol=function(){return null==this.__symbol&&(this.__symbol=new t._LegendSymbolView),this.__symbol},e.prototype._setSymbol=function(t){this.__symbol=t},e.prototype._relatedPlotDefinition=function(t){return[]},e.prototype._title=function(){return this.__title},e.prototype._getOption=function(){return this.__option},e.prototype._setOption=function(t){this.__option=t},e.prototype._color=function(){return this.__color},e.prototype._updateColor=function(t){this.__color!=t&&(this.__color=t)},e.prototype._labelFormat=function(){return this._legend._getDefinition()._format},e.prototype._applyOption=function(t){null==t||(this.__option=t,null==t.text)?this.__title=this._generateTitle(this):this.__title=t.text},e.prototype._generateTitle=function(e){var n=this._getTemplate(e),i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.models._ItemizedLegendItemTextProxy(e,e._labelFormat(),this._stringFormatting),l=this._legend._getDefinition()._plotDefinition._pluginCollection,a=i.evaluate(o,r,null,l);return null!=a?this._parseText(a):this._title()},e.prototype._parseText=function(e){for(var n="",i=0,o=t.models.StringObject._parse(e);i<o.length;i++)n+=o[i].value;return n},e.prototype._getTemplate=function(t){var e=t._legend._option;return null!=e&&null!=e.template?e.template:"{value}"},e.prototype.queryInterface=function(t){return null},e}();t._ItemizedLegendItemDataModel=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i){void 0===i&&(i=null),this._item=e,this.__format=n,this._stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._legend._getDefinition()._plotDefinition._pluginCollection)}return n.prototype.getTokenValue=function(t,n,i){if(void 0===i&&(i=null),null==t)return null;if("value"==t){var o=this._item._title();if(null!=o)return new e._DataValueInfo(o,this._stringFormatting)}return null},n.prototype._getDefaultFormat=function(t){return this.__format},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this._stringFormatting},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t?this:null},n}(),e._ItemizedLegendItemTextProxy=n}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this,t)||this;return n.__hover=!1,n}return n(i,e),i.prototype._onHoverChanged=function(){this._textView()._updateHover(this._isHover())},i.prototype._legendItemView=function(){return this._ownerView},i.prototype._resetTextView=function(){this.__textView=null},i.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this.text,this._textOverflow(),this._paddings(),t.HAlign.Left,t.VAlign.Middle,this._style(),this._hoverStyle(),this._textAlignment())),this.__textView},i.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(e,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendItemView()._legendView()._option.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendItemView()._textStyle()),this.__style=e}return this.__style},i.prototype._hoverStyle=function(){return null==this.__hoverStyle&&(this.__hoverStyle=t._StyleUtility._buildStyle(),t._OptionUtility._applyTextStyleOption(this.__hoverStyle,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.hoverStyle),t._OptionUtility._applyTextStyleOption(this.__hoverStyle,this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.hoverStyle),t._OptionUtility._applyTextStyleOption(this.__hoverStyle,this._legendItemView()._legendView()._option.hoverStyle)),this.__hoverStyle},i.prototype._textAlignment=function(){var t=this._legendItemView()._legendView()._option.textStyle.alignment;return null==t&&(t=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle.alignment),null==t&&(t=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle.alignment),null==t&&(t=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle.alignment),t},i.prototype._shape=function(){var e=this._textView()._getRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},i.prototype._paddings=function(){return t._PaddingUtility._buildPadding()},i.prototype._measureInnerContent=function(t,e){var n=this._textView();return n._externalStyle=this._getTextExternalStyle(this._legendItemView()),n._measure(t,e)},i.prototype._getTextExternalStyle=function(t){return t._data._filtered?t._getFilteredOutLabelStyle():null},i.prototype._layoutInnerContent=function(t,e,n){this._textView()._layout(t,n,e),n._legendsLabels.push(e)},i.prototype._renderInnerContent=function(t,e,n){this._textView()._render(t,n),n._legendsLabels.push(e)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=null,l=this._textView()._getRectangle();return null!=l&&l.contains(n)?(r=new t.HitTestResult(n,this,this,t.ElementType.LegendItemLabel),null==o||null!=o&&o.predicate(r)?r:null):e.prototype._hitTest.call(this,n,i,o)},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.LegendItemLabel},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._legendItemView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._legendItemView().title},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),i.prototype._textOverflow=function(){var e=this._legendItemView()._legendView()._option.textStyle.overflow;return null==e&&(e=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle.overflow),null==e&&(e=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle.overflow),null==e&&(e=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t,this._onHoverChanged())},i.prototype.queryInterface=function(t){return"IShapeModel"==t||"ILegendItemLabelModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._RectangleView);t._LegendItemLabelView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._legendItemLabelViewBuilder=function(){return null==e.__legendItemLabelViewBuilder&&(e.__legendItemLabelViewBuilder=new e),e.__legendItemLabelViewBuilder},e.prototype._buildLegendItemLabelView=function(e){return new t._LegendItemLabelView(e)},e}();t._LegendItemLabelViewBuilder=e}(t||(t={})),function(t){var e=function(e){function o(n,o){var r=e.call(this,n)||this;return r.__selected=!1,r.__hover=!1,r.__rectangle=t.core.Rect.ReadOnlyRect,r._data=o,r.__labelView=o._getLegendItemLabelViewBuilder()._buildLegendItemLabelView(r),r.__symbolView=new i(r),r}return n(o,e),o.prototype._onHoverChanged=function(){this.__labelView._updateHover(this._isHover())},Object.defineProperty(o.prototype,"type",{get:function(){return t.ElementType.LegendItem},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){return this._legendView()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"title",{get:function(){return this._data._title()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this._data._size},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){return this._data._color()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shape",{get:function(){return this._data._shape},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"label",{get:function(){return this._labelView()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"symbol",{get:function(){return this._symbolView()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"selected",{get:function(){return this._isSelected()},set:function(t){this._updateSelected(t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hover",{get:function(){return this._isHover()},set:function(t){this._updateHover(t)},enumerable:!1,configurable:!0}),o.prototype.relatedModels=function(){var e=this._data;return e instanceof t._ItemizedPointLegendItemDataModel?e._getRelatedPointViews(this._legendView()._getPlotAreaView()):[]},o.prototype._isSelected=function(){return this.__selected},o.prototype._updateSelected=function(t){this.__selected!=t&&(this.__selected=t)},o.prototype._isHover=function(){return this.__hover},o.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t,this._onHoverChanged())},Object.defineProperty(o.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),o.prototype.queryInterface=function(t){return"IShapeModel"==t||"ILegendItemModel"==t||"ILegendItemView"==t?this:e.prototype.queryInterface.call(this,t)},o.prototype._setFilteredOutLabelStyleByOption=function(e){null!=e&&(null==this.__filteredOutLabelStyle&&(this.__filteredOutLabelStyle=t._StyleUtility._buildStyle()),t._OptionUtility._applyTextStyleOption(this.__filteredOutLabelStyle,e))},o.prototype._getFilteredOutLabelStyle=function(){return this._data._filtered?this.__filteredOutLabelStyle:null},Object.defineProperty(o.prototype,"_filteredOutSymbolStyle",{get:function(){return this.__filteredOutSymbolStyle},set:function(t){this.__filteredOutSymbolStyle=t},enumerable:!1,configurable:!0}),o.prototype._rectangle=function(){return this.__rectangle},o.prototype._symbolRectangle=function(){return this.__symbolRectangle},o.prototype._initWithOption=function(t){this._data._applyOption(t)},o.prototype._textStyle=function(){return null!=this._data._getOption()?this._data._getOption().textStyle:null},o.prototype._legendView=function(){return this._ownerView._itemizedLegendView()},o.prototype._itemMargin=function(){var e=this._itemPaddingOption();return null==e?null:new t._Margin(e.left.value,e.top.value,e.right.value,e.bottom.value)},o.prototype._itemPaddingOption=function(){var t=this._data._legend._option.itemPadding;if(null!=t)return t;var e=this._legendView()._getPlotAreaView();return null!=(t=e._getDefinition()._plotAreaOption.legend.itemPadding)||null!=(t=e._getDefinition()._dvConfigOption.legend.itemPadding)?t:null},o.prototype._textOverflow=function(){return this._labelView()._textOverflow()},o.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=null,l=this._rectangle();if(null!=l&&l.contains(n)){var a=this._labelView();if(null!=a&&null!=(r=a._hitTest(n,i,o)))return r;var u=this._symbolView();return null!=u&&null!=(r=u._hitTest(n,i,o))?r:(r=new t.HitTestResult(n,this,this,t.ElementType.LegendItem),null==o||null!=o&&o.predicate(r)?r:null)}return e.prototype._hitTest.call(this,n,i,o)},o.prototype._measure=function(e,n){e.beginTransform(),this._setDefaultFilteredOutStyle(e),n=n.clone();var i=this._paddings();null!=i&&(n.width-=i.left.value+i.right.value,n.height-=i.top.value+i.bottom.value);var o=new t.core.Size(0,0),r=new t.core.Size(0,0);this._data._getSymbol()._bindLegendItem(this);var l=this._measureSymbolModuleSize(e),a=this._calculateSymbolSize(e,l);if(this._textOverflow()==t.TextOverflow.Clip)r=this._measureLabelSize(this.__labelView,e,n);else{var u=n.clone();this._legendView()._labelPosition()!=t.Position.Left&&this._legendView()._labelPosition()!=t.Position.Right||(u.width-=a.width+this._itemSpace()),r=this._measureLabelSize(this.__labelView,e,u)}switch(0==r.width&&0==r.height&&(r.height=l.height),this._legendView()._labelPosition()){case t.Position.Left:case t.Position.Right:o.width+=r.width+a.width+this._itemSpace(),o.height+=a.height>r.height?a.height:r.height;break;case t.Position.Top:case t.Position.Bottom:o.width+=r.width>a.width?r.width:a.width,o.height+=a.height+r.height+this._itemSpace()}return o.width+=i.left.value+i.right.value,o.height+=i.top.value+i.bottom.value,o.width>n.width&&(o.width=n.width),o.height>n.height&&(o.height=n.height),e.restoreTransform(),this.itemSize=o.clone(),this.symbolSize=a.clone(),new t._RectangleViewMetricsResult(o)},o.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},o.prototype._updateRectangle=function(t){this.__rectangle=t},o.prototype._shape=function(){return new t._RectangleShape(this.__rectangle.center.x,this.__rectangle.center.y,this.__rectangle.width,this.__rectangle.height,0)},o.prototype._getClassName=function(){return t._CssClassName._label},o.prototype._labelView=function(){return this.__labelView},o.prototype._symbolView=function(){return this.__symbolView},o.prototype._paddings=function(){return t._PaddingUtility._buildPadding(0,0,0,0)},o.prototype._getLegendItemLabelStyle=function(){return null==this.__legendItemLabelStyle&&(this.__legendItemLabelStyle=t._StyleUtility._buildStyle(),t._OptionUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._legendView()._option.textStyle),t._OptionUtility._applyTextStyleOption(this.__legendItemLabelStyle,this._textStyle())),this.__legendItemLabelStyle},o.prototype._getLegendItemLabelHoverStyle=function(){return this._isHover()?(null==this.__legendItemLabelHoverStyle&&(this.__legendItemLabelHoverStyle=t._StyleUtility._buildStyle(),t._OptionUtility._applyTextStyleOption(this.__legendItemLabelHoverStyle,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.hoverStyle),t._OptionUtility._applyTextStyleOption(this.__legendItemLabelHoverStyle,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.hoverStyle),t._OptionUtility._applyTextStyleOption(this.__legendItemLabelHoverStyle,this._legendView()._option.hoverStyle)),this.__legendItemLabelHoverStyle):null},o.prototype._itemSpace=function(){return null!=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.itemSpace?this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.itemSpace.value:null!=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.itemSpace?this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.itemSpace.value:null!=this._data._legend._option.itemSpace?this._data._legend._option.itemSpace.value:2},o.prototype._measureSymbolModuleSize=function(e){e.beginTransform(),this._applyLegendItemLabelStyle(e);var n=e.measureSingleLineString("A");e.restoreTransform();var i=Math.max(n.width,n.height);return new t.core.Size(i,i)},o.prototype._measureLabelSize=function(t,e,n){e.beginTransform(),this._applyLegendItemLabelStyle(e);var i=t._measure(e,n)._size;return e.restoreTransform(),i},o.prototype._layoutContent=function(e,n,i){e.beginTransform();var o=this._paddings(),r=n.clone();null!=o&&(r=new t.core.Rect(n.left+o.left.value,n.top+o.top.value,n.width-o.left.value-o.right.value,n.height-o.top.value-o.bottom.value));var l=new t.core.Size(0,0),a=this._measureSymbolModuleSize(e),u=this.symbolSize;if(this._textOverflow()==t.TextOverflow.Clip)l=this._measureLabelSize(this.__labelView,e,r.size);else{var s=r.clone();this._legendView()._labelPosition()!=t.Position.Left&&this._legendView()._labelPosition()!=t.Position.Right||(s.width-=u.width+this._itemSpace()),l=this._measureLabelSize(this.__labelView,e,s.size)}0==l.width&&0==l.height&&(l.height=a.height);var _=i._legendSymbolSize;switch(this._legendView()._labelPosition()){case t.Position.Left:var p=Math.max(l.height,u.height);this._ownerView._orientation()==t.Orientation.Horizontal?p=r.height:null!=_&&(u.width=_.width),this.__symbolRectangle=new t.core.Rect(r.right-u.width,r.top+(p-u.height)/2,u.width,u.height),this._layoutLabelView(e,i,new t.core.Rect(r.left,r.top+(p-l.height)/2,l.width,l.height)),this._updateRectangle(new t.core.Rect(n.left,n.top,n.width,p+o.top.value+o.bottom.value));break;case t.Position.Right:p=Math.max(l.height,u.height),this._ownerView._orientation()==t.Orientation.Horizontal?p=r.height:null!=_&&(u.width=_.width),this.__symbolRectangle=new t.core.Rect(r.left,r.top+(p-u.height)/2,u.width,u.height),this._layoutLabelView(e,i,new t.core.Rect(r.left+u.width+this._itemSpace(),r.top+(p-l.height)/2,l.width,l.height)),this._updateRectangle(new t.core.Rect(n.left,n.top,n.width,p+o.top.value+o.bottom.value));break;case t.Position.Top:var c=Math.max(l.width,u.width);this._ownerView._orientation()==t.Orientation.Horizontal?null!=_&&(u.height=_.height):c=r.width,this.__symbolRectangle=new t.core.Rect(r.left+(c-u.width)/2,r.top+l.height+this._itemSpace(),u.width,u.height),this._layoutLabelView(e,i,new t.core.Rect(r.left+(c-l.width)/2,r.top,l.width,l.height)),this._updateRectangle(new t.core.Rect(n.left,n.top,c+o.left.value+o.right.value,u.height+l.height+this._itemSpace()+o.top.value+o.bottom.value));break;case t.Position.Bottom:c=Math.max(l.width,u.width),this._ownerView._orientation()==t.Orientation.Horizontal?null!=_&&(u.height=_.height):c=r.width,this.__symbolRectangle=new t.core.Rect(r.left+(c-u.width)/2,r.top,u.width,u.height),this._layoutLabelView(e,i,new t.core.Rect(r.left+(c-l.width)/2,r.top+u.height+this._itemSpace(),l.width,l.height)),this._updateRectangle(new t.core.Rect(n.left,n.top,c+o.left.value+o.right.value,u.height+l.height+this._itemSpace()+o.top.value+o.bottom.value))}e.restoreTransform()},o.prototype._layoutLabelView=function(t,e,n){t.beginTransform(),this._applyLegendItemLabelStyle(t),this.__labelView._layout(t,e,n),t.restoreTransform()},o.prototype._drawView=function(t,e){t.beginTransform(),this._renderLabelView(t,e),this._renderSymbolView(t,e),t.restoreTransform()},o.prototype._renderLabelView=function(t,e){t.beginTransform(),this._applyLegendItemLabelStyle(t),this.__labelView._render(t,e),t.restoreTransform()},o.prototype._renderSymbolView=function(t,e){var n=this._data._getSymbol();null!=n&&n.render(t,this._symbolRectangle(),e)},o.prototype._setDefaultFilteredOutStyle=function(e){if(this._data._filtered&&null==this.__filteredOutLabelStyle){this.__filteredOutLabelStyle=t._StyleUtility._buildStyle();var n=this._getLegendItemLabelStyle(),i=null==n.textFill?e.textFill:n.textFill,o=t._ColorUtility._toStringColor(i,.5);null!=o&&(this.__filteredOutLabelStyle.textFill=o)}},o.prototype._applyLegendItemLabelStyle=function(e){t._StyleUtility._applyAllStyle(e,this._getLegendItemLabelStyle()),t._StyleUtility._applyAllStyle(e,this._getFilteredOutLabelStyle()),t._StyleUtility._applyAllStyle(e,this._getLegendItemLabelHoverStyle())},o.prototype._calculateSymbolSize=function(e,n){var i=16;return null!=this._data._size&&this._data._getSymbol()._showSymbol()?this._data._getSymbol()._measureSymbolSize(e,this._data._size):n.height>0?(i=.7*n.height,new t.core.Size(Math.max(2*i,16),i)):new t.core.Size(i,i)},o}(t._BaseView);t._LegendItemView=e;var i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.LegendItemSymbol},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._legendItemView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),i.prototype._legendItemView=function(){return this._ownerView},i.prototype._shape=function(){var e=this._legendItemView()._symbolRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=null,l=this._legendItemView()._symbolRectangle();return null!=l&&l.contains(n)?(r=new t.HitTestResult(n,this,this,t.ElementType.LegendItemSymbol),null==o||null!=o&&o.predicate(r)?r:null):e.prototype._hitTest.call(this,n,i,o)},i.prototype.queryInterface=function(t){return"IShapeModel"==t||"ILegendItemSymbolModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._RectangleView)}(t||(t={})),function(t){var e=function(e){function i(n,i,o){void 0===o&&(o=null);var r=e.call(this,n,i,o)||this;return r._labelBuilder._addLabel(n._label),r._dataPointKeysMap=new t._Map,r}return n(i,e),i.prototype._getColorIterator=function(t){var e=this._definition._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},i.prototype.queryInterface=function(n){return"IColorLegend"===n&&t._LegendUtility._isType(this,t.LegendType.Color)?this:e.prototype.queryInterface.call(this,n)},i}(t._ItemizedLegendDataModel);t._DataPointItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._relatedPlotDefinition=function(t){for(var e=[],n=0,i=this._getRelatedPointViews(t);n<i.length;n++){var o=i[n]._getPlotView()._getDefinition();-1==e.indexOf(o)&&e.push(o)}return e},i.prototype._getRelatedPointViews=function(e){var n=this._legend;if(t._isDataPointItemizedLegendDataModel(n)){var i=n._dataPointKeysMap._get(this._dataPointKey());if(null!=i)return i}return[]},i}(t._ItemizedLegendItemDataModel);t._ItemizedPointLegendItemDataModel=e}(t||(t={})),function(t){t._isDataPointItemizedLegendDataModel=function(t){return null!=t&&void 0!==t._dataPointKeysMap}}(t||(t={})),function(t){t._isItemizedPointLegendItemDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._dataPointKey&&"function"==typeof e._getRelatedPointViews}}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,e,n,o,r){var l=i.call(this,t,e,r)||this;return l.__start=n,l.__end=o,l}return n(o,i),Object.defineProperty(o.prototype,"start",{get:function(){return this.__start},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"end",{get:function(){return this.__end},enumerable:!1,configurable:!0}),o.prototype._dataPointKey=function(){return o._generateKey(this.start,this.end)},o.prototype._generateTitle=function(n){var i=n,o=this._legend._option;if(null!=o&&null!=o.ranges)return this._title();var r=this._getTemplate(i),l=t._TemplateSyntaxEngine._defaultSyntaxEngine(),a=l.parse(r),u=new e._ItemizedRangePointLegendItemTextProxy(i,i._labelFormat(),this._stringFormatting),s=n._legend._getDefinition()._plotDefinition._pluginCollection,_=l.evaluate(a,u,null,s);return null!=_?this._parseText(_):this._title()},o.prototype._getTemplate=function(t){var e=t._legend._option;return null!=e&&null!=e.template?e.template:"{from}-{to}"},o._generateKey=function(t,e){return"range"+t.toString()+"-"+e.toString()},o}(t._ItemizedPointLegendItemDataModel),e._ItemizedRangePointLegendItem=i}(t||(t={})),function(t){!function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._itemizedRangePointLegendItem=function(){return this._item},i.prototype.getTokenValue=function(e,n,i){return void 0===i&&(i=null),null==e?null:"from"===e?new t._DataValueInfo(this._itemizedRangePointLegendItem().start,this._stringFormatting):"to"===e?new t._DataValueInfo(this._itemizedRangePointLegendItem().end,this._stringFormatting):null},i}(t._ItemizedLegendItemTextProxy);t._ItemizedRangePointLegendItemTextProxy=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return void 0===i&&(i=null),t.call(this,e,n,i)||this}return n(e,t),e}(t._DataPointItemizedLegendDataModel);t._RangeDataPointItemizedLegendDataModel=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,e,n,o,r){var l=i.call(this,t,e,r)||this;return l.key=n,l.value=o,l}return n(o,i),o.prototype._generateTitle=function(n){var i=n,o=this._getTemplate(i),r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new e._ItemizedValuePointLegendItemTextProxy(i,i._labelFormat(),this._stringFormatting),u=n._legend._getDefinition()._plotDefinition._pluginCollection,s=r.evaluate(l,a,null,u);return null!=s?this._parseText(s):this._title()},o.prototype._getRelatedPointViews=function(t){return i.prototype._getRelatedPointViews.call(this,t).filter((function(t){return t._data()._dataSlices._length>0}))},o.prototype._dataPointKey=function(){return o._generateKey(this.key)},o._generateKey=function(t){return t},o}(t._ItemizedPointLegendItemDataModel),e._ItemizedValuePointLegendItem=i}(t||(t={})),function(t){!function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._itemizedValuePointLegendItem=function(){return this._item},i.prototype.getTokenValue=function(e,n,i){if(void 0===i&&(i=null),null==e)return null;if("value"===e){var o=this._itemizedValuePointLegendItem().value;if(null!=o)return new t._DataValueInfo(o,this._stringFormatting)}return null},i}(t._ItemizedLegendItemTextProxy);t._ItemizedValuePointLegendItemTextProxy=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return void 0===i&&(i=null),t.call(this,e,n,i)||this}return n(e,t),e}(t._DataPointItemizedLegendDataModel);t._ValueDataPointItemizedLegendDataModel=e}(t||(t={})),function(t){t._isValueLegendItemDataModel=function(t){var e=t;return null!=e&&void 0!==e.key&&void 0!==e.value}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isItemizedLegendDataModel=function(t){return"function"==typeof t._items}}(t||(t={})),t||(t={}),function(t){t._isItmizedLegendViewSorter=function(t){return null!=t&&"function"==typeof t.sort}}(t||(t={})),t||(t={}),function(t){t._isLegendItemLabelView=function(t){return null!=t&&"function"==typeof t._textOverflow}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n,n._option,n._kind())||this;return i.__data=n,i}return n(i,e),i.prototype._titleSpace=function(){return 0},i.prototype._measure=function(t,n){var i=e.prototype._measure.call(this,t,n);return this.size=i._size,i},Object.defineProperty(i.prototype,"items",{get:function(){return this._defaultItemizedLegendContentView()._legendItemViews()},enumerable:!1,configurable:!0}),i.prototype._labelPosition=function(){var e=this._option.labelPosition;return null==e&&(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.labelPosition),t._NativeExtension._toNonNullEnum(e,t.Position.Right)},i.prototype._iconColor=function(){var e=this._option.style.iconColor;return null!=e||null!=(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.style.iconColor)||null!=(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.style.iconColor)?t._OptionUtility._colorFromOption(e):null},i.prototype._wrapping=function(){var t=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.wrapping;return null!=t?t:null==(t=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.wrapping)||t},i.prototype._title=function(){var e=null!=this._option?t._AnyTypeUtility._toStringOrNull(this._option.title):null;return null==e?this._data()._labelBuilder._build():e},i.prototype._data=function(){return this.__data},i.prototype._hasTittle=function(){return null!=this.title&&this.title.length>0},i.prototype._defaultItemizedLegendContentView=function(){return this._contentView()},i.prototype._createContentView=function(){return new t._DefaultItemizedLegendContentView(this,this._data())},i.prototype._layoutInnerContent=function(t,n,i){this._contentLogicSize=this._defaultItemizedLegendContentView().calcInnerContentSize(),e.prototype._layoutInnerContent.call(this,t,n,i)},i.prototype._renderLegendContent=function(t,e){this._contentView()._render(t,e)},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=this._getRectangle();if(null!=o&&o.contains(t)){var r=this._titleView()._hitTest(t,n,i);if(null!=r)return r;if(null!=(r=this._contentView()._hitTest(t,n,i)))return r}return e.prototype._hitTest.call(this,t,n,i)},i.prototype.queryInterface=function(t){return"IItemizedLegendModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._LegendView);t._ItemizedLegendView=e}(t||(t={})),function(t){var e=function(t,e){this.width=t.width,this.height=t.height,t.width<0&&(this.width=0),t.height<0&&(this.height=0),this.view=e};t._LegendItemLayoutRect=e}(t||(t={})),function(t){var e=function(){function t(){this.items=[],this.width=0,this.height=0}return t.prototype._itemMargin=function(t){return t.view._itemMargin()},t}();t.LegendItemLayoutBar=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.maxSymbolWidth=0,n.parent=t,n}return n(i,e),i.prototype.margin=function(e){var n=this._itemMargin(e);if(null==n){n=new t._Margin(10,10,0,0);var i=this.parent.titlePosition,o=this.parent.list;i==t.Position.Right&&o[o.length-1]==this&&(n.right=10),i==t.Position.Bottom&&this.items[this.items.length-1]==e&&(n.bottom=10),i==t.Position.Left&&o[0]==this&&(n.left=10),i==t.Position.Top&&this.items[0]==e&&(n.top=10),i!=t.Position.Left&&o[0]==this&&(n.left=0),i!=t.Position.Top&&this.items[0]==e&&(n.top=0)}return n},i.prototype._h=function(){for(var t=0,e=0,n=this.items;e<n.length;e++){var i=n[e],o=this.margin(i);t+=i.height+o.top+o.bottom}return t},i.prototype._w=function(){for(var t=0,e=0,n=0,i=this.items;n<i.length;n++){var o=i[n],r=this.margin(o);(e=o.width+r.left+r.right)>t&&(t=e)}return t},i.prototype._symbolWidth=function(){for(var t=0,e=0,n=0,i=this.items;n<i.length;n++)(e=i[n].view.symbolSize.width)>t&&(t=e);return t},i.prototype._react=function(){this.width=this._w(),this.height=this._h(),this.maxSymbolWidth=this._symbolWidth()},i.prototype._clone=function(){var t=new i(this.parent);return t.items=this.items.slice(0),t.width=this.width,t.height=this.height,t.maxSymbolWidth=this.maxSymbolWidth,t},i.prototype.insert=function(t){this.items.splice(0,0,t),this._react(),this.parent.onColumChange()},i.prototype.push=function(t){this.items.push(t),this._react(),this.parent.onColumChange()},i.prototype.pop=function(){var t=this;if(null!=t&&t.items.length>0){var e=t.items.pop();return this._react(),this.parent.onColumChange(),e}return null},i.prototype._width=function(){return this.parent.symbolContained?this.width:this.width+this.maxSymbolWidth},i}(t.LegendItemLayoutBar);t.LegendItemLayoutColumn=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.list=[],this.width=0,this.height=0,this.symbolContained=t,this.titlePosition=e}return e.prototype.push=function(t){0===this.list.length?this.width=t._width():this.width+=t._width(),t.height>this.height&&(this.height=t.height,this.index=this.list.length),this.list.push(t)},e.prototype.onColumChange=function(){this.height=0,this.width=0;for(var t=0;t<this.list.length;++t){var e=this.list[t];e.height>this.height&&(this.height=e.height,this.index=t),this.width+=e._width()}},e.prototype.copy=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n];e.push(o._clone())}return e},e.prototype.enlarge=function(){if(null!=this.index){for(var t=this.height,e=this.list.length,n=this.list,i=this.copy(n),o=!1;;){this.height<t&&(i=this.copy(n));for(var r=0;r<n.length;++r)if(1===n[r].items.length&&n[r].height===this.height)return void(this.list=i);if(t=this.height,this._adjust(this.index,this.height),o&&this.list.length>e+1)break;!o&&this.list.length>e&&this.height<t&&(o=!0)}this.list=i,this.onColumChange()}},e.prototype._adjust=function(e,n){var i=this.list;if(!(i[e].height<n)){i.length===e+1?i.push(new t.LegendItemLayoutColumn(this)):null==i[e+1]&&(i[e+1]=new t.LegendItemLayoutColumn(this));var o=i[e],r=i[e+1],l=o.pop();r.insert(l),this._adjust(e+1,n)}},e}();t.LegendItemLayoutColumns=e}(t||(t={})),function(t){var e=function(){};t.LegendItemLayoutContext=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.maxSymbolHeight=0,n.parent=t,n}return n(i,e),i.prototype.margin=function(e){var n=this._itemMargin(e);if(null==n){n=new t._Margin(10,10,0,0);var i=this.parent.titlePosition,o=this.parent.list;i==t.Position.Right&&this.items[this.items.length-1]==e&&(n.right=10),i==t.Position.Bottom&&o[o.length-1]==this&&(n.bottom=10),i==t.Position.Left&&this.items[0]==e&&(n.left=10),i==t.Position.Top&&o[0]==this&&(n.top=10),i!=t.Position.Top&&o[0]==this&&(n.top=0),i!=t.Position.Left&&this.items[0]==e&&(n.left=0)}return n},i.prototype._h=function(){for(var t=0,e=0,n=0,i=this.items;n<i.length;n++){var o=i[n],r=this.margin(o);(e=o.height+r.top+r.bottom)>t&&(t=e)}return t},i.prototype._w=function(){for(var t=0,e=0,n=this.items;e<n.length;e++){var i=n[e],o=this.margin(i);t+=i.width+o.left+o.right}return t},i.prototype._symbolHeight=function(){for(var t=0,e=0,n=0,i=this.items;n<i.length;n++)(e=i[n].view.symbolSize.height)>t&&(t=e);return t},i.prototype._clone=function(){var t=new i(this.parent);return t.items=this.items.slice(0),t.width=this.width,t.height=this.height,t.maxSymbolHeight=this.maxSymbolHeight,t},i.prototype._react=function(){this.width=this._w(),this.height=this._h(),this.maxSymbolHeight=this._symbolHeight()},i.prototype.insert=function(t){this.items.splice(0,0,t),this._react(),this.parent.onRowChange()},i.prototype.push=function(t){this.items.push(t),this._react(),this.parent.onRowChange()},i.prototype.pop=function(){var t=this;if(null!=t&&t.items.length>0){var e=t.items.pop();return this._react(),this.parent.onRowChange(),e}return null},i.prototype._height=function(){return this.parent.symbolContained?this.height:this.height+this.maxSymbolHeight},i}(t.LegendItemLayoutBar);t.LegendItemLayoutRow=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.list=[],this.width=0,this.height=0,this.symbolContained=!1,this.symbolContained=t,this.titlePosition=e}return e.prototype.push=function(t){this.height=t._height(),t.width>this.width&&(this.width=t.width,this.index=this.list.length),this.list.push(t)},e.prototype.onRowChange=function(){this.height=0,this.width=0;for(var t=0;t<this.list.length;++t){var e=this.list[t];e.width>this.width&&(this.width=e.width,this.index=t),this.height+=e._height()}},e.prototype.copy=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n];e.push(o._clone())}return e},e.prototype.enlarge=function(){if(null!=this.index){for(var t=this.width,e=this.list.length,n=this.list,i=this.copy(n),o=!1;;){this.width<t&&(i=this.copy(n));for(var r=0;r<n.length;++r)if(1===n[r].items.length&&n[r].width===this.width)return void(this.list=i);if(t=this.width,this._adjust(this.index,this.width),o&&this.list.length>e+1)break;!o&&this.list.length>e&&this.width<t&&(o=!0)}this.list=i,this.onRowChange()}},e.prototype._adjust=function(e,n){var i=this.list;if(!(i[e].width<n)){i.length===e+1?i.push(new t.LegendItemLayoutRow(this)):null==i[e+1]&&(i[e+1]=new t.LegendItemLayoutRow(this));var o=i[e],r=i[e+1],l=o.pop();r.insert(l),this._adjust(e+1,n)}},e}();t.LegendItemLayoutRows=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i,o){var r=e.call(this,t,n(),o)||this;return r._setSymbol(i),r.__getter=n,r}return n(i,e),i.prototype._applyOption=function(t){null!=t&&null!=t.text&&(this.__optionLabel=t.text),e.prototype._applyOption.call(this,t)},i.prototype._title=function(){return null!=this.__optionLabel?this.__optionLabel:this.__getter()},i.prototype._getLegendItemLabelViewBuilder=function(){return t._OverlayLegendItemLabelViewBuilder._legendItemLabelViewBuilder()},i}(t._ItemizedLegendItemDataModel),e._ItemizedOverlayLegendItem=i}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._measureInnerContent=function(t,e){return this._resetTextView(),this._textView()._measure(t,e)},e}(t._LegendItemLabelView);t._OverlayLegendItemLabelView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._legendItemLabelViewBuilder=function(){return null==e.__legendItemLabelViewBuilder&&(e.__legendItemLabelViewBuilder=new e),e.__legendItemLabelViewBuilder},e.prototype._buildLegendItemLabelView=function(e){return new t._OverlayLegendItemLabelView(e)},e}();t._OverlayLegendItemLabelViewBuilder=e}(t||(t={})),function(t){t._isLegendOverlayDefinition=function(t){return null!=t._legendOverlayDefinition}}(t||(t={})),function(t){var e=function(){function t(t,e){this._plotDefinition=t,this._legendType=e,this._legendVisualType="Default",this._label=null,this._format=null,this._legendDataModelBuilder=null}return t.prototype.equalsWith=function(t){return!1},t.prototype.queryInterface=function(t){return null},t}();t._LegendOverlayDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._ItemizedLegendDataModel);t._OverlayItemizedLegendDataModel=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInLegendItemSortingPolicyBuilders=function(){return null==i.__buildInLegendItemSortingPolicyBuilders&&(i.__buildInLegendItemSortingPolicyBuilders=new i([t._RangeLegendItemSortingPolicy._defaultLegendItemSortingPolicy,t._DefaultLegendItemSortingPolicy._defaultLegendItemSortingPolicy],i._pluginType)),i.__buildInLegendItemSortingPolicyBuilders},i.prototype._convert=function(e){return t._isILegendItemSortingPolicyBuilder(e)?e:null},i.prototype.itemziedLegednSorter=function(e,n,i,o){void 0===o&&(o=null);for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item.build(e,n);if(null!=a)return a}return t._DefaultLegendItemSortingPolicy._defaultLegendItemSortingPolicy},i._pluginType="LegendItemSortingPolicy",i}(t._BuildInObjectCollection);t._BuildInLegendItemSortingPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._sortOrder=function(e){return e instanceof t.options._LegendOption?e.sortOrder:t.SortOrder.None},e.prototype.build=function(e,n){return t._isItemizedLegendDataModel(e)?this:null},e.prototype.sort=function(e,n,i){switch(this._sortOrder(i)){case t.SortOrder.Reversed:n.reverse();break;case t.SortOrder.Ascending:n.sort((function(t,e){var n=null==t._title()?"":t._title(),i=null==e._title()?"":e._title();return n.localeCompare(i)}));break;case t.SortOrder.Descending:n.sort((function(t,e){var n=null==t._title()?"":t._title();return(null==e._title()?"":e._title()).localeCompare(n)}))}return n},e.prototype.queryInterface=function(t){return"ILegendItemSortingPolicy"==t?this:null},e._defaultLegendItemSortingPolicy=new e,e}();t._DefaultLegendItemSortingPolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._sortOrder=function(e){return e instanceof t.options._LegendOption?e.sortOrder:t.SortOrder.None},e.prototype.build=function(e,n){return e instanceof t._RangeDataPointItemizedLegendDataModel||e instanceof t._MergedRangeLegendDataModel?this:null},e.prototype.sort=function(e,n,i){switch(this._sortOrder(i)){case t.SortOrder.Reversed:case t.SortOrder.Descending:n.reverse()}return n},e.prototype.queryInterface=function(t){return"ILegendItemSortingPolicy"==t?this:null},e._defaultLegendItemSortingPolicy=new e,e}();t._RangeLegendItemSortingPolicy=e}(t||(t={})),function(t){t._isLegendItemSortingPolicy=function(t){return null!=t&&"function"==typeof t.sort}}(t||(t={})),function(t){t._isILegendItemSortingPolicyBuilder=function(t){return null!=t.build}}(t||(t={})),function(t){t._isLegendItemSortingPolicyBuilder=function(t){return null!=t&&"function"==typeof t.build}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null),this._colorBuilder=null!=e?e:t._DefaultLegendSymbolColorBuilder._defaultLegendSymbolColorBuilder(),this._styleBuilder=null!=n?n:t._DefaultLegendSymbolStyleBuilder._defaultLegendSymbolStyleBuilder()}return e.prototype._showSymbol=function(){return!0},e.prototype._legendItemView=function(){return this.__legendItemView},e.prototype._getPlotDefinition=function(){return this.__plotDefinition},e.prototype._setPlotDefinition=function(t){this.__plotDefinition=t},e.prototype._bindLegendItem=function(e){this.__legendItemView=e,this._shape=e._data._shape,this._size=e._data._size;var n=t.options._SelectionStyleOption._buildEmptySelectionStyleOption();t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(n,e._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.selectedStyle),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(n,e._legendView()._data()._getDefinition()._plotDefinition._plotConfigOption.selectedStyle),this._setSelectedStyle(n);var i=t.options._SelectionStyleOption._buildEmptySelectionStyleOption();t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(i,e._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.unselectedStyle),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(i,e._legendView()._data()._getDefinition()._plotDefinition._plotConfigOption.unselectedStyle),this._setUnselectedStyle(i),this._setDataPointStyleOption(this._calculateStyle()),this._applyOther()},e.prototype._measureSymbolSize=function(e,n){var i=10,o=this._calculateStyle();null!=o&&null!=o.symbolSize&&(i=o.symbolSize);var r=t._LegendUtility._getRelatedPointViewsStyle(this._legendItemView()._data._getSymbol());null!=r&&null!=r.symbolSize&&(i=r.symbolSize);var l=n*i;return new t.core.Size(Math.max(1.2*l,16),l)},e.prototype._getDataPointStyleOption=function(){return this.__style},e.prototype._setDataPointStyleOption=function(t){this.__style=t},e.prototype._getSelectedStyle=function(){return this.__selectedStyle},e.prototype._setSelectedStyle=function(t){this.__selectedStyle=t},e.prototype._getUnselectedStyle=function(){return this.__unselectedStyle},e.prototype._setUnselectedStyle=function(t){this.__unselectedStyle=t},e.prototype._applyOther=function(){},e.prototype._calculateStyle=function(){var e=t.options._DataPointStyleOption._buildEmptyDataPointStyleOption(),n=this._legendItemView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.style;if(null==e.stroke&&(e.stroke=n.stroke),null==e.strokeWidth&&null!=n.strokeWidth){var i=n.strokeWidth;e.strokeWidth=t._StrokeWidthUtility._buildStrokeWidth(i,i,i,i)}null==e.strokeDasharray&&(e.strokeDasharray=n.strokeDasharray);var o=null;return null!=this._getPlotDefinition()&&(o=this._getPlotDefinition()._plotConfigOption.style,t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(e,o)),e},e.prototype.render=function(e,n,i){var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!0),r=this._legendItemView()._data,l=t._isValueLegendItemDataModel(r)?r.value:null,a=this._getStyleSymbolShape(),u=this._shape,s=this._getDefaultShape(this._getPlotDefinition()),_=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(this._getPlotDefinition()._getSymbolDefinitionProviderList(),l,a,u,s);if(null!=_){var p=this._getSymbolRectangle(n);_.createSymbol(p,o).render(e,i)}},e.prototype._getStyleSymbolShape=function(){return null!=this._getDataPointStyleOption()&&null!=this._getDataPointStyleOption().symbolShape?this._getDataPointStyleOption().symbolShape:null},e.prototype._getDefaultShape=function(e){for(var n=0,i=this._legendItemView()._legendView()._getPlotAreaView()._getPlotViews();n<i.length;n++){var o=i[n];if(o._getDefinition()==e){var r=o._getPointViews();if(null!=r&&r.length>0){var l=r[0];if(t._isSymbolPointView(l))return l.defaultShape}}}return"Dot"},e.prototype._getSymbolRectangle=function(t){var e=t.clone(),n=t.width<t.height?t.width:t.height;return t.width>t.height?e.left=t.left+(t.width-t.height)/2:t.height>t.width&&(e.top=t.top+(t.height-t.width)/2),e.height=n,e.width=n,e},e}();t._LegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===i&&(i=null);var o=e.call(this,n,i)||this;return o.__showSymbol=t,o}return n(i,e),i.prototype._showSymbol=function(){return this.__showSymbol},i.prototype.render=function(n,i,o){var r=i.width<i.height?i.width:i.height;if(this._showSymbol())e.prototype.render.call(this,n,i,o);else{var l=this._styleBuilder._buildLegendSymbolStyle(this,o,!1);n.beginTransform(),n.strokeWidth=1,t._StyleUtility._applyStyle(n,l),n.drawRect((i.right+i.left)/2-r/2,i.top,r,r),n.restoreTransform()}},i}(t._LegendSymbolView);t._AreaLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.render=function(e,n,i){var o=n.width<n.height?n.width:n.height;e.beginTransform(),e.strokeWidth=1,t._StyleUtility._applyStyle(e,this._styleBuilder._buildLegendSymbolStyle(this,i,!1)),e.drawRect((n.right+n.left)/2-o/2,n.top,o,o),e.restoreTransform()},i}(t._LegendSymbolView);t._BoxLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===i&&(i=null);var o=e.call(this,n,i)||this;return o.__showSymbol=t,o}return n(i,e),i.prototype._showSymbol=function(){return this.__showSymbol},i.prototype.render=function(n,i,o){var r=this._styleBuilder._buildLegendSymbolStyle(this,o,!1);n.beginTransform(),n.strokeWidth=1,t._StyleUtility._applyStyle(n,r);var l=n.stroke;l instanceof t._LinearGradientColor||l instanceof t._RadialGradientColor?this._drawHorizontalLineByPath(n,i.left,i.top+i.height/2,i.width):n.drawLine(i.left,i.top+i.height/2,i.right,i.top+i.height/2),n.restoreTransform(),this._showSymbol()&&e.prototype.render.call(this,n,i,o)},i.prototype._drawHorizontalLineByPath=function(t,e,n,i){var o=t.strokeWidth;null!=o&&o>0&&(t.beginTransform(),t.fill=t.stroke,t.strokeWidth=0,t.drawRect(e,n-o/2,i,o),t.restoreTransform())},i}(t._LegendSymbolView);t._LineLegendSymbolView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultLegendSymbolColorBuilder=function(){return null==e.__defaultLegendSymbolColorBuilder&&(e.__defaultLegendSymbolColorBuilder=new e),e.__defaultLegendSymbolColorBuilder},e.prototype._buildLegendSymbolColor=function(e){var n=e._legendItemView(),i=n._data._color();return null!=n._legendView()._iconColor()&&(i=n._legendView()._iconColor()),null==i&&(i=t._CssColor._defaultStyleColor()),i},e}();t._DefaultLegendSymbolColorBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultLegendSymbolStyleBuilder=function(){return null==e.__defaultLegendSymbolStyleBuilder&&(e.__defaultLegendSymbolStyleBuilder=new e),e.__defaultLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);if(null!=r&&(o.fill=r,o.stroke=r),t._LegendUtility._isType(e._legendItemView()._legendView()._data(),t.LegendType.BackgroundColor))return o;var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),u=e._getUnselectedStyle(),s=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,s),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(u,p),i?t._OptionUtility._applyDataPointSymbolStyleOption(o,l):t._OptionUtility._applyDataPointStyleOption(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?i?t._OptionUtility._applyDataPointSymbolStyleOption(o,a):t._OptionUtility._applyDataPointStyleOption(o,a):e._legendItemView().relatedModels().length>0&&(i?t._OptionUtility._applyDataPointSymbolStyleOption(o,u):t._OptionUtility._applyDataPointStyleOption(o,u)));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(o,c._filteredOutSymbolStyle),o},e}();t._DefaultLegendSymbolStyleBuilder=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(t,e,n){this.__rectSize=t.clone(),this.__isVertical=e,this.__space=n}return e.prototype.adjust=function(e,n){var i=this.__rectSize;if(this.__isVertical){for(var o=i.height,r=0,l=0,a=n;l<a.length;l++)(m=a[l])instanceof t._ItemizedLegendView&&m._defaultItemizedLegendContentView()._init(i),r+=m._measure(e,new t.core.Size(i.width,i.height))._size.height;var u=n.length;if((r+=this.__space)>o)for(var s=r-o,_=0;;){for(var p=Number.MAX_VALUE,c=0,h=0,f=0;f<u;f++)null!=(v=n[f]._contentView()._enlarge())&&v.width<p&&(p=v.width,c=f,h=v.height);if(0===h)break;for(f=0;f<u;f++)f!==c&&n[f]._contentView()._restore();if((_+=h)>=s)break}}else{for(var d=i.width,y=(r=0,0),g=n;y<g.length;y++){var m;(m=g[y])instanceof t._ItemizedLegendView&&m._defaultItemizedLegendContentView()._init(i),r+=m._measure(e,new t.core.Size(i.width,i.height))._size.width}if(u=n.length,(r+=this.__space)>d)for(s=r-d,_=0;;){for(p=Number.MAX_VALUE,c=0,h=0,f=0;f<u;f++){var v;null!=(v=n[f]._contentView()._enlarge())&&v.height<p&&(p=v.height,c=f,h=v.width)}if(0===h)break;for(f=0;f<u;f++)f!==c&&n[f]._contentView()._restore();if((_+=h)>=s)break}}},e}(),i=function(){function t(t,e){this.__index=0,this.__save=0,this.__isVertical=e,this.__options=t}return t.prototype._save=function(){this.__save=this.__index},t.prototype._restore=function(){this.__index=this.__save},t.prototype._reset=function(){this.__index=0},t.prototype._nextSpace=function(){var t=this.__index;return t>this.__options.length?null:(this.__index++,this._getSpace(t))},t.prototype._previousSpace=function(){var t=this.__index;return 0===t?null:(this.__index--,this._getSpace(t-1))},t.prototype._calcAllSpace=function(){this._save(),this._reset();for(var t,e=0;null!=(t=this._nextSpace());)e+=t;return this._restore(),e},t.prototype._getSpace=function(t){return 0==t?this._getPre(t):t==this.__options.length?this._getBack(t-1):Math.max(this._getBack(t-1),this._getPre(t))},t.prototype._getPre=function(t){return this.__isVertical?this.__options[t].top:this.__options[t].left},t.prototype._getBack=function(t){return this.__isVertical?this.__options[t].bottom:this.__options[t].right},t}(),o=function(){function e(t){this.__rectangle=t,this.__hBlocks=[[],[],[]]}return e._getBlockIndex=function(e){if(null==e)return 1;switch(e){case t.HAlign.Left:return 0;case t.HAlign.Right:return 2;default:return 1}},e.prototype.push=function(n,i){var o=n._option,r=new t._LegendRect;r.view=n,r.rect=i,r.margin=n._margin(),this.__hBlocks[e._getBlockIndex(o.hAlign)].push(r)},e.prototype._sum=function(t,e){return t.reduce((function(t,n){return t+n.rect.width+e._nextSpace()}),0)},e.prototype.layout=function(){var n=this.__rectangle,o=this.__hBlocks[e._getBlockIndex(t.HAlign.Left)],r=this.__hBlocks[e._getBlockIndex(t.HAlign.Right)],l=this.__hBlocks[e._getBlockIndex(t.HAlign.Center)];r.reverse();for(var a=o.concat(l,r),u=new i(a.map((function(t){return t.margin})),!1),s=u._nextSpace(),_=0,p=o;_<p.length;_++)(b=p[_]).rect.left=n.left+s,s+=b.rect.width+u._nextSpace();u._save();var c=this._sum(l,u),h=this._sum(r,u),f=n.width;s+c+h>f&&(f=s+c+h);for(var d=n.left+f,y=u._previousSpace(),g=y,m=r.length-1;m>=0;--m)(b=r[m]).rect.left=d-b.rect.width-g,y=u._previousSpace(),g+=b.rect.width+y;s+=(f-s-g-c+y)/2,u._restore();for(var v=0,w=l;v<w.length;v++){var b;(b=w[v]).rect.left=n.left+s,s+=b.rect.width+u._nextSpace()}new t._LegendViewLayouter(n).layoutVertical(o.concat(l,r))},e}(),r=function(){function e(t){this.__rectangle=t,this.__vBlocks=[[],[],[]]}return e._getBlockIndex=function(e){if(null==e)return 1;switch(e){case t.VAlign.Top:return 0;case t.VAlign.Bottom:return 2;default:return 1}},e.prototype.push=function(n,i){var o=n._option,r=new t._LegendRect;r.view=n,r.rect=i,r.margin=n._margin(),this.__vBlocks[e._getBlockIndex(o.vAlign)].push(r)},e.prototype._sum=function(t,e){return t.reduce((function(t,n){return t+n.rect.height+e._nextSpace()}),0)},e.prototype.layout=function(){var n=this.__rectangle,o=this.__vBlocks[e._getBlockIndex(t.VAlign.Top)],r=this.__vBlocks[e._getBlockIndex(t.VAlign.Bottom)],l=this.__vBlocks[e._getBlockIndex(t.VAlign.Middle)];r.reverse();for(var a=o.concat(l,r),u=new i(a.map((function(t){return t.margin})),!0),s=u._nextSpace(),_=0,p=o;_<p.length;_++)(b=p[_]).rect.top=n.top+s,s+=b.rect.height+u._nextSpace();u._save();var c=this._sum(l,u),h=this._sum(r,u),f=n.height;s+c+h>f&&(f=s+c+h);for(var d=n.top+f,y=u._previousSpace(),g=y,m=r.length-1;m>=0;--m)(b=r[m]).rect.top=d-b.rect.height-g,y=u._previousSpace(),g+=b.rect.height+y;s+=(f-s-g-c+y)/2,u._restore();for(var v=0,w=l;v<w.length;v++){var b;(b=w[v]).rect.top=n.top+s,s+=b.rect.height+u._nextSpace()}new t._LegendViewLayouter(n).layoutHorizontal(o.concat(l,r))},e}(),l=function(l){function a(t,e){var n=l.call(this,t)||this;n.__className="gcdv-legends",n.__scrollPrecision=.5,n.__legendViews=e;for(var i=0,o=e;i<o.length;i++)o[i]._internalParentView(n);return n}return n(a,l),a.prototype._getPlotAreaView=function(){return this._getLegendLayerView()._getPlotAreaView()},a.prototype._getScrollRect=function(){return t._RectangleUtility._intersectionOfRectangle(this._getPlotAreaView()._getRectangle(),this._getRectangle())},a.prototype._legendViews=function(){return this.__legendViews},a.prototype._getClassName=function(){return this.__className},a.prototype._wrapping=function(){var t=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.wrapping;return null!=t?t:null==(t=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.wrapping)||t},a.prototype._groupWidth=function(){for(var e=null,n=0,i=this._legendViews().map((function(t){return t._option.width}));n<i.length;n++){var o=i[n];if(null!=o){var r=null;o.type==t.ValueOptionType.Percentage?r=o.value*this._getPlotAreaView()._getRectangle().width:o.type==t.ValueOptionType.Pixel&&(r=o.value),e=null==e?r:Math.max(e,r)}}return e},a.prototype._groupMaxWidth=function(){for(var e=null,n=0,i=this._legendViews().map((function(t){return t._option.maxWidth}));n<i.length;n++){var o=i[n];if(null!=o){var r=null;o.type==t.ValueOptionType.Percentage?r=o.value*this._getPlotAreaView()._getRectangle().width:o.type==t.ValueOptionType.Pixel&&(r=o.value),e=null==e?r:Math.min(e,r)}}return e},a.prototype._groupHeight=function(){for(var e=null,n=0,i=this._legendViews().map((function(t){return t._option.height}));n<i.length;n++){var o=i[n];if(null!=o){var r=null;o.type==t.ValueOptionType.Percentage?r=o.value*this._getPlotAreaView()._getRectangle().height:o.type==t.ValueOptionType.Pixel&&(r=o.value),e=null==e?r:Math.max(e,r)}}return e},a.prototype._groupMaxHeight=function(){for(var e=null,n=0,i=this._legendViews().map((function(t){return t._option.maxHeight}));n<i.length;n++){var o=i[n];if(null!=o){var r=null;o.type==t.ValueOptionType.Percentage?r=o.value*this._getPlotAreaView()._getRectangle().height:o.type==t.ValueOptionType.Pixel&&(r=o.value),e=null==e?r:Math.max(e,r)}}return e},a.prototype._scrollable=function(){return this._legendViews().length>1},a.prototype._canScroll=function(){if(!l.prototype._canScroll.call(this))return!1;if(this._scrollable()){var t=this._getScrollRect(),e=this._getLogicSize();return e.width-t.width>=this.__scrollPrecision||e.height-t.height>=this.__scrollPrecision}return!1},a.prototype._layoutContent=function(e,n,i){l.prototype._layoutContent.call(this,e,n,i),null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),this._canScroll()&&(this.__scrollableContainer=new t._ScrollableContainer(this))},a.prototype._layoutInnerContent=function(n,i,o){(i=i.clone()).width<0&&(i.width=0),i.height<0&&(i.height=0);var r=this._legendViews(),l=this._calcAllSpace(r,this._isVertical());new e(this._getVisibleSize(i.size),this._isVertical(),l).adjust(n,r);var a=this._calcLogicLegendsSize(r,n),u=a[0],s=a[1];this._layoutRectangle(u,s,r,i,l);for(var _=this._getLegendsViewAlignLayouter(this._getRectangle()),p=s.map((function(e){return new t.core.Rect(0,0,e.width,e.height)})),c=u,h=r.length,f=0;f<h;++f)_.push(r[f],p[f]);for(_.layout(),f=0;f<h;f++){var d=p[f];o._originalLegendSize=c[f],r[f]._layout(n,o,d),o._originalLegendSize=null}},a.prototype._getVisibleSize=function(t){return t.clone()},a.prototype._getLegendsViewAlignLayouter=function(t){return this._isVertical()?new r(t):new o(t)},a.prototype._inflateLegendSize=function(t,e){var n=t.clone();if(this._scrollable())return n;if(this._isVertical()){var i=this._groupWidth(),o=this._groupMaxWidth();null!=o?n.width=Math.min(n.width,o):null!=i&&(n.width=i)}else{var r=this._groupHeight(),l=this._groupMaxHeight();null!=l?n.height=Math.min(n.height,l):null!=r&&(n.height=r)}return n},a.prototype._calcLogicLegendsSize=function(e,n){for(var i=[],o=[],r=0,l=e.length;r<l;r++){var a=e[r],u=a._measure(n,new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE))._size;i.push(u),u=this._inflateLegendSize(u,a._option),o.push(u)}return[i,o]},a.prototype._sortOrder=function(t){return this._isVertical()?r._getBlockIndex(t._option.vAlign):o._getBlockIndex(t._option.hAlign)},a.prototype._calcAllSpace=function(t,e){for(var n=[[],[],[]],o=0,r=t;o<r.length;o++){var l=r[o];n[this._sortOrder(l)].push(l)}n[2].reverse();for(var a=[],u=0,s=n;u<s.length;u++){var _=s[u];a.push.apply(a,_)}return new i(a.map((function(t){return t._margin()})),e)._calcAllSpace()},a.prototype._renderInnerContent=function(e,n,i){for(var o=0,r=this.__legendViews;o<r.length;o++){var l=r[o];l._position()!=t.LegendPosition.None&&l._render(e,i)}},a.prototype._getLogicSize=function(){var e=this._getRectangle(),n=this._legendViews();if(0==n.length)return new t.core.Size(0,0);for(var i=-Number.MAX_VALUE,o=-Number.MAX_VALUE,r=e.left,l=e.top,a=0,u=n;a<u.length;a++){var s=u[a],_=s._getRectangle(),p=s._margin();i=Math.max(i,_.right+p.right-r),o=Math.max(o,_.bottom+p.bottom-l)}return new t.core.Size(i,o)},a.prototype._hitTestContent=function(e,n,i){for(var o=0,r=this.__legendViews.concat().reverse();o<r.length;o++){var a=r[o];if(a._position()!=t.LegendPosition.None){var u=a._hitTest(e,n,i);if(null!=u)return u}}return l.prototype._hitTestContent.call(this,e,n,i)},a.prototype._getLegendLayerView=function(){return this._ownerView},a.prototype._createScrollbar=function(e){var n=t._DvViewUtility._domManager(this._getPlotAreaView()._getDvView());return null==n?null:t._ScrollUtility._buildScrollbar(e,this._getScrollRect(),this._getLogicSize(),n)},a.prototype._isHitTested=function(e,n){return this._getScrollRect().contains(new t.core.Point(e,n))},a.prototype.dispose=function(){null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null);for(var t=0,e=this._legendViews();t<e.length;t++)e[t].dispose()},a}(t._ScrollableView);t._BaseLegendListView=l}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendLayerView=function(e,n){return new t._FloatLegendLayerView(e,n)},e}(),n=function(){function e(){}return e.prototype._buildLegendLayerView=function(e,n){return new t._FixedLegendLayerView(e,n)},e}(),i=function(){function i(){this._frontLegendLayerViewBuilder=new e,this._backLegendLayerViewBuilder=new n}return i.prototype._getLegendViewBuilder=function(){return new t._DefaultLegendViewBuilder},i}();t._BuildInLegendLayerDefinition=i}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInLegendLayerDefinitionBuilders=function(){return null==i.__buildInLegendLayerDefinitionBuilders&&(i.__buildInLegendLayerDefinitionBuilders=new i([],i._pluginType)),i.__buildInLegendLayerDefinitionBuilders},i.prototype._convert=function(e){return t._isLegendLayerDefinitionBuilder(e)?e:null},i.prototype._legendLayerDefinition=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i],l=r.item._buildLegendLayerDefinition(r.option);if(null!=l)return l}return new t._BuildInLegendLayerDefinition},i._pluginType="LegendViewManagerModel",i}(t._BuildInObjectCollection);t._BuildInLegendLayerDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(t){this.__position=t}return e.prototype._buildLegendListView=function(e,n){var i=this;return(n=n.filter((function(t){return t._position()==i.__position}))).length>0?new t._FixedLegendListView(e,n,this.__position):null},e}(),i=function(i){function o(n,o,r,l,a,u){void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null),void 0===u&&(u=null);var s=i.call(this,n)||this;return r=null==r?new e(t.LegendPosition.Left):r,s.__leftLegendListView=r._buildLegendListView(s,o),l=null==l?new e(t.LegendPosition.Right):l,s.__rightLegendListView=l._buildLegendListView(s,o),a=null==a?new e(t.LegendPosition.Top):a,s.__topLegendListView=a._buildLegendListView(s,o),u=null==u?new e(t.LegendPosition.Bottom):u,s.__bottomLegendListView=u._buildLegendListView(s,o),s}return n(o,i),o.prototype._getLegendViews=function(){var t=[];return null!=this.__leftLegendListView&&t.push.apply(t,this.__leftLegendListView._legendViews()),null!=this.__rightLegendListView&&t.push.apply(t,this.__rightLegendListView._legendViews()),null!=this.__topLegendListView&&t.push.apply(t,this.__topLegendListView._legendViews()),null!=this.__bottomLegendListView&&t.push.apply(t,this.__bottomLegendListView._legendViews()),t},o.prototype._layout=function(t,e,n){var i=e.clone(),o=this.__leftLegendListView;null!=o&&(o._layout(t,n,i),i.left+=o._getRectangle().width,i.width-=o._getRectangle().width);var r=this.__rightLegendListView;null!=r&&(r._layout(t,n,i),i.width-=r._getRectangle().width);var l=this.__topLegendListView;null!=l&&(l._layout(t,n,i),i.top+=l._getRectangle().height,i.height-=l._getRectangle().height);var a=this.__bottomLegendListView;return null!=a&&(a._layout(t,n,i),i.height-=a._getRectangle().height),i},o.prototype._render=function(t,e){this._zLevel==e._currentZLevel&&(null!=this.__leftLegendListView&&this.__leftLegendListView._render(t,e),null!=this.__rightLegendListView&&this.__rightLegendListView._render(t,e),null!=this.__topLegendListView&&this.__topLegendListView._render(t,e),null!=this.__bottomLegendListView&&this.__bottomLegendListView._render(t,e))},o.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;var i=null;return null!=this.__bottomLegendListView&&null!=(i=this.__bottomLegendListView._hitTest(t,e,n))||null!=this.__topLegendListView&&null!=(i=this.__topLegendListView._hitTest(t,e,n))||null!=this.__rightLegendListView&&null!=(i=this.__rightLegendListView._hitTest(t,e,n))||null!=this.__leftLegendListView&&null!=(i=this.__leftLegendListView._hitTest(t,e,n))?i:null},o.prototype.queryInterface=function(t){return"ILegendLayerView"==t?this:null},o.prototype._getPlotAreaView=function(){return this._ownerView},o.prototype.dispose=function(){null!=this.__leftLegendListView&&this.__leftLegendListView.dispose(),null!=this.__rightLegendListView&&this.__rightLegendListView.dispose(),null!=this.__topLegendListView&&this.__topLegendListView.dispose(),null!=this.__bottomLegendListView&&this.__bottomLegendListView.dispose()},o}(t._BaseView);t._FixedLegendLayerView=i}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o._position=i,o}return n(i,e),i.prototype._isVertical=function(){var e=this._position;return e===t.LegendPosition.Left||e===t.LegendPosition.Right},i.prototype._layoutRectangle=function(e,n,i,o,r){for(var l,a=r,u=0,s=i.length,_=0;_<s;_++){var p=i[_],c=n[_],h=p._margin();if(this._isVertical()){a+=c.height;var f=c.width+h.left+h.right;u=Math.max(f,u)}else{a+=c.width;var d=c.height+h.top+h.bottom;u=Math.max(d,u)}}if(this._isVertical()){if(this._scrollable()){var y=this._groupMaxWidth();f=this._groupWidth(),null!=y?u=Math.min(y,u):null!=f&&(u=f)}l=new t.core.Size(u,Math.min(a,o.height))}else{if(this._scrollable()){var g=this._groupMaxHeight();d=this._groupHeight(),null!=g?u=Math.min(g,u):null!=d&&(u=d)}l=new t.core.Size(Math.min(a,o.width),u)}var m=o.clone();switch(this._position){case t.LegendPosition.Left:m.width=l.width;break;case t.LegendPosition.Right:m.left=o.right-l.width,m.width=l.width;break;case t.LegendPosition.Top:m.height=l.height;break;case t.LegendPosition.Bottom:m.height=l.height,m.top=o.bottom-l.height}this._updateRectangle(m)},i}(t._BaseLegendListView);t._FixedLegendListView=e}(t||(t={})),function(t){var e=function(t,e){this.option=t,this.legendViews=e},i=function(i){function o(n,o){for(var r=i.call(this,n)||this,l=[],a=function(n){if(n._position()!==t.LegendPosition.Floating)return"continue";var i=t._Util.find(l,(function(e){return t._LegendsOptionEqualityComparer._legendsOptionEqualityComparer._equalsWith(e.option,n._legendsOption())}));null==i?l.push(new e(n._legendsOption(),[n])):i.legendViews.push(n)},u=0,s=o;u<s.length;u++)a(s[u]);for(var _=[],p=0,c=l;p<c.length;p++){var h=c[p];_.push(new t._FloatLegendListView(r,h.legendViews,h.option))}return r.__legendListViews=_,r}return n(o,i),o.prototype._getLegendViews=function(){for(var t=[],e=0,n=this.__legendListViews;e<n.length;e++){var i=n[e];t.push.apply(t,i._legendViews())}return t},o.prototype._layout=function(t,e,n){for(var i=e.clone(),o=0,r=this.__legendListViews;o<r.length;o++){var l=r[o];null!=l&&l._layout(t,n,i)}return i},o.prototype._render=function(e,n){var i=this;if(this._zLevel==n._currentZLevel&&this.__legendListViews.length>0){var o=this.__legendListViews[0]._containerRect();if(o.width>0&&o.height>0){var r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height);e.drawGroup(null,r,null,(function(t){for(var e=0,o=i.__legendListViews;e<o.length;e++)o[e]._render(t,n)}))}}},o.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=null,o=0,r=this.__legendListViews.slice().reverse();o<r.length;o++){var l=r[o];if(null!=(i=null!=l?l._hitTest(t,e,n):null))return i}return null},o.prototype.queryInterface=function(t){return"ILegendLayerView"==t?this:null},o.prototype._getPlotAreaView=function(){return this._ownerView},o.prototype.dispose=function(){for(var t=0,e=this.__legendListViews;t<e.length;t++){var n=e[t];null!=n&&n.dispose()}},o}(t._BaseView);t._FloatLegendLayerView=i}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__legendsOption=i,o}return n(i,e),i.prototype._containerRect=function(){return this.__containerRect},i.prototype._isVertical=function(){return this._legendViews().length>0&&this._legendViews()[0]._isVertical()},i.prototype._getVisibleSize=function(t){var e=t.clone(),n=this.__legendsOption;return null!=n.left&&(e.width=t.width*(1-n.left)),null!=n.top&&(e.height=t.height*(1-n.top)),null!=n.groupPadding&&(e.width-=n.groupPadding.right.value+n.groupPadding.left.value,e.height-=n.groupPadding.top.value+n.groupPadding.bottom.value),e},i.prototype._layoutRectangle=function(e,n,i,o,r){this.__containerRect=o.clone();for(var l,a=r,u=0,s=i.length,_=0;_<s;_++){var p=i[_],c=n[_],h=p._margin();if(this._isVertical()){a+=c.height;var f=c.width+h.left+h.right;u=Math.max(f,u)}else{a+=c.width;var d=c.height+h.top+h.bottom;u=Math.max(d,u)}}if(this._isVertical()){if(this._scrollable()){var y=this._groupMaxWidth();f=this._groupWidth(),null!=y?u=Math.min(y,u):null!=f&&(u=f)}l=new t.core.Size(u,a)}else{if(this._scrollable()){var g=this._groupMaxHeight();d=this._groupHeight(),null!=g?u=Math.min(g,u):null!=d&&(u=d)}l=new t.core.Size(a,u)}this._updateRectangle(new t.core.Rect(0,0,l.width,l.height)),this._layoutForScroll(o)},i.prototype._layoutForWrapping=function(e){var n=this._getRectangle(),i=this.__legendsOption,o=n.clone(),r=0,l=0;if(null!=i.groupPadding&&(o.width+=i.groupPadding.left.value+i.groupPadding.right.value,o.height+=i.groupPadding.top.value+i.groupPadding.bottom.value,r=i.groupPadding.left.value,l=i.groupPadding.top.value),null!=i.left)o.left=e.left+e.width*i.left;else{var a=i.groupHAlign;if(null!=a)switch(a){case t.HAlign.Left:o.left=e.left;break;case t.HAlign.Center:o.left=e.left+e.width/2-o.width/2;break;case t.HAlign.Right:o.left=e.right-o.width}}if(null!=i.top)o.top=e.top+e.height*i.top;else{var u=i.groupVAlign;if(null!=u)switch(u){case t.VAlign.Top:o.top=e.top;break;case t.VAlign.Middle:o.top=e.top+e.height/2-o.height/2;break;case t.VAlign.Bottom:o.top=e.bottom-o.height}}n.left=o.left+r,n.top=o.top+l,this.outterRect=o},i.prototype._layoutForScroll=function(t){this._layoutForWrapping(t);var e=this._getRectangle(),n=e.clone(),i=this.__legendsOption,o=this._getVisibleSize(t.size);if(o.height<=e.height){var r=t.top,l=t.bottom;null!=i.top&&(r=t.top+t.height*i.top),this.outterRect.top=r,this.outterRect.height=l-r,e.top=r,n.top=r,e.height=l-e.top,null!=i.groupPadding&&(n.top+=i.groupPadding.top.value,e.top+=i.groupPadding.top.value,e.height=e.height-i.groupPadding.bottom.value-i.groupPadding.top.value)}if(o.width<=e.width){var a=t.left,u=t.right;null!=i.left&&(a=t.left+t.width*i.left),this.outterRect.left=a,this.outterRect.width=u-a,e.left=a,n.left=a,e.width=u-e.left,null!=i.groupPadding&&(n.left+=i.groupPadding.left.value,e.left+=i.groupPadding.left.value,e.width=e.width-i.groupPadding.right.value-i.groupPadding.left.value)}},i}(t._BaseLegendListView);t._FloatLegendListView=e}(t||(t={})),t||(t={}),function(t){t._isLegendLayerDefinitionBuilder=function(t){return null!=t._buildLegendLayerDefinition}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){!function(t){t[t.PlotColor=1]="PlotColor",t[t.PlotShape=2]="PlotShape",t[t.PlotSize=4]="PlotSize",t[t.OverlayColor=8]="OverlayColor",t[t.BackgroundColor=16]="BackgroundColor",t[t.Lightness=32]="Lightness"}(t._LegendKind||(t._LegendKind={}))}(t||(t={})),function(t){var e=function(){function e(t){this.__definition=t}return e.prototype._build=function(e){for(var n=[],i=this.__definition,o=i._getEncodingsDefinition(),r=0,l=[o._getColorEncodingDefinition(),o._getShapeEncodingDefinition(),o._getSizeEncodingDefinition(),o._getBackgroundColorEncodingDefinition(),o._getLightnessEncodingDefinition()];r<l.length;r++){var a=l[r];if(null!=a&&null!=a._legendDataModelBuilder){var u=a._legendDataModelBuilder._buildLegendDataModel(a,e);null!=u&&n.push(u)}}var s=t._BuildInOverlayLegendDataModelBuilderCollection._defaultBuildInOverlayLegendDataModelBuilders()._overlayLegendDataModel(i,e,null,i._pluginCollection);if(null!=s&&n.push(s),n.length>0){var _=new t._LegendComparer;return n.sort((function(t,e){return _.compare(t,e)})),n}return null},e.prototype.queryInterface=function(t){return this.__definition.queryInterface(t)},e}();t._LegendModelBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){void 0===o&&(o=null);var r=e.call(this,n,i,o)||this;return r.__linearScale=new t._LinearGradientColorScale,r._labelBuilder._addLabel(n._label),r}return n(i,e),i.prototype._ticks=function(){return this.__ticks.slice()},i.prototype._getColorByPoint=function(e){if(t._isNumbericLegendEncodingDefinition(this._definition)){var n=this._definition,i=t._DataSlicesAggregate._defaultAggregate._aggregate(e._data()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=i?new t._CssColor(this._linearScale()._scaleValue(i).color):null}return null},i.prototype._linearColor=function(e){return new t._LinearGradientColor(e,this._linearScale()._getRange())},i.prototype._minimum=function(){return this.__minimum},i.prototype._maximum=function(){return this.__maximum},i.prototype._getColorIterator=function(t){var e=this._definition._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},i.prototype._getColorProvider=function(){return this._definition._plotDefinition._valueColorProvider},i.prototype._linearScale=function(){return this.__linearScale},i.prototype._format=function(){return this._definition._format},i.prototype.queryInterface=function(n){return"IColorLegend"===n&&t._LegendUtility._isType(this,t.LegendType.Color)?this:e.prototype.queryInterface.call(this,n)},i}(t._SingleLegendDataModel);t._ColorLinearPointLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n)||this;return o.__legendAxisView=new t._LegendAxisView(o,i._linearColor(o._colorDegree()),o._gradientLegendView()._option.gradient,i._format()),o}return n(i,e),i.prototype._gradientLegendView=function(){return this._ownerView},i.prototype._legendAxisView=function(){return this.__legendAxisView},i.prototype._intersectWith=function(t){var e=this._legendAxisView()._rectangle();return!!(e.contains(t.leftTop)||e.contains(t.leftBottom)||e.contains(t.rightTop)||e.contains(t.rightBottom))},i.prototype._measure=function(t,e){return this.__legendAxisView._measure(t,e)},i.prototype._renderInnerContent=function(t,n,i){e.prototype._renderInnerContent.call(this,t,n,i),this._legendAxisView()._render(t,i)},i.prototype._hitTestContent=function(t,n,i){var o=this.__legendAxisView._hitTest(t,n,i);return null!=o?o:e.prototype._hitTestContent.call(this,t,n,i)},i.prototype._layoutInnerContent=function(t,e,n){this.__legendAxisView._position(e.left,e.top)},i.prototype._colorDegree=function(){return this._orientation()===t.Orientation.Horizontal?90:360},i.prototype._getTicks=function(){return this._gradientLegendView()._data()._ticks()},i}(t._LegendContentView);t._GradientLegendContentView=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.actualDistance=0,this.value=t,this.__text=e,this.__isHorizontal=n}return e.prototype._measure=function(t){this.size=t.measureSingleLineString(this.__text)},e.prototype._sumSide=function(){return this.__isHorizontal?this.size.width:this.size.height},e.prototype._maxSide=function(){return this.__isHorizontal?this.size.height:this.size.width},e.prototype._renderTick=function(t){t.drawLine(this.start.x,this.start.y,this.end.x,this.end.y)},e.prototype._renderLabel=function(e){var n=t._MatrixUtility._buildRotateMatrix(0,this.labelCenter);e.drawSingleLineString(this.__text,this.labelLeftBottom.x,this.labelLeftBottom.y,null,n)},e}();t._GradientLegendTick=e}(t||(t={})),function(t){var e=function(){function t(t,e){this.__start=t,this.__end=e}return t.prototype.len=function(){return this.__end.value-this.__start.value},t.prototype.distance=function(){return(this.__end._sumSide()+this.__start._sumSide())/2+t.__minOffsetBetweenLabels},t.prototype.weight=function(){return this.len()/this.distance()},t.__minOffsetBetweenLabels=2.5,t}(),n=function(){function n(t,e,n){this.__ranges=[],this.__left=0,this.__top=0,this.__ticks=t,this.__thickness=e,this.__isHorizontal=n}return n.prototype._init=function(e){if(0!=this.__ticks.length){this.__ranges=this._createRanges(this.__ticks);for(var n=this.__ranges[0].weight(),i=0,o=1;o<this.__ranges.length;++o)n>this.__ranges[o].weight()&&(n=this.__ranges[o].weight(),i=o);for(var r=this.__ticks[0].value,l=this.__ticks[this.__ticks.length-1].value-r,a=l*this.__ranges[i].distance()/this.__ranges[i].len(),u=0,s=0,_=this.__ticks;s<_.length;s++){var p=_[s];p.actualDistance=a*(p.value-r)/l,u=Math.max(p._maxSide(),u)}u+=10,a+=this._preOffset()+this._suffixOffset(),this.__isHorizontal?this.size=new t.core.Size(a,u+this.__thickness):this.size=new t.core.Size(u+this.__thickness,a)}else this.size=new t.core.Size(this.__thickness,this.__thickness)},n.prototype._translateTo=function(t,e){this.__left=t,this.__top=e},n.prototype._getTickRect=function(){var e=this.__left,n=this.__top;return this.__isHorizontal?new t.core.Rect(e,n+this.__thickness,this.size.width,this.size.height-this.__thickness):new t.core.Rect(e+this.__thickness,n,this.size.width-this.__thickness,this.size.height)},n.prototype._getBarRect=function(){var e=this.__left,n=this.__top;if(this.__isHorizontal){e+=this._preOffset();var i=this.size.width-this._preOffset()-this._suffixOffset();return new t.core.Rect(e,n,i,this.__thickness)}n+=this._preOffset();var o=this.size.height-this._preOffset()-this._suffixOffset();return new t.core.Rect(e,n,this.__thickness,o)},n.prototype._layoutTicks=function(){var e=this._getBarRect(),i=this._getTickRect();if(this.__isHorizontal)for(var o=0,r=this.__ticks;o<r.length;o++){var l=r[o],a=e.left+l.actualDistance,u=e.bottom+n.TICK_LEN+l.size.height/2;l.end=new t.core.Point(a,e.bottom),l.start=new t.core.Point(a,e.bottom+n.TICK_LEN),l.labelCenter=new t.core.Point(a,u),l.labelLeftBottom=new t.core.Point(a-l.size.width/2,u+l.size.height/2)}else for(var s=0,_=this.__ticks;s<_.length;s++)l=_[s],a=i.left+n.BAR_TICK_SPACE+l.size.width/2,u=e.bottom-l.actualDistance,l.end=new t.core.Point(i.left,u),l.start=new t.core.Point(i.left+n.TICK_LEN,u),l.labelCenter=new t.core.Point(a,u),l.labelLeftBottom=new t.core.Point(a-l.size.width/2,u+l.size.height/2)},n.prototype._preOffset=function(){return 0==this.__ticks.length?0:this.__ticks[0]._sumSide()/2},n.prototype._suffixOffset=function(){return 0==this.__ticks.length?0:this.__ticks[this.__ticks.length-1]._sumSide()/2},n.prototype._createRanges=function(t){for(var n=[],i=t[0],o=1;o<t.length;++o)n.push(new e(i,t[o])),i=t[o];return n},n.TICK_LEN=5,n.BAR_TICK_SPACE=2*n.TICK_LEN,n}();t._GradientTickLayouter=n}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,n)||this;return l.__rectangle=t.core.Rect.ReadOnlyRect,l.__linearColor=i,l.__format=r,l}return n(i,e),i.prototype._rectangle=function(){return this.__rectangle},i.prototype._updateRectangle=function(t){this.__rectangle=t},i.prototype._gradientLegendContentView=function(){return this._ownerView},i.prototype._thickness=function(t){return t.measureSingleLineString("A").height},i.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(e,this._gradientLegendContentView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._gradientLegendContentView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._gradientLegendContentView()._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._gradientLegendContentView()._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._gradientLegendContentView()._legendView()._option.textStyle),this.__style=e}return this.__style},i.prototype._applyStyle=function(e){t._StyleUtility._applyStyle(e,t._ViewUtility._defaultLineStyle()),e.fill=this.__linearColor},i.prototype._applyTextStyle=function(e){var n=this._style();null!=n&&t._StyleUtility._applyAllStyle(e,n)},i.prototype._measure=function(e,n){var i=this;e.beginTransform(),this._applyStyle(e),this._applyTextStyle(e);for(var o=this._gradientLegendContentView()._orientation()==t.Orientation.Horizontal,r=this._gradientLegendContentView()._getTicks().map((function(e){return new t._GradientLegendTick(e,i._getTickString(e),o)})),l=0,a=r;l<a.length;l++)a[l]._measure(e);var u=this._thickness(e),s=new t._GradientTickLayouter(r,u,o);return s._init(e),this.__layouter=s,this.__ticks=r,e.restoreTransform(),new t._RectangleViewMetricsResult(s.size.clone())},i.prototype._getTickString=function(e){var n=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._gradientLegendContentView()._legendView()._getPlotAreaView()._getDefinition()._pluginCollection);if(null!=n){var i=this.__format;if(null==this.__format&&(i=n.defaultFormat(t.core.DataType.Number,!1)),null!=i)return n.format(i,e)}return null},i.prototype._position=function(t,e){this.__layouter._translateTo(t,e),this.__layouter._layoutTicks()},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._layoutContent=function(t,e,n){},i.prototype._drawView=function(t,e){t.beginTransform(),this._applyStyle(t),this._applyTextStyle(t),this._renderAxisLine(t,e);for(var n=0,i=this.__ticks;n<i.length;n++)i[n]._renderTick(t);for(var o=0,r=this.__ticks;o<r.length;o++)r[o]._renderLabel(t);t.restoreTransform()},i.prototype._renderAxisLine=function(e,n){e.beginTransform();var i=this.__layouter._getBarRect();e.drawRect(i.left,i.top,i.width,i.height),this._gradientLegendContentView()._orientation()==t.Orientation.Horizontal?e.drawLine(i.left,i.top,i.right,i.top):e.drawLine(i.right,i.top,i.right,i.bottom),e.restoreTransform()},i}(t._BaseView);t._LegendAxisView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i,i._option,i._kind())||this;if(!i._getAvailable())throw new t.AssertError(t.ErrorCode.UnexpectedValue,i);return o.__data=i,o}return n(i,e),i.prototype._title=function(){var e=null!=this._option?t._AnyTypeUtility._toStringOrNull(this._option.title):null;return null==e?this._data()._labelBuilder._build():e},i.prototype._data=function(){return this.__data},i.prototype._hasTittle=function(){return null!=this.title&&this.title.length>0},i.prototype._createContentView=function(){return new t._GradientLegendContentView(this,this._data())},i.prototype._renderLegendContent=function(t,e){this._contentView()._render(t,e)},i}(t._LegendView);t._GradientLegendView=e}(t||(t={})),t||(t={}),function(t){t._isLinearLegendDataModel=function(t){var e=t;return"function"==typeof e._linearScale&&"function"==typeof e._getColorProvider&&"function"==typeof e._getColorByPoint&&"function"==typeof e._ticks&&"function"==typeof e._linearColor&&"function"==typeof e._format}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n){this._definitions=[],this._addLegend(e),this._addLegend(n),this._adopter=e._adopter,this._option=e._option,this._labelBuilder=new t.models._LegendLabelBuilder,this._labelBuilder._addLabelBuilder(e._labelBuilder),this._labelBuilder._addLabelBuilder(n._labelBuilder),this.__kind=0,this._applyKind(e._kind()),this._applyKind(n._kind())}return e.prototype._addLegend=function(e){var n;if(t._isMergedLegendDataModel(e)){var i=e;(n=this._definitions).push.apply(n,i._definitions)}else if(t._isSingleLegendDataModel(e)){var o=e;this._definitions.push(o._definition)}},e.prototype._applyKind=function(t){this.__kind|=t},e.prototype._kind=function(){return this.__kind},e.prototype._getDefinition=function(){return this._definitions[0]},e.prototype._visualType=function(){return this._getDefinition()._legendVisualType},e.prototype._getLegendSymbol=function(t){return t._plotDefinition._legendSymbolViewBuilder._buildLegendSymbolView(t._plotDefinition)},e.prototype._getAvailable=function(){return!0},e.prototype._findRelatedPlotViews=function(t){var e=this._definitions.map((function(t){return t._plotDefinition}));return t._getPlotViews().filter((function(t){return e.indexOf(t._getDefinition())>=0}))},e.prototype._refresh=function(t){},e.prototype._getColorIterator=function(t){var e=this._definitions[0]._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},e.prototype.queryInterface=function(e){return"IColorLegend"===e&&t._LegendUtility._isType(this,t.LegendType.Color)?this:null},e}();t._MergedLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i)||this;return o.__items=[],o._dataPointKeysMap=new t._Map,o}return n(i,e),i.prototype._items=function(){return this.__items},i}(t._MergedLegendDataModel);t._MergedItemizedLegendDataModel=e}(t||(t={})),function(t){t._isMergedLegendDataModel=function(t){return null!=t&&void 0!==t._definitions}}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i)||this;return o.__linearScale=new t._LinearGradientColorScale,o}return n(i,e),i.prototype._linearColor=function(e){return new t._LinearGradientColor(e,this._linearScale()._getRange())},i.prototype._linearScale=function(){return this.__linearScale},i.prototype._ticks=function(){return this.__ticks.slice()},i.prototype._format=function(){return this._definitions[0]._format},i.prototype._getColorProvider=function(){return this._definitions[0]._plotDefinition._valueColorProvider},i.prototype._getColorByPoint=function(e){if(t._isNumbericLegendEncodingDefinition(this._definitions[0])){var n=this._definitions[0],i=t._DataSlicesAggregate._defaultAggregate._aggregate(e._data()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=i?new t._CssColor(this._linearScale()._scaleValue(i).color):null}return null},i}(t._MergedLegendDataModel);t._MergedLinearLegendDataModel=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._MergedItemizedLegendDataModel);t._MergedRangeLegendDataModel=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._MergedItemizedLegendDataModel);t._MergedValueLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInLegendMergePolicies=function(){return null==i.__buildInLegendMergePolicies&&(i.__buildInLegendMergePolicies=new i([],i._pluginType)),i.__buildInLegendMergePolicies},i.prototype._convert=function(e){return t._isLegendMergePolicyBuilder(e)?e:null},i.prototype._legendMergePolicies=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item._buildLegendMergePolicy(t);null!=l&&i.push(l)}return i},i._pluginType="LegendMergePolicy",i}(t._BuildInObjectCollection);t._BuildInLegendMergePolicyCollection=e}(t||(t={})),t||(t={}),function(t){t._isLegendMergePolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildLegendMergePolicy}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInOverlayLegendDataModelBuilders=function(){return null==i.__buildInOverlayLegendDataModelBuilders&&(i.__buildInOverlayLegendDataModelBuilders=new i([new t.models._OverlayColorLegendBuilder],i._pluginType)),i.__buildInOverlayLegendDataModelBuilders},i.prototype._convert=function(e){return t._isOverlayLegendDataModelBuilder(e)?e:null},i.prototype._overlayLegendDataModel=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item._buildOverlayLegendDataModel(t,e);if(null!=l)return l}return null},i._pluginType="OverlayLegendDataModel",i}(t._BuildInObjectCollection);t._BuildInOverlayLegendDataModelBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isOverlayLegendDataModelBuilder=function(t){return null!=t&&"function"==typeof t._buildOverlayLegendDataModel}}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._merge=function(t){return 0==t.length?null:t[0]},t}();t.LegendOverlayDefinitionsMerger=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype._buildOverlayLegendDataModel=function(e,n){var i=this._getLegendDefinition(e._overlayDefinitions());return null!=i?new t._OverlayItemizedLegendDataModel(i,n._getOption(i._plotDefinition._plotOption.name,t.LegendType.Overlay)):null},e.prototype._getLegendDefinition=function(e){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];if(t._isLegendOverlayDefinition(r)){var l=r;n.push(l._legendOverlayDefinition)}}return(new t.LegendOverlayDefinitionsMerger)._merge(n)},e.prototype.queryInterface=function(t){return"IOverlayLegendDataModelBuilder"==t?this:null},e}(),e._OverlayColorLegendBuilder=n}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInLegendViewBuilders=function(){return null==i.__buildInLegendViewBuilders&&(i.__buildInLegendViewBuilders=new i([],i._pluginType)),i.__buildInLegendViewBuilders},i.prototype._convert=function(e){return t._isLegendViewBuilder(e)?e:null},i.prototype._legendView=function(t,e,n,i,o){for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item._buildLegendView(t,e);if(null!=a)return a}return n._buildLegendView(t,e)},i._pluginType="LegendViewBuilder",i}(t._BuildInObjectCollection);t._BuildInLegendViewBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendView=function(e,n){if(n._getAvailable()){if(t._isLinearLegendDataModel(n)){var i=n;return this._createGradientLegendView(e,i)}if(t._isItemizedLegendDataModel(n)){var o=n;return 0==o._items().length?null:this._createItemizedLegendView(e,o)}}return null},e.prototype._createItemizedLegendView=function(e,n){return new t._ItemizedLegendView(e,n)},e.prototype._createGradientLegendView=function(e,n){return new t._GradientLegendView(e,n)},e.prototype.queryInterface=function(t){return"ILegendViewBuilder"==t?this:null},e}();t._DefaultLegendViewBuilder=e}(t||(t={})),function(t){t._isLegendViewBuilder=function(t){return null!=t&&"function"==typeof t._buildLegendView}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t,e){void 0===t&&(t=!1),void 0===e&&(e=!0),this.__showSymbols=t,this.__useSymbolStyle=e}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&(!this.__showSymbols||e.symbols==n.symbols)&&(this.__useSymbolStyle?t._SymbolDataPointStyleOptionEqualityComparer._symbolDataPointStyleOptionEqualityComparer._equalsWith(e.style,n.style):t._StyleDataPointStyleOptionEqualityComparer._styleDataPointStyleOptionEqualityComparer._equalsWith(e.style,n.style))},e}(),n=function(){function n(t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),this._plotConfigOptionUsageEqualityComparer=new e(t,n)}return n.prototype._buildLegendSymbolView=function(e){var n=new t._LegendSymbolView;return n._setPlotDefinition(e),n},n}();t._LegendSymbolViewBuilder=n}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInQueryBuilders=function(){return null==i.__buildInQueryBuilders&&(i.__buildInQueryBuilders=new i([],i._pluginType)),i.__buildInQueryBuilders},i.prototype._convert=function(e){return t._isQueryBuilder(e)?e:null},i.prototype._dataSlicesQuery=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildQuery(t);if(null!=r)return r}return null},i._pluginType="Query",i}(t._BuildInObjectCollection);t._BuildInQueryBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(t){this.__dataField=t}return e.prototype._buildGroupingKey=function(e){return t._DataSlicesAggregate._defaultAggregate._aggregate(e,this.__dataField,t.Aggregate.List)},e}();t._DataValueTypeGroupingKeyBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this._key=t,this.__dataSlices=null}return Object.defineProperty(e.prototype,"_dataSlices",{get:function(){return this.__dataSlices},enumerable:!1,configurable:!0}),e.prototype._mergeDataSlices=function(e){null==this.__dataSlices?this.__dataSlices=e:this.__dataSlices=t._DataSlicesUtility._merge([this.__dataSlices,e])},e}();t._GroupingInfo=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isQueryBuilder=function(t){return null!=t&&"function"==typeof t._buildQuery}}(t||(t={})),function(t){var e=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),this._groupingFieldDefinition=t,this._sortDefinition=e,this._filter=n};t._GroupingDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(t){this.dataFieldDefinition=t};t.QueryAggregateOption=e}(t||(t={})),function(t){var e=function(t){this.dataFieldDefinition=t};t.QueryFilterOption=e}(t||(t={})),function(t){var e=function(t){this.groupingDefinition=t};t.QueryGroupByOption=e}(t||(t={})),function(t){var e=function(t,e){this.sortDefinion=t,this.dataFieldDefinition=e};t.QueryOrderByOption=e}(t||(t={})),function(t){var e=function(){function t(){this._groupByOptions=[],this._orderByOptions=[],this._filterOptions=[],this._aggregateOptions=[]}return t.prototype.groupBy=function(t){var e;return(e=this._groupByOptions).push.apply(e,t),this},t.prototype.orderBy=function(t){var e;return(e=this._orderByOptions).push.apply(e,t),this},t.prototype.filter=function(t){var e;return(e=this._filterOptions).push.apply(e,t),this},t.prototype.aggregate=function(t){var e;return(e=this._aggregateOptions).push.apply(e,t),this},t}();t.Query=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){this.groups=[],this.info=new t.QueryResultInfo};t.QueryResult=e}(t||(t={})),function(t){var e=function(){this.groupFields=[],this.aggregateFields=[]};t.QueryResultInfo=e}(t||(t={})),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isRender=function(t){var e=t;return null!=e&&void 0!==e.renderEngine&&"function"==typeof e.beginRender&&"function"==typeof e.endRender&&"function"==typeof e.setViewportSize&&"function"==typeof e.beginTransform&&"function"==typeof e.restoreTransform&&"function"==typeof e.measureSingleLineString&&"function"==typeof e.measureMultiLineString&&"function"==typeof e.drawGroup&&"function"==typeof e.drawPath&&"function"==typeof e.drawRect&&"function"==typeof e.drawLine&&"function"==typeof e.drawLines&&"function"==typeof e.drawPolygon&&"function"==typeof e.drawEllipse&&"function"==typeof e.drawImage&&"function"==typeof e.drawSingleLineString&&"function"==typeof e.drawMultiLineString&&"function"==typeof e.drawMultiLines&&"function"==typeof e.drawDonut&&"function"==typeof e.createGroup&&"function"==typeof e.startReferenceGroup&&"function"==typeof e.endReferenceGroup}}(t||(t={})),t||(t={}),function(t){!function(t){t._isRenderPolicies=function(t){return null!=t&&void 0!==t.wordWrapPolicy}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function t(t,e){this.text=t,this.size=e}return t.prototype.clone=function(){return new t(this.text,this.size)},t}();t._LineStringMetricsResult=e}(t||(t={})),function(t){var e=function(t,e){this.lineMetricsResults=t.slice(),this.size=e};t._MultiLineStringMetricsResult=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInStringWrapPolicyBuilders=function(){return null==i.__buildInStringWrapPolicyBuilders&&(i.__buildInStringWrapPolicyBuilders=new i([],i._pluginType)),i.__buildInStringWrapPolicyBuilders},i.prototype._convert=function(e){return t._isStringWrapPolicyBuilder(e)?e:null},i.prototype._stringWrapPolicy=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildStringWrapPolicy();if(null!=r)return r}return t._DefaultWordWrapPolicy._defaultWordWrapPolicy},i._pluginType="StringWrap",i}(t._BuildInObjectCollection);t._BuildInStringWrapPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._measureString=function(t,e){return t.measureString(e)},e.prototype._splitWords=function(t,e){for(var n=[],i=0,o=0;o<t.length;o++){n.length===i&&n.push("");var r=t.charAt(o),l="";o+1<t.length&&(l=t.charAt(o+1));for(var a=!1,u=0;u<e.length;u++){var s=e[u];if(r===s&&l!==s){a=!0;break}}a?(n[i]+=r,i++):n[i]+=r}return n},e.prototype._trimEndSpace=function(t){for(var e=t.length-1;" "===t.charAt(e);)e--;return e!==t.length-1&&(t=t.substring(0,e+1)),t},e.prototype._wrapAWord=function(t,e,n,i){for(var o=[],r=this._measureString(n,t),l=i,a=l?r.height:r.width,u=a/t.length,s=Math.ceil(e/u);a>e&&null!=t&&""!==t;)for(var _=!1,p=s;;){if(t.length<p){o.push(t),t="";break}var c=t.substring(0,p),h=this._measureString(n,c),f=l?h.height:h.width;if(l||"-"!==c.charAt(c.length-1)||(f-=this._measureString(n,"-").width),f===e||_&&f<e){o.push(c),t=t.substring(p),a-=f;break}if(f>e){if(1===c.length){var d=t.substring(c.length).trim();null!=d&&""!==d?(o.push(c),t=t.substring(p),a-=f):(o.push(t),t="");break}p-=1,_=!0}else{var y=(e-f)/u;p+=y=y>=1?y:1}}return null!=t&&""!==t&&-1===t.search(/^[ ]*$/)&&o.push(t),o},e.prototype.buildWrappedStrings=function(n,i,o,r){if(null==n||o<=0||i.length<=0)return new t._StringWrapResult([i],!0);var l=[],a=null==r;r=null!=r?r:e.__defaultSeparators;for(var u=this._splitWords(i,r),s=n.textWritingMode==t.TextWritingMode.Vertical,_=this._measureString(n,i),p=(s?_.height:_.width)/i.length,c=Math.floor(o/p),h=0,f=0,d=0,y=0,g=[],m=!1,v=!0;y<u.length;){if(!1===m){var w=u[y];if(g.push(w),(f+=w.length)<c&&y<u.length-1){y++;continue}d=f,f=0}var b=g.join(""),P=this._measureString(n,this._trimEndSpace(b)),S=s?P.height:P.width;if(s||"-"!==b.charAt(b.length-1)||(S-=this._measureString(n,"-").width),S>o){var C=g.pop();if(0===g.length)if(a){var V=this._wrapAWord(C,o,n,s),x=1==V.length;x||(v=x);for(var D=0;D<V.length-1;D++)t._Utility._assignValueToArray(l,h,V[D],null),h++;1===V.length&&(t._Utility._assignValueToArray(l,h,V[0],null),h++),V.length>=2?t._Utility._assignValueToArray(u,y,V[V.length-1],null):y++,m=!1}else l.push(C),v=!1,y++;else m=!0,y--}else S<o&&!0===m||S===o?(m=!1,t._Utility._assignValueToArray(l,h,this._trimEndSpace(b),null),h++,g=[],y++):S<o&&(y++,f=d)}return 0!==g.length&&t._Utility._assignValueToArray(l,h,this._trimEndSpace(g.join("")),null),new t._StringWrapResult(l,v)},e.prototype.buildStringWrapPolicy=function(){return this},e.prototype.queryInterface=function(t){return"IStringWrapPolicy"===t||"IStringWrapPolicyBuilder"===t?this:null},e._defaultWordWrapPolicy=new e,e.__defaultSeparators=[" ","-"],e}();t._DefaultWordWrapPolicy=e}(t||(t={})),function(t){t._isStringWrapPolicy=function(t){return null!=t.buildWrappedStrings}}(t||(t={})),function(t){t._isStringWrapPolicyBuilder=function(t){return null!=t.buildStringWrapPolicy}}(t||(t={})),t||(t={}),function(t){var e=function(t,e){this.lines=t,this.canWrap=e};t._StringWrapResult=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(e,n,i,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),this.__savedContext=[],this.renderEngine=e,n=null==n?t._BuildInStringWrapPolicyBuilderCollection._buildInStringWrapPolicyBuilders()._stringWrapPolicy(i,o):n;var r=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("measureSingleLineString",i,o);null!=r&&t._isMeasureSingleLineStringRenderApi(r)?this.__measureSingleLineStringRenderApi=r:this.__measureSingleLineStringRenderApi=t._MeasureSingleLineStringRenderApi._measureSingleLineStringRenderApi;var l=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("measureMultiLineString",i,o);null!=l&&t._isMeasureMultiLineStringApi(l)?this.__measureMultiLineStringApi=l:this.__measureMultiLineStringApi=new t._MeasureMultiLineStringRenderApi(n);var a=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("drawSingleLineString",i,o);null!=a&&t._isDrawSingleLineStringRenderApi(a)?this.__drawSingleLineStringRenderApi=a:this.__drawSingleLineStringRenderApi=t._DrawSingleLineStringRenderApi._drawSingleLineStringRenderApi;var u=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("drawMultiLineString",i,o);null!=u&&t._isDrawMultiLineStringRenderApi(u)?this.__drawMultiLineStringRenderApi=u:this.__drawMultiLineStringRenderApi=new t._DrawMultiLineStringRenderApi(o);var s=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("drawMultiLines",i,o);null!=s&&t._isDrawMultiLinesRenderApi(s)?this.__drawMultiLinesRenderApi=s:this.__drawMultiLinesRenderApi=t._DrawMultiLinesRenderApi._drawMultiLinesRenderApi;var _=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("drawDonut",i,o);null!=_&&t._isDrawDonutRenderApi(_)?this.__drawDonutRenderApi=_:this.__drawDonutRenderApi=t._DrawDonutRenderApi._drawDonutRenderApi}return e.prototype.beginRender=function(){this.beginTransform(),null!=this.renderEngine&&this.renderEngine.beginRender()},e.prototype.endRender=function(){null!=this.renderEngine&&this.renderEngine.endRender(),this.restoreTransform()},e.prototype.setViewportSize=function(t,e){null!=this.renderEngine&&this.renderEngine.setViewportSize(t,e)},e.prototype.beginTransform=function(){this.__savedContext.push(t._StyleCloneMaker._styleCloneMaker._cloneOf(this))},e.prototype.restoreTransform=function(){if(this.__savedContext.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray,this.__savedContext);var e=this.__savedContext.pop();t._StyleUtility._copyAllStyle(this,e)},e.prototype.measureSingleLineString=function(e){return null==this.renderEngine?new t.core.Size(0,0):this.__measureSingleLineStringRenderApi.measureSingleLineString(this.renderEngine,e)},e.prototype.measureMultiLineString=function(e,n,i,o){return void 0===o&&(o=null),null==this.renderEngine?new t._MultiLineStringMetricsResult([],new t.core.Size(0,0)):this.__measureMultiLineStringApi.measureMultiLineString(this.renderEngine,e,n,i,o)},e.prototype.createGroup=function(e,n,i,o,r,l,a,u,s){if(null==this.renderEngine||!t._isPrimitivesRenderEngine(this.renderEngine))return null;var _=this.renderEngine.createGroup(e,n,i,o,r,l);return null!=_&&(_.offsetX=a,_.offsetY=u,null!=s&&s(this),this.renderEngine.endGroup()),_},e.prototype.drawGroup=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),null!=this.renderEngine&&(t._NativeExtension._isNullOrEmptyString(e)&&null==n&&null==i?o(this):(this.renderEngine.startGroup(e,n,i),o(this),this.renderEngine.endGroup()))},e.prototype.drawPath=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.renderEngine&&this.renderEngine.drawPath(t,e,n,i,o,r)},e.prototype.drawRect=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.renderEngine&&n>0&&i>0&&this.renderEngine.drawRect(t,e,n,i,o,r)},e.prototype.drawLine=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.renderEngine&&(t==n&&e==i||this.renderEngine.drawLine(t,e,n,i,o,r))},e.prototype.drawLines=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null),null!=this.renderEngine&&this.renderEngine.drawLines(t,e,n,i)},e.prototype.drawPolygon=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null),null!=this.renderEngine&&this.renderEngine.drawPolygon(t,e,n,i)},e.prototype.drawEllipse=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.renderEngine&&this.renderEngine.drawEllipse(t,e,n,i,o,r)},e.prototype.drawImage=function(t,e,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null),null!=this.renderEngine&&this.renderEngine.drawImage(t,e,n,i,o,r,l)},e.prototype.drawSingleLineString=function(t,e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),null!=this.renderEngine&&this.__drawSingleLineStringRenderApi.drawSingleLineString(this.renderEngine,t,e,n,i,o)},e.prototype.drawMultiLineString=function(t,e,n,i,o,r,l){void 0===o&&(o=null),void 0===r&&(r=null),void 0===l&&(l=null),null!=this.renderEngine&&this.__drawMultiLineStringRenderApi.drawMultiLineString(this.renderEngine,this.wordWrapPolicy,t,e,n,i,o,r,l)},e.prototype.drawMultiLines=function(t,e,n,i,o){null!=this.renderEngine&&this.__drawMultiLinesRenderApi.drawMultiLines(this.renderEngine,t,e,n,i,o)},e.prototype.drawDonut=function(t,e,n,i,o,r,l,a){void 0===l&&(l=null),void 0===a&&(a=null),null!=this.renderEngine&&this.__drawDonutRenderApi.drawDonut(this.renderEngine,t,e,n,i,o,r,l,a)},e.prototype.startReferenceGroup=function(e){null!=this.renderEngine&&t._isPrimitivesRenderEngine(this.renderEngine)&&this.renderEngine.startReferenceGroup(e)},e.prototype.endReferenceGroup=function(){null!=this.renderEngine&&t._isPrimitivesRenderEngine(this.renderEngine)&&this.renderEngine.endReferenceGroup()},Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return null!=this.renderEngine?this.renderEngine.fillOpacity:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.fillOpacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return null!=this.renderEngine?this.renderEngine.fill:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.fill=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return null!=this.renderEngine?this.renderEngine.strokeOpacity:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.strokeOpacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return null!=this.renderEngine?this.renderEngine.stroke:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.stroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return null!=this.renderEngine?this.renderEngine.strokeWidth:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.strokeWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeDasharray",{get:function(){return null!=this.renderEngine?this.renderEngine.strokeDasharray:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.strokeDasharray=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scalingStroke",{get:function(){return null!=this.renderEngine?this.renderEngine.scalingStroke:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.scalingStroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return null!=this.renderEngine?this.renderEngine.fontFamily:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.fontFamily=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return null!=this.renderEngine?this.renderEngine.fontSize:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.fontSize=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return null!=this.renderEngine?this.renderEngine.fontWeight:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.fontWeight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return null!=this.renderEngine?this.renderEngine.fontStyle:t.FontStyle.Normal},set:function(t){null!=this.renderEngine&&(this.renderEngine.fontStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textOpacity",{get:function(){return null!=this.renderEngine?this.renderEngine.textOpacity:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textOpacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textFill",{get:function(){return null!=this.renderEngine?this.renderEngine.textFill:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textFill=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textOverline",{get:function(){return null!=this.renderEngine?this.renderEngine.textOverline:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textOverline=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textLineThrough",{get:function(){return null!=this.renderEngine?this.renderEngine.textLineThrough:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textLineThrough=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textUnderline",{get:function(){return null!=this.renderEngine?this.renderEngine.textUnderline:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textUnderline=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWritingMode",{get:function(){return null!=this.renderEngine?this.renderEngine.textWritingMode:null},set:function(t){null!=this.renderEngine&&(this.renderEngine.textWritingMode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapPolicy",{get:function(){return this.__measureMultiLineStringApi.wordWrapPolicy},enumerable:!1,configurable:!0}),e.prototype.queryInterface=function(t){return"IRender"==t||"IRenderPolicies"==t?this:null},e}(),e._Render=n}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInRenderApiBuilders=function(){return null==i.__buildInRenderApiBuilders&&(i.__buildInRenderApiBuilders=new i([],i._pluginType)),i.__buildInRenderApiBuilders},i.prototype._convert=function(e){return t._isRenderApiBuilder(e)?e:null},i.prototype.renderApi=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i],l=r.item.buildRenderApi(t,r.option);if(null!=l)return l}return null},i._pluginType="RenderApi",i}(t._BuildInObjectCollection);t._BuildInRenderApiBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){this.api="drawDonut"}return e.prototype.drawDonut=function(e,n,i,o,r,l,a,u,s){if(!(o<=0)&&0!=a)if(r<0)e.drawEllipse(n,i,o,o,u);else if(r===o&&a>=t._Utility._PI2){var _=e.fill;e.fill=t._CssColor._none(),e.drawEllipse(n,i,o,o,u),e.fill=_}else if(r===o&&a<t._Utility._PI2){_=e.fill,e.fill=t._CssColor._none();var p=t._PathBuilder._defaultPathBuilder._buildDonutSegment(n,i,o,r,l,a);e.drawPath(p,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter,u,s),e.fill=_}else p=t._PathBuilder._defaultPathBuilder._buildDonutSegment(n,i,o,r,l,a),e.drawPath(p,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter,u,s)},e._drawDonutRenderApi=new e,e}();t._DrawDonutRenderApi=e}(t||(t={})),function(t){t._isDrawDonutRenderApi=function(t){return"function"==typeof t.drawDonut}}(t||(t={})),function(t){var e=function(){function e(){this.api="drawMultiLines"}return e.prototype._draw=function(e,n,i,o){if(null!=n)if(e.textWritingMode==t.TextWritingMode.Vertical)for(var r=i.right,l=i.top,a=0,u=n;a<u.length;a++)r-=(p=u[a]).size.width,o==t.HAlign.Left?e.drawString(p.text,r-p.size.width,l):o==t.HAlign.Center?e.drawString(p.text,r-p.size.width,l+(i.height-p.size.height)/2):o==t.HAlign.Right&&e.drawString(p.text,r-p.size.width,l+i.height-p.size.height);else{r=i.left,l=i.top;for(var s=0,_=n;s<_.length;s++){var p;l+=(p=_[s]).size.height,o==t.HAlign.Left?e.drawString(p.text,r,l):o==t.HAlign.Center?e.drawString(p.text,r+(i.width-p.size.width)/2,l):o==t.HAlign.Right&&e.drawString(p.text,r+i.width-p.size.width,l)}}},e.prototype.drawMultiLines=function(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=e&&(null!=o||null!=r?(t.startGroup(null,o,r),this._draw(t,e,n,i),t.endGroup()):this._draw(t,e,n,i))},e._drawMultiLinesRenderApi=new e,e}();t._DrawMultiLinesRenderApi=e}(t||(t={})),function(t){t._isDrawMultiLinesRenderApi=function(t){return"function"==typeof t.drawMultiLines}}(t||(t={})),function(t){var e=function(){function e(t){this.api="drawMultiLineString",this.__pluginCollection=t}return e.prototype._measureMultiLineStringRenderApi=function(e){var n=t._BuildInRenderApiBuilderCollection._buildInRenderApiBuilders().renderApi("measureMultiLineString",null,this.__pluginCollection);return null!=n&&t._isMeasureMultiLineStringApi(n)?n:new t._MeasureMultiLineStringRenderApi(e)},e.prototype._draw=function(e,n,i,o,r,l,a){var u=this._measureMultiLineStringRenderApi(n);if(e.textWritingMode==t.TextWritingMode.Vertical)for(var s=u.measureMultiLineString(e,i,o.height,r,a),_=o.right,p=o.top,c=0,h=s.lineMetricsResults;c<h.length;c++)_-=(y=h[c]).size.width,l==t.HAlign.Left?e.drawString(y.text,_-y.size.width,p):l==t.HAlign.Center?e.drawString(y.text,_-y.size.width,p+(o.height-y.size.height)/2):l==t.HAlign.Right&&e.drawString(y.text,_-y.size.width,p+o.height-y.size.height);else{s=u.measureMultiLineString(e,i,o.width,r,a),_=o.left,p=o.top;for(var f=0,d=s.lineMetricsResults;f<d.length;f++){var y;p+=(y=d[f]).size.height,l==t.HAlign.Left?e.drawString(y.text,_,p):l==t.HAlign.Center?e.drawString(y.text,_+(o.width-y.size.width)/2,p):l==t.HAlign.Right&&e.drawString(y.text,_+o.width-y.size.width,p)}}},e.prototype.drawMultiLineString=function(e,n,i,o,r,l,a,u,s){void 0===a&&(a=null),void 0===u&&(u=null),void 0===s&&(s=null),t._NativeExtension._isNullOrEmptyString(i)||(null!=a||null!=u?(e.startGroup(null,a,u),this._draw(e,n,i,o,r,l,s),e.endGroup()):this._draw(e,n,i,o,r,l,s))},e}();t._DrawMultiLineStringRenderApi=e}(t||(t={})),function(t){t._isDrawMultiLineStringRenderApi=function(t){return"function"==typeof t.drawMultiLineString}}(t||(t={})),function(t){var e=function(){function e(){this.api="drawSingleLineString"}return e.prototype.drawSingleLineString=function(e,n,i,o,r,l){t._NativeExtension._isNullOrEmptyString(n)||e.drawString(n,i,o,r,l)},e._drawSingleLineStringRenderApi=new e,e}();t._DrawSingleLineStringRenderApi=e}(t||(t={})),function(t){t._isDrawSingleLineStringRenderApi=function(t){return"function"==typeof t.drawSingleLineString}}(t||(t={})),t||(t={}),function(t){t._isRenderApiBuilder=function(t){return"function"==typeof t.buildRenderApi}}(t||(t={})),function(t){t._isMeasureMultiLineStringApi=function(t){return"function"==typeof t.measureMultiLineString}}(t||(t={})),function(t){var e=function(){function e(t){this.wordWrapPolicy=t,this.api="measureMultiLineString"}return e.prototype._measureMultipleLines=function(e,n,i,o,r){for(var l=[],a=0,u=n.buildWrappedStrings(e,i,o,r).lines;a<u.length;a++){var s=u[a];l.push(new t._LineStringMetricsResult(s,this._measureString(e,s)))}return l},e.prototype._measureEllipsisLine=function(e,n,i){var o=e.textWritingMode==t.TextWritingMode.Vertical,r=this._measureString(e,n);if(o&&r.height<=i||!o&&r.width<=i)return new t._LineStringMetricsResult(n,r);var l=new t.core.Size(0,0),a="",u=0,s=n.length;do{var _=n.substring(0,u+s)+"...";if(r=this._measureString(e,_),o&&r.height<=i||!o&&r.width<=i)u+=s,l=r,a=_,s=n.length-u;else{if(1==s)break;s>0&&(s=Math.floor(s/2))<1&&(s=1)}}while(s>0);return u<=0?(u=1,r=this._measureString(e,n.substring(0,u)+"..."),o&&r.height<=i||!o&&r.width<=i?new t._LineStringMetricsResult(n.substring(0,u)+"...",r):(r=this._measureString(e,"..."),o&&r.height<=i||!o&&r.width<=i?new t._LineStringMetricsResult("...",r):(r=this._measureString(e,".."),o&&r.height<=i||!o&&r.width<=i?new t._LineStringMetricsResult("..",r):(r=this._measureString(e,"."),o&&r.height<=i||!o&&r.width<=i?new t._LineStringMetricsResult(".",r):new t._LineStringMetricsResult("",new t.core.Size(0,r.height)))))):new t._LineStringMetricsResult(a,l)},e.prototype._measureString=function(e,n){if(n.length<=0){var i=e.measureString("A");return e.textWritingMode==t.TextWritingMode.Vertical?i.height=0:i.width=0,i}return e.measureString(n)},e.prototype.measureMultiLineString=function(e,n,i,o,r){var l;if(null==n)return new t._MultiLineStringMetricsResult([],new t.core.Size(0,0));var a=e.textWritingMode==t.TextWritingMode.Vertical;if(n.length<=0){var u=new t._LineStringMetricsResult("",this._measureString(e,"A"));return new t._MultiLineStringMetricsResult([u],u.size)}for(var s=new t._MultiLineStringMetricsResult([],new t.core.Size(0,0)),_=0,p=n.split("\n");_<p.length;_++){var c=p[_];o==t.TextOverflow.Wrap?(l=s.lineMetricsResults).push.apply(l,this._measureMultipleLines(e,this.wordWrapPolicy,c,i,r)):o==t.TextOverflow.Ellipsis?s.lineMetricsResults.push(this._measureEllipsisLine(e,c,i)):s.lineMetricsResults.push(new t._LineStringMetricsResult(c,this._measureString(e,c)))}for(var h=0,f=s.lineMetricsResults;h<f.length;h++){var d=f[h];a?(s.size.width+=d.size.width,s.size.height<d.size.height&&(s.size.height=d.size.height)):(s.size.height+=d.size.height,s.size.width<d.size.width&&(s.size.width=d.size.width))}return s},e}();t._MeasureMultiLineStringRenderApi=e}(t||(t={})),function(t){t._isMeasureSingleLineStringRenderApi=function(t){return"function"==typeof t.measureSingleLineString}}(t||(t={})),function(t){var e=function(){function e(){this.api="measureSingleLineString"}return e.prototype.measureSingleLineString=function(e,n){if(null==n)return new t.core.Size(0,0);if(n.length<=0){var i=e.measureString("A");return e.textWritingMode==t.TextWritingMode.Vertical?i.height=0:i.width=0,i}return e.measureString(n)},e._measureSingleLineStringRenderApi=new e,e}();t._MeasureSingleLineStringRenderApi=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t,n,i,o){void 0===n&&(n=null),void 0===o&&(o=null),this._hostElement=t,null==n||isNaN(n)?(this._devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,this._devicePixelRatio<1&&(this._devicePixelRatio=1)):this._devicePixelRatio=n,this.__pluginOptions=i,this.__pluginCollection=o,this.__defaultSurfaceRender=new e._CanvasSurfaceRender(this,this._devicePixelRatio,i,o)}return n.prototype.dispose=function(){null!=this.__defaultSurfaceRender&&(this.__defaultSurfaceRender.dispose(),this.__defaultSurfaceRender=null)},n.prototype.defaultSurfaceRender=function(){return this.__defaultSurfaceRender},n.prototype._createMemorySurfaceRender=function(){var t=new e._CanvasSurfaceRender(this,this._devicePixelRatio,this.__pluginOptions,this.__pluginCollection);return this._hostElement.removeChild(this._hostElement.lastChild),e._CanvasSurfaceRender._copyStyle(this.__defaultSurfaceRender,t),t},n.prototype._createRenderEngine=function(){return t.BuildInRenderEngineBuilderCollection.defaultBuildInRenderEngineBuilders()._renderEngine("Canvas",this._hostElement,this._devicePixelRatio,this.__pluginOptions,this.__pluginCollection)},n}(),e._CanvasGraphicsRender=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t,n,i,o){this.__graphicsRender=t,this.__renderEngine=this.__graphicsRender._createRenderEngine(),this.__render=new e._Render(this.__renderEngine,null,i,o)}return n._copyStyle=function(t,e){var n=t._render(),i=e._render();i.fillOpacity=n.fillOpacity,i.strokeOpacity=n.strokeOpacity,i.fill=n.fill,i.stroke=n.stroke,i.strokeWidth=n.strokeWidth,i.strokeDasharray=n.strokeDasharray,i.textFill=n.textFill,i.fontFamily=n.fontFamily,i.fontSize=n.fontSize,i.fontWeight=n.fontWeight,i.fontStyle=n.fontStyle,i.textOverline=n.textOverline,i.textLineThrough=n.textLineThrough,i.textUnderline=n.textUnderline},n.copy1=function(t,e,n,i,o,r,l,a,u,s){var _=t._getRenderElement(),p=e._getRenderElement();_ instanceof HTMLCanvasElement&&p instanceof HTMLCanvasElement&&o>0&&r>0&&u>0&&s>0&&p.getContext("2d").drawImage(_,n,i,o,r,l,a,u,s)},n.prototype.dispose=function(){null!=this.__renderEngine&&(t._DomElementUtility._remove(this.__renderEngine._canvasElement),this.__renderEngine=null),this.__render=null},n.prototype._render=function(){return this.__render},n.prototype.queryInterface=function(t){return"ISurfaceRender"==t?this:null},n.prototype.copyTo1=function(t,e,i,o,r,l,a,u,s){n.copy1(this,t,e,i,o,r,l,a,u,s)},n.prototype._getRenderElement=function(){var e=this._render().renderEngine;return null!=e&&t._isCanvasRenderEngine(e)?e._canvasElement:null},n.prototype._createRenderEngine=function(n,i,o,r){void 0===r&&(r=null);var l=t.BuildInRenderEngineBuilderCollection.defaultBuildInRenderEngineBuilders()._renderEngine("Canvas",n,i,o,r);return null!=l?new e._Render(l,null,o,r):null},n}(),e._CanvasSurfaceRender=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t,n,i){void 0===i&&(i=null),this._hostElement=t,this.__renderEngine=this._createRenderEngine(this._hostElement,null,n,i),this.__defaultSurfaceRender=new e._SvgSurfaceRender(this.__renderEngine,n,i)}return n.prototype.dispose=function(){null!=this.__defaultSurfaceRender&&(this.__defaultSurfaceRender.dispose(),this.__defaultSurfaceRender=null),null!=this.__renderEngine&&(t._DomElementUtility._remove(this.__renderEngine._svgElement),this.__renderEngine=null)},n.prototype.defaultSurfaceRender=function(){return this.__defaultSurfaceRender},n.prototype._renderEngine=function(){return this.__renderEngine},n.prototype._createRenderEngine=function(e,n,i,o){void 0===o&&(o=null);var r=t.BuildInRenderEngineBuilderCollection.defaultBuildInRenderEngineBuilders()._renderEngine("Svg",e,n,i,o);return null!=r&&t._isSvgRenderEngine(r)?r:null},n}(),e._SvgGraphicsRender=n}(t||(t={})),function(t){!function(t){var e=function(){function e(e,n,i){this.__renderEngine=e,this.__render=new t._Render(this.__renderEngine,null,n,i)}return e.prototype.dispose=function(){this.__render=null},e.prototype._render=function(){return this.__render},e.prototype.queryInterface=function(t){return"ISurfaceRender"==t?this:null},e}();t._SvgSurfaceRender=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInConditionalFormattingRuleBuilders=function(){return null==i.__buildInConditionalFormattingRuleBuilders&&(i.__buildInConditionalFormattingRuleBuilders=new i([],i._pluginType)),i.__buildInConditionalFormattingRuleBuilders},i.prototype._convert=function(e){return t._isConditionalFormattingRuleBuilder(e)?e:null},i.prototype._conditionalFormattingRule=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildConditionalFormattingRule(t,e,n);if(null!=r)return r}return null},i._pluginType="ConditionalFormattingRule",i}(t._BuildInObjectCollection);t._BuildInConditionalFormattingRuleBuilderCollection=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i){this.__option=e,this.__pluginOptions=n,this.__pluginCollection=i,null!=e.condition&&e.condition.length>0&&null!=e.actions&&e.actions.length>0?this.__calculationEngine=t._BuildInCalculationEngineBuilderCollection._defaultBuildInCalculationEngineBuilders()._calculationEngine("Default",this,n,i):this.__calculationEngine=null}return n.prototype._option=function(){return this.__option},n.prototype._current=function(){return this.__current},n.prototype.evaluate=function(t){null!=this.__calculationEngine&&(this.__current=t,this.__calculationEngine.evaluate("CONDITION",this._option().condition))},n.prototype.isIdentityExpression=function(t){return null!=e._RuleExpressionBuilder._defaultBuilder().build(t)},n.prototype.getIdentityValue=function(t){return e._RuleExpressionBuilder._defaultBuilder().build(t)._evaluate(this._current())},n.prototype.resultCallback=function(t){null!=t&&1==t&&this._applyActions()},n.prototype._applyActions=function(){for(var t=0,e=this._option().actions;t<e.length;t++){var n=e[t],i=this._findActionTarget(n);null!=i&&this._createTargetElementAction(n,this.__pluginOptions,this.__pluginCollection)._apply(i)}},n.prototype._findActionTarget=function(t){return this._current()},n.prototype._createTargetElementAction=function(t,n,i){return new e._TargetElementAction(t,n,i)},n}(),e._ConditionalFormattingRule=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i){this.__option=e,this.__calculationEngine=t._BuildInCalculationEngineBuilderCollection._defaultBuildInCalculationEngineBuilders()._calculationEngine("Default",this,n,i)}return n.prototype._apply=function(e){this.__target=e;for(var n=0,i=this.__option.properties;n<i.length;n++){var o=i[n],r=o.value;if("string"==typeof o.value){var l=t._AnyTypeUtility._toStringOrNull(o.value),a=/^\s*(?!\\)=\s*.+/.exec(l);null!=a&&(l=t._EscapedCharacterStringUtility._trim(a[0]).substring(1),null!=this.__calculationEngine&&(this.__result=null,this.__calculationEngine.evaluate("EXPRESSION",l),r=this.__result))}this._assign(e,o.name,r)}},n.prototype._assign=function(e,n,i){new t._AnyValueBinding(n)._setValue(e,i)},n.prototype.isIdentityExpression=function(t){return null!=e._RuleExpressionBuilder._defaultBuilder().build(t)},n.prototype.getIdentityValue=function(t){var n=e._RuleExpressionBuilder._defaultBuilder().build(t)._evaluate(this.__target);return null!=n&&e._isCssColor(n)&&(n=n.color),n},n.prototype.resultCallback=function(t){"number"==typeof t||"boolean"==typeof t||"string"==typeof t||t instanceof Date?this.__result=t:this.__result=null},n.prototype._parseColorValue=function(n){if(null==n)return null;if(e._isCssColor(n)||e._isLinearGradientColor(n)||e._isRadialGradientColor(n)||e._isPatternColor(n))return n;var i=t._CastExtension.toColorOptionOrNull(n);return t._OptionUtility._colorFromOption(i)},n.prototype._parseColorOptionValue=function(e){return null==e?null:t._CastExtension.toColorOptionOrNull(e)},n}(),e._TargetElementAction=n}(t||(t={})),function(t){!function(t){var e=function(e){function i(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return n(i,e),i.prototype._findActionTarget=function(t){return"DataPoint"==t.targetElement?this._current():null},i.prototype._getValueFromPoint=function(t,e){var n=t.queryInterface("IModelProxy");return null!=n?n.get(e):null},i.prototype._createTargetElementAction=function(n,i,o){var r=this._current().queryInterface("IModelProxy");return null!=r?new t._PointTargetElementAction(n,r,i,o):e.prototype._createTargetElementAction.call(this,n,i,o)},i}(t._ConditionalFormattingRule);t._PointConditionalFormattingRule=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="ConditionalFormattingRule",this.type=t._BuildInConditionalFormattingRuleBuilderCollection._pluginType,this.priority=1}return e.prototype.buildConditionalFormattingRule=function(e,n,i){return null!=e&&"DataPoint"===e.type?new t.models._PointConditionalFormattingRule(e,n,i):null},e.prototype.queryInterface=function(t){return"IConditionalFormattingRuleBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PointConditionalFormattingRulePlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i,o){return e.call(this,t,i,o)||this}return n(i,e),i.prototype._assign=function(e,n,i){var o=new t._AnyValueBinding(n);if(/^\s*(.+\.)*(text\..+)\s*$/.test(n))o._setValue(e,i);else if(/^\s*(.+\.)*size\s*$/.test(n)){var r=this._parseSizeValue(i);null!=r&&o._setValue(e,r)}else if(/^\s*(.+\.)*shape\s*$/.test(n)){var l=this._parseSymbolShape(e,i);null!=l&&o._setValue(e,l)}else if(/^\s*(.+\.)*(textStyle\.color)\s*$/.test(n))o._setValue(e,i);else if(/^\s*(.+\.)*color\s*$/.test(n)){var a=this._parseColorValue(i);o._setValue(e,a)}else/^\s*(.+\.)*(style\.((stroke)|(fill)|(backgroundColor)|(symbolStroke)|(symbolFill)))\s*$/.test(n)?(a=this._parseColorOptionValue(i),o._setValue(e,a)):o._setValue(e,i)},i.prototype._parseSymbolShape=function(e,n){if("string"==typeof n){var i=t._PlotViewModelUtility._toPointView(e);if(null!=i){var o=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinitionWithName(i._getPlotView()._getDefinition()._getSymbolDefinitionProviderList(),n);if(null!=o)return o.type}}return null},i.prototype._parseSizeValue=function(e){return null==e?null:t._CastExtension._toNumberOptionOrNull(e,0,null,!0)},i}(e._TargetElementAction),e._PointTargetElementAction=i}(t||(t={})),function(t){!function(t){var e=function(e){function i(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return n(i,e),i.prototype._findActionTarget=function(t){return"Group"==t.targetElement?this._current():null},i.prototype._createTargetElementAction=function(e,n,i){return new t._SeriesTargetElementAction(e,n,i)},i}(t._ConditionalFormattingRule);t._SeriesConditionalFormattingRule=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="ConditionalFormattingRule",this.type=t._BuildInConditionalFormattingRuleBuilderCollection._pluginType,this.priority=1}return e.prototype.buildConditionalFormattingRule=function(e,n,i){return null!=e&&"Group"===e.type?new t.models._SeriesConditionalFormattingRule(e,n,i):null},e.prototype.queryInterface=function(t){return"IConditionalFormattingRuleBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SeriesConditionalFormattingRulePlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._assign=function(e,n,i){if(t._isSeriesConfig(e)){var o=e;if("color"==n){var r=this._parseColorValue(i);o.color=r}else if("style.stroke"==n){var l=this._parseColorOptionValue(i);o.style.stroke=l}else if("style.fill"==n){var a=this._parseColorOptionValue(i);o.style.fill=a}else if("style.backgroundColor"==n){var u=this._parseColorOptionValue(i);o.style.backgroundColor=u}else if("style.symbolStroke"==n){var s=this._parseColorOptionValue(i);o.style.symbolStroke=s}else if("style.symbolFill"==n){var _=this._parseColorOptionValue(i);o.style.symbolFill=_}else if(t._isLineAreaSeriesConfig(e)&&"lineAspect"==n){var p=e,c=this._parseLineAspectValue(i);null!=c&&(p.lineAspect=t._NativeExtension._enumValueToEnum(c,t.LineAspect))}else new t._AnyValueBinding(n)._setValue(e,i)}},i.prototype._parseLineAspectValue=function(e){return"number"==typeof e||"string"==typeof e?t._AnyTypeExtension._toEnumValueOrNull(e,t.LineAspect):null},i}(e._TargetElementAction),e._SeriesTargetElementAction=i}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t,e){this._expression=t,this.__subRuleExpressionBuilder=e}return e.prototype._getBinding=function(e){return new t._AnyValueBinding(e)},e.prototype._evaluate=function(e){if(null==e)return null;var n=this._expression;if("current"===n)return e;for(var i,o=/\[\s*current\..+\s*\]/g;null!=(i=o.exec(this._expression));){var r=i[0].substring(1,i[0].length-1),l=this.__subRuleExpressionBuilder.build(r);if(null!=l){var a=l._evaluate(e),u=void 0;if("number"==typeof a)u=a.toString();else{if("string"!=typeof a)throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,a);u=a}n=n.replace(i[0],"["+u+"]")}}var s=/^current(\.((previous)|(next)))+/.exec(n);return null!=s&&null==this._getBinding(s[0].substring(8))._getValue(e)?null:this._getBinding(n.substring(8))._getValue(e)},e}(),e._RuleExpression=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n._defaultBuilder=function(){return null==n.__ruleExpressionBuilder&&(n.__ruleExpressionBuilder=new n),n.__ruleExpressionBuilder},n.prototype._createRuleExpression=function(t){return new e._RuleExpression(t,n._defaultBuilder())},n.prototype._fromShorhand=function(t){for(var e,n=t,i=/(^((parent)|(index)|(previous)|(next)))|((?:\[)((parent)|(index)|(previous)|(next))(\..+)*(?:\]))/g;null!=(e=i.exec(n));)n=/\[.+\]/.test(e[0])?t.replace(e[0],"[current."+e[0].substring(1)):t.replace(e[0],"current."+e[0]);return n},n.prototype.build=function(e){if(null==e)return null;var n=t._EscapedCharacterStringUtility._trim(this._fromShorhand(e)),i=/^current(\..+(\[[^\]]+\])?)*$/.exec(n);if(null!=i){for(var o=i[0],r=/\[\s*current\..+\s*\]/g,l=void 0;null!=(l=r.exec(o));){var a=l[0].substring(1,l[0].length-1);if(null==this.build(a))return null}return this._createRuleExpression(n)}return null},n}(),e._RuleExpressionBuilder=n}(t||(t={})),t||(t={}),function(t){t._isConditionalFormattingRuleBuilder=function(t){return null!=t.buildConditionalFormattingRule}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),t||(t={}),function(t){t._isScrollableContainerOwner=function(t){var e=t;return null!=e&&"function"==typeof e._createScrollbar&&"function"==typeof e._scrollTo&&"function"==typeof e._isHitTested}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t){this._owner=t,this._initListeners(),this._initScrollbars()}return e.prototype._initListeners=function(){var e=t._ViewUtility._dvView(this._owner);if(null!=e){var n=t._DvViewUtility._elementEventHandlerProxy(e);if(null!=n){var i=this;this.__listeners=n._subscribeEvents(["mouseenter","mousemove","mouseleave","touchstart","touchend"],(function(t){i._doMotion(t)}))}}},e.prototype._initScrollbars=function(){var e=this;this.__hScrollbar=this._owner._createScrollbar(t.Orientation.Horizontal),null!=this.__hScrollbar&&(this.__hScrollbar._scrollCallback=function(t,n){var i=null==e._vScrollbar?0:e._vScrollbar._value;e._owner._scrollTo(t,i)}),this.__vScrollbar=this._owner._createScrollbar(t.Orientation.Vertical),null!=this.__vScrollbar&&(this.__vScrollbar._scrollCallback=function(t,n){var i=null==e._hScrollbar?0:e._hScrollbar._value;e._owner._scrollTo(i,t)})},e.prototype._doMotion=function(e){e.action!=t.MotionEvent.ACTION_UP&&this._owner._isHitTested(e.x,e.y)?this._active():this._inactive()},Object.defineProperty(e.prototype,"_hScrollbar",{get:function(){return this.__hScrollbar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_vScrollbar",{get:function(){return this.__vScrollbar},enumerable:!1,configurable:!0}),e.prototype._active=function(){var t=!1;return null==this.__hScrollbar||this.__hScrollbar._isActive||(this.__hScrollbar._isActive=!0,this.__hScrollbar._refresh(),t=!0),null==this.__vScrollbar||this.__vScrollbar._isActive||(this.__vScrollbar._isActive=!0,this.__vScrollbar._refresh(),t=!0),t},e.prototype._inactive=function(){null!=this.__hScrollbar&&this.__hScrollbar._isActive&&(this.__hScrollbar._isActive=!1,this.__hScrollbar._refresh()),null!=this.__vScrollbar&&this.__vScrollbar._isActive&&(this.__vScrollbar._isActive=!1,this.__vScrollbar._refresh())},e.prototype.dispose=function(){if(null!=this.__hScrollbar&&(this.__hScrollbar.dispose(),this.__hScrollbar=null),null!=this.__vScrollbar&&(this.__vScrollbar.dispose(),this.__vScrollbar=null),null!=this.__listeners){var e=t._ViewUtility._dvView(this._owner),n=t._DvViewUtility._elementEventHandlerProxy(e);null!=n&&n._unsubscribeEvents(this.__listeners),this.__listeners=null}},e.VSCROLLBAR_WIDTH_OR_HSCROLLBAR_HEIGHT=11,e}();t._ScrollableContainer=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e._buildScrollbar=function(e,n,i,o){var r,l=t._ScrollableContainer.VSCROLLBAR_WIDTH_OR_HSCROLLBAR_HEIGHT;return e==t.Orientation.Horizontal?(null!=(r=o._createScrollbar(e,0,n.width,0,i.width))&&(r._bounds=new t.core.Rect(n.left,n.bottom-l,n.width,l)),r):(null!=(r=o._createScrollbar(e,0,n.height,0,i.height))&&(r._bounds=new t.core.Rect(n.right-l,n.top,l,n.height)),r)},e}();t._ScrollUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._containsInStroke=function(t){return!1},e.prototype._intersectsWith=function(t){return!1},e.prototype._support=function(e){return new t.Vector2d(0,0)},e.prototype.queryInterface=function(t){return"IShape"===t||"IShapeBehavior"===t?this:null},e}();t._BaseShape=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__x=t,this.__y=e}return Object.defineProperty(e.prototype,"x",{get:function(){return this.__x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.__y},enumerable:!1,configurable:!0}),e.prototype.moudule=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.reverse=function(){return new e(-this.x,-this.y)},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.cross=function(t){return this.x*t.y-this.y*t.x},e.prototype.scalar=function(t){return new e(this.x*t,this.y*t)},e.prototype.normal=function(){var t=this.moudule();return new e(this.x/t,this.y/t)},e.prototype.substract=function(t){return new e(this.x-t.x,this.y-t.y)},e.pointSub=function(t,n){return new e(n.x-t.x,n.y-t.y)},e.horizon=function(){return new e(1,0)},e.prototype.point=function(){return new t.core.Point(this.x,this.y)},e}();t.Vector2d=e}(t||(t={})),function(t){var e=function(){function e(){}return e._isCross=function(t,e,n,i){return null!=this._getCrossPoint(t,e,n,i)},e._getCrossPoint=function(e,n,i,o){var r=this._subtractPoints(n,e),l=this._subtractPoints(o,i),a=this._crossProduct(r,l),u=this._crossProduct(this._subtractPoints(i,e),r);if(0==u&&0==a){if(e.equalsWith(i)||e.equalsWith(o)||n.equalsWith(i)||n.equalsWith(o))return null;if(this._allEqual(i.x-e.x<0,i.x-n.x<0,o.x-e.x<0,o.x-n.x<0)&&this._allEqual(i.y-e.y<0,i.y-n.y<0,o.y-e.y<0,o.y-n.y<0))return null}if(0==a)return null;var s=u/a,_=this._crossProduct(this._subtractPoints(i,e),l)/a;if(_>=0&&_<=1&&s>=0&&s<=1){var p=e.x+_*r.x,c=e.y+_*r.y;return new t.core.Point(p,c)}return null},e._crossProduct=function(t,e){return t.x*e.y-t.y*e.x},e._subtractPoints=function(e,n){return new t.core.Point(e.x-n.x,e.y-n.y)},e._allEqual=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],i=1;i<t.length;i+=1)if(t[i]!=n)return!1;return!0},e}();t._AlgorithmUtils=e}(t||(t={})),function(t){var e,n;e=t.shapes||(t.shapes={}),n=function(){function e(){}return e._getCssPixelValueWithRatio=function(e,n,i){return e.type==t.ValueOptionType.Percentage?e.value*n/i:e.value/i},e._isEmpty=function(t){return!(null!=t.horizontalRadius&&!e._isValueEmpty(t.horizontalRadius)||null!=t.verticalRadius&&!e._isValueEmpty(t.verticalRadius))},e._isValueEmpty=function(t){return null==t||0==t.topRight.value&&0==t.topLeft.value&&0==t.bottomRight.value&&0==t.bottomLeft.value},e._ratioOfConvertPercentageToPixel=function(n,i,o){if(null==n||0==i||0==o)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n,i,o);if(e._isValueEmpty(n.horizontalRadius)&&e._isValueEmpty(n.verticalRadius))throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n);var r=this._getCssPixelValue(n.horizontalRadius.topLeft,i)+this._getCssPixelValue(n.horizontalRadius.topRight,i),l=this._getCssPixelValue(n.horizontalRadius.bottomLeft,i)+this._getCssPixelValue(n.horizontalRadius.bottomRight,i),a=Math.max(i,Math.max(r,l)),u=this._getCssPixelValue(n.verticalRadius.topLeft,o)+this._getCssPixelValue(n.verticalRadius.bottomLeft,o),s=this._getCssPixelValue(n.verticalRadius.topRight,o)+this._getCssPixelValue(n.verticalRadius.bottomRight,o),_=Math.max(o,Math.max(u,s));return Math.max(1,Math.max(a/i,_/o))},e._createPtsFromBorderRadiusRect=function(n,i,o,r,l,a){if(null==l||0==o||0==r)return new t._Polyline([],[]);if(e._isValueEmpty(l.horizontalRadius)&&e._isValueEmpty(l.verticalRadius))return new t._Polyline([],[]);for(var u=e._ratioOfConvertPercentageToPixel(l,o,r),s=e._getCssPixelValueWithRatio(l.horizontalRadius.topLeft,o,u),_=e._getCssPixelValueWithRatio(l.verticalRadius.topLeft,r,u),p=e._getCssPixelValueWithRatio(l.horizontalRadius.topRight,o,u),c=e._getCssPixelValueWithRatio(l.verticalRadius.topRight,r,u),h=e._getCssPixelValueWithRatio(l.horizontalRadius.bottomRight,o,u),f=e._getCssPixelValueWithRatio(l.verticalRadius.bottomRight,r,u),d=e._getCssPixelValueWithRatio(l.horizontalRadius.bottomLeft,o,u),y=e._getCssPixelValueWithRatio(l.verticalRadius.bottomLeft,r,u),g=[],m=[],v=t._CurveLerp._getAppropriateLerpSizes(a,[1,2,1,2,1,2,1,2]),w=[new t._LinearCurveLerp(n+s,n+o-p),new t._QuadBezierCurveLerp(n+o-p,n+o,n+o),new t._LinearCurveLerp(n+o,n+o),new t._QuadBezierCurveLerp(n+o,n+o,n+o-h),new t._LinearCurveLerp(n+o-h,n+d),new t._QuadBezierCurveLerp(n+d,n,n),new t._LinearCurveLerp(n,n),new t._QuadBezierCurveLerp(n,n,n+s)],b=[new t._LinearCurveLerp(i,i),new t._QuadBezierCurveLerp(i,i,i+c),new t._LinearCurveLerp(i+c,i+r-f),new t._QuadBezierCurveLerp(i+r-f,i+r,i+r),new t._LinearCurveLerp(i+r,i+r),new t._QuadBezierCurveLerp(i+r,i+r,i+r-y),new t._LinearCurveLerp(i+r-y,i+_),new t._QuadBezierCurveLerp(i+_,i,i)],P=0;P<8;++P)g.push.apply(g,t._CurveLerp._lerpBy(w[P],v[P])),m.push.apply(m,t._CurveLerp._lerpBy(b[P],v[P]));return new t._Polyline(g,m)},e._getCssPixelValue=function(e,n){return e.type==t.ValueOptionType.Percentage?e.value*n:e.value},e}(),e._BorderRadiusExtension=n}(t||(t={})),function(t){var e=function(){function e(t,e,n,i){this.p1=t,this.p2=e,this.p3=n,this.p4=i}return e.prototype._lerp=function(e){return t._CurveLerp._cubicBezier(this.p1,this.p2,this.p3,this.p4,e)},e}();t._CubicBezierCurveLerp=e}(t||(t={})),function(t){var e=function(){function t(){}return t._linear=function(t,e,n){return t+(e-t)*n},t._quadBezier=function(t,e,n,i){return this._linear(this._linear(t,e,i),this._linear(e,n,i),i)},t._cubicBezier=function(t,e,n,i,o){return this._quadBezier(this._linear(t,e,o),this._linear(e,n,o),this._linear(n,i,o),o)},t._getAppropriateLerpSizes=function(t,e){for(var n=e.reduce((function(t,e){return t+e}),0),i=[],o=0,r=e.map((function(t){return t/n}));o<r.length;o++){var l=r[o];i.push(Math.floor(l*t))}for(var a=t-i.reduce((function(t,e){return t+e}),0),u=i.length;a>0;){var s=Math.floor(Math.random()*u);i[s]=i[s]+1,--a}return i},t._lerpBy=function(t,e){var n=this._getStepBy(e),i=[],o=0;do{i.push(t._lerp(o)),o+=n}while(o<=1);return i.length<e&&i.push(t._lerp(1)),i},t._getStepBy=function(t){return t<3?1:1/(t-1)},t}();t._CurveLerp=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.p1=t,this.p2=e}return e.prototype._lerp=function(e){return t._CurveLerp._linear(this.p1,this.p2,e)},e}();t._LinearCurveLerp=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.p1=t,this.p2=e,this.p3=n}return e.prototype._lerp=function(e){return t._CurveLerp._quadBezier(this.p1,this.p2,this.p3,e)},e}();t._QuadBezierCurveLerp=e}(t||(t={})),function(t){var e,n;e=t.shapes||(t.shapes={}),n=function(){function e(e,n,i,o){if(this.__x=Number.NaN,this.__y=Number.NaN,isNaN(e)||isNaN(n)||isNaN(i)||isNaN(o))throw new t.AssertError(t.ErrorCode.UnexpectedNaNValue);if(this.cx=e,this.cy=n,this.angle=o,i<0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,i);this.radius=i}return e.prototype.x=function(){return isNaN(this.__x)&&(this.__x=this.cx+this.radius*Math.sin(this.angle)),this.__x},e.prototype.y=function(){return isNaN(this.__y)&&(this.__y=this.cy+this.radius*Math.cos(this.angle)),this.__y},e.prototype.equalsWith=function(t){return t instanceof e?this.cx==t.cx&&this.cy==t.cy&&this.radius==t.radius&&this.angle==t.angle:this.x==t.x&&this.y==t.y},e.prototype.clone=function(){return new e(this.cx,this.cy,this.radius,this.angle)},e}(),e._RadialPoint=n}(t||(t={})),function(t){var e=function(){function e(){}return e.segmentsIntersect=function(t,e,n,i){if(Math.min(t.x,e.x)>Math.max(n.x,i.x)||Math.min(t.y,e.y)>Math.max(n.y,i.y)||Math.min(n.x,i.x)>Math.max(t.x,e.x)||Math.min(n.y,i.y)>Math.max(t.y,e.y))return!1;var o=(n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y),r=(i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y),l=(t.x-n.x)*(i.y-n.y)-(i.x-n.x)*(t.y-n.y),a=(e.x-n.x)*(i.y-n.y)-(i.x-n.x)*(e.y-n.y);return o*r<=1e-8&&l*a<=1e-8},e.getSegmentsIntersection=function(e,n,i,o){var r=n.y-e.y,l=e.x-n.x,a=o.y-i.y,u=i.x-o.x,s=r*u-l*a;if(0==s)return null;var _=a*i.x+u*i.y,p=a*e.x+u*e.y-_;if(p*(a*n.x+u*n.y-_)>=0)return null;var c=r*e.x+l*e.y;if((r*i.x+l*i.y-c)*(r*o.x+l*o.y-c)>=0)return null;var h=p/s,f=h*l,d=-h*r;return new t.core.Point(e.x+f,e.y+d)},e.getLinesIntersection=function(e,n,i,o){var r=(n.y-e.y)*(o.x-i.x)-(e.x-n.x)*(i.y-o.y);if(0==r)return null;var l=((n.x-e.x)*(o.x-i.x)*(i.y-e.y)+(n.y-e.y)*(o.x-i.x)*e.x-(o.y-i.y)*(n.x-e.x)*i.x)/r,a=-((n.y-e.y)*(o.y-i.y)*(i.x-e.x)+(n.x-e.x)*(o.y-i.y)*e.y-(o.x-i.x)*(n.y-e.y)*i.y)/r;return new t.core.Point(l,a)},e.sweep=function(e,n){var i=t.Vector2d.pointSub(e,n),o=t.Vector2d.horizon(),r=Math.acos(i.dot(o)/i.moudule());return i.cross(o)>0&&(r=t._Utility._PI2-r),r},e.DisPointToLine=function(e,n,i){var o=new t.Vector2d(i.x-n.x,i.y-n.y),r=new t.Vector2d(e.x-n.x,e.y-n.y);return Math.abs(o.cross(r))/o.moudule()},e.DisPointToSegement=function(t,e,n){var i=e.x,o=e.y,r=n.x,l=n.y,a=(r-i)*(t.x-i)+(l-o)*(t.y-o);if(a<=0)return Math.sqrt((t.x-i)*(t.x-i)+(t.y-o)*(t.y-o));var u=(r-i)*(r-i)+(l-o)*(l-o);if(a>=u)return Math.sqrt((t.x-r)*(t.x-r)+(t.y-l)*(t.y-l));var s=a/u,_=i+(r-i)*s,p=o+(l-o)*s;return Math.sqrt((t.x-_)*(t.x-_)+(p-t.y)*(p-t.y))},e.DisPointToPoint=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},e.DisPointToPointSquare=function(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},e.endPoint=function(e,n,i){var o=n.scalar(i/n.moudule());return new t.core.Point(o.x+e.x,o.y+e.y)},e.farthestPoint=function(t,n){for(var i=-Number.MAX_VALUE,o=null,r=0,l=n;r<l.length;r++){var a=l[r],u=e.DisPointToPointSquare(t,a);u>i&&(i=u,o=a)}return o},e.nearestPoint=function(t,n){for(var i=Number.MAX_VALUE,o=null,r=0,l=n;r<l.length;r++){var a=l[r],u=e.DisPointToPointSquare(t,a);u<i&&(i=u,o=a)}return o},e._getAppropriateHitestPaddingBy=function(t){return null==t&&(t=1),t<10?5:t/2},e._getShapePoints=function(t){if(null!=t){var e=t.queryInterface("IShapePointsAccesser");if(null!=e)return e._getPoints()}return null},e._shapeContainsPoint=function(t,e){if(null!=t&&null!=e){var n=t.queryInterface("IShapeBehavior");if(null!=n)return n._contains(e)}return!1},e._shapeStrokeContainsPoint=function(t,e){if(null!=t&&null!=e){var n=t.queryInterface("IShapeBehavior");if(null!=n)return n._containsInStroke(e)}return!1},e._whetherIntersect=function(t,e){if(null!=t&&null!=e){var n=t.queryInterface("IShapeBehavior");if(null!=n)return n._intersectsWith(e)}return!1},e.PRECISION=1e-8,e}();t._ShapeUtil=e}(t||(t={})),function(t){var e,n;e=t.shapes||(t.shapes={}),n=function(){function e(e,n){if(isNaN(e)||isNaN(n))throw new t.OptionError(t.ErrorCode.UnexpectedNaNValue);this.__x=e,this.__y=n}return e.fromPoint=function(t){return new e(t.x,t.y)},e.prototype.x=function(){return this.__x},e.prototype.y=function(){return this.__y},e.prototype.equalsWith=function(t){return this.x==t.x&&this.y==t.y},e.prototype.clone=function(){return new e(this.x(),this.y())},e}(),e._XyPoint=n}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l){var a=e.call(this)||this;return a.__center=t,a.__xRadius=n,a.__yRadius=i,a.__strokeWidth=o,a.__startAngle=r,a.__sweepAngle=l,a}return n(i,e),Object.defineProperty(i.prototype,"center",{get:function(){return this.__center},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"xRadius",{get:function(){return this.__xRadius},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"yRadius",{get:function(){return this.__yRadius},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.__xRadius},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__strokeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.__startAngle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sweepAngle",{get:function(){return this.__sweepAngle},enumerable:!1,configurable:!0}),i.prototype._contains=function(t){return!1},i.prototype._intersectsWith=function(t){return!1},Object.defineProperty(i.prototype,"type",{get:function(){return"Arc"},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IArcShape"===t?this:e.prototype.queryInterface.call(this,t)},i.prototype.equalsWith=function(t){if(null==t)return!1;if(this==t)return!0;if(t instanceof i){var e=t;return e.center.equalsWith(this.center)&&e.xRadius==this.xRadius&&e.yRadius==this.yRadius&&e.strokeWidth==this.strokeWidth&&e.startAngle==this.startAngle&&e.sweepAngle==this.sweepAngle}return!1},i.prototype.clone=function(){return new i(this.center,this.xRadius,this.yRadius,this.strokeWidth,this.startAngle,this.sweepAngle)},o([t.deprecated("IArcShape.radius",null)],i.prototype,"radius",null),o([t.deprecated("IArcShape.width","strokeWidth")],i.prototype,"width",null),i}(t._BaseShape);t._ArcShape=e}(t||(t={})),function(t){!function(t){t._isArcShape=function(t){var e=t;return null!=e&&void 0!==e.center&&void 0!==e.xRadius&&void 0!==e.yRadius&&void 0!==e.width&&void 0!==e.startAngle&&void 0!==e.sweepAngle}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this)||this;return l.__center=t,l.__radius=n,l.__innerRadius=i,l.__startAngle=o,l.__sweepAngle=r,l}return n(i,e),Object.defineProperty(i.prototype,"center",{get:function(){return this.__center},enumerable:!1,configurable:!0}),i.prototype._rotate=function(e,n){this.__startAngle+=e;var i=new t.Matrix;i.rotate(e,n),this.__center=t._MatrixUtility._transformPoint(i,this.__center)},Object.defineProperty(i.prototype,"radius",{get:function(){return this.__radius},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.__innerRadius},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.__startAngle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sweepAngle",{get:function(){return this.__sweepAngle},enumerable:!1,configurable:!0}),i.prototype._contains=function(t){return this._containPoint(t)},i.prototype._intersectsWith=function(e){var n=[];if(e instanceof t._PolygonShape&&(n=e.points),e instanceof t._RectangleShape&&(n=e.points),0===n.length)return!1;for(var i=new t.core.Point(this.center.x+Math.cos(this.startAngle)*this.radius,this.center.y+Math.sin(this.startAngle)*this.radius),o=new t.core.Point(this.center.x+Math.cos(this.startAngle+this.sweepAngle)*this.radius,this.center.y+Math.sin(this.startAngle+this.sweepAngle)*this.radius),r=new t.core.Point(this.center.x+Math.cos(this.startAngle)*this.innerRadius,this.center.y+Math.sin(this.startAngle)*this.innerRadius),l=new t.core.Point(this.center.x+Math.cos(this.startAngle+this.sweepAngle)*this.innerRadius,this.center.y+Math.sin(this.startAngle+this.sweepAngle)*this.innerRadius),a=n.length>2,u=0,s=0;s<n.length;++s){var _=n[s],p=n[(s+1)%n.length];if(this._containPoint(_)||this._containPoint(p)||this._arcIntersectWithLine(this.radius,_,p)||this._arcIntersectWithLine(this.innerRadius,_,p)||t._ShapeUtil.segmentsIntersect(i,r,p,_)||t._ShapeUtil.segmentsIntersect(o,l,p,_))return!0;if(a&&(a=!(t._ShapeUtil.segmentsIntersect(this.center,i,_,p)||t._ShapeUtil.segmentsIntersect(this.center,o,_,p)))){var c=t.Vector2d.pointSub(this.center,_),h=t.Vector2d.pointSub(this.center,p);u+=Math.acos(c.dot(h)/(c.moudule()*h.moudule()))}}return t._Utility._PI2-u>t._ShapeUtil.PRECISION&&(a=!1),!!a},i.prototype._containPoint=function(e){var n=t._ShapeUtil.DisPointToPoint(this.center,e);if(n>this.radius||n<this.innerRadius)return!1;var i=t._ShapeUtil.sweep(this.center,e);return!!this._angleContain(this.startAngle,this.sweepAngle,i)},i.prototype._arcIntersectWithLine=function(e,n,i){var o=this.startAngle,r=this.sweepAngle,l=this.center,a=new t.Vector2d(l.x-n.x,l.y-n.y),u=new t.Vector2d(i.x-n.x,i.y-n.y).normal(),s=u.scalar(a.dot(u)),_=new t.core.Point(s.x+n.x,s.y+n.y),p=t._ShapeUtil.DisPointToPoint(_,l);if(p>e)return!1;var c=Math.sqrt(e*e-p*p),h=t._ShapeUtil.endPoint(_,u,c),f=t._ShapeUtil.endPoint(_,u,-c);if(h.x>=Math.min(n.x,i.x)&&h.x<=Math.max(n.x,i.x)&&h.y>=Math.min(n.y,i.y)&&h.y<=Math.max(n.y,i.y)){var d=t._ShapeUtil.sweep(l,h);if(this._angleContain(o,r,d))return!0}return!!(f.x>=Math.min(n.x,i.x)&&f.x<=Math.max(n.x,i.x)&&f.y>=Math.min(n.y,i.y)&&f.y<=Math.max(n.y,i.y)&&(d=t._ShapeUtil.sweep(l,f),this._angleContain(o,r,d)))},i.prototype._angleContain=function(e,n,i){e%=t._Utility._PI2,i%=t._Utility._PI2;var o=e+n;return n>=t._Utility._PI2||(o>t._Utility._PI2?i>=e||i<=o-t._Utility._PI2:i>=e&&i<=o)},Object.defineProperty(i.prototype,"type",{get:function(){return"Donut"},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IDonutShape"===t?this:e.prototype.queryInterface.call(this,t)},i.prototype.equalsWith=function(t){if(null==t)return!1;if(this==t)return!0;if(t instanceof i){var e=t;return e.center.equalsWith(this.center)&&e.radius==this.radius&&e.innerRadius==this.innerRadius&&e.startAngle==this.startAngle&&e.sweepAngle==this.sweepAngle}return!1},i.prototype.clone=function(){return new i(this.center,this.radius,this.innerRadius,this.startAngle,this.sweepAngle)},i}(t._BaseShape);t._DonutShape=e}(t||(t={})),function(t){!function(t){t._isDonutShape=function(t){var e=t;return null!=e&&void 0!==e.center&&void 0!==e.radius&&void 0!==e.innerRadius&&void 0!==e.startAngle&&void 0!==e.sweepAngle}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),t||(t={}),t||(t={}),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){t._isSegmentHittestShape=function(t){var e=t;return null!=e&&"function"==typeof e._hittest&&"function"==typeof e._isConnect&&void 0!==e._segmentLength}}(t||(t={})),function(t){!function(t){t._isShape=function(t){return null!=t&&void 0!==t.type}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),t||(t={}),t||(t={}),function(t){!function(t){t._isPolygonShape=function(t){return null!=t&&void 0!==t.points}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__points=t,n}return n(i,e),Object.defineProperty(i.prototype,"points",{get:function(){return this.__points},enumerable:!1,configurable:!0}),i.prototype._contains=function(t){for(var e=this.points,n=NaN,i=NaN,o=NaN,r=NaN,l=0,a=this.points;l<a.length;l++){var u=a[l];n=u.x<n?u.x:n,i=u.x>i?u.x:i,o=u.y<o?u.y:o,r=u.y>r?u.y:r}if(t.x<n||t.x>i||t.y<o||t.y>r)return!1;for(var s=!1,_=0,p=e.length-1;_<e.length;p=_++)e[_].y>t.y!=e[p].y>t.y&&t.x<(e[p].x-e[_].x)*(t.y-e[_].y)/(e[p].y-e[_].y)+e[_].x&&(s=!s);return s},i.prototype._intersectsWith=function(t){if(t instanceof i){for(var e=t,n=0,o=[this,e];n<o.length;n++)for(var r=o[n].points,l=0;l<r.length;l++){for(var a=r[l],u=r[(l+1)%r.length],s=u.y-a.y,_=a.x-u.x,p=null,c=null,h=0,f=this.points;h<f.length;h++){var d=s*(w=f[h]).x+_*w.y;(null==p||d<p)&&(p=d),(null==c||d>c)&&(c=d)}for(var y=null,g=null,m=0,v=e.points;m<v.length;m++){var w;d=s*(w=v[m]).x+_*w.y,(null==y||d<y)&&(y=d),(null==g||d>g)&&(g=d)}if((null==c?0:c)<(null==y?0:y)||(null==g?0:g)<(null==p?0:p))return!1}return!0}return!1},Object.defineProperty(i.prototype,"type",{get:function(){return"Polygon"},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IPolygonShape"===t?this:e.prototype.queryInterface.call(this,t)},i.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(e instanceof i){var n=e;return t._PointEqualityComparer._pointArrayEqualityComparer._equalsWith(n.points,this.points)}return!1},i.prototype.clone=function(){return new i(this.points.map((function(t){return t.clone()})))},i}(t._BaseShape);t._PolygonShape=e}(t||(t={})),function(t){!function(t){t._isPolygonalLineShape=function(t){var e=t;return null!=e&&void 0!==e.center&&void 0!==e.radius&&void 0!==e.angles&&void 0!==e.width}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this)||this;return r.__center=t,r.__radius=n,r.__angles=i,r.__strokeWidth=o,r}return n(i,e),Object.defineProperty(i.prototype,"center",{get:function(){return this.__center},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.__radius},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angles",{get:function(){return this.__angles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__strokeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},enumerable:!1,configurable:!0}),i.prototype._contains=function(t){return!1},i.prototype._intersectsWith=function(t){return!1},Object.defineProperty(i.prototype,"type",{get:function(){return"PolygonalLine"},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IPolygonalLineShape"===t?this:e.prototype.queryInterface.call(this,t)},i.prototype.equalsWith=function(t){if(null==t)return!1;if(this==t)return!0;if(t instanceof i){var e=t;return e.center.equalsWith(this.center)&&e.radius==this.radius&&e.angles==this.angles&&e.strokeWidth==this.strokeWidth}return!1},i.prototype.clone=function(){return new i(this.center,this.radius,this.angles,this.strokeWidth)},o([t.deprecated("IPolygonalLineShape.width","strokeWidth")],i.prototype,"width",null),i}(t._BaseShape);t._PolygonalLineShape=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this)||this;r._setStrokeWidth(o),r._originXs=t,r._originYs=n,r._controlPoints=i,r.__xs=[],r.__ys=[],r.__segmentXs=[],r.__segmentYs=[];var l=.002*Math.min(t.length,n.length);return r._calculateBezierCoordinates(r._originXs,r._originYs,r.__xs,r.__ys,r.__segmentXs,r.__segmentYs,r._controlPoints,l),r}return n(i,e),Object.defineProperty(i.prototype,"_xs",{get:function(){return this.__xs},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_ys",{get:function(){return this.__ys},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"points",{get:function(){return this._getPoints().map((function(t){return t.clone()}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.strokeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},enumerable:!1,configurable:!0}),i.prototype._getPoints=function(){return null==this.__points&&(this.__points=this._createPointsByCoordinates(this.__xs,this.__ys)),this.__points},i.prototype._interpolatePoints=function(e){var n=Math.min(this._originXs.length,this._originYs.length);if(e>n){var i=[];i.push(new t.core.Point(this._originXs[0],this._originYs[0]));for(var o=0;o<n-1;o++){var r=1/(Math.floor((e-n)/(n-1))+1);(r>=1||(e-n)%(n-1)!=0)&&(e-n-1)%(n-1)>=o&&(r=1/(Math.floor((e-n)/(n-1))+2));for(var l=this._originXs[o],a=this._originYs[o],u=this._originXs[o+1],s=this._originYs[o+1],_=this._controlPoints[o][0],p=this._controlPoints[o][1],c=this._controlPoints[o][2],h=this._controlPoints[o][3],f=r;f<1&&!(Math.abs(1-f)<1e-10);f+=r){var d=this._deCasteljau(f,l,_,c,u),y=this._deCasteljau(f,a,p,h,s);i.push(new t.core.Point(d,y))}i.push(new t.core.Point(this._originXs[o+1],this._originYs[o+1]))}return i}return this._getPoints().slice()},Object.defineProperty(i.prototype,"type",{get:function(){return"Polyline"},enumerable:!1,configurable:!0}),i.prototype._containsInStroke=function(e){for(var n=Math.min(this.__xs.length,this.__ys.length),i=0;i<n-1;i++)if(t._Util.pointToLine(this.__xs[i],this._ys[i],this.__xs[i+1],this.__ys[i+1],e.x,e.y)<t._ShapeUtil._getAppropriateHitestPaddingBy(this.strokeWidth))return!0;return!1},i.prototype._contains=function(t){for(var e=Math.min(this.__xs.length,this.__ys.length),n=0;n<e-1;n++){var i=this.__xs[n],o=this.__ys[n],r=this.__xs[n+1],l=this.__ys[n+1];if(t.x>=Math.min(i,r)&&t.x<=Math.max(i,r)&&t.y>=Math.min(o,l)&&t.y<=Math.max(o,l)){var a=(o-t.y)/(i-t.x)-(l-t.y)/(r-t.x);if(a<.1&&a>-.1)return!0}}return!1},i.prototype._intersectsWith=function(e){var n=t._ShapeUtil._getShapePoints(e);if(null!=n)for(var i=this._getPoints(),o=0;o<i.length-1;o++)for(var r=i[o],l=i[o+1],a=0;a<n.length-1;a++){var u=n[o],s=n[o+1];if(t._AlgorithmUtils._isCross(r,l,u,s))return!0}return!1},i.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(e instanceof i){var n=t._NumberEqualityComparer._numberArrayEqualityComparer;return e.strokeWidth==this.strokeWidth&&n._equalsWith(e._originXs,this._originXs)&&n._equalsWith(e._originYs,this._originYs)&&this._segmentEqualsWith(e._controlPoints,this._controlPoints,n)}return!1},i.prototype.clone=function(){for(var t=[],e=0;e<this._controlPoints.length;e++)t.push(this._controlPoints[e].slice());return new i(this._originXs.slice(),this._originYs.slice(),t,null)},i.prototype.queryInterface=function(t){return"IPolylineShape"===t||"IShapePointsAccesser"===t||"ICubicBezierCurve"==t||"ILineShapePointsInterpolater"==t?this:e.prototype.queryInterface.call(this,t)},Object.defineProperty(i.prototype,"_segmentLength",{get:function(){return Math.min(this.__segmentXs.length,this.__segmentYs.length)},enumerable:!1,configurable:!0}),i.prototype._hittest=function(e){for(var n=0;n<this._segmentLength;++n)for(var i=this.__segmentXs[n],o=this.__segmentYs[n],r=0;r<Math.min(i.length,o.length)-1;++r)if(t._Util.pointToLine(i[r],o[r],i[r+1],o[r+1],e.x,e.y)<t._ShapeUtil._getAppropriateHitestPaddingBy(this.strokeWidth))return n;return-1},i.prototype._isConnect=function(t){if(t instanceof i){if(this._originXs[this._originXs.length-1]==t._originXs[0]&&this._originYs[this._originYs.length-1]==t._originYs[0])return!0;if(t._originXs[t._originXs.length-1]==this._originXs[0]&&t._originYs[t._originYs.length-1]==this._originYs[0])return!0}return!1},i._calculateControlPoints=function(t,e,n){for(var i=.8,o=Math.min(t.length,e.length),r=0,l=0,a=0,u=0,s=0;s<o;s++){var _=t[s],p=e[s],c=t[(s+o-1)%o],h=e[(s+o-1)%o],f=t[(s+1)%o],d=e[(s+1)%o],y=(_+c)/2,g=(p+h)/2,m=(_+f)/2,v=(p+d)/2,w=Math.sqrt(Math.pow(_-c,2)+Math.pow(p-h,2)),b=w/(w+Math.sqrt(Math.pow(_-f,2)+Math.pow(p-d,2))),P=y+(m-y)*b,S=g+(v-g)*b;a=P+(_-P)+(y-P)*i,u=S+(p-S)+(g-S)*i;var C=P+(_-P)+(m-P)*i,V=S+(p-S)+(v-S)*i,x=Math.sqrt(Math.pow(_-a,2)+Math.pow(p-u,2))/Math.sqrt(Math.pow(_-C,2)+Math.pow(p-V,2));isNaN(x)||0==x||(C=_+(_-(a=this._setControlPointInsideBorder(a,_,c)))/x,V=p+(p-(u=this._setControlPointInsideBorder(u,p,h)))/x,a=_-((C=this._setControlPointInsideBorder(C,_,f))-_)*x,u=p-((V=this._setControlPointInsideBorder(V,p,d))-p)*x),0!=s&&n.push([r,l,a,u]),r=C,l=V}},i._setControlPointInsideBorder=function(t,e,n){var i=Math.min(e,n),o=Math.max(e,n);return t<i&&(t=i),t>o&&(t=o),t},i.prototype._setStrokeWidth=function(e){if(!(null==e||e>=0))throw new t.RuntimeError(t.ErrorCode.PositiveOrZeroExpected,e);this.__strokeWidth=e},i.prototype._calculateBezierCoordinates=function(t,e,n,i,o,r,l,a){var u=Math.min(t.length,e.length)-1,s=[],_=[];s.push(t[0]),_.push(e[0]),n.push(t[0]),i.push(e[0]);for(var p=0;p<u;p++){for(var c=t[p],h=e[p],f=t[p+1],d=e[p+1],y=l[p][0],g=l[p][1],m=l[p][2],v=l[p][3],w=c,b=h,P=a;P<1;P+=a){var S=this._deCasteljau(P,c,y,m,f),C=this._deCasteljau(P,h,g,v,d);(Math.abs(w-S)>=1||Math.abs(b-C)>=1)&&(s.push(S),_.push(C),n.push(S),i.push(C),w=S,b=C)}s.push(f),_.push(d),o.push(s),r.push(_),_=[],(s=[]).push(f),_.push(d),n.push(f),i.push(d)}},i.prototype._deCasteljau=function(t,e,n,i,o){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*n+3*(1-t)*Math.pow(t,2)*i+Math.pow(t,3)*o},i.prototype._createPointsByCoordinates=function(e,n){for(var i=[],o=Math.min(e.length,n.length),r=0;r<o;r++)i.push(new t.core.Point(e[r],n[r]));return i},i.prototype._segmentEqualsWith=function(t,e,n){if(null==t&&null==e)return!0;if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(!n._equalsWith(t[i],e[i]))return!1;return!0},o([t.deprecated("IPolylineShape.width","strokeWidth")],i.prototype,"width",null),i}(t._BaseShape);t._BezierCurveShape=e}(t||(t={})),function(t){!function(t){t._isPolylineShape=function(t){var e=t;return null!=e&&"Polyline"===e.type&&void 0!==e.points&&void 0!==e.strokeWidth}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;return i.__points=t.slice(),i._setStrokeWidth(n),i}return n(i,e),Object.defineProperty(i.prototype,"points",{get:function(){return this.__points.map((function(t){return t.clone()}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.strokeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},enumerable:!1,configurable:!0}),i.prototype._getPoints=function(){return this.__points},i.prototype._containsInStroke=function(e){for(var n=0;n<this.__points.length-1;++n)if(t._Util.pointToLine(this.__points[n].x,this.__points[n].y,this.__points[n+1].x,this.__points[n+1].y,e.x,e.y)<t._ShapeUtil._getAppropriateHitestPaddingBy(this.strokeWidth))return!0;return!1},i.prototype._contains=function(t){for(var e=0;e<this.__points.length-1;e++){var n=this.__points[e],i=this.__points[e+1];if(t.x>=Math.min(n.x,i.x)&&t.x<=Math.max(n.x,i.x)&&t.y>=Math.min(n.y,i.y)&&t.y<=Math.max(n.y,i.y)){var o=(n.y-t.y)/(n.x-t.x)-(i.y-t.y)/(i.x-t.x);if(o<.1&&o>-.1)return!0}}return!1},i.prototype._intersectsWith=function(e){if(e instanceof i)for(var n=0;n<this.__points.length-1;n++)for(var o=this.__points[n],r=this.__points[n+1],l=0;l<e.__points.length-1;l++){var a=e.__points[n],u=e.__points[n+1];if(t._AlgorithmUtils._isCross(o,r,a,u))return!0}return!1},Object.defineProperty(i.prototype,"type",{get:function(){return"Polyline"},enumerable:!1,configurable:!0}),i.prototype._interpolatePoints=function(e){var n=this.__points.length;if(e>n){var i=[];i.push(new t.core.Point(this.__points[0].x,this.__points[0].y));for(var o=0;o<n-1;o++){var r=1/(Math.floor((e-n)/(n-1))+1);(r>=1||(e-n)%(n-1)!=0)&&(e-n-1)%(n-1)>=o&&(r=1/(Math.floor((e-n)/(n-1))+2));for(var l=this.__points[o].x,a=this.__points[o].y,u=this.__points[o+1].x,s=this.__points[o+1].y,_=r;_<1&&!(Math.abs(1-_)<1e-10);_+=r){var p=l+(u-l)*_,c=a+(s-a)*_;i.push(new t.core.Point(p,c))}i.push(new t.core.Point(u,s))}return i}return this.__points.slice()},i.prototype.queryInterface=function(t){return"IPolylineShape"===t||"IShapePointsAccesser"===t||"ILineShapePointsInterpolater"===t?this:e.prototype.queryInterface.call(this,t)},i.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof i&&e.strokeWidth==this.strokeWidth&&t._PointEqualityComparer._pointArrayEqualityComparer._equalsWith(e.__points,this.__points))},i.prototype.clone=function(){return new i(this.__points.map((function(t){return t.clone()})),this.strokeWidth)},Object.defineProperty(i.prototype,"_segmentLength",{get:function(){return this.__points.length-1},enumerable:!1,configurable:!0}),i.prototype._hittest=function(e){for(var n=0;n<this.__points.length-1;++n)if(t._Util.pointToLine(this.__points[n].x,this.__points[n].y,this.__points[n+1].x,this.__points[n+1].y,e.x,e.y)<t._ShapeUtil._getAppropriateHitestPaddingBy(this.strokeWidth))return n;return-1},i.prototype._isConnect=function(t){if(t instanceof i){if(this.__points[this.__points.length-1]==t.__points[0])return!0;if(t.__points[t.__points.length-1]==this.__points[0])return!0}return!1},i.prototype._setStrokeWidth=function(e){if(!(null==e||e>=0))throw new t.RuntimeError(t.ErrorCode.PositiveOrZeroExpected,e);this.__strokeWidth=e},o([t.deprecated("IPolylineShape.width","strokeWidth")],i.prototype,"width",null),i}(t._BaseShape);t._PolylineShape=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l,a){var u=e.call(this)||this;return u._setStrokeWidth(a),u._originXs=t,u._originYs=n,u._a=i,u._b=o,u._c=r,u._d=l,u.__xs=[],u.__ys=[],u.__segmentXs=[],u.__segmentYs=[],u._calculateSplineCoordinates(t,n,u.__xs,u.__ys,u.__segmentXs,u.__segmentYs,i,o,r,l),u}return n(i,e),Object.defineProperty(i.prototype,"_xs",{get:function(){return this.__xs},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_ys",{get:function(){return this.__ys},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"points",{get:function(){return this._getPoints().map((function(t){return t.clone()}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.strokeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},enumerable:!1,configurable:!0}),i.prototype._getPoints=function(){return null==this.__points&&(this.__points=this._createPointsByCoordinates(this.__xs,this.__ys)),this.__points},i.prototype._interpolatePoints=function(e){var n=Math.min(this._originXs.length,this._originYs.length);if(e>n){var i=[];i.push(new t.core.Point(this._originXs[0],this._originYs[0]));for(var o=0;o<n-1;o++){var r=1/(Math.floor((e-n)/(n-1))+1);(r>=1||(e-n)%(n-1)!=0)&&(e-n-1)%(n-1)>=o&&(r=1/(Math.floor((e-n)/(n-1))+2));for(var l=r;l<1&&!(Math.abs(1-l)<1e-10);l+=r){var a=this._calculateSplinePoint(l+o,n,this._a,this._b,this._c,this._d);i.push(a)}i.push(new t.core.Point(this._originXs[o+1],this._originYs[o+1]))}return i}return this._getPoints().slice()},Object.defineProperty(i.prototype,"type",{get:function(){return"Polyline"},enumerable:!1,configurable:!0}),i.prototype._containsInStroke=function(e){for(var n=Math.min(this.__xs.length,this.__ys.length),i=0;i<n-1;i++)if(t._Util.pointToLine(this.__xs[i],this._ys[i],this.__xs[i+1],this.__ys[i+1],e.x,e.y)<t._ShapeUtil._getAppropriateHitestPaddingBy(this.strokeWidth))return!0;return!1},i.prototype._contains=function(t){for(var e=Math.min(this.__xs.length,this.__ys.length),n=0;n<e-1;n++){var i=this.__xs[n],o=this.__ys[n],r=this.__xs[n+1],l=this.__ys[n+1];if(t.x>=Math.min(i,r)&&t.x<=Math.max(i,r)&&t.y>=Math.min(o,l)&&t.y<=Math.max(o,l)){var a=(o-t.y)/(i-t.x)-(l-t.y)/(r-t.x);if(a<.1&&a>-.1)return!0}}return!1},i.prototype._intersectsWith=function(e){var n=t._ShapeUtil._getShapePoints(e);if(null!=n)for(var i=this._getPoints(),o=0;o<i.length-1;o++)for(var r=i[o],l=i[o+1],a=0;a<n.length-1;a++){var u=n[o],s=n[o+1];if(t._AlgorithmUtils._isCross(r,l,u,s))return!0}return!1},i.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(e instanceof i){var n=t._NumberEqualityComparer._numberArrayEqualityComparer,o=t._PointEqualityComparer._pointArrayEqualityComparer;return e.strokeWidth==this.strokeWidth&&n._equalsWith(e._originXs,this._originXs)&&n._equalsWith(e._originYs,this._originYs)&&o._equalsWith(e._a,this._a)&&o._equalsWith(e._b,this._b)&&o._equalsWith(e._c,this._c)&&o._equalsWith(e._d,this._d)}return!1},i.prototype.clone=function(){return new i(this._originXs.slice(),this._originYs.slice(),this._a.map((function(t){return t.clone()})),this._b.map((function(t){return t.clone()})),this._c.map((function(t){return t.clone()})),this._d.map((function(t){return t.clone()})),this.strokeWidth)},i.prototype.queryInterface=function(t){return"IPolylineShape"===t||"IShapePointsAccesser"===t||"ISplineCurve"==t||"ILineShapePointsInterpolater"==t?this:e.prototype.queryInterface.call(this,t)},Object.defineProperty(i.prototype,"_segmentLength",{get:function(){return Math.min(this.__segmentXs.length,this.__segmentYs.length)},enumerable:!1,configurable:!0}),i.prototype._hittest=function(e){for(var n=0;n<this._segmentLength;++n)for(var i=this.__segmentXs[n],o=this.__segmentYs[n],r=0;r<Math.min(i.length,o.length)-1;++r)if(t._Util.pointToLine(i[r],o[r],i[r+1],o[r+1],e.x,e.y)<t._ShapeUtil._getAppropriateHitestPaddingBy(this.strokeWidth))return n;return-1},i.prototype._isConnect=function(t){if(t instanceof i){if(this._originXs[this._originXs.length-1]==t._originXs[0]&&this._originYs[this._originYs.length-1]==t._originYs[0])return!0;if(t._originXs[t._originXs.length-1]==this._originXs[0]&&t._originYs[t._originYs.length-1]==this._originYs[0])return!0}return!1},i.prototype._setStrokeWidth=function(e){if(!(null==e||e>=0))throw new t.RuntimeError(t.ErrorCode.PositiveOrZeroExpected,e);this.__strokeWidth=e},i._calculateCoefficients=function(e,n,i,o,r,l){var a=[[-.5,1.5,-1.5,.5],[1,-2.5,2,-.5],[-.5,0,.5,0],[0,1,0,0]],u=Math.min(e.length,n.length);if(u>=3)for(var s=0;s<u-1;s++){var _=0==s?new t.core.Point(e[s],n[s]):new t.core.Point(e[s-1],n[s-1]),p=new t.core.Point(e[s],n[s]),c=new t.core.Point(e[s+1],n[s+1]),h=s==u-2?new t.core.Point(e[s+1],n[s+1]):new t.core.Point(e[s+2],n[s+2]),f=new t.core.Point(0,0),d=new t.core.Point(0,0),y=new t.core.Point(0,0),g=new t.core.Point(0,0);f.x=_.x*a[0][0]+p.x*a[0][1]+c.x*a[0][2]+h.x*a[0][3],d.x=_.x*a[1][0]+p.x*a[1][1]+c.x*a[1][2]+h.x*a[1][3],y.x=_.x*a[2][0]+p.x*a[2][1]+c.x*a[2][2]+h.x*a[2][3],g.x=_.x*a[3][0]+p.x*a[3][1]+c.x*a[3][2]+h.x*a[3][3],f.y=_.y*a[0][0]+p.y*a[0][1]+c.y*a[0][2]+h.y*a[0][3],d.y=_.y*a[1][0]+p.y*a[1][1]+c.y*a[1][2]+h.y*a[1][3],y.y=_.y*a[2][0]+p.y*a[2][1]+c.y*a[2][2]+h.y*a[2][3],g.y=_.y*a[3][0]+p.y*a[3][1]+c.y*a[3][2]+h.y*a[3][3],i.push(f),o.push(d),r.push(y),l.push(g)}},i.prototype._calculateSplineCoordinates=function(t,e,n,i,o,r,l,a,u,s){n.length=0,i.length=0;var _=Math.min(t.length,e.length);if(_<=2&&0==l.length&&0==a.length&&0==u.length&&0==s.length)return n.push.apply(n,t),i.push.apply(i,e),o.push(t),void r.push(e);var p=this._calculateSplinePoint(0,_,l,a,u,s),c=[p.x],h=[p.y];n.push(p.x),i.push(p.y);for(var f=.002*_,d=null,y=0;y<_-1;++y){for(var g=f;g<1;g+=f)d=this._calculateSplinePoint(g+y,_,l,a,u,s),(Math.abs(p.x-d.x)>=3||Math.abs(p.y-d.y)>=3)&&(c.push(d.x),h.push(d.y),n.push(d.x),i.push(d.y),p=d);c.push(t[y+1]),h.push(e[y+1]),o.push(c),r.push(h),c=[t[y+1]],h=[e[y+1]],n.push(t[y+1]),i.push(e[y+1])}null==d||n[n.length-1]==d.x&&i[i.length-1]==d.y||(n.push(d.x),i.push(d.y))},i.prototype._calculateSplinePoint=function(e,n,i,o,r,l){var a=Math.floor(e);a<0&&(a=0),a>n-2&&(a=n-2);var u=e-a,s=((i[a].x*u+o[a].x)*u+r[a].x)*u+l[a].x,_=((i[a].y*u+o[a].y)*u+r[a].y)*u+l[a].y;return new t.core.Point(s,_)},i.prototype._createPointsByCoordinates=function(e,n){for(var i=[],o=Math.min(e.length,n.length),r=0;r<o;r++)i.push(new t.core.Point(e[r],n[r]));return i},o([t.deprecated("IPolylineShape.width","strokeWidth")],i.prototype,"width",null),i}(t._BaseShape);t._SplineCurveShape=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,i)||this;return o.__segmentPoints=n,o}return n(i,e),Object.defineProperty(i.prototype,"_segmentLength",{get:function(){return this.__segmentPoints.length},enumerable:!1,configurable:!0}),i.prototype._hittest=function(e){for(var n=0;n<this._segmentLength;++n)for(var i=this.__segmentPoints[n],o=0;o<i.length-1;++o)if(t._Util.pointToLine(i[o].x,i[o].y,i[o+1].x,i[o+1].y,e.x,e.y)<t._ShapeUtil._getAppropriateHitestPaddingBy(this.strokeWidth))return n;return-1},i}(t._PolylineShape);t._StepLineShape=e}(t||(t={})),function(t){!function(t){t._isRectangleShape=function(t){var e=t;return null!=e&&void 0!==e.center&&void 0!==e.size&&void 0!==e.angle}}(t.shapes||(t.shapes={}))}(t||(t={})),function(t){t.shapes||(t.shapes={})}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l){var a=e.call(this)||this;return a.__dirty=!0,a.__center=new t.core.Point(n,i),a.__size=new t.core.Size(o,r),a.__angle=l,a}return n(i,e),i._fromLeftConnectingPoint=function(e,n,o){var r=Math.sin(o);if(Math.abs(r)<t._Constants.Precision)return new i(e.x+n.width/2,e.y,n.width,n.height,0);var l,a=Math.cos(o);if(Math.abs(a)<t._Constants.Precision)return new i(e.x+n.height/2,e.y,n.width,n.height,r>0?.5*Math.PI:1.5*Math.PI);if(r>0){var u=new t.core.Point(e.x+.5*n.width*a,e.y+.5*n.width*r);return new i((l=new t.core.Point(u.x+.5*n.height*r,u.y-.5*n.height*a)).x,l.y,n.width,n.height,o)}return u=new t.core.Point(e.x+.5*n.width*a,e.y+.5*n.width*r),new i((l=new t.core.Point(u.x-.5*n.height*r,u.y+.5*n.height*a)).x,l.y,n.width,n.height,o)},i._fromRightConnectingPoint=function(e,n,o){var r=Math.sin(o);if(Math.abs(r)<t._Constants.Precision)return new i(e.x-n.width/2,e.y,n.width,n.height,0);var l,a=Math.cos(o);if(Math.abs(a)<t._Constants.Precision)return new i(e.x-n.height/2,e.y,n.width,n.height,r>0?.5*Math.PI:1.5*Math.PI);if(r>0){var u=new t.core.Point(e.x-.5*n.width*a,e.y-.5*n.width*r);return new i((l=new t.core.Point(u.x-.5*n.height*r,u.y+.5*n.height*a)).x,l.y,n.width,n.height,o)}return u=new t.core.Point(e.x-.5*n.width*a,e.y-.5*n.width*r),new i((l=new t.core.Point(u.x+.5*n.height*r,u.y-.5*n.height*a)).x,l.y,n.width,n.height,o)},i._fromTopConnectingPoint=function(e,n,o){var r=Math.sin(o);if(Math.abs(r)<t._Constants.Precision)return new i(e.x,e.y+n.height/2,n.width,n.height,0);var l,a=Math.cos(o);if(Math.abs(a)<t._Constants.Precision)return new i(e.x,e.y+n.width/2,n.width,n.height,r>0?.5*Math.PI:1.5*Math.PI);if(r>0){var u=new t.core.Point(e.x+.5*n.width*a,e.y+.5*n.width*r);return new i((l=new t.core.Point(u.x-.5*n.height*r,u.y+.5*n.height*a)).x,l.y,n.width,n.height,o)}return u=new t.core.Point(e.x-.5*n.width*a,e.y-.5*n.width*r),new i((l=new t.core.Point(u.x-.5*n.height*r,u.y+.5*n.height*a)).x,l.y,n.width,n.height,o)},i._fromBottomConnectingPoint=function(e,n,o){var r=Math.sin(o);if(Math.abs(r)<t._Constants.Precision)return new i(e.x,e.y-n.height/2,n.width,n.height,0);var l,a=Math.cos(o);if(Math.abs(a)<t._Constants.Precision)return new i(e.x,e.y-n.width/2,n.width,n.height,r>0?.5*Math.PI:1.5*Math.PI);if(r>0){var u=new t.core.Point(e.x-.5*n.width*a,e.y-.5*n.width*r);return new i((l=new t.core.Point(u.x+.5*n.height*r,u.y-.5*n.height*a)).x,l.y,n.width,n.height,o)}return u=new t.core.Point(e.x+.5*n.width*a,e.y+.5*n.width*r),new i((l=new t.core.Point(u.x+.5*n.height*r,u.y-.5*n.height*a)).x,l.y,n.width,n.height,o)},Object.defineProperty(i.prototype,"center",{get:function(){return this.__center},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this.__size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leftTop",{get:function(){return this.__dirty&&this._calculatePoints(),this.__leftTop},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rightTop",{get:function(){return this.__dirty&&this._calculatePoints(),this.__rightTop},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leftBottom",{get:function(){return this.__dirty&&this._calculatePoints(),this.__leftBottom},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rightBottom",{get:function(){return this.__dirty&&this._calculatePoints(),this.__rightBottom},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"points",{get:function(){return this.__dirty&&this._calculatePoints(),this.__points},enumerable:!1,configurable:!0}),i.prototype.getBoundRectangle=function(){var e=[],n=[];this.points.forEach((function(t){e.push(t.x),n.push(t.y)}));var i=Math.min.apply(Math,e),o=Math.min.apply(Math,n);return new t.core.Rect(i,o,Math.max.apply(Math,e)-i,Math.max.apply(Math,n)-o)},i.prototype._contains=function(e){return new t._PolygonShape([this.leftTop,this.rightTop,this.rightBottom,this.leftBottom])._contains(e)},i.prototype._intersectsWith=function(e){if(e instanceof i){var n=e;if(Math.abs(this.angle)<t._Constants.Precision&&Math.abs(n.angle)<t._Constants.Precision){var o=new t.core.Rect(this.center.x-this.size.width/2,this.center.y-this.size.height/2,this.size.width,this.size.height),r=new t.core.Rect(n.center.x-n.size.width/2,n.center.y-n.size.height/2,n.size.width,n.size.height);return o.intersectsWith(r)}var l=new t._PolygonShape([this.leftTop,this.rightTop,this.rightBottom,this.leftBottom]),a=new t._PolygonShape([n.leftTop,n.rightTop,n.rightBottom,n.leftBottom]);return t._ShapeUtil._whetherIntersect(l,a)}return!1},i.prototype._translate=function(t,e){this._translatePoint(this.__center,t,e),this.__dirty=!0},i.prototype._translatePoint=function(t,e,n){t.x+=e,t.y+=n},i.prototype._calculatePoints=function(){if(this.__dirty){this.__dirty=!1;var e=new t.Matrix([1,0,0,1,this.center.x,this.center.y]);e.rotate(this.angle),this.__rightTop=e.transformPoint(this.size.width/2,-this.size.height/2),this.__leftTop=e.transformPoint(-this.size.width/2,-this.size.height/2),this.__leftBottom=e.transformPoint(-this.size.width/2,this.size.height/2),this.__rightBottom=e.transformPoint(this.size.width/2,this.size.height/2),this.__points=[this.__leftTop,this.__rightTop,this.__rightBottom,this.__leftBottom]}},Object.defineProperty(i.prototype,"type",{get:function(){return"Rectangle"},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IRectangleShape"===t?this:e.prototype.queryInterface.call(this,t)},i.prototype.equalsWith=function(t){if(null==t)return!1;if(this==t)return!0;if(t instanceof i){var e=t;return e.center.equalsWith(this.center)&&e.size.equalsWith(this.size)&&e.angle==this.angle}return!1},i.prototype.clone=function(){return new i(this.center.x,this.center.y,this.size.width,this.size.height,this.angle)},i}(t._BaseShape);t._RectangleShape=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._BuildRectangleShapeFromRect=function(e){var n=e.left+.5*e.width,i=e.top+.5*e.height;return new t._RectangleShape(n,i,e.width,e.height,0)},e._defaultShapeBuilder=new e,e}();t._ShapeBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildinSymbolDefinitionBuilders=function(){return null==i.__buildInSymbolDefinitionBuilders&&(i.__buildInSymbolDefinitionBuilders=new i([],i._pluginType)),i.__buildInSymbolDefinitionBuilders},i.prototype._convert=function(e){return t.models._isSymbolDefinitionBuilder(e)?e:null},i.prototype._symbolDefinitions=function(t,e){void 0===e&&(e=null);for(var n=[],i=0,o=this._objects(t,e);i<o.length;i++){var r=o[i].item.buildSymbolDefinition();null!=r&&n.push(r)}return n},i._pluginType="Symbol",i}(t._BuildInObjectCollection);t._BuildinSymbolDefinitionBuilderCollection=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t,e,n){this.style=t,this.matrix=e,this._rectangle=n}return e.prototype.render=function(e,n){t._StyleUtility._applyStyle(e,this.style)},e.prototype.contains=function(t){return null!=this._rectangle&&this._rectangle.contains(t)},e}(),e.Symbol=n}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.box=e,r}return n(e,t),e.prototype.render=function(e,n){e.beginTransform(),t.prototype.render.call(this,e,n),e.drawRect(this.box.center.x-this.box.size.width/2,this.box.center.y-this.box.size.height/2,this.box.size.width,this.box.size.height,null,this.matrix),e.restoreTransform()},e}(t.Symbol);t.BoxSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Box"}return n.prototype.createSymbol=function(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=new t._RectangleShape(n.center.x,n.center.y,n.width,n.height,0),a=t._StyleUtility._buildStyle(null,null,null,null,1);t._StyleUtility._applyAllStyle(a,i);var u=null;return null!=o&&(u=new t.Matrix).rotate(o*Math.PI/180,n.center),new e.BoxSymbol(l,a,u,n)},n}(),e.BoxSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Box",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype.buildSymbolDefinition=function(){return new t.models.BoxSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._boxSymbolDefinitionBuilder=new e,e}();t.BoxSymbolDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._boxSymbolDefinitionBuilder,!0)}(t||(t={})),function(t){!function(t){t._isBoxSymbol=function(t){return null!=t&&void 0!==t.box}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.dash=e,r}return n(e,t),e.prototype.render=function(e,n){if(e.beginTransform(),t.prototype.render.call(this,e,n),this.dash.points.length>=2){var i=this.dash.points[0],o=this.dash.points[1];e.drawLine(i.x,i.y,o.x,o.y,null,this.matrix)}e.restoreTransform()},e}(t.Symbol);t.DashSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Dash"}return n.prototype.createSymbol=function(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=t._StyleUtility._buildStyle(null,null,null,null,2,"2,2");t._StyleUtility._applyAllStyle(l,i);var a=[];a.push(new t.core.Point(n.center.x-.5*n.width,n.center.y)),a.push(new t.core.Point(n.center.x+.5*n.width,n.center.y));var u=new t._PolylineShape(a,l.strokeWidth),s=null;return null!=o&&(s=new t.Matrix).rotate(o*Math.PI/180,n.center),new e.DashSymbol(u,l,s,n)},n}(),e.DashSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Dash",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildSymbolDefinition=function(){return new t.models.DashSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._dashSymbolDefinitionBuilder=new e,e}();t.DashSymbolDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._dashSymbolDefinitionBuilder,!0)}(t||(t={})),function(t){!function(t){t._isDashSymbol=function(t){return null!=t&&void 0!==t.dash}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.diamond=e,r}return n(e,t),e.prototype.render=function(e,n){e.beginTransform(),t.prototype.render.call(this,e,n);var i=this.diamond.points.map((function(t){return t.x})),o=this.diamond.points.map((function(t){return t.y}));e.drawPolygon(i,o,null,this.matrix),e.restoreTransform()},e}(t.Symbol);t.DiamondSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Diamond"}return n.prototype.createSymbol=function(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=[];l.push(new t.core.Point(n.center.x,n.center.y-.5*n.height)),l.push(new t.core.Point(n.center.x+.5*n.width,n.center.y)),l.push(new t.core.Point(n.center.x,n.center.y+.5*n.height)),l.push(new t.core.Point(n.center.x-.5*n.width,n.center.y));var a=new t._PolygonShape(l),u=t._StyleUtility._buildStyle(null,null,null,null,1);t._StyleUtility._applyAllStyle(u,i);var s=null;return null!=o&&(s=new t.Matrix).rotate(o*Math.PI/180,n.center),new e.DiamondSymbol(a,u,s,n)},n}(),e.DiamondSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Diamond",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=4}return e.prototype.buildSymbolDefinition=function(){return new t.models.DiamondSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._diamondSymbolDefinitionBuilder=new e,e}();t.DiamondSymbolDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._diamondSymbolDefinitionBuilder,!0)}(t||(t={})),function(t){!function(t){t._isDiamondSymbol=function(t){return null!=t&&void 0!==t.diamond}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.dot=e,r}return n(e,t),e.prototype.render=function(e,n){e.beginTransform(),t.prototype.render.call(this,e,n),e.drawEllipse(this.dot.center.x,this.dot.center.y,this.dot.xRadius,this.dot.yRadius,null,this.matrix),e.restoreTransform()},e}(t.Symbol);t.DotSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Dot"}return n.prototype.createSymbol=function(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=new t._ArcShape(n.center,n.width/2,n.height/2,0,0,t._Utility._PI2),a=t._StyleUtility._buildStyle(null,null,null,null,1);t._StyleUtility._applyAllStyle(a,i);var u=null;return null!=o&&(u=new t.Matrix).rotate(o*Math.PI/180,n.center),new e.DotSymbol(l,a,u,n)},n}(),e.DotSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Dot",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=6}return e.prototype.buildSymbolDefinition=function(){return new t.models.DotSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._dotSymbolDefinitionBuilder=new e,e}();t.DotSymbolDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._dotSymbolDefinitionBuilder,!0)}(t||(t={})),function(t){!function(t){t._isDotSymbol=function(t){return null!=t&&void 0!==t.dot}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isImageSymbol=function(t){return null!=t&&void 0!==t.image}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.image=e,r}return n(e,t),e.prototype.render=function(e,n){if(null!=this.image){e.beginTransform(),t.prototype.render.call(this,e,n);var i=this._rectangle;e.drawImage(this.image,i.left,i.top,i.width,i.height,null,this.matrix),e.restoreTransform()}},e}(t.Symbol);t._ImageSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t,e){this.type=t,this.__image=e}return n.prototype.createSymbol=function(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=t._StyleUtility._buildStyle(null,null,null,null,1);t._StyleUtility._applyAllStyle(l,i);var a=t._NativeExtension._toNonNullNumber(this.__image.width,0),u=t._NativeExtension._toNonNullNumber(this.__image.height,0);if(a<=0||u<=0)return null;var s=new t.core.Rect(0,0,a,u);null!=r&&r!=t.SymbolLayout.Zoom||(n=this._centerGraphic(n,s));var _=null;return null!=o&&(_=new t.Matrix).rotate(o*Math.PI/180,n.center),new e._ImageSymbol(this.__image,l,_,n)},n.prototype._centerGraphic=function(e,n){var i,o=n.width/n.height,r=e.height*o,l=e.left,a=e.top;i=r<=e.width?e.height:(r=e.width)/o;var u=e.width-r,s=e.height-i;return u>0&&(l+=u/2),s>0&&(a+=s/2),new t.core.Rect(l,a,r,i)},n}(),e._ImageSymbolDefinition=n}(t||(t={})),function(t){!function(t){t._isSymbol=function(t){var e=t;return null!=e&&void 0!==e.style&&void 0!==e.matrix&&"function"==typeof e.render&&"function"==typeof e.contains}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isPathSymbol=function(t){return null!=t&&void 0!==t.path}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(n,i,o,r,l){void 0===l&&(l=t.PathFillType.Nonzero);var a=e.call(this,i,o,r)||this;return a.path=n,a.fillType=l,a}return n(i,e),i.prototype.render=function(n,i){n.beginTransform(),e.prototype.render.call(this,n,i),n.drawPath(this.path,this.fillType,t.LineCap.Butt,t.LineJoin.Miter,null,this.matrix),n.restoreTransform()},i.prototype.contains=function(n){if(!e.prototype.contains.call(this,n))return!1;var i=new t.core.Point(n.x-this._rectangle.left,n.y-this._rectangle.top),o=1;null!=this.style&&null!=this.style.strokeWidth&&(o=this.style.strokeWidth);var r=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(this.path),l=new t.core.Point(i.x/this.matrix.values[0]+r.left,i.y/this.matrix.values[3]+r.top),a=new t._PathUtil;return a.contain(this.path,l.x,l.y)||a.containStroke(this.path,o,l.x,l.y)},i}(e.Symbol),e.PathSymbol=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n){this.type=e,this.__path=null!=n?n:t._PathBuilder._defaultPathBuilder._buildPath()}return n.prototype.createSymbol=function(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=t._StyleUtility._buildStyle(null,null,null,null,1,null,!1);t._StyleUtility._applyAllStyle(l,i);var a=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(this.__path);null!=r&&r!=t.SymbolLayout.Zoom||(n=this._centerGraphic(n,a));var u=this._calculateTransform(a,n,o);return new e.PathSymbol(this.__path,l,u,n)},n.prototype._calculateTransform=function(e,n,i){var o=n.width/e.width,r=n.height/e.height,l=new t.Matrix;return l.translate(n.center.x-e.center.x,n.center.y-e.center.y),null!=i&&l.rotate(i*Math.PI/180,e.center),t._MatrixUtility._scaleAt(l,o,r,e.center),l},n.prototype._centerGraphic=function(e,n){var i,o=n.width/n.height,r=e.height*o,l=e.left,a=e.top;i=r<=e.width?e.height:(r=e.width)/o;var u=e.width-r,s=e.height-i;return u>0&&(l+=u/2),s>0&&(a+=s/2),new t.core.Rect(l,a,r,i)},n}(),e.PathSymbolDefinition=n}(t||(t={})),function(t){!function(t){t._isPlusSymbol=function(t){var e=t;return null!=e&&void 0!==e.plusLine1&&void 0!==e.plusLine2}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,i,o,r)||this;return l.plusLine1=e,l.plusLine2=n,l}return n(e,t),e.prototype.render=function(e,n){if(e.beginTransform(),t.prototype.render.call(this,e,n),this.plusLine1.points.length>=2){var i=this.plusLine1.points[0],o=this.plusLine1.points[1];e.drawLine(i.x,i.y,o.x,o.y,null,this.matrix)}this.plusLine2.points.length>=2&&(i=this.plusLine2.points[0],o=this.plusLine2.points[1],e.drawLine(i.x,i.y,o.x,o.y,null,this.matrix)),e.restoreTransform()},e}(t.Symbol);t.PlusSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Plus"}return n.prototype.createSymbol=function(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=t._StyleUtility._buildStyle(null,null,null,null,2);t._StyleUtility._applyAllStyle(l,i);var a=[];a.push(new t.core.Point(n.center.x,n.center.y-.5*n.height)),a.push(new t.core.Point(n.center.x,n.center.y+.5*n.height));var u=new t._PolylineShape(a,l.strokeWidth),s=[];s.push(new t.core.Point(n.center.x-.5*n.width,n.center.y)),s.push(new t.core.Point(n.center.x+.5*n.width,n.center.y));var _=new t._PolylineShape(s,l.strokeWidth),p=null;return null!=o&&(p=new t.Matrix).rotate(o*Math.PI/180,n.center),new e.PlusSymbol(u,_,l,p,n)},n}(),e.PlusSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Plus",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildSymbolDefinition=function(){return new t.models.PlusSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._plusSymbolDefinitionBuilder=new e,e}();t.PlusSymbolDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._plusSymbolDefinitionBuilder,!0)}(t||(t={})),function(t){!function(t){t._isTriangleSymbol=function(t){return null!=t&&void 0!==t.triangle}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i,o)||this;return r.triangle=e,r}return n(e,t),e.prototype.render=function(e,n){e.beginTransform(),t.prototype.render.call(this,e,n);var i=this.triangle.points.map((function(t){return t.x})),o=this.triangle.points.map((function(t){return t.y}));e.drawPolygon(i,o,null,this.matrix),e.restoreTransform()},e}(t.Symbol);t.TriangleSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="Triangle"}return n.prototype.createSymbol=function(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=new t.core.Point(n.left+n.width/2,n.top),a=new t.core.Point(n.left,n.width/2/.5773502691896257+n.top),u=new t.core.Point(n.right,a.y),s=[];s.push(l),s.push(a),s.push(u);var _=new t._PolygonShape(s),p=t._StyleUtility._buildStyle(null,null,null,null,1);t._StyleUtility._applyAllStyle(p,i);var c=null;return null!=o&&(c=new t.Matrix).rotate(o*Math.PI/180,n.center),new e.TriangleSymbol(_,p,c,n)},n}(),e.TriangleSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="Triangle",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=3}return e.prototype.buildSymbolDefinition=function(){return new t.models.TriangleSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._triangleSymbolDefinitionBuilder=new e,e}();t.TriangleSymbolDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._triangleSymbolDefinitionBuilder,!0)}(t||(t={})),function(t){!function(t){t._isXSymbol=function(t){var e=t;return null!=e&&void 0!==e.xLine1&&void 0!==e.xLine2}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,i,o,r)||this;return l.xLine1=e,l.xLine2=n,l}return n(e,t),e.prototype.render=function(e,n){if(e.beginTransform(),t.prototype.render.call(this,e,n),this.xLine1.points.length>=2){var i=this.xLine1.points[0],o=this.xLine1.points[1];e.drawLine(i.x,i.y,o.x,o.y,null,this.matrix)}this.xLine2.points.length>=2&&(i=this.xLine2.points[0],o=this.xLine2.points[1],e.drawLine(i.x,i.y,o.x,o.y,null,this.matrix)),e.restoreTransform()},e}(t.Symbol);t.XSymbol=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.type="X"}return n.prototype.createSymbol=function(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var l=t._StyleUtility._buildStyle(null,null,null,null,2);t._StyleUtility._applyAllStyle(l,i);var a=[];a.push(new t.core.Point(n.center.x-.5*n.width,n.center.y-.5*n.height)),a.push(new t.core.Point(n.center.x+.5*n.width,n.center.y+.5*n.height));var u=new t._PolylineShape(a,l.strokeWidth),s=[];s.push(new t.core.Point(n.center.x+.5*n.width,n.center.y-.5*n.height)),s.push(new t.core.Point(n.center.x-.5*n.width,n.center.y+.5*n.height));var _=new t._PolylineShape(s,l.strokeWidth),p=null;return null!=o&&(p=new t.Matrix).rotate(o*Math.PI/180,n.center),new e.XSymbol(u,_,l,p,n)},n}(),e.XSymbolDefinition=n}(t||(t={})),function(t){var e=function(){function e(){this.name="X",this.type=t._BuildinSymbolDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype.buildSymbolDefinition=function(){return new t.models.XSymbolDefinition},e.prototype.queryInterface=function(t){return"ISymbolDefinitionBuilder"==t||"IPlugin"==t?this:null},e._xSymbolDefinitionBuilder=new e,e}();t.XSymbolDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._xSymbolDefinitionBuilder,!0)}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isSymbolDefinitionBuilder=function(t){return null!=t&&"function"==typeof t.buildSymbolDefinition}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(){}return t.defaultSymbolDefinitionGetPolicy=function(){return null==t.__defaultSymbolDefinitionGetPolicy&&(t.__defaultSymbolDefinitionGetPolicy=new t),t.__defaultSymbolDefinitionGetPolicy},t.prototype.getSymbolDefinition=function(t,e,n,i,o){var r=this.getSymbolDefinitionWithValue(t,e);return null!=r||null!=(r=this.getSymbolDefinitionWithName(t,n))||null!=(r=this.getSymbolDefinitionWithName(t,i))?r:r=this.getSymbolDefinitionWithName(t,o)},t.prototype.getSymbolDefinitionWithValue=function(t,e){for(var n=null,i=0,o=t;i<o.length&&null==(n=o[i].getSymbolDefinitionWithValue(e));i++);return n},t.prototype.getSymbolDefinitionWithName=function(t,e){for(var n=null,i=0,o=t;i<o.length&&null==(n=o[i].getSymbolDefinitionWithName(e));i++);return n},t}();t.SymbolDefinitionGetPolicy=e}(t||(t={})),function(t){!function(t){t[t.Zoom=0]="Zoom",t[t.Stretch=1]="Stretch"}(t.SymbolLayout||(t.SymbolLayout={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function t(t,e){this.value=t,this.symbolDefinition=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this.symbolDefinition.type},enumerable:!1,configurable:!0}),t.prototype.createSymbol=function(t,e,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),this.symbolDefinition.createSymbol(t,e,n,i)},t}();t.SymbolWithDataDefinition=e}(t.models||(t.models={}))}(t||(t={})),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__provider=t,this.__symbolOffset=0}return t.prototype.next=function(t){var e=this.__symbolOffset;return t&&this.__symbolOffset++,this.__provider.getSymbolDefinitionWithIndex(e)},t.prototype.reset=function(){this.__symbolOffset=0},t.prototype.queryInterface=function(t){return null},t}();t.SymbolDefinitionIterator=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.symbolDefinitions=[],this.symbolWithDataDefinitions=[],this.__imageProvider=n,null==t?this.symbolDefinitions=e:(this.symbolDefinitions=this._createSymbolDefinitions(t,e),this.symbolWithDataDefinitions=this._createSymbolWithDataDefinitions(t,e))}return e.prototype.getSymbolDefinitionWithIndex=function(t){return 0==this.symbolDefinitions.length?null:this.symbolDefinitions[t%this.symbolDefinitions.length]},e.prototype.getSymbolDefinitionWithName=function(t){var e=this.symbolDefinitions.concat(this.symbolWithDataDefinitions);return this._getSymbolDefinitionWithName(e,t)},e.prototype.getSymbolDefinitionWithValue=function(e){for(var n=0,i=this.symbolWithDataDefinitions;n<i.length;n++){var o=i[n];if(t._OptionUtility._isDataEqualsConfigData(e,o.value))return o.symbolDefinition}return null},e.prototype._getSymbolDefinitionWithName=function(t,e){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o.type==e)return o}return null},e.prototype._createSymbolDefinitions=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o];if(l.type!=t.SymbolItemType.Data){var a=this._createSymbolDefinition(l,n);null!=a&&i.push(a)}}return i},e.prototype._createSymbolWithDataDefinitions=function(e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o];if(l.type!=t.SymbolItemType.Index){var a=this._createSymbolDefinition(l,n);null!=a&&i.push(new t.models.SymbolWithDataDefinition(l.data,a))}}return i},e.prototype._createSymbolDefinition=function(t,e){var n=t.shape;if(null==n)return null;var i=null;return null!=n.content&&""!=n.content&&(i=this._buildPathSymbolDefinition(n.name,n.content)),null==i&&null!=n.name&&""!=n.name&&(i=this._getSymbolDefinitionWithName(e,n.name)),i},e.prototype._buildPathSymbolDefinition=function(e,n){var i;if(null!=(i=/([^:]+):(.+)/.exec(n))){var o=i[1],r=i[2];if("path"===o){var l=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(r);return new t.models.PathSymbolDefinition(e,l)}if("image"===o){var a=this.__imageProvider.getImageInfo(r);return null!=a?new t.models._ImageSymbolDefinition(e,a):null}return null}throw new t.OptionError(t.ErrorCode.UnexpectedValue,n)},e}();t.SymbolDefinitionProvider=e}(t||(t={})),function(t){var e=function(t){this.syntaxExpression=t};t._SyntaxExpression=e}(t||(t={})),t||(t={}),function(t){t._isSyntaxEngineBuilder=function(t){return null!=t.buildSyntaxEngine}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isTemplateSyntaxExpression=function(t){return null!=t.segments}}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultSyntaxEngine=function(){return null==e.__defaultSyntaxEngine&&(e.__defaultSyntaxEngine=new e),e.__defaultSyntaxEngine},e.prototype.parse=function(e){if(null==e)return null;var n=this._parseExcelTemplateWithoutBrackets(e);if(null!=n)return new t._TemplateSyntaxExpression(e,[n]);var i=this._parseTemplateWithCurlyBrackets(e);if(i.length>0)return new t._TemplateSyntaxExpression(e,i);var o=new t._LiteralTemplateSegment(e);return new t._TemplateSyntaxExpression(e,[o])},e.prototype.evaluate=function(e,n,i,o){return null==e?null:t._isTemplateSyntaxExpression(e)?e.segments.map((function(t){return t.evaluate(n,i,o)})).join(""):null},e.prototype._parseExcelTemplateWithoutBrackets=function(e){var n=/^\s*\=.+\s*$/g.exec(e);if(null!=n){var i=n[0],o=null,r=/([^\\]\:.+)$/.exec(i);return null!=r&&(o=r[0].substring(2),i=i.substring(0,r.index+1)),i=t._EscapedCharacterStringUtility._trim(i),t._BuildInTemplateSegmentBuilderCollection._defaultBuildInTemplateSegmentBuilders()._templateSegment(i,o)}return null},e.prototype._parseTemplateWithCurlyBrackets=function(e){for(var n,i=[],o=this._replaceEscapedCurlyBrackets(e),r=/\{[^\}]+\}/g,l=0,a=o.length;null!=(n=r.exec(o));){0!==n.index&&(a=n.index,i.push(new t._LiteralTemplateSegment(o.substring(l,a)))),l=r.lastIndex;var u=this._restoreEscapedCurlyBrackets(n[0].substring(1,n[0].length-1)),s=null,_=/([^\\]\:.+)$/.exec(u);null!=_&&(s=_[0].substring(2),u=u.substring(0,_.index+1)),u=t._EscapedCharacterStringUtility._trim(u);var p=t._BuildInTemplateSegmentBuilderCollection._defaultBuildInTemplateSegmentBuilders()._templateSegment(u,s);i.push(p)}return l!==o.length&&i.push(new t._LiteralTemplateSegment(this._restoreEscapedCurlyBrackets(o.substring(l)))),i},e.prototype._replaceEscapedCurlyBrackets=function(t){return t.replace(/\\(\{)/g,"\\LEFT_CURLY_BRACKET").replace(/\\(\})/g,"\\RIGHT_CURLY_BRACKET")},e.prototype._restoreEscapedCurlyBrackets=function(t){return t.replace(/\\(LEFT_CURLY_BRACKET)/g,"\\{").replace(/\\(RIGHT_CURLY_BRACKET)/g,"\\}")},e}();t._TemplateSyntaxEngine=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.segments=n,i}return n(e,t),e}(t._SyntaxExpression);t._TemplateSyntaxExpression=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInTemplateSegmentBuilders=function(){return null==i.__buildInTemplateSegmentBuilders&&(i.__buildInTemplateSegmentBuilders=new i([t._TokenSyntaxEngine._defaultSyntaxEngine(),t._ExcelSyntaxEngine._defaultSyntaxEngine()],i._pluginType)),i.__buildInTemplateSegmentBuilders},i.prototype._convert=function(e){return t._isTemplateSegmentBuilder(e)?e:null},i.prototype._templateSegment=function(e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);for(var r=null,l=0,a=this._objects(i,o);l<a.length;l++)if(null!=(r=a[l].item.buildTemplateSegment(e,n)))return r;return new t._LiteralTemplateSegment("")},i._pluginType="TemplateSegmentBuilder",i}(t._BuildInObjectCollection);t._BuildInTemplateSegmentBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildInTextInfoConverter=function(){return null==e.__buildInTextInfoConverter&&(e.__buildInTextInfoConverter=new e),e.__buildInTextInfoConverter},e.prototype._convertDataValue=function(e,n,i,o){return null!=o?(null==n&&(t._DataValueTypeExtension._isNumber(e)?n=o.defaultFormat(t.core.DataType.Number,!1):t._DataValueTypeExtension._isDate(e)&&(n=o.defaultFormat(t.core.DataType.Date,!1))),o.format(n,e,i)):null!=e?e.toString():""},e.prototype._convertValueInfo=function(t,e,n,i){return null!=t?t._toString(e,n):null!=i?i.format(e,null,n):""},e}();t._BuildInTextInfoConverter=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInTextInfoConverterBuilders=function(){return null==i.__buildInTextInfoConverterBuilders&&(i.__buildInTextInfoConverterBuilders=new i([],i._pluginType)),i.__buildInTextInfoConverterBuilders},i.prototype._convert=function(e){return t._isTextInfoConverterBuilder(e)?e:null},i.prototype._textInfoConverter=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i],l=r.item._build(r.option);if(null!=l)return l}return t._BuildInTextInfoConverter._buildInTextInfoConverter()},i._pluginType="TextInfoConverterBuilder",i}(t._BuildInObjectCollection);t._BuildInTextInfoConverterBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultSyntaxEngine=function(){return null==e.__defaultSyntaxEngine&&(e.__defaultSyntaxEngine=new e),e.__defaultSyntaxEngine},e.prototype.evaluate=function(e,n,o,r){if(null==e)return null;if(t._isIdentifierProxy(n)){var l=new i(n),a=t._BuildInCalculationEngineBuilderCollection._defaultBuildInCalculationEngineBuilders()._calculationEngine("Default",l,o,r);return null!=a&&a.evaluate("EXPRESSION",e.syntaxExpression),l._result()}return null},e.prototype.buildTemplateSegment=function(t,e){if(void 0===e&&(e=null),null==t||t.length<=0)return null;var i=this.parse(t);return null!=i?new n(i,e):null},e.prototype.parse=function(e){return null==e?null:/^\s*(?!\\)=\s*.+$/.test(e)?(e=e.trim().substring(1).trim(),new t._SyntaxExpression(e)):null},e.prototype.queryInterface=function(t){return"ISyntaxEngine"===t||"ISyntaxParser"===t||"ITemplateSegmentBuilder"===t||"ICalculationEngineProxy"===t?this:null},e}();t._ExcelSyntaxEngine=e;var n=function(){function n(t,n){void 0===n&&(n=null),this.__syntaxExpression=t,this.__format=n,this.__syntaxEngine=e._defaultSyntaxEngine()}return Object.defineProperty(n.prototype,"_syntaxEngine",{get:function(){return this.__syntaxEngine},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"syntaxExpression",{get:function(){return this.__syntaxExpression},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format=t},enumerable:!1,configurable:!0}),n.prototype.evaluate=function(e,n,i){var o=this.__syntaxEngine.evaluate(this.__syntaxExpression,e,n,i),r=this.__format,l=null,a=null;if(null!=e.queryInterface("ITextFormatProxy")){var u=e;null==r&&(r=u._getDefaultFormat(this.__syntaxExpression)),l=u._getDefaultFormatType(),a=u._getStringFormatting()}return t._BuildInTextInfoConverterBuilderCollection._defaultBuildInTextInfoConverterBuilders()._textInfoConverter(n,i)._convertDataValue(o,r,l,a)},n}(),i=function(){function e(t){this.__proxy=t,this.__result=null}return e.prototype._result=function(){return this.__result},e.prototype.isIdentityExpression=function(t){return"current"==t||t.length>8&&"current."==t.substring(0,8)},e.prototype.getIdentityValue=function(t){return this.__proxy.getIdentifierValue(t)},e.prototype.resultCallback=function(e){this.__result=t._DataValueTypeExtension._toDataValueType(e)},e}()}(t||(t={})),function(t){t._isIdentifierProxy=function(t){return null!=t.getIdentifierValue}}(t||(t={})),t||(t={}),function(t){t._isTemplateSegmentBuilder=function(t){return null!=t.buildTemplateSegment}}(t||(t={})),function(t){t._isTextFormatProxy=function(t){var e=t;return null!=e&&"function"==typeof e._getDefaultFormat&&"function"==typeof e._getDefaultFormatType&&"function"==typeof e._getStringFormatting}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isTextInfoConverterBuilder=function(t){return null!=t&&"function"==typeof t._build}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e){this.__syntaxExpression=new t._SyntaxExpression(e),this.__format=null}return Object.defineProperty(e.prototype,"syntaxExpression",{get:function(){return this.__syntaxExpression},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format=t},enumerable:!1,configurable:!0}),e.prototype.evaluate=function(e,n,i){return t._EscapedCharacterStringUtility._normalize(this.syntaxExpression.syntaxExpression)},e}();t._LiteralTemplateSegment=e}(t||(t={})),function(t){t._isTokenProxy=function(t){return null!=t.getTokenValue}}(t||(t={})),function(t){t._isTokenSyntaxExpression=function(t){var e=t;return void 0!==e.token&&void 0!==e.path&&void 0!==e.index}}(t||(t={})),function(t){var e=function(){function e(t,e){void 0===e&&(e=null),this.__syntaxExpression=t,this.__format=e,this.__syntaxEngine=n._defaultSyntaxEngine()}return Object.defineProperty(e.prototype,"syntaxExpression",{get:function(){return this.__syntaxExpression},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format=t},enumerable:!1,configurable:!0}),e.prototype.evaluate=function(e,n,i){var o=this.__syntaxEngine.evaluate(this.__syntaxExpression,e,n,i),r=this.__format,l=null,a=null;if(null!=e.queryInterface("ITextFormatProxy")){var u=e;null==r&&(r=u._getDefaultFormat(this.__syntaxExpression)),l=u._getDefaultFormatType(),a=u._getStringFormatting()}return t._BuildInTextInfoConverterBuilderCollection._defaultBuildInTextInfoConverterBuilders()._textInfoConverter(n,i)._convertValueInfo(o,r,l,a)},e}(),n=function(){function n(){}return n._defaultSyntaxEngine=function(){return null==n.__defaultSyntaxEngine&&(n.__defaultSyntaxEngine=new n),n.__defaultSyntaxEngine},n.prototype.evaluate=function(e,n,i,o){if(null==e)return null;if(t._isTokenProxy(n)&&t._isTokenSyntaxExpression(e)){var r=e;return n.getTokenValue(r.token,r.path,r.index)}return null},n.prototype.buildTemplateSegment=function(t,n){if(void 0===n&&(n=null),null==t||t.length<=0)return null;var i=this.parse(t);return null!=i?new e(i,n):null},n.prototype.parse=function(e){if(null==e)return null;var n=/^((\\.|[^\.\\\"\'\:\[\]\{\}\=])+)(\[(\d+)\])?((\.(\\.|[^\.\\\"\'\:\[\]\{\}\=])*)*)\s*$/.exec(e);if(null!=n){var i=t._EscapedCharacterStringUtility._trim(n[1]);i=t._EscapedCharacterStringUtility._normalize(i);var o=null!=n[4]?parseInt(n[4],10):null,r=null;if(null!=n[5]){var l=t._EscapedCharacterStringUtility._trim(n[5]);""!==l&&(l=t._EscapedCharacterStringUtility._trim(l.substring(1)),r=t._EscapedCharacterStringUtility._normalize(l))}return null==r&&(r="value"),new t._TokenSyntaxExpression(e,i,r,o)}return null},n.prototype.queryInterface=function(t){return"ISyntaxEngine"===t||"ISyntaxParser"===t||"ITemplateSegmentBuilder"===t?this:null},n}();t._TokenSyntaxEngine=n}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.token=n,r.path=i,r.index=o,r}return n(e,t),e}(t._SyntaxExpression);t._TokenSyntaxExpression=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._convert=function(e){return t._isViewLayoutBuilder(e)?e:null},i.prototype._viewLayout=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildViewLayout(t);if(null!=r)return r}return null},i._pluginType="ViewLayout",i}(t._BuildInObjectCollection);t._BuildInViewLayoutBuilderCollection=e}(t||(t={})),function(t){t._isViewLayoutBuilder=function(t){return null!=t.buildViewLayout}}(t||(t={})),function(t){var e=function(){function t(t,e,n,i){this._option=e,this._orientation=n,this.__axisViewBuilder=i,this._pluginCollection=t._pluginCollection}return t.prototype._getDefaultTitlePadding=function(){return 2},t.prototype._getDefaultLabelPadding=function(){return 2},t.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this.__axisViewBuilder:null},t}();t._AxisDefinition=e}(t||(t={})),t||(t={}),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type=t.AxisType.X,r.__plots=[],r.__title=null,r.__tooltip=null,r.__position=t.AxisPosition.Near,r.__overlappingLabels=t.OverlappingLabels.Auto,r.__labels=null,r.__max=null,r.__min=null,r.__format=new e._FormatOption(null),r.__scale=new e._ValueScaleOption(null),r.__style=new e._StyleOption(null),r.__textStyle=new e._TextStyleOption(null),r.__hoverStyle=new e._TextStyleOption(null),r.__labelStyle=new e._LabelStyleOption(null),r.__titleStyle=new e._LabelStyleOption(null),r.__majorUnit=new e._AxisUnitOption(null),r.__minorUnit=new e._AxisUnitOption(null),r.__dateMode=null,r.__majorTicks=t.TickMark.Outside,r.__minorTicks=t.TickMark.None,r.__majorTickSize=t._Constants.MajorTick,r.__minorTickSize=t._Constants.MinorTick,r.__majorTickStyle=new e._LineStyleOption(null),r.__minorTickStyle=new e._LineStyleOption(null),r.__majorGrid=!1,r.__minorGrid=!1,r.__majorGridStyle=new e._LineStyleOption(null),r.__minorGridStyle=new e._LineStyleOption(null),r.__lineStyle=new e._LineStyleOption(null),r.__origin=null,r.__reversed=!1,r.__labelAngle=[],r.__logBase=t._Constants.LogBase,r.__axisLine=!0,r.__labelAlignment=null,r.__height=null,r.__width=null,r.__maxHeight=null,r.__maxWidth=null,r.__viewSize=null,r.__scrollbarVisible=!0,r.__groupGrid=t.TickMark.Outside,r.__groupGridStyle=new e._LineStyleOption(null),r.__useActualMax=!1,r.__useActualMin=!1,r.__rules=[],r.__unitLabel=new e._UnitLabelOption(null),r.__plugins=[],r.__axisPadding=0,r.__trackers=[],r.__labelTemplate=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"plots",{get:function(){return this.__plots},set:function(t){t=this.validate(t),this.__plots!=t&&(this.__plots=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tooltip",{get:function(){return this.__tooltip},set:function(t){this.__tooltip!=t&&(null==t.scope&&(t.scope="Category"),this.__tooltip=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"trackers",{get:function(){return this.__trackers},set:function(t){this.__trackers!=t&&(this.__trackers=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this.__title},set:function(t){this.__title!=t&&(this.__title=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"overlappingLabels",{get:function(){return this.__overlappingLabels},set:function(t){this.__overlappingLabels!=t&&(this.__overlappingLabels=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labels",{get:function(){return this.__labels},set:function(t){this.__labels!=t&&(this.__labels=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this.__max},set:function(t){t=this.validate(t),this.__max!=t&&(this.__max=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this.__min},set:function(t){t=this.validate(t),this.__min!=t&&(this.__min=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format!=t&&(this.__format=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.__scale},set:function(t){this.__scale!=t&&(null==t&&(t=new e._ValueScaleOption),this.__scale=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"axisLine",{get:function(){return this.__axisLine},set:function(t){this.__axisLine!=t&&(this.__axisLine=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__hoverStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labelStyle",{get:function(){return this.__labelStyle},set:function(t){this.__labelStyle!=t&&(null==t&&(t=new e._LabelStyleOption),this.__labelStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"titleStyle",{get:function(){return this.__titleStyle},set:function(t){this.__titleStyle!=t&&(null==t&&(t=new e._LabelStyleOption),this.__titleStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"majorUnit",{get:function(){return this.__majorUnit},set:function(t){this.__majorUnit!=t&&(null==t&&(t=new e._AxisUnitOption),this.__majorUnit=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minorUnit",{get:function(){return this.__minorUnit},set:function(t){this.__minorUnit!=t&&(null==t&&(t=new e._AxisUnitOption),this.__minorUnit=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dateMode",{get:function(){return this.__dateMode},set:function(t){this.__dateMode!=t&&(this.__dateMode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"majorTicks",{get:function(){return this.__majorTicks},set:function(t){this.__majorTicks!=t&&(this.__majorTicks=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minorTicks",{get:function(){return this.__minorTicks},set:function(t){this.__minorTicks!=t&&(this.__minorTicks=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"majorTickSize",{get:function(){return this.__majorTickSize},set:function(t){this.__majorTickSize!=t&&(this.__majorTickSize=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minorTickSize",{get:function(){return this.__minorTickSize},set:function(t){this.__minorTickSize!=t&&(this.__minorTickSize=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"majorTickStyle",{get:function(){return this.__majorTickStyle},set:function(t){this.__majorTickStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__majorTickStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minorTickStyle",{get:function(){return this.__minorTickStyle},set:function(t){this.__minorTickStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__minorTickStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"majorGrid",{get:function(){return this.__majorGrid},set:function(t){this.__majorGrid!=t&&(this.__majorGrid=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minorGrid",{get:function(){return this.__minorGrid},set:function(t){this.__minorGrid!=t&&(this.__minorGrid=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"majorGridStyle",{get:function(){return this.__majorGridStyle},set:function(t){this.__majorGridStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__majorGridStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minorGridStyle",{get:function(){return this.__minorGridStyle},set:function(t){this.__minorGridStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__minorGridStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineStyle",{get:function(){return this.__lineStyle},set:function(t){this.__lineStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__lineStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"origin",{get:function(){return this.__origin},set:function(t){this.__origin!=t&&(this.__origin=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"reversed",{get:function(){return this.__reversed},set:function(t){this.__reversed!=t&&(this.__reversed=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labelAngle",{get:function(){return this.__labelAngle},set:function(t){t=this.validate(t),this.__labelAngle!=t&&(this.__labelAngle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"logBase",{get:function(){return this.__logBase},set:function(t){t=this.validate(t),this.__logBase!=t&&(this.__logBase=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labelAlignment",{get:function(){return this.__labelAlignment},set:function(t){this.__labelAlignment!=t&&(this.__labelAlignment=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this.__maxWidth},set:function(t){t=this.validate(t),this.__maxWidth!=t&&(this.__maxWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){return this.__maxHeight},set:function(t){t=this.validate(t),this.__maxHeight!=t&&(this.__maxHeight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"viewSize",{get:function(){return this.__viewSize},set:function(t){t=this.validate(t),this.__viewSize!=t&&(this.__viewSize=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scrollbarVisible",{get:function(){return this.__scrollbarVisible},set:function(t){this.__scrollbarVisible!=t&&(this.__scrollbarVisible=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupGrid",{get:function(){return this.__groupGrid},set:function(t){this.__groupGrid!=t&&(this.__groupGrid=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupGridStyle",{get:function(){return this.__groupGridStyle},set:function(t){this.__groupGridStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__groupGridStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"useActualMax",{get:function(){return this.__useActualMax},set:function(t){this.__useActualMax!=t&&(this.__useActualMax=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"useActualMin",{get:function(){return this.__useActualMin},set:function(t){this.__useActualMin!=t&&(this.__useActualMin=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rules",{get:function(){return this.__rules},set:function(t){this.__rules!=t&&(this.__rules=t,null==t&&(this.__rules=[]))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"unitLabel",{get:function(){return this.__unitLabel},set:function(t){this.__unitLabel!=t&&(null==t&&(t=new e._UnitLabelOption),this.__unitLabel=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"plugins",{get:function(){return this.__plugins},set:function(t){this.__plugins!=t&&(this.__plugins=t,null==t&&(this.__plugins=[]))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"axisPadding",{get:function(){return this.__axisPadding},set:function(t){this.__axisPadding!=t&&(this.__axisPadding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labelTemplate",{get:function(){return this.__labelTemplate},set:function(t){this.__labelTemplate!=t&&(this.__labelTemplate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.__name},set:function(t){this.__name!=t&&(null==t&&(t=""),this.__name=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisType,t.AxisType.X)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._NameArrayOptionConverter,!0),t.ValidatorAttribute(t._NameArrayOptionValidator,!1)],r.prototype,"plots",null),o([t.JsonConverterAttribute(t._ToolTipConverter,!0)],r.prototype,"tooltip",null),o([t.JsonConverterAttribute(t._TrackerOptionOrNullConverter,!0)],r.prototype,"trackers",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"title",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisPosition,t.AxisPosition.Near)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.OverlappingLabels,t.OverlappingLabels.Auto)],r.prototype,"overlappingLabels",null),o([t.JsonConverterAttribute(t._LabelsPositionConverter,!0,t.AxisPosition)],r.prototype,"labels",null),o([t.JsonConverterAttribute(t._ValueOptionWithNumberDateConverter,!1),t.ValidatorAttribute(t._AxisOptionMaxMinValueValidator,!0)],r.prototype,"max",null),o([t.JsonConverterAttribute(t._ValueOptionWithNumberDateConverter,!1),t.ValidatorAttribute(t._AxisOptionMaxMinValueValidator,!0,!1)],r.prototype,"min",null),o([t.JsonConverterAttribute(t._FormatOptionConverter,!1)],r.prototype,"format",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_ValueScaleOption")],r.prototype,"scale",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"axisLine",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LabelStyleOption")],r.prototype,"labelStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LabelStyleOption")],r.prototype,"titleStyle",null),o([t.JsonConverterAttribute(t._AxisUnitOptionConverter,!1)],r.prototype,"majorUnit",null),o([t.JsonConverterAttribute(t._AxisUnitOptionConverter,!1)],r.prototype,"minorUnit",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DateMode)],r.prototype,"dateMode",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TickMark,t.TickMark.Outside)],r.prototype,"majorTicks",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TickMark,t.TickMark.None)],r.prototype,"minorTicks",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.MajorTick)],r.prototype,"majorTickSize",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.MinorTick)],r.prototype,"minorTickSize",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"majorTickStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"minorTickStyle",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"majorGrid",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"minorGrid",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"majorGridStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"minorGridStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"lineStyle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"origin",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"reversed",null),o([t.JsonConverterAttribute(t._LabelAngleConverter,!0),t.ValidatorAttribute(t._LabelAngleValidator,!0)],r.prototype,"labelAngle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.LogBase),t.ValidatorAttribute(t._LogBaseValidator,!0)],r.prototype,"logBase",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"labelAlignment",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"maxWidth",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"maxHeight",null),o([t.JsonConverterAttribute(t._NumberConverter,!1),t.ValidatorAttribute(t._ViewSizeValidator,!1)],r.prototype,"viewSize",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"scrollbarVisible",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TickMark,t.TickMark.Outside)],r.prototype,"groupGrid",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"groupGridStyle",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"useActualMax",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"useActualMin",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_RuleOption")],r.prototype,"rules",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_UnitLabelOption")],r.prototype,"unitLabel",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_ConfigPluginOption")],r.prototype,"plugins",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],r.prototype,"axisPadding",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"labelTemplate",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"name",null),r}(e._Option),e._AxisOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.build=function(e){return e.type==t.ElementType.PlotsPane?this:null},e.prototype.queryInterface=function(t){return null},e.prototype.horizontalViewSize=function(t,e,n){return t},e.prototype.verticalViewSize=function(t,e,n){return t},e}();t._DefaultViewSizePolicy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInViewSizeBuilders=function(){return null==i.__buildInViewSizeBuilders&&(i.__buildInViewSizeBuilders=new i([new t._DefaultViewSizePolicy],i._pluginType)),i.__buildInViewSizeBuilders},i.prototype._convert=function(e){return t._isViewSizePolicyBuilder(e)?e:null},i.prototype._viewSizePolicy=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item.build(e);if(null!=l)return l}return new t._DefaultViewSizePolicy},i._pluginType="ViewSizePolicy",i}(t._BuildInObjectCollection);t._BuildInViewSizeBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isViewSizePolicyBuilder=function(t){return null!=t.build}}(t||(t={})),function(t){!function(t){t._isDataLabelModel=function(t){var e=t;return null!=e&&void 0!==e.text&&void 0!==e.visible}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isViewModel=function(t){return null!=t&&void 0!==t.type}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t)||this;return o.__text=n.text,o.__option=i,o}return n(i,e),i.prototype._layoutLabel=function(t,e){},i.prototype._rectangleShape=function(){return this._rotatedRectangle()},i.prototype._getTextAngle=function(){return this.__textAngle},i.prototype._setTextAngle=function(t){this.__textAngle=t},i.prototype._getTextLocation=function(){return this.__textLocation},i.prototype._setTextLocation=function(t){this.__textLocation=t},i.prototype._rotatedRectangle=function(){var e=this._textView()._getRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,null==this._getTextAngle()?0:this._getTextAngle())},i.prototype._shape=function(){return this._rotatedRectangle()},i.prototype.queryInterface=function(t){return"IShapeModel"==t||"IDataLabelModel"==t?this:e.prototype.queryInterface.call(this,t)},i.prototype._hAlign=function(){return t.HAlign.Left},i.prototype._style=function(){return null==this.__style&&(this.__style=this._createStyle()),this.__style},i.prototype._hoverStyle=function(){if(null==this.__hoverStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._style());this.__hoverStyle=e}return this.__hoverStyle},i.prototype._paddings=function(){var e=t._Constants.LabelPadding;return t._PaddingUtility._buildPadding(e,e,e,e)},i.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this.__text,this._textOverflow(),this._paddings(),this._hAlign(),t.VAlign.Middle,this._style(),this._hoverStyle(),this._textAlignment())),this.__textView},i.prototype._measure=function(t,e){return this._textView()._measure(t,e)},i.prototype._layoutContent=function(t,e,n){this._textView()._layout(t,n,e)},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._translate=function(t,e){var n=this._textView()._getRectangle();n.left+=t,n.top+=e},i.prototype._drawView=function(e,n){var i=this._getTextLocation(),o=this._getTextAngle(),r=!1;Math.cos(o)<0&&(r=!0);var l=null;null!=o&&null!=i&&(r?l=t._MatrixUtility._buildRotateMatrix(o-Math.PI,i):0!=o&&(l=t._MatrixUtility._buildRotateMatrix(o,i))),this._textView()._transform=l,this._textView()._render(e,n)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rotatedRectangle();if(null!=r&&t._ShapeUtil._shapeContainsPoint(r,n)){var l=new t.HitTestResult(n,this,this,t.ElementType.DataPointLabel);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._getOverlap=function(){return this.__overlap},i.prototype._setOverlap=function(t){this.__overlap=t},i.prototype._isVisible=function(){return!!this._ownerView._isVisible()&&e.prototype._isVisible.call(this)},Object.defineProperty(i.prototype,"text",{get:function(){return this.__text},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.DataPointLabel},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),i}(t._BaseView);t._DataLabelView=e}(t||(t={})),function(t){t._isDataLabelView=function(t){var e=t;return null!=e&&"function"==typeof e._layoutLabel&&"function"==typeof e._render&&"function"==typeof e._hitTest&&"function"==typeof e._rectangleShape&&"function"==typeof e._setOverlap}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__pointView=t,this.__points=[]}return e.prototype._createPoints=function(e){var n=[],i=e._rectangle();if(null!=i&&i!=t.core.Rect.ReadOnlyRect){var o=i.clone();n=[],o.width<=0&&(o.width=2),o.height<=0&&(o.height=2),n.push(new t.core.Point(o.left,o.top)),n.push(new t.core.Point(o.right,o.top)),n.push(new t.core.Point(o.right,o.bottom)),n.push(new t.core.Point(o.left,o.bottom))}return n},Object.defineProperty(e.prototype,"points",{get:function(){return null!=this.__points&&0!=this.__points.length||(this.__points=this._createPoints(this.__pointView)),this.__points},enumerable:!1,configurable:!0}),e}();t._PointAdorner=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isZoomableView=function(t){var e=t;return null!=e._zoomBounds&&null!=e._zoomFactor&&null!=e._translate&&null!=e._zoomAt&&null!=e._reset&&null!=e._isHitTested}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n){this._zoomView=e;var i=t._ViewUtility._dvView(e);if(null!=i){var o=t._DvViewUtility._domManager(i);this.__zoomButtons=null==o?null:o._createZoomButtons(this,n.zoomButtons)}}return Object.defineProperty(e.prototype,"_zoomButtons",{get:function(){return this.__zoomButtons},enumerable:!1,configurable:!0}),e.prototype._active=function(){return this.__zoomButtons._isActive=!0,this.__zoomButtons._refresh(),!0},e.prototype._inactive=function(){this.__zoomButtons._isActive=!1,this.__zoomButtons._refresh()},e.prototype.dispose=function(){null!=this.__zoomButtons&&(this.__zoomButtons.dispose(),this.__zoomButtons=null)},e}();t._ZoomContainer=e}(t||(t={})),function(t){var e=function(){function e(e){this.__start=0,this.__isFirstRunning=!0,this.ease=e,this.delay=0,this.duration=0,this.state=t.AnimationState.BeforeStart,this.ishiddenBeforeStart=!0}return e.prototype._castView=function(t){return t},e.prototype._onStartAniamtion=function(t){},e.prototype._onEndAnimation=function(t){},e.prototype._onInterruptAnimation=function(t,e){this._onEndAnimation(e)},e.prototype._onPending=function(t){},e.prototype._applyTransformation=function(t,e){},e.prototype._isRunning=function(t){return t>=this.__start&&t<this.__start+this.duration},e.prototype._scale1=function(t){return this.ease((t-this.__start)/this.duration)},e.prototype.isStop=function(){return this.state==t.AnimationState.End},e.prototype.start=function(e,n){if(this.state==t.AnimationState.BeforeStart){if(this.state=t.AnimationState.Animating,this._onPending(this._castView(n)),this.duration+this.delay<=0)return void this.stop(n);this.ishiddenBeforeStart&&(n._visible=!1),this.__start=e+this.delay,this.step(e,n)}},e.prototype.stop=function(e){this.state!==t.AnimationState.Animating&&this.state!=t.AnimationState.BeforeStart||(e._visible=!0,this.state=t.AnimationState.End,this._onEndAnimation(this._castView(e)))},e.prototype.step=function(e,n){this.state==t.AnimationState.Animating&&(this._isRunning(e)?(this.__isFirstRunning&&(n._visible=!0,this._onStartAniamtion(this._castView(n)),this.__isFirstRunning=!1),this._applyTransformation(this._scale1(e),this._castView(n))):e>=this.__start+this.duration&&(this._applyTransformation(1,this._castView(n)),this.stop(n)))},e.prototype.interrupt=function(e,n){this.state!==t.AnimationState.Animating&&this.state!=t.AnimationState.BeforeStart||(n._visible=!0,this.state=t.AnimationState.End,this._onInterruptAnimation(Math.max(this._scale1(e),0),this._castView(n)))},e.prototype.reverse=function(){return null},e}();t._AnimationAction1=e}(t||(t={})),function(t){var e=function(){function t(){}return t.Linear=function(t){return t},t.Swing=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},t.EaseInQuad=function(t){return t*t},t.EaseOutQuad=function(t){return t*(2-t)},t.EaseInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},t.EaseInCubic=function(t){return t*t*t},t.EaseOutCubic=function(t){return--t*t*t+1},t.EaseInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},t.EaseInQuart=function(t){return t*t*t*t},t.EaseOutQuart=function(t){return 1- --t*t*t*t},t.EaseInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},t.EaseInQuint=function(t){return t*t*t*t*t},t.EaseOutQuint=function(t){return 1+--t*t*t*t*t},t.EaseInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},t.EaseInSine=function(t){return 1-Math.cos(t*(Math.PI/2))},t.EaseOutSine=function(t){return Math.sin(t*(Math.PI/2))},t.EaseInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.EaseInExpo=function(t){return 0==t?0:Math.pow(2,10*(t-1))},t.EaseOutExpo=function(t){return 1==t?1:1-Math.pow(2,-10*t)},t.EaseInOutExpo=function(t){return(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},t.EaseInCirc=function(t){return-(Math.sqrt(1-t*t)-1)},t.EaseOutCirc=function(t){return Math.sqrt(1-Math.pow(t-1,2))},t.EaseInOutCirc=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.EaseInBack=function(t){var e=1.70158;return t*t*((e+1)*t-e)},t.EaseOutBack=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},t.EaseInOutBack=function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},t.EaseInBounce=function(e){return 1-t.EaseOutBounce(1-e)},t.EaseOutBounce=function(t){var e=7.5625;return t<1/2.75?e*t*t:t<2/2.75?e*(t-=1.5/2.75)*t+.75:t<2.5/2.75?e*(t-=2.25/2.75)*t+.9375:e*(t-=2.625/2.75)*t+.984375},t.EaseInOutBounce=function(e){return e<.5?.5*t.EaseInBounce(2*e):.5*t.EaseOutBounce(2*e-1)+.5},t.EaseInElastic=function(t){return-Math.pow(2,10*(t-=1))*Math.sin((t-.075)*(2*Math.PI)/.3)},t.EaseOutElastic=function(t){return Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1},t.EaseInOutElastic=function(t){return(t*=2)<1?Math.pow(2,10*(t-=1))*Math.sin((t-.1125)*(2*Math.PI)/.45)*-.5:Math.pow(2,-10*(t-=1))*Math.sin((t-.1125)*(2*Math.PI)/.45)*.5+1},t}();t._AnimationEase=e}(t||(t={})),function(t){!function(t){t[t.Percentage=0]="Percentage",t[t.Pixel=1]="Pixel"}(t.AnimationKeyFramesType||(t.AnimationKeyFramesType={}))}(t||(t={})),function(t){!function(t){t[t.BeforeStart=0]="BeforeStart",t[t.Animating=1]="Animating",t[t.End=2]="End"}(t.AnimationState||(t.AnimationState={}))}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInAxisAddtionals=function(){return null==i.__buildInAxisAddtionals&&(i.__buildInAxisAddtionals=new i([],i._pluginType)),i.__buildInAxisAddtionals},i.prototype._convert=function(e){return t._isAxisAddtionalPolicy(e)?e:null},i.prototype._applyAxisViewAddtional=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o];l.item.apply(t,e,l.option)}},i._pluginType="AxisAddtional",i}(t._BuildInObjectCollection);t._BuildInAxisAddtionalCollection=e}(t||(t={})),function(t){t._isAxisAddtionalPolicy=function(t){return null!=t&&"function"==typeof t.apply}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInJsonOptionConverters=function(){return null==i.__buildInOptionConverters&&(i.__buildInOptionConverters=new i([],i._pluginType)),i.__buildInOptionConverters},i.prototype._convert=function(e){return t._isOptionConverter(e)?e:null},i.prototype._buildOption=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i];if(r.item.canConvert(t))return r.item.convert(t)}return null},i._pluginType="OptionConverter",i}(t._BuildInObjectCollection);t._BuildInOptionConverterCollection=e}(t||(t={})),function(t){t._isOptionConverter=function(t){var e=t;return"function"==typeof e.canConvert&&"function"==typeof e.convert}}(t||(t={})),function(t){var e=function(){function e(){this._epsilon=.001,this._defaultOpacity=1,this._defaultStrokeWidth=1,this.__fillOpacity=null,this.__fill=null,this.__strokeOpacity=null,this.__stroke=null,this.__strokeWidth=1,this.__scalingStroke=null,this.__strokeDasharray=null,this.__fontSize=null,this.__fontFamily=this._defaultFontFamily(),this.__defaultFontFamily=this._defaultFontFamily(),this.__fontWeight=null,this.__fontStyle=null,this.__textOpacity=null,this.__textFill=null,this.__textOverline=null,this.__textLineThrough=null,this.__textUnderline=null,this.__writingMode=null,this.__rootRenderEngineElement=null,this._currentRenderElementParent=null}return e.prototype.beginRender=function(){this.__rootRenderEngineElement=this._createRootElement(),this._currentRenderElementParent=this.__rootRenderEngineElement},e.prototype.endRender=function(){null!=this.__rootRenderEngineElement&&this.__rootRenderEngineElement.draw(this._renderEngineApi())},e.prototype.setViewportSize=function(e,n){if(null==this.__rootRenderEngineElement)throw new t.AssertError(t.ErrorCode.Unknown);this.__rootRenderEngineElement.width=e,this.__rootRenderEngineElement.height=n},e.prototype.startGroup=function(e,n,i){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),null==this._currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var o=new t._GroupRenderEngineElement(this._currentRenderElementParent,e,n,i);this._currentRenderElementParent.children.push(o),this._currentRenderElementParent=o},e.prototype.endGroup=function(){if(null==this._currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);this._currentRenderElementParent=this._currentRenderElementParent.parent},e.prototype.drawString=function(e,n,i,o,r){if(void 0===o&&(o=null),void 0===r&&(r=null),null==this._currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var l=new t._TextRenderEngineElement(this._currentRenderElementParent,e,n,i,this,o,r);this._currentRenderElementParent.children.push(l)},e.prototype.drawPath=function(e,n,i,o,r,l){if(void 0===r&&(r=null),void 0===l&&(l=null),null==this._currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var a=new t._PathRenderEngineElement(this._currentRenderElementParent,e,n,i,o,this,r,l);this._currentRenderElementParent.children.push(a)},e.prototype.drawRect=function(e,n,i,o,r,l){if(void 0===r&&(r=null),void 0===l&&(l=null),null==this._currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var a=new t._RectangleRenderEngineElement(this._currentRenderElementParent,e,n,i,o,this,r,l);this._currentRenderElementParent.children.push(a)},e.prototype.drawLine=function(e,n,i,o,r,l){if(void 0===r&&(r=null),void 0===l&&(l=null),null==this._currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var a=new t._LineRenderEngineElement(this._currentRenderElementParent,e,n,i,o,this,r,l);this._currentRenderElementParent.children.push(a)},e.prototype.drawLines=function(e,n,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),null==this._currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var r=new t._LinesRenderEngineElement(this._currentRenderElementParent,e,n,this,i,o);this._currentRenderElementParent.children.push(r)},e.prototype.drawPolygon=function(e,n,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),null==this._currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var r=new t._PolygonRenderEngineElement(this._currentRenderElementParent,e,n,this,i,o);this._currentRenderElementParent.children.push(r)},e.prototype.drawEllipse=function(e,n,i,o,r,l){if(void 0===r&&(r=null),void 0===l&&(l=null),null==this._currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var a=new t._EllipseRenderEngineElement(this._currentRenderElementParent,e,n,i,o,this,r,l);this._currentRenderElementParent.children.push(a)},e.prototype.drawImage=function(e,n,i,o,r,l,a){if(void 0===l&&(l=null),void 0===a&&(a=null),null==this._currentRenderElementParent)throw new t.AssertError(t.ErrorCode.Unknown);var u=new t._ImageRenderEngineElement(this._currentRenderElementParent,e,n,i,o,r,this,l,a);this._currentRenderElementParent.children.push(u)},e.prototype._createRootElement=function(){return new t._SurfaceRenderEngineElement(0,0)},e.prototype._defaultFontFamily=function(){return t._SystemUtility.DefaultFontFamily()},e.prototype._isSameValue=function(t){for(var e=t[0],n=0,i=t;n<i.length;n++){var o=i[n];if(Math.abs(o-e)>this._epsilon)return!1}return!0},e.prototype._onFillOpacityChanged=function(){},e.prototype._onFillChanged=function(){},e.prototype._onStrokeOpacityChanged=function(){},e.prototype._onStrokeChanged=function(){},e.prototype._onStrokeWidthChanged=function(){},e.prototype._onStrokeDasharrayChanged=function(){},e.prototype._onScalingStrokeChanged=function(){},e.prototype._onFontFamilyChanged=function(){},e.prototype._onFontSizeChanged=function(){},e.prototype._onFontWeightChanged=function(){},e.prototype._onFontStyleChanged=function(){},e.prototype._onTextOpacityChanged=function(){},e.prototype._onTextFillChanged=function(){},e.prototype._onTextOverlineChanged=function(){},e.prototype._onTextLineThroughChanged=function(){},e.prototype._onTextUnderlineChanged=function(){},e.prototype._onWritingModeChanged=function(){},Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.__fillOpacity},set:function(t){this.__fillOpacity=t,this._onFillOpacityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this.__fill},set:function(t){this.__fill=t,this._onFillChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){this.__strokeOpacity=t,this._onStrokeOpacityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){this.__stroke=t,this._onStrokeChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){this.__strokeWidth=t,this._onStrokeWidthChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray=t,this._onStrokeDasharrayChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scalingStroke",{get:function(){return this.__scalingStroke},set:function(t){this.__scalingStroke=t,this._onScalingStrokeChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.__fontFamily},set:function(e){if(null!=e&&e!=this.__fontFamily){if(e.indexOf(this.__defaultFontFamily)>=0)this.__fontFamily=e;else if(t._NativeExtension._isNullOrEmptyString(e))this.__fontFamily=this.__defaultFontFamily;else{var n=e.split(",");n=n.concat(this.__defaultFontFamily.split(",")),this.__fontFamily=n.join(",")}this._onFontFamilyChanged()}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.__fontSize},set:function(t){this.__fontSize=t,this._onFontSizeChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.__fontWeight},set:function(t){this.__fontWeight=t,this._onFontWeightChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this.__fontStyle},set:function(t){this.__fontStyle=t,this._onFontStyleChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textOpacity",{get:function(){return this.__textOpacity},set:function(t){this.__textOpacity=t,this._onTextOpacityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textFill",{get:function(){return this.__textFill},set:function(t){this.__textFill=t,this._onTextFillChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textOverline",{get:function(){return this.__textOverline},set:function(t){this.__textOverline=t,this._onTextOverlineChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textLineThrough",{get:function(){return this.__textLineThrough},set:function(t){this.__textLineThrough=t,this._onTextLineThroughChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textUnderline",{get:function(){return this.__textUnderline},set:function(t){this.__textUnderline=t,this._onTextLineThroughChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWritingMode",{get:function(){return this.__writingMode},set:function(t){this.__writingMode=t,this._onWritingModeChanged()},enumerable:!1,configurable:!0}),e}();t.BaseRenderEngine=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){this.parent=t,this.__clipping=e,this.__transform=n}return Object.defineProperty(t.prototype,"transform",{get:function(){return this.__transform},set:function(t){this.__transform!=t&&(this.__transform=t,this._onPropertyChanged("transform"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clipping",{get:function(){return this.__clipping},set:function(t){this.__clipping!=t&&(this.__clipping=t,this._onPropertyChanged("clipping"))},enumerable:!1,configurable:!0}),t.prototype._onPropertyChanged=function(t){},t}();t._RenderEngineElement=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u){var s=t.call(this,e,a,u)||this;return s.cx=n,s.cy=i,s.rx=o,s.ry=r,s.fillOpacity=l.fillOpacity,s.fill=l.fill,s.strokeOpacity=l.strokeOpacity,s.stroke=l.stroke,s.strokeWidth=l.strokeWidth,s.strokeDasharray=l.strokeDasharray,s.scalingStroke=l.scalingStroke,s}return n(e,t),e.prototype.draw=function(t){t.fillOpacity=this.fillOpacity,t.fill=this.fill,t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderEllipse(this.cx,this.cy,this.rx,this.ry,this.clipping,this.transform)},e}(t._RenderEngineElement);t._EllipseRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e,i,o)||this;return r.className=n,r.children=[],r}return n(e,t),e.prototype.draw=function(t){t.startRenderGroup(this.className,this.clipping,this.transform);for(var e=0,n=this.children;e<n.length;e++)n[e].draw(t);t.endRenderGroup()},e}(t._RenderEngineElement);t._GroupRenderEngineElement=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(n,i,o,r,l,a,u,s){var _=e.call(this,n,i,o,r)||this;return _.__style=t._StyleCloneMaker._styleCloneMaker._cloneOf(l),_.__viewport=a,_.__width=u,_.__height=s,_.__offsetX=0,_.__offsetY=0,_}return n(i,e),Object.defineProperty(i.prototype,"styleContext",{get:function(){return this.__style},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"viewport",{get:function(){return this.__viewport},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offsetX",{get:function(){return this.__offsetX},set:function(t){this.__offsetX!=t&&(this.__offsetX=t,this._onPropertyChanged("offsetX"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offsetY",{get:function(){return this.__offsetY},set:function(t){this.__offsetY!=t&&(this.__offsetY=t,this._onPropertyChanged("offsetY"))},enumerable:!1,configurable:!0}),i.prototype.flush=function(){},i.prototype.dirty=function(){},i}(t._GroupRenderEngineElement);t._ReferenceGroupRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u,s){var _=t.call(this,e,u,s)||this;return _.image=n,_.left=i,_.top=o,_.width=r,_.height=l,_.opacity=a.fillOpacity,_}return n(e,t),e.prototype.draw=function(t){t.fillOpacity=this.opacity,t.renderImage(this.image,this.left,this.top,this.width,this.height,this.clipping,this.transform)},e}(t._RenderEngineElement);t._ImageRenderEngineElement=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u){var s=t.call(this,e,a,u)||this;return s.x1=n,s.y1=i,s.x2=o,s.y2=r,s.strokeOpacity=l.strokeOpacity,s.stroke=l.stroke,s.strokeWidth=l.strokeWidth,s.strokeDasharray=l.strokeDasharray,s.scalingStroke=l.scalingStroke,s}return n(e,t),e.prototype.draw=function(t){this.x1==this.x2&&this.y1==this.y2||(t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderLine(this.x1,this.y1,this.x2,this.y2,this.clipping,this.transform))},e}(t._RenderEngineElement);t._LineRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,e,r,l)||this;return a.xs=n,a.ys=i,a.strokeOpacity=o.strokeOpacity,a.stroke=o.stroke,a.strokeWidth=o.strokeWidth,a.strokeDasharray=o.strokeDasharray,a.scalingStroke=o.scalingStroke,a}return n(e,t),e.prototype.draw=function(t){t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderLines(this.xs,this.ys,this.clipping,this.transform)},e}(t._RenderEngineElement);t._LinesRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u){var s=t.call(this,e,a,u)||this;return s.path=n,s.fillType=i,s.lineCap=o,s.lineJoin=r,s.fillOpacity=l.fillOpacity,s.fill=l.fill,s.strokeOpacity=l.strokeOpacity,s.stroke=l.stroke,s.strokeWidth=l.strokeWidth,s.strokeDasharray=l.strokeDasharray,s.scalingStroke=l.scalingStroke,s}return n(e,t),e.prototype.draw=function(t){t.fillOpacity=this.fillOpacity,t.fill=this.fill,t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderPath(this.path,this.fillType,this.lineCap,this.lineJoin,this.clipping,this.transform)},e}(t._RenderEngineElement);t._PathRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,e,r,l)||this;return a.xs=n,a.ys=i,a.fillOpacity=o.fillOpacity,a.fill=o.fill,a.strokeOpacity=o.strokeOpacity,a.stroke=o.stroke,a.strokeWidth=o.strokeWidth,a.strokeDasharray=o.strokeDasharray,a.scalingStroke=o.scalingStroke,a}return n(e,t),e.prototype.draw=function(t){t.fillOpacity=this.fillOpacity,t.fill=this.fill,t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderPolygon(this.xs,this.ys,this.clipping,this.transform)},e}(t._RenderEngineElement);t._PolygonRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u){var s=t.call(this,e,a,u)||this;return s.left=n,s.top=i,s.width=o,s.height=r,s.fillOpacity=l.fillOpacity,s.fill=l.fill,s.strokeOpacity=l.strokeOpacity,s.stroke=l.stroke,s.strokeWidth=l.strokeWidth,s.strokeDasharray=l.strokeDasharray,s.scalingStroke=l.scalingStroke,s}return n(e,t),e.prototype.draw=function(t){this.width<=0||this.height<=0||(t.fillOpacity=this.fillOpacity,t.fill=this.fill,t.strokeOpacity=this.strokeOpacity,t.stroke=this.stroke,t.strokeWidth=this.strokeWidth,t.strokeDasharray=this.strokeDasharray,t.scalingStroke=this.scalingStroke,t.renderRect(this.left,this.top,this.width,this.height,this.clipping,this.transform))},e}(t._RenderEngineElement);t._RectangleRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,null,null,null)||this;return i.width=t,i.height=n,i.children=[],i}return n(i,e),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(e){if(e<0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,e);this.__width=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(e){if(e<0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,e);this.__height=e},enumerable:!1,configurable:!0}),i.prototype.draw=function(t){if(0!=this.width&&0!=this.height){t.setRenderViewportSize(this.width,this.height);for(var e=0,n=this.children;e<n.length;e++)n[e].draw(t)}},i}(t._RenderEngineElement);t._SurfaceRenderEngineElement=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a){var u=t.call(this,e,l,a)||this;return u.s=n,u.x=i,u.y=o,u.fontFamily=r.fontFamily,u.fontSize=r.fontSize,u.fontWeight=r.fontWeight,u.fontStyle=r.fontStyle,u.textOpacity=r.textOpacity,u.textFill=r.textFill,u.textOverline=r.textOverline,u.textLineThrough=r.textLineThrough,u.textUnderline=r.textUnderline,u.textWritingMode=r.textWritingMode,u}return n(e,t),e.prototype.draw=function(t){t.fontFamily=this.fontFamily,t.fontSize=this.fontSize,t.fontWeight=this.fontWeight,t.fontStyle=this.fontStyle,t.textOpacity=this.textOpacity,t.textFill=this.textFill,t.textOverline=this.textOverline,t.textLineThrough=this.textLineThrough,t.textUnderline=this.textUnderline,t.textWritingMode=this.textWritingMode,t.renderString(this.s,this.x,this.y,this.clipping,this.transform)},e}(t._RenderEngineElement);t._TextRenderEngineElement=e}(t||(t={})),function(t){var e=function(e){function i(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.__referenceRenderElement=null,n.__bitmapGenerator=null==t?n._createBitmapGenerator():null,n}return n(i,e),i.prototype._createBitmapGenerator=function(){try{return new t._CanvasBitmapGenerator}catch(t){return null}},i.prototype.createGroup=function(e,n,i,o,r,l){if(null!=this._currentRenderElementParent){var a=this._createReferenceGroup(this._currentRenderElementParent,e,n,i,o,r,l);return this._currentRenderElementParent.children.push(a),this._currentRenderElementParent=a,a}throw new t.AssertError(t.ErrorCode.Unknown)},i.prototype.startReferenceGroup=function(e){if(null!=this.__referenceRenderElement)throw new t.AssertError(t.ErrorCode.Unknown);this.__referenceRenderElement=this._currentRenderElementParent,this._currentRenderElementParent=e},i.prototype.endReferenceGroup=function(){if(null==this.__referenceRenderElement)throw new t.AssertError(t.ErrorCode.Unknown);this._currentRenderElementParent=this.__referenceRenderElement,this.__referenceRenderElement=null},i.prototype.getBitmapGenerator=function(){return this.__bitmapGenerator},i.prototype.beginRender=function(){e.prototype.beginRender.call(this),this.__referenceRenderElement=null},i}(t.BaseRenderEngine);t.BasePrimitivesRenderEngine=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){void 0===o&&(o=null);var r=e.call(this)||this;return r.__cachedContext=null,r.__cachedFontSizeWithPixel=null,r.__isIE=t._BrowserUtility.isIE(),r._canvasElement=document.createElement("canvas"),r.__matrixStackForIE=[],r._hostElement=n,r._devicePixelRatio=i,r._metrics=null==o?new t._CanvasTextMetrics:o,r.__textLayoutPolicy=new t._PunctuationAndMixedPolicy,r.__miterSize=4,r._hostElement.appendChild(r._canvasElement),r.__groupTransformStack=[],r}return n(i,e),i.prototype._createContext=function(t){var e=t.getContext("2d");if(null!=e)return e;throw new Error("The canvas surface is not supported.")},i.prototype._renderEngineApi=function(){return this},i.prototype._defaultStyle=function(){return window.getComputedStyle(this._hostElement)},i.prototype._getContext=function(){return null==this.__cachedContext&&(this.__cachedContext=this._createContext(this._canvasElement)),this.__cachedContext},i.prototype._currentMatrix=function(){if(this.__isIE){for(var e=new t.Matrix,n=0,i=this.__matrixStackForIE;n<i.length;n++){var o=i[n];e.transform(o)}return e}var r=this._getContext().getTransform();return new t.Matrix([r.a,r.b,r.c,r.d,r.e,r.f])},i.prototype._applyTransform=function(t,e,n,i,o){e?(t.save(),n?(i.push(e.clone()),t.transform(e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],e.values[5]),o(t),i.pop()):(t.transform(e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],e.values[5]),o(t)),t.restore()):o(t)},i.prototype._applyClippingRegion=function(t,e){e&&(t.beginPath(),this._drawRegion(t,e),t.clip(),t.closePath())},i.prototype._applyFillStyle=function(e,n,i,o,r){void 0===r&&(r=null),null==i||t._ColorUtility._isTransparent(i)||(e.globalAlpha=t._NativeExtension._toNonNullNumber(n,this._defaultOpacity),e.fillStyle=this._parseCanvasColor(e,i,r),e.fill(o))},i.prototype._applyStrokeStyle=function(e,n,i,o,r,l,a,u,s){var _=this;if(void 0===s&&(s=null),null!=i&&!t._ColorUtility._isTransparent(i)&&0!=o){if(e.globalAlpha=t._NativeExtension._toNonNullNumber(n,this._defaultOpacity),e.lineWidth=t._NativeExtension._toNonNullNumber(o,this._defaultStrokeWidth),r&&"none"!==r){var p=r.match(/\d+(\.\d+)?/g);if(null!=p){var c=p.map((function(t){return parseFloat(t)}));e.setLineDash(c)}}switch(a){case t.LineCap.Round:e.lineCap="round";break;case t.LineCap.Square:e.lineCap="square";break;case t.LineCap.Butt:e.lineCap="butt"}switch(u){case t.LineJoin.Round:e.lineJoin="round";break;case t.LineJoin.Bevel:e.lineJoin="bevel";break;case t.LineJoin.Miter:e.lineJoin="miter",e.miterLimit=this.__miterSize}!1===l?(e.save(),e.strokeStyle=this._parseCanvasColor(e,i,(function(){return _._transformBoundRectangle(s?s():null)})),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):(e.strokeStyle=this._parseCanvasColor(e,i,s),e.stroke())}},i.prototype._applyFontStyle=function(e,n,i,o,r,l,a){var u=this.__canvasDefaultFont,s=null;o?s=o:null!=u.fontFamily&&(s=u.fontFamily);var _="";null!=r?_=r:null!=u.fontSize&&(_=u.fontSize);var p="";null!=l?p=t.FontStyle[l]?t.FontStyle[l]:l.toString():null!=u.fontStyle&&(p=u.fontStyle);var c="";if(null!=a?c=a:null!=u.fontWeight&&(c=u.fontWeight),null!=n&&(e.globalAlpha=n),null!=i?e.fillStyle=t._Utility._isStringColorTransparent(i)?"transparent":i:null!=u.textFill&&(e.fillStyle=t._Utility._isStringColorTransparent(u.textFill)?"transparent":u.textFill),_){var h=p+" "+c+" "+_+" "+(s||"sans-serif");e.font=h,e.font.replace(/\"/g,"'")!==h.replace(/\"/g,"'")&&(h=p+" "+c+" "+_+" "+(e.font.split(" ").splice(1).join(" ")||"sans-serif"),e.font=h)}},i.prototype._drawRegion=function(e,n){if(t._isRectangleRegion(n)){var i=n;e.rect(i.left,i.top,i.width,i.height)}else if(t._isPathRegion(n)){var o=n;this._drawPathByCommands(e,o.path)}else if(t._isEllipseRegion(n)){var r=n;this._drawEllipse(e,r.cx,r.cy,r.rx,r.ry)}else if(t._isPolygonRegion(n)){var l=n;this._drawPolygon(e,l.points.map((function(t){return t.x})),l.points.map((function(t){return t.y})))}else if(t._isUnionRegion(n))for(var a=0,u=n.regions;a<u.length;a++){var s=u[a];this._drawRegion(e,s)}else if(t._isIntersectionRegion(n))for(var _=0,p=n.regions;_<p.length;_++)s=p[_],this._applyClippingRegion(e,s)},i.prototype._drawPathByCommands=function(e,n){for(var i=0,o=0,r=0,l=0,a=0,u=n.commands;a<u.length;a++){var s=u[a];if(s instanceof t._MoveToPathCommand)e.moveTo(s.x,s.y),i=r=s.x,o=l=s.y;else if(s instanceof t._LineToPathCommand)e.lineTo(s.x,s.y),i=s.x,o=s.y;else if(s instanceof t._CurveToPathCommand)e.bezierCurveTo(s.cpx1,s.cpy1,s.cpx2,s.cpy2,s.x,s.y),i=s.x,o=s.y;else if(s instanceof t._QuadraticCurveToPathCommand)e.quadraticCurveTo(s.cpx,s.cpy,s.x,s.y),i=s.x,o=s.y;else if(s instanceof t._ArcPathCommand){var _=t._PathCommandUtility._toCanvasArcPathCommand(s,i,o),p=s.rx,c=s.ry,h=p>c?1:p/c,f=p>c?c/p:1,d=p>c?p:c;if(d<0)continue;var y=_.startAngle+_.sweepAngle,g=!!_.counterclockwise;e.translate(_.cx,_.cy),e.rotate(s.rotation),e.scale(h,f),e.arc(0,0,d,_.startAngle,y,g),e.scale(1/h,1/f),e.rotate(-s.rotation),e.translate(-_.cx,-_.cy),i=t._PathCommandUtility._getCommandEndPointXCoordinate(s),o=t._PathCommandUtility._getCommandEndPointYCoordinate(s)}else s instanceof t._ClosePathCommand&&(e.closePath(),i=r,o=l)}},i.prototype._drawPath=function(e,n,i){if(null!=n){e.beginPath();for(var o=0,r=0,l=0,a=0,u=0,s=n.commands;u<s.length;u++){var _=s[u];if(_ instanceof t._MoveToPathCommand)e.moveTo(_.x,_.y),o=l=_.x,r=a=_.y;else if(_ instanceof t._LineToPathCommand)e.lineTo(_.x,_.y),o=_.x,r=_.y;else if(_ instanceof t._CurveToPathCommand)e.bezierCurveTo(_.cpx1,_.cpy1,_.cpx2,_.cpy2,_.x,_.y),o=_.x,r=_.y;else if(_ instanceof t._QuadraticCurveToPathCommand)e.quadraticCurveTo(_.cpx,_.cpy,_.x,_.y),o=_.x,r=_.y;else if(_ instanceof t._ArcPathCommand){var p=t._PathCommandUtility._toCanvasArcPathCommand(_,o,r),c=p.cx,h=p.cy,f=_.rotation,d=_.rx,y=_.ry,g=d>y?1:d/y,m=d>y?y/d:1,v=d>y?d:y,w=p.startAngle+p.sweepAngle,b=!!p.counterclockwise;if(isNaN(c)||isNaN(h)||isNaN(f))i.push(null);else{e.save();var P=new t.Matrix;P.translate(p.cx,p.cy),P.rotate(_.rotation),P.scale(g,m),i.push(P),e.transform(P.values[0],P.values[1],P.values[2],P.values[3],P.values[4],P.values[5]),e.arc(0,0,v,p.startAngle,w,b),e.restore()}o=t._PathCommandUtility._getCommandEndPointXCoordinate(_),r=t._PathCommandUtility._getCommandEndPointYCoordinate(_)}else _ instanceof t._ClosePathCommand&&(e.closePath(),o=l,r=a)}}},i.prototype._drawRect=function(t,e,n,i,o){t.beginPath(),t.rect(e,n,i,o)},i.prototype._drawLine=function(t,e,n,i,o){t.beginPath(),t.moveTo(e,n),t.lineTo(i,o)},i.prototype._drawLines=function(t,e,n){t.beginPath(),t.moveTo(e[0],n[0]);for(var i=1,o=Math.min(e.length,n.length);i<o;i++)t.lineTo(e[i],n[i])},i.prototype._drawPolygon=function(t,e,n){t.beginPath(),t.moveTo(e[0],n[0]);for(var i=1,o=Math.min(e.length,n.length);i<o;i++)t.lineTo(e[i],n[i]);t.closePath()},i.prototype._drawEllipse=function(e,n,i,o,r){e.beginPath(),e.ellipse?(0!=o&&0!=r||(o=0,r=0),e.ellipse(n,i,o,r,0,0,t._Utility._PI2)):(e.translate(n,i),e.scale(1,r/o),e.translate(-n,-i),e.arc(n,i,o,0,2*Math.PI),e.scale(1,1))},i.prototype._drawVerticalString=function(t,e,n,i){var o=this,r=e.split(""),l=r.map((function(t){return o.measureString(t)}));t.textBaseline="middle",t.textAlign="center",r.forEach((function(e,o){var r=l[o];t.save(),n.y+=.5*r.height;var a=i.adjustSpace(e,n,r);0!=a.rotate&&(t.translate(a.adjust.x,a.adjust.y),t.rotate(a.rotate*Math.PI/180),t.translate(-a.adjust.x,-a.adjust.y)),t.fillText(e,a.adjust.x,a.adjust.y),n.y+=.5*r.height,t.restore()}))},i.prototype._drawTextDecoration=function(e,n,i,o,r){var l=this;if(""!=e.trim()&&(this.textUnderline||this.textLineThrough||this.textOverline)){var a=o.width,u=o.height/1.5,s=this._defaultStrokeWidth,_=this._getContext();if(this.textUnderline){this._drawLine(_,n,i,n+a,i);var p=function(){return l._boundRectangleOfLine(n,i,n+a,i,s)};this._applyStrokeStyle(_,r,new t._CssColor(_.fillStyle.toString()),s,"",!0,t.LineCap.Butt,t.LineJoin.Miter,p)}this.textLineThrough&&(this._drawLine(_,n,i-u/2,n+a,i-u/2),p=function(){return l._boundRectangleOfLine(n,i-u/2,n+a,i-u/2,s)},this._applyStrokeStyle(_,r,new t._CssColor(_.fillStyle.toString()),s,"",!0,t.LineCap.Butt,t.LineJoin.Miter,p)),this.textOverline&&(this._drawLine(_,n,i-u,n+a,i-u),p=function(){return l._boundRectangleOfLine(n,i-u,n+a,i-u,s)},this._applyStrokeStyle(_,r,new t._CssColor(_.fillStyle.toString()),s,"",!0,t.LineCap.Butt,t.LineJoin.Miter,p))}},i.prototype._parseCanvasColor=function(e,n,i){if(void 0===i&&(i=null),t.models._isCssColor(n)){if(!t._Utility._isStringColorTransparent(n.color))return n.color}else{if(t.models._isLinearGradientColor(n))return this._createLinearCanvasGradient(e,n,i);if(t.models._isRadialGradientColor(n))return this._createRadialCanvasGradient(e,n,i);if(t.models._isPatternColor(n)){var o=this._createCanvasPattern(e,n);if(null!=o)return o}}return"transparent"},i.prototype._createLinearCanvasGradient=function(t,e,n){void 0===n&&(n=null);var i=this._gradientDegreeToPoints(e.degree),o=n?n():null;if(null==o){var r=t.createLinearGradient(i[0]*t.canvas.width,i[1]*t.canvas.height,i[2]*t.canvas.width,i[3]*t.canvas.height);return e.colorStops.forEach((function(t){r.addColorStop(t.stop,t.color)})),r}var l=t.createLinearGradient(i[0]*o.width+o.left,i[1]*o.height+o.top,i[2]*o.width+o.left,i[3]*o.height+o.top);return e.colorStops.forEach((function(t){l.addColorStop(t.stop,t.color)})),l},i.prototype._createRadialCanvasGradient=function(t,e,n){void 0===n&&(n=null);var i=n?n():null;if(null==i)return e.radius==e.focusRadius?t.createRadialGradient(e.center.x*t.canvas.width,e.center.y*t.canvas.height,e.radius*t.canvas.width,e.focus.x*t.canvas.width,e.focus.y*t.canvas.height,0):t.createRadialGradient(e.center.x*t.canvas.width,e.center.y*t.canvas.height,e.radius*t.canvas.width,e.focus.x*t.canvas.width,e.focus.y*t.canvas.height,e.focusRadius);var o=i.width>i.height?i.height:i.width;if(e.radius==e.focusRadius){var r=t.createRadialGradient(e.focus.x*i.width+i.left,e.focus.y*i.height+i.top,0,e.center.x*i.width+i.left,e.center.y*i.height+i.top,e.radius*o);return e.colorStops.forEach((function(t){r.addColorStop(t.stop,t.color)})),r}var l=t.createRadialGradient(e.focus.x*i.width+i.left,e.focus.y*i.height+i.top,e.focusRadius*o,e.center.x*i.width+i.left,e.center.y*i.height+i.top,e.radius*o);return e.colorStops.forEach((function(t){l.addColorStop(t.stop,t.color)})),l},i.prototype._createCanvasPattern=function(e,n){var i=document.createElement("canvas"),o=this._createContext(i),r=this._boundRactangleSizeOfPattern(n.pattern);if(r.width<=0||r.height<=0)return null;if(i.height=r.height,i.width=r.width,null!=n.backgroundColor){this._drawRect(o,0,0,i.width,i.height);var l=function(){return new t.core.Rect(0,0,i.width,i.height)};this._applyFillStyle(o,null,n.backgroundColor,"evenodd",l),this._applyStrokeStyle(o,null,null,null,null,null,t.LineCap.Butt,t.LineJoin.Miter,l)}for(var a=function(e){var n=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(e.content);if(null!=n){o.save();var i=[];u._drawPath(o,n,i);var r=function(){var e=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangleByMatrix(n,i);return null!=e&&0==e.size.height&&0==e.size.width?null:e},l=null,a=null;null==e.style.stroke&&null==e.style.strokeWidth||(l=null!=e.style.stroke?e.style.stroke:t._CssColor._defaultStyleColor(),a=e.style.strokeWidth),u._applyFillStyle(o,e.style.fillOpacity,e.style.fill,"nonzero",r),u._applyStrokeStyle(o,e.style.strokeOpacity,l,a,e.style.strokeDasharray,e.style.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,r),o.restore()}},u=this,s=0,_=n.pattern;s<_.length;s++)a(_[s]);return e.createPattern(i,"repeat")},i.prototype._boundRectangleOfLine=function(e,n,i,o,r){var l=Math.min(e,i),a=Math.min(n,o),u=Math.max(e,i)-l,s=Math.max(n,o)-a;return Math.abs(u)<this._epsilon&&(u=r,l-=r/2),Math.abs(s)<this._epsilon&&(s=r,a-=r/2),new t.core.Rect(l,a,u,s)},i.prototype._boundRactangleSizeOfPattern=function(e){for(var n=t.core.Rect.ReadOnlyRect,i=0,o=e;i<o.length;i++){var r=o[i],l=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(r.content);if(null!=l){var a=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(l);null!=a&&(n=t._RectangleUtility._unionOfRectangles(n,a))}}return new t.core.Size(n.width,n.height)},i.prototype._gradientDegreeToPoints=function(e){e<0&&(e=360+e%360);var n,i,o,r,l,a=Math.floor(e/180);switch(Math.floor(e%180/45)){case 0:i=(n=this._triangleEdgeValue(e)).cosEdge,r=1+n.sinEdge,o=1-n.cosEdge,l=-n.sinEdge;break;case 1:i=-(n=this._triangleEdgeValue(90-e)).sinEdge,r=1-n.cosEdge,o=1+n.sinEdge,l=n.cosEdge;break;case 2:i=-(n=this._triangleEdgeValue(e-90)).sinEdge,r=n.cosEdge,o=1+n.sinEdge,l=1-n.cosEdge;break;case 3:i=(n=this._triangleEdgeValue(180-e)).cosEdge,r=-n.sinEdge,o=1-n.cosEdge,l=1+n.sinEdge;break;default:throw new t.RuntimeError(t.ErrorCode.Unknown)}return a%2==0?[i,r,o,l]:[o,l,i,r]},i.prototype._triangleEdgeValue=function(t){var e=.5*Math.sqrt(2)*Math.cos((t+45)/180*Math.PI);return{sinEdge:Math.abs(e*Math.sin(t/180*Math.PI)),cosEdge:Math.abs(e*Math.cos(t/180*Math.PI))}},i.prototype._transformBoundRectangle=function(e){if(null==e)return null;var n=new t.core.Point(e.left,e.top),i=new t.core.Point(e.left,e.bottom),o=new t.core.Point(e.right,e.top),r=new t.core.Point(e.right,e.bottom),l=this._currentMatrix();t._MatrixUtility._transformPoint(l,n,n),t._MatrixUtility._transformPoint(l,i,i),t._MatrixUtility._transformPoint(l,o,o),t._MatrixUtility._transformPoint(l,r,r);var a=Math.min(n.x,i.x,o.x,r.x),u=Math.max(n.x,i.x,o.x,r.x),s=Math.min(n.y,i.y,o.y,r.y),_=Math.max(n.y,i.y,o.y,r.y);return new t.core.Rect(a,s,u-a,_-s)},i.prototype._onFontSizeChanged=function(){var t=this.fontSize;this.__cachedFontSizeWithPixel=null==t||isNaN(t)?t:t+"px"},i.prototype._createReferenceGroup=function(e,n,i,o,r,l,a){return new t._CanvasReferenceGroupRenderEngineElement(this,e,n,i,o,r,l,a)},i.prototype.beginRender=function(){e.prototype.beginRender.call(this);var n=this._getContext();n.clearRect(0,0,this._canvasElement.width,this._canvasElement.height),n.setTransform(1,0,0,1,0,0);var i=this._defaultStyle();this.__canvasDefaultFont={fontSize:i.fontSize,fontFamily:i.fontFamily,textFill:i.color,fontWeight:i.fontWeight,fontStyle:i.fontStyle},this.__isIE&&(this.__matrixStackForIE=[new t.Matrix]),this._metrics.begin(this._canvasElement)},i.prototype.endRender=function(){e.prototype.endRender.call(this),this._metrics.end()},i.prototype.setRenderViewportSize=function(e,n){var i=this._devicePixelRatio,o=this._canvasElement;if(e==this.__viewportWidth&&n==this.__viewportHeight||(this.__viewportWidth=e,this.__viewportHeight=n,o.width=e*i,o.height=n*i,o.style.width=e+"px",o.style.height=n+"px"),this.__isIE){var r=new t.Matrix;r.scale(i,i),this.__matrixStackForIE.push(r)}this._getContext().scale(i,i)},i.prototype.startRenderGroup=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null);var i=this._getContext();i.save(),this.__groupTransformStack.push(n),null!=n&&(this.__isIE&&this.__matrixStackForIE.push(n.clone()),i.transform(n.values[0],n.values[1],n.values[2],n.values[3],n.values[4],n.values[5])),this._applyClippingRegion(i,e)},i.prototype.endRenderGroup=function(){null!=this.__groupTransformStack.pop()&&this.__isIE&&this.__matrixStackForIE.pop(),this._getContext().restore()},i.prototype.measureString=function(e){if(null==e)return new t.core.Size(0,0);var n="",i="";null!=this.fontWeight&&(n=this.fontWeight),null!=this.fontStyle&&(i=t.FontStyle[this.fontStyle]?t.FontStyle[this.fontStyle]:this.fontStyle.toString());var o="",r=null;return this.__cachedFontSizeWithPixel?(o=this.fontFamily||"sans-serif",r=this.__cachedFontSizeWithPixel):(o=this.__canvasDefaultFont.fontFamily||"sans-serif",r=this.__canvasDefaultFont.fontSize),this._metrics.measureString(e,r,o,n,i,this.textWritingMode)},i.prototype.renderString=function(e,n,i,o,r){var l=this;void 0===o&&(o=null),void 0===r&&(r=null),t._NativeExtension._isNullOrEmptyString(e)||this._applyTransform(this._getContext(),r,this.__isIE,this.__matrixStackForIE,(function(r){if(l.textWritingMode==t.TextWritingMode.Vertical)r.save(),l._applyClippingRegion(r,o),l._applyFontStyle(r,l.textOpacity,l.textFill,l.fontFamily,l.__cachedFontSizeWithPixel,l.fontStyle,l.fontWeight),l._drawVerticalString(r,e,new t.core.Point(n+l.measureString(e).width/2,i),l.__textLayoutPolicy),r.restore();else{r.save(),l._applyClippingRegion(r,o),r.textBaseline="middle",l._applyFontStyle(r,l.textOpacity,l.textFill,l.fontFamily,l.__cachedFontSizeWithPixel,l.fontStyle,l.fontWeight),r.fillText(e,n,i-l.measureString(e).height/2);var a=l.measureString(e);l._drawTextDecoration(e,n,i,a,l.strokeOpacity),r.restore()}}))},i.prototype.renderPath=function(e,n,i,o,r,l){var a=this;void 0===r&&(r=null),void 0===l&&(l=null),this._applyTransform(this._getContext(),l,this.__isIE,this.__matrixStackForIE,(function(l){l.save(),a._applyClippingRegion(l,r);var u=[];a._drawPath(l,e,u);var s=function(){var n=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangleByMatrix(e,u);return null!=n&&0==n.size.height&&0==n.size.width?null:n};a._applyFillStyle(l,a.fillOpacity,a.fill,n===t.PathFillType.Evenodd?"evenodd":"nonzero",s),a._applyStrokeStyle(l,a.strokeOpacity,a.stroke,a.strokeWidth,a.strokeDasharray,a.scalingStroke,i,o,s),l.restore()}))},i.prototype.renderRect=function(e,n,i,o,r,l){var a=this;void 0===r&&(r=null),void 0===l&&(l=null),this._applyTransform(this._getContext(),l,this.__isIE,this.__matrixStackForIE,(function(l){l.save(),a._applyClippingRegion(l,r),a._drawRect(l,e,n,i,o);var u=function(){return new t.core.Rect(e,n,i,o)};a._applyFillStyle(l,a.fillOpacity,a.fill,"evenodd",u),a._applyStrokeStyle(l,a.strokeOpacity,a.stroke,a.strokeWidth,a.strokeDasharray,a.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,u),l.restore()}))},i.prototype.renderLine=function(e,n,i,o,r,l){var a=this;void 0===r&&(r=null),void 0===l&&(l=null),this._applyTransform(this._getContext(),l,this.__isIE,this.__matrixStackForIE,(function(l){l.save(),a._applyClippingRegion(l,r),a._drawLine(l,e,n,i,o),a._applyStrokeStyle(l,a.strokeOpacity,a.stroke,a.strokeWidth,a.strokeDasharray,a.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,(function(){return a._boundRectangleOfLine(e,n,i,o,a.strokeWidth?a.strokeWidth:a._defaultStrokeWidth)})),l.restore()}))},i.prototype.renderLines=function(e,n,i,o){var r=this;void 0===i&&(i=null),void 0===o&&(o=null),e&&n&&0!==e.length&&0!==n.length&&this._applyTransform(this._getContext(),o,this.__isIE,this.__matrixStackForIE,(function(o){var l=r.fill;o.save(),r._applyClippingRegion(o,i),r._drawLines(o,e,n),r._applyFillStyle(o,null,t._CssColor._none(),"nonzero",null),r._applyStrokeStyle(o,r.strokeOpacity,r.stroke,r.strokeWidth,r.strokeDasharray,r.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,(function(){if(r._isSameValue(e)||r._isSameValue(n))return r._boundRectangleOfLine(e[0],n[0],e[e.length-1],n[n.length-1],r.strokeWidth?r.strokeWidth:r._defaultStrokeWidth);var i=Math.min.apply(Math,e),o=Math.min.apply(Math,n),l=Math.max.apply(Math,e)-i,a=Math.max.apply(Math,n)-o;return new t.core.Rect(i,o,l,a)})),o.restore(),r.fill=l}))},i.prototype.renderPolygon=function(e,n,i,o){var r=this;void 0===i&&(i=null),void 0===o&&(o=null),e&&n&&0!==e.length&&0!==n.length&&this._applyTransform(this._getContext(),o,this.__isIE,this.__matrixStackForIE,(function(o){o.save(),r._applyClippingRegion(o,i),r._drawPolygon(o,e,n);var l=function(){var i=Math.min.apply(Math,e),o=Math.min.apply(Math,n),r=Math.max.apply(Math,e)-i,l=Math.max.apply(Math,n)-o;return new t.core.Rect(i,o,r,l)};r._applyFillStyle(o,r.fillOpacity,r.fill,"nonzero",l),r._applyStrokeStyle(o,r.strokeOpacity,r.stroke,r.strokeWidth,r.strokeDasharray,r.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,l),o.restore()}))},i.prototype.renderEllipse=function(e,n,i,o,r,l){var a=this;void 0===r&&(r=null),void 0===l&&(l=null),this._applyTransform(this._getContext(),l,this.__isIE,this.__matrixStackForIE,(function(l){l.save(),a._applyClippingRegion(l,r),a._drawEllipse(l,e,n,i,o);var u=function(){return new t.core.Rect(e-i,n-o,2*i,2*o)};a._applyFillStyle(l,a.fillOpacity,a.fill,"nonzero",u),a._applyStrokeStyle(l,a.strokeOpacity,a.stroke,a.strokeWidth,a.strokeDasharray,a.scalingStroke,t.LineCap.Butt,t.LineJoin.Miter,u),l.restore()}))},i.prototype.renderImage=function(e,n,i,o,r,l,a){var u=this;void 0===l&&(l=null),void 0===a&&(a=null),this._applyTransform(this._getContext(),a,this.__isIE,this.__matrixStackForIE,(function(a){if(t._isCanvasImageInfo(e)){var s=e;if(a.save(),u._applyClippingRegion(a,l),null!=s.sourceRect){var _=s.sourceRect,p=_.left,c=_.top,h=_.width,f=_.height;a.drawImage(s.canvasElement,p,c,h,f,n,i,o,r)}else a.drawImage(s.canvasElement,n,i,o,r);a.restore()}else if(t._isHtmlImageInfo(e)){var d=e;null!=d._imageElement&&(a.save(),u._applyClippingRegion(a,l),a.globalAlpha=t._NativeExtension._toNonNullNumber(u.fillOpacity,u._defaultOpacity),a.drawImage(d._imageElement,n,i,o,r),a.restore())}}))},i.prototype.startReferenceGroup=function(t){this._metrics.begin(this._canvasElement),e.prototype.startReferenceGroup.call(this,t)},i.prototype.endReferenceGroup=function(){this._metrics.end(),e.prototype.endReferenceGroup.call(this)},i.prototype.clone=function(){return new i(this._hostElement,this._devicePixelRatio)},i._renderEngineType="Canvas",i}(t.BasePrimitivesRenderEngine);t._CanvasRenderEngine=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._getDefaultHeight=function(){var t=16;return null!=this.__context&&this.__context.font.split(" ").some((function(e){return e.indexOf("px")>-1&&(t=parseFloat(e.slice(0,-2)),!0)})),t},e.prototype._parseAliasFontSize=function(t){var e=t.match(/xx-small|x-small|small|medium|large|x-large|xx-large/);return null!=e&&e.length>0&&(t={"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"}[e[0]]),t},e.prototype._parseFontSize=function(t){t=this._parseAliasFontSize(t);var e=this._getDefaultHeight(),n=[/italic|oblique|normal/,/small-caps|normal/,/bold|bolder|lighter|[1-9]00|normal/,/[\d.]+/,/px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q/,/.+/],i=0,o=t.match(n[3]);if(null==o)return null;var r=parseFloat(o[0]),l=t.match(n[4]);switch(null==l?"px":l[0]){case"em":case"rem":case"pc":i=r*e;break;case"pt":i=4*r/3;break;case"px":i=r;break;case"in":i=96*r;break;case"cm":i=96*r/2.54;break;case"mm":i=r*(96/25.4);break;case"q":i=r*(96/25.4/4);break;case"%":i=r*(e/100)}return i.toString()+"px"},e.prototype.begin=function(t){this.__context=t.getContext("2d")},e.prototype.end=function(){this.__context=null},e.prototype.measureString=function(e,n,i,o,r,l){if(null==this.__context)return new t.core.Size(0,0);var a=this.__context;null!=n&&(n=this._parseFontSize(n));var u=(null!=r?r+" ":"")+(null!=o?o+" ":"")+(null!=n?n+" ":"")+(null!=i?i+" ":"");a.font=u,a.font.replace(/\"/g,"'")!==u.replace(/\"/g,"'")&&(u=r+" "+o+" "+n+" "+(null!=i?i+" ":"sans-serif"),a.font=u);var s=0,_=0;if(a.font.split(" ").some((function(t){return t.indexOf("px")>-1&&(_=parseFloat(t.slice(0,-2)),!0)})),l==t.TextWritingMode.Vertical){var p=e.split("").map((function(t){return a.measureText(t)})),c=0;p.forEach((function(t){var e=1.5*_;s=Math.max(s,e),c+=t.width})),_=c}else{var h=a.measureText(e);s=h.width,null===r||"italic"!==r.toLocaleLowerCase()&&"oblique"!==r.toLocaleLowerCase()||(s+=_*Math.tan(.17)),_*=1.5}return new t.core.Size(s,_)},e}();t._CanvasTextMetrics=e}(t||(t={})),function(t){var e=function(e){function o(t,n,i,o,r,l,a,u){var s=e.call(this,n,i,o,r,t,l,a,u)||this;return s.__renderEngine=t,s.__caches=[],s.__offsetDirty=!1,s.__contentDirty=!1,s}return n(o,e),o.prototype.draw=function(e){var n=this.viewport,i=this.__renderEngine._devicePixelRatio,r=Math.ceil(this.width),l=Math.ceil(this.height),a=o.__maxCacheSize;if(0==this.__caches.length){var u=this.__renderEngine._hostElement,s=e;this.__caches=this._createCaches(u,i,s,r,l,n,a)}for(var _=new t.core.Rect(this.offsetX,this.offsetY,n.width,n.height),p=0,c=this.__caches;p<c.length;p++){var h=c[p];if(h.rectangle.intersectsWith(_)){var f=t._RectangleUtility._intersectionOfRectangle(h.rectangle,_),d=new t._CanvasImageInfo(h.element);d.sourceRect=new t.core.Rect((f.left-h.rectangle.left)*i,(f.top-h.rectangle.top)*i,f.width*i,f.height*i),e.renderImage(d,n.left+(f.left-this.offsetX),n.top+(f.top-this.offsetY),f.width,f.height,this.clipping,this.transform)}}},o.prototype.flush=function(){if(this.__contentDirty&&(this.__caches=[]),this.__offsetDirty||this.__contentDirty){var e=this._getRootRenderElement(this.parent);if(null!=e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this.__renderEngine),i=this.__renderEngine;i.beginRender(),e.draw(i),i.endRender(),t._StyleUtility._copyAllStyle(this.__renderEngine,n)}this.__contentDirty=!1,this.__offsetDirty=!1}},o.prototype.dirty=function(){this.__contentDirty=!0},o.prototype._onPropertyChanged=function(t){"offsetX"==t||"offsetY"==t?this.__offsetDirty=!0:"transform"!=t&&"clipping"!=t&&"children"!=t||(this.__contentDirty=!0)},o.prototype._createCaches=function(n,o,r,l,a,u,s){var _=[];if(this.children.length<=0)return _;for(var p=-u.left,c=-u.top,h=Math.ceil(l/s),f=Math.ceil(a/s),d=0;d<f;d++)for(var y=0;y<h;y++){var g=l>(y+1)*s?s:l-y*s,m=a>(d+1)*s?s:a-d*s,v=y*s,w=d*s,b=this.__renderEngine.clone();null!=n.lastChild&&n.removeChild(n.lastChild),t._StyleUtility._copyAllStyle(b,r),b.beginRender(),b.setRenderViewportSize(g,m);var P=new t.Matrix;P.translate(p-v,c-w),b.startRenderGroup(null,null,P),e.prototype.draw.call(this,b),b.endRenderGroup(),b.endRender(),_.push(new i(b._canvasElement,new t.core.Rect(v,w,g,m)))}return _},o.prototype._getRootRenderElement=function(e){for(;null!=e;){if(e instanceof t._SurfaceRenderEngineElement)return e;e=e.parent}return null},o.__maxCacheSize=4096,o}(t._ReferenceGroupRenderEngineElement);t._CanvasReferenceGroupRenderEngineElement=e;var i=function(t,e){this.element=t,this.rectangle=e}}(t||(t={})),function(t){t._isCanvasRenderEngine=function(t){var e=t;return void 0!==e._hostElement&&void 0!==e._canvasElement&&"number"==typeof e._devicePixelRatio}}(t||(t={})),function(t){!function(t){t._isCanvasTextMetrics=function(t){var e=t;return null!=e.begin&&null!=e.end}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(t){this.canvasElement=t}return Object.defineProperty(t.prototype,"sourceRect",{get:function(){return this.__sourceRect},set:function(t){this.__sourceRect=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.canvasElement.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvasElement.height},enumerable:!1,configurable:!0}),t}();t._CanvasImageInfo=e}(t||(t={})),function(t){t._isCanvasImageInfo=function(t){return void 0!==t.canvasElement}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){this.__unAdjustable=[65306,65307,65281,65311],this.__adjustableRotated=[11834,8212,8230,65374,45,8211,8212,47,65295,12300,12301,12302,12303,8220,8221,8216,8217,65288,65289,12298,12299,12296,12297,12304,12305,12310,12311,12308,12309,65339,65341,65371,65373,65343,65103],this.__adjustable=[12290,65294,65292,12289]}return t.prototype.adjustSpace=function(t,e,n){var i=t.charCodeAt(0),o=e.clone(),r=0;return i<=256?r=90:this.__adjustable.indexOf(i)>=0?(o.x+=.5*n.width,o.y=e.y-.5*n.height):this.__unAdjustable.indexOf(i)>=0?o.x+=.5*n.width:this.__adjustableRotated.indexOf(i)>=0&&(r=90),{adjust:o,rotate:r}},t}();t._PunctuationAndMixedPolicy=e}(t||(t={})),function(t){var e=function(){function e(){this.__width=0,this.__height=0,this.__el=document.createElement("canvas"),this.__ctx=this._createContext(this.__el)}return e.prototype._createContext=function(t){var e=t.getContext("2d",{willReadFrequently:!0});if(null==e)throw new Error("The canvas bitmap generator is not supported");return e},e.prototype.setSize=function(t,e){this.__width=t,this.__height=e,this.__el.width=t,this.__el.height=e,this.__el.style.width=t.toString()+"px",this.__el.style.height=e.toString()+"px"},e.prototype.generateString=function(e,n,i,o,r,l,a,u){if(n<1||i<1)return{width:n,height:i,data:new Uint8ClampedArray};var s=n*Math.abs(Math.cos(o))+i*Math.abs(Math.sin(o)),_=n*Math.abs(Math.sin(o))+i*Math.abs(Math.cos(o));return this.__ctx.clearRect(0,0,this.__width,this.__height),this.__ctx.save(),this.__ctx.font=this._calculateTextStyle(a,u,l,r),this.__ctx.textBaseline="middle",this._applyTransform(t._MatrixUtility._buildRotateMatrix(o,new t.core.Point(s/2,_/2)),(function(t){t.fillText(e,s/2-n/2,_/2)})),this.__ctx.restore(),this.__ctx.getImageData(0,0,s,_)},e.prototype.generateImage=function(e,n,i,o,r){return this.__width<1||this.__height<1?{width:0,height:0,data:new Uint8ClampedArray}:(this.__ctx.clearRect(0,0,this.__width,this.__height),t._isHtmlImageInfo(e)&&(this.__ctx.save(),this.__ctx.drawImage(e._imageElement,n,i,o,r),this.__ctx.restore()),this.__ctx.getImageData(0,0,this.__width,this.__height))},e.prototype.generatePath=function(t,e){return void 0===e&&(e=null),this.__width<1||this.__height<1?{width:0,height:0,data:new Uint8ClampedArray}:(this.__ctx.clearRect(0,0,this.__width,this.__height),this.__ctx.save(),null!=e&&this.__ctx.transform(e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],e.values[5]),this._drawPath(t),this.__ctx.fill(),this.__ctx.restore(),this.__ctx.getImageData(0,0,this.__width,this.__height))},e.prototype._drawPath=function(e){this.__ctx.beginPath();for(var n=0,i=0,o=0,r=0,l=0,a=e.commands;l<a.length;l++){var u=a[l];if(u instanceof t._MoveToPathCommand)this.__ctx.moveTo(u.x,u.y),n=o=u.x,i=r=u.y;else if(u instanceof t._LineToPathCommand)this.__ctx.lineTo(u.x,u.y),n=u.x,i=u.y;else if(u instanceof t._CurveToPathCommand)this.__ctx.bezierCurveTo(u.cpx1,u.cpy1,u.cpx2,u.cpy2,u.x,u.y),n=u.x,i=u.y;else if(u instanceof t._QuadraticCurveToPathCommand)this.__ctx.quadraticCurveTo(u.cpx,u.cpy,u.x,u.y),n=u.x,i=u.y;else if(u instanceof t._ArcPathCommand){var s=t._PathCommandUtility._toCanvasArcPathCommand(u,n,i),_=s.cx,p=s.cy,c=u.rotation,h=u.rx,f=u.ry,d=h>f?1:h/f,y=h>f?f/h:1,g=h>f?h:f,m=s.startAngle+s.sweepAngle,v=!!s.counterclockwise;if(!isNaN(_)&&!isNaN(p)&&!isNaN(c)){this.__ctx.save();var w=new t.Matrix;w.translate(s.cx,s.cy),w.rotate(u.rotation),w.scale(d,y),this.__ctx.transform(w.values[0],w.values[1],w.values[2],w.values[3],w.values[4],w.values[5]),this.__ctx.arc(0,0,g,s.startAngle,m,v),this.__ctx.restore()}n=t._PathCommandUtility._getCommandEndPointXCoordinate(u),i=t._PathCommandUtility._getCommandEndPointYCoordinate(u)}else u instanceof t._ClosePathCommand&&(this.__ctx.closePath(),n=o,i=r)}},e.prototype._calculateTextStyle=function(e,n,i,o){var r="";return null!=e&&(r+=" "+t.FontStyle[e].toLowerCase()),null!=n&&(r+=" "+n.toLowerCase()),null!=i&&(r+=" "+i),null!=o&&(r+=" "+o),r.trim()},e.prototype._applyTransform=function(t,e){null!=t?(this.__ctx.save(),this.__ctx.transform(t.values[0],t.values[1],t.values[2],t.values[3],t.values[4],t.values[5]),e(this.__ctx),this.__ctx.restore()):e(this.__ctx)},e}();t._CanvasBitmapGenerator=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=!0);var l=e.call(this,n,i,o)||this;return l.__applyCSSStyles=r,l.__applyCSSStyles&&(l.__svgRenderEngine=new t._SvgRenderEngine(l._hostElement,new t._SvgTextMetrics),t._DomElementUtility._remove(l.__svgRenderEngine._svgElement)),l}return n(i,e),i.prototype._defaultStyle=function(){return null!=this.__svgRenderEngine?window.getComputedStyle(this.__svgRenderEngine._svgElement):e.prototype._defaultStyle.call(this)},i.prototype._onFillOpacityChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fillOpacity=this.fillOpacity),e.prototype._onFillOpacityChanged.call(this)},i.prototype._onFillChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fill=this.fill),e.prototype._onFillChanged.call(this)},i.prototype._onStrokeOpacityChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.strokeOpacity=this.strokeOpacity),e.prototype._onStrokeOpacityChanged.call(this)},i.prototype._onStrokeChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.stroke=this.stroke),e.prototype._onStrokeChanged.call(this)},i.prototype._onStrokeWidthChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.strokeWidth=this.strokeWidth),e.prototype._onStrokeWidthChanged.call(this)},i.prototype._onStrokeDasharrayChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.strokeDasharray=this.strokeDasharray),e.prototype._onStrokeDasharrayChanged.call(this)},i.prototype._onScalingStrokeChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.scalingStroke=this.scalingStroke),e.prototype._onScalingStrokeChanged.call(this)},i.prototype._onFontFamilyChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fontFamily=this.fontFamily),e.prototype._onFontFamilyChanged.call(this)},i.prototype._onFontSizeChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fontSize=this.fontSize),e.prototype._onFontSizeChanged.call(this)},i.prototype._onFontWeightChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fontWeight=this.fontWeight),e.prototype._onFontWeightChanged.call(this)},i.prototype._onFontStyleChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.fontStyle=this.fontStyle),e.prototype._onFontStyleChanged.call(this)},i.prototype._onTextOpacityChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textOpacity=this.textOpacity),e.prototype._onTextOpacityChanged.call(this)},i.prototype._onTextFillChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textFill=this.textFill),e.prototype._onTextFillChanged.call(this)},i.prototype._onTextOverlineChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textOverline=this.textOverline),e.prototype._onTextOverlineChanged.call(this)},i.prototype._onTextLineThroughChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textLineThrough=this.textLineThrough),e.prototype._onTextLineThroughChanged.call(this)},i.prototype._onTextUnderlineChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textUnderline=this.textUnderline),e.prototype._onTextUnderlineChanged.call(this)},i.prototype._onWritingModeChanged=function(){null!=this.__svgRenderEngine&&(this.__svgRenderEngine.textWritingMode=this.textWritingMode),e.prototype._onWritingModeChanged.call(this)},i.prototype.beginRender=function(){null!=this.__svgRenderEngine&&(this._hostElement.appendChild(this.__svgRenderEngine._svgElement),this.__svgRenderEngine.beginRender()),e.prototype.beginRender.call(this)},i.prototype.endRender=function(){e.prototype.endRender.call(this),null!=this.__svgRenderEngine&&(this.__svgRenderEngine.endRender(),t._DomElementUtility._remove(this.__svgRenderEngine._svgElement))},i.prototype.setViewportSize=function(t,n){null!=this.__svgRenderEngine&&this.__svgRenderEngine.setViewportSize(t,n),e.prototype.setViewportSize.call(this,t,n)},i.prototype.startGroup=function(t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.startGroup(t,n,i),e.prototype.startGroup.call(this,t,n,i)},i.prototype.endGroup=function(){null!=this.__svgRenderEngine&&this.__svgRenderEngine.endGroup(),e.prototype.endGroup.call(this)},i.prototype.createGroup=function(n,i,o,r,l,a){var u=e.prototype.createGroup.call(this,n,i,o,r,l,a);if(u instanceof t._CanvasWithSvgMetricsReferenceGroupRenderEngineElement&&null!=this.__svgRenderEngine){var s=this.__svgRenderEngine.createGroup(n,i,o,r,l,a);u.svgReferenceGroupRenderEngineElement=s}return u},i.prototype.startReferenceGroup=function(n){null!=this.__svgRenderEngine&&n instanceof t._CanvasWithSvgMetricsReferenceGroupRenderEngineElement&&this.__svgRenderEngine.startReferenceGroup(n.svgReferenceGroupRenderEngineElement),e.prototype.startReferenceGroup.call(this,n)},i.prototype.endReferenceGroup=function(){null!=this.__svgRenderEngine&&this.__svgRenderEngine.endReferenceGroup(),e.prototype.endReferenceGroup.call(this)},i.prototype._createReferenceGroup=function(e,n,i,o,r,l,a){return new t._CanvasWithSvgMetricsReferenceGroupRenderEngineElement(this,e,n,i,o,r,l,a)},i.prototype.measureString=function(t){return null!=this.__svgRenderEngine?this.__svgRenderEngine.measureString(t):e.prototype.measureString.call(this,t)},i.prototype.drawString=function(t,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawString(t,n,i,o,r),e.prototype.drawString.call(this,t,n,i,o,r)},i.prototype.drawPath=function(t,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawPath(t,n,i,o,r,l),e.prototype.drawPath.call(this,t,n,i,o,r,l)},i.prototype.drawRect=function(t,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawRect(t,n,i,o,r,l),e.prototype.drawRect.call(this,t,n,i,o,r,l)},i.prototype.drawLine=function(t,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawLine(t,n,i,o,r,l),e.prototype.drawLine.call(this,t,n,i,o,r,l)},i.prototype.drawLines=function(t,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawLines([0,1],[1,0],i,o),e.prototype.drawLines.call(this,t,n,i,o)},i.prototype.drawPolygon=function(t,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawPolygon([0,1,1],[1,0,1],i,o),e.prototype.drawPolygon.call(this,t,n,i,o)},i.prototype.drawEllipse=function(t,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawEllipse(t,n,i,o,r,l),e.prototype.drawEllipse.call(this,t,n,i,o,r,l)},i.prototype.drawImage=function(t,n,i,o,r,l,a){void 0===l&&(l=null),void 0===a&&(a=null),null!=this.__svgRenderEngine&&this.__svgRenderEngine.drawImage(t,n,i,o,r,l,a),e.prototype.drawImage.call(this,t,n,i,o,r,l,a)},i.prototype.clone=function(){return new i(this._hostElement,this._devicePixelRatio)},i}(t._CanvasRenderEngine);t._CanvasWithSvgMetricsRenderEngine=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._CanvasReferenceGroupRenderEngineElement);t._CanvasWithSvgMetricsReferenceGroupRenderEngineElement=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isBitmapGeneratorRenderEngine=function(t){return null!=t&&"function"==typeof t.getBitmapGenerator}}(t||(t={})),function(t){t._isPrimitivesRenderEngine=function(t){var e=t;return"function"==typeof e.createGroup&&"function"==typeof e.startReferenceGroup&&"function"==typeof e.endReferenceGroup}}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l,a,u){var s=e.call(this,n,i,o,r,t,l,a,u)||this;return s.__renderEngine=t,s.__cachedGroup=null,s.__transformDirty=!1,s.__childrenDirty=!1,s}return n(i,e),i.prototype.draw=function(e){t._isSvgRenderEngine(e)&&(null==this.__cachedGroup&&(this.__cachedGroup=this._drawCache(e,e),e._appendChild(this.__cachedGroup)),this.__transformDirty&&this._applyTransform(e,this.__cachedGroup,this.transform,this.offsetX,this.offsetY),this.__clippingDirty&&this._applyClipping(e,this.__cachedGroup,this.clipping))},i.prototype.flush=function(){if(this.__childrenDirty){var e=this.__renderEngine,n=this.__cachedGroup,i=this._drawCache(e,this.styleContext);null!=n?t._DomElementUtility._replace(i,n):e._svgElement.appendChild(i),this.__cachedGroup=i,this.__childrenDirty=!1}if(null!=this.__cachedGroup){var o=t._StyleCloneMaker._styleCloneMaker._cloneOf(this.__renderEngine);this.__transformDirty&&(this._applyTransform(this.__renderEngine,this.__cachedGroup,this.transform,this.offsetX,this.offsetY),this.__transformDirty=!1),this.__clippingDirty&&(this._applyClipping(this.__renderEngine,this.__cachedGroup,this.clipping),this.__clippingDirty=!1),t._StyleUtility._copyAllStyle(this.__renderEngine,o)}},i.prototype.dirty=function(){this.__childrenDirty=!0},i.prototype._onPropertyChanged=function(t){"offsetX"==t||"offsetY"==t||"transform"==t?this.__transformDirty=!0:"clipping"==t?this.__clippingDirty=!0:"children"==t&&(this.__childrenDirty=!0)},i.prototype._drawCache=function(n,i){var o=n._groupElement,r=t._StyleCloneMaker._styleCloneMaker._cloneOf(n);t._StyleUtility._copyAllStyle(n,i),n.startRenderGroup(null,null,null);var l=n._groupElement;if(t._DomElementUtility._remove(l),e.prototype.draw.call(this,n),n.endRenderGroup(),t._StyleUtility._copyAllStyle(n,r),n._groupElement=o,null==l||null==l.firstChild)throw new t.RuntimeError(t.ErrorCode.Unknown);return l.removeChild(l.firstChild)},i.prototype._applyTransform=function(e,n,i,o,r){var l=null!=i?i.clone():new t.Matrix;l.translate(-o,-r),e._applyTransform(n,l)},i.prototype._applyClipping=function(t,e,n){t._applyClippingRegion(e,n)},i}(t._ReferenceGroupRenderEngineElement);t._SvgReferenceGroupRenderEngineElement=e}(t||(t={})),function(t){t._isSvgRenderEngine=function(t){var e=t;return void 0!==e._hostElement&&void 0!==e._svgElement}}(t||(t={})),function(t){!function(t){t._isSvgTextMetrics=function(t){var e=t;return null!=e.begin&&null!=e.end}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(t){this.__svgDefsElement=t,this.__definitions=[]}return Object.defineProperty(t.prototype,"svgDefsElement",{get:function(){return this.__svgDefsElement},enumerable:!1,configurable:!0}),t.prototype._useSvgDefinition=function(e){if(null==e)return null;for(var n=0,i=this.__definitions;n<i.length;n++){var o=i[n];if(o.equalsWith(e))return"url(#"+o._id+")"}var r="svgDef"+t.__idCounter++;this.__definitions.push(e);var l=e._createSvgElement(r);return null!=l?(this.__svgDefsElement.appendChild(l),"url(#"+r+")"):null},t.__idCounter=0,t}();t._SvgDefinitionCollection=e}(t||(t={})),function(t){var e=function(){function t(t){this.__region=t,this.__precision=3}return t.prototype._createRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttribute("cx",t.cx.toFixed(this.__precision)),e.setAttribute("cy",t.cy.toFixed(this.__precision)),e.setAttribute("rx",t.rx.toFixed(this.__precision)),e.setAttribute("ry",t.ry.toFixed(this.__precision)),e},Object.defineProperty(t.prototype,"region",{get:function(){return this.__region},enumerable:!1,configurable:!0}),t.prototype._createSvgElement=function(t){this._id=t;var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.setAttribute("id",t);var n=this._createRegionElement(this.__region);return e.appendChild(n),e},t.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof t&&this.region.equalsWith(e.region))},t}();t._EllipseClippingRegionSvgDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e){this.__region=t,this.__definitionCollection=e,this.__precision=3}return e.prototype._createRegionElements=function(e){var n=[];if(t._isRectangleRegion(e)){var i=e;n.push(this._createRectangleRegionElement(i))}else if(t._isPathRegion(e)){var o=e;n.push(this._createPathRegionElement(o))}else if(t._isEllipseRegion(e)){var r=e;n.push(this._createEllipseRegionElement(r))}else if(t._isPolygonRegion(e)){var l=e;n.push(this._createPolygonRegionElement(l))}else if(t._isUnionRegion(e))for(var a=0,u=e.regions;a<u.length;a++){var s=u[a],_=this._createRegionElements(s);n.push.apply(n,_)}else if(t._isIntersectionRegion(e)){var p=e,c=this._createIntersectionRegionElement(p);null!=c&&n.push(c)}return n},e.prototype._createRectangleRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");return e.setAttribute("x",t.left.toFixed(this.__precision)),e.setAttribute("y",t.top.toFixed(this.__precision)),e.setAttribute("width",t.width.toFixed(this.__precision)),e.setAttribute("height",t.height.toFixed(this.__precision)),e},e.prototype._createPathRegionElement=function(e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t._PathCommandUtility._getPathExpression(e.path)),n},e.prototype._createEllipseRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttribute("cx",t.cx.toFixed(this.__precision)),e.setAttribute("cy",t.cy.toFixed(this.__precision)),e.setAttribute("rx",t.rx.toFixed(this.__precision)),e.setAttribute("ry",t.ry.toFixed(this.__precision)),e},e.prototype._createPolygonRegionElement=function(t){for(var e=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n="",i=0,o=t.points;i<o.length;i++){var r=o[i];n+=r.x.toFixed(this.__precision)+","+r.y.toFixed(this.__precision)+" "}return e.setAttribute("points",n),e},e.prototype._createIntersectionRegionElement=function(t){for(var e=null,n=t.regions,i="",o=0;o<n.length;o++){var r=n[o],l=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),a=this._generateId();l.setAttribute("id",a);var u=this._createRegionElements(r);l=this._appendChild(l,u),0===o?e=l:l.setAttribute("clip-path","url(#"+i+")"),this.__definitionCollection.svgDefsElement.appendChild(l),i=a}return e},e.prototype._generateId=function(){return(1e5*Math.random()).toFixed()},e.prototype._appendChild=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];t.appendChild(o)}return t},Object.defineProperty(e.prototype,"region",{get:function(){return this.__region},enumerable:!1,configurable:!0}),e.prototype._createSvgElement=function(t){this._id=t;var e=this._createIntersectionRegionElement(this.__region);return null!=e&&e.setAttribute("id",t),e},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.region.equalsWith(t.region))},e}();t._IntersectionClippingRegionSvgDefinition=e}(t||(t={})),function(t){var e=function(){function e(t){this.__region=t}return e.prototype._createPathRegionElement=function(e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t._PathCommandUtility._getPathExpression(e.path)),n},Object.defineProperty(e.prototype,"region",{get:function(){return this.__region},enumerable:!1,configurable:!0}),e.prototype._createSvgElement=function(t){this._id=t;var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.setAttribute("id",t);var n=this._createPathRegionElement(this.__region);return e.appendChild(n),e},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.region.equalsWith(t.region))},e}();t._PathClippingRegionSvgDefinition=e}(t||(t={})),function(t){var e=function(){function t(t){this.__region=t,this.__precision=3}return t.prototype._createPolygonRegionElement=function(t){for(var e=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n="",i=0,o=t.points;i<o.length;i++){var r=o[i];n+=r.x.toFixed(this.__precision)+","+r.y.toFixed(this.__precision)+" "}return e.setAttribute("points",n),e},Object.defineProperty(t.prototype,"region",{get:function(){return this.__region},enumerable:!1,configurable:!0}),t.prototype._createSvgElement=function(t){this._id=t;var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.setAttribute("id",t);var n=this._createPolygonRegionElement(this.__region);return e.appendChild(n),e},t.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof t&&this.region.equalsWith(e.region))},t}();t._PolygonClippingRegionSvgDefinition=e}(t||(t={})),function(t){var e=function(){function t(t){this.__region=t,this.__precision=3}return t.prototype._createRectangleRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");return e.setAttribute("x",t.left.toFixed(this.__precision)),e.setAttribute("y",t.top.toFixed(this.__precision)),e.setAttribute("width",t.width.toFixed(this.__precision)),e.setAttribute("height",t.height.toFixed(this.__precision)),e},Object.defineProperty(t.prototype,"region",{get:function(){return this.__region},enumerable:!1,configurable:!0}),t.prototype._createSvgElement=function(t){this._id=t;var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.setAttribute("id",t);var n=this._createRectangleRegionElement(this.__region);return e.appendChild(n),e},t.prototype.equalsWith=function(e){return null!=e&&(this==e||e instanceof t&&this.region.equalsWith(e.region))},t}();t._RectangleClippingRegionSvgDefinition=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__region=t,this.__definitionCollection=e,this.__precision=3}return e.prototype._createRegionElements=function(e){var n=[];if(t._isRectangleRegion(e)){var i=e;n.push(this._createRectangleRegionElement(i))}else if(t._isPathRegion(e)){var o=e;n.push(this._createPathRegionElement(o))}else if(t._isEllipseRegion(e)){var r=e;n.push(this._createEllipseRegionElement(r))}else if(t._isPolygonRegion(e)){var l=e;n.push(this._createPolygonRegionElement(l))}else if(t._isUnionRegion(e))for(var a=0,u=e.regions;a<u.length;a++){var s=u[a],_=this._createRegionElements(s);n.push.apply(n,_)}else if(t._isIntersectionRegion(e)){var p=e,c=this._createIntersectionRegionElement(p);null!=c&&n.push(c)}return n},e.prototype._createRectangleRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");return e.setAttribute("x",t.left.toFixed(this.__precision)),e.setAttribute("y",t.top.toFixed(this.__precision)),e.setAttribute("width",t.width.toFixed(this.__precision)),e.setAttribute("height",t.height.toFixed(this.__precision)),e},e.prototype._createPathRegionElement=function(e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t._PathCommandUtility._getPathExpression(e.path)),n},e.prototype._createEllipseRegionElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttribute("cx",t.cx.toFixed(this.__precision)),e.setAttribute("cy",t.cy.toFixed(this.__precision)),e.setAttribute("rx",t.rx.toFixed(this.__precision)),e.setAttribute("ry",t.ry.toFixed(this.__precision)),e},e.prototype._createPolygonRegionElement=function(t){for(var e=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n="",i=0,o=t.points;i<o.length;i++){var r=o[i];n+=r.x.toFixed(this.__precision)+","+r.y.toFixed(this.__precision)+" "}return e.setAttribute("points",n),e},e.prototype._createIntersectionRegionElement=function(t){for(var e=null,n=t.regions,i="",o=0;o<n.length;o++){var r=n[o],l=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),a=this._generateId();l.setAttribute("id",a);var u=this._createRegionElements(r);l=this._appendChildren(l,u),0===o?e=l:l.setAttribute("clip-path","url(#"+i+")"),this.__definitionCollection.svgDefsElement.appendChild(l),i=a}return e},e.prototype._generateId=function(){return(1e5*Math.random()).toFixed()},e.prototype._appendChildren=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];t.appendChild(o)}return t},Object.defineProperty(e.prototype,"region",{get:function(){return this.__region},enumerable:!1,configurable:!0}),e.prototype._createSvgElement=function(t){this._id=t;for(var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),n=0,i=this.__region.regions;n<i.length;n++){var o=i[n],r=this._createRegionElements(o);e=this._appendChildren(e,r)}return e.setAttribute("id",t),e},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.region.equalsWith(t.region))},e}();t._UnionClippingRegionSvgDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e){void 0===e&&(e=null),this.__precision=3,this.__color=t,this.__boundRectangle=e}return e.prototype._createSvgElement=function(t){this._id=t;var e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");return null==this.__boundRectangle?this._setGradientElementPosition(e):this._setGradientElementPositionWithBoundBox(e,this.__boundRectangle),this._setGradientElementColorStops(e),e.setAttribute("id",t),e},e.prototype._setGradientElementPosition=function(t){var e=this._convertDegreeToPoint(this.__color.degree);t.setAttribute("x1",e[0].toFixed(this.__precision)),t.setAttribute("y1",e[1].toFixed(this.__precision)),t.setAttribute("x2",e[2].toFixed(this.__precision)),t.setAttribute("y2",e[3].toFixed(this.__precision))},e.prototype._setGradientElementPositionWithBoundBox=function(t,e){t.setAttribute("gradientUnits","userSpaceOnUse");var n=this._convertDegreeToPoint(this.__color.degree),i=n[0]*e.width+e.left,o=n[1]*e.height+e.top,r=n[2]*e.width+e.left,l=n[3]*e.height+e.top;t.setAttribute("x1",i.toFixed(this.__precision)),t.setAttribute("y1",o.toFixed(this.__precision)),t.setAttribute("x2",r.toFixed(this.__precision)),t.setAttribute("y2",l.toFixed(this.__precision))},e.prototype._convertDegreeToPoint=function(t){var e,n,i,o,r;t<0&&(t=360+t%360);var l=Math.floor(t/180);switch(Math.floor(t%180/45)){case 3:n=(e=this._getTriangleEdgeValue(180-t)).cosEdge,o=-e.sinEdge,i=1-e.cosEdge,r=1+e.sinEdge;break;case 2:n=-(e=this._getTriangleEdgeValue(t-90)).sinEdge,o=e.cosEdge,i=1+e.sinEdge,r=1-e.cosEdge;break;case 1:n=-(e=this._getTriangleEdgeValue(90-t)).sinEdge,o=1-e.cosEdge,i=1+e.sinEdge,r=e.cosEdge;break;default:n=(e=this._getTriangleEdgeValue(t)).cosEdge,o=1+e.sinEdge,i=1-e.cosEdge,r=-e.sinEdge}return l%2==0?[n,o,i,r]:[i,r,n,o]},e.prototype._getTriangleEdgeValue=function(t){var e=.5*Math.sqrt(2)*Math.cos((t+45)/180*Math.PI);return{sinEdge:Math.abs(e*Math.sin(t/180*Math.PI)),cosEdge:Math.abs(e*Math.cos(t/180*Math.PI))}},e.prototype._setGradientElementColorStops=function(t){this.__color.colorStops.forEach((function(e){var n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",e.stop.toString()),n.setAttribute("stop-color",e.color.toLocaleLowerCase()),t.appendChild(n)}))},e.prototype.equalsWith=function(n){return null!=n&&(this==n||n instanceof e&&this.__color.equalsWith(n.__color)&&t._RectangleEqualityComparer._rectangleEqualityComparer._equalsWith(this.__boundRectangle,n.__boundRectangle))},e}();t._LinearGradientSvgDefinition=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__color=t,this.__definitionCollection=e,this.__precision=3}return e.prototype._calculatePatternBoundingSize=function(){for(var e=new t.core.Rect(0,0,0,0),n=0,i=this.__color.pattern;n<i.length;n++){var o=i[n],r=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(o.content);if(null!=r){var l=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(r);null!=l&&(e=t._RectangleUtility._unionOfRectangles(e,l))}}return new t.core.Size(e.width,e.height)},e.prototype._setBackgroundColor=function(t,e,n){var i=document.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttribute("stroke-width","0"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("width",n.width.toString()),i.setAttribute("height",n.height.toString()),i.setAttribute("fill",this._buildColorReference(e)),t.appendChild(i)},e.prototype._setPattern=function(e,n){for(var i=0,o=n.pattern;i<o.length;i++){var r=o[i],l=document.createElementNS("http://www.w3.org/2000/svg","path");if(l.setAttribute("d",r.content),null!=r.style.strokeWidth||null!=r.style.stroke){var a=t._NativeExtension._toNonNullNumber(r.style.strokeWidth,1),u=null!=r.style.stroke?r.style.stroke:t._CssColor._defaultStyleColor();a>=0&&(l.setAttribute("stroke-width",a.toFixed(this.__precision)),l.setAttribute("stroke",this._buildColorReference(u)),null!=r.style.strokeDasharray&&l.setAttribute("stroke-dasharray",r.style.strokeDasharray))}l.setAttribute("fill",this._buildColorReference(r.style.fill)),e.appendChild(l)}},e.prototype._buildColorReference=function(e){var n=null;if(null!=e)if(t.models._isCssColor(e))n=e.color.toLowerCase();else if(t.models._isLinearGradientColor(e)){var i=e;n=this.__definitionCollection._useSvgDefinition(new t._LinearGradientSvgDefinition(i))}else if(t.models._isRadialGradientColor(e)){var o=e;n=this.__definitionCollection._useSvgDefinition(new t._RadialGradientSvgDefinition(o))}return null==n?"none":n},e.prototype._createSvgElement=function(t){this._id=t;var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=this._calculatePatternBoundingSize();return e.setAttribute("width",n.height.toString()+"px"),e.setAttribute("height",n.width.toString()+"px"),e.setAttribute("id",t),n.height>0&&n.width>0&&(this._setBackgroundColor(e,this.__color.backgroundColor,n),this._setPattern(e,this.__color)),e},e.prototype.equalsWith=function(t){return null!=t&&(this==t||t instanceof e&&this.__color.equalsWith(t.__color))},e}();t._PatternSvgDefinition=e}(t||(t={})),function(t){var e=function(){function e(t,e){void 0===e&&(e=null),this.__precision=3,this.__color=t,this.__boundRectangle=e}return e.prototype._createSvgElement=function(t){this._id=t;var e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient");return null==this.__boundRectangle?this._setGradientElementPosition(e):this._setGradientElementPositionWithBoundBox(e,this.__boundRectangle),this._setGradientElementColorStops(e),e.setAttribute("id",t),e},e.prototype._setGradientElementPosition=function(t){t.setAttribute("cx",this.__color.center.x.toFixed(this.__precision)),t.setAttribute("cy",this.__color.center.y.toFixed(this.__precision)),t.setAttribute("fx",this.__color.focus.x.toFixed(this.__precision)),t.setAttribute("fy",this.__color.focus.y.toFixed(this.__precision)),this.__color.focusRadius==this.__color.radius?t.setAttribute("r",this.__color.focusRadius.toFixed(this.__precision)):(t.setAttribute("r",this.__color.focusRadius.toFixed(this.__precision)),t.setAttribute("fr",this.__color.focusRadius.toFixed(this.__precision)))},e.prototype._setGradientElementPositionWithBoundBox=function(t,e){t.setAttribute("gradientUnits","userSpaceOnUse");var n=this.__color.focus.x*e.width+e.left,i=this.__color.focus.y*e.height+e.top,o=this.__color.center.x*e.width+e.left,r=this.__color.center.y*e.height+e.top,l=this.__color.radius,a=this.__color.focusRadius;e.width>e.height?l*=e.height:(e.width,e.height,l*=e.width),t.setAttribute("cx",n.toFixed(this.__precision)),t.setAttribute("cy",i.toFixed(this.__precision)),t.setAttribute("fx",o.toFixed(this.__precision)),t.setAttribute("fy",r.toFixed(this.__precision)),a==l?t.setAttribute("r",l.toFixed(this.__precision)):(t.setAttribute("r",l.toFixed(this.__precision)),t.setAttribute("fr",a.toFixed(this.__precision)))},e.prototype._setGradientElementColorStops=function(t){this.__color.colorStops.forEach((function(e){var n=document.createElementNS("http://www.w3.org/2000/svg","stop");n.setAttribute("offset",e.stop.toString()),n.setAttribute("stop-color",e.color.toLocaleLowerCase()),t.appendChild(n)}))},e.prototype.equalsWith=function(n){return null!=n&&(this==n||n instanceof e&&this.__color.equalsWith(n.__color)&&t._RectangleEqualityComparer._rectangleEqualityComparer._equalsWith(this.__boundRectangle,n.__boundRectangle))},e}();t._RadialGradientSvgDefinition=e}(t||(t={})),function(t){var e=function(e){function i(n,i){void 0===i&&(i=null);var o=e.call(this)||this;return o.__fontSizeWithUnit=null,o._hostElement=n,o.__metrics=null==i?new t._SvgTextMetrics:i,o.__precision=3,o.__isIEOrEdge=t._BrowserUtility.isIE()||t._BrowserUtility.isEdge(),o._svgElement=document.createElementNS("http://www.w3.org/2000/svg","svg"),o._hostElement.appendChild(o._svgElement),o}return n(i,e),Object.defineProperty(i.prototype,"_definitionCollection",{get:function(){return this.__definitionCollection},enumerable:!1,configurable:!0}),i.prototype._renderEngineApi=function(){return this},i.prototype._appendChild=function(t){null!=this._groupElement?this._groupElement.appendChild(t):this._svgElement.appendChild(t)},i.prototype._applyClassName=function(t,e){e&&t.setAttribute("class",e)},i.prototype._applyTransform=function(t,e){null!=e&&(this.__isIEOrEdge?t.setAttribute("transform","matrix("+e.values.join(",")+")"):t.style.setProperty("transform","matrix("+e.values.join(",")+")"))},i.prototype._applyClippingRegion=function(e,n){if(null!=n){var i=null;if(t._isRectangleRegion(n)){var o=n;i=new t._RectangleClippingRegionSvgDefinition(o)}else if(t._isPathRegion(n)){var r=n;i=new t._PathClippingRegionSvgDefinition(r)}else if(t._isEllipseRegion(n)){var l=n;i=new t._EllipseClippingRegionSvgDefinition(l)}else if(t._isPolygonRegion(n)){var a=n;i=new t._PolygonClippingRegionSvgDefinition(a)}else if(t._isUnionRegion(n)){var u=n;i=new t._UnionClippingRegionSvgDefinition(u,this._definitionCollection)}else if(t._isIntersectionRegion(n)){var s=n;i=new t._IntersectionClippingRegionSvgDefinition(s,this._definitionCollection)}var _=this._definitionCollection._useSvgDefinition(i);null!=_&&e.setAttribute("clip-path",_)}},i.prototype._applyFill=function(e,n,i,o,r){if(e.setAttribute("fill-opacity",t._NativeExtension._toNonNullNumber(n,this._defaultOpacity).toFixed(o)),null!=i)if(t.models._isCssColor(i)){var l=i;e.setAttribute("fill",l.color.toLowerCase())}else if(t.models._isLinearGradientColor(i)){var a=i,u=r._useSvgDefinition(new t._LinearGradientSvgDefinition(a));e.setAttribute("fill",null==u?"none":u)}else if(t.models._isRadialGradientColor(i)){var s=i;u=r._useSvgDefinition(new t._RadialGradientSvgDefinition(s)),e.setAttribute("fill",null==u?"none":u)}else if(t.models._isPatternColor(i)){var _=i;u=r._useSvgDefinition(new t._PatternSvgDefinition(_,r)),e.setAttribute("fill",null==u?"none":u)}else e.setAttribute("fill","none")},i.prototype._applyStroke=function(e,n,i,o,r,l){if(void 0===l&&(l=null),e.setAttribute("stroke-opacity",t._NativeExtension._toNonNullNumber(n,this._defaultOpacity).toFixed(o)),null!=i)if(t.models._isCssColor(i)){var a=i;e.setAttribute("stroke",a.color.toLowerCase())}else if(t.models._isLinearGradientColor(i)){var u=i,s=r._useSvgDefinition(new t._LinearGradientSvgDefinition(u,null!=l?l():null));e.setAttribute("stroke",null==s?"none":s)}else if(t.models._isRadialGradientColor(i)){var _=i;s=r._useSvgDefinition(new t._RadialGradientSvgDefinition(_,null!=l?l():null)),e.setAttribute("stroke",null==s?"none":s)}else if(t.models._isPatternColor(i)){var p=i;s=r._useSvgDefinition(new t._PatternSvgDefinition(p,r)),e.setAttribute("stroke",null==s?"none":s)}else e.setAttribute("stroke","none")},i.prototype._applyStrokeStyle=function(e,n,i,o,r,l,a,u,s){void 0===s&&(s=null);var _=t._NativeExtension._toNonNullNumber(o,this._defaultStrokeWidth);_>0&&(e.setAttribute("stroke-width",_.toFixed(a)),this._applyStroke(e,n,i,a,u,s),r&&e.setAttribute("stroke-dasharray",r),!1===l&&e.setAttribute("vector-effect","non-scaling-stroke"))},i.prototype._applyTextStyle=function(e,n,i,o,r,l,a,u,s,_,p,c){if(e.setAttribute("opacity",t._NativeExtension._toNonNullNumber(n,this._defaultOpacity).toFixed(c)),null!=i&&e.setAttribute("fill",i),null!=r&&e.setAttribute("font-size",r),null!=o&&e.setAttribute("font-family",o),null!=l&&e.setAttribute("font-weight",l.toLowerCase()),null!=a&&e.setAttribute("font-style",t.FontStyle[a].toLowerCase()),null!=u||null!=s||null!=_){var h=[];t._NativeExtension._toNonNullBoolean(s,!1)&&h.push("line-through"),t._NativeExtension._toNonNullBoolean(u,!1)&&h.push("overline"),t._NativeExtension._toNonNullBoolean(_,!1)&&h.push("underline"),h.length>0&&e.setAttribute("text-decoration",h.join(" "))}e.style.setProperty("white-space","pre"),p==t.TextWritingMode.Vertical?e.style.setProperty("writing-mode","tb-rl"):p==t.TextWritingMode.Horizontal&&e.style.setProperty("writing-mode","lr-tb")},i.prototype._applyText=function(t,e){var n=null!=e?e.toString():null;t.textContent=n},i.prototype._fixedBoundRectangleForTheGradientColorOfLine=function(e,n,i,o,r){var l=Math.min(e,i),a=Math.min(n,o),u=Math.max(e,i)-l,s=Math.max(n,o)-a,_=t._NativeExtension._toNonNullNumber(r,this._defaultStrokeWidth);return Math.abs(u)<this._epsilon?new t.core.Rect(l-_/2,a,_,s):Math.abs(s)<this._epsilon?new t.core.Rect(l,a-_/2,u,_):null},i.prototype._replaceFormFeed=function(t){return t.replace(/\f/g," ")},i.prototype._createReferenceGroup=function(e,n,i,o,r,l,a){return new t._SvgReferenceGroupRenderEngineElement(this,e,n,i,o,r,l,a)},i.prototype._onFontSizeChanged=function(){var t=this.fontSize;this.__fontSizeWithUnit=null==t||isNaN(t)?t:t+"px"},i.prototype._drawRect=function(t,e,n,i,o){t.setAttribute("x",e.toFixed(this.__precision)),t.setAttribute("y",n.toFixed(this.__precision)),i>0&&i<this._epsilon?t.setAttribute("width",this._epsilon.toString()):t.setAttribute("width",i.toFixed(this.__precision)),o>0&&o<this._epsilon?t.setAttribute("height",this._epsilon.toString()):t.setAttribute("height",o.toFixed(this.__precision))},i.prototype._drawPolygon=function(t,e,n){for(var i="",o=Math.min(e.length,n.length),r=0;r<o;r++)i+=e[r].toFixed(this.__precision)+","+n[r].toFixed(this.__precision)+" ";t.setAttribute("points",i)},i.prototype._drawEllipse=function(t,e,n,i,o){t.setAttribute("cx",e.toFixed(this.__precision)),t.setAttribute("cy",n.toFixed(this.__precision)),t.setAttribute("rx",i.toFixed(this.__precision)),t.setAttribute("ry",o.toFixed(this.__precision))},i.prototype.beginRender=function(){e.prototype.beginRender.call(this);var n=document.createElementNS("http://www.w3.org/2000/svg","defs");t._DomElementUtility._empty(this._svgElement),this._svgElement.appendChild(n),this.__definitionCollection=new t._SvgDefinitionCollection(n),this.__metrics.begin(this._svgElement),this._groupElement=null},i.prototype.endRender=function(){e.prototype.endRender.call(this),this.__metrics.end()},i.prototype.setRenderViewportSize=function(t,e){this._svgElement.setAttribute("width",t.toString()),this._svgElement.setAttribute("height",e.toString())},i.prototype.startRenderGroup=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null);var i=document.createElementNS("http://www.w3.org/2000/svg","g");this._applyClassName(i,t),this._applyTransform(i,n),this._applyClippingRegion(i,e),this._appendChild(i),this._groupElement=i},i.prototype.endRenderGroup=function(){if(null!=this._groupElement){var t=this._groupElement.parentNode;t==this._svgElement?this._groupElement=null:this._groupElement=t}},i.prototype.startReferenceGroup=function(t){this.__metrics.begin(this._svgElement),e.prototype.startReferenceGroup.call(this,t)},i.prototype.endReferenceGroup=function(){this.__metrics.end(),e.prototype.endReferenceGroup.call(this)},i.prototype.measureString=function(e){return null==e?new t.core.Size(0,0):(e=this._replaceFormFeed(e),this.__metrics.measureString(e,this.__fontSizeWithUnit,this.fontFamily,this.fontWeight,null!=this.fontStyle?t.FontStyle[this.fontStyle]:null,this.textWritingMode))},i.prototype.renderString=function(e,n,i,o,r){if(void 0===o&&(o=null),void 0===r&&(r=null),null!=e&&(e=this._replaceFormFeed(e),!t._NativeExtension._isNullOrEmptyString(e))){var l=document.createElementNS("http://www.w3.org/2000/svg","text");this._applyTransform(l,r),this._applyClippingRegion(l,o),this._applyTextStyle(l,this.textOpacity,this.textFill,this.fontFamily,this.__fontSizeWithUnit,this.fontWeight,this.fontStyle,this.textOverline,this.textLineThrough,this.textUnderline,this.textWritingMode,this.__precision),this._applyText(l,e),t._BrowserUtility.isSafari()?this.textWritingMode==t.TextWritingMode.Vertical?l.setAttribute("dx","0.5em"):l.setAttribute("dy","-0.25em"):l.setAttribute("dominant-baseline","ideographic"),l.setAttribute("x",n.toFixed(this.__precision)),l.setAttribute("y",i.toFixed(this.__precision)),this._appendChild(l)}},i.prototype.renderPath=function(e,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null);var a=document.createElementNS("http://www.w3.org/2000/svg","path");switch(this._applyTransform(a,l),this._applyClippingRegion(a,r),this._applyFill(a,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._applyStrokeStyle(a,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),n==t.PathFillType.Evenodd&&a.setAttribute("fill-rule","evenodd"),i){case t.LineCap.Butt:break;case t.LineCap.Round:a.setAttribute("stroke-linecap","round");break;case t.LineCap.Square:a.setAttribute("stroke-linecap","square")}switch(o){case t.LineJoin.Miter:break;case t.LineJoin.Round:a.setAttribute("stroke-linejoin","round");break;case t.LineJoin.Bevel:a.setAttribute("stroke-linejoin","bevel")}a.setAttribute("d",t._PathCommandUtility._getPathExpression(e,!0)),this._appendChild(a)},i.prototype.renderRect=function(e,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null);var a=t._NativeExtension._toNonNullNumber(this.fillOpacity,this._defaultOpacity);if(Math.abs(a-1)<this._epsilon){var u=document.createElementNS("http://www.w3.org/2000/svg","rect");this._applyTransform(u,l),this._applyClippingRegion(u,r),this._applyFill(u,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._applyStrokeStyle(u,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),this._drawRect(u,e,n,i,o),this._appendChild(u)}else Math.abs(a)>=this._epsilon&&(u=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._applyTransform(u,l),this._applyClippingRegion(u,r),this._applyFill(u,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._drawRect(u,e,n,i,o),this._appendChild(u)),null!=this.strokeWidth&&this.strokeWidth>0&&(u=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._applyTransform(u,l),this._applyClippingRegion(u,r),this._applyStrokeStyle(u,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),u.setAttribute("fill","none"),this._drawRect(u,e,n,i,o),this._appendChild(u))},i.prototype.renderLine=function(t,e,n,i,o,r){var l=this;void 0===o&&(o=null),void 0===r&&(r=null);var a=document.createElementNS("http://www.w3.org/2000/svg","line");this._applyTransform(a,r),this._applyClippingRegion(a,o),this._applyStrokeStyle(a,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection,(function(){return l._fixedBoundRectangleForTheGradientColorOfLine(t,e,n,i,l.strokeWidth)})),a.setAttribute("x1",t.toFixed(this.__precision)),a.setAttribute("x2",n.toFixed(this.__precision)),a.setAttribute("y1",e.toFixed(this.__precision)),a.setAttribute("y2",i.toFixed(this.__precision)),this._appendChild(a)},i.prototype.renderLines=function(t,e,n,i){var o=this;if(void 0===n&&(n=null),void 0===i&&(i=null),null!=t&&null!=e){var r=Math.min(t.length,e.length);if(!(r<=0)){var l=document.createElementNS("http://www.w3.org/2000/svg","polyline");this._applyTransform(l,i),this._applyClippingRegion(l,n),this._applyStrokeStyle(l,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection,(function(){return o._isSameValue(t)||o._isSameValue(e)?o._fixedBoundRectangleForTheGradientColorOfLine(t[0],e[0],t[t.length-1],e[e.length-1],o.strokeWidth):null})),l.setAttribute("fill","none");for(var a="",u=0;u<r;u++)a+=t[u].toFixed(this.__precision)+","+e[u].toFixed(this.__precision)+" ";l.setAttribute("points",a),this._appendChild(l)}}},i.prototype.renderPolygon=function(e,n,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),!(null==e||null==n||Math.min(e.length,n.length)<=0)){var r=t._NativeExtension._toNonNullNumber(this.fillOpacity,this._defaultOpacity);if(Math.abs(r-1)<this._epsilon){var l=document.createElementNS("http://www.w3.org/2000/svg","polygon");this._applyTransform(l,o),this._applyClippingRegion(l,i),this._applyFill(l,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._applyStrokeStyle(l,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),this._drawPolygon(l,e,n),this._appendChild(l)}else Math.abs(r)>=this._epsilon&&(l=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this._applyTransform(l,o),this._applyClippingRegion(l,i),this._applyFill(l,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._drawPolygon(l,e,n),this._appendChild(l)),null!=this.strokeWidth&&this.strokeWidth>0&&(l=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this._applyTransform(l,o),this._applyClippingRegion(l,i),this._applyStrokeStyle(l,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),l.setAttribute("fill","none"),this._drawPolygon(l,e,n),this._appendChild(l))}},i.prototype.renderEllipse=function(e,n,i,o,r,l){void 0===r&&(r=null),void 0===l&&(l=null);var a=t._NativeExtension._toNonNullNumber(this.fillOpacity,this._defaultOpacity);if(Math.abs(a-1)<this._epsilon){var u=document.createElementNS("http://www.w3.org/2000/svg","ellipse");this._applyTransform(u,l),this._applyClippingRegion(u,r),this._applyFill(u,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._applyStrokeStyle(u,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),this._drawEllipse(u,e,n,i,o),this._appendChild(u)}else Math.abs(a)>=this._epsilon&&(u=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this._applyTransform(u,l),this._applyClippingRegion(u,r),this._applyFill(u,this.fillOpacity,this.fill,this.__precision,this.__definitionCollection),this._drawEllipse(u,e,n,i,o),this._appendChild(u)),null!=this.strokeWidth&&this.strokeWidth>0&&(u=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this._applyTransform(u,l),this._applyClippingRegion(u,r),this._applyStrokeStyle(u,this.strokeOpacity,this.stroke,this.strokeWidth,this.strokeDasharray,this.scalingStroke,this.__precision,this.__definitionCollection),u.setAttribute("fill","none"),this._drawEllipse(u,e,n,i,o),this._appendChild(u))},i.prototype.renderImage=function(e,n,i,o,r,l,a){void 0===l&&(l=null),void 0===a&&(a=null);var u=document.createElementNS("http://www.w3.org/2000/svg","image");this._applyTransform(u,a),this._applyClippingRegion(u,l),u.setAttributeNS("http://www.w3.org/1999/xlink","href",e.src),u.setAttribute("x",n.toFixed(this.__precision)),u.setAttribute("y",i.toFixed(this.__precision)),u.setAttribute("width",o.toFixed(this.__precision)),u.setAttribute("height",r.toFixed(this.__precision)),u.setAttribute("preserveAspectRatio","none"),u.setAttribute("opacity",t._NativeExtension._toNonNullNumber(this.fillOpacity,this._defaultOpacity).toFixed(this.__precision)),this._appendChild(u)},i._renderEngineType="Svg",i}(t.BasePrimitivesRenderEngine);t._SvgRenderEngine=e}(t||(t={})),function(t){var e=function(){function e(t){this.__svgElement=t,this.__textGroupElement=this._createTextGroupElement(),this.__svgElement.appendChild(this.__textGroupElement),this.__textElement=this._createTextElement(),this.__textGroupElement.appendChild(this.__textElement)}return Object.defineProperty(e.prototype,"_textElement",{get:function(){return this.__textElement},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){t._DomElementUtility._remove(this.__textElement),t._DomElementUtility._remove(this.__textGroupElement)},e.prototype._createTextElement=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","text");return t.setAttribute("x","-1000"),t.setAttribute("y","-1000"),t.setAttribute("dominant-baseline","ideographic"),t},e.prototype._createTextGroupElement=function(){return document.createElementNS("http://www.w3.org/2000/svg","g")},e}(),n=function(){function n(){this.__isIEOrEdge=t._BrowserUtility.isIE()||t._BrowserUtility.isEdge(),this.__cache={}}return n.prototype.begin=function(t){this.__svgElement=t,this.__context=this._createContext(t)},n.prototype.end=function(){null!=this.__context&&(this.__context.dispose(),this.__context=null),this.__svgElement=null},n.prototype.measureString=function(e,n,i,o,r,l){var a=this._textElement;null!=i&&a.setAttribute("font-family",i),null!=n&&a.setAttribute("font-size",n),null!=o&&a.setAttribute("font-weight",o.toLowerCase()),this.__isIEOrEdge?a.style.setProperty("line-height","normal"):r&&a.setAttribute("font-style",r.toLowerCase()),a.style.setProperty("white-space","pre"),l==t.TextWritingMode.Vertical?a.style.setProperty("writing-mode","tb-rl"):l==t.TextWritingMode.Horizontal&&a.style.setProperty("writing-mode","lr-tb"),a.textContent=e;var u=this._buildKey(a);return null==this.__cache[u]&&(this.__cache[u]=this._calculateRectangle(a)),l==t.TextWritingMode.Vertical?null!=this.__context&&(this.__context.dispose(),this.__context=null):(a.textContent=null,a.style.removeProperty("writing-mode"),a.style.removeProperty("white-space"),a.removeAttribute("font-style"),a.style.removeProperty("line-height"),a.removeAttribute("font-weight"),a.removeAttribute("font-size"),a.removeAttribute("font-family")),this.__cache[u].size},Object.defineProperty(n.prototype,"_textElement",{get:function(){if(null==this.__context){if(null==this.__svgElement)throw new t.RuntimeError(t.ErrorCode.Unknown);this.__context=this._createContext(this.__svgElement)}return this.__context._textElement},enumerable:!1,configurable:!0}),n.prototype._createContext=function(t){return new e(t)},n.prototype._buildKey=function(t){var e=t.getAttribute("font-size"),n=t.getAttribute("font-family"),i=t.getAttribute("font-weight"),o=t.getAttribute("font-style"),r=t.style.getPropertyValue("writing-mode");return e+","+(this.__isIEOrEdge?t.textContent:t.innerHTML)+","+n+","+i+","+o+","+r},n.prototype._calculateRectangle=function(e){var n=e.getBBox(),i=new t.core.Rect(n.x,n.y,n.width,n.height);return i.height=Math.round(1e4*i.height)/1e4,i.width=Math.round(1e4*i.width)/1e4,i},n}();t._SvgTextMetrics=n}(t||(t={})),function(t){var e=function(t,e){this._xs=t,this._ys=e};t._Polyline=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t){return e.call(this,t,i._pluginType)||this}return n(i,e),i._defaultBuildInDataSourceTransforms=function(){return null==i.__buildInDataSourceTransformsCollection&&(i.__buildInDataSourceTransformsCollection=new i([])),i.__buildInDataSourceTransformsCollection},i.prototype._convert=function(e){return t._isDataSourceTransform(e)?e:null},i.prototype._transformDataSources=function(t,e,n,i){void 0===i&&(i=null);var o=t._dataSources;if(null!=o&&o.length>0)for(var r=this._objects(n,i),l=0,a=e;l<a.length;l++)for(var u=a[l],s=0,_=r;s<_.length;s++)_[s].item.transform(t,u,i)},i._pluginType="DataSourceTransform",i}(t._BuildInObjectCollection);t._BuildInDataSourceTransformCollection=e}(t||(t={})),function(t){t._isDataSourceTransform=function(t){return null!=t.transform}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle(null,"#666666",null,"#666666",1)),this.__defaultStyle},e._defaultTextStyle=function(){return null==this.__defaultTextStyle&&(this.__defaultTextStyle=t._StyleUtility._buildStyle(),this.__defaultTextStyle.textFill="#666666"),this.__defaultTextStyle},e._defaultLineStyle=function(){return null==this.__defaultLineStyle&&(this.__defaultLineStyle=t._StyleUtility._buildStrokeStyle(null,"#666666",1)),this.__defaultLineStyle},e._defaultBorderStyle=function(){return null==this.__defaultBorderStyle&&(this.__defaultBorderStyle=t._StyleUtility._buildStrokeStyle(null,"#666666",0)),this.__defaultBorderStyle},e._dvView=function(e){return t._isDvView(e)?e:null==(e=e._getOwnerView())?null:this._dvView(e)},e}();t._ViewUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e.toAggregateString=function(e){return t.Aggregate[e]},e.toColorOptionOrNull=function(e){return null==e?null:t.options._isColorOption(e)?t.options._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e):new t._ColorOptionConverter(!0).fromJson(e,null)},e._toNumberOptionOrNull=function(e,n,i,o){if(void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!1),null==e)return null;if("number"==typeof e&&!isNaN(e)){if(null!=n&&e<n){if(!o)throw new t.OptionError(t.ErrorCode.GreaterThanOrEqualToNumberValueRequired,e,n);e=n}if(null!=i&&e>i){if(!o)throw new t.OptionError(t.ErrorCode.LowerThanOrEqualToNumberValueRequired,e,i);e=i}return e}throw new t.OptionError(t.ErrorCode.LegalNumberValueRequired,e)},e.toAnimationOption=function(e){return null==e?null:t.options._isAnimationOption(e)?t.options._AnimationOptionCloneMaker._animationOptionCloneMaker._cloneOf(e):new t.options._AnimationOption(e)},e}();t._CastExtension=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildData=function(e,n,i){var o=new t.options._DataOption(null);return o.name=e,o.values=n,o.dateFormats=i,o},e}();t._DataUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._isNaN=function(e){if(t._DataValueTypeExtension._isNumber(e)){var n=t._DataValueTypeExtension._toNumber(e);if(isNaN(n))return!0}return!1},e}();t._DataValueTypeUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._split=function(n,i){var o=i;if(null==o||1!==o.length||"\\"===o[0])throw new t.AssertError(t.ErrorCode.InvalidArgument,o);if(""==n)return[];if(n.indexOf(o)>=0){var r=n.match(/(\\+)$/);if(null!=r&&r[0].length%2==1)return[];var l=e._getPlaceHolder(n),a=new RegExp(l,"g");return n.replace(new RegExp("(\\\\+)"+e._escapeRegExp(o),"g"),(function(t,e){var n=e.length;return n%2==0?t:e.substr(0,n-1)+l})).split(o).map((function(t){return t.replace(a,o)}))}return[n]},e._normalize=function(t){return""==t?t:t.replace(/\\(.)/g,"$1")},e._trim=function(t){if(""==t)return t;for(t=t.replace(/^(\s+)/,"");null!==/\s$/.exec(t)&&!/\\\s{1}$/.test(t);)t=t.slice(0,-1);return t},e._escapeRegExp=function(t){return t.replace(/[\.\*\+\?\^\$\{\}\(\)\|\[\]\\]/g,"\\$&")},e._getReplaceRegExp=function(t){var e=t.join("").replace(/[\]\\]/g,"\\$&");return new RegExp("(["+e+"])","g")},e._getPlaceHolder=function(e){var n=0;do{var i=String.fromCharCode(n);if(-1==e.indexOf(i))return i;0==n?n=55296:n++}while(n<57344);throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._getPlaceHolderPairs=function(e){var n=55296;do{var i=String.fromCharCode(n),o=String.fromCharCode(n+1);if(-1==e.indexOf(i)&&-1==e.indexOf(o))return i+o;n+=2}while(n<57344);throw new t.RuntimeError(t.ErrorCode.InvalidArgument,e)},e._replaceStringWithPlaceHolderPairs=function(e,n,i,o){if(null==n||null==i||n.length!=i.length)throw new t.AssertError(t.ErrorCode.NoMatchedPlace,n,i);if(o){for(var r=i.length,l=0;l<r;l++)e=e.replace(new RegExp(i[l],"g"),n[l]);return e}return e.replace(/\\(.)/g,(function(t,e){var o=i[n.indexOf(e)];return null!=o&&""!==o?o:t}))},e._getEscapeString=function(t,n){return t.replace(e._getReplaceRegExp(n),"\\$1")},e.getTemplateValueSection=function(t,n,i){var o=" .,:|>\\{}=".split(""),r=e._getEscapeString(t,o);return n=null!=n&&""!==n?":"+e._getEscapeString(n,o):"",e.templateItemStrings[i?0:1].replace(/@/g,r)+n+"}"},e.slicePathArray=function(t){var n=e._split(t,"."),i=[],o=n.length;if(o>0){for(var r=e._getPlaceHolderPairs(t),l=0;l<o;l++){var a=n[l],u=(a=e._replaceStringWithPlaceHolderPairs(a,"[]",r,!1)).split(/^(.*?)\s*\[\s*|\s*\]\s*\[\s*|\s*\]\s*$/);(u=u.filter((function(t){return null!=t&&""!=t}))).length>0?i=i.concat(u):i.push(a)}return i.map((function(t){return e._replaceStringWithPlaceHolderPairs(e._normalize(t),"[]",r,!0)}))}return i},e.templateItemStrings=["{@.name}: {@.value","{@.value"],e}();t._EscapedCharacterStringUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._mergeOptions=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=new t.options._LegendOption(null);i.groupHAlign=t.HAlign.Left,i.groupVAlign=t.VAlign.Top,i.groupOrientation=t.Orientation.Vertical,i.groupPadding=t._PaddingUtility._buildPadding(0,0,0,0);for(var o=0,r=e;o<r.length;o++){var l=r[o];null!=l.left&&(i.left=l.left),null!=l.top&&(i.top=l.top),null!=l.groupHAlign&&(i.groupHAlign=l.groupHAlign),null!=l.groupVAlign&&(i.groupVAlign=l.groupVAlign),null!=l.groupOrientation&&(i.groupOrientation=l.groupOrientation),null!=l.groupPadding&&(i.groupPadding=l.groupPadding)}return i},e._isType=function(n,i){return null!=i&&(t._isSingleLegendDataModel(n)?n._definition._legendType==i:t._isMergedLegendDataModel(n)?n._definitions.some((function(t){return t._legendType==i})):!!t._isCombinedLegendDataModel(n)&&n._legends.some((function(t){return e._isType(t,i)})))},e._typeToKind=function(e){if(e==t.LegendType.Color)return t._LegendKind.PlotColor;if(e==t.LegendType.Shape)return t._LegendKind.PlotShape;if(e==t.LegendType.Size)return t._LegendKind.PlotSize;if(e==t.LegendType.BackgroundColor)return t._LegendKind.BackgroundColor;if(e==t.LegendType.Overlay)return t._LegendKind.OverlayColor;if(e==t.LegendType.Lightness)return t._LegendKind.Lightness;throw new t.RuntimeError(t.ErrorCode.UnexpectedValue)},e._getRelatedSeriesViewColor=function(e){var n=e._legendItemView()._data,i=null;if(t._isItemizedPointLegendItemDataModel(n))for(var o=0,r=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());o<r.length;o++){var l=r[o].parent.queryInterface("ISeriesModel");if(null==l)return null;if(null==i)i=l.color;else if(!this._isColorEquals(i,l.color))return null}return i},e._getRelatedPointViewsColor=function(e){var n=e._legendItemView()._data,i=null;if(t._isItemizedPointLegendItemDataModel(n))for(var o=0,r=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());o<r.length;o++){var l=r[o];if(null==i)i=l._getPointColor();else if(!this._isColorEquals(i,l._getPointColor()))return null}return i},e._getRelatedPointViewsStyle=function(e){var n=e._legendItemView()._data;if(t._isItemizedPointLegendItemDataModel(n)){var i=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());if(i.length>0){for(var o=i[0].style,r=1;r<i.length;++r)if(!this._isStyleEqual(o,i[r].style))return null;return o}}return null},e._getRelatedPointViewsSelectedStyle=function(e){var n=e._legendItemView()._data;if(t._isItemizedPointLegendItemDataModel(n)){var i=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());if(i.length>0){for(var o=i[0].selectedStyle,r=1;r<i.length;++r)if(!this._isSelectionStyleEqual(o,i[r].selectedStyle))return null;return o}}return null},e._getRelatedPointViewsUnselectedStyle=function(e){var n=e._legendItemView()._data;if(t._isItemizedPointLegendItemDataModel(n)){var i=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());if(i.length>0){for(var o=i[0].unselectedStyle,r=1;r<i.length;++r)if(!this._isSelectionStyleEqual(o,i[r].unselectedStyle))return null;return o}}return null},e._getRelatedPointViewsTextStyle=function(e){var n=e._legendItemView()._data;if(t._isItemizedPointLegendItemDataModel(n)){var i=n._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());if(i.length>0){for(var o=i[0].text.textStyle,r=1;r<i.length;++r)if(!this._isTextStyleEqual(o,i[r].text.textStyle))return null;return o}}return null},e._isStyleEqual=function(e,n){return!!(t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.opacity,n.opacity)&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.strokeOpacity,n.strokeOpacity)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.fill,n.fill)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.backgroundColor,n.backgroundColor)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.stroke,n.stroke)&&t._StrokeWidthOptionEqualityComparer._strokeWidthOptionEqualityComparer._equalsWith(e.strokeWidth,n.strokeWidth)&&t._StringEqualityComparer._stringEqualityComparer._equalsWith(e.strokeDasharray,n.strokeDasharray)&&t._StringEqualityComparer._stringEqualityComparer._equalsWith(e.symbolShape,n.symbolShape)&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.symbolOpacity,n.symbolOpacity)&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.symbolStrokeOpacity,n.symbolStrokeOpacity)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.symbolFill,n.symbolFill)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.symbolStroke,n.symbolStroke)&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.symbolStrokeWidth,n.symbolStrokeWidth)&&t._StringEqualityComparer._stringEqualityComparer._equalsWith(e.symbolStrokeDasharray,n.symbolStrokeDasharray)&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.symbolSize,n.symbolSize))},e._isSelectionStyleEqual=function(t,e){return!!this._isStyleEqual(t,e)&&t.adorners==e.adorners},e._isTextStyleEqual=function(e,n){return!!(t._StringEqualityComparer._stringEqualityComparer._equalsWith(e.color,n.color)&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.opacity,n.opacity)&&t._StringEqualityComparer._stringEqualityComparer._equalsWith(e.fontSize,n.fontSize)&&t._StringEqualityComparer._stringEqualityComparer._equalsWith(e.fontFamily,n.fontFamily)&&t._StringEqualityComparer._stringEqualityComparer._equalsWith(e.fontWeight,n.fontWeight)&&e.fontStyle==n.fontStyle&&t._TextDecorationOptionEqualityComparer._textDecorationOptionEqualityComparer._equalsWith(e.textDecoration,n.textDecoration)&&e.overflow==n.overflow&&e.writingMode==n.writingMode&&e.alignment==n.alignment)},e._isColorEquals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equalsWith(e)},e._updateLegendItemSelectedState=function(e){for(var n=0,i=e.legends;n<i.length;n++){var o=i[n];if(t.models._isItemizedLegendModel(o))for(var r=0,l=o.items;r<l.length;r++){for(var a=l[r],u=null,s=0,_=a.relatedModels();s<_.length;s++){var p=_[s];if(p.type==t.ElementType.DataPoint){var c=p;null==u?u=c.selected:1!=u||c.selected||(u=!1)}else if(p.type==t.ElementType.Series){var h=p;null==u?u=h.selected:1!=u||h.selected||(u=!1)}}a.selected=null!=u&&u}}},e}();t._LegendUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildMargin=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=new t.options._MarginOption(null);return null!=e&&(r.left=e),null!=n&&(r.top=n),null!=i&&(r.right=i),null!=o&&(r.bottom=o),r},e}();t._MarginUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildRotateMatrix=function(e,n){void 0===n&&(n=null);var i=new t.Matrix;return i.rotate(e,n),i},e._transformPoint=function(t,e,n){return void 0===n&&(n=null),t.transformPoint(e.x,e.y,n)},e._transformPoints=function(t,n){return n.map((function(n){return e._transformPoint(t,n)}))},e._transformCurve=function(e,n,i){if(n.length!=i.length)throw new t.AssertError(t.ErrorCode.InvalidArgument,n,i);for(var o=new t._Polyline([],[]),r=0,l=n.length;r<l;r++){var a=e.transformPoint(n[r],i[r]);o._xs.push(a.x),o._ys.push(a.y)}return o},e._transformCoordinatePoint=function(t,e,n,i){null==i&&(i=[]);var o=t.transformPoint(e,n);return null==i||i.length<2?((i=new Array).push(o.x),i.push(o.y)):(i[0]=o.x,i[1]=o.y),i},e._scaleAt=function(e,n,i,o){void 0===o&&(o=null);var r=[n,0,0,i,(null==o?0:o.x)*(1-n),(null==o?0:o.y)*(1-i)];e.transform(new t.Matrix(r))},e._translatePrepend=function(e,n,i){var o=new t.Matrix([1,0,0,1,n,i]);o.transform(e),e.reset(),e.transform(o)},e}();t._MatrixUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._toStringColorFromString=function(e){return"none"===(e=e.trim())?"none":t._ColorUtility._toStringColor(e)},e._isDataEqualsConfigData=function(e,n){return null!=e&&t._DataValueTypeExtension._isDate(e)&&t._DataValueTypeExtension._isString(n)&&(n=t._DataValueTypeExtension._toDataValueType(t._DateStringParser._dateStringParser._parseDate(t._DataValueTypeExtension._toString(n)))),t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer._equalsWith(e,n)},e._applyTextStyleOption=function(e,n){null!=n&&(null!=n.fontFamily&&(e.fontFamily=n.fontFamily),null!=n.fontSize&&(e.fontSize=n.fontSize),null!=n.fontWeight&&(e.fontWeight=n.fontWeight),null!=n.fontStyle&&(e.fontStyle=t._NativeExtension._toNonNullEnum(n.fontStyle,t.FontStyle.Normal)),null!=n.opacity&&(e.textOpacity=n.opacity),null!=n.color&&(e.textFill=n.color),null!=n.textDecoration&&(null!=n.textDecoration.overline&&(e.textOverline=n.textDecoration.overline),null!=n.textDecoration.lineThrough&&(e.textLineThrough=n.textDecoration.lineThrough),null!=n.textDecoration.underline&&(e.textUnderline=n.textDecoration.underline)),null!=n.writingMode&&(e.textWritingMode=n.writingMode))},e._applyLineStyleOption=function(t,n){null!=n&&(null!=n.strokeOpacity&&(t.strokeOpacity=n.strokeOpacity),null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyDataPointStyleOption=function(t,n){null!=n&&(null!=n.fill&&(t.fill=e._colorFromOption(n.fill)),null!=n.opacity&&(t.fillOpacity=n.opacity),null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeOpacity&&(t.strokeOpacity=n.strokeOpacity),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth.top),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyDataPointSymbolStyleOption=function(t,n){null!=n&&(null!=n.symbolFill&&(t.fill=e._colorFromOption(n.symbolFill)),null!=n.symbolOpacity&&(t.fillOpacity=n.symbolOpacity),null!=n.symbolStroke&&(t.stroke=e._colorFromOption(n.symbolStroke)),null!=n.symbolStrokeOpacity&&(t.strokeOpacity=n.symbolStrokeOpacity),null!=n.symbolStrokeWidth&&(t.strokeWidth=n.symbolStrokeWidth),null!=n.symbolStrokeDasharray&&(t.strokeDasharray=n.symbolStrokeDasharray))},e._applyOverlayStyleOption=function(t,n){null!=n&&(null!=n.fill&&(t.fill=e._colorFromOption(n.fill)),null!=n.opacity&&(t.fillOpacity=n.opacity),null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeOpacity&&(t.strokeOpacity=n.strokeOpacity),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyTrackAreaStyleOption=function(t,n){null!=n&&(t.fillOpacity=n.opacity,t.fill=e._colorFromOption(n.fill))},e._applyTrackLineStyleOption=function(t,n){null!=n&&(t.strokeOpacity=n.opacity,t.stroke=e._colorFromOption(n.stroke),t.strokeWidth=n.strokeWidth,null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyStyleOption=function(t,n){null!=n&&(null!=n.fill&&(t.fill=e._colorFromOption(n.fill)),null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyDataLabelStyleFromStyleOption=function(t,n){null!=n&&(null!=n.backgroundColor&&(t.fill=e._colorFromOption(n.backgroundColor)),null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyLineStyleFromStyleOption=function(t,n){null!=n&&(null!=n.stroke&&(t.stroke=e._colorFromOption(n.stroke)),null!=n.strokeWidth&&(t.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(t.strokeDasharray=n.strokeDasharray))},e._applyInnerLineStyleFromPlotAreaStyleOption=function(t,n){null!=n&&(null!=n.innerStroke&&(t.stroke=e._colorFromOption(n.innerStroke)),null!=n.innerStrokeWidth&&(t.strokeWidth=n.innerStrokeWidth),null!=n.innerStrokeDasharray&&(t.strokeDasharray=n.innerStrokeDasharray))},e._applyStrokeOption=function(t,n){null!=n&&(t.stroke=e._colorFromOption(n))},e._applyFillOption=function(t,n){null!=n&&(t.fill=e._colorFromOption(n))},e._colorFromOption=function(n){return t.options._isPatternOption(n)?e._patternColorFromOption(n):t.options._isCssColorOption(n)?e._cssColorFromOption(n):t.options._isLinearGradientOption(n)?e._linearGradientColorFromOption(n):t.options._isRadialGradientOption(n)?e._RadialGradientColorFromOption(n):null},e._createStyleFromOption=function(n){var i=t._StyleUtility._buildStyle();return null==n?null:(null!=n.fill&&(i.fill=e._colorFromOption(n.fill)),null!=n.stroke&&(i.stroke=e._colorFromOption(n.stroke)),null!=n.strokeWidth&&(i.strokeWidth=n.strokeWidth),i)},e._areDataPointStyleOptionLineStyleEquals=function(e,n){return null==e&&null==n||(null!=e&&null==n?null==e.stroke&&null==e.strokeDasharray&&null==e.strokeWidth&&null==e.strokeDasharray:null==e&&null!=n?null==n.stroke&&null==n.strokeDasharray&&null==n.strokeWidth&&null==n.strokeDasharray:!!t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.stroke,n.stroke)&&e.strokeOpacity==n.strokeOpacity&&(null==e.strokeWidth?null:e.strokeWidth.top)==(null==n.strokeWidth?null:n.strokeWidth.top)&&e.strokeDasharray==n.strokeDasharray)},e._cssColorFromOption=function(e){return null==e.color?null:new t._CssColor(e.color)},e._linearGradientColorFromOption=function(e){return new t._LinearGradientColor(e.angle,this._colorStopsFromOptions(e.colorStops))},e._RadialGradientColorFromOption=function(n){var i=n,o=e._getCenter(i.position),r=e._calcRadius(i.extentKeyword,o);return new t._RadialGradientColor(o,r,o,r,this._colorStopsFromOptions(i.colorStops))},e._getCenter=function(e){var n=new t.core.Point(.5,.5);if(null==e||e.length<=0)return n;switch(e[0].keyword){case t.GradientPositionKeyword.Left:n.x=e[0].offset;break;case t.GradientPositionKeyword.Right:n.x=1-e[0].offset}switch(e[1].keyword){case t.GradientPositionKeyword.Top:n.y=e[1].offset;break;case t.GradientPositionKeyword.Bottom:n.y=1-e[1].offset}return n},e._calcRadius=function(e,n){var i=Math.min(n.x,1-n.x),o=Math.min(n.y,1-n.y);switch(e){case t.GradientExtentKeyword.ClosestSide:return Math.min(i,o);case t.GradientExtentKeyword.ClosestCorner:return Math.sqrt(i*i+o*o);case t.GradientExtentKeyword.FarthestSide:return Math.max(1-i,1-o);case t.GradientExtentKeyword.FarthestCorner:return Math.sqrt((1-i)*(1-i)+(1-o)*(1-o));default:return.5}},e._patternColorFromOption=function(n){for(var i=e._colorFromOption(n.color),o=[],r=0,l=n.pattern;r<l.length;r++){var a=l[r],u=null;u=null==a.style?t._StyleUtility._buildFillStyle(null,"#666666"):e._createStyleFromOption(a.style);var s=a.content.split(":");null!=s&&2==s.length&&"path"==s[0]?o.push(new t._PathWithStyle(u,s[1])):o.push(new t._PathWithStyle(u,a.content))}return new t._PatternColor(i,o)},e._colorStopsFromOptions=function(n){for(var i=0,o=0,r=0,l=0,a=n.length,u=[],s=0;s<n.length;s++){var _=n[s];null==_.stop?(0==s&&(o=s,i=0),s==a-1&&(r=1,(l=s)>o&&(u.push.apply(u,e._calculateGradientStops(n,i,o,r,l)),o=l,i=r))):(0==s&&(o=s,i=_.stop),l=s,r=_.stop,l>o&&(u.push.apply(u,e._calculateGradientStops(n,i,o,r,l)),o=l,i=r))}return u.push(new t._ColorStop(n[l].color,r)),u},e._calculateGradientStops=function(e,n,i,o,r){if(i>=r)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,n,i,o,r);for(var l=(o-n)/(r-i),a=[],u=i;u<r;u++){var s=e[u];a.push(new t._ColorStop(s.color,n+(u-i)*l))}return a},e}();t._OptionUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildPadding=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=new t.options._PaddingOption(null);return null!=e&&(r.left=t.options._ValueOptionExtension._pixelValueOption(e)),null!=n&&(r.top=t.options._ValueOptionExtension._pixelValueOption(n)),null!=i&&(r.right=t.options._ValueOptionExtension._pixelValueOption(i)),null!=o&&(r.bottom=t.options._ValueOptionExtension._pixelValueOption(o)),r},e}();t._PaddingUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildRectangleWithBorderRadius=function(e,n,i,o,r){if(null==r||0==i||0==o)return null;if(t.shapes._BorderRadiusExtension._isValueEmpty(r.horizontalRadius)&&t.shapes._BorderRadiusExtension._isValueEmpty(r.verticalRadius))return null;var l=t.shapes._BorderRadiusExtension._ratioOfConvertPercentageToPixel(r,i,o),a=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.topLeft,i,l),u=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.topLeft,o,l),s=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.topRight,i,l),_=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.topRight,o,l),p=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.bottomRight,i,l),c=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.bottomRight,o,l),h=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.bottomLeft,i,l),f=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.bottomLeft,o,l),d=t._PathCommandBuilder._defaultPathCommandBuilder,y=[];return y.push(d._buildMoveToPathCommand(e+a,n)),y.push(d._buildLineToPathCommand(e+i-s,n)),y.push(d._buildQuadraticCurveToPathCommand(e+i,n,e+i,n+_)),y.push(d._buildLineToPathCommand(e+i,n+o-c)),y.push(d._buildQuadraticCurveToPathCommand(e+i,n+o,e+i-p,n+o)),y.push(d._buildLineToPathCommand(e+h,n+o)),y.push(d._buildQuadraticCurveToPathCommand(e,n+o,e,n+o-f)),y.push(d._buildLineToPathCommand(e,n+u)),y.push(d._buildQuadraticCurveToPathCommand(e,n,e+a,n)),y.push(d._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(y)},e._buildDonutSegmentWithBorderRadius=function(e,n,i,o,r,l,a){var u=.5*(i+o),s=u*l,_=i-o;if(null==a||0==_||0==s)return null;if(t.shapes._BorderRadiusExtension._isValueEmpty(a.horizontalRadius)&&t.shapes._BorderRadiusExtension._isValueEmpty(a.verticalRadius))return null;var p=t.shapes._BorderRadiusExtension._ratioOfConvertPercentageToPixel(a,_,s),c=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.topLeft,_,p),h=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.topLeft,s,p),f=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.topRight,_,p),d=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.topRight,s,p),y=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.bottomRight,_,p),g=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.bottomRight,s,p),m=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.bottomLeft,_,p),v=r+l,w=r+(s-h)/u,b=r+(s-d)/u,P=r+t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.bottomLeft,s,p)/u,S=r+g/u,C=t._PathCommandBuilder._defaultPathCommandBuilder,V=[],x=new t.core.Point(e,n);x.x+=(i-c)*Math.cos(v),x.y+=(i-c)*Math.sin(v),V.push(C._buildMoveToPathCommand(x.x,x.y));var D=new t.core.Point(e,n);D.x+=(o+f)*Math.cos(v),D.y+=(o+f)*Math.sin(v),V.push(C._buildLineToPathCommand(D.x,D.y));var O=new t.core.Point(e,n);O.x+=o*Math.cos(v),O.y+=o*Math.sin(v);var A=new t.core.Point(e,n);A.x+=o*Math.cos(b),A.y+=o*Math.sin(b),V.push(C._buildQuadraticCurveToPathCommand(O.x,O.y,A.x,A.y));var L=new t.core.Point(e,n);L.x+=o*Math.cos(S),L.y+=o*Math.sin(S);var T=o;if(0!==T){var M=S-b,E=M<0?1:0;V.push(C._buildCanvasArcToPathCommand(T,T,0,e,n,b,M,E))}var I=new t.core.Point(e,n);I.x+=o*Math.cos(r),I.y+=o*Math.sin(r);var B=new t.core.Point(e,n);B.x+=(o+y)*Math.cos(r),B.y+=(o+y)*Math.sin(r),V.push(C._buildQuadraticCurveToPathCommand(I.x,I.y,B.x,B.y));var R=new t.core.Point(e,n);R.x+=(i-m)*Math.cos(r),R.y+=(i-m)*Math.sin(r),V.push(C._buildLineToPathCommand(R.x,R.y));var k=new t.core.Point(e,n);k.x+=i*Math.cos(r),k.y+=i*Math.sin(r);var N=new t.core.Point(e,n);N.x+=i*Math.cos(P),N.y+=i*Math.sin(P),V.push(C._buildQuadraticCurveToPathCommand(k.x,k.y,N.x,N.y));var F=new t.core.Point(e,n);F.x+=i*Math.cos(w),F.y+=i*Math.sin(w);var U=i;if(0!==U){var z=w-P;E=z<0?1:0,V.push(C._buildCanvasArcToPathCommand(U,U,0,e,n,P,z,E))}var j=new t.core.Point(e,n);return j.x+=i*Math.cos(v),j.y+=i*Math.sin(v),V.push(C._buildQuadraticCurveToPathCommand(j.x,j.y,x.x,x.y)),V.push(C._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(V)},e._buildRectangleShape=function(e){var n=e.center.x-e.size.width/2,i=e.center.y-e.size.height/2,o=e.size.width,r=e.size.height,l=t._PathCommandBuilder._defaultPathCommandBuilder,a=[];return a.push(l._buildMoveToPathCommand(n,i)),a.push(l._buildLineToPathCommand(n+o,i)),a.push(l._buildLineToPathCommand(n+o,i+r)),a.push(l._buildLineToPathCommand(n,i+r)),a.push(l._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(a)},e._buildLineShapes=function(e){for(var n=t._PathCommandBuilder._defaultPathCommandBuilder,i=[],o=0,r=e;o<r.length;o++){for(var l=r[o].points,a=0;a<l.length;a++){var u=l[a];0==a?i.push(n._buildMoveToPathCommand(u.x,u.y)):i.push(n._buildLineToPathCommand(u.x,u.y))}l.length>0&&i.push(n._buildClosePathCommand())}return t._PathBuilder._defaultPathBuilder._buildPath(i)},e._buildPolygonShape=function(e){for(var n=t._PathCommandBuilder._defaultPathCommandBuilder,i=[],o=e.points,r=0;r<o.length;r++){var l=o[r];0==r?i.push(n._buildMoveToPathCommand(l.x,l.y)):i.push(n._buildLineToPathCommand(l.x,l.y))}return o.length>0&&i.push(n._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(i)},e._buildArcShape=function(e){return e.xRadius==e.yRadius?t._PathBuilder._defaultPathBuilder._buildArc(e.center.x,e.center.y,e.xRadius,e.startAngle,e.sweepAngle):t._PathBuilder._defaultPathBuilder._buildPath()},e._createPtsFromPath=function(e,n,i){for(var o=[],r=[],l=e.commands,a=this._calcPathCommandsSizes(l,n,i),u=0,s=0,_=0,p=0,c=0;c<l.length;c++){var h=l[c],f=a[c];if(t._isMoveToPathCommand(h)){var d=h;u=_=g=d.x,s=p=m=d.y}else if(t._isLineToPathCommand(h)){var y=h,g=y.x,m=y.y,v=new t._LinearCurveLerp(u,g),w=new t._LinearCurveLerp(s,m);o.push.apply(o,t._CurveLerp._lerpBy(v,f)),r.push.apply(r,t._CurveLerp._lerpBy(w,f)),u=g,s=m}else if(t._isCurveToPathCommand(h)){var b=h,P=b.cpx1,S=b.cpy1,C=b.cpx2,V=b.cpy2;g=b.x,m=b.y,v=new t._CubicBezierCurveLerp(u,P,C,g),w=new t._CubicBezierCurveLerp(s,S,V,m),o.push.apply(o,t._CurveLerp._lerpBy(v,f)),r.push.apply(r,t._CurveLerp._lerpBy(w,f)),u=g,s=m}else if(t._isQuadraticCurveToPathCommand(h)){var x=h,D=x.cpx,O=x.cpy;g=x.x,m=x.y,v=new t._QuadBezierCurveLerp(u,D,g),w=new t._QuadBezierCurveLerp(s,O,m),o.push.apply(o,t._CurveLerp._lerpBy(v,f)),r.push.apply(r,t._CurveLerp._lerpBy(w,f)),u=g,s=m}else if(t._isArcPathCommand(h)){var A=t._PathCommandUtility._toCanvasArcPathCommand(h,u,s),L=A.cx,T=A.cy,M=A.rx,E=A.ry,I=A.counterclockwise,B=A.startAngle,R=B+A.sweepAngle,k=[],N=[];this._calcArcPathCommandPts(f,k,N,L,T,M,E,B,R,I),o=o.concat(k),r=r.concat(N),u=t._PathCommandUtility._getCommandEndPointXCoordinate(h),s=t._PathCommandUtility._getCommandEndPointYCoordinate(h)}else if(t._isClosePathCommand(h)){u=_,s=p;continue}}return new t._Polyline(o,r)},e._calcPathCommandsSizes=function(e,n,i){var o=this._calcPathCommandsWeights(e,i);return t._CurveLerp._getAppropriateLerpSizes(n,o)},e._calcPathCommandsWeights=function(e,n){for(var i=[],o=e.length,r=0,l=0,a=0,u=0,s=0;s<o;s++){var _=e[s],p=n._get(_.type);if(t._isMoveToPathCommand(_)){var c=_,h=c.x,f=c.y;i.push(0),r=a=h,l=u=f}else if(t._isLineToPathCommand(_)){var d=_,y=(h=d.x,f=d.y,Math.pow(h-r,2)+Math.pow(f-l,2));i.push(y*p),r=h,l=f}else if(t._isCurveToPathCommand(_)){var g=_;h=g.x,f=g.y,y=Math.pow(h-r,2)+Math.pow(f-l,2),i.push(y*p),r=h,l=f}else if(t._isQuadraticCurveToPathCommand(_)){var m=_;h=m.x,f=m.y,y=Math.pow(h-r,2)+Math.pow(f-l,2),i.push(y*p),r=h,l=f}else if(t._isSvgArcPathCommand(_))h=(v=_).x,f=v.y,y=Math.pow(h-r,2)+Math.pow(f-l,2),i.push(y*p),r=h,l=f;else if(t._isCanvasArcPathCommand(_)){var v,w=(v=_).cx,b=v.cy,P=v.rx,S=v.ry,C=v.startAngle+v.sweepAngle;h=w+P*Math.cos(C),f=b+S*Math.sin(C),y=Math.pow(h-r,2)+Math.pow(f-l,2),i.push(y*p),r=h,l=f}else if(t._isClosePathCommand(_)){i.push(0),r=a,l=u;continue}}return i},e._calcArcPathCommandPts=function(t,e,n,i,o,r,l,a,u,s){if(!(t<1)){t-=1;var _=0==s?a:u,p=0==s?u:a,c=Math.abs(p-_)/(t/2);if(0!=c)for(;_+c==_;)c*=10;for(var h=_;h<p&&!(Math.abs(h-p)<1e-10);h+=c){var f=Math.cos(h)*r+i,d=Math.sin(h)*l+o;e.push(f),n.push(d)}var y=i+r*Math.cos(p),g=o+l*Math.sin(p);e.push(y),n.push(g),1==s&&e.length>1&&n.length>1&&(e.reverse(),n.reverse())}},e}();t._PathUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildStrokeWidth=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=new t.options._StrokeWidthOption(null);return null!=e&&(r.left=e),null!=n&&(r.top=n),null!=i&&(r.right=i),null!=o&&(r.bottom=o),r},e}();t._StrokeWidthUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._findPlotAreaView=function(e){if(null==e)return null;var n=t._PlotAreaViewModelUtility._toPlotAreaView(e);return null==n?this._findPlotAreaView(e.parent):n},e._plotsPanelModel=function(e){for(;null!=e;){if(e.type==t.ElementType.PlotsPane)return e;e=e.parent}return null},e._plotAreaModel=function(e){for(;null!=e;){if(e.type==t.ElementType.PlotArea)return e;e=e.parent}return null},e._dvModel=function(e){for(;null!=e;){if(e.type==t.ElementType.Control)return e;e=e.parent}return null},e._legendItemModel=function(t){if(null!=t){var e=t.queryInterface("ILegendItemModel");return null!=e?e:this._legendItemModel(t.parent)}return null},e._legendItemView=function(t){var n=e._legendItemModel(t);return null==n?null:n},e}();t._ViewModelUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._coordinateSystemZoomView=function(e){if(null==e)return null;var n=t._ViewModelUtility._findPlotAreaView(e);if(null!=n)for(var i=0,o=n._getPlotViews();i<o.length;i++){var r=o[i],l=r._getLayoutView()._coordinateSystemView(r._getDefinition().coordinateSystemDefinition);if(null!=l&&t._isZoomableView(l))return l}return null},e._isZoomEnabled=function(t){if(null==t)return!1;var n=e._zoomConfig(t);if(null!=n){if(n.enableMouseDoubleClick||n.enableMouseWheel)return!0;var i=n.zoomButtons;if(null!=i&&i.showButtons&&(i.showZoomInButton||i.showZoomOutButton))return!0}return!1},e._showZoomButton=function(t){if(null==t)return!1;var n=e._zoomConfig(t);if(null!=n){var i=n.zoomButtons;if(null!=i&&i.showButtons&&(i.showZoomInButton||i.showZoomOutButton))return!0}return!1},e._zoomConfig=function(e){if(null==e)return null;var n=t._PlotViewModelUtility._toPlotView(e);if(null!=n&&null!=(p=n._getDefinition()._plotOption.config.zoom))return p;var i=t._ViewModelUtility._plotsPanelModel(e);if(null!=i)for(var o=0,r=i.plots;o<r.length;o++)if(null!=(p=r[o].option.config.zoom))return p;var l=t._ViewModelUtility._plotAreaModel(e);if(null!=l)for(var a=0,u=l.plotsPanes;a<u.length;a++)for(var s=0,_=u[a].plots;s<_.length;s++){var p;if(null!=(p=_[s].option.config.zoom))return p}return null},e}();t._ZoomInteractionUtility=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._layoutData=function(){for(var t=0,e=this._getLayoutViews();t<e.length;t++)e[t]._layoutData()},e.prototype._createLayoutView=function(t,e){return null!=e._layoutViewBuilderCallback?e._layoutViewBuilderCallback(t,e):null},e.prototype._getLayoutViews=function(){return null==this.__layoutViews&&(this.__layoutViews=this._createLayoutViews()),this.__layoutViews},e.prototype.dispose=function(){if(null!=this.__layoutViews)for(var t=0,e=this.__layoutViews;t<e.length;t++)e[t].dispose()},e}(t._RectangleView);t._BaseLayoutListView=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n,i,o,r){this._dvConfigOption=e.config,this._plotOptions=e.plots,this._pluginCollection=i,this.__dataSources=n,this._dvViewBuilderCallback=r;var l=null!=o?o:t._ImageInfoBuilder._imageInfoBuilder;this._asyncResourcePool=this._createAsyncResourcePool(),this._imageProvider=this._createImageProvider(l,this._asyncResourcePool),this._symbolDefinitionProvider=this._createSymbolDefinitionProvider(i),this._paletteColorProvider=this._createPaletteColorProvider(this._dvConfigOption.palette),this._valueColorProvider=this._createValueColorProvider(this._dvConfigOption.palette)}return e.prototype._createImageProvider=function(e,n){return new t._ImageProvider(e,n)},e.prototype._createAsyncResourcePool=function(){return new t._BuildInAsyncResourcePool},e.prototype._createSymbolDefinitionProvider=function(e){var n=t._BuildinSymbolDefinitionBuilderCollection._defaultBuildinSymbolDefinitionBuilders()._symbolDefinitions([],e);return new t.SymbolDefinitionProvider(this._dvConfigOption.shapes,n,this._imageProvider)},e.prototype._createPaletteColorProvider=function(e){return new t._PaletteColorProvider(e)},e.prototype._createValueColorProvider=function(e){return new t._ValueColorProvider(null,e)},e.prototype._findDataSchema=function(t){return this.__dataSources._dataSource(t)._schema},e}();t._BaseDvDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n,o,r,l){return e.call(this,t,n,o,r,null!=l?l:i.__defaultViewBuilderCallback)||this}return n(i,e),i.prototype._createView=function(){return this._dvViewBuilderCallback(this)},i.__defaultViewBuilderCallback=function(e){return new t._DvView(e,null,null)},i}(t._BaseDvDefinition);t._DefaultDvDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInDvDefinitionBuilders=function(){return null==i.__buildInDvDefinitionBuilders&&(i.__buildInDvDefinitionBuilders=new i([],i._pluginType)),i.__buildInDvDefinitionBuilders},i.prototype._convert=function(e){return t._isDvDefinitionBuilder(e)?e:null},i.prototype._dvDefinition=function(t,e,n,i,o){for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item._buildDvDefinition(t,e,o,n);if(null!=a)return a}return null},i._pluginType="Dv",i}(t._BuildInObjectCollection);t._BuildInDvDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isDvDefinitionBuilder=function(t){return"function"==typeof t._buildDvDefinition}}(t||(t={})),function(t){var e=function(){function t(){}return t._toDvModel=function(t){return null!=t.queryInterface("IDvModel")?t:null},t._toDvView=function(t){return null!=t.queryInterface("IDvView")?t:null},t}();t._DvViewModelUtility=e}(t||(t={})),function(t){!function(t){t._isDvModel=function(t){var e=t;return void 0!==e.option&&null!=e.plotAreas}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(e,n,i){this._transform=null,this._visible=!0,this._zLevel=0,this._zIndex=0,this.__rectangle=t.core.Rect.ReadOnlyRect,this._definition=e,this._headerView=this._createHeaderView(this._definition._dvConfigOption,n),this._footerView=this._createFooterView(this._definition._dvConfigOption,i),this._plotAreaViews=this._createPlotAreaViews(this._definition._dvConfigOption.plotAreas,this._definition._plotOptions)}return e.prototype._getDefaultStyle=function(){return null==this.__cachedDefaultStyle&&(this.__cachedDefaultStyle=t._StyleUtility._buildStyle(),this.__cachedDefaultStyle.fill=new t._CssColor("none"),this.__cachedDefaultStyle.stroke=new t._CssColor("#666666"),this.__cachedDefaultStyle.strokeWidth=0,this.__cachedDefaultStyle.fontFamily=null,this.__cachedDefaultStyle.fontSize="14",this.__cachedDefaultStyle.textFill="#666666"),this.__cachedDefaultStyle},e.prototype._layoutData=function(){for(var t=0,e=this._plotAreaViews;t<e.length;t++)e[t]._layoutData()},e.prototype._updateRectangle=function(t){this.__rectangle=t.clone()},e.prototype._paddings=function(){return this._definition._dvConfigOption.padding},e.prototype._layoutContent=function(t,e,n){t.beginTransform(),this._applyBorderStyle(t);var i=this._calculateInnerRectangle(t,this._getRectangle());t.restoreTransform(),this._layoutInnerContent(t,i,n)},e.prototype._drawView=function(e,n){e.beginTransform(),this._applyBorderStyle(e),this._applyBackgroundStyle(e);var i=this._getRectangle().clone();if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;this._zLevel==n._currentZLevel&&e.drawRect(i.left+o/2,i.top+o/2,i.width-o,i.height-o),i.inflate(-o,-o)}e.restoreTransform();var r=this._paddings();null!=r&&(i=new t.core.Rect(i.left+r.left.value,i.top+r.top.value,i.width-r.left.value-r.right.value,i.height-r.top.value-r.bottom.value)),this._renderInnerContent(e,i,n)},e.prototype._layoutInnerContent=function(e,n,i){i._headerLabels=[],i._footerLabels=[],e.beginTransform(),this._applyStyle(e),(n=n.clone()).width<0&&(n.width=0),n.height<0&&(n.height=0);var o=n.clone(),r=this._headerView;if(null!=r){var l=r._measure(e,new t.core.Size(n.width,n.height)),a=new t.core.Rect(o.left+(o.width-l._size.width)/2,o.top,l._size.width,l._size.height);r._layout(e,i,a),o.top+=a.height,o.height-=a.height}var u=this._footerView;if(null!=u){var s=o.clone(),_=u._measure(e,new t.core.Size(n.width,n.height)),p=this._definition._dvConfigOption.footer.width,c=s.width;null!=p&&(p.type==t.ValueOptionType.Enum?t._NativeExtension._equalWithEnum(p.value,t.HeaderFooterWidthOptionType.Auto)&&(c=_._size.width):p.type==t.ValueOptionType.Pixel?c=p.value:p.type==t.ValueOptionType.Percentage&&(c=p.value*s.width)),c<s.width&&(s.left+=(s.width-c)/2,s.width=c);var h=this._definition._dvConfigOption.footer.height,f=this._definition._dvConfigOption.footer.maxHeight;if(null!=f){var d=Number.MAX_VALUE;f.type==t.ValueOptionType.Percentage?d=f.value*n.height:f.type===t.ValueOptionType.Pixel&&(d=f.value),_._size.height>d&&(_._size.height=d)}else null!=h&&(h.type==t.ValueOptionType.Percentage?_._size.height=h.value*n.height:h.type===t.ValueOptionType.Pixel&&(_._size.height=h.value));_._size.height>o.height&&(_._size.height=o.height),u._layout(e,i,new t.core.Rect(s.left,o.bottom-_._size.height,s.width,_._size.height)),o.height-=_._size.height}new t._PlotAreaLayout(this._definition._dvConfigOption.plotAreaLayout)._analyse(this._plotAreaViews,o);for(var y=0,g=this._plotAreaViews;y<g.length;y++){var m=g[y];m._layout(e,i,m._getRectangle())}e.restoreTransform(),i._footerLabels=[],i._headerLabels=[]},e.prototype._renderInnerContent=function(t,e,n){n._headerLabels=[],n._footerLabels=[],t.beginTransform(),this._applyStyle(t);var i=this._headerView;null!=i&&i._render(t,n);var o=this._footerView;null!=o&&o._render(t,n);for(var r=0,l=this._plotAreaViews;r<l.length;r++)l[r]._render(t,n);t.restoreTransform(),n._footerLabels=[],n._headerLabels=[],null!=this.__widgetLayer&&this.__widgetLayer.render(t)},e.prototype._applyStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._getDefaultStyle());t._StyleUtility._applyAllStyle(e,n),t._OptionUtility._applyStyleOption(e,this._definition._dvConfigOption.style),t._OptionUtility._applyTextStyleOption(e,this._definition._dvConfigOption.textStyle)},e.prototype._applyBorderStyle=function(e){t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._OptionUtility._applyLineStyleFromStyleOption(e,this._definition._dvConfigOption.style),t._OptionUtility._applyLineStyleOption(e,this._definition._dvConfigOption.borderStyle)},e.prototype._applyBackgroundStyle=function(e){t._StyleUtility._applyFill(e,t._CssColor._none()),t._OptionUtility._applyFillOption(e,this._definition._dvConfigOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,this._definition._dvConfigOption.backgroundColor)},e.prototype._calculateInnerRectangle=function(e,n){var i=n.clone();if(null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;i.inflate(-o,-o)}var r=this._paddings();return null!=r&&(i=new t.core.Rect(i.left+r.left.value,i.top+r.top.value,i.width-r.left.value-r.right.value,i.height-r.top.value-r.bottom.value)),i},e.prototype._createHeaderView=function(e,n){return null!=e.header&&null!=e.header.title&&e.header.title.length>0?null!=n?n(this,e.header):new t._HeaderView(this,e.header):null},e.prototype._createFooterView=function(e,n){return null!=e.footer&&null!=e.footer.title&&e.footer.title.length>0?null!=n?n(this,e.footer):new t._FooterView(this,e.footer):null},e.prototype._createPlotAreaViews=function(e,n){var i=[];if(null!=e&&e.length>0)for(var o=0,r=e;o<r.length;o++){var l=r[o];null!=(u=this._createPlotAreaView(this._createPlotAreaDefinition(l,n)))&&i.push(u)}else for(var a=0;a<n.length;a++){var u;(l=new t.options._PlotAreaOption(null)).row=a,l.column=0,null!=(u=this._createPlotAreaView(this._createPlotAreaDefinition(l,[n[a]])))&&i.push(u)}return i},e.prototype._createPlotAreaView=function(t){return(0,t._plotAreaViewBuilderCallback)(this,t)},e.prototype._createPlotAreaDefinition=function(e,n){return t._BuildInPlotAreaDefinitionBuilderCollection._buildInPlotAreaDefinitionBuilders()._plotAreaDefinition(this._definition,e,n,this._definition._dvConfigOption.plugins,this._definition._pluginCollection)},e.prototype._getDefinition=function(){return this._definition},e.prototype._getPlotAreaViews=function(){return this._plotAreaViews},e.prototype._indexOfPlotAreaView=function(t){return this._plotAreaViews.indexOf(t)},e.prototype._traversePlotAreaView=function(t,e){for(var n=0,i=this._plotAreaViews;n<i.length;n++)t(i[n],e)},e.prototype._traversePlotView=function(t,e){this._traversePlotAreaView((function(e,n){for(var i=0,o=e._getLayoutViews();i<o.length;i++)for(var r=0,l=o[i]._findAllPlotViews();r<l.length;r++){var a=l[r];t(a,n)}}),e)},e.prototype._loadDataSources=function(t){for(var e=0,n=this._plotAreaViews;e<n.length;e++)n[e]._loadDataSources(t)},e.prototype._query=function(t){for(var e=[],n=0,i=this._plotAreaViews;n<i.length;n++)for(var o=0,r=i[n]._getPlotViews();o<r.length;o++){var l=r[o];e=e.concat(l._query(t))}return e},e.prototype._select=function(e,n){void 0===n&&(n=null);for(var i=0,o=this.plotAreas;i<o.length;i++)for(var r=0,l=(f=o[i]).plotsPanes;r<l.length;r++)for(var a=0,u=l[r].plots;a<u.length;a++)for(var s=0,_=u[a].points;s<_.length;s++){var p=_[s];p.selected=e.indexOf(p)>=0,p.additionalKind=n}for(var c=0,h=this.plotAreas;c<h.length;c++){var f=h[c];t._LegendUtility._updateLegendItemSelectedState(f)}},e.prototype._getRectangle=function(){return this.__rectangle},e.prototype._layout=function(t,e,n){this._updateRectangle(n),this._layoutContent(t,n,e)},e.prototype._render=function(t,e){var n=this,i=this._getRectangle();i.width<=0||i.height<=0||this._isVisible()&&t.drawGroup(null,null,this._transform,(function(t){n._drawView(t,e)}))},e.prototype._hitTest=function(e,n,i){var o=null,r=this._getRectangle();if(null==r||this._zLevel==n&&!r.contains(e))return null;for(var l=0,a=this._plotAreaViews.concat().reverse();l<a.length;l++)if(null!=(o=a[l]._hitTest(e,n,i)))return o;var u=this._footerView;if(null!=u&&null!=(o=u._hitTest(e,n,i)))return o;var s=this._headerView;return null!=s&&null!=(o=s._hitTest(e,n,i))?o:this._zLevel==n?(o=new t.HitTestResult(e,this,this,t.ElementType.Control),null==i||null!=i&&i.predicate(o)?o:null):null},e.prototype._widgetLayer=function(){return null==this.__widgetLayer&&(this.__widgetLayer=new t.models._WidgetLayer),this.__widgetLayer},e.prototype._getOwnerView=function(){return null},e.prototype._isVisible=function(){return this._visible},e.prototype.dispose=function(){for(var t=0,e=this._plotAreaViews;t<e.length;t++)e[t].dispose()},Object.defineProperty(e.prototype,"type",{get:function(){return t.ElementType.Control},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"option",{get:function(){return this._definition._dvConfigOption},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return null!=this._headerView&&t.models._isHeaderFooterModel(this._headerView)?this._headerView:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){return null!=this._footerView&&t.models._isHeaderFooterModel(this._footerView)?this._footerView:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"plotAreas",{get:function(){return this._plotAreaViews.map((function(e){return t.models._isPlotAreaModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!1,configurable:!0}),e.prototype.queryInterface=function(t){return"IModel"==t||"IViewModel"==t||"IDvModel"==t||"IDvView"==t?this:null},e}();t._DvView=e}(t||(t={})),function(t){var e=function(){function t(){}return t._control=function(t){var e=t.queryInterface("IControlAsOwnerModel");return null==e?null:e._control},t._domManager=function(t){var e=t.queryInterface("IControlAsOwnerModel");return null==e?null:e._domElementManager},t._elementEventHandlerProxy=function(t){var e=t.queryInterface("IControlAsOwnerModel");return null==e?null:e._elementEventHandlerProxy},t._elementProxy=function(t){var e=t.queryInterface("IControlAsOwnerModel");return null==e?null:e._hostElementProxy},t._render=function(t){var e=this._control(t);if(null==e)return null;var n=e._graphicsRender();return null!=n?n.defaultSurfaceRender()._render():null},t}();t._DvViewUtility=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l){var a=e.call(this,o,r,l)||this;return a.__control=n,a.__domElementProxy=new t._DomElementProxy(n.hostElement,i),a}return n(i,e),Object.defineProperty(i.prototype,"_control",{get:function(){return this.__control},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_hostElementProxy",{get:function(){return this.__domElementProxy},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_elementEventHandlerProxy",{get:function(){return this.__domElementProxy},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_domElementManager",{get:function(){return this.__domElementProxy},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"control",{get:function(){return this.__control},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){e.prototype.dispose.call(this),this.__domElementProxy.dispose()},i.prototype.queryInterface=function(t){return"IControlAsOwnerModel"==t||"IFlexDvModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._DvView);t._FlexDvView=e}(t||(t={})),function(t){t._isDvView=function(t){if(null==t)return!1;var e=t;return"function"==typeof e._getDefinition&&"function"==typeof e._getPlotAreaViews&&"function"==typeof e._traversePlotAreaView&&"function"==typeof e._traversePlotView&&"function"==typeof e._loadDataSources&&"function"==typeof e._query&&"function"==typeof e._select&&"function"==typeof e._layoutData&&"function"==typeof e._widgetLayer}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__option=t}return e.prototype._option=function(){return this.__option},e.prototype._analyse=function(e,n){for(var i=NaN,o=NaN,r=0,l=e;r<l.length;r++){var a=(c=l[r])._getDefinition()._plotAreaOption;o=isNaN(o)?a.column:Math.max(o,a.column),i=isNaN(i)?a.row:Math.max(i,a.row)}if(!isNaN(i)&&!isNaN(o)){i++,o++;for(var u=this._calculateLengths(n.width,o,this.__option.columnWidths),s=this._calculateLengths(n.height,i,this.__option.rowHeights),_=0,p=e;_<p.length;_++){for(var c,h=null==(a=(c=p[_])._getDefinition()._plotAreaOption).row?0:a.row,f=null==a.column?0:a.column,d=0,y=0;y<u.length;y++){var g=u[y];d+=y<f?g:0}var m=0;for(y=0;y<s.length;y++){var v=s[y];m+=y<h?v:0}c._updateRectangle(new t.core.Rect(n.left+d,n.top+m,u[a.column],s[a.row]))}}},e.prototype._calculateLengths=function(e,n,i){var o=[],r=0,l=0,a=this._isFull(i);if(1===n)return o.push(e),o;for(var u=0;u<n;u++){var s=null;u>=0&&u<i.length&&(s=i[u]),a||0!=u?null==s?(o.push(NaN),l+=1):s.type==t.ValueOptionType.Pixel?(o.push(s.value),r+=s.value):s.type==t.ValueOptionType.Available&&(o.push(NaN),l+=s.value):(o.push(NaN),l+=1)}var _=(e-r)/l;for(u=0;u<n;u++)s=null,u>=0&&u<i.length&&(s=i[u]),a||0!=u?null==s?o[u]=_:s.type==t.ValueOptionType.Pixel?o[u]=s.value:o[u]=_*s.value:o[u]=_;return o},e.prototype._isFull=function(e){for(var n=0,i=0,o=e;i<o.length;i++)o[i].type==t.ValueOptionType.Pixel&&(n+=1);return!(n===e.length&&e.length>=1)},e}();t._PlotAreaLayout=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i._option=n,i}return n(i,e),i.prototype._dvConfigOption=function(){return this._ownerView._getDefinition()._dvConfigOption},i.prototype._shape=function(){return new t._RectangleShape(this._getRectangle().center.x,this._getRectangle().center.y,this._getRectangle().width,this._getRectangle().height,0)},i.prototype._title=function(){return this._option.title},i.prototype._getClassName=function(){return"gcdv-footer"},i.prototype._textOverflow=function(){var e=this._option.textStyle.overflow;return null==e&&(e=this._dvConfigOption().textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Wrap)},i.prototype._textAlignment=function(){var t=this._option.textStyle.alignment;return null==t&&(t=this._dvConfigOption().textStyle.alignment),t},i.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(e,this._dvConfigOption().textStyle),t._OptionUtility._applyTextStyleOption(e,this._option.textStyle),this.__style=e}return this.__style},i.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._title(),this._textOverflow(),this._option.padding,this._option.hAlign,this._option.vAlign,this._style(),null,this._textAlignment())),this.__textView},i.prototype._applyBorderStyle=function(n){e.prototype._applyBorderStyle.call(this,n),t._OptionUtility._applyLineStyleFromStyleOption(n,this._dvConfigOption().style),t._OptionUtility._applyLineStyleFromStyleOption(n,this._option.style),t._OptionUtility._applyLineStyleOption(n,this._option.borderStyle)},i.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._OptionUtility._applyFillOption(n,this._dvConfigOption().backgroundColor),t._OptionUtility._applyFillOption(n,this._dvConfigOption().style.backgroundColor),t._OptionUtility._applyFillOption(n,this._option.style.backgroundColor)},i.prototype._measure=function(n,i){var o=this._option.width,r=i.width,l=!1;null!=o&&(o.type==t.ValueOptionType.Enum?t._NativeExtension._equalWithEnum(o.value,t.HeaderFooterWidthOptionType.Auto)&&(r=Number.MAX_VALUE,l=!0):o.type==t.ValueOptionType.Pixel?r=o.value:o.type==t.ValueOptionType.Percentage&&(r=o.value*i.width));var a=this._option.maxHeight,u=Number.MAX_VALUE,s=this._option.height,_=!1,p=i.height;null==a&&null!=s?s.type==t.ValueOptionType.Percentage?(p=s.value*i.height,_=!0):s.type===t.ValueOptionType.Pixel&&(p=s.value,_=!0):null!=a&&(a.type==t.ValueOptionType.Percentage?p=u=a.value*i.height:a.type===t.ValueOptionType.Pixel&&(p=u=a.value));var c=e.prototype._measure.call(this,n,new t.core.Size(r,p));return l||(c._size.width=r),c._size.height>u?c._size.height=u:_&&(c._size.height=p),c},i.prototype._measureInnerContent=function(t,e){return this._textView()._measure(t,e)},i.prototype._layoutInnerContent=function(t,e,n){this._textView()._layout(t,n,e)},i.prototype._renderInnerContent=function(e,n,i){var o=this,r=this._getRectangle().clone(),l=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(r.left,r.top,r.width,r.height);e.drawGroup(null,l,null,(function(t){o._textView()._render(t,i),i._headerLabels.push(o._textView()._getRectangle())}))},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.Footter);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},Object.defineProperty(i.prototype,"title",{get:function(){return this._title()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Footter},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IShapeModel"==t||"IHeaderFooterModel"==t||"IFooterView"==t?this:null},i}(t._RectangleView);t._FooterView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i._option=n,i}return n(i,e),i.prototype._getDvConfigOption=function(){return this._ownerView._getDefinition()._dvConfigOption},i.prototype._shape=function(){return new t._RectangleShape(this._getRectangle().center.x,this._getRectangle().center.y,this._getRectangle().width,this._getRectangle().height,0)},i.prototype._title=function(){return this._option.title},i.prototype._getClassName=function(){return"gcdv-header"},i.prototype._textOverflow=function(){var e=this._option.textStyle.overflow;return null==e&&(e=this._getDvConfigOption().textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Wrap)},i.prototype._textAlignment=function(){var t=this._option.textStyle.alignment;return null==t&&(t=this._getDvConfigOption().textStyle.alignment),t},i.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(e,this._getDvConfigOption().textStyle),t._OptionUtility._applyTextStyleOption(e,this._option.textStyle),this.__style=e}return this.__style},i.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._title(),this._textOverflow(),this._option.padding,this._option.hAlign,this._option.vAlign,this._style(),null,this._textAlignment())),this.__textView},i.prototype._applyBorderStyle=function(n){e.prototype._applyBorderStyle.call(this,n),t._OptionUtility._applyLineStyleFromStyleOption(n,this._getDvConfigOption().style),t._OptionUtility._applyLineStyleFromStyleOption(n,this._option.style),t._OptionUtility._applyLineStyleOption(n,this._option.borderStyle)},i.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._OptionUtility._applyFillOption(n,this._getDvConfigOption().backgroundColor),t._OptionUtility._applyFillOption(n,this._getDvConfigOption().style.backgroundColor),t._OptionUtility._applyFillOption(n,this._option.style.backgroundColor)},i.prototype._measure=function(n,i){var o=this._option.width,r=i.width,l=!1;null!=o&&(o.type==t.ValueOptionType.Enum?t._NativeExtension._equalWithEnum(o.value,t.HeaderFooterWidthOptionType.Auto)&&(r=Number.MAX_VALUE,l=!0):o.type==t.ValueOptionType.Pixel?r=o.value:o.type==t.ValueOptionType.Percentage&&(r=o.value*i.width));var a=this._option.maxHeight,u=Number.MAX_VALUE,s=this._option.height,_=!1,p=i.height;null==a&&null!=s?s.type==t.ValueOptionType.Percentage?(p=s.value*i.height,_=!0):s.type===t.ValueOptionType.Pixel&&(p=s.value,_=!0):null!=a&&(a.type==t.ValueOptionType.Percentage?p=u=a.value*i.height:a.type===t.ValueOptionType.Pixel&&(p=u=a.value));var c=e.prototype._measure.call(this,n,new t.core.Size(r,p));return l||(c._size.width=r),c._size.height>u?c._size.height=u:_&&(c._size.height=p),c},i.prototype._measureInnerContent=function(t,e){return this._textView()._measure(t,e)},i.prototype._layoutInnerContent=function(t,e,n){this._textView()._layout(t,n,e)},i.prototype._renderInnerContent=function(e,n,i){var o=this,r=this._getRectangle().clone(),l=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(r.left,r.top,r.width,r.height);e.drawGroup(null,l,null,(function(t){o._textView()._render(t,i),i._headerLabels.push(o._textView()._getRectangle())}))},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._textView()._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.Header);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},Object.defineProperty(i.prototype,"title",{get:function(){return this._title()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Header},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IShapeModel"==t||"IHeaderFooterModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._RectangleView);t._HeaderView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t,e,n){this.__interactionProcessor=t,this.__motionEventProvider=e,this.__draggingInteractions=n,this.__captureProvider=null,this.__startX=0,this.__startY=0,this.__lastX=0,this.__lastY=0,this._activeDraggingInteraction=null,this.__isCapturing=!1}return e.prototype._dragStart=function(t,e){for(var n=0,i=this.__draggingInteractions;n<i.length;n++){var o=i[n];if(o.isModel(t,e))return this._activeDraggingInteraction=o,this.__startX=t.x,this.__startY=t.y,this.__lastX=t.x,this.__lastY=t.y,o.onStart(t)}return 0},e.prototype._dragging=function(t,e){var n=this._activeDraggingInteraction;if(null!=n&&(t.x!=this.__lastX||t.y!=this.__lastY)){var i=t.x-this.__startX,o=t.y-this.__startY;return this.__lastX=t.x,this.__lastY=t.y,this._toggleCapture(!0),n.onDragging(t,e,i,o)}return 0},e.prototype._dragEnd=function(t,e){var n=this._activeDraggingInteraction;return null!=n?(this._toggleCapture(!1),this._activeDraggingInteraction=null,n.onEnd(t,e,t.x-this.__startX,t.y-this.__startY)):0},e.prototype._toggleCapture=function(e){var n=this;if(e!=this.__isCapturing)if(this.__isCapturing=e,e){if(null==this.__captureProvider){var i=this;this.__captureProvider=new t._MouseCaptureProvider(this.__motionEventProvider,(function(e){var o=e.action;if(o==t.MotionEvent.ACTION_MOUSE_MOVE||o==t.MotionEvent.ACTION_MOVE){var r=i._dragging(e,null);n.__interactionProcessor._processInteractionResult(r)}else o!=t.MotionEvent.ACTION_MOUSE_UP&&o!=t.MotionEvent.ACTION_CANCEL&&o!=t.MotionEvent.ACTION_UP||(r=i._dragEnd(e,null),n.__interactionProcessor._processInteractionResult(r))}))}this.__captureProvider._startCapturing()}else null!=this.__captureProvider&&this.__captureProvider._endCapturing()},e.prototype._process=function(e,n){var i=-1,o=e.action;if(o==t.MotionEvent.ACTION_MOUSE_DOWN||o==t.MotionEvent.ACTION_DOWN)(r=this._dragStart(e,n))>i&&(i=r);else if(o==t.MotionEvent.ACTION_MOUSE_MOVE||o==t.MotionEvent.ACTION_MOVE)(r=this._dragging(e,n))>i&&(i=r);else if(o==t.MotionEvent.ACTION_MOUSE_UP||o==t.MotionEvent.ACTION_CANCEL||o==t.MotionEvent.ACTION_UP){var r;(r=this._dragEnd(e,n))>i&&(i=r)}return i},e.prototype.dispose=function(){null!=this.__captureProvider&&(this.__captureProvider.dispose(),this.__captureProvider=null),this._activeDraggingInteraction=null,this.__isCapturing=!1},e}();t._DraggingInteractionProcessor=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(e,n,i){this.__hoverInteractions=[],this.__pinchInteractions=[],this.__control=e,this.__pluginCollection=i,this.__draggingProcessor=new t._DraggingInteractionProcessor(this,n,this._draggingInteractions())}return e.prototype._process=function(t){var e=-1,n=this._processClickInteraction(t);n>e&&(e=n);var i=this._processHoverInteraction(t);i>e&&(e=i);var o=this._processDoubleClickInteraction(t);o>e&&(e=o);var r=this._processWheelInteraction(t);r>e&&(e=r);var l=this.__draggingProcessor._process(t.event,t.model);l>e&&(e=l);var a=this._processPinchInteraction(t);a>e&&(e=a),this._processInteractionResult(e)},e.prototype._processInteractionResult=function(t){1==t?this.__control._requestInvalidate():t>2?this.__control._requestRefreshData():t>1&&this.__control._requestRefresh()},e.prototype._processHoverInteraction=function(e){var n=-1;if(e.event.action!=t.MotionEvent.ACTION_MOUSE_MOVE&&e.event.action!=t.MotionEvent.ACTION_MOUSE_OVER&&e.event.action!=t.MotionEvent.ACTION_WHEEL||null==e.model){if(null==e.model||e.event.action==t.MotionEvent.ACTION_MOUSE_LEAVE){for(var i=0,o=this.__hoverInteractions;i<o.length;i++)(a=(l=o[i]).onLeave(e.event))>n&&(n=a);this.__hoverInteractions=[]}}else{for(var r=this.__hoverInteractions.length-1;r>=0;r--){var l;if((l=this.__hoverInteractions[r]).isModel(e.event,e.model))(a=l.onMove(e.event))>n&&(n=a);else{var a=l.onLeave(e.event);this.__hoverInteractions.splice(r,1),a>n&&(n=a)}}for(var u=this._hoverInteractions(),s=function(t){if(!_.__hoverInteractions.some((function(e){return e.name==t.name}))&&t.hover(e.event,e.model)){_.__hoverInteractions.push(t);var i=t.onEnter(e.event);i>n&&(n=i)}},_=this,p=0,c=u;p<c.length;p++)s(c[p])}return n},e.prototype._processClickInteraction=function(e){var n=-1;if(null!=e.model&&e.event.action==t.MotionEvent.ACTION_CLICK)for(var i=0,o=this._clickInteractions();i<o.length;i++){var r=o[i].onClick(e.event,e.model);r>n&&(n=r)}return n},e.prototype._processDoubleClickInteraction=function(e){var n=-1;if(null!=e.model&&e.event.action==t.MotionEvent.ACTION_DOUBLE_CLICK)for(var i=0,o=this._doubleClickInteractions();i<o.length;i++){var r=o[i].onDoubleClick(e.event,e.model);r>n&&(n=r)}return n},e.prototype._processWheelInteraction=function(e){var n=-1;if(null!=e.model&&e.event.action==t.MotionEvent.ACTION_WHEEL){for(var i=0,o=this._wheelInteractions();i<o.length;i++){var r=o[i].onWheel(e.event,e.model);r>n&&(n=r)}n>=1&&e.event.originalEvent.cancelable&&e.event.originalEvent.preventDefault()}return n},e.prototype._isTouchEvent=function(e){var n=e.action;return n==t.MotionEvent.ACTION_DOWN||n==t.MotionEvent.ACTION_MOVE||n==t.MotionEvent.ACTION_UP||n==t.MotionEvent.ACTION_CANCEL},e.prototype._isSameTouches=function(t,e){if(t.length==e.length){for(var n=0;n<t.length;n++)if(t[n].identifier!=e[n].identifier)return!1;return!0}return!1},e.prototype._processPinchInteraction=function(e){var n=-1;if(null==e.model||!this._isTouchEvent(e.event)){for(var i=0,o=this.__pinchInteractions;i<o.length;i++)(g=o[i].onEnd(null))>n&&(n=g);return this.__pinchInteractions=[],n}var r=e.event.action,l=e.event.originalEvent,a=r==t.MotionEvent.ACTION_DOWN&&2==l.touches.length&&this._isSameTouches(l.touches,l.targetTouches),u=r==t.MotionEvent.ACTION_MOVE&&2==l.touches.length&&this._isSameTouches(l.touches,l.targetTouches);if(a)for(var s=function(t){if(!_.__pinchInteractions.some((function(e){return e.name==t.name}))&&t.isModel(e.event,e.model)){_.__pinchInteractions.push(t);var i=t.onStart(e.event);i>n&&(n=i)}},_=this,p=0,c=this._pinchInteractions();p<c.length;p++)s(c[p]);else if(u)for(var h=0,f=this.__pinchInteractions;h<f.length;h++)(g=f[h].onPinch(e.event))>n&&(n=g);else{for(var d=0,y=this.__pinchInteractions;d<y.length;d++){var g;(g=y[d].onEnd(e.event))>n&&(n=g)}this.__pinchInteractions=[]}return n>=1&&e.event.originalEvent.cancelable&&e.event.originalEvent.preventDefault(),n},e.prototype._clickInteractions=function(){var e=this.__control.model.option.plugins;return t._BuildInClickInteractionBuilderCollection._defaultBuildInClickInteractionBuilders()._clickInteractions(this.__control,e,this.__pluginCollection)},e.prototype._hoverInteractions=function(){return t._BuildInHoverInteractionBuilderCollection._defaultBuildInHoverInteractionBuilders()._hoverInteractions(this.__control,[],this.__pluginCollection)},e.prototype._doubleClickInteractions=function(){return t._BuildInDoubleClickInteractionBuilderCollection._defaultBuildInDoubleClickInteractionBuilders()._doubleClickInteractions(this.__control,[],this.__pluginCollection)},e.prototype._wheelInteractions=function(){return t._BuildInWheelInteractionBuilderCollection._defaultBuildInWheelInteractionBuilders()._wheelInteractions(this.__control,[],this.__pluginCollection)},e.prototype._draggingInteractions=function(){return t._BuildInDraggingInteractionBuilderCollection._defaultBuildInDraggingInteractionBuilders()._draggingInteractions(this.__control,[],this.__pluginCollection)},e.prototype._pinchInteractions=function(){return t._BuildInPinchInteractionBuilderCollection._defaultBuildInPinchInteractionBuilders()._pinchInteractions(this.__control,[],this.__pluginCollection)},e.prototype.dispose=function(){for(var t=0,e=this.__hoverInteractions;t<e.length;t++)e[t].dispose();this.__draggingProcessor.dispose()},e}();t._InteractionProcessor=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n)||this;return o.__rectangle=t.core.Rect.ReadOnlyRect,o._definition=i,o}return n(i,e),i.prototype._createIdentityContent=function(){var e=this._ownerView._getLayoutViews().indexOf(this).toString();return t._Util.HashCode("layout"+e)},i.prototype._rectangle=function(){return this.__rectangle},i.prototype._updateRectangle=function(t){this.__rectangle=t},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._layoutContent=function(t,e,n){this._updateRectangle(e)},i.prototype._getDefinition=function(){return this._definition},i.prototype._getPlotAreaView=function(){return this._ownerView._getPlotAreaView()},i.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._ownerView._id()+this._createIdentityContent()),this.__cachedId},i.prototype.queryInterface=function(t){return"IModel"==t||"IViewModel"==t||"ILayoutModel"==t||"ILayoutView"==t?this:null},i}(t._BaseView);t._BaseLayoutView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e,n){this._dvConfigOption=t._dvConfigOption,this._plotAreaOption=t._plotAreaOption,this._plotOptions=e,this._pluginCollection=t._pluginCollection,this._imageProvider=t._imageProvider,this._symbolDefinitionProvider=t._symbolDefinitionProvider,this._paletteColorProvider=t._paletteColorProvider,this._valueColorProvider=t._valueColorProvider,this._layoutViewBuilderCallback=n,this.__definition=t}return t.prototype._findDataSchema=function(t){return this.__definition._findDataSchema(t)},t}();t._BaseLayoutDefinition=e}(t||(t={})),function(t){t._isPlotsLayoutDefinition=function(t){var e=t;return void 0!==e._coordinateSystemDefinitions&&void 0!==e._axisOptions&&"function"==typeof e._findDataSchema}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,o,r){var l=e.call(this,t,n,null==r?i.__viewBuilderCallback:r)||this;return l._axisOptions=o,l.__majorAxisXOption=l._findMajorXOption(l._axisOptions),l.__majorAxisYOption=l._findMajorYOption(l._axisOptions),l}return n(i,e),i.prototype._createPlotOptionWithAxisOptionsList=function(e,n){var i=[];if(n.length>0)for(var o={},r=0,l=n;r<l.length;r++){var a=l[r];if(null!=a.plots)for(var u=function(n){if(!t._Util.hasKey(o,n)){var r=t._Util.find(e,(function(t){return t.name==n}));null!=r&&(o[n]=new t._PlotOptionWithAxisOptions(r,[]),i.push(o[n]))}if(t._Util.hasKey(o,n)){var l=o[n]._axisOptions;-1==l.indexOf(a)&&l.push(a)}},s=0,_=a.plots;s<_.length;s++)u(_[s])}else for(var p=0,c=e;p<c.length;p++){var h=c[p];i.push(new t._PlotOptionWithAxisOptions(h,[]))}return i},i.prototype._createCoordinateSystemDefinitionList=function(e,n){for(var i=[],o=this._createPlotOptionWithAxisOptionsList(e,n),r=this.__majorAxisXOption,l=this.__majorAxisYOption,a=0,u=o;a<u.length;a++){var s=u[a];if(null==(f=this._findPlotDefinitionFromPlotOption(s._plotOption,i))&&(f=this._createPlotDefinition(s._plotOption,i)),null!=f&&(null==(d=this._findCoordinateSystemDefinitionFromPlotDefinition(f,i))&&null!=(d=this._createCoordinateSystemDefinition(f._getCoordinateSystemType(),f._plotConfigOption.hAlign,f._plotConfigOption.vAlign))&&i.push(d),null!=d)){d._plotDefinitions.push(f),f.coordinateSystemDefinition=d;for(var _=0,p=s._axisOptions;_<p.length;_++){var c=p[_];null==(y=this._findAxisDefinitionFromAxisOption(d,f,c))&&(y=this._createAxisDefinition(d,f,c)),null!=y&&(-1==d._axisDefinitions.indexOf(y)&&d._axisDefinitions.push(y),f._axisOptions.push(c))}f._axisOptions.some((function(e){return e.type==t.AxisType.X}))||(null==(y=this._findAxisDefinitionFromAxisOption(d,f,r))&&(y=this._createAxisDefinition(d,f,r)),null!=y&&(d._axisDefinitions.push(y),f._axisOptions.push(r))),f._axisOptions.some((function(e){return e.type==t.AxisType.Y}))||(null==(y=this._findAxisDefinitionFromAxisOption(d,f,l))&&(y=this._createAxisDefinition(d,f,l)),null!=y&&(d._axisDefinitions.push(y),f._axisOptions.push(l)))}}if(i.length<=0){var h=new t.options._PlotOption(null);h.type="Empty";var f,d,y,g=null!=(f=this._createPlotDefinition(h,[]))?f._getCoordinateSystemType():"Xy",m=null!=f?f._plotConfigOption.hAlign:null,v=null!=f?f._plotConfigOption.vAlign:null;null!=(d=this._createCoordinateSystemDefinition(g,m,v))&&(i.push(d),null!=f&&(d._plotDefinitions.push(f),f.coordinateSystemDefinition=d,null!=(y=this._createAxisDefinition(d,f,r))&&(d._axisDefinitions.push(y),f._axisOptions.push(r)),null!=(y=this._createAxisDefinition(d,f,l))&&(d._axisDefinitions.push(y),f._axisOptions.push(l))))}return i},i.prototype._createAxisDefinition=function(e,n,i){return t._BuildInAxisDefinitionBuilderCollection._defaultBuildInAxisDefinitionBuilders()._axisDefinition(e,n,i,[])},i.prototype._createPlotDefinition=function(e,n){return null!=e.type?t._BuildInPlotDefinitionBuilderCollection._buildInPlotDefinitionBuilders()._plotDefinition(this,e,n,this._dvConfigOption.plugins,this._pluginCollection):null},i.prototype._findMajorXOption=function(e){var n=e.filter((function(e){return e.plots.length<=0&&e.type==t.AxisType.X}));return n.length<=0?t._AxisUtility._buildEmptyAxis(t.AxisType.X):n[0]},i.prototype._findMajorYOption=function(e){var n=e.filter((function(e){return e.plots.length<=0&&e.type==t.AxisType.Y}));return n.length<=0?t._AxisUtility._buildEmptyAxis(t.AxisType.Y):n[0]},i.prototype._createCoordinateSystemDefinition=function(e,n,i){return t._BuildInCoordinateSystemDefinitionBuilderCollection._defaultBuildInCoordinateSystemBuilders()._coordinateSystemDefinition(this,e,n,i,this._plotAreaOption.plugins,this._pluginCollection)},i.prototype._findPlotDefinitionFromPlotOption=function(t,e){for(var n=0,i=e;n<i.length;n++)for(var o=0,r=i[n]._plotDefinitions;o<r.length;o++){var l=r[o];if(l._plotOption==t)return l}return null},i.prototype._findCoordinateSystemDefinitionFromPlotDefinition=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o._type===t._getCoordinateSystemType()&&o._hAlign===t._plotConfigOption.hAlign&&o._vAlign===t._plotConfigOption.vAlign)return o}return null},i.prototype._findAxisDefinitionFromAxisOption=function(e,n,i){var o;o=n._plotConfigOption.swapAxes?i.type==t.AxisType.X?t.Orientation.Vertical:t.Orientation.Horizontal:i.type==t.AxisType.X?t.Orientation.Horizontal:t.Orientation.Vertical;for(var r=0,l=e._axisDefinitions;r<l.length;r++){var a=l[r];if(a._option===i&&a._orientation==o)return a}return null},Object.defineProperty(i.prototype,"_coordinateSystemDefinitions",{get:function(){return null==this.__coordinateSystemDefinitions&&(this.__coordinateSystemDefinitions=this._createCoordinateSystemDefinitionList(this._plotOptions,this._axisOptions)),this.__coordinateSystemDefinitions},enumerable:!1,configurable:!0}),i.__viewBuilderCallback=function(e,n){if(t._isPlotsLayoutDefinition(n)){var i=n;return new t._PlotListLayoutView(e,i)}return null},i}(t._BaseLayoutDefinition);t._PlotListLayoutDefinition=e}(t||(t={})),function(t){var e=function(t,e){this._plotOption=t,this._axisOptions=e};t._PlotOptionWithAxisOptions=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__coordinateSystemViews=[],i}return n(i,e),i.prototype._coordinateSystemViews=function(){return this.__coordinateSystemViews},i.prototype._dataLabelsRectangle=function(){return this._getPlotAreaView()._getRectangle()},i.prototype._layoutData=function(){for(var t=0,e=this._coordinateSystemViews();t<e.length;t++)e[t]._layoutData()},i.prototype._coordinateSystemView=function(t){for(var e=0,n=this._coordinateSystemViews();e<n.length;e++){var i=n[e];if(i._getDefinition()._type==t._type&&i._getDefinition()._hAlign==t._hAlign&&i._getDefinition()._vAlign==t._vAlign)return i}return null},i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i);for(var o=0,r=this._coordinateSystemViews();o<r.length;o++)r[o]._layout(t,n,i)},i.prototype._renderChildren=function(t,e){for(var n=0,i=this._coordinateSystemViews();n<i.length;n++){var o=i[n];o._render(t,e),e._renderLabel=!0,o._render(t,e),e._renderLabel=!1}},i.prototype._applyStyle=function(e){t._OptionUtility._applyStyleOption(e,this._definition._plotAreaOption.style),t._OptionUtility._applyTextStyleOption(e,this._definition._plotAreaOption.textStyle)},i.prototype._createCoordinateSystemViews=function(t){for(var e=[],n=0,i=t._coordinateSystemDefinitions;n<i.length;n++){for(var o=i[n],r=null,l=0,a=e;l<a.length;l++){var u=a[l];if(u._getDefinition()._type==o._type&&u._getDefinition()._hAlign==o._hAlign&&u._getDefinition()._vAlign==o._vAlign){r=u;break}}null==r&&null!=(r=this._createCoordinateSystemView(o))&&e.push(r)}return e},i.prototype._plotDefinitions=function(){for(var t=[],e=0,n=this._definition._coordinateSystemDefinitions;e<n.length;e++)for(var i=0,o=n[e]._plotDefinitions;i<o.length;i++){var r=o[i];t.push(r)}return t},i.prototype._createAttachPlotView=function(t,e){var n=t.coordinateSystemDefinition,i=this._coordinateSystemView(n);if(null!=i){var o=this._createPlotView(t,e);null!=o&&i._addPlotView(o)}},i.prototype._createCoordinateSystemView=function(t){return t._viewBuilder._buildCoordinateSystemView(this,t)},i.prototype._createPlotData=function(t,e){return t._plotDataBuilder._buildPlotData(t,e)},i.prototype._createPlotView=function(t,e){var n=null;if(null!=t._plotDataBuilder){var i=this._createPlotData(t,e);null!=t._plotViewBuilder&&(n=t._plotViewBuilder._buildPlotView(this,t,i))}return n},i.prototype._hitTest=function(t,n,i){for(var o=0,r=this._coordinateSystemViews().concat().reverse();o<r.length;o++){var l=r[o]._hitTest(t,n,i);if(null!=l)return l}return e.prototype._hitTest.call(this,t,n,i)},i.prototype._getSubPlotViews=function(t){for(var e=[],n=0,i=t._getPointViews();n<i.length;n++){var o=i[n]._pointLayoutListView();if(null!=o)for(var r=0,l=o._getLayoutViews();r<l.length;r++){var a=l[r];e.push.apply(e,a._findAllPlotViews())}}return e},i.prototype.dispose=function(){for(var t=0,e=this._coordinateSystemViews();t<e.length;t++)e[t].dispose()},i.prototype._hasSelection=function(){for(var t=0,e=this._coordinateSystemViews();t<e.length;t++)for(var n=0,i=e[t]._getPlotViews();n<i.length;n++){var o=i[n];if(o._hasSelectedPointView())return!0;for(var r=0,l=o._getPointViews();r<l.length;r++){var a=l[r]._pointLayoutListView();if(null!=a)for(var u=0,s=a._getLayoutViews();u<s.length;u++)if(s[u]._hasSelection())return!0}}return!1},i.prototype._traversePlotView=function(t,e){for(var n=0,i=this._coordinateSystemViews();n<i.length;n++)for(var o=0,r=i[n]._getPlotViews();o<r.length;o++){var l=r[o];t(l,e);for(var a=0,u=l._getPointViews();a<u.length;a++){var s=u[a]._pointLayoutListView();if(null!=s)for(var _=0,p=s._getLayoutViews();_<p.length;_++)p[_]._traversePlotView(t,e)}}},i.prototype._plotsPaneViews=function(){return[this]},i.prototype._findAllPlotViews=function(){for(var t=[],e=0,n=this._coordinateSystemViews();e<n.length;e++){for(var i=n[e]._getPlotViews(),o=0,r=i;o<r.length;o++){var l=r[o];t.push(l)}for(var a=0,u=i;a<u.length;a++)l=u[a],t.push.apply(t,this._getSubPlotViews(l))}return t},i.prototype._loadDataSlices=function(t){this.__coordinateSystemViews=this._createCoordinateSystemViews(this._definition);for(var e=0,n=this._plotDefinitions();e<n.length;e++){var i=n[e];this._createAttachPlotView(i,t)}},i.prototype._loadDataSources=function(t){this.__coordinateSystemViews=this._createCoordinateSystemViews(this._definition);for(var e=0,n=this._plotDefinitions();e<n.length;e++){var i=n[e],o=t._dataSource(i._dataSchema._name);this._createAttachPlotView(i,o._slice())}},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.PlotsPane},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"plots",{get:function(){var e=[];return this._traversePlotView((function(n,i){var o=t._PlotViewModelUtility._toPlotModel(n);null!=o&&e.push(o)}),null),e},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){if("IPlotsPaneModel"==t||"IPlotListLayoutView"==t)return this;for(var n=0,i=this._coordinateSystemViews();n<i.length;n++){var o=i[n].queryInterface(t);if(null!=o)return o}return e.prototype.queryInterface.call(this,t)},i}(t._BaseLayoutView);t._PlotListLayoutView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInLayoutBuilders=function(){return null==i.__buildInLayoutBuilders&&(i.__buildInLayoutBuilders=new i([],i._pluginType)),i.__buildInLayoutBuilders},i.prototype._convert=function(e){return t._isLayoutBuilder(e)?e:null},i.prototype._layoutDefinition=function(e,n,i,o,r){for(var l=0,a=this._objects(r,e._pluginCollection);l<a.length;l++){var u=a[l].item._buildLayoutDefinition(e,n,i,o);if(null!=u)return u}return new t._PlotListLayoutDefinition(e,i,o,null)},i._pluginType="Layout",i}(t._BuildInObjectCollection);t._BuildInLayoutDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isLayoutBuilder=function(t){return null!=t._buildLayoutDefinition}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLayoutDefinitions=function(e,i,o){for(var r=[],l=new n(null,[]),a=0,u=i;a<u.length;a++){var s=u[a],_=s.encodings.layout;null==_?(null==l._layoutOption&&(l._layoutOption=new t.options._LayoutEncodingOption(null)),l._plotOptions.push(s)):null==l._layoutOption?(l._layoutOption=_,l._plotOptions.push(s)):l._layoutOption.type==_.type?l._plotOptions.push(s):(r.push(l),(l=new n(_,[]))._plotOptions.push(s))}null!=l._layoutOption&&r.push(l);for(var p=[],c=0,h=r;c<h.length;c++){var f=h[c];p.push(t._BuildInLayoutDefinitionBuilderCollection._defaultBuildInLayoutBuilders()._layoutDefinition(e,f._layoutOption,f._plotOptions,o,[]))}return p.length<=0&&(i=[],p.push(new t._PlotListLayoutDefinition(e,i,o,null))),p},e.__layoutDefinitionListBuilder=new e,e}();t._LayoutDefinitionListBuilder=e;var n=function(t,e){this._layoutOption=t,this._plotOptions=e}}(t||(t={})),function(t){var e=function(){function t(){}return t._toLayoutModel=function(t){return null!=t.queryInterface("ILayoutModel")?t:null},t._toLayoutView=function(t){return null!=t.queryInterface("ILayoutView")?t:null},t}();t._LayoutViewModelUtility=e}(t||(t={})),function(t){var e=function(){function t(t,e){this._dataSource=t,this._indexes=e}return Object.defineProperty(t.prototype,"_length",{get:function(){return this._indexes.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_items",{get:function(){var t=this;return this._indexes.map((function(e){return t._dataSource._items[e]}))},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){var n=this;this._indexes.forEach((function(i){e(new t(n._dataSource,[i]))}))},t.prototype.list=function(){var e=this,n=[];return this._indexes.forEach((function(i){n.push(new t(e._dataSource,[i]))})),n},t.prototype.clone=function(){return new t(this._dataSource,this._indexes.slice())},t}();t._DataSlices=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this._items=t,this._schema=n,this._reIndexes(e)}return Object.defineProperty(e.prototype,"_dataSource",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_length",{get:function(){return this.__indexes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_indexes",{get:function(){return this.__indexes.slice()},enumerable:!1,configurable:!0}),e.prototype._reIndexes=function(t){this.__indexes=null==t?this._items.map((function(t,e){return e})):t},e.prototype._slice=function(e,n){return void 0===e&&(e=null),void 0===n&&(n=null),null!=e&&null!=n&&e>=0&&n>=0?new t._DataSlices(this,this.__indexes.slice(e,n)):null!=e&&e>=0?new t._DataSlices(this,this.__indexes.slice(e)):new t._DataSlices(this,this.__indexes.slice())},e.prototype.equalsWith=function(t){return this==t},e}();t._DataSource=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__dataSlices=t,n}return n(i,e),i.prototype.query=function(){for(var e=this,n=new t.QueryResult,i=new t._DataSlices(this.__dataSlices._dataSource,this.__dataSlices._indexes.slice()),o=0,r=this._filterOptions;o<r.length;o++){var l=r[o];i=this._filterImp(l,i)}for(var a=0,u=this._orderByOptions;a<u.length;a++){var s=u[a];i=this._orderByImp(s,i)}for(var _=this._groupByImp(this._groupByOptions.slice(),i),p=0,c=this._groupByOptions;p<c.length;p++){var h=c[p];n.info.groupFields.push(h.groupingDefinition._groupingFieldDefinition._dataField._name)}for(var f=0;f<this._aggregateOptions.length;f++){var d=(w=this._aggregateOptions[f]).dataFieldDefinition._dataField._name+f;n.info.aggregateFields.push(d)}if(_.length>0){this._traverse(_,0,(function(i,o){for(var r=0;r<e._aggregateOptions.length;r++){var l=e._aggregateOptions[r],a=l.dataFieldDefinition._dataField._name+r;n.info.aggregateFields.push(a),t._NativeExtension.setPropertyValue(i.item,n.info.aggregateFields[r],e._aggregateImp(l,i._dataSlices))}}));for(var y=0,g=_;y<g.length;y++){var m=g[y];n.groups.push(m)}}else if(this._aggregateOptions.length>0){var v=new t._ItemsQueryGrouping(null,i,null,null);for(f=0;f<this._aggregateOptions.length;f++){var w=this._aggregateOptions[f];t._NativeExtension.setPropertyValue(v.item,n.info.aggregateFields[f],this._aggregateImp(w,i))}n.groups.push(v)}return this._groupByOptions=[],this._orderByOptions=[],this._filterOptions=[],this._aggregateOptions=[],n},i.prototype._traverse=function(t,e,n){for(var i=0,o=t;i<o.length;i++){var r=o[i];n(r,e),this._traverse(r.children,e+1,n)}},i.prototype._filterImp=function(t,e){return e},i.prototype._orderByImp=function(e,n){return new t._ItemsDataSlicesSorter(e.sortDefinion,e.dataFieldDefinition)._sort(n)},i.prototype._groupByImp=function(e,n,i){return void 0===i&&(i=null),e.length<=0?[]:t._ItemsQueryGroupingsBuilder._defaultGroupingsBuilder._buildGroupings(n,e,i)},i.prototype._aggregateImp=function(e,n){return t._ItemsDataSlicesAggregate._defaultAggregate._aggregate(n,e.dataFieldDefinition._dataField,e.aggregate)},i}(t.Query);t._ItemsQuery=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ItemsQuery",this.type=t._BuildInQueryBuilderCollection._pluginType,this.priority=0}return e.prototype._buildQuery=function(e){return e instanceof t._DataSlices?new t._ItemsQuery(e):null},e.prototype.queryInterface=function(t){return"IQueryBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ItemsQueryPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildGrouping=function(e,n,i,o){return new t._ItemsQueryGrouping(e,n,i,o)},e}();t._ItemsQueryGroupingBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__dataField=t}return e.prototype._buildGroupingKey=function(e){return t._DataSlicesAggregate._defaultAggregate._aggregate(e,this.__dataField,t.Aggregate.List)},e}();t._ItemsQueryGroupingKeyBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildGrouping=function(e,i,o,r,l){var a=[];r=new t._ItemsDataSlicesFilter(l.groupingDefinition._filter,[l.groupingDefinition._groupingFieldDefinition._dataField._name])._filter(r);var u=new t._Map,s=[];r.forEach((function(t){var e=i._buildGroupingKey(t),o=u._get(e);if(null!=o)s[o]._mergeDataSlices(t);else{var r=new n(e,t);s.push(r),u._set(e,s.length-1)}}));for(var _=0,p=s;_<p.length;_++){var c=p[_],h=e._buildGrouping(c._key,c._dataSlices,o,l.groupingDefinition._groupingFieldDefinition);null!=h&&a.push(h)}var f=new t._DefaultGroupingsSorter(l.groupingDefinition._sortDefinition);return new t._ItemsQueryGroupingsSorter(f)._sort(a),a},e.prototype._buildGroupings=function(n,i,o){if(0==i.length)return[];var r=i.shift(),l=new t._ItemsQueryGroupingBuilder,a=new t._ItemsQueryGroupingKeyBuilder(r.groupingDefinition._groupingFieldDefinition._dataField),u=this._buildGrouping(l,a,o,n,r);if(null!=o){var s=o.children;u.forEach((function(t){return s.push(t)}))}if(i.length>0)for(var _=0,p=u;_<p.length;_++){var c=p[_];e._defaultGroupingsBuilder._buildGroupings(c._dataSlices,i.slice(),c)}return u},e._defaultGroupingsBuilder=new e,e}();t._ItemsQueryGroupingsBuilder=e;var n=function(){function e(t,e){this._key=t,this.__dataSlices=[e]}return Object.defineProperty(e.prototype,"_dataSlices",{get:function(){var e=[];return this.__dataSlices.forEach((function(t){e.push.apply(e,t._indexes)})),new t._DataSlices(this.__dataSlices[0]._dataSource,e)},enumerable:!1,configurable:!0}),e.prototype._mergeDataSlices=function(t){this.__dataSlices.push(t)},e}()}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t){this.__sorter=t}return t.prototype._sort=function(t){null!=this.__sorter&&this.__sorter._sort(t)},t}();t._ItemsQueryGroupingsSorter=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n)||this;return r.key=e,r.parent=i,r.children=[],r.item={},r.definition=o,r}return n(e,t),e}(t._DataModel);t._ItemsQueryGrouping=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._aggregate=function(e,n,i,o){void 0===o&&(o=null);var r=null!=e?e._items:[];if(i==t.Aggregate.List)return null!=o&&o<=r.length?this._toItem(n,r.slice(0,o)):this._toItem(n,r);n=this._getDataField(n);var l=new t._DataItemBinding(n._name);if(i==t.Aggregate.Sum||i==t.Aggregate.Average){for(var a=!0,u=0,s=r;u<s.length;u++){var _=s[u];if(null!=l._getValue(_)){a=!1;break}}if(a)return null;for(var p=!0,c=0,h=r;c<h.length;c++){_=h[c];var f=l._getValue(_);if(null==f||"number"!=typeof f||!isNaN(f)){p=!1;break}}if(p)return NaN}return t._AggregateValueBuilder._defaultAggregateValueBuilder._build(i,r,l)},e.prototype._toItem=function(e,n){if(e=this._getDataField(e),t._isNumberDataField(e)){var i=e;return this._toNumberItem(i,n)}if(t._isStringDataField(e)){var o=e;return this._toStringItem(o,n)}if(t._isDateDataField(e)){var r=e;return this._toDateItem(r,n)}if(t._isBooleanDataField(e)){var l=e;return this._toBooleanItem(l,n)}if(t._isNullDataField(e)){var a=e;return this._toNullItem(a,n)}return null},e.prototype._getDataField=function(e){if(t._isBinDataField(e)){var n=e;return this._getDataField(n.originalField())}return e},e.prototype._toStringItem=function(e,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=t._DataItemExtension._stringValueOrNull(r,e._name);if(null!=l)return l}else if("object"==typeof n)return t._DataItemExtension._stringValueOrNull(n,e._name);return null},e.prototype._toNumberItem=function(e,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=t._DataItemExtension._numberValueOrNull(r,e._name);if(null!=l)return l}else if("object"==typeof n)return t._DataItemExtension._numberValueOrNull(n,e._name);return null},e.prototype._toBooleanItem=function(e,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=t._DataItemExtension._boolValueOrNull(r,e._name);if(null!=l)return l}else if("object"==typeof n)return t._DataItemExtension._boolValueOrNull(n,e._name);return null},e.prototype._toDateItem=function(e,n){if(null==n)return null;if(Array.isArray(n))for(var i=0,o=n;i<o.length;i++){var r=o[i],l=t._DataItemExtension._dateValueOrNull(r,e._name,e._dateParser());if(null!=l)return l}else if("object"==typeof n)return t._DataItemExtension._dateValueOrNull(n,e._name,e._dateParser());return null},e.prototype._toNullItem=function(t,e){return null},e._defaultAggregate=new e,e}();t._ItemsDataSlicesAggregate=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__filter=t,this.__keys=e}return e.prototype._filter=function(e){var n=this;if(null==this.__filter)return e;if(0==this.__keys.length)return e;var i=e._indexes.slice().filter((function(t){for(var i=!1,o=0,r=n.__keys;o<r.length;o++){var l=r[o];i=i||n.__filter.filter(e._dataSource._items[t],l)}return i}));return new t._DataSlices(e._dataSource,i)},e}();t._ItemsDataSlicesFilter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__sortDefinition=t,this.__dataFieldDefinition=e}return e.prototype._sort=function(e){var n=this;if(null==this.__sortDefinition)return e;var i=e._indexes.slice();if(t._isFieldSortDefinition(this.__sortDefinition)){var o=this.__sortDefinition;i.sort((function(n,i){return t._DataObjectComparer._defaultComparer._compare(e._dataSource._items[n],e._dataSource._items[i],o._dataField)}))}else null!=this.__dataFieldDefinition&&i.sort((function(i,o){return t._DataObjectComparer._defaultComparer._compare(e._dataSource._items[i],e._dataSource._items[o],n.__dataFieldDefinition._dataField)}));return this.__sortDefinition._isAscending||i.reverse(),new t._DataSlices(e._dataSource,i)},e}();t._ItemsDataSlicesSorter=e}(t||(t={})),function(t){var e=function(){function e(){}return e._defaultPointStyle=function(){return null==e.__defaultPointStyle&&(e.__defaultPointStyle=t._StyleUtility._buildStyle(null,"#B3D6F2",null,"#047AD8",1,null,null)),e.__defaultPointStyle},e.prototype.render=function(n,i){n.beginTransform(),t._StyleUtility._applyStyle(n,e._defaultPointStyle());for(var o=0,r=i;o<r.length;o++){var l=r[o];n.drawEllipse(l.x,l.y,e.__radius,e.__radius,null)}n.restoreTransform()},e._buildInAdornerRender=new e,e.__radius=3,e}();t._BuildInAdornerRender=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInAdornerRenderBuilders=function(){return null==i.__buildInAdornerRenderBuilders&&(i.__buildInAdornerRenderBuilders=new i([],i._pluginType)),i.__buildInAdornerRenderBuilders},i.prototype._convert=function(e){return t._isAdornerRenderBuilder(e)?e:null},i.prototype._adornerRender=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item.buildAdornerRender(e);if(null!=l)return l}return t._BuildInAdornerRender._buildInAdornerRender},i._pluginType="AdornerRender",i}(t._BuildInObjectCollection);t._BuildInAdornerRenderBuilderCollection=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isAdornerRenderBuilder=function(t){return null!=t.buildAdornerRender}}(t||(t={})),function(t){!function(t){var e=function(){function t(){this.units=[],this.datas=[]}return t.prototype.addData=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t;n<i.length;n++){var o=i[n];this.datas.push(o)}},t.prototype.addUnit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t;n<i.length;n++){var o=i[n];this.units.push(o)}},t.prototype.classify=function(){return this.groups=[],this.order=0,this.groups},t}();t.Classifier=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInClickInteractionBuilders=function(){return null==i.__buildInClickInteractionBuilders&&(i.__buildInClickInteractionBuilders=new i([],i._pluginType)),i.__buildInClickInteractionBuilders},i.prototype._convert=function(e){return t._isClickInteractionBuilder(e)?e:null},i.prototype._clickInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o],a=l.item.buildClickInteraction(t,l.option);i.push(a)}return i},i._pluginType="ClickInteraction",i}(t._BuildInObjectCollection);t._BuildInClickInteractionBuilderCollection=e}(t||(t={})),function(t){var e=function(t,e){this._plotLogicRect=t,this._plotRect=e};t._CoordinateSystemLayoutResult=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._layoutCoordinateSystem=function(t,e,n,i){var o=this._convertCoordinateSystemView(i);return null!=o?this._layoutCoordinateSystemView(o,t,n,e):null},t.prototype._applyPlotsMarginRectangle=function(t,e){t.left<e.left&&(t.width-=e.left-t.left,t.left=e.left),t.right>e.right&&(t.width-=t.right-e.right),t.top<e.top&&(t.height-=e.top-t.top,t.top=e.top),t.bottom>e.bottom&&(t.height-=t.bottom-e.bottom)},t}();t._BaseCoordinateSystemViewLayoutPolicy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInCoordinateSystemLayoutBuilderCollection=function(){return null==i.__buildInCoordinateSystemLayoutBuilderCollection&&(i.__buildInCoordinateSystemLayoutBuilderCollection=new i([],i._pluginType)),i.__buildInCoordinateSystemLayoutBuilderCollection},i.prototype._convert=function(e){return t._isCoordinateSystemLayoutBuilder(e)?e:null},i.prototype._coordinateSystemLayoutPolicy=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i],l=r.item._buildCoordinateSystemViewLayoutPolicy(t,r.option);if(null!=l)return l}return null},i._pluginType="CoordinateSystemLayout",i}(t._BuildInObjectCollection);t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isCoordinateSystemLayoutBuilder=function(t){return null!=t._buildCoordinateSystemViewLayoutPolicy}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isXyCartesianCoordinateSystemView(e)&&"CartesianXy"==e._getDefinition()._type?e:null},i.prototype._layoutCoordinateSystemView=function(e,n,o,r){var l=e._canScroll()?this._calcLogicRect(r,e._horizontalViewSize,e._verticalViewSize):r,a=l.clone(),u=!e._canScroll(),s=this._preLayoutShapesInPlotLogicRect(n,r,o,e,a,u),_=s[0],p=s[1];o._checkOverlap=!0;for(var c=l.size,h=null;null==h;){var f=this._adjustPlotRect(a.clone(),_,l);if(f=this._adjustPlotRectByMinSize(f,r,e),i._rectanglePixelRoundEqualityComparer._equalsWith(f,a)){if(u){u=!1,a=l.clone(),_=p;continue}break}if((f.width<=0||f.height<=0)&&u)u=!1,a=l.clone(),_=p;else{if(a=f,_=this._layoutShapesInPlotLogicRect(n,r,o,e,a,u,!0)[0],a.width<=0||a.height<=0)break;this._isInnerSize(_.size,c)&&(h=a)}}var d=null;if(null!=h)if(i._rectanglePixelRoundEqualityComparer._equalsWith(_,l))d=h;else for(a=h;null==d;){if(f=this._adjustPlotLocation(a.clone(),_,l),i._rectanglePixelRoundEqualityComparer._equalsWith(f,a)){d=a;break}if(a=f,_=this._layoutShapesInPlotLogicRect(n,r,o,e,a,u,!1)[0],this._isInnerShape(_,l)){d=a;break}}if(o._innerPlotAreaRect=l,null!=d){a=d;var y=[];y.push(a);for(var g=1,m=_;!i._rectanglePixelRoundEqualityComparer._equalsWith(_,l)&&y.length<10&&g>.001&&(f=this._adjustPlotRectByStep(a.clone(),_,l,g),!this._isStepToPrecision(f,a));)a=f,y.push(a.clone()),_=this._layoutShapesInPlotLogicRect(n,r,o,e,a,u,!1)[0],this._isGreaterThanLastShape(_,m)&&this._isInnerShape(_,l)?m=_:(y.pop(),a=y[y.length-1],_=m,g/=2)}a=this._adjustPlotRectByAxisViewsSize(a,_,r,e);var v,w=null,b=o._plotsMarginRectangle;if(e._canScroll()){var P=r.clone();P.left+=Math.abs(l.left-a.left),P.top+=Math.abs(l.top-a.top),P.width-=Math.abs(l.width-a.width),P.height-=Math.abs(l.height-a.height),null!=b&&this._applyPlotsMarginRectangle(P,b);var S=this._calcLogicRect(P,e._horizontalViewSize,e._verticalViewSize);this._layoutShapesInPlotLogicRect(n,r,o,e,S,!0,!1,P),w=P}else null!=b&&this._applyPlotsMarginRectangle(a,b),this._layoutShapesInPlotLogicRect(n,r,o,e,a,!0,!1)[0],w=a;return o._checkOverlap=!1,v=a,new t._CoordinateSystemLayoutResult(v,w)},i.prototype._setVerticalAxisRange=function(t,e,n){n?t._scaleModel._setRange([e.bottom,e.top]):t._scaleModel._internalSetRange([e.bottom,e.top])},i.prototype._setHorizontalAxisRange=function(t,e,n){n?t._scaleModel._setRange([e.left,e.right]):t._scaleModel._internalSetRange([e.left,e.right])},i.prototype._layoutHorizontalAxisView=function(e,n,i,o,r,l,a,u){for(var s=r.top,_=r.bottom,p=e._getLayoutCount(),c=0,h=0,f=new t.core.Size(l.width,i.height),d=0;d<p;d++){var y=this._getHorizontalAxisViewHeight(e,f,n);c=y[0],h=y[1];var g=e._getAcutalOrigin(),m=e.getViewPosition(),v=e.getLabelPosition(),w=e._hasOtherSide(),b=s;if(null==g)m==t.Position.Bottom?b=_:m==t.Position.Top?b=s-c:c=1;else if(null!=u){var P=u._scaleModel._value(g);m==t.Position.Bottom?b=null==P||isNaN(P)?_:P:m==t.Position.Top?b=null==P||isNaN(P)?s-c:P-c:c=1}e._autoOverflow=e._autoChangeOverflow();var S=new t.core.Rect(l.left,b,l.width,c);if(o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,l.width,a.height),w){var C=s;v==t.Position.Top?C=s-h:v==t.Position.Bottom&&(C=_),o._otherSideRect=new t.core.Rect(l.left,C,l.width,h),e._layout(n,S,o),o._otherSideRect=null}else e._layout(n,S,o);if(o._lineCartesianCoordinateSystemContent=null,d==p-1||!e._isLabelViewsOverlapped()){if(null==g)m==t.Position.Bottom?_+=c:m==t.Position.Top&&(s-=c);else if(null!=u){var V=u._scaleModel._value(g),x=null==V||isNaN(V)?0:V;m==t.Position.Bottom?_+=Math.max(0,x+c-l.bottom):m==t.Position.Top&&(s-=Math.max(0,l.top-(x-c)))}w&&(v==t.Position.Bottom?_+=h:v==t.Position.Top&&(s-=h));break}e._autoAngle=e._autoChangeAngle()}return r.top=s,r.height=_-s,r},i.prototype._layoutVerticalAxisView=function(e,n,i,o,r,l,a,u){var s,_=r.left,p=r.right,c=0,h=new t.core.Size(i.width,l.height),f=this._getVerticanAxisViewWidth(e,h,n);c=f[0],s=f[1];var d=e._getAcutalOrigin(),y=e.getViewPosition(),g=e.getLabelPosition(),m=e._hasOtherSide(),v=_;if(null==d)y==t.Position.Left?v=_-c:y==t.Position.Right?v=p:c=1;else if(null!=u){var w=u._scaleModel._value(d);y==t.Position.Left?v=null==w||isNaN(w)?_:w-c:y==t.Position.Right?v=null==w||isNaN(w)?p:w:c=1}var b=new t.core.Rect(v,l.top,l.height,c);if(o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,a.width,l.height),m){var P=_;g==t.Position.Left?P=_-s:g==t.Position.Right&&(P=p),o._otherSideRect=new t.core.Rect(P,l.top,l.height,s),e._layout(n,b,o),o._otherSideRect=null}else e._layout(n,b,o);if(o._lineCartesianCoordinateSystemContent=null,null==d)y==t.Position.Left?_-=c:y==t.Position.Right&&(p+=c);else if(null!=u){var S=u._scaleModel._value(d);y==t.Position.Left?_+=Math.max(0,(null==S||isNaN(S)?0:S)-c-l.left):y==t.Position.Right&&(p+=Math.max(0,(null==S||isNaN(S)?0:S)+c-l.right))}return m&&(g==t.Position.Right?p+=s:g==t.Position.Left&&(_-=s)),r.left=_,r.width=p-_,r},i.prototype._getHorizontalAxisViewHeight=function(e,n,i){var o=0,r=0,l=n.width,a=0,u=0,s=!0;null==e._getForceHeight(n.height)&&null==e._getForceMaxHeight(n.height)||(s=!1);var _=e._getSuggestHeight(n.height),p=e.getViewPosition(),c=n.height*(s?t._Constants.AxisMaxWidthOrHeight:1);p==t.Position.Bottom?a=Math.min(c,_):p==t.Position.Top?u=Math.min(c,_):_=Math.min(c,_);var h=null;h=e.position==t.AxisPosition.Near?new t.core.Size(l,a):e.position==t.AxisPosition.Far?new t.core.Size(l,u):new t.core.Size(l,Math.min(c,_));var f=e._measure(i,h);e._hasOtherSide()?(o=f._linesSize.height>_?_:f._linesSize.height,r=f._lablesSize.height):o=f._size.height>_?_:f._size.height;var d=e._getForceHeight(n.height);null!=d&&(o=d);var y=e._getForceMaxHeight(n.height);return null!=y&&o>y&&(o=y),[o,r]},i.prototype._getVerticanAxisViewWidth=function(e,n,i){var o=0,r=0,l=e._getSuggestWidth(n.width),a=e._measure(i,new t.core.Size(l,n.height));e._hasOtherSide()?(o=a._linesSize.height>l?l:a._linesSize.height,r=a._lablesSize.height):o=a._size.height>l?l:a._size.height;var u=e._getForceWidth(n.width);null!=u&&(o=u);var s=e._getForceMaxWidth(n.width);return null!=s&&o>s&&(o=s),[o,r]},i.prototype._initVerticlAxisViewTickNumber=function(e,n,i){var o=n.height,r=e._getSuggestWidth(n.width),l=new t.core.Size(r,o),a=e._measureMaxLabelSize(i,l),u=e._scaleModel._scale,s=u._getMajorUnit(),_=isNaN(s);if(!_&&Math.ceil((u.niceMax()-u.niceMin())/s)+1>t._Constants.MaxMajorTickCount&&(_=!0),_)if(o>0){var p=o/(a.height+6);e._scaleModel._setTickNumber(p<1?1:p)}else e._scaleModel._setTickNumber(1)},i.prototype._initHorizontalAxisViewTickNumber=function(e,n,i){var o=n.width,r=0,l=0,a=!0;null==e._getForceHeight(n.height)&&null==e._getForceMaxHeight(n.height)||(a=!1);var u=e._getSuggestHeight(n.height),s=e.getViewPosition(),_=n.height*(a?t._Constants.AxisMaxWidthOrHeight:1);s==t.Position.Bottom?r=Math.min(_,u):s==t.Position.Top?l=Math.min(_,u):u=Math.min(_,u);var p=null;p=e.position==t.AxisPosition.Near?new t.core.Size(o,r):e.position==t.AxisPosition.Far?new t.core.Size(o,l):new t.core.Size(o,Math.min(_,u));var c=e._measureMaxLabelSize(i,p),h=e._scaleModel._scale,f=h._getMajorUnit(),d=isNaN(f);if(!d&&Math.ceil((h.niceMax()-h.niceMin())/f)+1>t._Constants.MaxMajorTickCount&&(d=!0),d)if(o>0){var y=o/(c.width+6);e._scaleModel._setTickNumber(y<1?1:y)}else e._scaleModel._setTickNumber(1)},i.prototype._initPlotViewsAxisScale=function(e,n){for(var i=0,o=e._getPlotViews();i<o.length;i++){var r=o[i];t._isCartesianPlotView(r)&&r._initAxisScale(n)}},i.prototype._inithAxisesScale=function(e,n,i,o,r){for(var l=new t.core.Size(n.width,i.height),a=0,u=e._getVerticalAxisViews();a<u.length;a++){var s=u[a];this._setVerticalAxisRange(s,i,r),r&&this._initVerticlAxisViewTickNumber(s,l,o)}for(var _=new t.core.Size(i.width,n.height),p=0,c=e._getHorizontalAxisViews();p<c.length;p++){var h=c[p];this._setHorizontalAxisRange(h,i,r),r&&this._initHorizontalAxisViewTickNumber(h,_,o)}},i.prototype._layoutPlotsShapes=function(e,n,i,o){var r=[];o._layout(e,i,n);for(var l=0,a=o._getPlotViews();l<a.length;l++){var u=a[l];if(t._isCartesianPlotView(u)){var s=u;r.push.apply(r,s._getLayoutShapes())}}return r},i.prototype._preLayoutShapesInPlotLogicRect=function(e,n,i,o,r,l){i._innerPlotAreaRect=t._RectangleUtility._inflateRectangle(r,1e4,1e4);for(var a=0,u=o._getHorizontalAxisViews();a<u.length;a++){var s=u[a];s._autoAngle=null,s._autoOverflow=null}return this._layoutShapesInPlotLogicRect(e,n,i,o,r,l,!0)},i.prototype._layoutShapesInPlotLogicRect=function(t,e,n,i,o,r,l,a){void 0===a&&(a=null),n._axisLabels=[],null==a&&(a=o),this._inithAxisesScale(i,e,o,t,l),this._initPlotViewsAxisScale(i._getPlotListView(),t);for(var u=i._getHorizontalAxisViews(),s=i._getVerticalAxisViews(),_=a.clone(),p=0,c=s;p<c.length;p++){var h=c[p];_=this._layoutVerticalAxisView(h,t,e,n,_,o,a,u[0])}_=a.clone();for(var f=0,d=u;f<d.length;f++){var y=d[f];_=this._layoutHorizontalAxisView(y,t,e,n,_,o,a,s[0])}var g=r?this._layoutPlotsShapes(t,e,n,i._getPlotListView()):[],m=this._getVerticalAxisViewsShapeRect(s,e.width,o),v=this._getHorizonalAxisViewsShapeRect(u,e.height,o),w=this._unionRect(m,v),b=this._calcShapesRect(g),P=this._unionRect(w,o.clone()),S=this._unionRect(b,P);return[S=this._fixShapeRect(e,S,o,u,s),P=this._fixShapeRect(e,P,o,u,s)]},i.prototype._fixShapeRect=function(e,n,i,o,r){for(var l=null,a=null,u=!0,s=0,_=r;s<_.length;s++){var p=_[s];null==p._getForceWidth(e.width)&&null==p._getForceMaxWidth(e.width)||(u=!1);var c=p._getSuggestWidth(e.width);(P=p.getViewPosition())==t.Position.Left?l=(null==l?0:l)+c:P==t.Position.Right&&(a=(null==a?0:a)+c)}var h,f=e.width*(u?t._Constants.AxisMaxWidthOrHeight:1);if(null!=l){var d=Math.min(f,l);(h=i.left-n.left)>d&&(n.left+=h-d,n.width-=h-d)}null!=a&&(d=Math.min(f,a),(h=n.right-i.right)>d&&(n.width-=h-d));for(var y=null,g=null,m=!0,v=0,w=o;v<w.length;v++){var b=w[v];null==b._getForceHeight(e.height)&&null==b._getForceMaxHeight(e.height)||(m=!1);var P,S=b._getSuggestHeight(e.height);(P=b.getViewPosition())==t.Position.Bottom?y=(null==y?0:y)+S:P==t.Position.Top&&(g=(null==g?0:g)+S)}var C,V=e.height*(m?t._Constants.AxisMaxWidthOrHeight:1);if(null!=y){var x=Math.min(V,y);(C=n.bottom-i.bottom)>x&&(n.height-=C-x)}return null!=g&&(x=Math.min(V,g),(C=i.top-n.top)>x&&(n.top+=C-x,n.height-=C-x)),n},i.prototype._getVerticalAxisViewsShapeRect=function(e,n,i){for(var o=null,r=!0,l=!1,a=!1,u=0,s=e;u<s.length;u++){var _=s[u];null==_._getForceWidth(n)&&null==_._getForceMaxWidth(n)||(r=!1);var p=_.getLabelPosition(),c=_.getViewPosition(),h=p==t.Position.Left||c==t.Position.Left,f=p==t.Position.Right||c==t.Position.Right,d=this._getVerticalAxisViewShapesRect(_,n);if(h&&!f&&null!=d&&d.right>i.right){var y=d.right-i.right;d.width-=y}!h&&f&&null!=d&&d.left<i.left&&(y=i.left-d.left,d.left+=y,d.width-=y),l=!!h||l,a=!!f||a,o=this._unionRect(o,d)}if(null!=o&&r){var g=n*t._Constants.AxisMaxWidthOrHeight,m=Math.max(0,i.left-o.left),v=Math.max(0,o.right-i.right);if(m+v>g)if(y=m+v-g,0==m&&(l=!1),0==v&&(a=!1),l&&a){var w=t._Constants.AxisMaxWidthOrHeight/2*n;if(m>w&&v>w){var b=m-w;o.left+=b,o.width-=b;var P=v-w;o.width-=P}else m>w?(o.left+=y,o.width-=y):v>w&&(o.width-=y)}else l?(o.left+=y,o.width-=y):a&&(o.width-=y)}return o},i.prototype._getHorizonalAxisViewsShapeRect=function(e,n,i){for(var o=null,r=!0,l=!1,a=!1,u=0,s=e;u<s.length;u++){var _=s[u];null==_._getForceHeight(n)&&null==_._getForceMaxHeight(n)||(r=!1);var p=_.getLabelPosition(),c=_.getViewPosition(),h=this._getHorizontalAxisViewShapesRect(_,n),f=p==t.Position.Top||c==t.Position.Top,d=p==t.Position.Bottom||c==t.Position.Bottom;if(f&&!d&&null!=h&&h.bottom>i.bottom){var y=h.bottom-i.bottom;h.height-=y}!f&&d&&null!=h&&h.top<i.top&&(y=i.top-h.top,h.top+=y,h.height-=y),l=!!f||l,a=!!d||a,o=this._unionRect(o,h)}if(null!=o&&r){var g=n*t._Constants.AxisMaxWidthOrHeight,m=Math.max(0,i.top-o.top),v=Math.max(0,o.bottom-i.bottom);if(m+v>g)if(y=m+v-g,0==m&&(l=!1),0==v&&(a=!1),l&&a){var w=t._Constants.AxisMaxWidthOrHeight/2*n;if(m>w&&v>w){var b=m-w;o.top+=b,o.height-=b;var P=v-w;o.height-=P}else m>w?(o.top+=y,o.height-=y):v>w&&(o.height-=y)}else l?(o.top+=y,o.height-=y):a&&(o.height-=y)}return o},i.prototype._getVerticalAxisViewShapesRect=function(e,n){if(e._getDefinition()._option.position==t.AxisPosition.None)return null;if(e._hasOtherSide()){var i=this._calcShapesRect(e._getLayoutLineShapes());this._fixVerticalAxisViewShapesRectWidth(i,e,n);var o=this._calcShapesRect(e._getLayoutLabelShapes());return this._unionRect(i,o)}var r=this._calcShapesRect(e._getLayoutShapes(!0));if(null!=r){var l=e.getViewPosition(),a=e._rectangle().clone();l==t.Position.Right?(a.right>r.right&&(a.width-=a.right-r.right),r=this._unionRect(r,a)):l==t.Position.Left&&(a.left<r.left&&(a.left+=r.left-a.left,a.width-=r.left-a.left),r=this._unionRect(r,a))}return this._fixVerticalAxisViewShapesRectWidth(r,e,n),r},i.prototype._getHorizontalAxisViewShapesRect=function(e,n){if(e._getDefinition()._option.position==t.AxisPosition.None)return null;if(e._hasOtherSide()){var i=this._calcShapesRect(e._getLayoutLineShapes());this._fixHorizontalAxisViewShapesRectHeight(i,e,n);var o=this._calcShapesRect(e._getLayoutLabelShapes());return this._unionRect(i,o)}var r=this._calcShapesRect(e._getLayoutShapes(!0));if(null!=r){var l=e.getViewPosition(),a=e._rectangle().clone();l==t.Position.Bottom?(a.bottom>r.bottom&&(a.height-=a.bottom-r.bottom),r=this._unionRect(r,a)):l==t.Position.Top&&(a.top<r.top&&(a.top+=r.top-a.top,a.height-=r.top-a.top),r=this._unionRect(r,a))}return this._fixHorizontalAxisViewShapesRectHeight(r,e,n),r},i.prototype._fixVerticalAxisViewShapesRectWidth=function(e,n,i){var o=n._getForceWidth(i),r=n._getForceMaxWidth(i);if((null!=o||null!=r)&&null!=e){var l=n._getSuggestWidth(i),a=n.getViewPosition();a==t.Position.Left&&e.width>l?(e.left+=e.width-l,e.width=l):a==t.Position.Right&&e.width>l&&(e.width=l)}},i.prototype._fixHorizontalAxisViewShapesRectHeight=function(e,n,i){if(null!=e){var o=n._getForceHeight(i),r=n._getForceMaxHeight(i);if(null!=o||null!=r){var l=n._getSuggestHeight(i),a=n.getViewPosition();a==t.Position.Top&&e.height>l?(e.top+=e.height-l,e.height=l):a==t.Position.Bottom&&e.height>l&&(e.height=l)}}},i.prototype._unionRect=function(e,n){return null!=e&&null!=n?t._RectangleUtility._unionOfRectangles(e,n):null!=e?e:null!=n?n:null},i.prototype._isInnerSize=function(t,e){return(t.width<e.width||Math.abs(t.width-e.width)<.5)&&(t.height<e.height||Math.abs(t.height-e.height)<.5)},i.prototype._isInnerShape=function(e,n){var o=t._RectangleUtility._intersectionOfRectangle(e,n);return i._rectanglePixelRoundEqualityComparer._equalsWith(e,o)||i._rectanglePixelRoundEqualityComparer._equalsWith(e,n)},i.prototype._isGreaterThanLastShape=function(t,e){return!(t.width<e.width||t.height<e.height||t.left>e.left||t.top>e.top||t.bottom<e.bottom||t.right<e.right)},i.prototype._isStepToPrecision=function(t,e){var n=.5;return Math.abs(e.right-t.right)<n&&Math.abs(e.left-t.left)<n&&Math.abs(e.top-t.top)<n&&Math.abs(e.bottom-t.bottom)<n},i.prototype._adjustPlotRect=function(t,e,n){var i=e.left-n.left,o=e.right-n.right,r=e.top-n.top,l=e.bottom-n.bottom,a=Math.abs(i);i<0&&(a<t.width?(t.left+=a,t.width-=a):(t.left+=t.width,t.width=0));var u=Math.abs(o);o>0&&(u<t.width?t.width-=u:t.width=0);var s=Math.abs(r);r<0&&(s<t.height?(t.top+=s,t.height-=s):(t.top+=t.height,t.height=0));var _=Math.abs(l);return l>0&&(_<t.height?t.height-=_:t.height=0),t},i.prototype._adjustPlotRectByMinSize=function(e,n,i){var o=i._innerMinSize();if(null==o)return e;var r=i._getHorizontalAxisViews(),l=i._getVerticalAxisViews(),a=null,u=o.height;null!=u&&(u.type==t.ValueOptionType.Percentage?a=u.value*n.height:u.type===t.ValueOptionType.Pixel&&(a=u.value));var s=null,_=o.width;if(null!=_&&(_.type==t.ValueOptionType.Percentage?s=_.value*n.width:_.type===t.ValueOptionType.Pixel&&(s=_.value)),null!=s&&e.width<s){for(var p=e.left-n.left,c=n.right-e.right,h=s-e.width,f=!1,d=!1,y=0,g=l;y<g.length;y++)(D=g[y]).position==t.AxisPosition.Near?f=!0:D.position==t.AxisPosition.Far&&(d=!0);if(f&&d)e.left-=.5*h,e.width+=h;else if(f)if(c<h){var m=h-c;e.left-=m,e.width+=c+m}else e.width+=h;else if(d)if(p<h){var v=h-p;e.left-=p,e.width+=p+v}else e.left-=h,e.width+=h}if(null!=a&&e.height<a){for(var w=e.top-n.top,b=n.bottom-e.bottom,P=a-e.height,S=!1,C=!1,V=0,x=r;V<x.length;V++){var D;(D=x[V]).position==t.AxisPosition.Near?C=!0:D.position==t.AxisPosition.Far&&(S=!0)}if(S&&C)e.top-=.5*P,e.height+=P;else if(S)if(b<P){var O=P-b;e.top-=O,e.height+=P}else e.height+=P;else C&&(w<P||(e.top-=P),e.height+=P)}return e},i.prototype._adjustPlotLocation=function(t,e,n){var i=e.left-n.left,o=n.right-e.right,r=e.top-n.top,l=n.bottom-e.bottom,a=Math.abs(i),u=Math.abs(o);i>=0&&o<=0?t.left-=a>u?u:a:o>=0&&i<=0&&(t.left+=u>a?a:u);var s=Math.abs(r),_=Math.abs(l);return r>=0&&l<=0?t.top-=s>_?_:s:l>=0&&r<=0&&(t.top+=_>s?s:_),t},i.prototype._adjustPlotRectByStep=function(t,e,n,i){var o=e.left-n.left,r=n.right-e.right,l=e.top-n.top,a=n.bottom-e.bottom;return o>0&&(t.left-=o*i,t.width+=o*i),r>0&&(t.width+=r*i),l>0&&(t.top-=l*i,t.height+=l*i),a>0&&(t.height+=a*i),t},i.prototype._adjustPlotRectByAxisViewsSize=function(t,e,n,i){var o=i._getHorizontalAxisViews(),r=i._getVerticalAxisViews();return r.length>0&&(t=this._adjustPlotRectWidthByVerticalAxisViewsWidth(t,e,n,r)),o.length>0&&(t=this._adjustPlotRectHeightByHorizontalAxisViewsHeight(t,e,n,o)),this._adjustPlotRectByMinSize(t,n,i)},i.prototype._adjustPlotRectWidthByVerticalAxisViewsWidth=function(e,n,i,o){for(var r=i.width,l=!1,a=!1,u=!1,s=0,_=o;s<_.length;s++){var p=_[s];l||null==p._getForceWidth(r)&&null==p._getForceMaxWidth(r)||(l=!0);var c=p.getLabelPosition(),h=p.getViewPosition();c!=t.Position.Left&&h!=t.Position.Left||(a=!0),c!=t.Position.Right&&h!=t.Position.Right||(u=!0)}var f=Math.max(0,e.left-Math.min(n.left,i.left)),d=Math.max(0,Math.max(n.right,i.right)-e.right),y=f/r,g=d/r;if(l){if(y+g>1){var m=t._Constants.AxisSetValueMaxWidthOrHeight,v=u&&g>=m;(w=a&&y>=m)&&v?(e.left=i.left+r*m,e.width=0):w&&u?(e.left=i.right-d,e.width=0):v&&a&&(e.left=i.left+f,e.width=0)}}else{var w,b=1-t._Constants.AxisMaxWidthOrHeight;y+g>t._Constants.AxisMaxWidthOrHeight&&(m=t._Constants.AxisMaxWidthOrHeight/2,v=u&&g>=m,(w=a&&y>=m)&&v?(e.left=i.left+r*m,e.width=r*b):w?(e.left=i.right-d-r*b,e.width=r*b):v&&(e.left=i.left+f,e.width=r*b))}return e},i.prototype._adjustPlotRectHeightByHorizontalAxisViewsHeight=function(e,n,i,o){for(var r=i.height,l=!1,a=!1,u=!1,s=0,_=o;s<_.length;s++){var p=_[s];l||null==p._getForceHeight(r)&&null==p._getForceMaxHeight(r)||(l=!0);var c=p.getLabelPosition(),h=p.getViewPosition();c!=t.Position.Top&&h!=t.Position.Top||(a=!0),c!=t.Position.Bottom&&h!=t.Position.Bottom||(u=!0)}var f=Math.max(0,e.top-Math.min(n.top,i.top)),d=Math.max(0,Math.max(n.bottom,i.bottom)-e.bottom),y=f/r,g=d/r;if(l){if(y+g>1){var m=t._Constants.AxisSetValueMaxWidthOrHeight,v=u&&g>=m;(w=a&&y>=m)&&v?(e.top=i.top+r*m,e.height=0):w&&u?(e.top=i.bottom-d,e.height=0):v&&a&&(e.top=i.top+f,e.height=0)}}else{var w,b=1-t._Constants.AxisMaxWidthOrHeight;y+g>t._Constants.AxisMaxWidthOrHeight&&(m=t._Constants.AxisMaxWidthOrHeight/2,v=u&&g>=m,(w=a&&y>=m)&&v?(e.top=i.top+r*m,e.height=r*b):w?(e.top=i.bottom-d-r*b,e.height=r*b):v&&(e.top=i.top+f,e.height=r*b))}return e},i.prototype._calcShapesRect=function(e){for(var n=null,i=0,o=e;i<o.length;i++){var r=o[i],l=Math.min(r.leftTop.x,r.rightTop.x,r.rightBottom.x,r.leftBottom.x),a=Math.max(r.leftTop.x,r.rightTop.x,r.rightBottom.x,r.leftBottom.x),u=Math.min(r.leftTop.y,r.rightTop.y,r.rightBottom.y,r.leftBottom.y),s=Math.max(r.leftTop.y,r.rightTop.y,r.rightBottom.y,r.leftBottom.y),_=new t.core.Rect(l,u,a-l,s-u);n=this._unionRect(n,_)}return n},i.prototype._calcLogicRect=function(e,n,i){return new t.core.Rect(e.left,e.top,e.width/n,e.height/i)},i._rectanglePixelRoundEqualityComparer=new t._RectanglePixelRoundEqualityComparer(.5),i}(t._BaseCoordinateSystemViewLayoutPolicy);t._DefaultXyCartesianCoordinateSystemViewLayoutPolicy=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){if(t._isCartesianCoordinateSystemView(e)&&t._isXyCartesianCoordinateSystemView(e)){var n=e;if(n._getLayoutType()==t._MirrorXyCartesianCoordinateSystemConstants._layoutType&&"MirrorCartesianXy"==n._getDefinition()._type&&n._getHorizontalAxisViews().some((function(t){return t._isMirror()})))return n}return null},i.prototype._setHorizontalAxisRange=function(t,n,i){t._isMirror()?1==t._getIsForwardDirection()?i?t._scaleModel._setRange([n.left+.5*n.width,n.right]):t._scaleModel._internalSetRange([n.left+.5*n.width,n.right]):i?t._scaleModel._setRange([n.left,n.right-.5*n.width]):t._scaleModel._internalSetRange([n.left,n.right-.5*n.width]):e.prototype._setHorizontalAxisRange.call(this,t,n,i)},i.prototype._layoutHorizontalAxisView=function(n,i,o,r,l,a,u,s){if(!n._isMirror())return e.prototype._layoutHorizontalAxisView.call(this,n,i,o,r,l,a,u,s);var _=u.top,p=u.bottom,c=n._getLayoutCount(),h=0,f=0,d=n._getAcutalOrigin(),y=n.getViewPosition(),g=n.getLabelPosition(),m=n._hasOtherSide(),v=.5*a.width,w=a.left;1==n._getIsForwardDirection()&&(w=a.left+v);for(var b=0;b<c;b++){var P=n._getSuggestHeight(o.height),S=n._measure(i,new t.core.Size(v,P));m?(h=S._linesSize.height>P?P:S._linesSize.height,f=S._lablesSize.height):h=S._size.height>P?P:S._size.height,null!=n._getForceHeight(o.height)&&(h=n._getForceHeight(o.height));var C=_;if(null==d)y==t.Position.Bottom?C=p:y==t.Position.Top?C=_-h:h=1;else if(null!=s){var V=s._scaleModel._value(d);y==t.Position.Bottom?C=null!=V?V:p:y==t.Position.Top?C=null!=V?V-h:_-h:h=1}var x=new t.core.Rect(w,C,v,h);if(r._lineCartesianCoordinateSystemContent=new t.core.Rect(w,a.top,v,u.height),m){var D=_;g==t.Position.Top?D=_-f:g==t.Position.Bottom&&(D=p),r._otherSideRect=new t.core.Rect(w,D,v,f),n._layout(i,x,r),r._otherSideRect=null}else n._layout(i,x,r);if(r._lineCartesianCoordinateSystemContent=null,b==c-1||!n._isLabelViewsOverlapped())break;1==n._getIsForwardDirection()?n._autoAngle=-n._autoChangeAngle():n._autoAngle=n._autoChangeAngle()}return l},i.prototype._layoutVerticalAxisView=function(n,i,o,r,l,a,u,s){if(null==s||!s._isMirror())return e.prototype._layoutVerticalAxisView.call(this,n,i,o,r,l,a,u,s);var _=l.left,p=l.right,c=0,h=0,f=n.getViewPosition(),d=n.getLabelPosition(),y=n._hasOtherSide(),g=n._getSuggestWidth(o.width),m=n._measure(i,new t.core.Size(g,a.height));y?(c=m._linesSize.height>g?g:m._linesSize.height,h=m._lablesSize.height):c=m._size.height>g?g:m._size.height,null!=n._getForceWidth(o.width)&&(c=n._getForceWidth(o.width));var v=a.left+.5*u.width;f==t.Position.Left?v-=c:f==t.Position.Right||(c=1);var w=new t.core.Rect(v,a.top,a.height,c);if(r._lineCartesianCoordinateSystemContent=new t.core.Rect(a.left,a.top,u.width,a.height),y){var b=_;d==t.Position.Left?b=_-h:d==t.Position.Right&&(b=p),r._otherSideRect=new t.core.Rect(b,a.top,a.height,h),n._layout(i,w,r),r._otherSideRect=null}else n._layout(i,w,r);return r._lineCartesianCoordinateSystemContent=null,y&&(d==t.Position.Right?p+=h:d==t.Position.Left&&(_-=h)),l.left=_,l.width=p-_,l},i}(t._DefaultXyCartesianCoordinateSystemViewLayoutPolicy);t._DefaultMirrorXyCartesianCoordinateSystemViewLayoutPolicy=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){return t._isPolarCoordinateSystemView(e)?e:null},i.prototype._layoutCoordinateSystemView=function(e,n,i,o){return new t._CoordinateSystemLayoutResult(o.clone(),null)},i}(t._BaseCoordinateSystemViewLayoutPolicy);t._DefaultPolarCoordinateSystemViewLayoutPolicy=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){var n=e._getDefinition()._type;return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)&&("CartesianRadial"==n||"CartesianPolygonal"==n)?e:null},i.prototype._layoutCoordinateSystemView=function(e,n,i,o){for(var r=e._horizontalCanScroll()?e._horizontalViewSize:1,l=e._verticalCanScroll()?e._verticalViewSize:1,a=e._getHorizontalAxisViews().filter((function(t){return t._scaleModel._hasScale()})),u=e._getVerticalAxisViews().filter((function(t){return t._scaleModel._hasScale()})),s=e._getPlotListView(),_=e._getPlotViews(),p=new t.core.Rect(o.left,o.top,o.width/r,o.height/l),c=0,h=[],f=[],d=0;d<u.length;d++){var y=u[d];if(h.push(0),f.push(0),y.position!=t.AxisPosition.None){var g=new t.core.Size(p.width,p.height),m=y._measure(n,g)._size;f[d]+=m.height,h[d]+=m.height-y._axisLabelHeight-y._getAxisLineWidth(),c+=h[d]}}var v=p.clone();v.height-=c;var w=new t.core.Point(o.left+o.width/2,o.top+o.height/2),b=1e3,P=this._getRadialRectangle(u,w,b),S=Math.min(v.width/P.width,v.height/P.height)*b,C=this._searchBestRadius(n,v,i,w,0,S,a,u,_,s);b=C[0];var V=C[1];if(null!=V){var x=(w=new t.core.Point(w.x-V.left,w.y-V.top)).x-b,D=w.y-b,O=2*b,A=2*b,L=new t.core.Rect(x,D,O,A),T=i._plotsMarginRectangle,M=s._getCoordinateSystemView()._getDefinition()._plotAreaOption.innerMinSize;if(null!=M&&null==T&&null!=(L=this._adjustPlotRectBySize(L,o,M))&&(O=L.right-L.left,A=L.bottom-L.top,b=.5*Math.min(O,A),O>A?(w.x=L.left+.5*L.width,w.y=L.top+b):(w.x=L.left+b,w.y=L.top+.5*L.height)),null!=T)this._applyPlotsMarginRectangle(L,T),O=L.right-L.left,A=L.bottom-L.top,b=.5*Math.min(O,A),O>A?(w.x=L.left+.5*L.width,w.y=L.top+b):(w.x=L.left+b,w.y=L.top+.5*L.height),this._layoutShapesRect(n,v,i,w,b,a,u,_,s);else{var E=this._layoutShapesRect(n,v,i,w,b,a,u,_,s);if(null!=E){var I=E.left-v.left,B=E.right-v.right,R=E.top-v.top,k=E.bottom-v.bottom;w=this._makeCenter(w,I,B,R,k)}}}b>=1&&(b-=.5);var N=p.clone(),F=0;for(d=u.length-1;d>=0;d--)y=u[d],(b-=F)<0&&(b=0),F=this._layoutVerticalAxisView(y,n,i,N,b,w,F,f[d],h[d]);for(var U=0,z=a;U<z.length;U++){var j=z[U];this._setHorizontalAxisRange(j,j._innerRadius*b,b),this._layoutAxisView(j,n,i,N,b,w)}var W=new t.core.Rect(w.x-b,w.y-b,2*b,2*b);return new t._CoordinateSystemLayoutResult(W,null)},i.prototype._applyPlotsMarginRectangle=function(t,e){t.left<e.left&&(t.left=e.left),t.right>e.right?t.width=e.right-t.left:t.width+=e.right-t.right,t.top<e.top&&(t.top=e.top),t.bottom>e.bottom?t.height=e.bottom-t.top:t.height+=e.bottom-t.bottom},i.prototype._getStartAngle=function(t){return t._startAngle()},i.prototype._getRadialRectangle=function(e,n,i){for(var o=[],r=0,l=e;r<l.length;r++){for(var a=l[r],u=this._getStartAngle(a),s=t._Utility._toFixed(u+a._sweep,16,!0),_=[],p=Math.ceil(u/(Math.PI/2))*(Math.PI/2);p<s;p+=Math.PI/2)_.push(t._Utility._toFixed(p,16,!0));_.indexOf(u)<0&&_.push(u),_.indexOf(s)<0&&_.push(s);for(var c=a._innerRadius*i,h=0,f=_;h<f.length;h++){p=f[h];var d=Math.cos(p),y=Math.sin(p);(C=n.clone()).x+=i*d,C.y+=i*y,o.push(C);var g=n.clone();g.x+=c*d,g.y+=c*y,o.push(g)}}for(var m=NaN,v=NaN,w=NaN,b=NaN,P=0,S=o;P<S.length;P++){var C=S[P];m=isNaN(m)?C.x:Math.min(C.x,m),w=isNaN(w)?C.x:Math.max(C.x,w),v=isNaN(v)?C.y:Math.min(C.y,v),b=isNaN(b)?C.y:Math.max(C.y,b)}return new t.core.Rect(m,v,w-m,b-v)},i.prototype._setVerticalAxisRange=function(t,e,n){t._scaleModel._setRange([e,e+n])},i.prototype._setHorizontalAxisRange=function(t,e,n){t._scaleModel._setRange([e,n])},i.prototype._layoutShapesRect=function(e,n,i,o,r,l,a,u,s){i._axisLabels=[];for(var _=a[0],p=l[0],c=0,h=a;c<h.length;c++){var f=h[c];this._setVerticalAxisRange(f,f._startAngle(),f._sweep)}for(var d=0,y=l;d<y.length;d++){var g=y[d];this._setHorizontalAxisRange(g,g._innerRadius*r,r)}if(null!=p)for(var m=null==p._scaleModel._minimum?0:p._scaleModel._minimum,v=null==p._scaleModel._maximum?0:p._scaleModel._maximum,w=0,b=a;w<b.length;w++){var P=(f=b[w])._getAcutalOrigin();if(null!=P&&P>=m&&P<=v){var S=p._scaleModel._value(P+(null!=p?p._getRadiusOffset():0));f._setOriginRadius(S)}}if(null!=_)for(var C=null==_._scaleModel._minimum?0:_._scaleModel._minimum,V=null==_._scaleModel._maximum?0:_._scaleModel._maximum,x=0,D=l;x<D.length;x++){var O=(g=D[x])._getAcutalOrigin();if(null!=O&&O>=C&&O<=V){var A=_._scaleModel._value(O);g._setOriginAngle(A)}}for(var L=0,T=0,M=a;T<M.length;T++){f=M[T];var E=new t.core.Size(n.width,n.height);if(!t._isOrdinalAxisScale(f._scaleModel._scale)){var I=f._measureMaxLabelSize(e);f._scaleModel._setTickNumber(f._getAnnoNumber(!0,E.height,I))}f.position!=t.AxisPosition.None&&(L=f._axisLabelHeight)}for(var B=0,R=l;B<R.length;B++)if((g=R[B]).position!=t.AxisPosition.None&&(E=new t.core.Size(n.width,n.height-L),g._measure(e,E)),!t._isOrdinalAxisScale(g._scaleModel._scale)){I=g._measureMaxLabelSize(e);var k=2*(L+r);g._scaleModel._setTickNumber(g._getAnnoNumber(!1,k,I))}for(var N=0,F=s._getPlotViews();N<F.length;N++){var U=F[N];t._isCartesianPlotView(U)&&U._initAxisScale(e)}for(var z=[],j=[],W=this._getRadialRectangle(a,o,r),G=0,H=a;G<H.length;G++)(f=H[G])._radius=r,f._cx=o.x,f._cy=o.y,f._layout(e,W,i),z.push.apply(z,f._getLayoutShapes(!1));for(var q=0,J=l;q<J.length;q++)(g=J[q])._radius=r,g._cx=o.x,g._cy=o.y,g._layout(e,W,i),i._ignoreWrap=!0,g._titleView()._layout(e,W,i),i._ignoreWrap=!1,z.push.apply(z,g._getLayoutShapes(!1));for(var X=u,Y=0,Z=X;Y<Z.length;Y++)(U=Z[Y])._setCenter(o.clone());s._layout(e,i,n);for(var K=0,Q=X;K<Q.length;K++)U=Q[K],j.push.apply(j,U._getLayoutShapes());for(var $=W.clone(),tt=0,et=z;tt<et.length;tt++){var nt=et[tt],it=Math.min(nt.leftTop.x,nt.rightTop.x,nt.rightBottom.x,nt.leftBottom.x),ot=Math.max(nt.leftTop.x,nt.rightTop.x,nt.rightBottom.x,nt.leftBottom.x),rt=Math.min(nt.leftTop.y,nt.rightTop.y,nt.rightBottom.y,nt.leftBottom.y),lt=Math.max(nt.leftTop.y,nt.rightTop.y,nt.rightBottom.y,nt.leftBottom.y);$=t._RectangleUtility._unionOfRectangles($,new t.core.Rect(it,rt,ot-it,lt-rt))}for(var at=$.clone(),ut=0,st=j;ut<st.length;ut++)nt=st[ut],it=Math.min(nt.leftTop.x,nt.rightTop.x,nt.rightBottom.x,nt.leftBottom.x),ot=Math.max(nt.leftTop.x,nt.rightTop.x,nt.rightBottom.x,nt.leftBottom.x),rt=Math.min(nt.leftTop.y,nt.rightTop.y,nt.rightBottom.y,nt.leftBottom.y),lt=Math.max(nt.leftTop.y,nt.rightTop.y,nt.rightBottom.y,nt.leftBottom.y),at=t._RectangleUtility._unionOfRectangles(at,new t.core.Rect(it,rt,ot-it,lt-rt));return at},i.prototype._searchBestRadius=function(t,e,n,i,o,r,l,a,u,s){var _=o,p=null,c=o,h=r;for(n._checkOverlap=!1;c<=h;)if(_=(h-c)/2+c,(p=this._layoutShapesRect(t,e,n,i,_,l,a,u,s)).width>e.width||p.height>e.height)h=_-.1;else{if(!(p.width<e.width&&p.height<e.height))break;c=_+.1}return n._checkOverlap=!1,[_,p]},i.prototype._makeCenter=function(t,e,n,i,o){var r=Math.abs(e+n);e>Math.abs(n)?t.x-=.5*r:t.x+=.5*r;var l=Math.abs(i+o);return i>Math.abs(o)?t.y-=.5*l:t.y+=.5*l,t},i.prototype._adjustPlotRectBySize=function(e,n,i){if(null==i)return e;var o=null,r=i.height;null!=r&&(r.type==t.ValueOptionType.Percentage?o=r.value*n.height:r.type===t.ValueOptionType.Pixel&&(o=r.value));var l=null,a=i.width;if(null!=a&&(a.type==t.ValueOptionType.Percentage?l=a.value*n.width:a.type===t.ValueOptionType.Pixel&&(l=a.value)),null!=l&&e.width<l){var u=l-e.width;e.left-=.5*u,e.width+=u}if(null!=o&&e.height<o){var s=o-e.height;e.top-=.5*s,e.height+=s}return e},i.prototype._layoutAxisView=function(t,e,n,i,o,r){t._radius=o,t._cx=r.x,t._cy=r.y,t._layout(e,i,n),t._titleView()._layout(e,i,n)},i.prototype._layoutVerticalAxisView=function(t,e,n,i,o,r,l,a,u){return this._setVerticalAxisRange(t,t._startAngle(),t._sweep),this._layoutAxisView(t,e,n,i,o,r),l+=a,i.height-=u,l},i}(t._BaseCoordinateSystemViewLayoutPolicy),e._DefaultRadialCartesianCoordinateSystemViewLayoutPolicy=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){var n=e._getDefinition()._type;if(t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)&&("MirrorCartesianRadial"==n||"MirrorCartesianPolygonal"==n)){var i=e;if(i._getVerticalAxisViews().some((function(t){return t._isMirror()})))return i}return null},i.prototype._getStartAngle=function(t){return t._startAngle()-.5*t._sweep},i.prototype._setVerticalAxisRange=function(t,n,i){t._isMirror()?1==t._getIsForwardDirection()?t._scaleModel._setRange([n,n+.5*i]):t._scaleModel._setRange([n,n-.5*i]):e.prototype._setHorizontalAxisRange.call(this,t,n,i)},i.prototype._layoutVerticalAxisView=function(t,n,i,o,r,l,a,u,s){return t._isMirror()?(this._layoutAxisView(t,n,i,o,r,l),a):e.prototype._layoutVerticalAxisView.call(this,t,n,i,o,r,l,a,u,s)},i}(e._DefaultRadialCartesianCoordinateSystemViewLayoutPolicy),e._DefaultMirrorRadialCartesianCoordinateSystemViewLayoutPolicy=i}(t||(t={})),function(t){!function(t){var e=function(){function t(t,e){this.__lines=t,this.__pointview=e}return t.prototype._point=function(){return this.__pointview},Object.defineProperty(t.prototype,"text",{get:function(){return null!=this.__lines?this.__lines.join("\n"):null},enumerable:!1,configurable:!0}),t}();t._DataLabelContent=e}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r){this.value=e,this._pointViews=i,this.__axisView=n,this._region=o,this._scaleValue=r,this.type=t.ElementType.Axis}return e.prototype.contains=function(e){return t._ShapeUtil._shapeContainsPoint(this._region,e)},e.prototype._layout=function(t){this._region=t},Object.defineProperty(e.prototype,"parent",{get:function(){return this.__axisView},enumerable:!1,configurable:!0}),e.prototype._getTick=function(){return this.__tick},e.prototype._setTick=function(t){this.__tick=t},e.prototype._trackersOption=function(){return null!=this.__axisView?this.__axisView._getDefinition()._option.trackers:[]},e.prototype._tooltipOption=function(){return null!=this.__axisView?this.__axisView._getDefinition()._option.tooltip:null},Object.defineProperty(e.prototype,"_orientation",{get:function(){return t.Orientation.Horizontal},enumerable:!1,configurable:!0}),e.prototype._tooltipContent=function(){return null},e.prototype._tracker=function(){for(var t=[],e=0,n=this._trackersOption();e<n.length;e++){var i=n[e],o=this._getTrackerWithOption(i);null!=o&&t.push(o)}return t},e.prototype._getTrackerWithOption=function(t){return null},Object.defineProperty(e.prototype,"points",{get:function(){return this._pointViews.map((function(e){return t.models._isPointModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!1,configurable:!0}),e.prototype.queryInterface=function(t){return"ICategoryValueModel"==t||"IShowTooltipModel"==t||"IShowTrackerViewModel"==t?this:null},e}();t._CategoryValueView=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,e,n,o,r){return i.call(this,t,e,n,o,r)||this}return n(o,i),o.prototype._getTrackerWithOption=function(n){var i=this._region,o=new t.core.Rect(i.leftTop.x,i.leftTop.y,i.size.width,i.size.height);if(n.type==t.TrackerType.Area){var r=new t.core.Size(o.width,o.height),l=new t.core.Point(o.left,o.top);return new e._CartesianTrackArea(n,l,r,o)}return null},o}(t._CategoryValueView),e._CartesianCategoryValueView=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return n(e,t),e}(t._CategoryValueView),e._RadialCategoryValueView=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,e,n,o,r){return i.call(this,t,e,n,o,r)||this}return n(o,i),Object.defineProperty(o.prototype,"_orientation",{get:function(){return t.Orientation.Horizontal},enumerable:!1,configurable:!0}),o.prototype._getTrackerWithOption=function(n){var o=this._region,r=new t.core.Rect(o.leftTop.x,o.leftTop.y,o.size.width,o.size.height);if(n.type==t.TrackerType.CrossY){var l=new t.core.Point(this._scaleValue,r.top),a=new t.core.Point(this._scaleValue,r.bottom);return new e._CartesianTrackLine(n,l,a,r)}return i.prototype._getTrackerWithOption.call(this,n)},o}(e._CartesianCategoryValueView),e._HorizontalCartesianCategoryValueView=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,e,n,o,r){return i.call(this,t,e,n,o,r)||this}return n(o,i),o.prototype._getTrackerWithOption=function(n){var i=this._region,o=i.clone();if(n.type==t.TrackerType.Area)return new e._RadialTrackArea(n,o,i);if(n.type==t.TrackerType.CrossY){var r=this._scaleValue;return new e._RadialTrackLine(n,i.center.x,i.center.y,r,i.startAngle,i.sweepAngle,i)}return null},o}(e._RadialCategoryValueView),e._HorizontalRadialCategoryValueView=i}(t||(t={})),t||(t={}),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,e,n,o,r){return i.call(this,t,e,n,o,r)||this}return n(o,i),Object.defineProperty(o.prototype,"_orientation",{get:function(){return t.Orientation.Vertical},enumerable:!1,configurable:!0}),o.prototype._getTrackerWithOption=function(n){var o=this._region,r=new t.core.Rect(o.leftTop.x,o.leftTop.y,o.size.width,o.size.height);if(n.type==t.TrackerType.CrossY){var l=new t.core.Point(r.left,this._scaleValue),a=new t.core.Point(r.right,this._scaleValue);return new e._CartesianTrackLine(n,l,a,r)}return i.prototype._getTrackerWithOption.call(this,n)},o}(e._CartesianCategoryValueView),e._VerticalCartesianCategoryValueView=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,e,n,o,r){return i.call(this,t,e,n,o,r)||this}return n(o,i),o.prototype._getTrackerWithOption=function(n){var i=this._region,o=this._region.clone();if(n.type==t.TrackerType.Area)return new e._RadialTrackArea(n,o,i);if(n.type==t.TrackerType.CrossY){var r=this._calculatePoint(i.innerRadius),l=this._calculatePoint(i.radius);return new e._TrackStraightLine(n,r,l,i)}return null},o.prototype._calculatePoint=function(e){var n=this._region,i=this._scaleValue-3*Math.PI/2,o=n.center.x+Math.sin(i)*e,r=n.center.y-Math.cos(i)*e;return new t.core.Point(o,r)},o}(e._RadialCategoryValueView),e._VerticalRadialCategoryValueView=i}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInAxisDefinitionBuilders=function(){return null==i.__buildInAxisDefinitionBuilders&&(i.__buildInAxisDefinitionBuilders=new i([],i._pluginType)),i.__buildInAxisDefinitionBuilders},i.prototype._convert=function(e){return t._isAxisDefinitionBuilder(e)?e:null},i.prototype._axisDefinition=function(t,e,n,i){for(var o=0,r=this._objects(i,e._pluginCollection);o<r.length;o++){var l=r[o].item._buildAxisDefinition(t,e,n);if(null!=l)return l}return null},i._pluginType="Axis",i}(t._BuildInObjectCollection);t._BuildInAxisDefinitionBuilderCollection=e}(t||(t={})),function(t){t._isAxisDefinitionBuilder=function(t){return null!=t._buildAxisDefinition}}(t||(t={})),function(t){t._isAxisViewBuilder=function(t){return null!=t&&"function"==typeof t.buildAxisView}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e,n,i){this._layoutDefinitions=t._LayoutDefinitionListBuilder.__layoutDefinitionListBuilder._buildLayoutDefinitions(e,n,i)};t._InnerPlotAreaDefinition=e}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__definition=t}return t.prototype._definition=function(){return this.__definition},t.prototype.queryInterface=function(t){return this._definition().queryInterface(t)},t}();t._OverlayLegendItemsBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){var r=new t._OrdinalDimensionBuilder,l=r.build(e,n,i,o);return null!=l||null!=(l=(r=new t._LinearDimensionBuilder).build(e,n,i,o))?l:(r=new t._EmptyDimensionBuilder).build(e,n,i,o)},e}();t._DimensionBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){return new t._EmptyDimension},e.prototype.queryInterface=function(t){return"IDimensionBuilder"==t?this:null},e}();t._EmptyDimensionBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype.build=function(n,i,o,r){var l=null;if(null==n)return l;if(null!=o&&null!=o.scale.type){var a=o.scale.type;if(a==t.ValueScaleType.Linear||a==t.ValueScaleType.Percentage)null!=(p=t._isXFieldEncodingDefinition(n)?n:null)&&null!=p._getXDataFieldDefinition()&&p._getXDataFieldDefinition()._dataField._type()==t.core.DataType.Date&&(l=new e._LinearDataFieldDimension(p._getXDataFieldDefinition(),t.ValueScaleType.Date)),null==l&&(l=(u=this._getDataFieldDefinitions(n)).length>1?new e._LinearMultiDataFieldsDimension(u,t.ValueScaleType.Linear):new e._LinearDataFieldDimension(u[0],t.ValueScaleType.Linear));else if(a==t.ValueScaleType.Logarithmic)l=(u=this._getDataFieldDefinitions(n)).length>1?new e._LinearMultiDataFieldsDimension(u,t.ValueScaleType.Logarithmic):new e._LinearDataFieldDimension(u[0],t.ValueScaleType.Logarithmic);else if(a==t.ValueScaleType.Date){var u;l=(u=this._getDataFieldDefinitions(n)).length>1?new e._LinearMultiDataFieldsDimension(u,t.ValueScaleType.Date):new e._LinearDataFieldDimension(u[0],t.ValueScaleType.Date)}}else if(null==o||null==o.scale.type){var s=t._isXyValueEncodingDefinition(n)?n:null;null==s||null==s._getDataFieldDefinition()||s._getDataFieldDefinition()._dataField._type()==t.core.DataType.String&&s._getDataFieldDefinition()._dataField._type()==t.core.DataType.Boolean&&s._getAggregate()==t.Aggregate.List||(l=new e._LinearDataFieldDimension(s._getDataFieldDefinition(),t.ValueScaleType.Linear));var _=t._isAggregateValueEncodingDefinition(n)?n:null;null==_||null==_._getDataFieldDefinition()||_._getDataFieldDefinition()._dataField._type()==t.core.DataType.String&&_._getDataFieldDefinition()._dataField._type()==t.core.DataType.Boolean&&_._getAggregate()==t.Aggregate.List||(l=new e._LinearDataFieldDimension(_._getDataFieldDefinition(),t.ValueScaleType.Linear));var p,c=t._isRangeValueEncodingDefinition(n)?n:null;if(null!=c){var h=[c._lowerFieldDefinition,c._upperFieldDefinition];l=new e._LinearMultiDataFieldsDimension(h,t.ValueScaleType.Linear)}null!=(p=t._isXFieldEncodingDefinition(n)?n:null)&&null!=p._getXDataFieldDefinition()&&(p._getXDataFieldDefinition()._dataField._type()==t.core.DataType.Date?l=new e._LinearDataFieldDimension(p._getXDataFieldDefinition(),t.ValueScaleType.Date):p._getXDataFieldDefinition()._dataField._type()==t.core.DataType.String&&p._getXDataFieldDefinition()._dataField._type()==t.core.DataType.Boolean||(l=new e._LinearDataFieldDimension(p._getXDataFieldDefinition(),t.ValueScaleType.Linear)))}return l},n.prototype._getDataFieldDefinitions=function(e){if(t._isCartesianCategoryEncodingDefinition(e))return[e._hierarchicalGroupingDefinitions[0]._dataFieldDefinition];if(t._isXyValueEncodingDefinition(e)){var n=e;if(null!=n._getDataFieldDefinition())return[n._getDataFieldDefinition()]}if(t._isXFieldEncodingDefinition(e)){var i=e;if(null!=i._getXDataFieldDefinition())return[i._getXDataFieldDefinition()]}if(t._isAggregateValueEncodingDefinition(e)){var o=e;if(null!=o._getDataFieldDefinition())return[o._getDataFieldDefinition()]}if(t._isRangeValueEncodingDefinition(e)){var r=e;if(null!=r._lowerFieldDefinition)return[r._lowerFieldDefinition,r._upperFieldDefinition]}throw new t.AssertError(t.ErrorCode.UnexpectedNullValue)},n.prototype.queryInterface=function(t){return"IDimensionBuilder"==t?this:null},n}(),e._LinearDimensionBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype.build=function(e,i,o,r){if(null==e)return null;if(t._isCartesianCategoryEncodingDefinition(e)){var l=e,a=this._createCategoryModels(l,r),u=this._buildCategoryDimensionValues(a);return new t._CategoryDataFieldDimension(l._dataFieldDefinitions,a,u)}var s=null,_=i.length>0?i[0]:null;return n._isOrdinalDimension(e,_,o)&&(s=this._createOrdinalDimension(e,r)),null!=s?s:null},n._isOrdinalDimension=function(e,n,i){if(null!=i&&i.scale.type==t.ValueScaleType.Ordinal)return!0;if((null==i||null==i.scale.type)&&null!=e){if(null!=(t._isValueEncodingDefinition(e)?e:null)&&(null==n||null!=n&&t._isClusterGroupDetailEncodingDefintion(n))){var o=t._isXyValueEncodingDefinition(e)?e:null;if(null!=o&&null!=o._getDataFieldDefinition()&&(o._getDataFieldDefinition()._dataField._type()==t.core.DataType.String||o._getDataFieldDefinition()._dataField._type()==t.core.DataType.Boolean)&&o._getAggregate()==t.Aggregate.List)return!0;var r=t._isAggregateValueEncodingDefinition(e)?e:null;if(null!=r&&null!=r._getDataFieldDefinition()&&(r._getDataFieldDefinition()._dataField._type()==t.core.DataType.String||r._getDataFieldDefinition()._dataField._type()==t.core.DataType.Boolean)&&r._getAggregate()==t.Aggregate.List)return!0}var l=t._isXFieldEncodingDefinition(e)?e:null;if(null!=l&&null!=l._getXDataFieldDefinition()&&(l._getXDataFieldDefinition()._dataField._type()==t.core.DataType.String||l._getXDataFieldDefinition()._dataField._type()==t.core.DataType.Boolean))return!0}return!1},n.prototype._createCategoryModels=function(e,n){for(var i=e._hierarchicalGroupingDefinitions.slice(),o=new t._DataSlicesSorter(e._dataSliceSortDefinition,i[0]._dataFieldDefinition),r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(o._sort(n),null),l=[],a=0,u=i.reverse();a<u.length;a++){var s=u[a];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(s._dataFieldDefinition,e._sortDefinition,s._filter)))}var _=r.groupBy(l).query().groups,p=[];return t._TreeNodeUtility._traverseGrouping(_,null,0,(function(e,n,i){var o=new t._DimensionValueGroup(n.key,n._dataSlices,e);return null!=e?e.children.push(o):p.push(o),o})),p},n.prototype._createOrdinalDimension=function(n,i){var o=null,r=!1,l=null;if(t._isXyValueEncodingDefinition(n)){var a=n;r=a._excludeNulls,l=a._sortDefinition,o=a._getDataFieldDefinition()}else if(t._isAggregateValueEncodingDefinition(n)){var u=n;r=u._excludeNulls,l=u._sortDefinition,o=u._getDataFieldDefinition()}else if(t._isXFieldEncodingDefinition(n)){var s=n;r=s._excludeNulls,l=s._sortDefinition,o=s._getXDataFieldDefinition()}if(null!=o){var _=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(i,null),p=[];p.push(new t.QueryGroupByOption(new t._GroupingDefinition(o,l)));var c=_.groupBy(p).query().groups,h=r,f=[],d=[];t._TreeNodeUtility._traverseDFS(c,(function(e,n){if(!h||null!=e.key){var i=e.key,o=new t._DimensionValue(i);f.push(o),o._updatevalue(f.length);var r=new t._DimensionValueGroup(e.key,e._dataSlices,null);r._dimensionValues().push(o),d.push(r)}}));for(var y=new e._OrdinalDataFieldDimension(o,f),g=0,m=d;g<m.length;g++){var v=m[g];y._dimensionValueGroups1().push(v)}return y}var w=null,b=t._isRangeValueEncodingDefinition(n)?n:null;if(null!=b&&(w=b._lowerFieldDefinition),null==w)throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);return new e._OrdinalDataFieldDimension(w,[])},n.prototype._buildCategoryDimensionValues=function(e){var i=this,o=[];return t._TreeNodeUtility._traverseDFS(e,(function(e,r){var l;if(0==e.children.length){var a=new t._OrdinalDimensionValue(e.key,n._buildDimensionValueGroupKeyList(e)),u=i._getGroupPath(e);(l=a._hierarchicalKeys).push.apply(l,u),e._dimensionValues().push(a),o.push(a),a._updatevalue(o.length)}})),o},n._buildDimensionValueGroupKeyList=function(e){var i=[];return null!=e.parent&&i.push.apply(i,n._buildDimensionValueGroupKeyList(e.parent)),i.push(new t._DimensionValueGroupKey(e.key,e._dataSlices)),i},n.prototype._getGroupPath=function(t){var e=[];null!=t.parent&&(e=this._getGroupPath(t.parent));var n=t.key;return e.push(n),e},n.prototype.queryInterface=function(t){return"IDimensionBuilder"==t?this:null},n}(),e._OrdinalDimensionBuilder=n}(t||(t={})),function(t){!function(t){t._isDimensionBuilder=function(t){return null!=t&&"function"==typeof t.build}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._Dimension),e._EmptyDimension=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n){var i=e.call(this)||this;return i.__dataFieldDefinition=t,i.__scaleType=n,i}return n(i,e),i.prototype._setMin=function(t){this.__min=t},i.prototype._setMax=function(t){this.__max=t},i.prototype._scaleType=function(){return this.__scaleType},i.prototype._min=function(){if(null!=this.__min)return this.__min;for(var e=[],n=0,i=this._dimensionValues();n<i.length;n++){var o=i[n];null!=o._value()&&e.push(o._value())}return e.length>0?this.__scaleType==t.ValueScaleType.Logarithmic?t._Utility.min(e.filter((function(t){return t>0}))):t._Utility.min(e):null},i.prototype._max=function(){if(null!=this.__max)return this.__max;for(var e=[],n=0,i=this._dimensionValues();n<i.length;n++){var o=i[n];null!=o._value()&&e.push(o._value())}return e.length>0?this.__scaleType==t.ValueScaleType.Logarithmic?t._Utility.max(e.filter((function(t){return t>0}))):t._Utility.max(e):null},i.prototype._addValue=function(t){this._values.push(t)},i.prototype._removeValue=function(t){var e=this._values.indexOf(t);return e>=0&&(this._values.splice(e,1),!0)},i.prototype._getDataFieldDefinition=function(){return this.__dataFieldDefinition},i}(t._Dimension),e._LinearDataFieldDimension=i}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n){var i=t.call(this,e.length>0?e[0]:null,n)||this;return i.__dataFieldDefinitions=e,i}return n(e,t),e.prototype._getDataFieldDefinitions=function(){return this.__dataFieldDefinitions},e}(t._LinearDataFieldDimension);t._LinearMultiDataFieldsDimension=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n){var i=t.call(this)||this;i.__groups1=[],i.__dataFieldDefinition=e;for(var o=0,r=n;o<r.length;o++){var l=r[o];i._values.push(l)}return i}return n(e,t),e.prototype._dimensionValueGroups1=function(){return this.__groups1},e.prototype._indexBase=function(){return e.__ORDINALDIMENSION_INDEXBASE__},e.prototype._count=function(){return this._values.length},e.prototype._addValue=function(t){this._values.push(t)},e.prototype._removeValue=function(t){var e=this._values.indexOf(t);return e>=0&&(this._values.splice(e,1),!0)},e.prototype._getDataFieldDefinition=function(){return this.__dataFieldDefinition},e.__ORDINALDIMENSION_INDEXBASE__=1,e}(t._Dimension),e._OrdinalDataFieldDimension=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(){return t.call(this,0)||this}return n(e,t),e.prototype._value=function(){return 0},e}(t._DimensionValue),e._ZeroDimensionValue=i}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e[0],i)||this;return o.__dataFieldDefinitions=e,o.__groups=n,o}return n(e,t),e.prototype._dimensionValueGroups=function(){return this.__groups},e.prototype._getDataFieldDefinitions=function(){return this.__dataFieldDefinitions},e}(t.models._OrdinalDataFieldDimension);t._CategoryDataFieldDimension=e}(t||(t={})),function(t){t._isCategoryDimension=function(e){return null!=e&&!!t._isOrdinalDimension(e)&&"function"==typeof e._dimensionValueGroups}}(t||(t={})),function(t){t._isDataFieldDimension=function(t){return null!=t&&"function"==typeof t._getDataFieldDefinition}}(t||(t={})),function(t){!function(t){t._isLinearDimension=function(t){var e=t;return null!=e._min&&null!=e._max&&null!=e._setMin&&null!=e._setMax&&null!=e._scaleType}}(t.models||(t.models={}))}(t||(t={})),function(t){t._isMultiDataFieldsDimension=function(t){return null!=t&&"function"==typeof t._getDataFieldDefinitions}}(t||(t={})),function(t){t._isOrdinalDimension=function(t){var e=t;return null!=e&&"function"==typeof e._dimensionValueGroups1&&"function"==typeof e._indexBase&&"function"==typeof e._count}}(t||(t={})),function(t){t._isValueModifiableDimension=function(t){var e=t;return null!=e&&"function"==typeof e._addValue&&"function"==typeof e._removeValue}}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n){var i=t.call(this)||this;return i.__min=e,i.__max=n,i}return n(e,t),e.prototype._overlayMin=function(){return this.__min},e.prototype._overlayMax=function(){return this.__max},e}(t._Dimension),e._OverlayDimension=i}(t||(t={})),function(t){!function(t){t._isOverlayDimension=function(t){var e=t;return"function"==typeof e._overlayMin&&"function"==typeof e._overlayMax}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,n)||this;return o.key=e,o.__values=[],o.parent=i,o.children=[],o}return n(e,t),e.prototype._dimensionValues=function(){return this.__values},e.prototype.queryInterface=function(t){return"IDimensionValueGroup"==t?this:null},e}(t._DataModel);t._DimensionValueGroup=e}(t||(t={})),function(t){var e=function(t,e){this._key=t,this._dataSlices=e};t._DimensionValueGroupKey=e}(t||(t={})),function(t){t._isDimensionValueGroup=function(e){var n=e;return null!=n&&t._isTreeNode(e)&&"function"==typeof n._dimensionValues}}(t||(t={})),t||(t={}),function(t){t._isOrdinalDimensionValue=function(t){return null!=t&&void 0!==t._hierarchicalKeys}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInDimensionMergePolicyBuilders=function(){return null==i.__buildInDimensionMergePolicyBuilders&&(i.__buildInDimensionMergePolicyBuilders=new i([],i._pluginType)),i.__buildInDimensionMergePolicyBuilders},i.prototype._convert=function(e){return t.models._isDimensionMergePolicyBuilder(e)?e:null},i.prototype._dimensionMergePolicy=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._build(t);if(null!=r&&r._canMerge(t))return r}return null},i._pluginType="DimensionMerge",i}(t._BuildInObjectCollection);t._BuildInDimensionMergePolicyBuilderCollection=e}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t.prototype._canMerge=function(t){return!0},t.prototype._merge=function(t){if(0==t.length)return null;for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n];-1==e.indexOf(o)&&e.push(o)}return e},t.prototype.queryInterface=function(t){return"IDimensionMergePolicy"===t?this:null},t._defaultDimensionMergePolicy=new t,t}();t._DefaultDimensionMergePolicy=e}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isDimensionMergePolicyBuilder=function(t){return"function"==typeof t._build}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.__path=[],i._dimensionValueGroupKeys=n,i}return n(e,t),Object.defineProperty(e.prototype,"_hierarchicalKeys",{get:function(){return this.__path},enumerable:!1,configurable:!0}),e.prototype.queryInterface=function(e){return"IOrdinalDimensionValue"==e?this:t.prototype.queryInterface.call(this,e)},e}(t._DimensionValue);t._OrdinalDimensionValue=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return null==e&&null==n||null!=e&&null!=n&&t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer._equalsWith(e.rawValue,n.rawValue)&&t._DataValueTypeEqualityComparer._dataValueTypeArrayEqualityComparer._equalsWith(e._hierarchicalKeys,n._hierarchicalKeys)},e._ordinalDimensionValueEqualityComparer=new e,e}();t._OrdinalDimensionValueEqualityComparer=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInDimensionValueBuilders=function(){return null==i.__buildInDimensionValueBuilders&&(i.__buildInDimensionValueBuilders=new i([new t._AggregateValueDefinitionDimensionValueBuilder,new t._DateRangeValueDefinitionDimensionValueBuilder,new t._NumberRangeValueDefinitionDimensionValueBuilder,new t._XyValueDefinitionDimensionValueBuilder,new t._XFieldDefinitionDimensionValueBuilder],i._pluginType)),i.__buildInDimensionValueBuilders},i.prototype._convert=function(e){return t._isDimensionValueBuilder(e)?e:null},i.prototype._dimensionValueBuilder=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildDimensionBuilder(t);if(null!=r)return r}return null},i._pluginType="DimensionValueBuilder",i}(t._BuildInObjectCollection);t._BuildInDimensionValueBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDimensionBuilder=function(e){return t._isAggregateValueEncodingDefinition(e)?this:null},e.prototype._buildDimensionValues=function(e,n,i){if(t._isAggregateValueEncodingDefinition(i)){var o=i,r=[];if((e=new t._DataSlicesKeysFilter(o._getExcludeNullsFilter(),[o._getDataFieldDefinition()._dataField._name])._filter(e))._length<=0)return r;var l=t._DataSlicesAggregate._defaultAggregate._aggregate(e,o._getDataFieldDefinition()._dataField,o._getAggregate());if(null!=n)if(t._isOrdinalDimension(n))for(var a=0,u=n._dimensionValues();a<u.length;a++){var s=u[a];if(0==t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(s.rawValue,l)){r.push(s);break}}else{if(!t.models._isLinearDimension(n))throw new t.AssertError(t.ErrorCode.MethodNotImplemented);s=new t._DimensionValue(l),r.push(s),t._isValueModifiableDimension(n)&&n._addValue(s)}else s=new t._DimensionValue(l),r.push(s);return r}return null},e.prototype.queryInterface=function(t){return null},e}();t._AggregateValueDefinitionDimensionValueBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDimensionBuilder=function(e){if(t._isRangeValueEncodingDefinition(e)){var n=e;if(t._isDateDataFieldDefinition(n._lowerFieldDefinition)&&t._isDateDataFieldDefinition(n._upperFieldDefinition))return this}return null},e.prototype._buildDimensionValues=function(e,n,i){if(t._isRangeValueEncodingDefinition(i)){var o=i;if(t._isDateDataFieldDefinition(o._lowerFieldDefinition)&&t._isDateDataFieldDefinition(o._upperFieldDefinition)){var r=[],l=[];if(null!=o._lowerFieldDefinition&&l.push(o._lowerFieldDefinition._dataField._name),null!=o._upperFieldDefinition&&l.push(o._upperFieldDefinition._dataField._name),(e=new t._DataSlicesKeysFilter(o._getExcludeNullsFilter(),l)._filter(e))._length<=0)return r;var a=this._toDateRangeItem(e,o._lowerFieldDefinition,o._upperFieldDefinition),u=a[0],s=a[1],_=new t._DimensionValue(s),p=new t._DimensionValue(u);if(r.push(_),r.push(p),!t._isValueModifiableDimension(n))throw new t.AssertError(t.ErrorCode.MethodNotImplemented);return n._addValue(_),n._addValue(p),r}}return null},e.prototype._toDateRangeItem=function(e,n,i){for(var o=null,r=null,l=0,a=e.list();l<a.length;l++){var u=a[l];if(null!=n&&t._isDateDataFieldDefinition(n)){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(u,n._dataField,t.Aggregate.List);null!=s&&(null==r||r.valueOf()>s.valueOf())&&(r=s)}if(null!=i&&t._isDateDataFieldDefinition(i)){var _=t._DataSlicesAggregate._defaultAggregate._aggregate(u,i._dataField,t.Aggregate.List);null!=_&&(null==o||o.valueOf()<_.valueOf())&&(o=_)}}return[o,r]},e.prototype.queryInterface=function(t){return null},e}();t._DateRangeValueDefinitionDimensionValueBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDimensionBuilder=function(e){if(t._isRangeValueEncodingDefinition(e)){var n=e;if(t._isNumberDataFieldDefinition(n._lowerFieldDefinition)&&t._isNumberDataFieldDefinition(n._upperFieldDefinition))return this}return null},e.prototype._buildDimensionValues=function(e,n,i){if(t._isRangeValueEncodingDefinition(i)){var o=i;if(t._isNumberDataFieldDefinition(o._lowerFieldDefinition)&&t._isNumberDataFieldDefinition(o._upperFieldDefinition)){var r=[],l=[];if(null!=o._lowerFieldDefinition&&l.push(o._lowerFieldDefinition._dataField._name),null!=o._upperFieldDefinition&&l.push(o._upperFieldDefinition._dataField._name),(e=new t._DataSlicesKeysFilter(o._getExcludeNullsFilter(),l)._filter(e))._length<=0)return r;var a=o._lowerFieldDefinition,u=o._upperFieldDefinition;if(null!=a&&null!=u){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(e,a._dataField,t.Aggregate.Min),_=new t._DimensionValue(s),p=t._DataSlicesAggregate._defaultAggregate._aggregate(e,u._dataField,t.Aggregate.Max),c=new t._DimensionValue(p);if(r.push(_),r.push(c),!t._isValueModifiableDimension(n))throw new t.AssertError(t.ErrorCode.MethodNotImplemented);n._addValue(_),n._addValue(c)}return r}}return null},e.prototype.queryInterface=function(t){return null},e}();t._NumberRangeValueDefinitionDimensionValueBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDimensionBuilder=function(e){return t._isXFieldEncodingDefinition(e)?this:null},e.prototype._buildDimensionValues=function(e,n,i){if(t._isXFieldEncodingDefinition(i)){var o=i,r=[];if(null!=o._getXDataFieldDefinition()){if(o._excludeNulls){var l=t._BuildInValueFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,o._plotDefinition._pluginCollection);e=new t._DataSlicesKeysFilter(l,[o._getXDataFieldDefinition()._dataField._name])._filter(e)}if(e._length<=0)return r;var a=t._DataSlicesAggregate._defaultAggregate._aggregate(e,o._getXDataFieldDefinition()._dataField,t.Aggregate.List);if(null!=n)if(t._isOrdinalDimension(n))for(var u=0,s=n._dimensionValues();u<s.length;u++){var _=s[u];if(0==t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(_.rawValue,a)){r.push(_);break}}else{if(!t.models._isLinearDimension(n))throw new t.AssertError(t.ErrorCode.MethodNotImplemented);_=new t._DimensionValue(a),r.push(_),t._isValueModifiableDimension(n)&&n._addValue(_)}else _=new t._DimensionValue(a),r.push(_)}return r}return null},e.prototype.queryInterface=function(t){return null},e}();t._XFieldDefinitionDimensionValueBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildDimensionBuilder=function(e){return t._isXyValueEncodingDefinition(e)?this:null},e.prototype._buildDimensionValues=function(e,n,i){if(t._isXyValueEncodingDefinition(i)){var o=i,r=[];if((e=new t._DataSlicesKeysFilter(o._getExcludeNullsFilter(),[o._getDataFieldDefinition()._dataField._name])._filter(e))._length<=0)return r;var l=t._DataSlicesAggregate._defaultAggregate._aggregate(e,o._getDataFieldDefinition()._dataField,o._getAggregate());if(null!=n)if(t._isOrdinalDimension(n))for(var a=0,u=n._dimensionValues();a<u.length;a++){var s=u[a];if(0==t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(s.rawValue,l)){r.push(s);break}}else{if(!t.models._isLinearDimension(n))throw new t.AssertError(t.ErrorCode.MethodNotImplemented);s=new t._DimensionValue(l),r.push(s),t._isValueModifiableDimension(n)&&n._addValue(s)}else s=new t._DimensionValue(l),r.push(s);return r}return null},e.prototype.queryInterface=function(t){return null},e}();t._XyValueDefinitionDimensionValueBuilder=e}(t||(t={})),function(t){t._isDimensionValueBuilder=function(t){var e=t;return null!=e&&"function"==typeof e._buildDimensionBuilder&&"function"==typeof e._buildDimensionValues}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInDoubleClickInteractionBuilders=function(){return null==i.__buildInDoubleClickInteractionBuilders&&(i.__buildInDoubleClickInteractionBuilders=new i([],i._pluginType)),i.__buildInDoubleClickInteractionBuilders},i.prototype._convert=function(e){return t._isDoubleClickInteractionBuilder(e)?e:null},i.prototype._doubleClickInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item.buildDoubleClickInteraction(t);i.push(l)}return i},i._pluginType="DoubleClickInteraction",i}(t._BuildInObjectCollection);t._BuildInDoubleClickInteractionBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInDraggingInteractionBuilders=function(){return null==i.__buildInDraggingInteractionBuilders&&(i.__buildInDraggingInteractionBuilders=new i([],i._pluginType)),i.__buildInDraggingInteractionBuilders},i.prototype._convert=function(e){return t._isDraggingInteractionBuilder(e)?e:null},i.prototype._draggingInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item.buildDraggingInteraction(t);i.push(l)}return i},i._pluginType="DraggingInteraction",i}(t._BuildInObjectCollection);t._BuildInDraggingInteractionBuilderCollection=e}(t||(t={})),function(t){var e=function(){function t(t){this._index=t}return t.prototype._filter=function(t){if(null!=t){var e=this._index<0?Math.max(0,this._index+t.length):Math.min(t.length-1,this._index),n=[];return 0<=e&&e<t.length&&n.push(t[e]),n}return null},t}();t._IndexFilter=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){this._start=t,this._end=e,this._step=n}return t.prototype._filter=function(t){if(null!=t){var e=t.length,n=null==this._start||isNaN(this._start)?0:this._start,i=null==this._end||0==this._end||isNaN(this._end)?t.length:this._end,o=null==this._step||0==this._step||isNaN(this._step)?1:this._step;n=n<0?Math.max(0,n+e):Math.min(e,n),i=i<0?Math.max(0,i+e):Math.min(e,i);for(var r=[],l=n;l<i&&l>=0;l+=o)r.push(t[l]);return r}return null},t}();t._SliceFilter=e}(t||(t={})),t||(t={}),function(t){!function(t){var e=function(){function e(){}return e.prototype.tooltipManager=function(){return new t.ToolTipManager},e.globalModel=new e,e}();t.GlobalModel=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__modelTypes=t}return e.prototype.predicate=function(e){var n=null!=e&&null!=e.model?e.model.type:null;return!(null!=n&&this.__modelTypes.indexOf(t.ElementType[n].toString())>=0)},e}(),e.ExcludingModelPrediction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__modelTypes=t}return e.prototype.predicate=function(e){var n=null!=e?e.model.type:null;return null!=n&&this.__modelTypes.indexOf(t.ElementType[n].toString())>=0},e}(),e.IncludingModelPrediction=n}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInHoverInteractionBuilders=function(){return null==i.__buildInHoverInteractionBuilders&&(i.__buildInHoverInteractionBuilders=new i([],i._pluginType)),i.__buildInHoverInteractionBuilders},i.prototype._convert=function(e){return t._isHoverInteractionBuilder(e)?e:null},i.prototype._hoverInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item.buildHoverInteraction(t);i.push(l)}return i},i._pluginType="HoverInteraction",i}(t._BuildInObjectCollection);t._BuildInHoverInteractionBuilderCollection=e}(t||(t={})),function(t){t._isAxialPaddingConsumer=function(t){var e=t;return null!=e&&"function"==typeof e._xRangePadding&&"function"==typeof e._yRangePadding&&"function"==typeof e._preparePadding}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(){}return e._checkOverlap=function(n,i,o){for(var r=0,l=i;r<l.length;r++){var a=l[r],u=!1,s=a._shape();if(null!=s&&a._isVisible()){if(s instanceof t._RectangleShape){var _=s;o!=t.OverlappingLabels.Show&&(o===t.OverlappingLabels.Hide||o===t.OverlappingLabels.Auto?u=e._checkWithRotateRectangles(_,n._labels):o===t.OverlappingLabels.HideAll&&(u=e._checkWithRotateRectangles(_,n._labels)||e._checkWithRotateRectangles(_,n._axisLabels)||e._checkWithRectangles(_,n._legendsLabels)||e._checkWithRectangles(_,n._headerLabels)||e._checkWithRectangles(_,n._footerLabels))),u||n._labels.push(_),a._setOverlap(u)}}else a._setOverlap(!1)}},e._checkWithRectangles=function(e,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];if(null==r)throw new t.AssertError(t.ErrorCode.UnexpectedValue,r);if(t._ShapeUtil._whetherIntersect(e,new t._RectangleShape((r.left+r.right)/2,(r.top+r.bottom)/2,r.width,r.height,0)))return!0}return!1},e._checkWithRotateRectangles=function(e,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];if(null==r)throw new t.AssertError(t.ErrorCode.UnexpectedValue,r);if(t._ShapeUtil._whetherIntersect(r,e))return!0}return!1},e}();t._LabelOverlapChecker=e}(t||(t={})),function(t){!function(t){var e=function(){function t(){this.__trackers=[]}return t.prototype.render=function(t){for(var e=0,n=this.__trackers;e<n.length;e++)n[e].draw(t)},t.prototype.hitTest=function(t){return null},t.prototype._appendTracker=function(t){this.__trackers.push(t)},t.prototype._removeTracker=function(t){this.__trackers.splice(this.__trackers.indexOf(t),1)},t.prototype._reset=function(){this.__trackers=[]},t}();t._WidgetLayer=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInPinchInteractionBuilders=function(){return null==i.__buildInPinchInteractionBuilders&&(i.__buildInPinchInteractionBuilders=new i([],i._pluginType)),i.__buildInPinchInteractionBuilders},i.prototype._convert=function(e){return t._isPinchInteractionBuilder(e)?e:null},i.prototype._pinchInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item.buildPinchInteraction(t);i.push(l)}return i},i._pluginType="PinchInteraction",i}(t._BuildInObjectCollection);t._BuildInPinchInteractionBuilderCollection=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype._applyPlotConditionFormattingRules=function(e,n){var i=this;n.forEach((function(n){if(null!=n)if("DataPoint"==n.type){var o=[],r=e._getDefinition()._pluginCollection;null!=(l=t._BuildInConditionalFormattingRuleBuilderCollection._defaultBuildInConditionalFormattingRuleBuilders()._conditionalFormattingRule(n,o,r))&&i._applyPointConditionFormattingRule(e,l)}else if("Group"==n.type){var l;o=[],r=e._getDefinition()._pluginCollection,null!=(l=t._BuildInConditionalFormattingRuleBuilderCollection._defaultBuildInConditionalFormattingRuleBuilders()._conditionalFormattingRule(n,o,r))&&i._applyGroupConditionFormattingRule(e,l)}}))},e.prototype._applyConditionalFormattingRules=function(t){this._applyPlotConditionFormattingRules(t,t._getDefinition()._plotConfigOption.rules)},e}(),e._ConditionalFormattingRuleRunner=n}(t||(t={})),function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._applyGroupConditionFormattingRule=function(t,e){null!=t&&t._traverseCartesianGroupView((function(t,n){for(var i=0,o=t._getCartesianSeriesViews();i<o.length;i++){var r=o[i];e.evaluate(r)}}),null)},e.prototype._applyPointConditionFormattingRule=function(t,e){if(null!=t)for(var n=0,i=t._getPointViews();n<i.length;n++){var o=i[n];e.evaluate(o)}},e}(t._ConditionalFormattingRuleRunner);t._CartesianConditionalFormattingRuleRunner=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e._filter=function(e,n){for(var i=[],o=0,r=n;o<r.length;o++){var l=r[o],a=l._data(),u=e._getYValue(a);null==u.upperY||isNaN(u.upperY)||a instanceof t._RangeValuePointDataModel&&(null==u.lowerY||isNaN(u.lowerY))||null==a._value()&&e._isStack()&&e._showNulls()!=t.ShowNulls.Zeros||i.push(l)}return i},e}(),e._CartesianPlotDataFilter=n}(t||(t={})),function(t){!function(e){var n=function(){function e(){}return e.prototype._seriesGroup=function(t){for(var e=[],n=function(t){for(var n=function(n){if(n._isFiltered())return"continue";var o=n._getCartesianSeriesDataModel()._valueDefinition(),r=n._getCartesianSeriesDataModel()._detailValue(),l=null==r?null:r._definition(),a=e.filter((function(e){return e.valueDefinition==o&&e.detailDefinition==l&&e.groupView==t})),u=void 0;0==a.length?(u=new i(o,l,[],t),e.push(u)):u=a[0],u.seriesViews.push(n)},o=0,r=t._getCartesianSeriesViews();o<r.length;o++)n(r[o])},o=0,r=t._getCartesianGroupViews();o<r.length;o++)n(r[o]);return e},e.prototype._layout=function(e){for(var n=0,i=this._seriesGroup(e);n<i.length;n++){for(var o=i[n],r=0,l=o.seriesViews;r<l.length;r++)for(var a=0,u=l[r]._getCartesianPointViews();a<u.length;a++)u[a]._getCartesianPointDataModel()._resetLayout();null!=o.detailDefinition&&t._isStackGroupDetailEncodingDefintion(o.detailDefinition)?this._stack(o.seriesViews,"stack","previous"):this._cluster(o.seriesViews,"cluster","previous")}},e.prototype._cluster=function(t,e,n){for(var i=0,o=t;i<o.length;i++)for(var r=0,l=o[i]._filterPointViews();r<l.length;r++)l[r]._getCartesianPointDataModel()._setDimValue(n,null)},e.prototype._stack=function(e,n,i){for(var o=new t._Map,r=0,l=e;r<l.length;r++)for(var a=0,u=l[r]._filterPointViews();a<u.length;a++){var s=u[a]._getCartesianPointDataModel(),_=s.xDimensionValue._value(),p=o._get(_),c=null,h=s.queryInterface("INumberValue");null!=h&&null==(c=h.value)&&(c=0);var f=s.queryInterface("INumberRangeValue");null!=f&&(null==p&&(p=0),c=(null==f.upper?0:f.upper)-(null==f.lower?0:f.lower)),s._setDimValue(i,p),null==o._get(_)?o._set(_,c):o._set(_,o._get(_)+(null==c?0:c)),s._setDimValue(n,o._get(_))}},e.prototype._percentagewise=function(t){for(var e=0,n=this._seriesGroup(t);e<n.length;e++){var i=n[e];this._percentage(i.seriesViews,"percentage","previous")}},e.prototype._percentage=function(e,n,i){for(var o=new t._Map,r=0,l=e;r<l.length;r++)for(var a=0,u=l[r]._filterPointViews();a<u.length;a++){var s=(y=u[a]._getCartesianPointDataModel()).xDimensionValue._value(),_=0,p=null;null!=(g=y.queryInterface("INumberStackValue"))&&(null!=g.previous&&(_=g.previous),p=g.value),null==p&&(p=0),null==o._get(s)?o._set(s,Math.abs(p-_)):o._set(s,o._get(s)+Math.abs(p-_))}for(var c=0,h=e;c<h.length;c++)for(var f=0,d=h[c]._filterPointViews();f<d.length;f++){s=(y=d[f]._getCartesianPointDataModel()).xDimensionValue._value();var y,g,m=o._get(s);null!=m&&0!=m&&(_=0,p=null,null!=(g=y.queryInterface("INumberStackValue"))&&(null!=g.previous&&(_=g.previous/m,y._setDimValue(i,_)),p=null==g.value?0:g.value/m),y._setDimValue(n,p))}},e.prototype.buildPlotLayout=function(e,n){return t._isCartesianPlotView(e)?this:null},e.prototype.queryInterface=function(t){return"ICartesianPlotLayout"==t||"ICartesianPlotLayoutBuilder"===t?this:null},e}();e._CartesianPlotLayout=n;var i=function(t,e,n,i){this.valueDefinition=t,this.detailDefinition=e,this.seriesViews=n,this.groupView=i}}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype._apply=function(t){this._applyAxisLabelConditionFormattingRules(t,this._createAxisLabelConditionalFormattingRules(t,t._getDefinition()._option.rules))},e.prototype._applyAxisLabelConditionFormattingRules=function(t,e){for(var n=0,i=e;n<i.length;n++)for(var o=i[n],r=0,l=t._labelViews();r<l.length;r++){var a=l[r];o.evaluate(a)}},e.prototype._createAxisLabelConditionalFormattingRules=function(e,n){for(var i=[],o=0,r=n;o<r.length;o++){var l=r[o];if(null!=l){var a=e._getCoordinateSystemView()._getDefinition()._pluginCollection,u=t._BuildInConditionalFormattingRuleBuilderCollection._defaultBuildInConditionalFormattingRuleBuilders()._conditionalFormattingRule(l,[],a);null!=u&&i.push(u)}}return i},e}(),e._AxisConditionalFormattingRuleRunner=n}(t||(t={})),function(t){!function(t){var e=function(){function e(t){this.__categoryValues=t}return Object.defineProperty(e.prototype,"categoryValues",{get:function(){return this.__categoryValues.map((function(e){return t._isAxisCategoryModel(e)?e:null}))},enumerable:!1,configurable:!0}),e.prototype.queryInterface=function(t){return null},e}();t._AxisCategoryModel=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__axisLabelViews=t}return t.prototype.labels=function(){return this.__axisLabelViews},t.prototype.queryInterface=function(t){return null},t}();t._AxisLabel=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__axisTitleView=t}return e.prototype.title=function(){var e=this.__axisTitleView.queryInterface("IAxisTitleModel");if(null!=e)return e;throw new t.RuntimeError(t.ErrorCode.UnexpectedValue)},e.prototype.queryInterface=function(t){return null},e}(),e._AxisTitle=n}(t||(t={})),function(t){!function(t){t._isAxisCategoryModel=function(t){return null!=t&&void 0!==t.categoryValues}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isAxisLabel=function(t){return null!=t&&"function"==typeof t.labels}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.defaultBuildInCartesianPlotLayoutBuilders=function(){return null==i.__buildInCartesianPlotLayoutBuilders&&(i.__buildInCartesianPlotLayoutBuilders=new i([new t._WaterfallPlotLayout,new t._BarPlotLayout,new t.models._CartesianPlotLayout],i._pluginType)),i.__buildInCartesianPlotLayoutBuilders},i.prototype._convert=function(e){return t.models._isCartesianPlotLayoutBuilder(e)?e:null},i.prototype._cartesianPlotLayout=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildPlotLayout(t,e);if(null!=r)return r}return null},i._pluginType="PlotLayout",i}(t._BuildInObjectCollection);t._BuildInCartesianPlotLayoutBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__definition=t,this.__key=this._createKey(t,e)}return e.prototype._definition=function(){return this.__definition},e.prototype._key=function(){return this.__key},e.prototype._createKey=function(e,n){var i=this.__definition._dataFieldDefinition._dataField;if(t._DataValueTypeExtension._isString(n)&&t._isDateDataField(i)){var o=i._dateParser();if(null!=o){var r=o._parseDate(t._DataValueTypeExtension._toString(n));if(null!=r)return t._DataValueTypeExtension._toDataValueType(r)}}return n},e}();t._DetailValue=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(n,i){return null==n&&null==i||null!=n&&null!=i&&(n==i||t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer._equalsWith(n._key(),i._key())&&e.__encodingDefinitionEqualityComparer._equalsWith(n._definition(),i._definition()))},e._detailValueEqualityComparer=new e,e.__encodingDefinitionEqualityComparer=new t._ObjectEqualityComparer,e}();t._DetailValueEqualityComparer=e}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__gridLineViews=t}return t.prototype.gridLines=function(){for(var t=[],e=0,n=this.__gridLineViews;e<n.length;e++){var i=n[e];if(i._visible){var o=i.queryInterface("IGridLineModel");if(null!=o){var r=o;t.push(r)}}}return t},t.prototype.queryInterface=function(t){return null},t}();t._GridLine=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isGridLine=function(t){return null!=t&&"function"==typeof t.gridLines}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCartesianPlotLayout=function(t){var e=t;return null!=e&&"function"==typeof e._layout&&"function"==typeof e._percentagewise}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCartesianPlotLayoutBuilder=function(t){return null!=t.buildPlotLayout}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isCartesianPlotModel=function(t){return null!=t&&void 0!==t.seriesList}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCartesianPointModel=function(t){var e=t;return null!=e&&void 0!==e.valueDefinition&&void 0!==e.detail&&void 0!==e.dimension&&void 0!==e.value&&void 0!==e.series&&void 0!==e.index&&void 0!==e.previous&&void 0!==e.next&&void 0!==e.isMax&&void 0!==e.isMin&&void 0!==e.offset}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCartesianRangePointModel=function(t){var e=t;return null!=e&&void 0!==e.upper&&void 0!==e.lower}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCartesianSeriesModel=function(t){var e=t;return null!=e&&void 0!==e.axisX&&void 0!==e.axisY&&void 0!==e.valueDefinition&&void 0!==e.detail}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isCategoryValueModel=function(t){var e=t;return null!=e&&void 0!==e.value&&void 0!==e.points}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),t||(t={}),function(t){!function(t){t._isQueryShowTooltipModel=function(t){return null!=t&&"function"==typeof t.queryRelatedTooltipViewModel}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isQueryShowTooltipViewModel=function(t){return null!=t.queryRelatedTooltipViewModel}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isShowTooltipModel=function(t){var e=t;return null!=e&&"function"==typeof e.contains&&"function"==typeof e._tooltipContent}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i){this._pointView=e,this.__contentDefinitions=n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._pointView._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._pluginCollection)}return n.prototype._point=function(){if(null==this._pointView._data())throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);return this._pointView._data()},n.prototype._contentDefinitions=function(){return this.__contentDefinitions},n.prototype._getDefaultFormat=function(e){var n;return"PercentageCategory"==(n=e instanceof t._TokenSyntaxExpression?e.token:e.syntaxExpression)||"PercentageDetail"==n||"PercentagePlot"==n?this.__stringFormatting.defaultFormat(t.core.DataType.Number,!0):null},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,e,n){if(null==t)return null;var i=e.split(".");return"PercentageCategory"===t?this._getPercentageCategoryProperty(i):"PercentageDetail"===t?this._getPercentageDetailProperty(i):"PercentagePlot"===t?this._getPercentagePlotProperty(i):"valueField"===t?this._getValueFieldProperty(i):"xField"===t?this._getXFieldProperty(i):"categoryField"===t?this._getCategoryFieldProperty(i,n):"detailFields"===t?this._getDetailFieldsProperty(i):"colorField"===t?this._getColorFieldProperty(i):"shapeField"===t?this._getShapeFieldProperty(i):"sizeField"===t?this._getSizeFieldProperty(i):this._getTokenProperty(t,i)},n.prototype._getPropertyValue=function(e,n){if(null!=n&&n.length>0)for(var i=0,o=n;i<o.length;i++){var r=o[i];return new t._AnyValueBinding(r)._getValue(e)}throw new t.RuntimeError(t.ErrorCode.UnexpectedEmptyArray,n)},n.prototype._getPercentageCategoryProperty=function(t){var n=t.shift();if("name"==n)return new e._DataValueInfo("PercentageCategory",this.__stringFormatting);if("value"==n){var i=this._point()._percentageCategory();if(null!=i)return new e._DataValueInfo(i,this.__stringFormatting)}return null},n.prototype._getPercentageDetailProperty=function(t){var n=t.shift();if("name"==n)return new e._DataValueInfo("PercentageDetail",this.__stringFormatting);if("value"==n){var i=this._point()._percentageDetail();if(null!=i)return new e._DataValueInfo(i,this.__stringFormatting)}return null},n.prototype._getPercentagePlotProperty=function(t){var n=t.shift();return"name"==n?new e._DataValueInfo("PercentagePlot",this.__stringFormatting):"value"==n?new e._DataValueInfo(this._point()._percentagePlot(),this.__stringFormatting):null},n.prototype._getValueFieldProperty=function(n){var i=n.shift(),o=this._point()._group()._yValueDefinition();if("name"==i){if(null!=o){var r=o._getLabel();if(null!=r)return new e._DataValueInfo(r,this.__stringFormatting)}return null}if("value"==i){if(t._isRangeValuePointDataModel(this._point())){var l=this._point();if(t._DataValueTypeExtension._isDate(l.lower)&&t._DataValueTypeExtension._isDate(l.upper)){var a=new e._DateRangeValueInfo(l.lower,l.upper,this.__stringFormatting);if(null==n||n.length<=0)return a;var u=this._getPropertyValue(a,n);return new e._DataValueInfo(u,this.__stringFormatting)}return t._DataValueTypeExtension._isNumber(l.lower)&&t._DataValueTypeExtension._isNumber(l.upper)?(a=new e._NumberRangeValueInfo(l.lower,l.upper,this.__stringFormatting),null==n||n.length<=0?a:null!=(u=this._getPropertyValue(a,n))?new e._DataValueInfo(u,this.__stringFormatting):null):null}var s=this._getValueByValueDefinition(this._point()._valueDefinition(),this._point()._dataSlices);return null!=s?new e._DataValueInfo(s,this.__stringFormatting):null}if("aggregate"==i&&null!=o){var _=t._isAggregateValueEncodingDefinition(o)?o:null;if(null!=_){var p=_._getAggregate();return null!=p&&null!=(c=t._CastExtension.toAggregateString(p))?new e._DataValueInfo(c,this.__stringFormatting):null}var c,h=t._isXyValueEncodingDefinition(o)?o:null;if(null!=h)return null!=(c=t._CastExtension.toAggregateString(h._getAggregate()))?new e._DataValueInfo(c,this.__stringFormatting):null}return null},n.prototype._getXFieldProperty=function(t){var n=t.shift();if("name"==n){var i=this._point()._group()._xValueDefinition();if(null!=i){var o=i._getLabel();return null!=o?new e._DataValueInfo(o,this.__stringFormatting):null}return null}if("value"==n){var r=this._point().xDimensionValue.rawValue;return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}return null},n.prototype._getCategoryFieldProperty=function(n,i){var o=n.shift(),r=this._point()._group()._x();if(t._isCategoryDimension(r)){null==i&&(i=0);var l=this._point()._group()._xValueDefinition();if(t._isCartesianCategoryEncodingDefinition(l)){var a=l._dataFieldDefinitions;if(null!=a&&i>=0&&i<a.length){if("name"==o){var u=a[i]._label;return null!=u?new e._DataValueInfo(u,this.__stringFormatting):null}if("value"==o){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,a[i]._dataField,t.Aggregate.List);return null!=s?new e._DataValueInfo(s,this.__stringFormatting):null}}}}return null},n.prototype._getDetailFieldsProperty=function(t){var n=t.shift(),i=this._point()._detailValue();if(null!=i&&null!=i._definition()){if("name"==n){var o=i._definition()._dataFieldDefinition._label;return null!=o?new e._DataValueInfo(o,this.__stringFormatting):null}if("value"==n){var r=i._key();return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}}return null},n.prototype._getColorFieldProperty=function(n){var i=n.shift(),o=this._pointView._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getCartesianPlotDefinition()._encodingsDefinition._getColorEncodingDefinition();if(o instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==i){var r=o._fieldDefinition()._label;return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}if("value"==i)return null!=(u=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._fieldDefinition()._dataField,o._aggregate()))?new e._DataValueInfo(u,this.__stringFormatting):null;if("aggregate"==i)return null!=(s=t._CastExtension.toAggregateString(o._aggregate()))?new e._DataValueInfo(s,this.__stringFormatting):null;if("color"==i)return null!=(_=this._pointView.color)?new e._ColorValueInfo(_):null}else if(o instanceof t._NumbericLegendEncodingDefinition){if("name"==i){var l=o._fieldDefinition()._label;return null!=l?new e._DataValueInfo(l,this.__stringFormatting):null}if("value"==i)return null!=(u=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._fieldDefinition()._dataField,o._aggregate()))?new e._DataValueInfo(u,this.__stringFormatting):null;if("aggregate"==i)return null!=(s=t._CastExtension.toAggregateString(o._aggregate()))?new e._DataValueInfo(s,this.__stringFormatting):null;if("color"==i)return null!=(_=this._pointView.color)?new e._ColorValueInfo(_):null}else if(o instanceof t._BinItemizedRangeLegendEncodingDefinition){if("name"==i){var a=o._fieldDefinition()._label;return null!=a?new e._DataValueInfo(a,this.__stringFormatting):null}var u,s,_;if("value"==i)return null!=(u=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._fieldDefinition()._dataField,o._aggregate()))?new e._DataValueInfo(u,this.__stringFormatting):null;if("aggregate"==i)return null!=(s=t._CastExtension.toAggregateString(o._aggregate()))?new e._DataValueInfo(s,this.__stringFormatting):null;if("color"==i)return null!=(_=this._pointView.color)?new e._ColorValueInfo(_):null}return null},n.prototype._getShapeFieldProperty=function(n){var i=n.shift(),o=this._point()._plot()._cartesianPlotDefinition()._encodingsDefinition._getShapeEncodingDefinition();if(o instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==i){var r=o._fieldDefinition()._label;return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}if("value"==i){var l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._fieldDefinition()._dataField,o._aggregate());return null!=l?new e._DataValueInfo(l,this.__stringFormatting):null}if("aggregate"==i){var a=t._CastExtension.toAggregateString(o._aggregate());return null!=a?new e._DataValueInfo(a,this.__stringFormatting):null}}return null},n.prototype._getSizeFieldProperty=function(n){var i=n.shift(),o=this._point()._plot()._cartesianPlotDefinition()._encodingsDefinition._getSizeEncodingDefinition();if(o instanceof t._ItemizedRangeLegendEncodingDefinition){if("name"==i){var r=o._fieldDefinition()._label;return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}if("value"==i){var l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o._fieldDefinition()._dataField,o._aggregate());return null!=l?new e._DataValueInfo(l,this.__stringFormatting):null}if("aggregate"==i){var a=t._CastExtension.toAggregateString(o._aggregate());return null!=a?new e._DataValueInfo(a,this.__stringFormatting):null}}return null},n.prototype._getTokenProperty=function(n,i){for(var o=i.shift(),r=0,l=this._contentDefinitions();r<l.length;r++){var a=l[r];if(t._isAggregateContentEncodingDefinition(a)){var u=a;if(u._dataFieldDefinition._dataField._name==n){if("name"==o){var s=u._dataFieldDefinition._label;return null!=s?new e._DataValueInfo(s,this.__stringFormatting):null}if("value"==o){var _=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,u._dataFieldDefinition._dataField,u._aggregate);return null!=_?new e._DataValueInfo(_,this.__stringFormatting):null}if("aggregate"==o){var p=t._CastExtension.toAggregateString(u._aggregate);return null!=p?new e._DataValueInfo(p,this.__stringFormatting):null}}}}return null},n.prototype.getIdentifierValue=function(e){return"current"==e?this._pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this._pointView?new t._AnyValueBinding(e.substring(8))._getValue(this._pointView):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n.prototype._getValueByValueDefinition=function(e,n){var i=null;if(t._isXyValueEncodingDefinition(e)){var o=e;i=t._DataSlicesAggregate._defaultAggregate._aggregate(n,o._getDataFieldDefinition()._dataField,o._getAggregate())}else if(t._isAggregateValueEncodingDefinition(e)){var r=e;i=t._DataSlicesAggregate._defaultAggregate._aggregate(n,r._getDataFieldDefinition()._dataField,r._getAggregate())}return i},n}(),e._CartesianTextProxy=n}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype._getDefaultFormat=function(e){return null!=this._pointView.text.format&&null!=this._pointView.text.format.value?this._pointView.text.format.value:t.prototype._getDefaultFormat.call(this,e)},e.prototype._getDefaultFormatType=function(){return null!=this._pointView.text.format&&null!=this._pointView.text.format.type?this._pointView.text.format.type:null},e}(t._CartesianTextProxy);t._CartesianDataLabelTextProxy=e}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isStringifyable=function(t){return null!=t&&"function"==typeof t._stringify}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function t(t,e){this.type=t,this.value=e}return t._attribute=function(t,e){return'"'+t+'":"'+e+'"'},t._Json_Stringify=function(e){return"{"+t._attribute("type",e.type)+","+t._attribute("value",e.value)+"}"},t._Json_Parse=function(e){var n=e.match(/"type":"(.*?)"/),i=e.match(/"value":"(.*?)"/);return new t(null==n?null:n[1],null==i?null:i[1])},t._toTemplateString=function(e){return null!=e?"<%"+t._Json_Stringify(e)+"%>":""},t._parse=function(e){for(var n,i=/<%(.*?)%>/g,o=0,r=[];null!=(n=i.exec(e));){var l=n.index;l>o&&r.push(new t("text",e.substr(o,l))),r.push(t._Json_Parse(n[1])),o=l+n[0].length}return o<e.length&&r.push(new t("text",e.substr(o,e.length))),r},t}();t.StringObject=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._applyGroupConditionFormattingRule=function(t,e){null!=t&&t._traverseCartesianGroupView((function(t,n){for(var i=0,o=t._getCartesianSeriesViews();i<o.length;i++){var r=o[i];e.evaluate(r)}}),null)},e.prototype._applyPointConditionFormattingRule=function(t,e){null!=t&&t._traversePointView((function(t,n){e.evaluate(t)}),null)},e}(t._ConditionalFormattingRuleRunner);t._TextConditionalFormattingRuleRunner=e}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isFilter=function(t){return null!=t&&"function"==typeof t.filter}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInPointSpacePolicyBuilders=function(){return null==i.__buildInPointSpacePolicyBuilders&&(i.__buildInPointSpacePolicyBuilders=new i([],i._pluginType)),i.__buildInPointSpacePolicyBuilders},i.prototype._convert=function(e){return t._isPointSpacePolicyBuilder(e)?e:null},i.prototype._pointSpacePolicy=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i],l=r.item._buildPointSpacePolicy(t,r.option);if(null!=l)return l}return null},i._pluginType="PointSpacePolicy",i}(t._BuildInObjectCollection);t._BuildInPointSpacePolicyBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isPointSpacePolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildPointSpacePolicy}}(t||(t={})),function(t){var e=function(){function t(){}return Object.defineProperty(t.prototype,"propertyChanged",{set:function(t){this.__propertyChanged=t},enumerable:!1,configurable:!0}),t.prototype._onPropertyChanged=function(t){null!=this.__propertyChanged&&this.__propertyChanged(this,t)},t}();t._NotifyPropertyChange=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){this.__map={}}return e.prototype.get=function(e){for(var n=this.__map,i=0;i<e.length;++i){if(i==e.length-1){if(t._NativeExtension.hasProperty(n,e[i],!1))return new t.PropertyValueResult(t._NativeExtension.getPropertyValue(n,e[i]));break}if(null==(n=t._NativeExtension.getPropertyValue(n,e[i]))||"object"!=typeof n)break}return null},e.prototype.set=function(e,n){if(0!=e.length){for(var i=this.__map,o=0;o<e.length-1;++o){var r=t._NativeExtension.getPropertyValue(i,e[o]);if(null==r){var l={};t._NativeExtension.setPropertyValue(i,e[o],l),r=l}else if("object"!=typeof i)return;i=r}t._NativeExtension.setPropertyValue(i,e[e.length-1],n)}},e}(),e.AssignedRecorder=n}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isModelProxy=function(t){var e=t;return null!=e&&"function"==typeof e.get&&"function"==typeof e.set}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this.__assignedRecord=new e.AssignedRecorder,this.__model=t}return n.prototype.get=function(e,n){void 0===n&&(n=!1);var i=t._EscapedCharacterStringUtility.slicePathArray(e);if(i.length<=0)return null;var o=this.__assignedRecord.get(i);if(null==o&&!n){var r=new t._AnyValueBinding(e);o=new t.PropertyValueResult(r._getValue(this.__model))}return o},n.prototype.set=function(e,n){var i=t._EscapedCharacterStringUtility.slicePathArray(e);i.length>0&&this.__assignedRecord.set(i,n)},n.prototype.queryInterface=function(t){return null},n}(),e.ModelProxy=n}(t||(t={})),function(t){var e=function(t){this.value=t};t.PropertyValueResult=e}(t||(t={})),function(t){var e=function(){function e(t){this.__domain=[],this.__range=[],this.__origin=NaN,this.__reversed=!1,this.__majorUnit=NaN,this.__minorUnit=NaN,this.__dirty=!0,this.__majorTicks=[],this.__minorTicks=[],this.__actualMajorUnit=NaN,this.__actualMinorUnit=NaN,this.___majorTickValueModels=[],this.__majorTickValueModelBuilder=t}return e.prototype.ticks=function(){return this._refresh(),this._getMajorTicks()},e.prototype.max=function(){return this._refresh(),this._max()},e.prototype.min=function(){return this._refresh(),this._min()},e.prototype.niceMax=function(){return this._refresh(),this._niceMax()},e.prototype.niceMin=function(){return this._refresh(),this._niceMin()},e.prototype.start=function(){return this._refresh(),this._start()},e.prototype.end=function(){return this._refresh(),this._end()},e.prototype._getDomain=function(){return this.__domain},e.prototype._setDomain=function(t){1==t.length?(this.__domain=[t[0],t[0]],this._onDomainChanged()):t.length>1&&(null==t[0]?this.__domain=[t[1],t[1]]:null==t[1]?this.__domain=[t[0],t[0]]:this.__domain=t.slice(),this._onDomainChanged())},e.prototype._getRange=function(){return this.__range.slice()},e.prototype._setRange=function(t){this.__range=t.slice(),this._onRangeChanged()},e.prototype._internalSetRange=function(t){this.__range=t},e.prototype._getOrigin=function(){return this.__origin},e.prototype._setOrigin=function(t){this.__origin=t,this._onOriginChanged()},e.prototype._getReversed=function(){return this.__reversed},e.prototype._setReversed=function(t){this.__reversed=t,this._onReversedChanged()},e.prototype._getMajorUnit=function(){return this.__majorUnit},e.prototype._setMajorUnit=function(e){if(this.__majorUnit!=e)if(null==e)this.__majorUnit=NaN,this._onMajorUnitChanged();else if("number"==typeof e){if(!isNaN(e)&&e<=0)throw new t.AssertError(t.ErrorCode.PositiveNumberExpected,e);this.__majorUnit=e,this._onMajorUnitChanged()}},e.prototype._getMinorUnit=function(){return this.__minorUnit},e.prototype._setMinorUnit=function(t){this.__minorUnit!=t&&(this.__minorUnit=t,this._onMinorUnitChanged())},e.prototype._onDomainChanged=function(){this._dirty()},e.prototype._onRangeChanged=function(){this._dirty()},e.prototype._onOriginChanged=function(){this._dirty()},e.prototype._onReversedChanged=function(){this._dirty()},e.prototype._onMajorUnitChanged=function(){this._dirty()},e.prototype._onMinorUnitChanged=function(){this._dirty()},e.prototype._getActualMajorUnit=function(){return this.__actualMajorUnit},e.prototype._setActualMajorUnit=function(t){this.__actualMajorUnit=t},e.prototype._getActualMinorUnit=function(){return this.__actualMinorUnit},e.prototype._setActualMinorUnit=function(t){this.__actualMinorUnit=t},e.prototype._majorTickValueModels=function(){if(null!=this.__majorTickValueModelBuilder&&this.__majorTicks.length>=0&&this.___majorTickValueModels.length<=0){for(var t=0,e=this.ticks();t<e.length;t++){var n=e[t],i=this.__majorTickValueModelBuilder._buildTickValue(n);null!=i&&this.___majorTickValueModels.push(i)}this.___majorTickValueModels.length>0&&this.__majorTickValueModelBuilder.applyConditionalFormat()}return this.___majorTickValueModels},e.prototype._getMajorTicks=function(){return this.__majorTicks},e.prototype._setMajorTicks=function(t){this.__majorTicks=t,this.___majorTickValueModels=[]},e.prototype._getMinorTicks=function(){return this.__minorTicks},e.prototype._setMinorTicks=function(t){this.__minorTicks=t},e.prototype._getActualValue=function(t){return t},e.prototype._dirty=function(){this.__dirty=!0},e.prototype._refresh=function(){this.__dirty&&(this.__dirty=!1,this._calculate())},e}();t._AxisScale=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this,n)||this;return i.__domainPadding=[0,0],i.__rangePadding=[0,0],i.__start=NaN,i.__end=NaN,i.___min=NaN,i.___max=NaN,i.___valueRange=new t._DataDomain(NaN,NaN),i}return n(i,e),i.prototype._getDomainPadding=function(){return this.__domainPadding.slice()},i.prototype._setDomainPadding=function(e){if(2!==e.length)throw new t.AssertError(t.ErrorCode.InvalidArgument,e);this.__domainPadding=e,this._onDomainPaddingChanged()},i.prototype._getRangePadding=function(){return this.__rangePadding.slice()},i.prototype._setRangePadding=function(e){if(2!==e.length)throw new t.AssertError(t.ErrorCode.InvalidArgument,e);this.__rangePadding=e,this._onRangePaddingChanged()},i.prototype._onDomainPaddingChanged=function(){this._dirty()},i.prototype._onRangePaddingChanged=function(){this._dirty()},i.prototype._min=function(){return this.___min},i.prototype._max=function(){return this.___max},i.prototype._niceMin=function(){return this.___min-this.__domainPadding[0]},i.prototype._niceMax=function(){return this.___max+this.__domainPadding[1]},i.prototype._internalSetRange=function(t){e.prototype._internalSetRange.call(this,t),this._calculateRange()},i.prototype._start=function(){var t=this.__start>this.__end?-1:1,e=Math.abs(this.__start-this.__end),n=this.__rangePadding[0],i=this.__rangePadding[1],o=this.__domainPadding[0],r=n+i;if(r>0&&r>e){var l=n/r;return this.__start+t*l*e}if(0!=o){var a=n-(e-r)*o/(this.___max-this.___min);return a>0?this.__start+t*a:this.__start}return this.__start+t*n},i.prototype._end=function(){var t=this.__start>this.__end?1:-1,e=Math.abs(this.__start-this.__end),n=this.__rangePadding[0],i=this.__rangePadding[1],o=this.__domainPadding[1],r=n+i;if(r>0&&r>e){var l=i/r;return this.__end+t*l*e}if(0!=o){var a=i-(e-r)*o/(this.___max-this.___min);return a>0?this.__end+t*a:this.__end}return this.__end+t*i},i.prototype._valueRange=function(){return this._refresh(),this.___valueRange},i.prototype.value=function(t){if(null==t||isNaN(t))return null;this._refresh();var e=t,n=this.___valueRange,i=n._max,o=n._min,r=this._start(),l=this._end();return i==o?(l-r)/2+r:(l-r)/(i-o)*(e-o)+r},i.prototype._calculate=function(){this._calculateRange(),this._calculateDomain(),this._calculateDomainByOrigin()},i.prototype._calculateRange=function(){var t=this._getRange();2==t.length&&(this._getReversed()?(this.__start=t[1],this.__end=t[0]):(this.__start=t[0],this.__end=t[1]))},i.prototype._calculateDomain=function(){var t=this._getDomain(),e=t[0],n=t[1];null==e&&null==n||isNaN(e)&&isNaN(n)?e=n=0:null==e?e=n:null==n&&(n=e),this.___min=e,this.___max=n},i}(t._AxisScale);t._PaddingAxisScale=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var o=e.call(this,n)||this;return o.__tickNumber=i.__defaultTickNumber,o._policy=t,o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ValueScaleType.Linear},enumerable:!1,configurable:!0}),i.prototype._getTickNumber=function(){return this.__tickNumber},i.prototype._setTickNumber=function(e){if(this.__tickNumber!=e){if(null==e||e<=0)throw new t.OptionError(t.ErrorCode.PositiveNumberExpected);this.__tickNumber=e,null==this.__tickNumber&&(this.__tickNumber=i.__defaultTickNumber),this._dirty()}},i.prototype._calculateDomain=function(){e.prototype._calculateDomain.call(this),this._fixSameMinMax()||this._calculateMinMax()},i.prototype._fixSameMinMax=function(){if(this.___min==this.___max)if(this.___min<0)this.___max=0;else{if(!(this.___max>0))return this.___min-=.5,this.___max+=.5,!0;this.___min=0}return!1},i.prototype._calculateMinMax=function(){var t=this._policy.calculateMinMax(this.___min,this.___max);this.___min=t._min,this.___max=t._max},i.prototype._calculateDomainByOrigin=function(){var t=this._policy.adjustMinMaxByOrigin(this.___min,this.___max,this._getOrigin());this.___min=t._min,this.___max=t._max},i.prototype._calculateValueRange=function(){this.___valueRange=this._policy.calculateValueRange(this._niceMin(),this._niceMax())},i.prototype._niceMin=function(){var t=this._getDomain()[0],n=e.prototype._niceMin.call(this);return null!=t&&!isNaN(t)&&n<this.__niceMin?n:this.__niceMin},i.prototype._niceMax=function(){var t=this._getDomain()[1],n=e.prototype._niceMax.call(this);return null!=t&&!isNaN(t)&&n>this.__niceMax?n:this.__niceMax},i.prototype._calculate=function(){e.prototype._calculate.call(this);var n=this.___min,i=this.___max,o=i-n,r=isNaN(this._getMajorUnit());if(!r&&this._calcTickNumber(o,this._getMajorUnit())>t._Constants.MaxMajorTickCount&&(r=!0),r){var l=this._calculateMajorUnit(o,this.__tickNumber);this._setActualMajorUnit(l)}else this._setTickNumber(this._calcTickNumber(o,this._getMajorUnit())),this._setActualMajorUnit(this._getMajorUnit());0==this._getActualMajorUnit()&&this._setActualMajorUnit(NaN);var a=isNaN(this._getMinorUnit());!a&&this._calcTickNumber(o,this._getMinorUnit())>t._Constants.MaxMinorTickCount&&(a=!0),a?this._setActualMinorUnit(.5*this._getActualMajorUnit()):this._setActualMinorUnit(this._getMinorUnit()),this.__niceMax=this._createNiceMaxValue(i,this._getActualMajorUnit()),this.__niceMin=this._createNiceMinValue(n,this._getActualMajorUnit());var u=this._tickPrecision(o),s=this._createTicks(this.__niceMin,this.__niceMax,this._getActualMajorUnit(),u);t._Util.numberArrayEquals(s,this._getMajorTicks())||this._setMajorTicks(s),this._setMinorTicks(this._createTicks(this.__niceMin,this.__niceMax,this._getActualMinorUnit(),u)),this._calculateValueRange()},i.prototype._calcTickNumber=function(t,e){return Math.ceil(t/e)+1},i.prototype._calculateMajorUnit=function(t,e){return this._policy.calculateMajorUnit(t,e)},i.prototype._createNiceMinValue=function(t,e){return this._policy.calculateNiceMin(t,e)},i.prototype._createNiceMaxValue=function(t,e){return this._policy.calculateNiceMax(t,e)},i.prototype._createTicks=function(t,e,n,i){var o=[];if(null==t||isNaN(t)||null==e||isNaN(e))return o;var r=this._getDomain();return null==r[0]||null==r[1]||isNaN(r[0])||isNaN(r[1])||(o=this._policy.calculateTicks(t,e,n,i)),o},i.prototype._tickPrecision=function(t){if(t<=0||isNaN(t))return 0;t>=1&&(t=1);var e=Math.log(t)/Math.LN10,n=Math.floor(e)-1;return Math.min(Math.pow(10,n),1e-10)},i.__defaultTickNumber=10,i}(t._PaddingAxisScale);t._LinearAxisScale=e}(t||(t={})),function(t){var e=function(e){function i(n,o,r){var l=e.call(this,r)||this;if(l.__tickNumber=i.__defaultTickNumber,1===n)throw new t.AssertError(t.ErrorCode.InvalidArgument,n);return l._logBase=n,l._policy=o,l}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ValueScaleType.Logarithmic},enumerable:!1,configurable:!0}),i.prototype._getTickNumber=function(){return this.__tickNumber},i.prototype._setTickNumber=function(t){this.__tickNumber!=t&&(this.__tickNumber=t,null==this.__tickNumber&&(this.__tickNumber=i.__defaultTickNumber),this._dirty())},i.prototype._niceMin=function(){var t=this._getDomain()[0],n=e.prototype._niceMin.call(this);return null!=t&&!isNaN(t)&&n>0&&n<this.__niceMin?n:this.__niceMin},i.prototype._niceMax=function(){var t=this._getDomain()[1],n=e.prototype._niceMax.call(this);return null!=t&&!isNaN(t)&&n>this.__niceMax?n:this.__niceMax},i.prototype.value=function(t){if(null==t||isNaN(t)||t<=0)return null;this._refresh();var e,n=t,i=this.___valueRange,o=i._max,r=i._min,l=this._start(),a=this._end();return this._logBase>1?0==(e=Math.log(o/r))?null:Math.log(n/r)/e*(a-l)+l:this._logBase<1?0==(e=Math.log(r/o))?null:Math.log(n/o)/e*(a-l)+l:null},i.prototype._calculateDomain=function(){e.prototype._calculateDomain.call(this),this._calculateMinMax()},i.prototype._calculateMinMax=function(){var t=this._policy.calculateMinMax(this.___min,this.___max);this.___min=t._min,this.___max=t._max},i.prototype._calculateDomainByOrigin=function(){var t=this._policy.adjustMinMaxByOrigin(this.___min,this.___max,this._getOrigin());this.___min=t._min,this.___max=t._max},i.prototype._calculateValueRange=function(){this.___valueRange=this._policy.calculateValueRange(this._niceMin(),this._niceMax())},i.prototype._calculate=function(){e.prototype._calculate.call(this),this._logBase>0&&(this.__niceMax=this._createNiceMaxValue(this.___max),this.__niceMin=this._createNiceMinValue(this.___min),(this.__niceMin<=0||isNaN(this.__niceMin))&&(this.__niceMin=1),isNaN(this.__niceMax)&&(this.__niceMax=this.___max),this.__niceMax<this.__niceMin&&(this.__niceMax=this.__niceMin+1));var n=this._createMajorTicks(this.__niceMin,this.__niceMax,this._getMajorUnit());t._Util.numberArrayEquals(n,this._getMajorTicks())||this._setMajorTicks(n);var i=this._createMinorTicks(this.__niceMin,this.__niceMax,this._getMinorUnit());this._setMinorTicks(i),this._calculateValueRange()},i.prototype._createNiceMinValue=function(t){return this._policy.calculateNiceMin(t,this._logBase)},i.prototype._createNiceMaxValue=function(t){return this._policy.calculateNiceMax(t,this._logBase)},i.prototype._createMajorTicks=function(t,e,n){return this._policy.generateMajorTicks(t,e,this._logBase,n)},i.prototype._createMinorTicks=function(t,e,n){return this._policy.generateMinorTicks(t,e,this._logBase,n)},i.__defaultTickNumber=10,i}(t._PaddingAxisScale);t._LogAxisScale=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,n)||this;return o.__dataTicks=[],o.__dataTicksChangeCallBack=i,o._policy=t,o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ValueScaleType.Ordinal},enumerable:!1,configurable:!0}),i.prototype._getTickNumber=function(){return Math.floor(this.___max)+1},i.prototype._setTickNumber=function(t){},i.prototype._calculateDomain=function(){e.prototype._calculateDomain.call(this);var t=this._getDomain(),n=t[0],i=t[1];(isNaN(n)&&isNaN(i)||null==n&&null==i)&&(n=-.5,i=.5),this.___min=n,this.___max=i,this._calculateMinMax()},i.prototype._calculateMinMax=function(){var t=this._policy.calculateMinMax(this.___min,this.___max);this.___min=t._min,this.___max=t._max},i.prototype._calculateDomainByOrigin=function(){var t=this._policy.adjustMinMaxByOrigin(this.___min,this.___max,this._getOrigin());this.___min=t._min,this.___max=t._max},i.prototype._calculateValueRange=function(){this.___valueRange=this._policy.calculateValueRange(this._niceMin(),this._niceMax())},i.prototype.ticks=function(){return this._refresh(),this.__labels},i.prototype._dataTicks=function(){return this._refresh(),this.__dataTicks},i.prototype._calculate=function(){if(e.prototype._calculate.call(this),isNaN(this._getMajorUnit())){var t=this._policy.calculateMajorUnit(this.___min,this.___max);this._setActualMajorUnit(t)}else this._setActualMajorUnit(this._getMajorUnit());isNaN(this._getMinorUnit())?this._setActualMinorUnit(.5*this._getActualMajorUnit()):this._setActualMinorUnit(this._getMinorUnit()),this._calculateTicks(),this._calculateValueRange()},i.prototype._calculateTicks=function(){var t=this.___min,e=this.___max;this._generateTicks(t,e),this._generateDataTicks(t,e)},i.prototype._generateDataTicks=function(t,e){null==t||null==e||isNaN(t)||isNaN(e)?this.__dataTicks=[]:(this.__dataTicks=this._policy.generateMajorTicks(Math.round(t),Math.floor(e),1),null!=this.__dataTicksChangeCallBack&&this.__dataTicksChangeCallBack(this))},i.prototype._generateTicks=function(e,n){if(null!=e&&null!=n&&!isNaN(e)&&!isNaN(n)){var i=this._policy.generateMajorTicks(Math.round(e),Math.floor(n),this._getActualMajorUnit());t._Util.numberArrayEquals(i,this._getMajorTicks())||this._setMajorTicks(i);var o=this._policy.generateMinorTicks(this._niceMin(),this._niceMax(),this._getActualMajorUnit(),this._getActualMinorUnit());this._setMinorTicks(o);var r=this._policy.generateLabels(e,n,this._getActualMajorUnit());t._Util.numberArrayEquals(r,this.__labels)||(this.__labels=r,this.___majorTickValueModels=[])}},i}(t._PaddingAxisScale);t._OrdinalAxisScale=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var o=e.call(this,n)||this;return o.__baseDateMode=null,o.__majorDateMode=null,o.__minorDateMode=null,o.__tickNumber=i.__defaultTickNumber,o.__actualDateMode=null,o._policy=t,o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ValueScaleType.Date},enumerable:!1,configurable:!0}),i.prototype._getBaseDateMode=function(){return this.__baseDateMode},i.prototype._setBaseDateMode=function(t){this.__baseDateMode!=t&&(this.__baseDateMode=t,this._onBaseDateModeChanged())},i.prototype._getMajorDateMode=function(){return this.__majorDateMode},i.prototype._setMajorDateMode=function(t){this.__majorDateMode!=t&&(this.__majorDateMode=t,this._onMajorDateModeChanged())},i.prototype._getMinorDateMode=function(){return this.__minorDateMode},i.prototype._setMinorDateMode=function(t){this.__minorDateMode!=t&&(this.__minorDateMode=t,this._onMinorDateModeChanged())},i.prototype._onBaseDateModeChanged=function(){this._dirty()},i.prototype._onMajorDateModeChanged=function(){this._dirty()},i.prototype._onMinorDateModeChanged=function(){this._dirty()},i.prototype._getTickNumber=function(){return this.__tickNumber},i.prototype._setTickNumber=function(e){if(this.__tickNumber!=e){if(null==e||e<=0)throw new t.OptionError(t.ErrorCode.PositiveNumberExpected,e);this.__tickNumber=e,null==this.__tickNumber&&(this.__tickNumber=i.__defaultTickNumber),this._dirty()}},i.prototype._getActualDateMode=function(){return this.__actualDateMode},i.prototype._setActualDateMode=function(t){this.__actualDateMode!=t&&(this.__actualDateMode=t)},i.prototype._getActualValue=function(t){return this._refresh(),this._getValueByDateMode(t,this._getActualDateMode())},i.prototype._getBaseValue=function(){return this._refresh(),this._getDateUnitInMilliSecond(1,this._getActualDateMode())},i.prototype._getValueByDateMode=function(e,n){var i=new Date(e);switch(n){case t.DateMode.Year:return new Date(i.getFullYear(),0,1).valueOf();case t.DateMode.Month:return new Date(i.getFullYear(),i.getMonth(),1).valueOf();case t.DateMode.Week:case t.DateMode.Day:return new Date(i.getFullYear(),i.getMonth(),i.getDate()).valueOf();case t.DateMode.Hour:return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours()).valueOf();case t.DateMode.Minute:return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes()).valueOf();case t.DateMode.Second:return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds()).valueOf();case t.DateMode.MilliSecond:}return e},i.prototype._calculateDomain=function(){e.prototype._calculateDomain.call(this),this._calculateMinMax()},i.prototype._calculateMinMax=function(){var t=this._policy.calculateMinMax(this.___min,this.___max);this.___min=this._getValueByDateMode(t._min,this._getActualDateMode()),this.___max=this._getValueByDateMode(t._max,this._getActualDateMode())},i.prototype._calculateDomainByOrigin=function(){var t=this._policy.adjustMinMaxByOrigin(this.___min,this.___max,this._getOrigin());this.___min=t._min,this.___max=t._max},i.prototype._calculateValueRange=function(){this.___valueRange=this._policy.calculateValueRange(this._niceMin(),this._niceMax())},i.prototype._calculate=function(){this._setActualDateMode(null==this._getBaseDateMode()?t.DateMode.Day:this._getBaseDateMode()),e.prototype._calculate.call(this);var n=this._getMajorDateMode();if(isNaN(this._getMajorUnit()))if(null!=n)n<this._getActualDateMode()?(n=this._getActualDateMode(),this._setActualMajorUnit(this._getDateUnitInMilliSecond(1,n))):this._setActualMajorUnit(this._calculateMajorUnit(this.___min,this.___max,n));else{var i=this._calculateDefaultMajorUnit(this.___min,this.___max);this._setActualMajorUnit(i[0]),n=i[1]}else(n=null!=n?n:this._getActualDateMode())<this._getActualDateMode()?(n=this._getActualDateMode(),this._setActualMajorUnit(this._calculateMajorUnit(this.___min,this.___max,n))):this._setActualMajorUnit(this._getDateUnitInMilliSecond(Math.round(this._getMajorUnit()),n));var o=this._getMinorDateMode();if(isNaN(this._getMinorUnit())){var r=this._calculateDefaultMinorUnit(this._getActualMajorUnit(),n);this._setActualMinorUnit(r[0]),o=r[1]}else o=null!=o?o:this._getActualDateMode(),this._setActualMinorUnit(this._getDateUnitInMilliSecond(Math.round(this._getMinorUnit()),o));var l=this._createTicks(this.___min,this.___max,this._getActualMajorUnit(),n,t._Constants.MaxMajorTickCount);null==l&&(i=this._calculateDefaultMajorUnit(this.___min,this.___max),this._setActualMajorUnit(i[0]),n=i[1],l=this._createTicks(this.___min,this.___max,this._getActualMajorUnit(),n)),t._Util.numberArrayEquals(l,this._getMajorTicks())||this._setMajorTicks(l);var a=this._createTicks(this.___min,this.___max,this._getActualMinorUnit(),o,t._Constants.MaxMinorTickCount);null==a&&(r=this._calculateDefaultMinorUnit(this._getActualMajorUnit(),n),this._setActualMinorUnit(r[0]),o=r[1],a=this._createTicks(this.___min,this.___max,this._getActualMinorUnit(),o)),this._setMinorTicks(a),this._calculateValueRange()},i.prototype._calculateDefaultMajorUnit=function(t,e){var n,i;return null!=this._getBaseDateMode()?(n=this._getBaseDateMode(),i=this._calculateMajorUnit(t,e,n)):(i=this._calculateMajorUnit(t,e),(n=this._getUnitMode(i,t))<this._getActualDateMode()&&(n=this._getActualDateMode(),i=this._getDateUnitInMilliSecond(1,n))),[i,n]},i.prototype._calculateDefaultMinorUnit=function(e,n){var i=n,o=e/this._getDateUnitInMilliSecond(1,i);return[t._Utility._isInteger(o)&&o%2==0?this._getDateUnitInMilliSecond(o/2,i):e/2,i]},i.prototype._calculateMajorUnit=function(e,n,i){if(void 0===i&&(i=null),null!=i){var o=new t._TimeSpan(.001*(n-e)*t._TimeSpan.TicksPerSecond),r=this._getDateUnitInMilliSecond(1,i),l=o.Ticks/1e4/r;return l>12?this._getDateUnitInMilliSecond(Math.ceil(l/12),i):r}var a=this._getTickNumber();a>12&&(a=12);var u=new t._TimeSpan(.001*(n-e)/a*t._TimeSpan.TicksPerSecond);return 1e3*t._TimeHelper.NiceTimeSpan(u,this._getMajorDateMode()).TotalSeconds},i.prototype._getUnitMode=function(e,n){var i=new Date(n),o=new t._TimeSpan(.001*e*t._TimeSpan.TicksPerSecond);return o.TotalDays>=365?t.DateMode.Year:o.TotalDays>=30||o.TotalDays>=28&&t._DateUtility._isMonthLastDay(i)?t.DateMode.Month:o.TotalDays>=7?t.DateMode.Week:o.TotalDays>=1?t.DateMode.Day:o.TotalSeconds>3600?t.DateMode.Hour:o.TotalSeconds>60?t.DateMode.Minute:o.TotalSeconds>1?t.DateMode.Second:t.DateMode.MilliSecond},i.prototype._getDateUnitInMilliSecond=function(e,n){switch(n){case t.DateMode.Year:return 365*e*24*3600*1e3;case t.DateMode.Month:return 30*e*24*3600*1e3;case t.DateMode.Week:return 7*e*24*3600*1e3;case t.DateMode.Day:return 24*e*3600*1e3;case t.DateMode.Hour:return 3600*e*1e3;case t.DateMode.Minute:return 60*e*1e3;case t.DateMode.Second:return 1e3*e;case t.DateMode.MilliSecond:}return e},i.prototype._createTicks=function(t,e,n,i,o){return void 0===o&&(o=null),this._policy.calculateTicks(t,e,n,i,o)},i.__defaultTickNumber=12,i}(t._PaddingAxisScale);t._TimeAxisScale=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,r,l)||this;return a.__fixedSameMinMax=!1,a.__minValue=e,a.__maxValue=n,a.__useActualMin=i,a.__useActualMax=o,a}return n(e,t),e.prototype._fixSameMinMax=function(){return this.__fixedSameMinMax=t.prototype._fixSameMinMax.call(this),this.__fixedSameMinMax&&(null!=this.__minValue&&(this.___min=this.__minValue),null!=this.__maxValue&&(this.___max=this.__maxValue)),this.__fixedSameMinMax},e.prototype._calculateMajorUnit=function(e,n){if(this.__fixedSameMinMax){for(var i=0;n>=10;)i++,n=Math.floor(n/10);n>=5?n=5*Math.pow(10,i):n>=2?n=2*Math.pow(10,i):n>=1&&(n=1*Math.pow(10,i))}return t.prototype._calculateMajorUnit.call(this,e,n)},e.prototype._createNiceMinValue=function(e,n){return null!=this.__minValue||this.__useActualMin||this.__fixedSameMinMax?e:t.prototype._createNiceMinValue.call(this,e,n)},e.prototype._createNiceMaxValue=function(e,n){return null!=this.__maxValue||this.__useActualMax||isNaN(this._getMajorUnit())&&this.__fixedSameMinMax?e:t.prototype._createNiceMaxValue.call(this,e,n)},e.prototype._calculateMinMax=function(){var t=this._policy.calculateCustomMinMax(this.___min,this.___max,this.__minValue,this.__maxValue,this.__useActualMin,this.__useActualMax);this.___min=t._min,this.___max=t._max},e.prototype._createTicks=function(t,e,n,i){var o=[];return null==t||isNaN(t)||null==e||isNaN(e)?o:o=this._policy.calculateTicks(t,e,n,i)},e}(t._LinearAxisScale);t._CustomLinearAxisScale=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,e,o,r)||this;return l.__minValue=n,l.__maxValue=i,l}return n(e,t),e.prototype._createNiceMinValue=function(e){return null!=this.__minValue?e:t.prototype._createNiceMinValue.call(this,e)},e.prototype._createNiceMaxValue=function(e){return null!=this.__maxValue?e:t.prototype._createNiceMaxValue.call(this,e)},e.prototype._calculateMinMax=function(){var t=this._policy.calculateCustomMinMax(this.___min,this.___max,this.__minValue,this.__maxValue);this.___min=t._min,this.___max=t._max},e}(t._LogAxisScale);t._CustomLogAxisScale=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,i,o,r)||this;return l.__minValue=e,l.__maxValue=n,l}return n(e,t),e.prototype._calculateMinMax=function(){var t=this._policy.calculateCustomMinMax(this.___min,this.___max,this.__minValue,this.__maxValue);this.___min=t._min,this.___max=t._max},e.prototype._calculateTicks=function(){var t=this.___min,e=this.___max;this._generateTicks(t,e),this._generateDataTicks(t,e)},e}(t._OrdinalAxisScale);t._CustomOrdinalAxisScale=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,i,o)||this;return r.__minValue=e,r.__maxValue=n,r}return n(e,t),e.prototype._calculateMinMax=function(){var t=this._policy.calculateCustomMinMax(this.___min,this.___max,this.__minValue,this.__maxValue);this.___min=this._getValueByDateMode(t._min,this._getActualDateMode()),this.___max=this._getValueByDateMode(t._max,this._getActualDateMode())},e}(t._TimeAxisScale);t._CustomTimeAxisScale=e}(t||(t={})),function(t){var e=function(t,e){this._min=t,this._max=e};t._DataDomain=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._setDefaultMode=function(t){var e=this._defaultDateMode(t._getDomain());t._setBaseDateMode(e),t._setMajorDateMode(e),t._setMinorDateMode(e)},e.prototype._defaultDateMode=function(e){var n=Math.min.apply(Math,e),i=Math.max.apply(Math,e);if(null!=n&&null!=i){var o=(i-n)/12;return this._getMode(o,n)}return t.DateMode.Day},e.prototype._getMode=function(e,n){var i=new Date(n),o=new t._TimeSpan(.001*e*t._TimeSpan.TicksPerSecond);return o.TotalDays>=365?t.DateMode.Year:o.TotalDays>=30||o.TotalDays>=28&&t._DateUtility._isMonthLastDay(i)?t.DateMode.Month:o.TotalDays>=7?t.DateMode.Week:o.TotalDays>=1?t.DateMode.Day:o.TotalSeconds>3600?t.DateMode.Hour:o.TotalSeconds>60?t.DateMode.Minute:o.TotalSeconds>1?t.DateMode.Second:t.DateMode.MilliSecond},e}();t._TimeAxisScaleDefault=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInAxisScalePolicyBuilders=function(){return null==i.__buildInAxisScalePolicyBuilders&&(i.__buildInAxisScalePolicyBuilders=new i([],i._pluginType)),i.__buildInAxisScalePolicyBuilders},i.prototype._convert=function(e){return t._isAxisScalePolicyBuilder(e)?e:null},i.prototype._axisScalePolicy=function(e,n,i,o){void 0===o&&(o=null);for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item.buildAxisScalePolicy(e,n);if(null!=a)return a}return n===t.ValueScaleType.Ordinal?t._OrdinalAxisScalePolicy._ordinalAxisScalePolicy:n===t.ValueScaleType.Linear?e.axisType===t.AxisType.X?t._XLinearAxisScalePolicy._xLinearAxisScalePolicy:t._YLinearAxisScalePolicy._yLinearAxisScalePolicy:n===t.ValueScaleType.Logarithmic?t._ExcelLogAxisScalePolicy._excelLogAxisScalePolicy:n==t.ValueScaleType.Date?t._TimeAxisScalePolicy._timeAxisScalePolicy:null},i._pluginType="ScalePolicy",i}(t._BuildInObjectCollection);t._BuildInAxisScalePolicyBuilderCollection=e}(t||(t={})),function(t){t._isAxisScalePolicy=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isAxisScalePolicyBuilder=function(t){return null!=t.buildAxisScalePolicy}}(t||(t={})),function(t){t._isLinearAxisScalePolicy=function(t){var e=t;return null!=e&&"function"==typeof e.calculateMinMax&&"function"==typeof e.calculateNiceMax&&"function"==typeof e.calculateNiceMin&&"function"==typeof e.calculateMajorUnit&&"function"==typeof e.calculateTicks}}(t||(t={})),t||(t={}),function(t){t._isLogAxisScalePolicy=function(t){var e=t;return null!=e&&"function"==typeof e.calculateMinMax&&"function"==typeof e.calculateNiceMax&&"function"==typeof e.calculateNiceMin&&"function"==typeof e.generateMajorTicks&&"function"==typeof e.generateMinorTicks}}(t||(t={})),t||(t={}),function(t){t._isOrdinalAxisScalePolicy=function(t){var e=t;return null!=e&&"function"==typeof e.generateMajorTicks&&"function"==typeof e.generateMinorTicks&&"function"==typeof e.generateLabels}}(t||(t={})),t||(t={}),function(t){t._isTimeAxisScalePolicy=function(t){var e=t;return null!=e&&"function"==typeof e.calculateMinMax&&"function"==typeof e.calculateTicks}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._nicePrecision=function(t){if(t<=0||isNaN(t))return 0;var e,n=Math.log(t)/Math.LN10;e=n>=0?Math.floor(n):Math.ceil(n);var i=t/Math.pow(10,e);return i<3&&(e=1-e,(i=t/Math.pow(10,e))<3&&(e+=1)),e},e.prototype._niceNumber=function(t,e,n){if(0==t)return t;t<0&&(t=-t);var i=t/Math.pow(10,e),o=10;return n?i<1.5?o=1:i<3?o=2:i<4.5?o=4:i<7&&(o=5):i<=1?o=1:i<=2?o=2:i<=5&&(o=5),o*Math.pow(10,e)},e.prototype._niceTickNumber=function(t){if(0==t)return t;t<0&&(t=-t);var e=Math.log(t)/Math.LN10,n=Math.floor(e),i=t/Math.pow(10,n),o=10;return i<=1?o=1:i<=2?o=2:i<=5&&(o=5),o*Math.pow(10,n)},e.prototype._calculateByMinValue=function(t,e,n,i,o){var r=i,l=o;return e<=0?t>0?(r=0,l=t):0==t?(r=-.5,l=.5):e<=t&&t<0?(r=t,l=0):(r=t,l=n?l:e):t<e?(r=t,l=n?l:e):(r=0,l=t),[r,l]},e.prototype._calculateByMaxValue=function(t,e,n,i,o){var r=i,l=o;return e>=0?t<0?(r=t,l=0):0==t?(r=-.5,l=.5):0<t&&t<=e?(r=0,l=t):(r=n?r:e,l=t):t>e?(r=n?r:e,l=t):(r=t,l=0),[r,l]},e.prototype._calculateByMinMax=function(t,e){var n,i;return t==e?e>0?(i=e,n=0):t<0?(n=t,i=0):(i=.5,n=-.5):(n=t,i=e),[n,i]},e.prototype.calculateMinMax=function(e,n){return new t._DataDomain(e,n)},e.prototype.adjustMinMaxByOrigin=function(e,n,i){return isNaN(i)||(i<e?e=i:i>n&&(n=i)),new t._DataDomain(e,n)},e.prototype.calculateCustomMinMax=function(e,n,i,o,r,l){var a=this.calculateMinMax(e,n);if(null!=i&&null!=o)e=(u=this._calculateByMinMax(i,o))[0],n=u[1];else if(null!=i&&null==o)e=(u=this._calculateByMinValue(i,a._max,l,e,n))[0],n=u[1];else if(null!=o&&null==i){var u;e=(u=this._calculateByMaxValue(o,a._min,r,e,n))[0],n=u[1]}else r||(e=a._min),l||(n=a._max);return new t._DataDomain(e,n)},e.prototype.calculateNiceMax=function(t,e){return 0==e&&(e=1),Math.floor(t/e)*e==t?t:(Math.floor(t/e)+1)*e},e.prototype.calculateNiceMin=function(t,e){return 0==e&&(e=1),Math.floor(t/e)*e},e.prototype.calculateMajorUnit=function(t,e){var n=this._nicePrecision(t),i=t/e,o=this._niceNumber(2*i,-n,!0);return o<i&&(o=this._niceNumber(i,1-n,!1)),o<i&&(o=this._niceTickNumber(i)),o},e.prototype.calculateTicks=function(t,e,n,i){var o=[];if(null!=t&&null!=e&&!isNaN(t)&&!isNaN(e))if(t<=0&&e>=0){for(var r=0;t-r<=i&&(o.push(r),(l=r-n)!=r);)r=l;for(o.reverse(),r=n;r-e<=i&&(o.push(r),(l=r+n)!=r);)r=l}else if(t!=e)for(r=t;r-e<=i;){var l;if(o.push(r),(l=r+n)==r)break;r=l}return o},e.prototype.calculateValueRange=function(e,n){return new t._DataDomain(e,n)},e.prototype.queryInterface=function(t){return"ILinearAxisScalePolicy"===t?this:null},e}();t._BaseLinearAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.buildAxisScalePolicy=function(e,n){return n==t.ValueScaleType.Linear&&e.axisType==t.AxisType.X?this:null},i.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t?this:e.prototype.queryInterface.call(this,t)},i._xLinearAxisScalePolicy=new i,i}(t._BaseLinearAxisScalePolicy);t._XLinearAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.calculateMinMax=function(e,n){null==e&&null==n&&(e=0,n=0),e==n&&(e=Math.min(0,e),n=Math.max(0,n));var i=((null==n?0:n)-(null==e?0:e))/1.5;return null!=e&&e>0?(e-=i)<0&&(e=0):null!=n&&n<0&&(n+=i)>0&&(n=0),new t._DataDomain(e,n)},i.prototype.buildAxisScalePolicy=function(e,n){return n==t.ValueScaleType.Linear&&e.axisType==t.AxisType.Y?this:null},i.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t?this:e.prototype.queryInterface.call(this,t)},i._yLinearAxisScalePolicy=new i,i}(t._BaseLinearAxisScalePolicy);t._YLinearAxisScalePolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.calculateMinMax=function(e,n){return new t._DataDomain(e,n)},e.prototype.calculateCustomMinMax=function(t,e,n,i){var o=this.calculateMinMax(t,e);return null!=n&&(o._min=n),null!=i&&(o._max=i),o},e.prototype.adjustMinMaxByOrigin=function(e,n,i){return isNaN(i)||(i<e?e=i:i>n&&(n=i)),new t._DataDomain(e,n)},e.prototype.calculateNiceMax=function(t,e){var n=Math.log(e);if(e>1){var i=Math.ceil(Math.log(t)/n-1e-9);return Math.pow(e,i)}return e<1?(i=Math.floor(Math.log(t)/n-1e-9),t<=1&&(i=i<0?0:i),Math.ceil(Math.pow(e,i))):null},e.prototype.calculateNiceMin=function(t,e){var n=Math.log(e);if(e>1){var i=Math.floor(Math.log(t)/n+1e-9);return Math.pow(e,i)}return e<1?(i=Math.abs(Math.ceil(Math.log(t)/n-1e-9)),Math.pow(e,i)):null},e.prototype.generateMajorTicks=function(t,e,n,i){var o=[],r=Math.log(n),l=Math.floor(Math.log(t)/r),a=Math.ceil(Math.log(e)/r),u=n,s=!0;i>0&&(s=!1,u=i),u<n&&(u=n);for(var _=l;_<=a;_+=1)if(s)for(var p=Math.pow(n,_),c=0;c*u<n-1;c++){var h;(h=p*(1+c*u))>=t&&h<=e&&(0==c?o.unshift(h):o.push(h))}else(h=Math.pow(u,_))>=t&&h<=e&&o.push(h);return o},e.prototype.generateMinorTicks=function(t,e,n,i){return[]},e.prototype.calculateValueRange=function(e,n){return new t._DataDomain(e,n)},e.prototype.queryInterface=function(t){return"ILogAxisScalePolicy"===t?this:null},e}();t._BaseLogAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.calculateMinMax=function(e,n){return null==e&&null==n&&(e=1,n=1),e==n&&(e=Math.min(1,e),n=Math.max(1,n)),null!=e&&e>1?e=1:(null==n||n<1)&&(n=1),new t._DataDomain(e,n)},i.prototype.generateMajorTicks=function(t,e,n,i){var o=[],r=n;if(!isNaN(i)&&i>0&&1!=i&&i>=n&&(r=i),r>1)for(var l=t;l<=e;l*=r)o.push(l);else if(r<1){for(l=t;l<=e;l/=r)o.push(l);o.reverse()}return o},i.prototype.generateMinorTicks=function(t,e,n,i){var o=[],r=n;if(!isNaN(i)&&i>0&&1!=i&&i>=n&&(r=i),n>1){for(var l=Math.pow(n,2);r>l;)r/=n;for(var a=t/n*r;a<=e;){for(var u=1;u<n;++u){var s=u*a;s>=t&&s<=e&&o.push(u*a)}a*=r}}return o},i.prototype.buildAxisScalePolicy=function(e,n){return n==t.ValueScaleType.Logarithmic?this:null},i.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t?this:e.prototype.queryInterface.call(this,t)},i._excelLogAxisScalePolicy=new i,i}(t._BaseLogAxisScalePolicy);t._ExcelLogAxisScalePolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._getNiceMajorUnit=function(t,e,n){var i=e-t;return n>0&&i/n>999?Math.ceil(i/999):n},e.prototype._getNiceMinorUnit=function(t,e,n,i){var o=e-t;return i>0&&o/i>1999?n>0&&o/n>999?.5*Math.ceil(o/999):.5*n:i},e.prototype._createLabels=function(t,e,n){n<1&&(n=1);for(var i=[],o=Math.round(t);o<=Math.floor(e);o+=n)i.push(parseFloat(o.toFixed(1/n)));return i},e.prototype._createMajorTicks=function(t,e,n){for(var i=[],o=t;o<=e;o+=n)i.push(parseFloat(o.toFixed(1/n)));return i},e.prototype._createMinorTicks=function(t,e,n){for(var i=[],o=t;o<=e;o+=n)i.push(o);return i},e.prototype.calculateMinMax=function(e,n){return new t._DataDomain(e,n)},e.prototype.calculateCustomMinMax=function(t,e,n,i){var o=this.calculateMinMax(t,e);return null!=n&&(o._min=n),null!=i&&(o._max=i),o},e.prototype.adjustMinMaxByOrigin=function(e,n,i){return isNaN(i)||(i<e?e=i:i>n&&(n=i)),new t._DataDomain(e,n)},e.prototype.calculateMajorUnit=function(t,e){return 1},e.prototype.generateMajorTicks=function(t,e,n){return this._createMajorTicks(t,e,this._getNiceMajorUnit(t,e,n))},e.prototype.generateMinorTicks=function(t,e,n,i){return this._createMinorTicks(t,e,this._getNiceMinorUnit(t,e,n,i))},e.prototype.generateLabels=function(t,e,n){return this._createLabels(t,e,this._getNiceMajorUnit(t,e,n))},e.prototype.calculateValueRange=function(e,n){return new t._DataDomain(e,n)},e.prototype.queryInterface=function(t){return"IOrdinalAxisScalePolicy"===t?this:null},e}();t._BaseOrdinalAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.buildAxisScalePolicy=function(e,n){return n==t.ValueScaleType.Ordinal?this:null},i.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t?this:e.prototype.queryInterface.call(this,t)},i._ordinalAxisScalePolicy=new i,i}(t._BaseOrdinalAxisScalePolicy);t._OrdinalAxisScalePolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.calculateMinMax=function(e,n){var i=null==e?0:e,o=null==n?0:n;return new t._DataDomain(i,o)},e.prototype.calculateCustomMinMax=function(t,e,n,i){var o=this.calculateMinMax(t,e);return null!=n&&(o._min=n),null!=i&&(o._max=i),o},e.prototype.adjustMinMaxByOrigin=function(e,n,i){return isNaN(i)||(i<e?e=i:i>n&&(n=i)),new t._DataDomain(e,n)},e.prototype.calculateTicks=function(e,n,i,o,r){void 0===r&&(r=null);var l=[],a=new Date(e),u=new Date(n),s=new t._TimeSpan(.001*i*t._TimeSpan.TicksPerSecond),_=Math.round(s.TotalDays/365),p=Math.round(s.TotalDays/30),c=Math.round(s.TotalDays/7),h=Math.round(s.TotalDays),f=function(t){for(var e=a;e<=u;t(e)){var n=e.valueOf();if(l.push(n),null!=r&&l.length>r)break}};switch(o){case t.DateMode.Year:var d=_<=0?1:_;f((function(t){t.setFullYear(t.getFullYear()+d)}));break;case t.DateMode.Month:var y=p<=0?1:p;f((function(e){var n=new Date(e.valueOf());n.setMonth(e.getMonth()+y),n.getMonth()!=(e.getMonth()+y)%12||t._DateUtility._isMonthLastDay(e)?(e.setDate(1),e.setMonth(e.getMonth()+y+1),e.setDate(0)):e.setMonth(e.getMonth()+y)}));break;case t.DateMode.Week:var g=c<=0?1:c;f((function(t){t.setDate(t.getDate()+7*g)}));break;case t.DateMode.Day:var m=h<=0?1:h;f((function(t){t.setDate(t.getDate()+m)}));break;case t.DateMode.Hour:var v=Math.round(s.TotalSeconds/3600),w=v<=0?1:v;f((function(t){t.setHours(t.getHours()+w)}));break;case t.DateMode.Minute:var b=Math.round(s.TotalSeconds/60),P=b<=0?1:b;f((function(t){t.setMinutes(t.getMinutes()+P)}));break;case t.DateMode.Second:var S=Math.round(s.TotalSeconds),C=S<=0?1:S;f((function(t){t.setSeconds(t.getSeconds()+C)}));break;case t.DateMode.MilliSecond:var V=Math.round(s.Ticks/1e3),x=V<=0?1:V;f((function(t){t.setMilliseconds(t.getMilliseconds()+x)}))}return null!=r&&l.length>r?null:l},e.prototype.calculateValueRange=function(e,n){return new t._DataDomain(e,n)},e.prototype.queryInterface=function(t){return"ITimeAxisScalePolicy"===t?this:null},e}();t._BaseTimeAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.buildAxisScalePolicy=function(e,n){return n==t.ValueScaleType.Date?this:null},i.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t?this:e.prototype.queryInterface.call(this,t)},i._timeAxisScalePolicy=new i,i}(t._BaseTimeAxisScalePolicy);t._TimeAxisScalePolicy=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var r=this._getMinValueFromOption(e),l=this._getMaxValueFromOption(e),a=e.useActualMin,u=e.useActualMax,s=i;return null!=r||null!=l||a||u?new t._CustomLinearAxisScale(r,l,a,u,s,n):new t._LinearAxisScale(s,n)},e.prototype._getMinValueFromOption=function(e){var n=null;return null==e.min||e.min.type!=t.ValueOptionType.Number&&e.min.type!=t.ValueOptionType.Date||(n=e.min.value),n},e.prototype._getMaxValueFromOption=function(e){var n=null;return null==e.max||e.max.type!=t.ValueOptionType.Number&&e.max.type!=t.ValueOptionType.Date||(n=e.max.value),n},e.defaultLinearAxisScaleBuilder=new e,e}();t._LinearAxisScaleBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var r=this._getMinValueFromOption(e),l=this._getMaxValueFromOption(e),a=e.useActualMin,u=e.useActualMax,s=i;return null!=r||null!=l||a||u?new t._CustomLogAxisScale(e.logBase,r,l,s,n):new t._LogAxisScale(e.logBase,s,n)},e.prototype._getMinValueFromOption=function(e){var n=null;return null==e.min||e.min.type!=t.ValueOptionType.Number&&e.min.type!=t.ValueOptionType.Date||(n=e.min.type==t.ValueOptionType.Date?null:e.min.value),n},e.prototype._getMaxValueFromOption=function(e){var n=null;return null==e.max||e.max.type!=t.ValueOptionType.Number&&e.max.type!=t.ValueOptionType.Date||(n=e.max.type==t.ValueOptionType.Date?null:e.max.value),n},e.defaultLogAxisScaleBuilder=new e,e}();t._LogAxisScaleBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var r=this._getMinValueFromOption(e),l=this._getMaxValueFromOption(e),a=e.useActualMin,u=e.useActualMax,s=i;return null!=r||null!=l||a||u?new t._CustomOrdinalAxisScale(r,l,s,n,o):new t._OrdinalAxisScale(s,n,o)},e.prototype._getMinValueFromOption=function(e){var n=null;return null==e.min||e.min.type!=t.ValueOptionType.Number&&e.min.type!=t.ValueOptionType.Date||(n=e.min.type==t.ValueOptionType.Date?null:e.min.value),n},e.prototype._getMaxValueFromOption=function(e){var n=null;return null==e.max||e.max.type!=t.ValueOptionType.Number&&e.max.type!=t.ValueOptionType.Date||(n=e.max.type==t.ValueOptionType.Date?null:e.max.value),n},e.defaultOrdinalAxisScaleBuilder=new e,e}();t._OrdinalAxisScaleBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var r=this._getMinValueFromOption(e),l=this._getMaxValueFromOption(e),a=i;return null!=r||null!=l?new t._CustomTimeAxisScale(r,l,a,n):new t._TimeAxisScale(a,n)},e.prototype._getMinValueFromOption=function(e){var n=null;return null==e.min||e.min.type!=t.ValueOptionType.Number&&e.min.type!=t.ValueOptionType.Date||(n=e.min.value),n},e.prototype._getMaxValueFromOption=function(e){var n=null;return null==e.max||e.max.type!=t.ValueOptionType.Number&&e.max.type!=t.ValueOptionType.Date||(n=e.max.value),n},e.defaultTimeAxisScaleBuilder=new e,e}();t._TimeAxisScaleBuilder=e}(t||(t={})),function(t){t._isAxisScale=function(t){var e=t;return null!=e&&void 0!==e.type&&"function"==typeof e.ticks&&"function"==typeof e.niceMax&&"function"==typeof e.niceMin&&"function"==typeof e.start&&"function"==typeof e.end&&"function"==typeof e.value&&"function"==typeof e._setTickNumber&&"function"==typeof e._setDomain&&"function"==typeof e._setRange&&"function"==typeof e._internalSetRange&&"function"==typeof e._setOrigin&&"function"==typeof e._setReversed&&"function"==typeof e._setMajorUnit&&"function"==typeof e._setMinorUnit&&"function"==typeof e._setActualMajorUnit&&"function"==typeof e._setActualMinorUnit&&"function"==typeof e._majorTickValueModels&&"function"==typeof e._setMajorTicks&&"function"==typeof e._setMinorTicks&&"function"==typeof e._getActualValue&&"function"==typeof e._refresh}}(t||(t={})),t||(t={}),function(t){t._isLinearAxisScale=function(e){return!!t._isAxisScale(e)&&e.type===t.ValueScaleType.Linear}}(t||(t={})),function(t){t._isLogAxisScale=function(e){return!!t._isAxisScale(e)&&e.type===t.ValueScaleType.Logarithmic}}(t||(t={})),function(t){t._isOrdinalAxisScale=function(e){if(!t._isAxisScale(e))return!1;var n=e;return n.type===t.ValueScaleType.Ordinal&&"function"==typeof n._dataTicks}}(t||(t={})),function(t){t._isPaddingAxisScale=function(t){var e=t;return null!=e&&"function"==typeof e._getDomainPadding&&"function"==typeof e._setDomainPadding&&"function"==typeof e._getRangePadding&&"function"==typeof e._setRangePadding}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isTimeAxisScale=function(e){if(!t._isAxisScale(e))return!1;var n=e;return n.type===t.ValueScaleType.Date&&"function"==typeof n._setBaseDateMode&&"function"==typeof n._setMajorDateMode&&"function"==typeof n._setMinorDateMode&&"function"==typeof n._getBaseValue}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this._updateDomain(t,e),this._reversed=!1}return e.prototype._convertToOffset=function(t){if(null==t)return 0;var e=(t-this._getMinimum())/(this._getMaximum()-this._getMinimum());return e>1?e=1:e<0&&(e=0),e},e.prototype._updateDomain=function(e,n){if(null==e&&null==n)this.__minimum=-.5,this.__maximum=.5;else if(null!=e&&null!=n)(i=t._NativeExtension._toNonNullNumber(e,-.5))<(o=t._NativeExtension._toNonNullNumber(n,.5))?(this.__minimum=i,this.__maximum=o):i>o?(this.__minimum=o,this.__maximum=i):(this.__minimum=i-.5,this.__maximum=i+.5);else if(null!=e){var i=t._NativeExtension._toNonNullNumber(e,-.5);this.__minimum=i-.5,this.__maximum=i+.5}else if(null!=n){var o=t._NativeExtension._toNonNullNumber(n,.5);this.__minimum=o-.5,this.__maximum=o+.5}},e.prototype._getMinimum=function(){return this.__minimum},e.prototype._getMaximum=function(){return this.__maximum},e.prototype._getRange=function(){return this.__range},e.prototype._updateRange=function(t){this.__range=t},e.prototype._scaleValue=function(e){for(var n=new t._ColorStop(null,this._convertToOffset(e)),i=0,o=0;o<this.__range.length;o++){var r=this.__range[o];if(n.stop<r.stop){i=o-1;break}if(n.stop==r.stop){i=o;break}}var l,a,u=0;if(i==this.__range.length-1)return n.color=this.__range[1].color,n;this.__range[i+1].stop!=this.__range[i].stop&&(u=(n.stop-this.__range[i].stop)/(this.__range[i+1].stop-this.__range[i].stop)),this._reversed?(l=t._NativeColorUtility._toRgba(t._NativeColorUtility._buildNativeColor(this.__range[i+1].color)),a=t._NativeColorUtility._toRgba(t._NativeColorUtility._buildNativeColor(this.__range[i].color))):(l=t._NativeColorUtility._toRgba(t._NativeColorUtility._buildNativeColor(this.__range[i].color)),a=t._NativeColorUtility._toRgba(t._NativeColorUtility._buildNativeColor(this.__range[i+1].color)));var s=l._red,_=l._green,p=l._blue,c=l._alpha,h=(a._red-s)*u,f=(a._green-_)*u,d=(a._blue-p)*u,y=(a._alpha-c)*u;return n.color=new t._RgbaNativeColor(Math.floor(h+s),Math.floor(f+_),Math.floor(d+p),y+c)._toCss(),n},e.prototype._calculateColorStopsOfRange=function(e,n){var i=[],o=this._scaleValue(e),r=this._scaleValue(n);i.push(new t._ColorStop(o.color,0));for(var l=this._convertToOffset(e),a=this._convertToOffset(n),u=0,s=this.__range;u<s.length;u++){var _=s[u];if(_.stop<a&&_.stop>l){var p=this._getMinimum(),c=this._getMaximum(),h=(_.stop*(c-p)+p-e)/(n-e);i.push(new t._ColorStop(_.color,h))}}return i.push(new t._ColorStop(r.color,1)),i},e}();t._LinearGradientColorScale=e}(t||(t={})),function(t){!function(t){t._isShapeModel=function(t){return null!=t&&void 0!==t.shapes}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var i=e.call(this)||this;return i.__strictMode=n,i.__option=t,i}return n(i,e),i.prototype.option=function(){return this.__option},i.prototype.validate=function(e){return t._ReflectorUtility._validateOptionValue(e,this,this.__strictMode)},i}(t._NotifyPropertyChange),e._NotifyPropertyChangeOptionModel=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(n){var i=e.call(this,null==n?null:n.option())||this;return i.__isChanged=!1,t.options._DataPointStyleOptionCloneMaker._dataPointStyleOptionCloneMaker._copy(n,i),i}return n(i,e),Object.defineProperty(i.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){t=this.validate(t),null!=this.__opacity&&this.__opacity==t||(this.__opacity=t,this._onPropertyChanged("opacity"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){t=this.validate(t),null!=this.__strokeOpacity&&this.__strokeOpacity==t||(this.__strokeOpacity=t,this._onPropertyChanged("strokeOpacity"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this.__fill},set:function(t){this.__fill!=t&&(this.__fill=t,this._onPropertyChanged("fill"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){this.__backgroundColor!=t&&(this.__backgroundColor=t,this._onPropertyChanged("backgroundColor"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){this.__stroke!=t&&(this.__stroke=t,this._onPropertyChanged("stroke"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){this.__strokeWidth!=t&&(this.__strokeWidth=t,this._onPropertyChanged("strokeWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t,this._onPropertyChanged("strokeDasharray"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolShape",{get:function(){return this.__symbolShape},set:function(t){this.__symbolShape!=t&&(this.__symbolShape=t,this._onPropertyChanged("symbolShape"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolOpacity",{get:function(){return this.__symbolOpacity},set:function(t){t=this.validate(t),null!=this.__symbolOpacity&&this.__symbolOpacity==t||(this.__symbolOpacity=t,this._onPropertyChanged("symbolOpacity"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolStrokeOpacity",{get:function(){return this.__symbolStrokeOpacity},set:function(t){t=this.validate(t),this.__symbolStrokeOpacity!=t&&(this.__symbolStrokeOpacity=t,this._onPropertyChanged("symbolStrokeOpacity"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolFill",{get:function(){return this.__symbolFill},set:function(t){this.__symbolFill!=t&&(this.__symbolFill=t,this._onPropertyChanged("symbolFill"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolStroke",{get:function(){return this.__symbolStroke},set:function(t){this.__symbolStroke!=t&&(this.__symbolStroke=t,this._onPropertyChanged("symbolStroke"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolStrokeWidth",{get:function(){return this.__symbolStrokeWidth},set:function(t){t=this.validate(t),this.__symbolStrokeWidth!=t&&(this.__symbolStrokeWidth=t,this._onPropertyChanged("symbolStrokeWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolStrokeDasharray",{get:function(){return this.__symbolStrokeDasharray},set:function(t){this.__symbolStrokeDasharray!=t&&(this.__symbolStrokeDasharray=t,this._onPropertyChanged("symbolStrokeDasharray"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolSize",{get:function(){return this.__symbolSize},set:function(t){null!=this.__symbolSize&&this.__symbolSize==t||(this.__symbolSize=t,this._onPropertyChanged("symbolSize"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"borderRadius",{get:function(){return this.__borderRadius},set:function(t){null!=this.__borderRadius&&this.__borderRadius==t||(this.__borderRadius=t,this._onPropertyChanged("borderRadius"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pattern",{get:function(){return this.__pattern},set:function(t){this.__pattern!=t&&(this.__pattern=t,this._onPropertyChanged("pattern"))},enumerable:!1,configurable:!0}),i.prototype._merge=function(e){null!=e&&(null!=e.opacity&&(this.opacity=e.opacity),null!=e.strokeOpacity&&(this.strokeOpacity=e.strokeOpacity),null!=e.fill&&(this.fill=e.fill),null!=e.backgroundColor&&(this.backgroundColor=e.backgroundColor),null!=e.stroke&&(this.stroke=e.stroke),null!=e.strokeWidth&&(this.strokeWidth=e.strokeWidth),null!=e.strokeDasharray&&(this.strokeDasharray=e.strokeDasharray),null!=e.symbolShape&&(this.symbolShape=e.symbolShape),null!=e.symbolOpacity&&(this.symbolOpacity=e.symbolOpacity),null!=e.symbolStrokeOpacity&&(this.symbolStrokeOpacity=e.symbolStrokeOpacity),null!=e.symbolFill&&(this.symbolFill=e.symbolFill),null!=e.symbolStroke&&(this.symbolStroke=e.symbolStroke),null!=e.symbolStrokeWidth&&(this.symbolStrokeWidth=e.symbolStrokeWidth),null!=e.symbolStrokeDasharray&&(this.symbolStrokeDasharray=e.symbolStrokeDasharray),null!=e.symbolSize&&(this.symbolSize=e.symbolSize),null==e.borderRadius||t.shapes._BorderRadiusExtension._isEmpty(e.borderRadius)||(this.borderRadius=t.options._BorderRadiusOptionCloneMaker._borderRadiusOptionCloneMaker._cloneOf(e.borderRadius)))},i.prototype._onPropertyChanged=function(t){this.__isChanged=!0,e.prototype._onPropertyChanged.call(this,t)},i.prototype._isChanged=function(){return this.__isChanged},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"strokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"fill",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"stroke",null),o([t.JsonConverterAttribute(t._StrokeWidthOptionConverter,!1)],i.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"strokeDasharray",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"symbolShape",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"symbolOpacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"symbolStrokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"symbolFill",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"symbolStroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"symbolStrokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"symbolStrokeDasharray",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"symbolSize",null),o([t.JsonConverterAttribute(t._BorderRadiusOptionConverter,!1)],i.prototype,"borderRadius",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_PatternOption")],i.prototype,"pattern",null),i}(e._NotifyPropertyChangeOptionModel),e._DataPointStyleOptionModel=i}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n.__adorners=e.adorners,n}return n(e,t),Object.defineProperty(e.prototype,"adorners",{get:function(){return this.__adorners},set:function(t){this.__adorners!==t&&(this.__adorners=t,this._onPropertyChanged("adorners"))},enumerable:!1,configurable:!0}),e.prototype._merge=function(e){if(null!=e){var n=e;this.adorners=n.adorners,t.prototype._merge.call(this,n)}},e}(t._DataPointStyleOptionModel);t._DataPointSelectionStyleOptionModel=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(e,n,i,o,r){if(i<n)throw new t.AssertError(t.ErrorCode.LowerThanOrEqualToNumberValueRequired,i,n);if(r<=0)throw new t.AssertError(t.ErrorCode.PositiveIntegerExpected,r);this.__logBase=e,this.__minimum=n,this.__maximum=i,this.__round=o,this.__count=r}return e.prototype._getUnit=function(){return this.__unit},e.prototype._setUnit=function(t){this.__unit!=t&&(this.__unit=t,this.__ticks=null)},e.prototype._ticks=function(){return null==this.__ticks&&(this.__ticks=this._calculateTicks(this._minimum(),this._maximum())),this.__ticks},e.prototype._logBase=function(){return this.__logBase},e.prototype._minimum=function(){return this.__minimum},e.prototype._maximum=function(){return this.__maximum},e.prototype._round=function(){return this.__round},e.prototype._count=function(){return this.__count},e.prototype._calculateTicks=function(t,e){var n=[],i=this._logBase(),o=Math.log(i),r=Math.floor(Math.log(this._minimum())/o),l=Math.ceil(Math.log(this._maximum())/o),a=i,u=!0;this._getUnit()>0&&(u=!1,(a=this._getUnit())<i&&(a=i));for(var s=r;s<=l;s+=1)if(u)for(var _=Math.pow(i,s),p=0;p*a<i-1;p++){var c;(c=_*(1+p*a))>=this._minimum()&&c<=this._maximum()&&(0==p?n.unshift(c):n.push(c))}else(c=Math.pow(a,s))>=this._minimum()&&c<=this._maximum()&&n.push(c);return n},e}(),e._LogNumberTicksGenerator=n}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){if(n<e)throw new t.AssertError(t.ErrorCode.LowerThanOrEqualToNumberValueRequired,n,e);if(o<=0)throw new t.AssertError(t.ErrorCode.PositiveIntegerExpected,o);this.__minimum=e,this.__maximum=n,this.__round=i,this.__count=o}return e.prototype._getUnit=function(){return this.__unit},e.prototype._setUnit=function(t){this.__unit=t},e.prototype._ticks=function(){return null==this.__ticks&&(this.__ticks=this._calculateTicks(this._minimum(),this._maximum())),this.__ticks},e.prototype._minimum=function(){return this.__minimum},e.prototype._maximum=function(){return this.__maximum},e.prototype._round=function(){return this.__round},e.prototype._count=function(){return this.__count},e.prototype._calculateTicks=function(t,e){var n=[];if(t==e)n.push(t);else{var i=this._getUnit();null==i&&(i=this._calculateUnit(t,e,this._count()));for(var o=Math.floor(t/i)*i,r=Math.ceil(e/i)*i,l=r<0?r:-i;l-o>=0&&(n.push(l),l-=i,this._round()||!(l-t<0)););for(n.reverse(),l=o>=0?o:0;r-l>=0&&(n.push(l),l+=i,this._round()||!(e-l<0)););}return n},e.prototype._calculateUnit=function(n,i,o){if(i<n)throw new t.AssertError(t.ErrorCode.LowerThanOrEqualToNumberValueRequired,i,n);if(o<=0)throw new t.AssertError(t.ErrorCode.PositiveIntegerExpected,o);var r=(i-n)/o,l=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/l;return a>=e.__e10?l*=10:a>=e.__e5?l*=5:a>=e.__e2&&(l*=2),l},e.__e10=Math.sqrt(50),e.__e5=Math.sqrt(10),e.__e2=Math.sqrt(2),e}();t._NumberTicksGenerator=e}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.__pointView=t}return t.prototype.html=function(){return this.__pointView._createTooltipHtmlContent(this.__pointView.tooltip)},t.prototype.queryInterface=function(t){return this.__pointView.queryInterface(t)},t}();t._DataPointTooltipInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t,e){this.text=t,this.style=e};t._TextTooltipContent=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){};t.HtmlTooltipContent=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function e(){this.type="Default"}return e.prototype.build=function(){return new t.HtmlTooltip},e}();t.DefaultTooltipBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){this.__hideAutoTipBnd=this.close.bind(this),this.__elementToolip=null}return e.prototype.open=function(e,n,i,o){var r=this;void 0===i&&(i=null),void 0===o&&(o=null),null==i&&(i=new t.options._TooltipOption),this.__option=i,null!=this.__tooltipTimer&&(clearTimeout(this.__tooltipTimer),this.__tooltipTimer=null),this.__option.showDelay>0?this.__tooltipTimer=window.setTimeout((function(){r.__tooltipTimer=null,r._show(e,n,o),r._hideDelay(r.__option.hideDelay)}),this.__option.showDelay):(this._show(e,n,o),this._hideDelay(this.__option.hideDelay))},e.prototype.close=function(t){void 0===t&&(t=null),null!=this.__tooltipTimer&&(clearTimeout(this.__tooltipTimer),this.__tooltipTimer=null),this._hide(t)},e.prototype.containsFocus=function(){if(null==this.__elementToolip)return!1;var e=t._DomElementUtility._getActiveElement();return null!=e&&t._DomElementUtility._contains(this.__elementToolip,e)},e.prototype.dispose=function(){null!=this.__elementToolip&&t._DomElementUtility._remove(this.__elementToolip)},e.prototype._show=function(e,n,i){var o=this.__elementToolip,r=document.body;if(null!=o&&null!=o.parentElement&&document.body.contains(o)||(o=this.__elementToolip=document.createElement("div"),t._DomElementUtility._addClass(o,"gcdv-tooltip"),o.style.visibility="none",r.appendChild(o)),t._DomElementUtility._setCss(o,{position:"fixed",visibility:"hidden",display:""}),n.update(o),o.style.minWidth="",r.contains(o)){var l=getComputedStyle(o),a=parseFloat(l.marginTop)+parseFloat(l.marginBottom),u=parseFloat(l.marginLeft)+parseFloat(l.marginRight),s=new t.core.Size(o.offsetWidth+u,o.offsetHeight+a),_=new t.core.Point(0,0);e&&null!=e.x&&null!=e.y&&(e.x=e.x+this.__option.offsetX-o.offsetWidth/2,e.y=e.y-this.__option.offsetY);var p=parseFloat(l.minWidth);_.x=Math.max(0,Math.min(e.x,innerWidth-s.width)),e.x<0?_.x=this.__option.offsetX:e.x>innerWidth-s.width?_.x=innerWidth-s.width-this.__option.offsetX:_.x=e.x;var c=e.y+5+2*this.__option.offsetY,h=e.y,f=innerHeight-c;_.y=h>s.height||h>f?Math.max(0,e.y-s.height):c,p=Math.max(p,o.offsetWidth),(t._BrowserUtility.isIE()||t._BrowserUtility.isEdge())&&(p-=o.offsetWidth-(o.clientWidth+parseInt(l.borderLeftWidth,10)+parseInt(l.borderRightWidth,10)));var d=new t.core.Point(-pageXOffset,-pageYOffset);t._DomElementUtility._setCss(o,{position:"fixed",left:_.x-d.x,top:_.y-d.y,minWidth:p,display:"",visibility:"",zIndex:1500}),document.addEventListener("mousedown",this.__hideAutoTipBnd),null!=i&&i()}},e.prototype._hideDelay=function(t){var e=this;t>0&&(this.__tooltipTimer=window.setTimeout((function(){e.__tooltipTimer=null,e._hide(null)}),t))},e.prototype._hide=function(e){null!=this.__elementToolip&&t._DomElementUtility._remove(this.__elementToolip),document.removeEventListener("mousedown",this.__hideAutoTipBnd),null==this.__option.closeCalllback||"function"!=typeof this.__option.closeCalllback?"function"==typeof e&&e():this.__option.closeCalllback()},e}(),e.HtmlTooltip=n}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,e){var n=i.call(this)||this;return n.text=t,n.style=e,n}return n(o,i),o.prototype.update=function(t){null!=this.style&&this._applyTooltipStyle(t,this.style),t.innerHTML=this.text},o.prototype._applyTooltipStyle=function(n,i){if(n.style.background=t._ColorUtility._toCssString(i.fill),e._isCssColor(i.stroke))n.style.borderColor=i.stroke.color;else{var o=t._ColorUtility._toCssString(i.stroke);n.style.borderImage=null!=o?o+" 1":null}if(n.style.borderWidth=null==i.strokeWidth?null:i.strokeWidth+"px",null==i.textOpacity||"string"!=typeof i.textFill||t._Utility._isStringColorTransparent(i.textFill))n.style.color=i.textFill;else{var r=t._ColorUtility._toStringColor(i.textFill,i.textOpacity);n.style.color=null!=r?r:i.textFill}var l=i.fontFamily;(null==l||l.indexOf(t._SystemUtility.DefaultFontFamily())<0)&&(l=null!=l&&l.length>0?[].concat(l.split(","),t._SystemUtility.DefaultFontFamily().split(",")).join(","):t._SystemUtility.DefaultFontFamily()),n.style.fontFamily=l,n.style.fontSize=null==i.fontSize?null:i.fontSize+"px",n.style.fontStyle=t.FontStyle[i.fontStyle],n.style.fontWeight=i.fontWeight;var a=[];i.textLineThrough&&a.push("line-through"),i.textOverline&&a.push("overline"),i.textUnderline&&a.push("underline"),i.textWritingMode==t.TextWritingMode.Vertical?n.style.writingMode="tb-rl":i.textWritingMode==t.TextWritingMode.Horizontal&&(n.style.writingMode="lr-tb"),n.style.textDecoration=a.join(" ")},o}(e.HtmlTooltipContent),e._TextHtmlContent=i}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isTooltipInfo=function(t){return null!=t&&"function"==typeof t.html}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function e(e){void 0===e&&(e=null),this.__activeUserTooltip=null,this.tooltipsBuilder=new t.TooltipsBuilder(e)}return e.prototype.activate=function(t){t.equalsWith(this.__activeUserTooltip)&&this.deactivate(),this.__activeUserTooltip=t},e.prototype.deactivate=function(){null!=this.__activeUserTooltip&&this.__activeUserTooltip.close(),this.__activeUserTooltip=null},e.prototype.tooltip=function(e,n){return void 0===n&&(n=null),new t.UserTooltip(this,e,n)},e.prototype.dispose=function(){this.tooltipsBuilder.dispose()},e}();t.ToolTipManager=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){if(void 0===t&&(t=null),this.__tooltips={},this.__tooltipBuilders={},null==t)this.__tooltipBuilders.Default=new e.DefaultTooltipBuilder;else for(var n=0,i=t;n<i.length;n++){var o=i[n];this.__tooltipBuilders[o.type]=o}}return n.prototype.dispose=function(){var e=this,n=t._NativeExtension.properties(this.__tooltips,!0);n.length>0&&n.forEach((function(t){e.__tooltips[t].dispose()}))},n.prototype.tooltip=function(t){void 0===t&&(t=null),null==t&&(t="Default");var e=this.__tooltips[t];return null==e&&null!=this.__tooltipBuilders[t]&&(e=this.__tooltipBuilders[t].build(),this.__tooltips[t]=e),null==e?null:e},n}(),e.TooltipsBuilder=n}(t||(t={})),function(t){!function(t){var e=function(){function t(t,e,n){void 0===n&&(n=null),this.owner=t,this.type=n,this.user=e}return t.prototype.open=function(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null),this.owner.activate(this),this.__tooltip=this.owner.tooltipsBuilder.tooltip(this.type),null!=this.__tooltip&&this.__tooltip.open(t,e,n,i)},t.prototype.close=function(t){void 0===t&&(t=null),null!=this.__tooltip&&(this.__tooltip.close(t),this.__tooltip=null,this.owner.deactivate())},t.prototype.containsFocus=function(){return null!=this.__tooltip&&this.__tooltip.containsFocus()},t.prototype.equalsWith=function(t){return null!=t&&t.type==this.type&&t.user==this.user&&t.owner==this.owner},t.prototype.dispose=function(){this.close()},t}();t.UserTooltip=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.option=t}return t.prototype.draw=function(t){},t.prototype.contains=function(t){return!1},t}();t._Tracker=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e}(t._Tracker);t._TrackArea=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i,o){var r=e.call(this,t)||this;return r.__location=n,r.__size=i,r.__region=o,r}return n(i,e),i.prototype.draw=function(e){var n=this.option;e.beginTransform(),t._OptionUtility._applyTrackAreaStyleOption(e,n),e.drawRect(this.__location.x,this.__location.y,this.__size.width,this.__size.height),e.restoreTransform()},i.prototype.contains=function(t){return this.__region.contains(t)},i}(e._TrackArea),e._CartesianTrackArea=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i){var o=e.call(this,t)||this;return o.__region=i,o.__area=n,o}return n(i,e),i.prototype.draw=function(e){var n=this.__area,i=this.option;e.beginTransform(),t._OptionUtility._applyTrackAreaStyleOption(e,i),e.drawDonut(n.center.x,n.center.y,n.radius,n.innerRadius,n.startAngle,n.sweepAngle),e.restoreTransform()},i.prototype.contains=function(e){return t._ShapeUtil._shapeContainsPoint(this.__region,e)},i}(e._TrackArea),e._RadialTrackArea=i}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e}(t._Tracker);t._TrackLine=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i,o){var r=e.call(this,t)||this;return r.__p1=n,r.__p2=i,r.__region=o,r}return n(i,e),i.prototype.draw=function(e){var n=this.option;e.beginTransform(),t._OptionUtility._applyTrackLineStyleOption(e,n),e.drawLine(this.__p1.x,this.__p1.y,this.__p2.x,this.__p2.y),e.restoreTransform()},i.prototype.contains=function(t){return this.__region.contains(t)},i}(e._TrackLine),e._CartesianTrackLine=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i,o,r,l,a){var u=e.call(this,t)||this;return u.__cx=n,u.__cy=i,u.__radius=o,u.__startAngle=r,u.__sweep=l,u.__region=a,u}return n(i,e),i.prototype.draw=function(e){var n=this.option,i=this.__radius;e.beginTransform(),e.fill=t._CssColor._none(),t._OptionUtility._applyTrackLineStyleOption(e,n),e.drawDonut(this.__cx,this.__cy,i,i,this.__startAngle,this.__sweep),e.restoreTransform()},i.prototype.contains=function(e){return t._ShapeUtil._shapeContainsPoint(this.__region,e)},i}(e._TrackLine),e._RadialTrackLine=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i,o){var r=e.call(this,t)||this;return r.__p1=n,r.__p2=i,r.__region=o,r}return n(i,e),i.prototype.draw=function(e){var n=this.__p1,i=this.__p2,o=this.option;e.beginTransform(),e.fill=t._CssColor._none(),t._OptionUtility._applyTrackLineStyleOption(e,o),e.drawLine(n.x,n.y,i.x,i.y),e.restoreTransform()},i.prototype.contains=function(e){return t._ShapeUtil._shapeContainsPoint(this.__region,e)},i}(e._TrackLine),e._TrackStraightLine=i}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t.prototype.queryInterface=function(t){return null},t}();t._ValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.__value=e,n}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.__value},enumerable:!1,configurable:!0}),e.prototype._toString=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),this.__value.toString()},e}(t._ValueInfo);t._NumberValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.__value=e,n}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.__value},enumerable:!1,configurable:!0}),e.prototype._toString=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),this.__value.toString()},e}(t._ValueInfo);t._BooleanValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t){var e=i.call(this)||this;return e.__value=t,e}return n(o,i),o.prototype._toString=function(t,n){return void 0===t&&(t=null),void 0===n&&(n=null),e.StringObject._toTemplateString(this._stringify())},o.prototype._toCssColor=function(e){return e instanceof t._CssColor?e.color:null},Object.defineProperty(o.prototype,"value",{get:function(){return this.__value},enumerable:!1,configurable:!0}),o.prototype._stringify=function(){var t=this._toCssColor(this.__value);return null!=t?new e.StringObject("color",t):null},o.prototype.queryInterface=function(t){return"IStringifyable"===t||"IColorValue"===t?this:null},o}(e._ValueInfo),e._ColorValueInfo=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n){var i=e.call(this)||this;return i.__value=t,i.__stringFormatting=n,i}return n(i,e),Object.defineProperty(i.prototype,"value",{get:function(){return this.__value},enumerable:!1,configurable:!0}),i.prototype._toString=function(e,n){return void 0===e&&(e=null),void 0===n&&(n=null),null!=this.__stringFormatting?(null==e&&(t._DataValueTypeExtension._isNumber(this.__value)?e=this.__stringFormatting.defaultFormat(t.core.DataType.Number,!1):t._DataValueTypeExtension._isDate(this.__value)&&(e=this.__stringFormatting.defaultFormat(t.core.DataType.Date,!1))),this.__stringFormatting.format(e,this.__value,n)):null!=this.__value?this.__value.toString():""},i}(e._ValueInfo),e._DataValueInfo=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i){var o=e.call(this)||this;return o.__lower=t,o.__upper=n,o.__stringFormatting=i,o}return n(i,e),Object.defineProperty(i.prototype,"value",{get:function(){return new i(this.__lower,this.__upper,null)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lower",{get:function(){return this.__lower},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"upper",{get:function(){return this.__upper},enumerable:!1,configurable:!0}),i.prototype._toString=function(e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),null!=this.__stringFormatting)return null==e&&(e=this.__stringFormatting.defaultFormat(t.core.DataType.Date,!1)),this.__stringFormatting.format(e,this.__lower,n)+", "+this.__stringFormatting.format(e,this.__upper,n);var i="";return i+=null!=this.__lower?this.__lower.toString():"",(i+=", ")+(null!=this.__upper?this.__upper.toString():"")},i}(e._ValueInfo),e._DateRangeValueInfo=i}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.__value=e,n}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.__value},enumerable:!1,configurable:!0}),e.prototype._toString=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),this.__value.toString()},e}(t._ValueInfo);t._DateValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i){var o=e.call(this)||this;o.__lower=t,o.__upper=n;var r=null==t?0:t,l=null==n?0:n;return o.__distance=l-r,o.__stringFormatting=i,o}return n(i,e),Object.defineProperty(i.prototype,"value",{get:function(){return new i(this.__lower,this.__upper,null)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lower",{get:function(){return this.__lower},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"upper",{get:function(){return this.__upper},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"distance",{get:function(){return this.__distance},enumerable:!1,configurable:!0}),i.prototype._toString=function(e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),null!=this.__stringFormatting)return null==e&&(e=this.__stringFormatting.defaultFormat(t.core.DataType.Number,!1)),this.__stringFormatting.format(e,this.__lower,n)+", "+this.__stringFormatting.format(e,this.__upper,n);var i="";return i+=null!=this.__lower?this.__lower.toString():"",(i+=", ")+(null!=this.__upper?this.__upper.toString():"")},i}(e._ValueInfo),e._NumberRangeValueInfo=i}(t||(t={})),function(t){!function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.__previous=n,i}return n(e,t),Object.defineProperty(e.prototype,"previous",{get:function(){return this.__previous},enumerable:!1,configurable:!0}),e}(t._NumberValueInfo);t._NumberStackValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.__value=e,n}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.__value},enumerable:!1,configurable:!0}),e.prototype._toString=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),this.__value.toString()},e}(t._ValueInfo);t._StringValueInfo=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isBooleanValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isColorValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isDataValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isDateRangeValue=function(t){var e=t;return null!=e&&void 0!==e.value&&void 0!==e.lower&&void 0!==e.upper}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isDateValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isNumberRangeValue=function(t){var e=t;return null!=e&&void 0!==e.value&&void 0!==e.distance&&void 0!==e.lower&&void 0!==e.upper}}(t.models||(t.models={}))}(t||(t={})),t||(t={}),function(t){!function(t){t._isNumberStackValue=function(t){return null!=t&&void 0!==t.previous}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isNumberValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isStringValue=function(t){return null!=t&&void 0!==t.value}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isValue=function(t){return null!=t&&"function"==typeof t._toString}}(t.models||(t.models={}))}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(e,n){void 0===n&&(n=null),this.__success=!0,this.__proxy=t._BuildInCalculationEngineBuilderCollection._defaultBuildInCalculationEngineBuilders()._calculationEngine("Default",this,[],n),this.__vectorExpressions=this._parseExpress(e)}return e.prototype._current=function(){return this.__current},e.prototype.evaluate=function(t){if(this.__success=!0,null!=this.__proxy){this.__current=t;for(var e=0,n=this.__vectorExpressions;e<n.length;e++){var i=n[e];if(!this.__success)break;null==this.getIdentityValue(i)&&this.__proxy.evaluate("CONDITION",i)}}return this.__success},e.prototype._parseExpress=function(t){for(var e=[],n=0,i=("]."+t+".[").split("].[");n<i.length;n++){var o=i[n],r=o.trim();null!=r&&""!==r&&e.push(o)}return e},e.prototype.isIdentityExpression=function(t){return!0},e.prototype.getIdentityValue=function(e){var n=this._current();try{var i=new t._AnyValueBinding(e),o=i._getValue(n.item);return null==o&&(o=i._getValue(n)),o}catch(t){}return null},e.prototype.resultCallback=function(t){null!=t&&1==t||(this.__success=!1)},e}(),e._VectorConditionalRule=n}(t||(t={})),function(t){!function(t){t._isAxisLabelModel=function(t){var e=t;return null!=e&&void 0!==e.hover&&void 0!==e.value&&void 0!==e.textStyle&&"function"==typeof e.relatedModels}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isAxisUnitLabelModel=function(t){return!1}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isGridLineModel=function(t){var e=t;return null!=e&&void 0!==e.orientation&&void 0!==e.isMajor}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isHeaderFooterModel=function(t){return null!=t&&void 0!==t.title}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isPlotAreaModel=function(t){var e=t;return void 0!==e.row&&void 0!==e.column&&void 0!==e.legends&&void 0!==e.plotsPanes}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isPlotModel=function(t){var e=t;return null!=e&&void 0!==e.items&&void 0!==e.points&&void 0!==e.name&&void 0!==e.option&&void 0!==e.overlays}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isPlotsPaneModel=function(t){return null!=t&&void 0!==t.plots}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isPointModel=function(t){var e=t;return null!=e&&void 0!==e.item&&void 0!==e.items&&void 0!==e.style&&void 0!==e.selected&&void 0!==e.hover}}(t.models||(t.models={}))}(t||(t={})),function(t){t._isQueryShowTrackerViewModel=function(t){return null!=t._queryRelatedViewModel}}(t||(t={})),t||(t={}),function(t){!function(t){t._isSeriesModel=function(t){var e=t;return null!=e&&void 0!==e.items&&void 0!==e.points&&void 0!==e.visiblePoints&&void 0!==e.style&&void 0!==e.color&&void 0!==e.selected&&void 0!==e.hover}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isShowTrackerViewModel=function(t){return null!=t&&"function"==typeof t._tracker}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isShowViewModel=function(t){return null!=t&&"function"==typeof t.contains}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isTrackerViewModel=function(t){return null!=t._trackerContent}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isItemizedLegendModel=function(t){return null!=t&&void 0!==t.items}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isLegendItemModel=function(t){var e=t;return null!=e&&void 0!==e.title&&void 0!==e.size&&void 0!==e.color&&void 0!==e.shape&&void 0!==e.visible&&void 0!==e.selected&&void 0!==e.hover&&"function"==typeof e.relatedModels}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isLegendModel=function(t){var e=t;return null!=e&&void 0!==e.title&&void 0!==e.kind}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isLegendTitleModel=function(t){return null!=t&&void 0!==t.title}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInViewRenderBuilders=function(){return null==i.__buildInViewRenderBuilders&&(i.__buildInViewRenderBuilders=new i([new t._DefaultBarCartesianPointViewRender],i._pluginType)),i.__buildInViewRenderBuilders},i.prototype._convert=function(e){return t._isViewRenderBuilder(e)?e:null},i.prototype._viewRender=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o],a=l.item._buildViewRender(t,e,l.option);if(null!=a)return a}return null},i._pluginType="ViewRender",i}(t._BuildInObjectCollection);t._BuildInViewRenderBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._render=function(e,n,i){if(t._isBarXyCartesianPointView(e)){var o=e,r=o._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius,l=t._PathUtility._buildRectangleWithBorderRadius(o._rectangle().left,o._rectangle().top,o._rectangle().width,o._rectangle().height,r);if(null!=l)n.drawPath(l,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter);else{var a=o._getStrokeWidth(i);null==a||null!=a&&a.top==a.right&&a.top==a.bottom&&a.top==a.left?n.drawRect(o._rectangle().left,o._rectangle().top,o._rectangle().width,o._rectangle().height,null):(n.beginTransform(),n.strokeWidth=0,n.drawRect(o._rectangle().left,o._rectangle().top,o._rectangle().width,o._rectangle().height,null),n.restoreTransform(),this._renderRectangleBorder(n,o._rectangle(),a,o._getPlotView()._swapAxes(),o._reversed(),o._isPositive()))}}},e.prototype._buildViewRender=function(e,n,i){if("Point"===e&&t._isPlotView(n)){var o=n;if(t._isBarCartesianPlotView(o))return this}return null},e.prototype.queryInterface=function(t){return"IViewRender"==t||"IViewRenderBuilder"==t?this:null},e.prototype._renderRectangleBorder=function(t,e,n,i,o,r){null!=n&&n.top>0&&(t.strokeWidth=n.top,i?o==r?t.drawLine(e.left,e.top,e.left,e.bottom):t.drawLine(e.right,e.top,e.right,e.bottom):o==r?t.drawLine(e.left,e.bottom,e.right,e.bottom):t.drawLine(e.left,e.top,e.right,e.top)),null!=n&&n.bottom>0&&(t.strokeWidth=n.bottom,i?o==r?t.drawLine(e.right,e.top,e.right,e.bottom):t.drawLine(e.left,e.top,e.left,e.bottom):o==r?t.drawLine(e.left,e.top,e.right,e.top):t.drawLine(e.left,e.bottom,e.right,e.bottom)),null!=n&&n.left>0&&(t.strokeWidth=n.left,i?o==r?t.drawLine(e.left,e.bottom,e.right,e.bottom):t.drawLine(e.left,e.top,e.right,e.top):o==r?t.drawLine(e.right,e.top,e.right,e.bottom):t.drawLine(e.left,e.top,e.left,e.bottom)),null!=n&&n.right>0&&(t.strokeWidth=n.right,i?o==r?t.drawLine(e.left,e.top,e.right,e.top):t.drawLine(e.left,e.bottom,e.right,e.bottom):o==r?t.drawLine(e.left,e.top,e.left,e.bottom):t.drawLine(e.right,e.top,e.right,e.bottom))},e}();t._DefaultBarCartesianPointViewRender=e}(t||(t={})),t||(t={}),function(t){t._isViewRenderBuilder=function(t){return null!=t&&"function"==typeof t._buildViewRender}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInWheelInteractionBuilders=function(){return null==i.__buildInWheelInteractionBuilders&&(i.__buildInWheelInteractionBuilders=new i([],i._pluginType)),i.__buildInWheelInteractionBuilders},i.prototype._convert=function(e){return t._isWheelInteractionBuilder(e)?e:null},i.prototype._wheelInteractions=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=0,r=this._objects(e,n);o<r.length;o++){var l=r[o].item.buildWheelInteraction(t);i.push(l)}return i},i._pluginType="WheelInteraction",i}(t._BuildInObjectCollection);t._BuildInWheelInteractionBuilderCollection=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__backgroundColor=null,o.__stroke=null,o.__strokeWidth=null,o.__strokeDasharray=null,o.__fill=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){null!=this.__backgroundColor&&this.__backgroundColor==t||(this.__backgroundColor=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){null!=this.__stroke&&this.__stroke==t||(this.__stroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){t=this.validate(t),null!=this.__strokeWidth&&this.__strokeWidth==t||(this.__strokeWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this.__fill},set:function(t){null!=this.__fill&&this.__fill==t||(this.__fill=t)},enumerable:!1,configurable:!0}),i.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.StyleRequired,this.option());e.prototype._setOption.call(this,n)},o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"stroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"strokeDasharray",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"fill",null),i}(e._Option),e._StyleOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._StyleOption(null);return n._setOption(e.option()),n.backgroundColor=null==e.backgroundColor?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.backgroundColor),n.stroke=null==e.stroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.stroke),n.strokeWidth=e.strokeWidth,n.strokeDasharray=e.strokeDasharray,n.fill=null==e.fill?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.fill),n},e._styleOptionCloneMaker=new e,e}();t._StyleOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__mode=t.AnimationMode.All,o.__duration=200,o.__easing=t.AnimationEasing.Linear,o.__startDelay=0,o.__endDelay=0,o.__staggering=!1,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"mode",{get:function(){return this.__mode},set:function(t){this.__mode!=t&&(this.__mode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"duration",{get:function(){return this.__duration},set:function(t){t=this.validate(t),this.__duration!=t&&(this.__duration=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"easing",{get:function(){return this.__easing},set:function(t){this.__easing!=t&&(this.__easing=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"startDelay",{get:function(){return this.__startDelay},set:function(t){t=this.validate(t),this.__startDelay!=t&&(this.__startDelay=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"endDelay",{get:function(){return this.__endDelay},set:function(t){t=this.validate(t),this.__endDelay!=t&&(this.__endDelay=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"staggering",{get:function(){return this.__staggering},set:function(t){this.__staggering!=t&&(this.__staggering=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnimationMode,t.AnimationMode.All)],i.prototype,"mode",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.AnimationDuration),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"duration",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnimationEasing,t.AnimationEasing.Linear)],i.prototype,"easing",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.AnimationStartDelay),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"startDelay",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.AnimationEndDelay),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"endDelay",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],i.prototype,"staggering",null),i}(e._Option),e._AnimationOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._AnimationOption(null);return n._setOption(e.option()),n.mode=e.mode,n.duration=e.duration,n.easing=e.easing,n.startDelay=e.startDelay,n.staggering=e.staggering,n},e._animationOptionCloneMaker=new e,e}();t._AnimationOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__value=null,o.__dateMode=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"value",{get:function(){return this.__value},set:function(t){t=this.validate(t),null!=this.__value&&this.__value==t||(this.__value=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dateMode",{get:function(){return this.__dateMode},set:function(t){null!=this.__dateMode&&this.__dateMode==t||(this.__dateMode=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!1,t.ErrorCode.PositiveNumberExpected),t.ValidatorAttribute(t._AxisUnitValidator,!0)],i.prototype,"value",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DateMode)],i.prototype,"dateMode",null),i}(e._Option),e._AxisUnitOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__horizontalRadius=new e._BorderRadiusValueOption(null),r.__verticalRadius=new e._BorderRadiusValueOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"horizontalRadius",{get:function(){return this.__horizontalRadius},set:function(t){this.__horizontalRadius!=t&&(null==t&&(t=new e._BorderRadiusValueOption),this.__horizontalRadius=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"verticalRadius",{get:function(){return this.__verticalRadius},set:function(t){this.__verticalRadius!=t&&(null==t&&(t=new e._BorderRadiusValueOption),this.__verticalRadius=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._BorderRadiusValueOptionConverter,!1)],r.prototype,"horizontalRadius",null),o([t.JsonConverterAttribute(t._BorderRadiusValueOptionConverter,!1)],r.prototype,"verticalRadius",null),r}(e._Option),e._BorderRadiusOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._BorderRadiusOption(null);return n._setOption(e.option()),n.horizontalRadius=null==e.horizontalRadius?null:t._BorderRadiusValueOptionCloneMaker._borderRadiusValueOptionCloneMaker._cloneOf(e.horizontalRadius),n.verticalRadius=null==e.verticalRadius?null:t._BorderRadiusValueOptionCloneMaker._borderRadiusValueOptionCloneMaker._cloneOf(e.verticalRadius),n},e._borderRadiusOptionCloneMaker=new e,e}();t._BorderRadiusOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__topLeft=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),r.__topRight=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),r.__bottomRight=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),r.__bottomLeft=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"topLeft",{get:function(){return this.__topLeft},set:function(n){null==(n=this.validate(n))?this.__topLeft=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}):this.__topLeft!=n&&(this.__topLeft=n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"topRight",{get:function(){return this.__topRight},set:function(n){null==(n=this.validate(n))?this.__topRight=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}):this.__topRight!=n&&(this.__topRight=n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottomRight",{get:function(){return this.__bottomRight},set:function(n){null==(n=this.validate(n))?this.__bottomRight=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}):this.__bottomRight!=n&&(this.__bottomRight=n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottomLeft",{get:function(){return this.__bottomLeft},set:function(n){null==(n=this.validate(n))?this.__bottomLeft=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}):this.__bottomLeft!=n&&(this.__bottomLeft=n)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,null,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,null)],r.prototype,"topLeft",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,null,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,null)],r.prototype,"topRight",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,null,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,null)],r.prototype,"bottomRight",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,null,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,null)],r.prototype,"bottomLeft",null),r}(e._Option),e._BorderRadiusValueOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._BorderRadiusValueOption(null);return n._setOption(e.option()),n.topLeft=null==e.topLeft?null:t._ValueOptionCloneMarker._valueOptionCloneMarker._cloneOf(e.topLeft),n.topRight=null==e.topRight?null:t._ValueOptionCloneMarker._valueOptionCloneMarker._cloneOf(e.topRight),n.bottomLeft=null==e.bottomLeft?null:t._ValueOptionCloneMarker._valueOptionCloneMarker._cloneOf(e.bottomLeft),n.bottomRight=null==e.bottomRight?null:t._ValueOptionCloneMarker._valueOptionCloneMarker._cloneOf(e.bottomRight),n},e._borderRadiusValueOptionCloneMaker=new e,e}();t._BorderRadiusValueOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__header=null,r.__footer=null,r.__palette=r._createDefaultPalette(),r.__shapes=[],r.__plotAreas=[],r.__plotAreaLayout=new e._PlotAreaLayoutOption(null),r.__backgroundColor=null,r.__legend=new e._GlobalLegendOption(null),r.__selectionMode=t.SelectionMode.None,r.__selectedStyle=new e._SelectionStyleOption(null),r.__unSelectedStyle=new e._SelectionStyleOption(null),r.__selectedTextStyle=new e._TextStyleOption(null),r.__unSelectedTextStyle=new e._TextStyleOption(null),r.__style=new e._StyleOption(null),r.__textStyle=new e._TextStyleOption(null),r.__borderStyle=new e._LineStyleOption(null),r.__bar=new e._BarOption(null),r.__padding=null,r.__plugins=[],null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"bar",{get:function(){return this.__bar},set:function(t){this.__bar!=t&&(null==t&&(t=new e._BarOption),this.__bar=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"header",{get:function(){return this.__header},set:function(t){this.__header!==t&&(null==t&&(t=new e._HeaderOption),this.__header=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"footer",{get:function(){return this.__footer},set:function(t){this.__footer!==t&&(null==t&&(t=new e._FooterOption),this.__footer=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"palette",{get:function(){return this.__palette},set:function(t){t=this.validate(t),this.__palette!=t&&(this.__palette=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shapes",{get:function(){return this.__shapes},set:function(t){t=this.validate(t),this.__shapes!=t&&(this.__shapes=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"plotAreas",{get:function(){return this.__plotAreas},set:function(t){t=this.validate(t),this.__plotAreas!=t&&(this.__plotAreas=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"plotAreaLayout",{get:function(){return this.__plotAreaLayout},set:function(t){this.__plotAreaLayout!=t&&(null==t&&(t=new e._PlotAreaLayoutOption),this.__plotAreaLayout=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){null!=this.__backgroundColor&&this.__backgroundColor==t||(this.__backgroundColor=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"legend",{get:function(){return this.__legend},set:function(t){this.__legend!=t&&(null==t&&(t=new e._GlobalLegendOption),this.__legend=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectionMode",{get:function(){return this.__selectionMode},set:function(t){this.__selectionMode!=t&&(this.__selectionMode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectedStyle",{get:function(){return this.__selectedStyle},set:function(t){this.__selectedStyle!=t&&(null==t&&(t=new e._SelectionStyleOption),this.__selectedStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"unselectedStyle",{get:function(){return this.__unSelectedStyle},set:function(t){null!=this.__unSelectedStyle&&this.__unSelectedStyle==t||(this.__unSelectedStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectedTextStyle",{get:function(){return this.__selectedTextStyle},set:function(t){this.__selectedTextStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__selectedTextStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"unselectedTextStyle",{get:function(){return this.__unSelectedTextStyle},set:function(t){this.__unSelectedTextStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__unSelectedTextStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){null!=this.__textStyle&&this.__textStyle==t||(this.__textStyle=null==t?new e._TextStyleOption(null):t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"plugins",{get:function(){return this.__plugins},set:function(t){null==t?this.__plugins=[]:this.__plugins!=t&&(this.__plugins=t)},enumerable:!1,configurable:!0}),r.prototype._createDefaultPalette=function(){for(var n=[],i=0,o=t.PaletteColorUtility.getPaletteColors("Office");i<o.length;i++){var r=o[i],l=new e._PaletteItemOption(null);l.type=e.PaletteItemType.Index,l.data=null,l.color=e._CssColorOption._buildColorOption(t._NativeColorUtility._buildNativeColor(r)._toCss()),n.push(l)}return n},o([t.JsonConverterAttribute(t._OptionConverter,!1,"_BarOption")],r.prototype,"bar",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_HeaderOption")],r.prototype,"header",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_FooterOption")],r.prototype,"footer",null),o([t.JsonConverterAttribute(t._PaletteItemOptionsConverter,!0),t.ValidatorAttribute(t._PaletteItemOptionsValidator,!0)],r.prototype,"palette",null),o([t.JsonConverterAttribute(t._SymbolShapesConverter,!0),t.ValidatorAttribute(t._SymbolShapesValidator,!0)],r.prototype,"shapes",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_PlotAreaOption"),t.ValidatorAttribute(t._PlotAreasValidator,!0)],r.prototype,"plotAreas",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_PlotAreaLayoutOption")],r.prototype,"plotAreaLayout",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_GlobalLegendOption")],r.prototype,"legend",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SelectionMode,t.SelectionMode.None)],r.prototype,"selectionMode",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SelectionStyleOption")],r.prototype,"selectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SelectionStyleOption")],r.prototype,"unselectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"selectedTextStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"unselectedTextStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"borderStyle",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_ConfigPluginOption")],r.prototype,"plugins",null),r}(e._Option),e._ConfigOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__name=t.plugins.PluginCollection.defaultPluginName,o.__type="",o.__arguments=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"name",{get:function(){return this.__name},set:function(t){null!=t&&""!=t||(t="Default"),this.__name!=t&&(this.__name=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){t=this.validate(t),this.__type!=t&&(this.__type=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arguments",{get:function(){return this.__arguments},set:function(t){this.__arguments!=t&&(this.__arguments=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"name",null),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!1)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_Option")],i.prototype,"arguments",null),i}(e._Option),e._ConfigPluginOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__plots=[],o.__layoutMode=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"plots",{get:function(){return this.__plots},set:function(t){t=this.validate(t),this.__plots!=t&&(this.__plots=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"layoutMode",{get:function(){return this.__layoutMode},set:function(t){null!=this.__layoutMode&&this.__layoutMode==t||(this.__layoutMode=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NameArrayOptionConverter,!0),t.ValidatorAttribute(t._NameArrayOptionValidator,!1)],i.prototype,"plots",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"layoutMode",null),i}(e._Option),e._CoordinateSystemOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__scope=t._Constants.DataPointTextScope,r.__template=null,r.__format=new e._FormatOption(null),r.__overlappingLabels=t.OverlappingLabels.Auto,r.__style=new e._StyleOption(null),r.__textStyle=new e._TextStyleOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"scope",{get:function(){return this.__scope},set:function(e){null!=e&&""!=e&&"Default"!=e||(e=t._Constants.DataPointTextScope),this.__scope!=e&&(this.__scope=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"template",{get:function(){return this.__template},set:function(t){this.__template!=t&&(this.__template=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format!=t&&(this.__format=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"overlappingLabels",{get:function(){return this.__overlappingLabels},set:function(t){this.__overlappingLabels!=t&&(this.__overlappingLabels=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"scope",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"template",null),o([t.JsonConverterAttribute(t._FormatOptionConverter,!1)],r.prototype,"format",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.OverlappingLabels,t.OverlappingLabels.Auto)],r.prototype,"overlappingLabels",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),r}(e._Option),e._DataLabelOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._DataLabelOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){null!=e&&(n.scope=e.scope,n.template=e.template,n.format=null==e.format?null:t._FormatOptionCloneMarker._formatOptionCloneMarker._cloneOf(e.format),n.overlappingLabels=e.overlappingLabels,n.style=null==e.style?null:t._StyleOptionCloneMaker._styleOptionCloneMaker._cloneOf(e.style),n.textStyle=null==e.textStyle?null:t._TextStyleOptionCloneMarker._textStyleOptionCloneMarker._cloneOf(e.textStyle))},e._dataLabelOptionCloneMaker=new e,e}();t._DataLabelOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__name=null,o.__values=[],o.__dateFormats=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"name",{get:function(){return this.__name},set:function(t){this.__name!=t&&(this.__name=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"values",{get:function(){return this.__values},set:function(t){null!=this.__values&&this.__values==t||(this.__values=[],null!=t&&(this.__values=t))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dateFormats",{get:function(){return this.__dateFormats},set:function(t){null!=this.__dateFormats&&this.__dateFormats==t||(this.__dateFormats=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"name",null),o([t.JsonConverterAttribute(t._ArrayConverter,!0,"object")],i.prototype,"values",null),o([t.JsonConverterAttribute(t._DateFormatsConverter,!0)],i.prototype,"dateFormats",null),i}(e._Option),e._DataOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__opacity=null,o.__strokeOpacity=null,o.__fill=null,o.__backgroundColor=null,o.__stroke=null,o.__strokeWidth=null,o.__strokeDasharray=null,o.__symbolShape=null,o.__symbolOpacity=null,o.__symbolStrokeOpacity=null,o.__symbolFill=null,o.__symbolStroke=null,o.__symbolStrokeWidth=null,o.__symbolStrokeDasharray=null,o.__symbolSize=null,o.__borderRadius=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),i._buildEmptyDataPointStyleOption=function(){return new i(null)},Object.defineProperty(i.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){t=this.validate(t),null!=this.__opacity&&this.__opacity==t||(this.__opacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){t=this.validate(t),null!=this.__strokeOpacity&&this.__strokeOpacity==t||(this.__strokeOpacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this.__fill},set:function(t){null!=this.__fill&&this.__fill==t||(this.__fill=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){null!=this.__backgroundColor&&this.__backgroundColor==t||(this.__backgroundColor=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){null!=this.__stroke&&this.__stroke==t||(this.__stroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){this.__strokeWidth!=t&&(this.__strokeWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolShape",{get:function(){return this.__symbolShape},set:function(t){this.__symbolShape!=t&&(this.__symbolShape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolOpacity",{get:function(){return this.__symbolOpacity},set:function(t){t=this.validate(t),null!=this.__symbolOpacity&&this.__symbolOpacity==t||(this.__symbolOpacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolStrokeOpacity",{get:function(){return this.__symbolStrokeOpacity},set:function(t){t=this.validate(t),this.__symbolStrokeOpacity!=t&&(this.__symbolStrokeOpacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolFill",{get:function(){return this.__symbolFill},set:function(t){null!=this.__symbolFill&&this.__symbolFill==t||(this.__symbolFill=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolStroke",{get:function(){return this.__symbolStroke},set:function(t){null!=this.__symbolStroke&&this.__symbolStroke==t||(this.__symbolStroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolStrokeWidth",{get:function(){return this.__symbolStrokeWidth},set:function(t){t=this.validate(t),null!=this.__symbolStrokeWidth&&this.__symbolStrokeWidth==t||(this.__symbolStrokeWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolStrokeDasharray",{get:function(){return this.__symbolStrokeDasharray},set:function(t){this.__symbolStrokeDasharray!=t&&(this.__symbolStrokeDasharray=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolSize",{get:function(){return this.__symbolSize},set:function(t){null!=this.__symbolSize&&this.__symbolSize==t||(this.__symbolSize=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"borderRadius",{get:function(){return this.__borderRadius},set:function(t){this.__borderRadius!=t&&(this.__borderRadius=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"strokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"fill",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"stroke",null),o([t.JsonConverterAttribute(t._StrokeWidthOptionConverter,!1)],i.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"strokeDasharray",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"symbolShape",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"symbolOpacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"symbolStrokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"symbolFill",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"symbolStroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"symbolStrokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"symbolStrokeDasharray",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"symbolSize",null),o([t.JsonConverterAttribute(t._BorderRadiusOptionConverter,!1)],i.prototype,"borderRadius",null),i}(e._Option),e._DataPointStyleOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._DataPointStyleOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){null!=e&&(n.opacity=e.opacity,n.strokeOpacity=e.strokeOpacity,n.fill=null==e.fill?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.fill),n.backgroundColor=null==e.backgroundColor?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.backgroundColor),n.stroke=null==e.stroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.stroke),n.strokeWidth=null==e.strokeWidth?null:t._StrokeWidthOptionCloneMarker._strokeWidthOptionCloneMarker._cloneOf(e.strokeWidth),n.strokeDasharray=e.strokeDasharray,n.symbolShape=e.symbolShape,n.symbolOpacity=e.symbolOpacity,n.symbolStrokeOpacity=e.symbolStrokeOpacity,n.symbolFill=null==e.symbolFill?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.symbolFill),n.symbolStroke=null==e.symbolStroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.symbolStroke),n.symbolStrokeWidth=e.symbolStrokeWidth,n.symbolStrokeDasharray=e.symbolStrokeDasharray,n.symbolSize=e.symbolSize,n.borderRadius=null==e.borderRadius?null:t._BorderRadiusOptionCloneMaker._borderRadiusOptionCloneMaker._cloneOf(e.borderRadius))},e._dataPointStyleOptionCloneMaker=new e,e}();t._DataPointStyleOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__plots=[],r.__config=new e._ConfigOption(null),r.__data=[],r.__transform=[],r.__renderMethod=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"plots",{get:function(){return this.__plots},set:function(t){null!=this.__plots&&this.__plots==t||(this.__plots=[],null!=t&&(this.__plots=t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.__config},set:function(t){this.__config!=t&&(null==t&&(t=new e._ConfigOption),this.__config=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this.__data},set:function(t){this.__data!=t&&(null==t&&(t=[]),this.__data=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transform",{get:function(){return this.__transform},set:function(t){t=this.validate(t),this.__transform!=t&&(this.__transform=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"renderMethod",{get:function(){return this.__renderMethod},set:function(t){null!=this.__renderMethod&&this.__renderMethod==t||(this.__renderMethod=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_PlotOption")],r.prototype,"plots",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_ConfigOption")],r.prototype,"config",null),o([t.JsonConverterAttribute(t._DataOptionsConverter,!0)],r.prototype,"data",null),o([t.JsonConverterAttribute(t._TransformOptionOrNullConverter,!0),t.ValidatorAttribute(t._TransformOptionsValidator,!0)],r.prototype,"transform",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.RenderMethod)],r.prototype,"renderMethod",null),r}(e._Option),e._DvOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__field=null,o.__label=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"field",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"label",null),i}(e._Option),e._EncodingOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__title=null,r.__height=null,r.__maxHeight=null,r.__padding=null,r.__hAlign=t.HAlign.Center,r.__vAlign=t.VAlign.Middle,r.__style=new e._StyleOption(null),r.__textStyle=new e._TextStyleOption(null),r.__borderStyle=new e._LineStyleOption(null),r.__width=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this.__title},set:function(t){this.__title!=t&&(this.__title=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){return this.__maxHeight},set:function(t){t=this.validate(t),this.__maxHeight!=t&&(this.__maxHeight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!==t&&(this.__padding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!==t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageAutoOrNullConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageAutoValidator,!1)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"title",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"maxHeight",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign,t.HAlign.Center)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign,t.VAlign.Middle)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"borderStyle",null),r}(e._Option),e._FooterOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type=null,o.__value=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.__value},set:function(t){null!=t&&t==this.__value||(this.__value=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"value",null),i}(e._Option),e._FormatOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._FormatOption(null);return n._setOption(e.option()),n.type=e.type,n.value=e.value,n},e._formatOptionCloneMarker=new e,e}();t._FormatOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__orientation=null,r.__position=null,r.__titlePosition=null,r.__wrapping=null,r.__style=new e._LegendStyleOption(null),r.__textStyle=new e._TextStyleOption(null),r.__borderStyle=new e._LineStyleOption(null),r.__titleStyle=new e._TextStyleOption(null),r.__hoverStyle=null,r.__padding=null,r.__itemPadding=null,r.__labelPosition=t.Position.Right,r.__groupHAlign=null,r.__groupVAlign=null,r.__left=null,r.__top=null,r.__groupOrientation=null,r.__groupPadding=null,r.__margin=null,r.__itemSpace=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"itemSpace",{get:function(){return this.__itemSpace},set:function(t){t=this.validate(t),this.__itemSpace!=t&&(this.__itemSpace=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"margin",{get:function(){return this.__margin},set:function(t){this.__margin!=t&&(this.__margin=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupPadding",{get:function(){return this.__groupPadding},set:function(t){this.__groupPadding!=t&&(this.__groupPadding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupOrientation",{get:function(){return this.__groupOrientation},set:function(t){null!=this.__groupOrientation&&this.__groupOrientation==t||(this.__groupOrientation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return this.__left},set:function(t){t=this.validate(t),null!=this.__left&&this.__left==t||(this.__left=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.__top},set:function(t){t=this.validate(t),null!=this.__top&&this.__top==t||(this.__top=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupHAlign",{get:function(){return this.__groupHAlign},set:function(t){null!=this.__groupHAlign&&this.__groupHAlign==t||(this.__groupHAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupVAlign",{get:function(){return this.__groupVAlign},set:function(t){null!=this.__groupVAlign&&this.__groupVAlign==t||(this.__groupVAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labelPosition",{get:function(){return this.__labelPosition},set:function(t){null!=this.__labelPosition&&this.__labelPosition==t||(this.__labelPosition=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.__orientation},set:function(t){null!=this.__orientation&&this.__orientation==t||(this.__orientation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){null!=this.__position&&this.__position==t||(this.__position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"titlePosition",{get:function(){return this.__titlePosition},set:function(t){null!=this.__titlePosition&&this.__titlePosition==t||(this.__titlePosition=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wrapping",{get:function(){return this.__wrapping},set:function(t){null!=this.__wrapping&&this.__wrapping==t||(this.__wrapping=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._LegendStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"titleStyle",{get:function(){return this.__titleStyle},set:function(t){this.__titleStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__titleStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!==t&&(this.__padding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"itemPadding",{get:function(){return this.__itemPadding},set:function(t){this.__itemPadding!==t&&(this.__itemPadding=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueOptionWithPixelConverter,!1),t.ValidatorAttribute(t._ValueOptionWithPixelValidator,!1)],r.prototype,"itemSpace",null),o([t.JsonConverterAttribute(t._MarginOptionConverter,!1)],r.prototype,"margin",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"groupPadding",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation)],r.prototype,"groupOrientation",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._UnitIntervalValidator,!0)],r.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._UnitIntervalValidator,!0)],r.prototype,"top",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"groupHAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],r.prototype,"groupVAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Position,t.Position.Right)],r.prototype,"labelPosition",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation)],r.prototype,"orientation",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LegendPosition)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Position)],r.prototype,"titlePosition",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],r.prototype,"wrapping",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LegendStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"borderStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"titleStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"itemPadding",null),r}(e._Option),e._GlobalLegendOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__title=null,r.__height=null,r.__maxHeight=null,r.__padding=null,r.__hAlign=t.HAlign.Center,r.__vAlign=t.VAlign.Middle,r.__style=new e._StyleOption(null),r.__textStyle=new e._TextStyleOption(null),r.__borderStyle=new e._LineStyleOption(null),r.__width=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this.__title},set:function(t){this.__title!=t&&(this.__title=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){return this.__maxHeight},set:function(t){t=this.validate(t),this.__maxHeight!=t&&(this.__maxHeight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!==t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!==t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageAutoOrNullConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageAutoValidator,!1)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"title",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"maxHeight",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign,t.HAlign.Center)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign,t.VAlign.Middle)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"borderStyle",null),r}(e._Option),e._HeaderOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__scale=new e._ValueOption({type:t.ValueOptionType.Percentage,value:1.05}),r.__stay=t._Constants.AnimationStay,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"stay",{get:function(){return this.__stay},set:function(t){t=this.validate(t),this.__stay!=t&&(this.__stay=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.__scale},set:function(n){n=this.validate(n),this.__scale!=n&&(null==n&&(n=new e._ValueOption({type:t.ValueOptionType.Percentage,value:1.05})),this.__scale=n)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.AnimationStay),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],r.prototype,"stay",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0,0,null,!0,!1),t.ValidatorAttribute(t._AnimationScaleValidator,!0)],r.prototype,"scale",null),r}(e._AnimationOption),e._HighlightAnimationOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__scale=new e._ValueOption({type:t.ValueOptionType.Percentage,value:1.05}),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"scale",{get:function(){return this.__scale},set:function(n){if(n=this.validate(n),null==this.__scale||this.__scale!=n){var i=n;null==i&&(i=new e._ValueOption({type:t.ValueOptionType.Percentage,value:1.05})),this.__scale=i}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startDelay",{get:function(){return this.__startDelay},set:function(t){this.__startDelay=0},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,null,!0,!1),t.ValidatorAttribute(t._AnimationScaleValidator,!1)],r.prototype,"scale",null),r}(e._AnimationOption),e._HoverAnimationOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__enabled=!0,o.__min=null,o.__max=null,o.__unit=null,o.__palette=[],null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"enabled",{get:function(){return this.__enabled},set:function(t){this.__enabled!=t&&(this.__enabled=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this.__min},set:function(t){this.__min!=t&&(this.__min=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this.__max},set:function(t){this.__max!=t&&(this.__max=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"unit",{get:function(){return this.__unit},set:function(t){t=this.validate(t),this.__unit!=t&&(this.__unit=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"palette",{get:function(){return this.__palette},set:function(t){t=this.validate(t),this.__palette!=t&&(this.__palette=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._BooleanConverter,!1,!0)],i.prototype,"enabled",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"min",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"max",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null)],i.prototype,"unit",null),o([t.JsonConverterAttribute(t._PaletteConverter,!0),t.ValidatorAttribute(t._PaletteValidator,!0)],i.prototype,"palette",null),i}(e._Option),e._LegendGradientOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__text=null,r.__textStyle=new e._TextStyleOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){null!=t&&(this.__text=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"text",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),r}(e._Option),e._LegendItemOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type=null,r.__orientation=null,r.__position=null,r.__title=null,r.__titlePosition=null,r.__style=new e._LegendStyleOption(null),r.__textStyle=new e._TextStyleOption(null),r.__borderStyle=new e._LineStyleOption(null),r.__titleStyle=new e._TextStyleOption(null),r.__hoverStyle=null,r.__ranges=null,r.__gradient=new e._LegendGradientOption(null),r.__padding=null,r.__itemPadding=null,r.__width=null,r.__height=null,r.__maxWidth=null,r.__maxHeight=null,r.__sortOrder=t.SortOrder.None,r.__items=[],r.__template=null,r.__hAlign=null,r.__vAlign=null,r.__labelPosition=null,r.__merge=null,r.__groupHAlign=null,r.__groupVAlign=null,r.__left=null,r.__top=null,r.__groupOrientation=null,r.__groupPadding=null,r.__margin=null,r.__itemSpace=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"itemSpace",{get:function(){return this.__itemSpace},set:function(t){t=this.validate(t),this.__itemSpace!=t&&(this.__itemSpace=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"merge",{get:function(){return this.__merge},set:function(t){if(this.__merge!=t)if(null==t)this.__merge=null;else{for(var e=[],n=function(t){if(e.some((function(e){return e.plotName===t.plotName&&e.type===t.type})))return"continue";e.push(t)},i=0,o=t;i<o.length;i++)n(o[i]);this.__merge=e}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"margin",{get:function(){return this.__margin},set:function(t){this.__margin!=t&&(this.__margin=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupPadding",{get:function(){return this.__groupPadding},set:function(t){this.__groupPadding!=t&&(this.__groupPadding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupOrientation",{get:function(){return this.__groupOrientation},set:function(t){null!=this.__groupOrientation&&this.__groupOrientation==t||(this.__groupOrientation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return this.__left},set:function(t){t=this.validate(t),null!=this.__left&&this.__left==t||(this.__left=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.__top},set:function(t){t=this.validate(t),null!=this.__top&&this.__top==t||(this.__top=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupHAlign",{get:function(){return this.__groupHAlign},set:function(t){null!=this.__groupHAlign&&this.__groupHAlign==t||(this.__groupHAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupVAlign",{get:function(){return this.__groupVAlign},set:function(t){null!=this.__groupVAlign&&this.__groupVAlign==t||(this.__groupVAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labelPosition",{get:function(){return this.__labelPosition},set:function(t){null!=this.__labelPosition&&this.__labelPosition==t||(this.__labelPosition=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){null!=this.__hAlign&&this.__hAlign==t||(this.__hAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){null!=this.__vAlign&&this.__vAlign==t||(this.__vAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"template",{get:function(){return this.__template},set:function(t){null!=t&&(this.__template=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"items",{get:function(){return this.__items},set:function(t){null==t?this.__items=[]:null!=this.__items&&this.__items==t||(this.__items=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sortOrder",{get:function(){return this.__sortOrder},set:function(t){this.__sortOrder!=t&&(this.__sortOrder=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.__orientation},set:function(t){null!=this.__orientation&&this.__orientation==t||(this.__orientation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){null!=this.__position&&this.__position==t||(this.__position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this.__title},set:function(t){null!=this.__title&&this.__title==t||(this.__title=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"titlePosition",{get:function(){return this.__titlePosition},set:function(t){null!=this.__titlePosition&&this.__titlePosition==t||(this.__titlePosition=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._LegendStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"titleStyle",{get:function(){return this.__titleStyle},set:function(t){this.__titleStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__titleStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ranges",{get:function(){return this.__ranges},set:function(t){if(this.__ranges!=t)if(null==t)this.__ranges=null;else{for(var e=[],n=-Number.MAX_VALUE,i=0,o=t;i<o.length;i++){var r=o[i];if(null==r)break;if(null==r.to||isNaN(r.to)||!(r.to>n)){if(e.length>0&&(null==r.to||isNaN(r.to))){e.push(r);break}break}e.push(r),n=r.to}this.__ranges=e}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"gradient",{get:function(){return this.__gradient},set:function(t){this.__gradient!=t&&(null==t&&(t=new e._LegendGradientOption),this.__gradient=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!==t&&(this.__padding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"itemPadding",{get:function(){return this.__itemPadding},set:function(t){this.__itemPadding!==t&&(this.__itemPadding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this.__maxWidth},set:function(t){t=this.validate(t),this.__maxWidth!=t&&(this.__maxWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){return this.__maxHeight},set:function(t){t=this.validate(t),this.__maxHeight!=t&&(this.__maxHeight=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueOptionWithPixelConverter,!1),t.ValidatorAttribute(t._ValueOptionWithPixelValidator,!1)],r.prototype,"itemSpace",null),o([t.JsonConverterAttribute(t._MergeLegendTypeOptionArrayConverter,!0)],r.prototype,"merge",null),o([t.JsonConverterAttribute(t._MarginOptionConverter,!1)],r.prototype,"margin",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"groupPadding",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation)],r.prototype,"groupOrientation",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._UnitIntervalValidator,!0)],r.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._UnitIntervalValidator,!0)],r.prototype,"top",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"groupHAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],r.prototype,"groupVAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Position)],r.prototype,"labelPosition",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"template",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_LegendItemOption")],r.prototype,"items",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SortOrder,t.SortOrder.None)],r.prototype,"sortOrder",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LegendType)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation)],r.prototype,"orientation",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LegendPosition)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"title",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Position)],r.prototype,"titlePosition",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LegendStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"borderStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"titleStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._LegendRangeOptionsOrNullConverter,!0)],r.prototype,"ranges",null),o([t.JsonConverterAttribute(t._LegendGradientOptionConverter,!1)],r.prototype,"gradient",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"itemPadding",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"maxWidth",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"maxHeight",null),r}(e._Option),e._LegendOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__title=null,o.__to=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"title",{get:function(){return this.__title},set:function(t){null!=this.__title&&this.__title==t||(this.__title=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"to",{get:function(){return this.__to},set:function(t){null!=this.__to&&this.__to==t||(this.__to=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"title",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"to",null),i}(e._Option),e._LegendRangeOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__iconColor=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"iconColor",{get:function(){return this.__iconColor},set:function(t){null!=this.__iconColor&&this.__iconColor==t||(this.__iconColor=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"iconColor",null),i}(e._StyleOption),e._LegendStyleOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__strokeOpacity=null,o.__stroke=null,o.__strokeWidth=null,o.__strokeDasharray=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"strokeOpacity",{get:function(){return null!=this.__strokeOpacity?this.__strokeOpacity:null!=this.__opacity?this.__opacity:null},set:function(t){t=this.validate(t),this.__strokeOpacity!=t&&(this.__strokeOpacity=t,null!=this.__strokeOpacity&&(this.__opacity=null))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"opacity",{get:function(){return this.strokeOpacity},set:function(t){t=this.validate(t),this.__opacity!=t&&(this.__opacity=t,null!=this.__opacity&&(this.__strokeOpacity=null))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){null!=this.__stroke&&this.__stroke==t||(this.__stroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){null!=this.__strokeWidth&&this.__strokeWidth==t||(this.__strokeWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){null!=this.__strokeDasharray&&this.__strokeDasharray==t||(this.__strokeDasharray=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"strokeOpacity",null),o([t.deprecated("ILineStyleOption.opacity","strokeOpacity"),t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"opacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"stroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"strokeDasharray",null),i}(e._Option),e._LineStyleOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._LineStyleOption(null);return n._setOption(e.option()),n.strokeOpacity=e.strokeOpacity,n.stroke=null==e.stroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.stroke),n.strokeWidth=e.strokeWidth,n.strokeDasharray=e.strokeDasharray,n},e._lineStyleOptionCloneMarker=new e,e}();t._LineStyleOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__left=0,o.__top=0,o.__right=0,o.__bottom=0,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"left",{get:function(){return this.__left},set:function(t){this.__left!=t&&(this.__left=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.__top},set:function(t){this.__top!=t&&(this.__top=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.__right},set:function(t){this.__right!=t&&(this.__right=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.__bottom},set:function(t){this.__bottom!=t&&(this.__bottom=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"top",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"right",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"bottom",null),i}(e._Option),e._MarginOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__plotName=null,o.__type=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"plotName",{get:function(){return this.__plotName},set:function(t){t=this.validate(t),this.__plotName!=t&&(this.__plotName=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){t=this.validate(t),this.type!=t&&(this.__type=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],i.prototype,"plotName",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LegendType),t.ValidatorAttribute(t._MergeLegendTypeValidator,!0)],i.prototype,"type",null),i}(e._Option),e._MergeLegendTypeOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__display=null,o.__type=null,o.__rules=[],o.__loadAnimation=null,o.__updateAnimation=null,o.__hoverAnimation=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"rules",{get:function(){return this.__rules},set:function(t){null==t?this.__rules=[]:null!=this.__rules&&this.__rules==t||(this.__rules=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"display",{get:function(){return this.__display},set:function(t){null!=t&&t==this.__display||(this.__display=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"loadAnimation",{get:function(){return this.__loadAnimation},set:function(t){this.__loadAnimation!=t&&(this.__loadAnimation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"updateAnimation",{get:function(){return this.__updateAnimation},set:function(t){this.__updateAnimation!=t&&(this.__updateAnimation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hoverAnimation",{get:function(){return this.__hoverAnimation},set:function(t){t=this.validate(t),this.__hoverAnimation!=t&&(this.__hoverAnimation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"json",{get:function(){return this.option()},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_RuleOption")],i.prototype,"rules",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.OverlayDisplay,t.OverlayDisplay.Front)],i.prototype,"display",null),o([t.JsonConverterAttribute(t._LoadingAnimationOptionConverter,!0)],i.prototype,"loadAnimation",null),o([t.JsonConverterAttribute(t._AnimationOptionConverter,!0)],i.prototype,"updateAnimation",null),o([t.JsonConverterAttribute(t._HoverAnimationOptionConverter,!0),t.ValidatorAttribute(t._HoverAnimationOptionValidator,!0)],i.prototype,"hoverAnimation",null),o([t.JsonIgnoreAttribute()],i.prototype,"json",null),i}(e._Option),e._OverlayOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__left=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),r.__top=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),r.__right=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),r.__bottom=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"left",{get:function(){return this.__left},set:function(n){null==(n=this.validate(n))?this.__left=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}):this.__left!=n&&(this.__left=n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.__top},set:function(n){null==(n=this.validate(n))?this.__top=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}):this.__top!=n&&(this.__top=n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.__right},set:function(n){null==(n=this.validate(n))?this.__right=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}):this.__right!=n&&(this.__right=n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.__bottom},set:function(n){null==(n=this.validate(n))?this.__bottom=new e._ValueOption({type:t.ValueOptionType.Pixel,value:0}):this.__bottom!=n&&(this.__bottom=n)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueOptionWithPixelConverter,!1),t.ValidatorAttribute(t._ValueOptionWithPixelValidator,!1)],r.prototype,"left",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelConverter,!1),t.ValidatorAttribute(t._ValueOptionWithPixelValidator,!1)],r.prototype,"top",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelConverter,!1),t.ValidatorAttribute(t._ValueOptionWithPixelValidator,!1)],r.prototype,"right",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelConverter,!1),t.ValidatorAttribute(t._ValueOptionWithPixelValidator,!1)],r.prototype,"bottom",null),r}(e._Option),e._PaddingOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type=e.PaletteItemType.Index,r.__data=null,r.__color=e._CssColorOption._buildColorOption("grey"),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"data",{get:function(){return this.__data},set:function(t){this.__data!=t&&(this.__data=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.__color},set:function(t){this.__color!=t&&(this.__color=null==t?e._CssColorOption._buildColorOption("grey"):t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._DataValueTypeConverter,!1)],r.prototype,"data",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"color",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,e.PaletteItemType,e.PaletteItemType.Index)],r.prototype,"type",null),r}(e._Option),e._PaletteItemOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__columnWidths=[],o.__rowHeights=[],null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"columnWidths",{get:function(){return this.__columnWidths},set:function(t){t=this.validate(t),this.__columnWidths!=t&&(this.__columnWidths=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowHeights",{get:function(){return this.__rowHeights},set:function(t){t=this.validate(t),this.__rowHeights!=t&&(this.__rowHeights=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueOptionPixelStarConverter,!1),t.ValidatorAttribute(t._ValueOptionPixelStarValidator,!1)],i.prototype,"columnWidths",null),o([t.JsonConverterAttribute(t._ValueOptionPixelStarConverter,!1),t.ValidatorAttribute(t._ValueOptionPixelStarValidator,!1)],i.prototype,"rowHeights",null),i}(e._Option),e._PlotAreaLayoutOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__row=null,r.__column=null,r.__axes=[],r.__legend=new e._GlobalLegendOption(null),r.__legends=[],r.__borderStyle=new e._LineStyleOption(null),r.__backgroundColor=null,r.__padding=null,r.__style=new e._PlotAreaStyleOption(null),r.__textStyle=new e._TextStyleOption(null),r.__coordinateSystems=[],r.__plugins=[],r.__plotsMargin=null,r.__innerMinSize=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"row",{get:function(){return this.__row},set:function(t){t=this.validate(t),this.__row!=t&&(this.__row=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"column",{get:function(){return this.__column},set:function(t){t=this.validate(t),this.__column!=t&&(this.__column=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"axes",{get:function(){return this.__axes},set:function(t){null!=this.__axes&&this.__axes==t||(this.__axes=[],null!=t&&(this.__axes=t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"legend",{get:function(){return this.__legend},set:function(t){this.__legend!=t&&(null==t&&(t=new e._GlobalLegendOption),this.__legend=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"legends",{get:function(){return this.__legends},set:function(t){null!=this.__legends&&this.__legends==t||(this.__legends=[],null!=t&&(this.__legends=t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"borderStyle",{get:function(){return this.__borderStyle},set:function(t){this.__borderStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__borderStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){null!=this.__backgroundColor&&this.__backgroundColor==t||(this.__backgroundColor=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._PlotAreaStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinateSystems",{get:function(){return this.__coordinateSystems},set:function(t){null!=this.__coordinateSystems&&this.__coordinateSystems==t||(this.__coordinateSystems=[],null!=t&&(this.__coordinateSystems=t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"plugins",{get:function(){return this.__plugins},set:function(t){null==t?this.__plugins=[]:null!=this.__plugins&&this.__plugins==t||(this.__plugins=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"plotsMargin",{get:function(){return this.__plotsMargin},set:function(t){null!=this.__plotsMargin&&this.__plotsMargin==t||(this.__plotsMargin=t,null!=this.__plotsMargin&&(this.__plotsMargin.left+this.__plotsMargin.right>1&&(this.__plotsMargin.left=0,this.__plotsMargin.right=0),this.__plotsMargin.top+this.__plotsMargin.bottom>1&&(this.__plotsMargin.top=0,this.__plotsMargin.bottom=0)))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"innerMinSize",{get:function(){return this.__innerMinSize},set:function(t){this.__innerMinSize!=t&&(this.__innerMinSize=t)},enumerable:!1,configurable:!0}),r.prototype.queryInterface=function(t){return"IPlotAreaCustomOption"==t||"IPlotAreaOption"==t?this:null},o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!1,!0)],r.prototype,"row",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!1,!0)],r.prototype,"column",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_AxisOption")],r.prototype,"axes",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_GlobalLegendOption")],r.prototype,"legend",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_LegendOption")],r.prototype,"legends",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"borderStyle",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_PlotAreaStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_CoordinateSystemOption")],r.prototype,"coordinateSystems",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_ConfigPluginOption")],r.prototype,"plugins",null),o([t.JsonConverterAttribute(t._MarginOptionConverter,!1)],r.prototype,"plotsMargin",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SizeOption")],r.prototype,"innerMinSize",null),r}(e._Option),e._PlotAreaOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__innerStroke=null,o.__innerStrokeWidth=null,o.__innerStrokeDasharray=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"innerStroke",{get:function(){return this.__innerStroke},set:function(t){null!=this.__innerStroke&&this.__innerStroke==t||(this.__innerStroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"innerStrokeWidth",{get:function(){return this.__innerStrokeWidth},set:function(t){t=this.validate(t),null!=this.__innerStrokeWidth&&this.__innerStrokeWidth==t||(this.__innerStrokeWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"innerStrokeDasharray",{get:function(){return this.__innerStrokeDasharray},set:function(t){this.__innerStrokeDasharray!=t&&(this.__innerStrokeDasharray=t)},enumerable:!1,configurable:!0}),i.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.StyleRequired,this.option());e.prototype._setOption.call(this,n)},o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"innerStroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"innerStrokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"innerStrokeDasharray",null),i}(e._StyleOption),e._PlotAreaStyleOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__axisMode=t.AxisMode.Cartesian,r.__symbols=null,r.__swapAxes=!1,r.__clippingMode=t.ClippingMode.None,r.__showNulls=t.ShowNulls.Connected,r.__showNaNs=t.ShowNulls.Connected,r.__lineAspect=t.LineAspect.Default,r.__offset=[],r.__innerRadius=null,r.__sweep=360,r.__startAngle=0,r.__rules=[],r.__style=new e._DataPointStyleOption(null),r.__altStyle=null,r.__textStyle=new e._TextStyleOption(null),r.__hoverStyle=new e._DataPointStyleOption(null),r.__text=[new e._PlotConfigTextOption(null)],r.__tooltip=[new e._PlotConfigTooltipOption(null)],r.__loadAnimation=null,r.__hoverAnimation=null,r.__updateAnimation=null,r.__overlays=[],r.__textConfig=new e._TextPlotConfigOption(null),r.__selectedStyle=new e._SelectionStyleOption(null),r.__unSelectedStyle=new e._SelectionStyleOption(null),r.__selectedTextStyle=new e._TextStyleOption(null),r.__unSelectedTextStyle=new e._TextStyleOption(null),r.__hAlign=null,r.__vAlign=null,r.__palette=null,r.__shapes=[],r.__seriesStyles=[],r.__bar=new e._PlotBarOption(null),r.__gradientFillDirection=null,r.__plugins=[],r.__trackers=[],r.__zoom=null,r.__space=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"axisMode",{get:function(){return this.__axisMode},set:function(t){this.__axisMode!=t&&(this.__axisMode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"symbols",{get:function(){return this.__symbols},set:function(t){this.__symbols!=t&&(this.__symbols=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"swapAxes",{get:function(){return this.__swapAxes},set:function(t){this.__swapAxes!=t&&(this.__swapAxes=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clippingMode",{get:function(){return this.__clippingMode},set:function(t){this.__clippingMode!=t&&(this.__clippingMode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showNulls",{get:function(){return this.__showNulls},set:function(t){this.__showNulls!=t&&(this.__showNulls=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showNaNs",{get:function(){return this.__showNaNs},set:function(t){this.__showNaNs!=t&&(this.__showNaNs=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineAspect",{get:function(){return this.__lineAspect},set:function(t){this.__lineAspect!=t&&(this.__lineAspect=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"innerRadius",{get:function(){return this.__innerRadius},set:function(t){t=this.validate(t),this.__innerRadius!=t&&(this.__innerRadius=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sweep",{get:function(){return this.__sweep},set:function(t){t=this.validate(t),this.__sweep!=t&&(this.__sweep=i.prototype.validate.call(this,t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startAngle",{get:function(){return this.__startAngle},set:function(t){this.__startAngle!=t&&(this.__startAngle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rules",{get:function(){return this.__rules},set:function(t){this.__rules!=t&&(this.__rules=t,null==t&&(this.__rules=[]))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._DataPointStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"trackers",{get:function(){return this.__trackers},set:function(t){this.__trackers!=t&&(this.__trackers=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"altStyle",{get:function(){return this.__altStyle},set:function(t){this.__altStyle!=t&&(this.__altStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(null==t&&(t=new e._DataPointStyleOption),this.__hoverStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){t=this.validate(t),this.__text!=t&&(this.__text=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tooltip",{get:function(){return this.__tooltip},set:function(t){t=this.validate(t),this.__tooltip!=t&&(this.__tooltip=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"loadAnimation",{get:function(){return this.__loadAnimation},set:function(t){this.__loadAnimation!=t&&(this.__loadAnimation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateAnimation",{get:function(){return this.__updateAnimation},set:function(t){this.__updateAnimation!=t&&(this.__updateAnimation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hoverAnimation",{get:function(){return this.__hoverAnimation},set:function(t){t=this.validate(t),this.__hoverAnimation!=t&&(this.__hoverAnimation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"overlays",{get:function(){return this.__overlays},set:function(t){this.__overlays!=t&&(this.__overlays=t,null==t&&(this.__overlays=[]))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textConfig",{get:function(){return this.__textConfig},set:function(t){this.__textConfig!=t&&(null==t&&(t=new e._TextPlotConfigOption),this.__textConfig=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectedStyle",{get:function(){return this.__selectedStyle},set:function(t){this.__selectedStyle!=t&&(null==t&&(t=new e._SelectionStyleOption),this.__selectedStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"unselectedStyle",{get:function(){return this.__unSelectedStyle},set:function(t){this.__unSelectedStyle!=t&&(null==t&&(t=new e._SelectionStyleOption),this.__unSelectedStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectedTextStyle",{get:function(){return this.__selectedTextStyle},set:function(t){this.__selectedTextStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__selectedTextStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"unselectedTextStyle",{get:function(){return this.__unSelectedTextStyle},set:function(t){this.__unSelectedTextStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__unSelectedTextStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"palette",{get:function(){return this.__palette},set:function(t){t=this.validate(t),this.__palette!=t&&(this.__palette=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shapes",{get:function(){return this.__shapes},set:function(t){t=this.validate(t),this.__shapes!=t&&(this.__shapes=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"seriesStyles",{get:function(){return this.__seriesStyles},set:function(t){this.__seriesStyles!=t&&(this.__seriesStyles=t,null==t&&(this.__seriesStyles=[]))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bar",{get:function(){return this.__bar},set:function(t){this.__bar!=t&&(null==t&&(t=new e._PlotBarOption),this.__bar=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"gradientFillDirection",{get:function(){return this.__gradientFillDirection},set:function(t){this.__gradientFillDirection!=t&&(this.__gradientFillDirection=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"plugins",{get:function(){return this.__plugins},set:function(t){this.__plugins!=t&&(this.__plugins=t,null==t&&(this.__plugins=[]))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zoom",{get:function(){return this.__zoom},set:function(t){this.__zoom!=t&&(this.__zoom=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"space",{get:function(){return this.__space},set:function(t){t=this.validate(t),this.__space!=t&&(this.__space=t)},enumerable:!1,configurable:!0}),r.prototype.queryInterface=function(t){return"IPlotConfigOption"==t?this:null},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisMode,t.AxisMode.Cartesian)],r.prototype,"axisMode",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],r.prototype,"symbols",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"swapAxes",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ClippingMode,t.ClippingMode.None)],r.prototype,"clippingMode",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ShowNulls,t.ShowNulls.Connected)],r.prototype,"showNulls",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ShowNulls,t.ShowNulls.Connected)],r.prototype,"showNaNs",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LineAspect,t.LineAspect.Default)],r.prototype,"lineAspect",null),o([t.JsonConverterAttribute(t._PlotConfigOffsetArrayConverter,!1)],r.prototype,"offset",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,null),t.ValidatorAttribute(t._InnerRadiusValidator,!1)],r.prototype,"innerRadius",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,360),t.ValidatorAttribute(t._NumberValidator,!0,0,360,!0)],r.prototype,"sweep",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,0)],r.prototype,"startAngle",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_RuleOption")],r.prototype,"rules",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._TrackerOptionOrNullConverter,!0)],r.prototype,"trackers",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption",!0)],r.prototype,"altStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],r.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._PlotConfigTextConverter,!0),t.ValidatorAttribute(t._PlotConfigTextValidator,!0)],r.prototype,"text",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_PlotConfigTooltipOption"),t.ValidatorAttribute(t._PlotConfigTooltipArrayValidator,!0)],r.prototype,"tooltip",null),o([t.JsonConverterAttribute(t._LoadingAnimationOptionConverter,!0)],r.prototype,"loadAnimation",null),o([t.JsonConverterAttribute(t._AnimationOptionConverter,!0)],r.prototype,"updateAnimation",null),o([t.JsonConverterAttribute(t._HoverAnimationOptionConverter,!0),t.ValidatorAttribute(t._HoverAnimationOptionValidator,!0)],r.prototype,"hoverAnimation",null),o([t.JsonConverterAttribute(t._OverlayOptionsConverter,!0)],r.prototype,"overlays",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextPlotConfigOption")],r.prototype,"textConfig",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SelectionStyleOption")],r.prototype,"selectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SelectionStyleOption")],r.prototype,"unselectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"selectedTextStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"unselectedTextStyle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._PaletteItemOptionsConverter,!0),t.ValidatorAttribute(t._PaletteItemOptionsValidator,!0,!1)],r.prototype,"palette",null),o([t.JsonConverterAttribute(t._SymbolShapesConverter,!0),t.ValidatorAttribute(t._SymbolShapesValidator,!0)],r.prototype,"shapes",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_SeriesStyleOption")],r.prototype,"seriesStyles",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_PlotBarOption")],r.prototype,"bar",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.GradientFillDirection)],r.prototype,"gradientFillDirection",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_ConfigPluginOption")],r.prototype,"plugins",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_ZoomConfigOption")],r.prototype,"zoom",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,null)],r.prototype,"space",null),r}(e._Option),e._PlotConfigOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__position=null,o.__offset=0,o.__linePosition=t.LinePosition.Auto,o.__placement=t.Placement.Auto,o.__maxWidth=null,o.__angle=null,o.__connectingLine=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linePosition",{get:function(){return this.__linePosition},set:function(t){this.__linePosition!=t&&(this.__linePosition=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxWidth",{get:function(){return this.__maxWidth},set:function(t){t=this.validate(t),this.__maxWidth!=t&&(this.__maxWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},set:function(t){t=this.validate(t),this.__angle!=t&&(this.__angle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connectingLine",{get:function(){return this.__connectingLine},set:function(t){this.__connectingLine!=t&&(this.__connectingLine=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TextPosition)],i.prototype,"position",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Placement,t.Placement.Auto)],i.prototype,"placement",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,0)],i.prototype,"offset",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LinePosition,t.LinePosition.Auto)],i.prototype,"linePosition",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],i.prototype,"maxWidth",null),o([t.JsonConverterAttribute(t._NumberOrNullOrAutoNumberConverter,!0),t.ValidatorAttribute(t._PlotConfigTextAngleValidator,!1)],i.prototype,"angle",null),o([t.JsonConverterAttribute(t._LineStyleOptionConverter,!0)],i.prototype,"connectingLine",null),i}(e._DataLabelOption),e._PlotConfigTextOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._PlotConfigTextOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.position=e.position,n.placement=e.placement,n.offset=e.offset,n.linePosition=e.linePosition,n.maxWidth=e.maxWidth,n.angle=e.angle,n.connectingLine=null==e.connectingLine?null:t._LineStyleOptionCloneMarker._lineStyleOptionCloneMarker._cloneOf(e.connectingLine)},e._plotConfigTextOptionCloneMarker=new e,e}();t._PlotConfigTextOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var l=i.call(this,null,o)||this;return l.__scope=r.__defaultScope,l.__template=null,l.__style=new e._StyleOption(null),l.__textStyle=new e._TextStyleOption(null),null!=n&&t.OptionSerializer.deserialize(l,n),l}return n(r,i),Object.defineProperty(r.prototype,"scope",{get:function(){return this.__scope},set:function(t){null!=t&&""!=t&&"Default"!=t||(t=r.__defaultScope),this.__scope!=t&&(this.__scope=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"template",{get:function(){return this.__template},set:function(t){this.__template!=t&&(this.__template=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),r.__defaultScope="DataPoint",o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"scope",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"template",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),r}(e._Option),e._PlotConfigTooltipOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._PlotConfigTooltipOption(null);return n._setOption(e.option()),n.scope=e.scope,n.template=e.template,n.style=null==e.style?null:t._StyleOptionCloneMaker._styleOptionCloneMaker._cloneOf(e.style),n.textStyle=null==e.textStyle?null:t._TextStyleOptionCloneMarker._textStyleOptionCloneMarker._cloneOf(e.textStyle),n},e._plotConfigTooltipOptionCloneMarker=new e,e}();t._PlotConfigTooltipOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__values=[],r.__category=new e._CategoryEncodingOption(null),r.__details=[],r.__color=new e._ColorEncodingOption(null),r.__size=new e._SizeEncodingOption(null),r.__shape=new e._ShapeEncodingOption(null),r.__backgroundColor=new e._BackgroundColorEncodingOption(null),r.__text=[],r.__tooltip=[],r.__layout=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"values",{get:function(){return this.__values},set:function(t){this.__values!=t&&(this.__values=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"category",{get:function(){return this.__category},set:function(t){this.__category!=t&&(null==t&&(t=new e._CategoryEncodingOption),this.__category=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"details",{get:function(){return this.__details},set:function(t){null!=this.__details&&this.__details==t||(this.__details=[],null!=t&&(this.__details=t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.__color},set:function(t){this.__color!=t&&(null==t&&(t=new e._ColorEncodingOption),this.__color=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){return this.__size},set:function(t){this.__size!=t&&(null==t&&(t=new e._SizeEncodingOption),this.__size=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(null==t&&(t=new e._ShapeEncodingOption),this.__shape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){this.__backgroundColor!=t&&(null==t&&(t=new e._BackgroundColorEncodingOption),this.__backgroundColor=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lightness",{get:function(){return this.__lightness},set:function(t){this.__lightness!=t&&(null==t&&(t=new e._LightnessEncodingOption),this.__lightness=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){null!=this.__text&&this.__text==t||(this.__text=[],null!=t&&(this.__text=t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tooltip",{get:function(){return this.__tooltip},set:function(t){null!=this.__tooltip&&this.__tooltip==t||(this.__tooltip=[],null!=t&&(this.__tooltip=t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"layout",{get:function(){return this.__layout},set:function(t){this.__layout!=t&&(this.__layout=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueEncodingOptionsConverter,!1)],r.prototype,"values",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_CategoryEncodingOption")],r.prototype,"category",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_DetailEncodingOption")],r.prototype,"details",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_ColorEncodingOption")],r.prototype,"color",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SizeEncodingOption")],r.prototype,"size",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_ShapeEncodingOption")],r.prototype,"shape",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_BackgroundColorEncodingOption")],r.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LightnessEncodingOption")],r.prototype,"lightness",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_ContentEncodingOption")],r.prototype,"text",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_ContentEncodingOption")],r.prototype,"tooltip",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LayoutEncodingOption")],r.prototype,"layout",null),r}(e._Option),e._PlotEncodingsOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__name="",r.__type=null,r.__encodings=new e._PlotEncodingsOption(null),r.__config=new e._PlotConfigOption(null),r.__data=null,r.__points=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"data",{get:function(){return this.__data},set:function(t){this.__data!=t&&(this.__data=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this.__name},set:function(t){null==t&&(t=""),this.__name!=t&&(this.__name=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"encodings",{get:function(){return this.__encodings},set:function(t){this.__encodings!=t&&(null==t&&(t=new e._PlotEncodingsOption),this.__encodings=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.__config},set:function(t){this.__config!=t&&(null==t&&(t=new e._PlotConfigOption),this.__config=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"points",{get:function(){return this.__points},set:function(t){this.__points!=t&&(this.__points=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"data",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"name",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_PlotEncodingsOption")],r.prototype,"encodings",null),o([t.JsonConverterAttribute(t._PlotConfigOptionDerivedTypeConverter,!0)],r.prototype,"config",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_PlotPointsOption")],r.prototype,"points",null),r}(e._Option),e._PlotOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__axes=[],null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"axes",{get:function(){return this.__axes},set:function(t){null==t?this.__axes=[]:null!=this.__axes&&this.__axes==t||(this.__axes=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_AxisOption")],i.prototype,"axes",null),i}(e._Option),e._PlotPointsConfigOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__plots=[],r.__config=new e._PlotPointsConfigOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"plots",{get:function(){return this.__plots},set:function(t){this.__plots!=t&&(null==t&&(t=[]),this.__plots=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.__config},set:function(t){this.__config!=t&&(null==t&&(t=new e._PlotPointsConfigOption),this.__config=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_PlotOption")],r.prototype,"plots",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_PlotPointsConfigOption")],r.prototype,"config",null),r}(e._Option),e._PlotPointsOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__targetElement=null,o.__properties=[],null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"targetElement",{get:function(){return this.__targetElement},set:function(t){this.__targetElement!=t&&(this.__targetElement=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"properties",{get:function(){return this.__properties},set:function(t){null==t?this.__properties=[]:null!=this.properties&&this.__properties==t||(this.__properties=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"targetElement",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_RuleActionPropertyOption")],i.prototype,"properties",null),i}(e._Option),e._RuleActionOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__name=null,o.__value=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"name",{get:function(){return this.__name},set:function(t){t=this.validate(t),this.__name!=t&&(this.__name=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.__value},set:function(t){this.__value!=t&&(this.__value=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!0,!0)],i.prototype,"name",null),i}(e._Option),e._RuleActionPropertyOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__condition=null,o.__type=null,o.__actions=[],null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"condition",{get:function(){return this.__condition},set:function(t){this.__condition!=t&&(this.__condition=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"actions",{get:function(){return this.__actions},set:function(t){null==t?this.__actions=[]:this.__actions!=t&&(this.__actions=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"condition",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_RuleActionOption")],i.prototype,"actions",null),i}(e._Option),e._RuleOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__valueField=null,o.__key=null,o.__symbols=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"valueField",{get:function(){return this.__valueField},set:function(t){null!=this.__valueField&&this.__valueField==t||(this.__valueField=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"key",{get:function(){return this.__key},set:function(t){null!=this.__key&&this.__key==t||(this.__key=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbols",{get:function(){return this.__symbols},set:function(t){null!=this.__symbols&&this.__symbols==t||(this.__symbols=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._DataValueTypeConverter,!1)],i.prototype,"key",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],i.prototype,"symbols",null),i}(e._DataPointStyleOption),e._SeriesStyleOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._SeriesStyleOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataPointStyleOptionCloneMaker._dataPointStyleOptionCloneMaker._copy(e,n),n.valueField=e.valueField,n.key=e.key,n.symbols=e.symbols},e._seriesStyleOptionCloneMarker=new e,e}();t._SeriesStyleOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__width=null,o.__height=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],i.prototype,"height",null),i}(e._Option),e._SizeOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__left=0,o.__top=0,o.__right=0,o.__bottom=0,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"left",{get:function(){return this.__left},set:function(t){t=this.validate(t),this.__left!=t&&(this.__left=e.prototype.validate.call(this,t))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.__top},set:function(t){t=this.validate(t),this.__top!=t&&(this.__top=e.prototype.validate.call(this,t))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.__right},set:function(t){t=this.validate(t),this.__right!=t&&(this.__right=e.prototype.validate.call(this,t))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.__bottom},set:function(t){t=this.validate(t),this.__bottom!=t&&(this.__bottom=e.prototype.validate.call(this,t))},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"top",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"right",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"bottom",null),i}(e._Option),e._StrokeWidthOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._StrokeWidthOption(null);return n._setOption(e.option()),n.left=e.left,n.top=e.top,n.right=e.right,n.bottom=e.bottom,n},e._strokeWidthOptionCloneMarker=new e,e}();t._StrokeWidthOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__overline=null,o.__lineThrough=null,o.__underline=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"overline",{get:function(){return this.__overline},set:function(t){null!=this.__overline&&this.__overline==t||(this.__overline=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineThrough",{get:function(){return this.__lineThrough},set:function(t){null!=this.__lineThrough&&this.__lineThrough==t||(this.__lineThrough=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"underline",{get:function(){return this.__underline},set:function(t){null!=this.__underline&&this.__underline==t||(this.__underline=t)},enumerable:!1,configurable:!0}),i.prototype.equalsWith=function(t){return null!=t&&(this==t||this.overline===t.overline&&this.lineThrough===t.lineThrough&&this.lineThrough===t.lineThrough)},o([t.JsonConverterAttribute(t._BooleanConverter,!0)],i.prototype,"overline",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],i.prototype,"lineThrough",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],i.prototype,"underline",null),i}(e._Option),e._TextDecorationOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._TextDecorationOption(null);return n._setOption(e.option()),n.overline=e.overline,n.lineThrough=e.lineThrough,n.underline=e.underline,n},e._textDecorationOptionCloneMarker=new e,e}();t._TextDecorationOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__color=null,r.__opacity=null,r.__fontSize=null,r.__fontFamily=null,r.__fontWeight=null,r.__fontStyle=null,r.__textDecoration=new e._TextDecorationOption(null),r.__overflow=null,r.__writingMode=null,r.__alignment=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"color",{get:function(){return this.__color},set:function(t){t=this.validate(t),null!=this.__color&&this.__color==t||(this.__color=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){t=this.validate(t),null!=this.__opacity&&this.__opacity==t||(this.__opacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this.__fontSize},set:function(t){t=this.validate(t),null!=this.__fontSize&&this.__fontSize==t||(this.__fontSize=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this.__fontFamily},set:function(t){null!=this.__fontFamily&&this.__fontFamily==t||(this.__fontFamily=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontWeight",{get:function(){return this.__fontWeight},set:function(t){t=this.validate(t),null!=this.__fontWeight&&this.__fontWeight==t||(this.__fontWeight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this.__fontStyle},set:function(t){null!=this.__fontStyle&&this.__fontStyle==t||(this.__fontStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textDecoration",{get:function(){return this.__textDecoration},set:function(t){this.__textDecoration!=t&&(this.__textDecoration=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"overflow",{get:function(){return this.__overflow},set:function(t){null!=this.__overflow&&this.__overflow==t||(this.__overflow=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"writingMode",{get:function(){return this.__writingMode},set:function(t){null!=this.__writingMode&&this.__writingMode==t||(this.__writingMode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alignment",{get:function(){return this.__alignment},set:function(t){null!=this.__alignment&&this.__alignment==t||(this.__alignment=t)},enumerable:!1,configurable:!0}),r.prototype._setOption=function(t){i.prototype._setOption.call(this,t)},r.prototype._mergeStyle=function(t){return null!=t&&(null!=t.opacity&&(this.opacity=t.opacity),null!=t.color&&(this.color=t.color),null!=t.fontFamily&&(this.fontFamily=t.fontFamily),null!=t.fontSize&&(this.fontSize=t.fontSize),null!=t.fontWeight&&(this.fontWeight=t.fontWeight),null!=t.fontStyle&&(this.fontStyle=t.fontStyle),null==t.textDecoration||null==t.textDecoration.lineThrough&&null==t.textDecoration.overline&&null==t.textDecoration.underline||(this.textDecoration=e._TextDecorationOptionCloneMarker._textDecorationOptionCloneMarker._cloneOf(t.textDecoration)),null!=t.overflow&&(this.overflow=t.overflow),null!=t.writingMode&&(this.writingMode=t.writingMode),null!=t.alignment&&(this.alignment=t.alignment)),this},o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringColorValidator,!0)],r.prototype,"color",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"opacity",null),o([t.JsonConverterAttribute(t._FontSizeConverter,!0),t.ValidatorAttribute(t._FontSizeValidator,!0)],r.prototype,"fontSize",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"fontFamily",null),o([t.JsonConverterAttribute(t._FontWeightConverter,!0),t.ValidatorAttribute(t._FontWeightValidator,!0)],r.prototype,"fontWeight",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.FontStyle)],r.prototype,"fontStyle",null),o([t.JsonConverterAttribute(t._TextDecorationOptionConverter,!1)],r.prototype,"textDecoration",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TextOverflow)],r.prototype,"overflow",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TextWritingMode)],r.prototype,"writingMode",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"alignment",null),r}(e._Option),e._TextStyleOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._TextStyleOption(null);return n._setOption(e.option()),null!=e.color&&(n.color=e.color),n.opacity=e.opacity,n.fontSize=e.fontSize,n.fontFamily=e.fontFamily,n.fontWeight=e.fontWeight,n.fontStyle=e.fontStyle,n.textDecoration=null==e.textDecoration?null:t._TextDecorationOptionCloneMarker._textDecorationOptionCloneMarker._cloneOf(e.textDecoration),n.overflow=e.overflow,n.writingMode=e.writingMode,n.alignment=e.alignment,n},e._textStyleOptionCloneMarker=new e,e}();t._TextStyleOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__hideDelay=0,o.__showDelay=0,o.__offsetX=null,o.__offsetY=null,o.__closeCalllback=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"hideDelay",{get:function(){return this.__hideDelay},set:function(t){this.__hideDelay!=t&&(this.__hideDelay=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showDelay",{get:function(){return this.__showDelay},set:function(t){this.__showDelay!=t&&(this.__showDelay=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"closeCalllback",{get:function(){return this.__closeCalllback},set:function(t){this.__closeCalllback=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offsetX",{get:function(){return this.__offsetX},set:function(t){this.__offsetX=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offsetY",{get:function(){return this.__offsetY},set:function(t){this.__offsetY=t},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"hideDelay",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"showDelay",null),i}(e._Option),e._TooltipOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__fill=e._CssColorOption._buildColorOption("#666666"),r.__opacity=.7,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return t.TrackerType.Area},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){t=this.validate(t),this.__opacity!=t&&(this.__opacity=i.prototype.validate.call(this,t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this.__fill},set:function(t){null!=this.__fill&&this.__fill==t||(this.__fill=null==t?e._CssColorOption._buildColorOption("#666666"):t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,.7),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"opacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"fill",null),r}(e._Option),e._TrackAreaOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__opacity=1,r.__stroke=e._CssColorOption._buildColorOption("#666666"),r.__strokeWidth=1,r.__strokeDasharray=null,r.__type=t.TrackerType.CrossY,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){t=this.validate(t),this.__opacity!=t&&(this.__opacity=i.prototype.validate.call(this,t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){t=this.validate(t),this.__strokeWidth!=t&&(this.__strokeWidth=i.prototype.validate.call(this,t))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){this.__stroke!=t&&(this.__stroke=null==t?e._CssColorOption._buildColorOption("#666666"):t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,1),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,1),t.ValidatorAttribute(t._NumberValidator,!0,0,null)],r.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"stroke",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TrackerType,t.TrackerType.CrossY)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"strokeDasharray",null),r}(e._Option),e._TrackLineOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.___names=null,o.__type=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"names",{get:function(){return this.___names},set:function(t){t=this.validate(t),this.___names!=t&&(this.___names=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringArrayConverter,!0),t.ValidatorAttribute(t._StringArrayValidator,!0,!0)],i.prototype,"names",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.TransformType)],i.prototype,"type",null),i}(e._Option),e._TransformOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__text=null,r.__textStyle=new e._LabelStyleOption(null),r.__style=new e._StyleOption(null),r.__labelAngle=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){this.__text!=t&&(this.__text=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._LabelStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"labelAngle",{get:function(){return this.__labelAngle},set:function(t){t=this.validate(t),this.__labelAngle!=t&&(this.__labelAngle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"text",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LabelStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,-90,90,!0)],r.prototype,"labelAngle",null),r}(e._Option),e._UnitLabelOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__value=0,o.__type=t.ValueOptionType.Pixel,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.__value},set:function(t){this.__value!=t&&(this.__value=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"value",null),i}(e._Option),e._ValueOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._ValueOption(null);return n._setOption(e.option()),n.value=e.value,n.type=e.type,n},e._valueOptionCloneMarker=new e,e}();t._ValueOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ValueScaleType)],i.prototype,"type",null),i}(e._Option),e._ValueScaleOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__space=null,r.__hAlign=t.HAlign.Right,r.__vAlign=t.VAlign.Bottom,r.__style=new e._StyleOption(null),r.__showButtons=!0,r.__showZoomInButton=!0,r.__showZoomOutButton=!0,r.__showZoomResetButton=!0,r.__margin=null,r.__orientation=t.Orientation.Vertical,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.__orientation},set:function(t){this.__orientation!=t&&(this.__orientation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"space",{get:function(){return this.__space},set:function(t){t=this.validate(t),this.__space!=t&&(this.__space=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"margin",{get:function(){return this.__margin},set:function(t){this.__margin!==t&&(this.__margin=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showZoomResetButton",{get:function(){return this.__showZoomResetButton},set:function(t){this.__showZoomResetButton!=t&&(this.__showZoomResetButton=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showZoomOutButton",{get:function(){return this.__showZoomOutButton},set:function(t){this.__showZoomOutButton!=t&&(this.__showZoomOutButton=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showZoomInButton",{get:function(){return this.__showZoomInButton},set:function(t){this.__showZoomInButton!=t&&(this.__showZoomInButton=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showButtons",{get:function(){return this.__showButtons},set:function(t){this.__showButtons!=t&&(this.__showButtons=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!==t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation,t.Orientation.Vertical)],r.prototype,"orientation",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"space",null),o([t.JsonConverterAttribute(t._MarginOptionConverter,!1)],r.prototype,"margin",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"showZoomResetButton",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"showZoomOutButton",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"showZoomInButton",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"showButtons",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign,t.HAlign.Right)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign,t.VAlign.Bottom)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),r}(e._Option),e._ZoomButtonOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__enableMouseWheel=null,o.__enableMouseDoubleClick=null,o.__zoomButtons=null,o.__zoomMode=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"zoomMode",{get:function(){return this.__zoomMode},set:function(t){this.__zoomMode!=t&&(this.__zoomMode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"zoomButtons",{get:function(){return this.__zoomButtons},set:function(t){this.__zoomButtons!=t&&(this.__zoomButtons=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"enableMouseDoubleClick",{get:function(){return null==this.__enableMouseDoubleClick||this.__enableMouseDoubleClick},set:function(t){null!=this.__enableMouseDoubleClick&&this.__enableMouseDoubleClick==t||(this.__enableMouseDoubleClick=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"enableMouseWheel",{get:function(){return null==this.__enableMouseWheel||this.__enableMouseWheel},set:function(t){null!=this.__enableMouseWheel&&this.__enableMouseWheel==t||(this.__enableMouseWheel=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"zoomMode",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_ZoomButtonOption")],i.prototype,"zoomButtons",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],i.prototype,"enableMouseDoubleClick",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],i.prototype,"enableMouseWheel",null),i}(e._Option),e._ZoomConfigOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__aggregate=null,o.__sort=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],i.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],i.prototype,"sort",null),i}(e._EncodingOption),e._BackgroundColorEncodingOption=i,e._isBackgroundColorEncodingOption=function(t){return t instanceof i}}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__field=null,o.__label=null,o.__sort=null,o.__excludeNulls=!1,o.__onlySortBeforeGrouping=!1,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"excludeNulls",{get:function(){return this.__excludeNulls},set:function(t){this.__excludeNulls!=t&&(this.__excludeNulls=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onlySortBeforeGrouping",{get:function(){return this.__onlySortBeforeGrouping},set:function(t){this.__onlySortBeforeGrouping!=t&&(this.__onlySortBeforeGrouping=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"field",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"label",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],i.prototype,"sort",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],i.prototype,"excludeNulls",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],i.prototype,"onlySortBeforeGrouping",null),i}(e._Option),e._CategoryEncodingOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__aggregate=null,o.__sort=null,o.__items=[],null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this.__items},set:function(t){this.__items!=t&&(this.__items=t,null==t&&(this.__items=[]))},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],i.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],i.prototype,"sort",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_LegendItemEncodingOption")],i.prototype,"items",null),i}(e._EncodingOption),e._ColorEncodingOption=i,e._isColorEncodingOption=function(t){return t instanceof i}}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__aggregate=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){null!=this.__aggregate&&this.__aggregate==t||(this.__aggregate=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],i.prototype,"aggregate",null),i}(e._EncodingOption),e._ContentEncodingOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__sort=null,o.__group=t.Group.Cluster,o.__excludeNulls=!1,o.__onlySortBeforeGrouping=!1,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"group",{get:function(){return this.__group},set:function(t){this.__group!=t&&(this.__group=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"excludeNulls",{get:function(){return this.__excludeNulls},set:function(t){this.__excludeNulls!=t&&(this.__excludeNulls=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"onlySortBeforeGrouping",{get:function(){return this.__onlySortBeforeGrouping},set:function(t){this.__onlySortBeforeGrouping!=t&&(this.__onlySortBeforeGrouping=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],i.prototype,"sort",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Group,t.Group.Cluster)],i.prototype,"group",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],i.prototype,"excludeNulls",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],i.prototype,"onlySortBeforeGrouping",null),i}(e._EncodingOption),e._DetailEncodingOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){null!=this.__type&&this.__type==t||(this.__type=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),i}(e._EncodingOption),e._LayoutEncodingOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__title=null,o.__ruleType=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"title",{get:function(){return this.__title},set:function(t){null!=this.__title&&this.__title==t||(this.__title=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ruleType",{get:function(){return this.__ruleType},set:function(t){null!=this.__ruleType&&this.__ruleType==t||(this.__ruleType=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"title",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"ruleType",null),i}(e._Option),e._LegendItemEncodingOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__aggregate=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],i.prototype,"aggregate",null),i}(e._EncodingOption),e._LightnessEncodingOption=i,e._isLightnessEncodingOption=function(t){return t instanceof i}}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__aggregate=null,o.__sort=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],i.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],i.prototype,"sort",null),i}(e._EncodingOption),e._ShapeEncodingOption=i,e._isShapeEncodingOption=function(t){return t instanceof i}}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__aggregate=null,o.__sort=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],i.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],i.prototype,"sort",null),i}(e._EncodingOption),e._SizeEncodingOption=i,e._isSizeEncodingOption=function(t){return t instanceof i}}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__order=t.OrderType.None,o.__aggregate=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"order",{get:function(){return this.__order},set:function(t){this.__order!=t&&(this.__order=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.OrderType,t.OrderType.None)],i.prototype,"order",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],i.prototype,"aggregate",null),i}(e._EncodingOption),e._SortEncodingOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return null},enumerable:!1,configurable:!0}),e}(t._Option);t._ValueEncodingOption=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__field=null,o.__label=null,o.__aggregate=null,o.__excludeNulls=!1,o.__sort=[],null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return"IFieldsValueEncodingOption"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"excludeNulls",{get:function(){return this.__excludeNulls},set:function(t){this.__excludeNulls!=t&&(this.__excludeNulls=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sort",{get:function(){return this.__sort},set:function(t){this.__sort!=t&&(this.__sort=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"field",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"label",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],i.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],i.prototype,"excludeNulls",null),o([t.JsonConverterAttribute(t._SortEncodingOptionsConverter,!0)],i.prototype,"sort",null),i}(e._ValueEncodingOption),e._FieldsValueEncodingOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__lower=null,o.__upper=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"lower",{get:function(){return this.__lower},set:function(t){null!=this.__lower&&this.__lower==t||(this.__lower=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"upper",{get:function(){return this.__upper},set:function(t){null!=this.__upper&&this.__upper==t||(this.__upper=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"lower",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"upper",null),i}(e._Option),e._RangeFieldOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var o=i.call(this,null,n)||this;return o.__field=null,o.__label=null,o.__aggregate=null,o.__excludeNulls=!1,null!=e&&t.OptionSerializer.deserialize(o,e),o}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return"IRangeFieldValueEncodingOption"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t,null==t||null!=t.upper&&null!=t.lower||(this.__field=null))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(null==t&&(t=new e._RangeFieldOption),this.__label=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){null!=this.__aggregate&&this.__aggregate==t||(this.__aggregate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"excludeNulls",{get:function(){return this.__excludeNulls},set:function(t){this.__excludeNulls!=t&&(this.__excludeNulls=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_RangeFieldOption")],r.prototype,"field",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_RangeFieldOption")],r.prototype,"label",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],r.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"excludeNulls",null),r}(e._ValueEncodingOption),e._RangeFieldValueEncodingOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,l){if(e==l)return!0;if(null==e||null==l)return!1;if(t.options._isPatternOption(e)&&t.options._isPatternOption(l)){var a=e,u=l;return r._patternOptionEqualityComparer._equalsWith(a,u)}if(t.options._isCssColorOption(e)&&t.options._isCssColorOption(l)){var s=e,_=l;return n._cssColorOptionEqualityComparer._equalsWith(s,_)}if(t.options._isLinearGradientOption(e)&&t.options._isLinearGradientOption(l)){var p=e,c=l;return i._linearGradientOptionEqualityComparer._equalsWith(p,c)}if(t.options._isRadialGradientOption(e)&&t.options._isRadialGradientOption(l)){var h=e,f=l;return o._radialGradientOptionEqualityComparer._equalsWith(h,f)}return!1},e._colorOptionEqualityComparer=new e,e._colorOptionArrayEqualityComparer=new t._ArrayEqualityComparer(e._colorOptionEqualityComparer),e}();t._ColorOptionEqualityComparer=e;var n=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.type===n.type&&t._StringEqualityComparer._stringEqualityComparer._equalsWith(e.color,n.color)},e._cssColorOptionEqualityComparer=new e,e}(),i=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.type===n.type&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.angle,n.angle)&&a._colorStopOptionArrayEqualityComparer._equalsWith(e.colorStops,n.colorStops)},e._linearGradientOptionEqualityComparer=new e,e}(),o=function(){function t(){}return t.prototype._equalsWith=function(t,e){return t==e||null!=t&&null!=e&&t.type===e.type&&t.extentKeyword==e.extentKeyword&&l._gradientPositionOptionArrayEqualityComparer._equalsWith(t.position,e.position)&&a._colorStopOptionArrayEqualityComparer._equalsWith(t.colorStops,e.colorStops)},t._radialGradientOptionEqualityComparer=new t,t}(),r=function(){function t(){}return t.prototype._equalsWith=function(t,n){return t==n||null!=t&&null!=n&&t.type===n.type&&e._colorOptionEqualityComparer._equalsWith(t.color,n.color)&&u._pathWithStyleOptionArrayEqualityComparer._equalsWith(t.pattern,n.pattern)},t._patternOptionEqualityComparer=new t,t}(),l=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.keyword===n.keyword&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.offset,n.offset)},e._gradientPositionOptionEqualityComparer=new e,e._gradientPositionOptionArrayEqualityComparer=new t._ArrayEqualityComparer(e._gradientPositionOptionEqualityComparer),e}(),a=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.stop,n.stop)&&t._StringEqualityComparer._stringEqualityComparer._equalsWith(e.color,n.color)},e._colorStopOptionEqualityComparer=new e,e._colorStopOptionArrayEqualityComparer=new t._ArrayEqualityComparer(e._colorStopOptionEqualityComparer),e}(),u=function(){function e(){}return e.prototype._equalsWith=function(t,e){return t==e||null!=t&&null!=e&&t.content===e.content&&t.style===e.style},e._pathWithStyleOptionEqualityComparer=new e,e._pathWithStyleOptionArrayEqualityComparer=new t._ArrayEqualityComparer(e._pathWithStyleOptionEqualityComparer),e}()}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&!!t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.left,n.left)&&(null!=e.left||e.groupHAlign===n.groupHAlign)&&!!t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.top,n.top)&&(null!=e.top||e.groupVAlign===n.groupVAlign)&&e.groupOrientation==n.groupOrientation&&t._PaddingOptionEqualityComparer._paddingOptionEqualityComparer._equalsWith(e.groupPadding,n.groupPadding)},e._legendsOptionEqualityComparer=new e,e}();t._LegendsOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&!!t._ValueOptionEqualityComparer._defaultEqualityComparer._equalsWith(e.left,n.left)&&!!t._ValueOptionEqualityComparer._defaultEqualityComparer._equalsWith(e.top,n.top)&&!!t._ValueOptionEqualityComparer._defaultEqualityComparer._equalsWith(e.right,n.right)&&!!t._ValueOptionEqualityComparer._defaultEqualityComparer._equalsWith(e.bottom,n.bottom)},e._paddingOptionEqualityComparer=new e,e}();t._PaddingOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.type===n.type&&t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer._equalsWith(e.data,n.data)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.color,n.color)},e._paletteItemOptionEqualityComparer=new e,e._paletteItemOptionArrayEqualityComparer=new t._ArrayEqualityComparer(e._paletteItemOptionEqualityComparer),e}();t._PaletteItemOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.left,n.left)&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.top,n.top)&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.right,n.right)&&t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.bottom,n.bottom)},e._strokeWidthOptionEqualityComparer=new e,e}();t._StrokeWidthOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.fill,n.fill)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.stroke,n.stroke)&&e.opacity==n.opacity&&e.strokeOpacity==n.strokeOpacity&&e.strokeDasharray==n.strokeDasharray&&t.options._StrokeWidthOptionExtension._equalsStrokeWidthOption(e.strokeWidth,n.strokeWidth)},e._styleDataPointStyleOptionEqualityComparer=new e,e}();t._StyleDataPointStyleOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.symbolFill,n.symbolFill)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.symbolStroke,n.symbolStroke)&&e.symbolSize===n.symbolSize&&e.symbolOpacity==n.symbolOpacity&&e.symbolStrokeOpacity==n.symbolStrokeOpacity&&e.symbolStrokeDasharray==n.symbolStrokeDasharray&&e.symbolStrokeWidth==n.symbolStrokeWidth},e._symbolDataPointStyleOptionEqualityComparer=new e,e}();t._SymbolDataPointStyleOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._equalsWith=function(t,e){return t==e||null!=t&&null!=e&&t.overline==e.overline&&t.lineThrough==e.lineThrough&&t.underline==e.underline},t._textDecorationOptionEqualityComparer=new t,t}();t._TextDecorationOptionEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){return e==n||null!=e&&null!=n&&e.type==n.type&&!!t._NumberEqualityComparer._numberEqualityComparer._equalsWith(e.value,n.value)},e._defaultEqualityComparer=new e,e}();t._ValueOptionEqualityComparer=e}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t._mergeDataPointStyleOption=function(t,e){null!=e&&null!=t&&(null!=e.strokeOpacity&&(t.strokeOpacity=e.strokeOpacity),null!=e.fill&&(t.fill=e.fill),null!=e.opacity&&(t.opacity=e.opacity),null!=e.backgroundColor&&(t.backgroundColor=e.backgroundColor),null!=e.stroke&&(t.stroke=e.stroke),null!=e.strokeWidth&&(t.strokeWidth=e.strokeWidth),null!=e.strokeDasharray&&(t.strokeDasharray=e.strokeDasharray),null!=e.symbolShape&&(t.symbolShape=e.symbolShape),null!=e.symbolOpacity&&(t.symbolOpacity=e.symbolOpacity),null!=e.symbolStrokeOpacity&&(t.symbolStrokeOpacity=e.symbolStrokeOpacity),null!=e.symbolFill&&(t.symbolFill=e.symbolFill),null!=e.symbolStroke&&(t.symbolStroke=e.symbolStroke),null!=e.symbolStrokeWidth&&(t.symbolStrokeWidth=e.symbolStrokeWidth),null!=e.symbolStrokeDasharray&&(t.symbolStrokeDasharray=e.symbolStrokeDasharray),null!=e.symbolSize&&(t.symbolSize=e.symbolSize),null!=e.borderRadius&&(t.borderRadius=e.borderRadius))},t._mergeSelectionStyleOption=function(t,e){null!=e&&null!=t&&(this._mergeDataPointStyleOption(t,e),t.adorners=e.adorners)},t}();t._DataPointStyleOptionExtension=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t._equalsStrokeWidthOption=function(t,e){return t==e||null!=t&&null!=e&&t.left==e.left&&t.top==e.top&&t.right==e.right&&t.bottom==e.bottom},t}();t._StrokeWidthOptionExtension=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e._parseString=function(e,n){var i=new t._BorderRadiusValueOption(null,null!=n.strictMode&&0!=n.strictMode),o=e.trim().split(" ",4),r="",l="",a="",u="";return null!=o&&(4==o.length?(r=o[0],l=o[1],a=o[2],u=o[3]):3==o.length?(r=o[0],l=u=o[1],a=o[2]):2==o.length?(r=a=o[0],l=u=o[1]):1==o.length&&(r=l=a=u=o[0]),i.topLeft=t._ValueOptionExtension._parseStringPixelPercentageValueOption(r,0,null,!0,!1),i.topRight=t._ValueOptionExtension._parseStringPixelPercentageValueOption(l,0,null,!0,!1),i.bottomLeft=t._ValueOptionExtension._parseStringPixelPercentageValueOption(u,0,null,!0,!1),i.bottomRight=t._ValueOptionExtension._parseStringPixelPercentageValueOption(a,0,null,!0,!1)),i},e._parseNumber=function(e,n){var i=new t._BorderRadiusValueOption(null,null!=n.strictMode&&0!=n.strictMode),o=t._ValueOptionExtension._parseNumberPixelPercentageValueOption(e,0,null,!0,!1);return i.topLeft=o,i.topRight=o,i.bottomLeft=o,i.bottomRight=o,i},e}();t._BorderRadiusOptionExtension=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.options||(t.options={}),n=function(){function n(){}return n._starValueOption=function(n){var i=new e._ValueOption(null);return i.type=t.ValueOptionType.Available,i.value=n,i},n._pixelValueOption=function(n){var i=new e._ValueOption(null);return i.type=t.ValueOptionType.Pixel,i.value=n,i},n._percentageValueOption=function(n){var i=new e._ValueOption(null);return i.type=t.ValueOptionType.Percentage,i.value=n,i},n._parseValueWithUnit=function(t,e){var n=(t=t.trim().toLowerCase()).match(/([+-]?\d+)(\.\d+)?([eE][+-]?\d+)?/);return null!=n&&t.slice(n[0].length)==e?parseFloat(n[0]):NaN},n._parseNumberPixelPercentageValueOption=function(t,e,n,i,o){if(!isNaN(t)){if(null!=e){if(t<e)return this._pixelValueOption(t);if(!i&&t==e)return this._pixelValueOption(t)}if(null!=n){if(t>n)return this._pixelValueOption(t);if(!o&&t==n)return this._pixelValueOption(t)}return this._percentageValueOption(t)}return null},n._parseStringPixelPercentageValueOption=function(t,e,n,i,o){var r=this._parseValueWithUnit(t,"px");if(!isNaN(r))return this._pixelValueOption(r);var l=this._parseValueWithUnit(t,"%");if(!isNaN(l))return this._percentageValueOption(l/100);var a=this._parseValueWithUnit(t,"");return isNaN(a)?null:this._parseNumberPixelPercentageValueOption(a,e,n,i,o)},n._parseStringPixelValueOption=function(t){var e=this._parseValueWithUnit(t,"px");return isNaN(e)?(e=this._parseValueWithUnit(t,""),isNaN(e)?null:this._pixelValueOption(e)):this._pixelValueOption(e)},n}(),e._ValueOptionExtension=n}(t||(t={})),function(t){!function(e){var n=function(){function n(){}return n.prototype._cloneOf=function(n){if(e._isPatternOption(n))return l._patternOptionCloneMarker._cloneOf(n);if(e._isCssColorOption(n))return i._cssColorOptionCloneMarker._cloneOf(n);if(e._isLinearGradientOption(n))return o._linearGradientOptionCloneMarker._cloneOf(n);if(e._isRadialGradientOption(n))return r._radialGradientOptionCloneMarker._cloneOf(n);throw new t.OptionError(t.ErrorCode.Unknown)},n._colorOptionCloneMarker=new n,n}();e._ColorOptionCloneMarker=n;var i=function(){function t(){}return t.prototype._cloneOf=function(t){var n=e._CssColorOption._buildColorOption(t.color);return n._setOption(t.option()),n},t._cssColorOptionCloneMarker=new t,t}(),o=function(){function t(){}return t.prototype._cloneOf=function(t){var n=new e._LinearGradientOption(null);n._setOption(t.option()),n.angle=t.angle;var i=null;if(null!=t.colorStops){i=[];for(var o=0,r=t.colorStops;o<r.length;o++){var l=r[o];i.push(null==l?null:u._colorStopOptionCloneMarker._cloneOf(l))}}return n.colorStops=i,n},t._linearGradientOptionCloneMarker=new t,t}(),r=function(){function t(){}return t.prototype._cloneOf=function(t){var n=new e._RadialGradientOption(null);n._setOption(t.option()),n.extentKeyword=t.extentKeyword;var i=null;if(null!=t.colorStops){i=[];for(var o=0,r=t.colorStops;o<r.length;o++){var l=r[o];i.push(null==l?null:u._colorStopOptionCloneMarker._cloneOf(l))}}n.colorStops=i;var s=null;if(null!=t.position){s=[];for(var _=0,p=t.position;_<p.length;_++)l=p[_],s.push(null==l?null:a._gradientPositionOptionCloneMarker._cloneOf(l))}return n.position=s,n},t._radialGradientOptionCloneMarker=new t,t}(),l=function(){function t(){}return t.prototype._cloneOf=function(t){var i=new e._PatternOption(null);i._setOption(t.option()),i.color=null==t.color?null:n._colorOptionCloneMarker._cloneOf(t.color);var o=null;if(null!=t.pattern){o=[];for(var r=0,l=t.pattern;r<l.length;r++){var a=l[r];o.push(null==a?null:s._pathWithStyleOptionCloneMarker._cloneOf(a))}}return i.pattern=o,i},t._patternOptionCloneMarker=new t,t}(),a=function(){function t(){}return t.prototype._cloneOf=function(t){var n=new e._GradientPositionOption(null);return n._setOption(t.option()),n.keyword=t.keyword,n.offset=t.offset,n},t._gradientPositionOptionCloneMarker=new t,t}(),u=function(){function t(){}return t.prototype._cloneOf=function(t){var n=new e._ColorStopOption(null);return n._setOption(t.option()),n.color=t.color,n.stop=t.stop,n},t._colorStopOptionCloneMarker=new t,t}(),s=function(){function t(){}return t.prototype._cloneOf=function(t){var n=e._PathWithStyleOption._buildEmptyPathWithStyleOption();return n._setOption(t.option()),n.style=null==t.style?null:e._StyleOptionCloneMaker._styleOptionCloneMaker._cloneOf(t.style),n.content=t.content,n},t._pathWithStyleOptionCloneMarker=new t,t}()}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__color=null,o.__stop=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"color",{get:function(){return this.__color},set:function(t){t=this.validate(t),null!=this.__color&&this.__color==t||(this.__color=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stop",{get:function(){return this.__stop},set:function(t){null==this.__stop&&this.__stop==t||(this.__stop=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringColorValidator,!0,!1,!0)],i.prototype,"color",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"stop",null),i}(e._Option),e._ColorStopOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__color=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),i._buildColorOption=function(t){if(null==t)return null;var e=new i;return e.color=t,e},Object.defineProperty(i.prototype,"type",{get:function(){return t.ColorOptionType.CssColor},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this.__color},set:function(t){t=this.validate(t),this.color!=t&&(this.__color=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringColorValidator,!0,!1)],i.prototype,"color",null),i}(e._Option),e._CssColorOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__keyword=t.GradientPositionKeyword.Center,o.__offset=0,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"keyword",{get:function(){return this.__keyword},set:function(t){this.__keyword!=t&&(this.__keyword=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!1,configurable:!0}),i.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.UnexpectedValue,this.option());e.prototype._setOption.call(this,n)},o([t.JsonConverterAttribute(t._EnumConverter,!0,t.GradientPositionKeyword,t.GradientPositionKeyword.Center)],i.prototype,"keyword",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"offset",null),i}(e._Option),e._GradientPositionOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__colorStops=[],o.__angle=180,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ColorOptionType.Linear},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"colorStops",{get:function(){return this.__colorStops},set:function(t){this.__colorStops!=t&&(this.__colorStops=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ColorStopOptionConverter,!0)],i.prototype,"colorStops",null),o([t.JsonConverterAttribute(t._LinearGradientAngleOptionConverter,!0,180)],i.prototype,"angle",null),i}(e._Option),e._LinearGradientOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__colorStops=[],o.__extentKeyword=t.GradientExtentKeyword.FarthestCorner,o.__position=[],null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ColorOptionType.Radial},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"extentKeyword",{get:function(){return this.__extentKeyword},set:function(t){this.__extentKeyword!=t&&(this.__extentKeyword=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"colorStops",{get:function(){return this.__colorStops},set:function(t){this.__colorStops!=t&&(this.__colorStops=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this.__position},set:function(t){t=this.validate(t),this.__position!=t&&(this.__position=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.GradientExtentKeyword,t.GradientExtentKeyword.FarthestCorner)],i.prototype,"extentKeyword",null),o([t.JsonConverterAttribute(t._ColorStopOptionConverter,!0)],i.prototype,"colorStops",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_GradientPositionOption"),t.ValidatorAttribute(t._GradientPositionsValidator,!0)],i.prototype,"position",null),i}(e._Option),e._RadialGradientOption=i}(t||(t={})),function(t){!function(t){t._isColorOption=function(t){var e=t;return null!=e&&void 0!==e.type&&"function"==typeof e.option}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isCssColorOption=function(e){var n=e;return n.type===t.ColorOptionType.CssColor&&null!=n.color}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isLinearGradientOption=function(e){var n=e;return n.type===t.ColorOptionType.Linear&&null!=n.angle&&null!=n.colorStops}}(t||(t={})),function(t){(t.options||(t.options={}))._isRadialGradientOption=function(e){var n=e;return n.type===t.ColorOptionType.Radial&&null!=n.extentKeyword&&null!=n.position&&null!=n.colorStops}}(t||(t={})),function(t){!function(t){t._isAnimationOption=function(t){var e=t;return null!=e&&void 0!==e.mode&&void 0!==e.duration&&void 0!==e.easing&&void 0!==e.startDelay&&void 0!==e.staggering&&"function"==typeof e.option}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isBorderRadiusOption=function(t){var e=t;return null!=e&&void 0!==e.horizontalRadius&&void 0!==e.verticalRadius&&"function"==typeof e.option}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isHighlightAnimationOption=function(e){var n=e;return null!=n&&t._isHoverAnimationOption(e)&&void 0!==n.stay}}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isHoverAnimationOption=function(e){var n=e;return null!=n&&t._isAnimationOption(e)&&void 0!==n.scale}}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isJsonOption=function(t){return void 0!==t.json}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isPlotAreaCustomOption=function(t){return null!=t&&void 0!==t.coordinateSystems}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isPlotAreaOption=function(t){var e=t;return null!=e&&void 0!==e.row&&void 0!==e.column&&void 0!==e.axes&&void 0!==e.legend&&void 0!==e.legends&&void 0!==e.borderStyle&&void 0!==e.backgroundColor&&void 0!==e.padding&&void 0!==e.style&&void 0!==e.textStyle&&void 0!==e.plugins&&void 0!==e.plotsMargin&&void 0!==e.innerMinSize}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isPlotConfigOption=function(t){var e=t;return null!=e&&void 0!==e.axisMode&&void 0!==e.symbols&&void 0!==e.swapAxes&&void 0!==e.clippingMode&&void 0!==e.showNulls&&void 0!==e.showNaNs&&void 0!==e.lineAspect&&void 0!==e.offset&&void 0!==e.innerRadius&&void 0!==e.sweep&&void 0!==e.startAngle&&void 0!==e.rules&&void 0!==e.style&&void 0!==e.altStyle&&void 0!==e.textStyle&&void 0!==e.hoverStyle&&void 0!==e.text&&void 0!==e.tooltip&&void 0!==e.trackers&&void 0!==e.loadAnimation&&void 0!==e.updateAnimation&&void 0!==e.hoverAnimation&&void 0!==e.overlays&&void 0!==e.textConfig&&void 0!==e.selectedStyle&&void 0!==e.unselectedStyle&&void 0!==e.selectedTextStyle&&void 0!==e.unselectedTextStyle&&void 0!==e.hAlign&&void 0!==e.vAlign&&void 0!==e.palette&&void 0!==e.shapes&&void 0!==e.seriesStyles&&void 0!==e.bar&&void 0!==e.gradientFillDirection&&void 0!==e.plugins&&void 0!==e.zoom}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isSeriesStyleOption=function(t){var e=t;return null!=e&&"function"==typeof e.option&&void 0!==e.valueField&&void 0!==e.key&&void 0!==e.symbols}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isStrokeWidthOption=function(t){var e=t;return null!=e&&void 0!==e.left&&void 0!==e.top&&void 0!==e.right&&void 0!==e.bottom&&"function"==typeof e.option}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__color=e._CssColorOption._buildColorOption("#ffffff"),r.__pattern=[e._PathWithStyleOption._buildEmptyPathWithStyleOption()],null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return t.ColorOptionType.Pattern},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.__color},set:function(n){if(null!=this.__color&&this.__color==n||(this.__color=null==n?e._CssColorOption._buildColorOption("#ffffff"):n),this.__color instanceof r)throw new t.OptionError(t.ErrorCode.UnexpectedValue,n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pattern",{get:function(){return this.__pattern},set:function(t){null==t||0==t.length?this.__pattern=[e._PathWithStyleOption._buildEmptyPathWithStyleOption()]:this.__pattern!=t&&(this.__pattern=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],r.prototype,"color",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_PathWithStyleOption")],r.prototype,"pattern",null),r}(e._Option),e._PatternOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__content="path:"+t._ExcelNamedPatternList.defaultExcelPattern.pattern["Dotted-5%"].join(" "),o.__style=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),i._buildEmptyPathWithStyleOption=function(){return new i},Object.defineProperty(i.prototype,"style",{get:function(){return this.__style},set:function(t){t=this.validate(t),this.__style!=t&&(this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){return this.__content},set:function(t){t=this.validate(t),this.__content!=t&&(this.__content=t)},enumerable:!1,configurable:!0}),i.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.UnexpectedValue,this.option());e.prototype._setOption.call(this,n)},o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption"),t.ValidatorAttribute(t._PathWithStyleOptionStyleValidator,!0)],i.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!1),t.ValidatorAttribute(t._PathWithStyleOptionContentValidator,!1)],i.prototype,"content",null),i}(e._Option),e._PathWithStyleOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isPatternOption=function(e){var n=e;return n.type===t.ColorOptionType.Pattern&&null!=n.color&&null!=n.pattern&&"function"==typeof n.option}}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__valueField=null,o.__key=null,o.__width=null,o.__cluster=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"valueField",{get:function(){return this.__valueField},set:function(t){this.__valueField!=t&&(this.__valueField=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"key",{get:function(){return this.__key},set:function(t){this.__key!=t&&(this.__key=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){null!=(t=this.validate(t))&&this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cluster",{get:function(){return this.__cluster},set:function(t){null!=t&&this.__cluster==t||(this.__cluster=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._DataValueTypeConverter,!0)],i.prototype,"key",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"cluster",null),i}(e._Option),e._BarGroupOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__topWidth=null,o.__width=null,o.__bottomWidth=null,o.__neckHeight=null,o.__barOverlap=null,o.__borderRadius=null,o.__funnelType=t.FunnelType.Default,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){null!=(t=this.validate(t))&&this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottomWidth",{get:function(){return this.__bottomWidth},set:function(t){null!=(t=this.validate(t))&&this.__bottomWidth!=t&&(this.__bottomWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"topWidth",{get:function(){return this.__topWidth},set:function(t){null!=(t=this.validate(t))&&this.__topWidth!=t&&(this.__topWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"neckHeight",{get:function(){return this.__neckHeight},set:function(t){null!=t&&this.__neckHeight!=t&&(this.__neckHeight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"overlap",{get:function(){return this.__barOverlap},set:function(t){null==(t=this.validate(t))&&this.__barOverlap==t||(this.__barOverlap=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"borderRadius",{get:function(){return this.__borderRadius},set:function(t){this.__borderRadius!=t&&(this.__borderRadius=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"funnelType",{get:function(){return this.__funnelType},set:function(t){this.__funnelType!=t&&(this.__funnelType=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"bottomWidth",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"topWidth",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,-1,1,!0)],i.prototype,"overlap",null),o([t.JsonConverterAttribute(t._BorderRadiusOptionConverter,!1)],i.prototype,"borderRadius",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.FunnelType,t.FunnelType.Default)],i.prototype,"funnelType",null),i}(e._Option),e._BarOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var o=i.call(this,null,n)||this;return o.__bottomWidth=null,o.__topWidth=null,o.__neckHeight=null,o.__width=null,o.__overlap=null,o.__groups=[],o.__connectorLines=!1,o.__connectorLineStyle=null,o.__waterfall=null,null!=e&&t.OptionSerializer.deserialize(o,e),o}return n(r,i),Object.defineProperty(r.prototype,"bottomWidth",{get:function(){return this.__bottomWidth},set:function(t){t=this.validate(t),this.__bottomWidth!=t&&(this.__bottomWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"topWidth",{get:function(){return this.__topWidth},set:function(t){t=this.validate(t),this.__topWidth!=t&&(this.__topWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"neckHeight",{get:function(){return this.__neckHeight},set:function(t){this.__neckHeight!=t&&(this.__neckHeight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"overlap",{get:function(){return this.__overlap},set:function(t){t=this.validate(t),this.__overlap!=t&&(this.__overlap=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groups",{get:function(){return this.__groups},set:function(t){this.__groups!=t&&(this.__groups=t,null==t&&(this.__groups=[]))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"connectorLines",{get:function(){return this.__connectorLines},set:function(t){this.__connectorLines!=t&&(this.__connectorLines=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"connectorLineStyle",{get:function(){return this.__connectorLineStyle},set:function(t){this.__connectorLineStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__connectorLineStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"waterfall",{get:function(){return this.__waterfall},set:function(t){this.__waterfall!=t&&(this.__waterfall=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"bottomWidth",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"topWidth",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,-1,1,!0)],r.prototype,"overlap",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_BarGroupOption")],r.prototype,"groups",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"connectorLines",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"connectorLineStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_WaterfallOption")],r.prototype,"waterfall",null),r}(e._Option),e._PlotBarOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._Option);t._WaterfallOption=e}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var o=i.call(this,null,n)||this;return o.__format=null,o.__categoryStyle=null,o.__symbolSpace=0,o.__seriesSpace=0,o.__categorySpace=0,o.__dimensionSpace=0,null!=e&&t.OptionSerializer.deserialize(o,e),o}return n(r,i),Object.defineProperty(r.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format!=t&&(this.__format=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"categoryStyle",{get:function(){return this.__categoryStyle},set:function(t){this.__categoryStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__categoryStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"symbolSpace",{get:function(){return this.__symbolSpace},set:function(t){t=this.validate(t),this.__symbolSpace!=t&&(this.__symbolSpace=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"seriesSpace",{get:function(){return this.__seriesSpace},set:function(t){t=this.validate(t),this.__seriesSpace!=t&&(this.__seriesSpace=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"categorySpace",{get:function(){return this.__categorySpace},set:function(t){t=this.validate(t),this.__categorySpace!=t&&(this.__categorySpace=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dimensionSpace",{get:function(){return this.__dimensionSpace},set:function(t){t=this.validate(t),this.__dimensionSpace!=t&&(this.__dimensionSpace=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"format",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"categoryStyle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"symbolSpace",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"seriesSpace",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"categorySpace",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"dimensionSpace",null),r}(e._Option),e._TextPlotConfigOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__padding=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],i.prototype,"padding",null),i}(e._TextStyleOption),e._LabelStyleOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__adorners=!1,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),i._buildEmptySelectionStyleOption=function(){return new i(null)},Object.defineProperty(i.prototype,"adorners",{get:function(){return this.__adorners},set:function(t){this.__adorners!=t&&(this.__adorners=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],i.prototype,"adorners",null),i}(e._DataPointStyleOption),e._SelectionStyleOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isSelectionStyleOption=function(t){var e=t;return null!=e&&"function"==typeof e.option&&void 0!==e.adorners}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__data=null,o.__shape=null,o.__type=t.SymbolItemType.Index,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"data",{get:function(){return this.__data},set:function(t){this.__data!=t&&(this.__data=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(this.__shape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._DataValueTypeConverter,!1)],i.prototype,"data",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SymbolItemType,t.SymbolItemType.Index)],i.prototype,"type",null),i}(e._Option),e._SymbolItemOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__name=null,o.__content=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"name",{get:function(){return this.__name},set:function(t){t=this.validate(t),this.__name!=t&&(this.__name=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){return this.__content},set:function(t){null!=this.__content&&this.__content==t||(this.__content=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],i.prototype,"name",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"content",null),i}(e._Option),e._SymbolShapeOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._SymbolShapeOption(null);return n._setOption(e.option()),n.name=e.name,n.content=e.content,n},e._symbolShapeOptionCloneMaker=new e,e}();t._SymbolShapeOptionCloneMaker=e}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__scope=null,r.__template=null,r.__format=new e._FormatOption(null),r.__style=new e._StyleOption(null),r.__textStyle=new e._TextStyleOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"scope",{get:function(){return this.__scope},set:function(t){this.__scope!=t&&(this.__scope=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"template",{get:function(){return this.__template},set:function(t){this.__template!=t&&(this.__template=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this.__format},set:function(t){this.__format!=t&&(this.__format=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"scope",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"template",null),o([t.JsonConverterAttribute(t._FormatOptionConverter,!0)],r.prototype,"format",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption",!1,!0)],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption",!1,!0)],r.prototype,"textStyle",null),r}(e._Option),e._TextAnnotationOption=i}(t||(t={})),function(t){var e=function(){function t(t,e,n){this._dvConfigOption=t._dvConfigOption,this._imageProvider=t._imageProvider,this._plotConfigOption=t._plotConfigOption,this._pluginCollection=t._pluginCollection,this._option=e,this._display=n}return t.prototype._getOption=function(){return this._option},t.prototype._buildOverlayView=function(t){return null},t.prototype.queryInterface=function(t){return"IOverlayDefinition"==t?this:null},t}();t._BaseOverlayDefinition=e}(t||(t={})),function(t){var e=function(){function t(){this.__proxies=[]}return t.prototype._filter=function(t){return!0},t.prototype._queryInterface=function(t,e){for(var n=0,i=this.__proxies;n<i.length;n++){var o=i[n].queryInterface(e);if(null!=o)return o}return t.queryInterface(e)},t.prototype._addProxy=function(t){this.__proxies.unshift(t)},t.prototype._clearAllProxy=function(){this.__proxies=[]},t}();t.AttachmentAgent=e}(t||(t={})),function(t){var e=function(){function t(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.__attachmentAgents=[],(t=this.__attachmentAgents).push.apply(t,e)}return t.prototype._queryAttachmentAgent=function(t,e){for(var n=0,i=this.__attachmentAgents;n<i.length;n++){var o=i[n];if(o._type()===t&&o._filter(e))return o}return null},t.prototype._attachmentAgents=function(){return this.__attachmentAgents},t}();t.AttachmentAgentManager=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._type=function(){return"donut"},e.prototype._filter=function(t){return!0},e.prototype._onAttached=function(t){},e}(t.AttachmentAgent);t._DonutAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__pointView=t,n}return n(i,e),i.prototype._pointView=function(){return this.__pointView},i.prototype.donutAttachmentInfo=function(t){return this._getDonutInfo(this._pointView())},i.prototype._onAttached=function(t){this._pointView()._overlayItemViews().push(t)},i.prototype._getDonutInfo=function(e){if(null!=e){var n=e._getCartesianSeriesView()._getCartesianGroupView(),i=new t.DonutAttachInfo,o=e._getDonutShape();if(null!=o)return i.startAngle=o.startAngle,i.radius=o.radius,i.sweep=o.sweepAngle,i.center=o.center.clone(),i.innerRadius=o.innerRadius,i.swapAxes=n._swapAxes(),i.xReversed=t.AnnotationLib._xReversed(n),i.yReversed=t.AnnotationLib._yReversed(n),i}return null},i}(t._DonutAttachmentAgent);t._CartesianRadialBarPointViewAttachmentAgent=e}(t||(t={})),function(t){var e=function(){};t.DonutAttachInfo=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._type=function(){return"line"},e.prototype._filter=function(t){return!0},e.prototype._onAttached=function(t){},e}(t.AttachmentAgent);t._LineAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__groupView=t,n}return n(i,e),i.prototype.lineAttachmentInfo=function(e){var n=this._queryInterface(e,"ILineCoordinateValues");if(null!=n){var i=void 0,o=void 0;if(i=n._start()._center()?new t.core.Point(this.__groupView._cx(),this.__groupView._cy()):this._getAbsPoint(n._start().x,n._start().y),o=n._end()._center()?new t.core.Point(this.__groupView._cx(),this.__groupView._cy()):this._getAbsPoint(n._end().x,n._end().y),null!=i&&null!=o){var r=new t.LineAttachInfo;return r.start=i,r.end=o,r}}return null},i.prototype._groupView=function(){return this.__groupView},i.prototype._getAbsPoint=function(e,n){var i=null,o=this._groupView()._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;if(o==t.AxisMode.Polygonal||o==t.AxisMode.Radial){var r=null,l=null,a=this._groupView()._verticalAxisView(),u=this._groupView()._horizontalAxisView();if(null==e&&(e=this._groupView()._swapAxes()?a._scaleModel._minimum:u._scaleModel._minimum),null==n&&(n=this._groupView()._swapAxes()?u._scaleModel._minimum:a._scaleModel._minimum),this._groupView()._swapAxes()){var s=this._getAbsPos(a,e);null!=s&&(r=s+Math.PI/2);var _=this._getAbsPos(u,n);null!=_&&(l=Math.PI/2+_)}else{var p=this._getAbsPos(a,n);null!=p&&(r=p+Math.PI/2),l=this._getAbsPos(u,e)}if(null!=r&&null!=l){var c=r-Math.PI/2;i=new t.core.Point(this._groupView()._cx()+l*Math.cos(c),this._groupView()._cy()+l*Math.sin(c))}}else{if(this._groupView()._swapAxes()){var h=e;e=n,n=h}a=this._groupView()._verticalAxisView(),u=this._groupView()._horizontalAxisView(),null==e&&(e=u._scaleModel._minimum),null==n&&(n=a._scaleModel._minimum);var f=this._getAbsPos(u,e),d=this._getAbsPos(a,n);null!=f&&null!=d&&(i=new t.core.Point(f,d))}return i},i.prototype._getAbsPos=function(e,n){if(t._isRadialAxisView(e)){var i=e;if(i._getDefinition()._orientation==t.Orientation.Horizontal)return i._scaleModel._value((null==n?0:n)+i._getRadiusOffset())}return e._scaleModel._value(n)},i}(t._LineAttachmentAgent);t._CartesianCoordinateLineAttachmentAgent=e}(t||(t={})),t||(t={}),function(t){var e=function(){};t.LineAttachInfo=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._type=function(){return"point"},e.prototype._filter=function(t){return!0},e.prototype._onAttached=function(t){},e}(t.AttachmentAgent);t._PointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__point=null!=t?t.clone():null,n}return n(i,e),i.prototype.pointAttachmentInfo=function(e){return null!=this.__point?new t.PointAttachInfo(this.__point,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical()):null},i}(t._PointAttachmentAgent);t._SimplePointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__groupView=t,n}return n(i,e),i.prototype._groupView=function(){return this.__groupView},i.prototype.pointAttachmentInfo=function(e){var n=this._queryInterface(e,"ICoordinateValues"),i=this._queryInterface(e,"IAnnotationPosition");if(null!=n&&null!=i){if(n._center()){var o=void 0,r=void 0,l=t.AnnotationLib._getXYDirection(this._groupView()),a=this._groupView()._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;if(a==t.AxisMode.Polygonal||a==t.AxisMode.Radial){var u=this._groupView()._verticalAxisView(),s=u._startAngle()+u._sweep/2;r=new t.Vector(Math.cos(s),Math.sin(s)),o=new t.Vector(Math.cos(s+Math.PI/2),Math.sin(s+Math.PI/2)),l.xDir=t.Vector.horizon(),l.yDir=new t.Vector(0,1)}else o=l.xDir,r=l.yDir;return new t.PointAttachInfo(new t.core.Point(this._groupView()._cx(),this._groupView()._cy()),o,r,l.xDir,l.yDir)}return this._getAbsPointAndRotateAngle(n.x,n.y,i.placement,i.position)}return null},i.prototype._getAbsPointAndRotateAngle=function(e,n,i,o){var r=new t.PointAttachInfo(null,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical()),l=this._groupView()._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;if(l==t.AxisMode.Polygonal||l==t.AxisMode.Radial){var a=null,u=null,s=this._groupView()._verticalAxisView(),_=this._groupView()._horizontalAxisView();if(this._groupView()._swapAxes()){a=this._getAbsPos(s,e);var p=this._getAbsPos(_,n);null!=p&&(u=Math.PI/2+p)}else a=this._getAbsPos(s,n),u=this._getAbsPos(_,e);var c=t.AnnotationLib._getXYDirection(this._groupView(),a);r.xOffsetDir=c.xDir,r.yOffsetDir=c.yDir,null!=a&&null!=u&&(r.yDir=new t.Vector(Math.cos(a),Math.sin(a)),r.xDir=new t.Vector(Math.cos(a+Math.PI/2),Math.sin(a+Math.PI/2)),r.point=new t.core.Point(this._groupView()._cx()+u*Math.cos(a),this._groupView()._cy()+u*Math.sin(a)))}else{if(this._groupView()._swapAxes()){var h=e;e=n,n=h}c=t.AnnotationLib._getXYDirection(this._groupView()),r.xOffsetDir=c.xDir,r.xDir=c.xDir,r.yOffsetDir=c.yDir,r.yDir=c.yDir,s=this._groupView()._verticalAxisView(),_=this._groupView()._horizontalAxisView();var f=this._getAbsPos(_,e),d=this._getAbsPos(s,n);if(o!==t.AnnotationPosition.Center)switch(i){case t.Placement.Auto:r.yDir=n<0?c.yDir.reverse():r.yDir;break;case t.Placement.Top:r.yDir=t.Vector.vertical(),r.xDir=t.Vector.horizon();break;case t.Placement.Left:r.yDir=new t.Vector(-1,0),r.xDir=t.Vector.vertical();break;case t.Placement.Right:r.yDir=t.Vector.horizon(),r.xDir=new t.Vector(0,1);break;case t.Placement.Bottom:r.yDir=new t.Vector(0,1),r.xDir=new t.Vector(-1,0)}else r.yDir=n<0?c.yDir.reverse():r.yDir;r.yDir.cross(r.xDir)<0&&(r.xDir=r.xDir.reverse()),null!=f&&null!=d&&(r.point=new t.core.Point(f,d))}return r},i.prototype._getAbsPos=function(e,n){if(t._isRadialAxisView(e)){var i=e;if(i._getDefinition()._orientation==t.Orientation.Horizontal)return i._scaleModel._value(n+i._getRadiusOffset())}return e._scaleModel._value(n)},i}(t._PointAttachmentAgent);t._CartesianPlotCoordinatePointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__pointView=t,n}return n(i,e),i.prototype._pointView=function(){return this.__pointView},i.prototype._filter=function(e){var n=this._pointView()._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;return n==t.AxisMode.Polygonal||n==t.AxisMode.Radial},i.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return null!=e?this._getPointInfo(this._pointView(),e.position):null},i.prototype._onAttached=function(t){this._pointView()._overlayItemViews().push(t)},i.prototype._getPointInfo=function(e,n){var i=new t.PointAttachInfo(null,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical()),o=e._boundRectangle();if(null==o)return null;var r=e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView(),l=r._getDefinition()._plotConfigOption.axisMode;if(l==t.AxisMode.Polygonal||l==t.AxisMode.Radial){var a=r._getCenter(),u=o.center,s=void 0,_=void 0;if(u.equalsWith(a)){var p=e._getCartesianSeriesView()._getCartesianGroupView()._verticalAxisView(),c=p._startAngle()+p._sweep/2;_=new t.Vector(Math.cos(c+Math.PI/2),Math.sin(c+Math.PI/2)),s=new t.Vector(Math.cos(c),Math.sin(c))}else s=new t.Vector(u.x-a.x,u.y-a.y),_=t.Vector.getPerp(s,!1);switch(n){case t.AnnotationPosition.Center:i.point=u.clone();break;case t.AnnotationPosition.Outside:i.point=t.Vector.endPoint(u,s,o.height/2);break;case t.AnnotationPosition.Inside:i.point=t.Vector.endPoint(u,s,-o.height/2)}i.xDir=_,i.yDir=s;var h=t.Vector.angle(s,t.Vector.horizon()),f=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView(),h);i.xOffsetDir=f.xDir,i.yOffsetDir=f.yDir}return i},i}(t._PointAttachmentAgent);t._CartesianRadialSymbolPointViewPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__pointView=t,n}return n(i,e),i.prototype._pointView=function(){return this.__pointView},i.prototype._isAuto=function(e){return null!=e&&e.placement===t.Placement.Auto},i.prototype._filter=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return this._isAuto(e)},i.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return this._isAuto(e)?this._getPointAttachInfo(this._pointView(),e.position):null},i.prototype._onAttached=function(t){this._pointView()._overlayItemViews().push(t)},i.prototype._getPointAttachInfo=function(e,n){var i=new t.PointAttachInfo(null,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical()),o=e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;if(o!=t.AxisMode.Polygonal&&o!=t.AxisMode.Radial){var r=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView());i.xOffsetDir=r.xDir,i.xDir=r.xDir,i.yOffsetDir=r.yDir,i.yDir=r.yDir,e._isPositive()||(i.yDir=r.yDir.reverse()),i.yDir.cross(i.xDir)<0&&(i.xDir=i.xDir.reverse());var l=e._boundRectangle();return null==l?null:(i.point=l.center.clone(),e._isVisible()&&n!==t.AnnotationPosition.Center?(0==i.yDir.y?i.yDir.x>0?n===t.AnnotationPosition.Inside?i.point.x=l.left:i.point.x=l.right:n===t.AnnotationPosition.Inside?i.point.x=l.right:i.point.x=l.left:i.yDir.y>0?n===t.AnnotationPosition.Inside?i.point.y=l.top:i.point.y=l.bottom:n===t.AnnotationPosition.Inside?i.point.y=l.bottom:i.point.y=l.top,i):i)}return null},i}(t._PointAttachmentAgent);t._CartesianSymbolPointViewAutoPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(t,e,n,i,o){this.point=t,this.xDir=e,this.yDir=n,this.xOffsetDir=i,this.yOffsetDir=o};t.PointAttachInfo=e}(t||(t={})),function(t){var e=function(){function t(t,e){if(this.__attachmentAgentManager=t,null!=e)for(var n=0,i=this.__attachmentAgentManager._attachmentAgents();n<i.length;n++){var o=i[n];null!=o&&o._addProxy(e)}}return t.prototype._queryAttachmentAgent=function(t,e){return null!=this.__attachmentAgentManager?this.__attachmentAgentManager._queryAttachmentAgent(t,e):null},t}();t.ProxyAttachmentAgentManager=e}(t||(t={})),function(t){var e=function(){this.leftTop=null,this.rightTop=null,this.rightBottom=null,this.leftBottom=null};t._RotateRectangle=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._RotateRectangle);t._RectangleAttachInfo=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._type=function(){return"rectangle"},e.prototype._filter=function(t){return!0},e.prototype._onAttached=function(t){},e}(t.AttachmentAgent);t._RectAttachmentAgent=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.__pointView=e,n}return n(e,t),e.prototype._pointView=function(){return this.__pointView},e.prototype.rectAttachmentInfo=function(t){return null},e.prototype._onAttached=function(t){this._pointView()._overlayItemViews().push(t)},e}(t._RectAttachmentAgent);t._CartesianPointViewRectangleAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.rectAttachmentInfo=function(t){return this._getRectAttachInfoFromPoint(this._pointView())},i.prototype._getRectAttachInfoFromPoint=function(e){var n=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView()),i=n.xDir,o=n.yDir,r=e._boundRectangle();if(null==r)return null;r.width<=0&&(r.width=1e-5),r.height<=0&&(r.height=1e-5);var l=t.AnnotationLib._getRotateRectangleFromRectAndDir(i,o,r);return n=t.AnnotationLib._PointAutoDirectionBuilder(e),l.AutoXDir=n.xDir,l.AutoYDir=n.yDir,l},i.prototype._isAuto=function(e){return null!=e&&e.placement===t.Placement.Auto},i.prototype._filter=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return!this._isAuto(e)},i}(t._CartesianPointViewRectangleAttachmentAgent);t._CartesianSymbolPointViewRectangleAttachmentAgent=e}(t||(t={})),function(t){t._isInnerAndOutterRotateRectLayouter=function(t){return null!=t&&"function"==typeof t.layoutWithInnerAndOutterRotateRect}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i,o=e.call(this)||this;return o.__overlayItemViews=[],o.__pointView=t,(i=o.__overlayItemViews).push.apply(i,n),o}return n(i,e),i.prototype._type=function(){return"rectangle"},i.prototype._outter=function(){var e=this._inner();if(0==this.__overlayItemViews.length)return e;var n=-e.angle,i=new t.Matrix;i.rotate(n);for(var o=[e.leftTop.x,e.rightTop.x,e.leftBottom.x,e.rightBottom.x],r=[e.leftTop.y,e.rightTop.y,e.leftBottom.y,e.rightBottom.y],l=0,a=this.__overlayItemViews;l<a.length;l++){var u=a[l].queryInterface("IVertexes");null!=u&&(o.push.apply(o,u._xs()),r.push.apply(r,u._ys()))}var s=t._MatrixUtility._transformCurve(i,o,r);o=s._xs,r=s._ys;var _=Math.min.apply(Math,o),p=Math.min.apply(Math,r),c=Math.max.apply(Math,o)-_,h=Math.max.apply(Math,r)-p,f=new t.core.Point(_+c/2,p+h/2);return i.reset(),i.rotate(-n),f=t._MatrixUtility._transformPoint(i,f),new t._RectangleShape(f.x,f.y,c,h,e.angle)},i.prototype._inner=function(){var e=this.__pointView._rectangle().clone();return 0==e.width&&(e.width=1e-4),0==e.height&&(e.height=1e-4),t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(e)},i.prototype.rectAttachmentInfo=function(e){if(null!=e){var n=this._queryInterface(e,"IInnerAndOutterRotateRectLayouter");if(null!=n){var i=n.layoutWithInnerAndOutterRotateRect(this._inner(),this._outter()),o=new t._RectangleAttachInfo;return o.leftTop=i.leftTop,o.leftBottom=i.leftBottom,o.rightTop=i.rightTop,o.rightBottom=i.rightBottom,o}}return null},i.prototype._onAttached=function(t){this.__pointView._overlayItemViews().push(t)},i}(t._RectAttachmentAgent);t._TextPointViewRectangleOverlayItemViewAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this,t)||this;return n.__isItems=!1,n}return n(i,e),i.prototype._splitPath=function(e){return null==e?[]:t._EscapedCharacterStringUtility.slicePathArray(e)},i.prototype._convert=function(t){return t},i.prototype._getValueFromUnsupportedPath=function(e,n){return t._NativeExtension.Undefined},i.prototype._getValueFromPath=function(n,i){var o;if(o=this.__isItems?this._getValuesInItems(n,i):e.prototype._getValueFromPath.call(this,n,i),"items"===i&&t._isQueryInterface(n)){var r=n;this.__isItems=null!=r.queryInterface("IPointModel")||null!=r.queryInterface("IPlotModel")}else this.__isItems=!1;return o},i.prototype._getValuesInItems=function(e,n){var i=this._parseIndex(n);if(null==i){for(var o=[],r=0,l=e;r<l.length;r++){var a=l[r],u=t._NativeExtension.getPropertyValue(a,n);null!=u&&o.push(u)}return o}return e[i]},i.prototype._parseIndex=function(e){if(null!=e){var n=Number(e);if(!isNaN(n)&&n>=0&&t._Utility._isInteger(n))return n}return null},i}(t._BaseBinding);t._ExcelExpressionBinding=e}(t||(t={})),function(t){var e=function(){function t(t){this.__expression=t}return t._from=function(e){return null==e?null:this._isExcelExpression(e)?new t(e.substring(1)):null},t._isExcelExpression=function(t){return null!=t&&/^\s*=\s*.+$/.test(t)},Object.defineProperty(t.prototype,"syntaxExpression",{get:function(){return this.__expression},enumerable:!1,configurable:!0}),t}();t._OverlayExpression=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){void 0===e&&(e=NaN),void 0===n&&(n=NaN),this.__center=t,this.__x=e,this.__y=n}return Object.defineProperty(t.prototype,"x",{get:function(){return this.__x},set:function(t){isNaN(t)||(this.__x=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.__y},set:function(t){isNaN(t)||(this.__y=t)},enumerable:!1,configurable:!0}),t.prototype._center=function(){return this.__center},t.prototype._toString=function(){return this.__center?"center":this.__x.toString()+","+this.__y.toString()},t.prototype._clone=function(){return this.__center?new t(!0):new t(!1,this.__x,this.__y)},t.prototype.queryInterface=function(t){return"ICoordinateValues"==t?this:null},t}();t._CoordinateValue=e}(t||(t={})),function(t){var e=function(){function e(t){this.__expression=t}return e.prototype._build=function(){if(null!=this.__expression){var e=this.__expression._expression,n=/^(center)$|^((?:-|\+)?\d+(?:\.\d+)?),((?:-|\+)?\d+(?:\.\d+)?)$/.exec(e);if(null!=n){if(null!=n[1])return new t._CoordinateValue(!0);var i=parseFloat(n[2]),o=parseFloat(n[3]);return new t._CoordinateValue(!1,i,o)}}return null},e}();t._CoordinateValueBuilder=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._equalsWith=function(t,e){return null==t&&null==e||null!=t&&null!=e&&(t._center()&&e._center()||t.x===e.x&&t.y===e.y)},t._coordinateValueEqualityComparer=new t,t}();t._CoordinateValueEqualityComparer=e}(t||(t={})),function(t){var e=function(t){this._expression=t};t._CoordinateValueExpression=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(e){if(null==e)return null;var n=e.replace(/(\s*)/g,"");return/^(?:center)$|^(?:-|\+)?\d+(?:\.\d+)?,(?:-|\+)?\d+(?:\.\d+)?$/.test(n)?new t._CoordinateValueExpression(n):null},e._defaultBuilder=new e,e}();t._CoordinateValueExpressionBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){this._condition=t};t._DataPointPointPathConditionalExpression=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._build=function(e){if(null==e)return null;var n=[],i=e.replace(/\[\s*(?:('.*?')|\?\s*(\(.*?\)))\s*\]/g,(function(t,e,i){return null!=e&&""!==e?"[#"+(n.push(e)-1)+"]":"[#"+(n.push("?"+i)-1)+"]"}));if(i=i.replace(/(\s*)/g,""),/^\$(\[.*?\])?$/.test(i)){for(var o=[],r=/\[(.*?)\]/g,l=1,a=void 0;null!=(a=r.exec(i));){if(a.index!==l)return null;var u=a[1];if(u=u.replace(/#([0-9]+)/g,(function(t,e){return n[parseFloat(e)]})),this._isIndexOperation(u))null!=(c=/^((?:-|\+)?\d+)$/.exec(u))&&null!=c[1]&&""!==c[1]&&o.push(new t._DataPointPointPathIndexExpression(parseFloat(c[1])));else if(this._isSliceOperation(u)){if(null!=(c=/^((?:-|\+)?\d+)(?:\:((?:-|\+)?\d+)*)?(?:\:((?:-|\+)?\d+)*)?$/.exec(u))){var s=null,_=null,p=null;null!=c[1]&&""!==c[1]&&(s=parseFloat(c[1])),null!=c[2]&&""!==c[2]&&(_=parseFloat(c[2])),null!=c[3]&&""!==c[3]&&(p=parseFloat(c[3])),o.push(new t._DataPointPointPathSliceExpression(s,_,p))}}else{if(!this._isConditionalOperation(u))return null;var c;if(null!=(c=/^\?\((.*)\)$/.exec(u))){var h=c[1];null!=h&&""!==h&&o.push(new t._DataPointPointPathConditionalExpression(h))}}l+=a[0].length}return l!==i.length?null:o}return null},e.prototype._isIndexOperation=function(t){return null!=t&&""!==t&&/^(?:-|\+)?\d+$/.test(t)},e.prototype._isSliceOperation=function(t){return null!=t&&""!==t&&/^(?:-|\+)?\d+(?:\:(?:(?:-|\+)?\d+)*){0,2}$/.test(t)},e.prototype._isConditionalOperation=function(t){return null!=t&&""!==t&&/^\?\(.*\)$/.test(t)},e._defaultBuilder=new e,e}();t._DataPointPointPathExpressionBuilder=e}(t||(t={})),function(t){var e=function(t){this._index=t};t._DataPointPointPathIndexExpression=e}(t||(t={})),function(t){var e=function(t,e,n){this._start=t,this._end=e,this._step=n};t._DataPointPointPathSliceExpression=e}(t||(t={})),function(t){var e=function(){};t.ConditionalFilter=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this)||this;return i.__pointPathExpression=new t._PointPathExpression(n),i}return n(i,e),i.prototype._filter=function(e){var n=this;return e.filter((function(e){if(t._isPointPathExpressionAdapter(e)){var i=n.__pointPathExpression._evaluate(e);return!!t._Util.toBoolean(i)}return!1}))},i}(t.ConditionalFilter);t.PointViewConditionalFilter=e}(t||(t={})),function(t){t._isDataPointPointPathConditionalExpression=function(t){return null!=t&&void 0!==t._condition}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isDataPointPointPathIndexExpression=function(t){return null!=t&&void 0!==t._index}}(t||(t={})),function(t){t._isDataPointPointPathSliceExpression=function(t){var e=t;return null!=e&&void 0!==e._start&&void 0!==e._end&&void 0!==e._step}}(t||(t={})),function(t){var e=function(){function e(t){this.__expression=t}return e.prototype._build=function(t){for(var e=t,n=0,i=this._createFilters(this.__expression);n<i.length;n++){var o=i[n];if(null==e)break;e=o._filter(e)}return e},e.prototype._createFilters=function(e){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];if(t._isDataPointPointPathIndexExpression(r)){var l=r;n.push(this._getIndexFilter(l._index))}else if(t._isDataPointPointPathSliceExpression(r)){var a=r;n.push(this._getSliceFilter(a._start,a._end,a._step))}else if(t._isDataPointPointPathConditionalExpression(r)){var u=r;n.push(this._getConditionalFilter(u._condition))}}return n},e}();t.PointPathBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._getIndexFilter=function(e){return new t._IndexFilter(e)},i.prototype._getSliceFilter=function(e,n,i){return new t._SliceFilter(e,n,i)},i.prototype._getConditionalFilter=function(e){return new t.PointViewConditionalFilter(e)},i}(t.PointPathBuilder);t.PointViewPointPathBuilder=e}(t||(t={})),t||(t={}),function(t){t._isPointPathExpressionAdapter=function(t){return null!=t&&"function"==typeof t._getPointPathPropertyValue}}(t||(t={})),function(t){!function(t){t[t.Unknow=0]="Unknow",t[t.EOF=1]="EOF",t[t.True=2]="True",t[t.False=3]="False",t[t.Null=4]="Null",t[t.NumberLiteral=5]="NumberLiteral",t[t.StringLiteral=6]="StringLiteral",t[t.Identifier=7]="Identifier",t[t.At=8]="At",t[t.OpenParen=9]="OpenParen",t[t.CloseParen=10]="CloseParen",t[t.OpenBracket=11]="OpenBracket",t[t.CloseBracket=12]="CloseBracket",t[t.Dot=13]="Dot",t[t.LessThan=14]="LessThan",t[t.GreaterThan=15]="GreaterThan",t[t.LessThanEqual=16]="LessThanEqual",t[t.GreaterThanEqual=17]="GreaterThanEqual",t[t.EqualsEqual=18]="EqualsEqual",t[t.ExclamationEqual=19]="ExclamationEqual",t[t.Plus=20]="Plus",t[t.Minus=21]="Minus",t[t.Asterisk=22]="Asterisk",t[t.Slash=23]="Slash",t[t.Percent=24]="Percent",t[t.Exclamation=25]="Exclamation",t[t.AmpersandAmpersand=26]="AmpersandAmpersand",t[t.BarBar=27]="BarBar",t[t.Question=28]="Question",t[t.Colon=29]="Colon"}(t._TokenKind||(t._TokenKind={}))}(t||(t={})),function(t){var e=function(){function t(){}return t.nullCharacter=0,t.maxAsciiCharacter=127,t.lineFeed=10,t.carriageReturn=13,t.lineSeparator=8232,t.paragraphSeparator=8233,t.nextLine=133,t.space=32,t.nonBreakingSpace=160,t.enQuad=8192,t.emQuad=8193,t.enSpace=8194,t.emSpace=8195,t.threePerEmSpace=8196,t.fourPerEmSpace=8197,t.sixPerEmSpace=8198,t.figureSpace=8199,t.punctuationSpace=8200,t.thinSpace=8201,t.hairSpace=8202,t.zeroWidthSpace=8203,t.narrowNoBreakSpace=8239,t.ideographicSpace=12288,t.mathematicalSpace=8287,t.ogham=5760,t._=95,t.dollar=36,t._0=48,t._1=49,t._2=50,t._3=51,t._4=52,t._5=53,t._6=54,t._7=55,t._8=56,t._9=57,t.a=97,t.b=98,t.c=99,t.d=100,t.e=101,t.f=102,t.g=103,t.h=104,t.i=105,t.j=106,t.k=107,t.l=108,t.m=109,t.n=110,t.o=111,t.p=112,t.q=113,t.r=114,t.s=115,t.t=116,t.u=117,t.v=118,t.w=119,t.x=120,t.y=121,t.z=122,t.A=65,t.B=66,t.C=67,t.D=68,t.E=69,t.F=70,t.G=71,t.H=72,t.I=73,t.J=74,t.K=75,t.L=76,t.M=77,t.N=78,t.O=79,t.P=80,t.Q=81,t.R=82,t.S=83,t.T=84,t.U=85,t.V=86,t.W=87,t.X=88,t.Y=89,t.Z=90,t.ampersand=38,t.asterisk=42,t.at=64,t.backslash=92,t.backtick=96,t.bar=124,t.caret=94,t.closeBrace=125,t.closeBracket=93,t.closeParen=41,t.colon=58,t.comma=44,t.dot=46,t.doubleQuote=34,t.equals=61,t.exclamation=33,t.greaterThan=62,t.hash=35,t.lessThan=60,t.minus=45,t.openBrace=123,t.openBracket=91,t.openParen=40,t.percent=37,t.plus=43,t.question=63,t.semicolon=59,t.singleQuote=39,t.slash=47,t.tilde=126,t.backspace=8,t.formFeed=12,t.byteOrderMark=65279,t.tab=9,t.verticalTab=11,t}();t._CharacterCodes=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__text=t,this.__end=t.length,this.__pos=0,this.__token=null}return e.prototype._token=function(){return this.__token},e.prototype._nextToken=function(){this.__token=this._scan()},e.prototype._movePosition=function(t){this.__pos+=t},e.prototype._isAvaiable=function(){return 0<=this.__pos&&this.__pos<this.__end},e.prototype._scan=function(){for(;this._isAvaiable();){var e=this._codePointAt(this.__pos);switch(e){case t._CharacterCodes.doubleQuote:case t._CharacterCodes.singleQuote:return this._scanString();case t._CharacterCodes._0:case t._CharacterCodes._1:case t._CharacterCodes._2:case t._CharacterCodes._3:case t._CharacterCodes._4:case t._CharacterCodes._5:case t._CharacterCodes._6:case t._CharacterCodes._7:case t._CharacterCodes._8:case t._CharacterCodes._9:return this._scanNumber();case t._CharacterCodes.dot:return this._movePosition(1),t._Token.Dot;case t._CharacterCodes.at:return this._movePosition(1),t._Token.At;case t._CharacterCodes.openParen:return this._movePosition(1),t._Token.OpenParen;case t._CharacterCodes.closeParen:return this._movePosition(1),t._Token.CloseParen;case t._CharacterCodes.openBracket:return this._movePosition(1),t._Token.OpenBracket;case t._CharacterCodes.closeBracket:return this._movePosition(1),t._Token.CloseBracket;case t._CharacterCodes.plus:return this._movePosition(1),t._Token.Plus;case t._CharacterCodes.minus:return this._movePosition(1),t._Token.Minus;case t._CharacterCodes.asterisk:return this._movePosition(1),t._Token.Asterisk;case t._CharacterCodes.slash:return this._movePosition(1),t._Token.Slash;case t._CharacterCodes.exclamation:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.equals?(this._movePosition(2),t._Token.ExclamationEqual):(this._movePosition(1),t._Token.Exclamation);case t._CharacterCodes.equals:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.equals?(this._movePosition(2),t._Token.EqualEqual):(this._movePosition(1),new t._Token(t._TokenKind.Unknow,"="));case t._CharacterCodes.greaterThan:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.equals?(this._movePosition(2),t._Token.GreaterThanEqual):(this._movePosition(1),t._Token.GreaterThan);case t._CharacterCodes.lessThan:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.equals?(this._movePosition(2),t._Token.LessThanEqual):(this._movePosition(1),t._Token.LessThan);case t._CharacterCodes.ampersand:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.ampersand?(this._movePosition(2),t._Token.AmpersandAmpersand):(this._movePosition(1),new t._Token(t._TokenKind.Unknow,"&"));case t._CharacterCodes.bar:return this._charCodeAt(this.__pos+1)===t._CharacterCodes.bar?(this._movePosition(2),t._Token.BarBar):(this._movePosition(1),new t._Token(t._TokenKind.Unknow,"|"));case t._CharacterCodes.question:return this._movePosition(1),t._Token.Question;case t._CharacterCodes.colon:return this._movePosition(1),t._Token.Colon;case t._CharacterCodes.backslash:var n=this._peekUnicodeEscape();if(n>=0&&this._isIdentifierStart(n)){var i=this.__pos;this._movePosition(6),this._scanIdentifierParts();var o=this.__text.substring(i,this.__pos);return this._createIdentifierToken(o)}return this._movePosition(1),new t._Token(t._TokenKind.Unknow,"\\");default:var r=this._scanIdentifier(e);if(null!=r)return r;if(this._isWhiteSpace(e)){this._movePosition(1);continue}var l=this._charSize(e);return this._movePosition(l),new t._Token(t._TokenKind.Unknow,String.fromCodePoint(e))}}return t._Token.EOF},e.prototype._scanIdentifier=function(t){if(this._isIdentifierStart(t)){var e=this.__pos;this._movePosition(this._charSize(t)),this._scanIdentifierParts();var n=this.__text.substring(e,this.__pos);return this._createIdentifierToken(n)}return null},e.prototype._scanIdentifierParts=function(){for(var e="",n=this.__pos;this._isAvaiable();){var i=this._codePointAt(this.__pos);if(this._isIdentifierPart(i))this._movePosition(this._charSize(i));else{if(i!==t._CharacterCodes.backslash)break;if(!(0<=(i=this._peekUnicodeEscape())&&this._isIdentifierPart(i)))break;this._movePosition(6),e+=this.__text.substring(n,this.__pos),n=this.__pos}}return e+this.__text.substring(n,this.__pos)},e.prototype._createIdentifierToken=function(e){return"true"==e?t._Token.True:"false"==e?t._Token.False:"null"==e?t._Token.Null:new t._Token(t._TokenKind.Identifier,e)},e.prototype._scanNumber=function(){var e=this.__pos;return this._scanNumberFragment(),this._charCodeAt(this.__pos)===t._CharacterCodes.dot&&(this._movePosition(1),this._scanNumberFragment()),this._charCodeAt(this.__pos)!==t._CharacterCodes.E&&this._charCodeAt(this.__pos)!==t._CharacterCodes.e||(this._movePosition(1),this._charCodeAt(this.__pos)!==t._CharacterCodes.plus&&this._charCodeAt(this.__pos)!==t._CharacterCodes.minus||this._movePosition(1),this._scanNumberFragment()),new t._Token(t._TokenKind.NumberLiteral,this.__text.substring(e,this.__pos))},e.prototype._scanNumberFragment=function(){for(var t=this.__pos;;){var e=this._charCodeAt(this.__pos);if(!this._isDigit(e))break;this._movePosition(1)}return this.__text.substring(t,this.__pos)},e.prototype._scanString=function(){var e=null,n=this._charCodeAt(this.__pos);this._movePosition(1);for(var i=this.__pos;this._isAvaiable();){var o=this._charCodeAt(this.__pos);if(o===n){e=this.__text.substring(i,this.__pos),this._movePosition(1);break}if(o===t._CharacterCodes.backslash){var r=this._charCodeAt(this.__pos+1);if(r==t._CharacterCodes.backslash||r==n){this._movePosition(2);continue}}this._movePosition(1)}return null==e?new t._Token(t._TokenKind.Unknow,"unterminated string literal"):new t._Token(t._TokenKind.StringLiteral,e)},e.prototype._peekUnicodeEscape=function(){if(this.__pos+5<this.__end&&this._charCodeAt(this.__pos+1)===t._CharacterCodes.u){var e=this.__pos;this._movePosition(2);var n=this._scanHexDigits(4,!1),i=null!=n&&""!=n?parseInt(n,16):-1;return this.__pos=e,i}return-1},e.prototype._scanHexDigits=function(e,n){for(var i=[];i.length<e||n;){var o=this._charCodeAt(this.__pos);if(t._CharacterCodes.A<=o&&o<=t._CharacterCodes.F)o+=t._CharacterCodes.a-t._CharacterCodes.A;else if(!(t._CharacterCodes._0<=o&&o<=t._CharacterCodes._9||t._CharacterCodes.a<=o&&o<=t._CharacterCodes.f))break;i.push(o),this._movePosition(1)}return i.length<e&&(i=[]),String.fromCharCode.apply(String,i)},e.prototype._charSize=function(t){return t>=65536?2:1},e.prototype._charCodeAt=function(e){var n=this.__text;return e<0||e>=n.length?t._CharacterCodes.nullCharacter:n.charCodeAt(e)},e.prototype._codePointAt=function(e){var n=this.__text,i=n.length;if(e<0||e>=i)return t._CharacterCodes.nullCharacter;var o=n.charCodeAt(e);if(55296<=o&&o<=56319&&i>e+1){var r=n.charCodeAt(e+1);if(56320<=r&&r<=57343)return 1024*(o-55296)+r-56320+65536}return o},e.prototype._isWhiteSpace=function(e){return e===t._CharacterCodes.space||e===t._CharacterCodes.tab||e===t._CharacterCodes.verticalTab||e===t._CharacterCodes.formFeed||e===t._CharacterCodes.nonBreakingSpace||e===t._CharacterCodes.nextLine||e===t._CharacterCodes.ogham||e>=t._CharacterCodes.enQuad&&e<=t._CharacterCodes.zeroWidthSpace||e===t._CharacterCodes.narrowNoBreakSpace||e===t._CharacterCodes.mathematicalSpace||e===t._CharacterCodes.ideographicSpace||e===t._CharacterCodes.byteOrderMark||e===t._CharacterCodes.lineFeed||e===t._CharacterCodes.carriageReturn||e===t._CharacterCodes.lineSeparator||e===t._CharacterCodes.paragraphSeparator},e.prototype._isDigit=function(e){return e>=t._CharacterCodes._0&&e<=t._CharacterCodes._9},e.prototype._isIdentifierStart=function(e){return e>=t._CharacterCodes.A&&e<=t._CharacterCodes.Z||e>=t._CharacterCodes.a&&e<=t._CharacterCodes.z||e===t._CharacterCodes._},e.prototype._isIdentifierPart=function(e){return e>=t._CharacterCodes.A&&e<=t._CharacterCodes.Z||e>=t._CharacterCodes.a&&e<=t._CharacterCodes.z||e>=t._CharacterCodes._0&&e<=t._CharacterCodes._9||e===t._CharacterCodes._},e}();t._Lexer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._parse=function(e){var n=new t._Lexer(e);n._nextToken();var i=this._parseExpression(n);return this._acceptToken(n,t._Token.EOF),i},e.prototype._parseExpression=function(t){return this._parseConditional(t)},e.prototype._parseConditional=function(e){var n=this._parseLogicalOr(e);if(e._token()===t._Token.Question){e._nextToken();var i=this._parseExpression(e);this._acceptToken(e,t._Token.Colon),e._nextToken();var o=this._parseExpression(e);n=t._ExpressionSyntaxTreeFactory._condition(t._ExpressionSyntaxTreeFactory._isTrue(n),i,o)}return n},e.prototype._parseLogicalOr=function(e){for(var n=this._parseLogicalAnd(e);e._token()===t._Token.BarBar;){e._nextToken();var i=this._parseLogicalAnd(e);n=t._ExpressionSyntaxTreeFactory._orElse(n,i)}return n},e.prototype._parseLogicalAnd=function(e){for(var n=this._parseEquality(e);e._token()===t._Token.AmpersandAmpersand;){e._nextToken();var i=this._parseEquality(e);n=t._ExpressionSyntaxTreeFactory._andAlso(n,i)}return n},e.prototype._parseEquality=function(e){for(var n=this._parseComparison(e);e._token()===t._Token.EqualEqual||e._token()===t._Token.ExclamationEqual;){var i=e._token();e._nextToken();var o=this._parseComparison(e);n=i===t._Token.EqualEqual?t._ExpressionSyntaxTreeFactory._equal(n,o):t._ExpressionSyntaxTreeFactory._notEqual(n,o)}return n},e.prototype._parseComparison=function(e){for(var n=this._parseAddSubtract(e);e._token()===t._Token.GreaterThan||e._token()===t._Token.GreaterThanEqual||e._token()===t._Token.LessThan||e._token()===t._Token.LessThanEqual;){var i=e._token();e._nextToken();var o=this._parseAddSubtract(e);i===t._Token.GreaterThan?n=t._ExpressionSyntaxTreeFactory._greaterThan(n,o):i===t._Token.GreaterThanEqual?n=t._ExpressionSyntaxTreeFactory._greaterThanOrEqual(n,o):i===t._Token.LessThan?n=t._ExpressionSyntaxTreeFactory._lessThan(n,o):i==t._Token.LessThanEqual&&(n=t._ExpressionSyntaxTreeFactory._lessThanOrEqual(n,o))}return n},e.prototype._parseAddSubtract=function(e){for(var n=this._parseMultiplyDivision(e);e._token()===t._Token.Plus||e._token()===t._Token.Minus;){var i=e._token();e._nextToken();var o=this._parseMultiplyDivision(e);n=i===t._Token.Plus?t._ExpressionSyntaxTreeFactory._add(n,o):t._ExpressionSyntaxTreeFactory._subtract(n,o)}return n},e.prototype._parseMultiplyDivision=function(e){for(var n=this._parseUnary(e);e._token()===t._Token.Asterisk||e._token()===t._Token.Slash||e._token()===t._Token.Percent;){var i=e._token();e._nextToken();var o=this._parseUnary(e);i===t._Token.Asterisk?n=t._ExpressionSyntaxTreeFactory._multiply(n,o):i===t._Token.Slash?n=t._ExpressionSyntaxTreeFactory._divide(n,o):i===t._Token.Percent&&(n=t._ExpressionSyntaxTreeFactory._modulo(n,o))}return n},e.prototype._parseUnary=function(e){if(e._token()===t._Token.Minus){e._nextToken();var n=this._parseUnary(e);return t._ExpressionSyntaxTreeFactory._negate(n)}return e._token()==t._Token.Exclamation?(e._nextToken(),n=this._parseUnary(e),t._ExpressionSyntaxTreeFactory._not(n)):e._token()==t._Token.Plus?(e._nextToken(),n=this._parseUnary(e),t._ExpressionSyntaxTreeFactory._unaryPlus(n)):this._parseBracket(e)},e.prototype._parseBracket=function(e){for(var n=this._parseDot(e);e._token()===t._Token.OpenBracket;){e._nextToken();var i=this._parseExpression(e);this._acceptToken(e,t._Token.CloseBracket),e._nextToken(),n=t._ExpressionSyntaxTreeFactory._elementAccess(n,i)}return n},e.prototype._parseDot=function(e){for(var n=this._parseParen(e);e._token()===t._Token.Dot;){e._nextToken(),this._acceptTokenKind(e,t._TokenKind.Identifier);var i=e._token();e._nextToken(),n=t._ExpressionSyntaxTreeFactory._propertyAccess(n,i._text)}return n},e.prototype._parseParen=function(e){if(e._token()===t._Token.OpenParen){e._nextToken();var n=this._parseExpression(e);return this._acceptToken(e,t._Token.CloseParen),e._nextToken(),t._ExpressionSyntaxTreeFactory._parens(n)}return this._parseOperand(e)},e.prototype._parseOperand=function(e){var n=e._token();if(n===t._Token.True)return e._nextToken(),t._ExpressionSyntaxTreeFactory._literal(!0);if(n===t._Token.False)return e._nextToken(),t._ExpressionSyntaxTreeFactory._literal(!1);if(n===t._Token.Null)return e._nextToken(),t._ExpressionSyntaxTreeFactory._literal(null);if(n._kind===t._TokenKind.StringLiteral)return e._nextToken(),t._ExpressionSyntaxTreeFactory._literal(n._text);if(n._kind===t._TokenKind.NumberLiteral)return e._nextToken(),t._ExpressionSyntaxTreeFactory._literal(parseFloat(n._text));if(n===t._Token.At)return e._nextToken(),t._ExpressionSyntaxTreeFactory._at();if(n===t._Token.EOF)return null;if(n._kind===t._TokenKind.Identifier)return e._nextToken(),t._ExpressionSyntaxTreeFactory._ident(n._text);throw new t.RuntimeError(t.ErrorCode.Unknown)},e.prototype._acceptToken=function(e,n){if(e._token()!==n)throw new t.AssertError(t.ErrorCode.UnexpectedValue,e._token())},e.prototype._acceptTokenKind=function(e,n){if(e._token()._kind!==n)throw new t.AssertError(t.ErrorCode.UnexpectedValue,e._token()._kind)},e._defaultParser=new e,e}();t._SyntaxTreeParser=e}(t||(t={})),function(t){var e=function(){function e(t,e){void 0===e&&(e=null),this._kind=t,this._text=e}return e.EOF=new e(t._TokenKind.EOF),e.True=new e(t._TokenKind.True,"true"),e.False=new e(t._TokenKind.True,"false"),e.Null=new e(t._TokenKind.True,"null"),e.At=new e(t._TokenKind.At,"@"),e.Plus=new e(t._TokenKind.Plus,"+"),e.Minus=new e(t._TokenKind.Minus,"-"),e.Asterisk=new e(t._TokenKind.Asterisk,"*"),e.Slash=new e(t._TokenKind.Slash,"/"),e.Percent=new e(t._TokenKind.Percent,"%"),e.LessThan=new e(t._TokenKind.LessThan,"<"),e.GreaterThan=new e(t._TokenKind.GreaterThan,">"),e.LessThanEqual=new e(t._TokenKind.LessThanEqual,"<="),e.GreaterThanEqual=new e(t._TokenKind.GreaterThanEqual,">="),e.EqualEqual=new e(t._TokenKind.EqualsEqual,"=="),e.ExclamationEqual=new e(t._TokenKind.ExclamationEqual,"!="),e.AmpersandAmpersand=new e(t._TokenKind.AmpersandAmpersand,"&&"),e.BarBar=new e(t._TokenKind.BarBar,"||"),e.Question=new e(t._TokenKind.Question,"?"),e.Colon=new e(t._TokenKind.Colon,":"),e.Exclamation=new e(t._TokenKind.Exclamation,"!"),e.Dot=new e(t._TokenKind.Dot,"."),e.OpenParen=new e(t._TokenKind.OpenParen,"("),e.CloseParen=new e(t._TokenKind.CloseParen,")"),e.OpenBracket=new e(t._TokenKind.OpenBracket,"["),e.CloseBracket=new e(t._TokenKind.Dot,"]"),e}();t._Token=e}(t||(t={})),function(t){var e=function(){function e(e){this.__expression=t._SyntaxTreeParser._defaultParser._parse(e)}return e.prototype._evaluate=function(e){return new t._PointPathExpressionEvaluationVisitor(e)._visit(this.__expression)},e}();t._PointPathExpression=e}(t||(t={})),function(t){var e=function(){function e(t){this.__adapter=t}return e.prototype._visitBinary=function(e){var n=this._visit(e._leftOperand),i=this._visit(e._rightOperand);switch(e._kind){case t.SyntaxTreeKind.AndAlso:return t._AnyTypeExtension._and(n,i);case t.SyntaxTreeKind.OrElse:return t._AnyTypeExtension._or(n,i);case t.SyntaxTreeKind.Equal:return t._AnyTypeExtension._equal(n,i);case t.SyntaxTreeKind.NotEqual:return t._AnyTypeExtension._notEqual(n,i);case t.SyntaxTreeKind.GreaterThan:return t._AnyTypeExtension._greaterThan(n,i);case t.SyntaxTreeKind.GreaterThanOrEqual:return t._AnyTypeExtension._greaterThanOrEqual(n,i);case t.SyntaxTreeKind.LessThan:return t._AnyTypeExtension._lessThan(n,i);case t.SyntaxTreeKind.LessThanOrEqual:return t._AnyTypeExtension._lessThanOrEqual(n,i);case t.SyntaxTreeKind.Add:return t._AnyTypeExtension._add(n,i);case t.SyntaxTreeKind.Subtract:return t._AnyTypeExtension._subtract(n,i);case t.SyntaxTreeKind.Multiply:return t._AnyTypeExtension._multiply(n,i);case t.SyntaxTreeKind.Divide:return t._AnyTypeExtension._divide(n,i);case t.SyntaxTreeKind.Modulo:return t._AnyTypeExtension._modulo(n,i);default:return null}},e.prototype._visitUnary=function(e){var n=this._visit(e._operand);switch(e._kind){case t.SyntaxTreeKind.Negate:return t._AnyTypeExtension._negative(n);case t.SyntaxTreeKind.UnaryPlus:return t._AnyTypeExtension._positive(n);case t.SyntaxTreeKind.Not:return t._AnyTypeExtension._not(n);case t.SyntaxTreeKind.IsTrue:return t._Util.toBoolean(n);default:return null}},e.prototype._visitConditional=function(e){var n=this._visit(e._condition),i=this._visit(e._trueExpression),o=this._visit(e._falseExpression);return t._Util.toBoolean(n)?i:o},e.prototype._visitElementAccess=function(e){var n=this._visit(e._expression),i=this._visit(e._argumentExpression);return null==n||null==i?null:t._isPointPathExpressionAdapter(n)?n._getPointPathPropertyValue(i.toString()):t._NativeExtension.getPropertyValue(n,i.toString())},e.prototype._visitPropertyAccess=function(e){var n=this._visit(e._expression);return t._isPointPathExpressionAdapter(n)?n._getPointPathPropertyValue(e._name):t._NativeExtension.getPropertyValue(n,e._name)},e.prototype._visitParents=function(t){return this._visit(t._expression)},e.prototype._visitLiteral=function(e){switch(e._kind){case t.SyntaxTreeKind.True:return!0;case t.SyntaxTreeKind.False:return!1;case t.SyntaxTreeKind.Number:case t.SyntaxTreeKind.String:return e._value;case t.SyntaxTreeKind.Null:default:return null}},e.prototype._visitIdentifier=function(t){return t._name},e.prototype._visitAt=function(t){return this.__adapter},e.prototype._visit=function(t){return null==t?null:t._accept(this)},e}();t._PointPathExpressionEvaluationVisitor=e}(t||(t={})),function(t){var e=function(t){this._kind=t};t._ExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this,t.SyntaxTreeKind.At)||this;return n._name="@",n}return n(i,e),i.prototype._accept=function(t){return t._visitAt(this)},i}(t._ExpressionSyntaxTree);t._AtExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o._leftOperand=n,o._rightOperand=i,o}return n(e,t),e.prototype._accept=function(t){return t._visitBinary(this)},e}(t._ExpressionSyntaxTree);t._BinaryExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,t.SyntaxTreeKind.Conditional)||this;return r._condition=n,r._trueExpression=i,r._falseExpression=o,r}return n(i,e),i.prototype._accept=function(t){return t._visitConditional(this)},i}(t._ExpressionSyntaxTree);t._ConditionalExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,t.SyntaxTreeKind.ElementAccess)||this;return o._expression=n,o._argumentExpression=i,o}return n(i,e),i.prototype._accept=function(t){return t._visitElementAccess(this)},i}(t._ExpressionSyntaxTree);t._ElementAccessExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(){function e(){}return e._condition=function(e,n,i){return new t._ConditionalExpressionSyntaxTree(e,n,i)},e._isTrue=function(e){return new t._UnaryExpressionSyntaxTree(t.SyntaxTreeKind.IsTrue,e)},e._andAlso=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.AndAlso,e,n)},e._orElse=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.OrElse,e,n)},e._equal=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Equal,e,n)},e._notEqual=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.NotEqual,e,n)},e._greaterThan=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.GreaterThan,e,n)},e._greaterThanOrEqual=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.GreaterThanOrEqual,e,n)},e._lessThan=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.LessThan,e,n)},e._lessThanOrEqual=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.LessThanOrEqual,e,n)},e._add=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Add,e,n)},e._subtract=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Subtract,e,n)},e._multiply=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Multiply,e,n)},e._divide=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Divide,e,n)},e._modulo=function(e,n){return new t._BinaryExpressionSyntaxTree(t.SyntaxTreeKind.Modulo,e,n)},e._negate=function(e){return new t._UnaryExpressionSyntaxTree(t.SyntaxTreeKind.Negate,e)},e._unaryPlus=function(e){return new t._UnaryExpressionSyntaxTree(t.SyntaxTreeKind.UnaryPlus,e)},e._not=function(e){return new t._UnaryExpressionSyntaxTree(t.SyntaxTreeKind.Not,e)},e._elementAccess=function(e,n){return new t._ElementAccessExpressionSyntaxTree(e,n)},e._propertyAccess=function(e,n){return new t._PropertyAccessExpressionSyntaxTree(e,n)},e._parens=function(e){return new t._ParenthesizedExpressionSyntaxTree(e)},e._literal=function(e){if(null==e)return new t._LiteralExpressionSyntaxTree(t.SyntaxTreeKind.Null,e);if("number"==typeof e)return new t._LiteralExpressionSyntaxTree(t.SyntaxTreeKind.Number,e);if("string"==typeof e)return new t._LiteralExpressionSyntaxTree(t.SyntaxTreeKind.String,e);if(!0===e)return new t._LiteralExpressionSyntaxTree(t.SyntaxTreeKind.True,e);if(!1===e)return new t._LiteralExpressionSyntaxTree(t.SyntaxTreeKind.False,e);throw new t.AssertError(t.ErrorCode.UnexpectedValue,e)},e._at=function(){return new t._AtExpressionSyntaxTree},e._ident=function(e){return new t._IdentifierExpressionSyntaxTree(e)},e}();t._ExpressionSyntaxTreeFactory=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(n){var i=e.call(this,t.SyntaxTreeKind.Identifier)||this;return i._name=n,i}return n(i,e),i.prototype._accept=function(t){return t._visitIdentifier(this)},i}(t._ExpressionSyntaxTree);t._IdentifierExpressionSyntaxTree=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i._value=n,i}return n(e,t),e.prototype._accept=function(t){return t._visitLiteral(this)},e}(t._ExpressionSyntaxTree);t._LiteralExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this,t.SyntaxTreeKind.Parens)||this;return i._expression=n,i}return n(i,e),i.prototype._accept=function(t){return t._visitParents(this)},i}(t._ExpressionSyntaxTree);t._ParenthesizedExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,t.SyntaxTreeKind.PropertyAccess)||this;return o._expression=n,o._name=i,o}return n(i,e),i.prototype._accept=function(t){return t._visitPropertyAccess(this)},i}(t._ExpressionSyntaxTree);t._PropertyAccessExpressionSyntaxTree=e}(t||(t={})),function(t){!function(t){t[t.Add=0]="Add",t[t.Subtract=1]="Subtract",t[t.Multiply=2]="Multiply",t[t.Divide=3]="Divide",t[t.Modulo=4]="Modulo",t[t.Conditional=5]="Conditional",t[t.GreaterThan=6]="GreaterThan",t[t.GreaterThanOrEqual=7]="GreaterThanOrEqual",t[t.LessThan=8]="LessThan",t[t.LessThanOrEqual=9]="LessThanOrEqual",t[t.Equal=10]="Equal",t[t.NotEqual=11]="NotEqual",t[t.AndAlso=12]="AndAlso",t[t.OrElse=13]="OrElse",t[t.Negate=14]="Negate",t[t.UnaryPlus=15]="UnaryPlus",t[t.Not=16]="Not",t[t.True=17]="True",t[t.False=18]="False",t[t.Null=19]="Null",t[t.Number=20]="Number",t[t.String=21]="String",t[t.At=22]="At",t[t.ElementAccess=23]="ElementAccess",t[t.PropertyAccess=24]="PropertyAccess",t[t.Parens=25]="Parens",t[t.Identifier=26]="Identifier",t[t.IsTrue=83]="IsTrue",t[t.IsFalse=84]="IsFalse"}(t.SyntaxTreeKind||(t.SyntaxTreeKind={}))}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i._operand=n,i}return n(e,t),e.prototype._accept=function(t){return t._visitUnary(this)},e}(t._ExpressionSyntaxTree);t._UnaryExpressionSyntaxTree=e}(t||(t={})),function(t){var e=function(){function t(t){this.__rect=t.clone()}return t._pack=function(e){if(null!=e){var n=e.box();if(null!=n)return new t(n)}return null},t.prototype.box=function(){return this.__rect.clone()},t.prototype.queryInterface=function(t){return"IBoxBounded"==t?this:null},t}();t.BoxBounded=e}(t||(t={})),function(t){t._isAnnotationPosition=function(t){var e=t;return null!=e&&void 0!==e.position&&void 0!==e.placement}}(t||(t={})),t||(t={}),function(t){t._isBoxBounded=function(t){return null!=t&&"function"==typeof t.box}}(t||(t={})),t||(t={}),function(t){t._isLineCoordinateValues=function(t){var e=t;return null!=e&&"function"==typeof e._start&&"function"==typeof e._end}}(t||(t={})),t||(t={}),function(t){!function(t){t._isRectangleOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.width&&void 0!==e.height&&void 0!==e.angle}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isEllipseOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.width&&void 0!==e.height&&void 0!==e.angle}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isErrorBarOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.positive&&void 0!==e.negative&&void 0!==e.orientation}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isEnumerableOverlayModel=function(t){return null!=t&&void 0!==t.overlayItems}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isImageOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.width&&void 0!==e.height&&void 0!==e.angle&&void 0!==e.source}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isLineOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.start&&void 0!==e.end}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isNeedleOverlayItemModel=function(t){return!1}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isTextGroupOverlayItemModel=function(t){return null!=t&&void 0!==t.symbol}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isTextOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.text&&void 0!==e.textStyle}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isTrendlineOverlayItemModel=function(t){return null!=t&&void 0!==t.seriesName}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildOverlayDetailKeyPolicy=function(){return this},e.prototype._containsDetailKey=function(e,n){if(null==e)return!0;if(null==n)return!1;for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t._OptionUtility._isDataEqualsConfigData(n._key(),r))return!0}return!1},e.prototype.queryInterface=function(t){return"IOverlayDetailKeyPolicyBuilder"==t||"IOverlayDetailKeyPolicy"==t?this:null},e._overlayDetailKeyPolicyBuilder=new e,e}();t._DefaultOverlayDetailKeyPolicyBuilder=e}(t||(t={})),function(t){t._isOverlayDetailKeyPolicy=function(t){return null!=t&&"function"==typeof t._containsDetailKey}}(t||(t={})),function(t){t._isOverlayDetailKeyPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildOverlayDetailKeyPolicy}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInOverlayDetailKeys=function(){return null==i.__buildInOverlayDetailKeyPolicies&&(i.__buildInOverlayDetailKeyPolicies=new i([],i._pluginType)),i.__buildInOverlayDetailKeyPolicies},i.prototype._convert=function(e){return t._isOverlayDetailKeyPolicyBuilder(e)?e:null},i.prototype._overlayDetailKey=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildOverlayDetailKeyPolicy();if(null!=r)return r}return t._DefaultOverlayDetailKeyPolicyBuilder._overlayDetailKeyPolicyBuilder._buildOverlayDetailKeyPolicy()},i._pluginType="Compatible",i}(t._BuildInObjectCollection);t._BuildInOverlayDetailKeyPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(t){this.__context=t}return e.prototype.getIdentifierValue=function(e){return"current"==e?this.__context:e.length>8&&"current."==e.substring(0,8)&&null!=this.__context?new t._ExcelExpressionBinding(e.substring(8))._getValue(this.__context):null},e.prototype.queryInterface=function(t){return"IIdentifierProxy"===t?this:null},e}();t._OverlayItemIdentifierProxy=e}(t||(t={})),function(t){var e=function(){function t(){}return Object.defineProperty(t.prototype,"minX",{get:function(){return this.__minX},set:function(t){this.__minX=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.__maxX},set:function(t){this.__maxX=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.__minY},set:function(t){this.__minY=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.__maxY},set:function(t){this.__maxY=t},enumerable:!1,configurable:!0}),t}();t._OverlayRange=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype._apply=function(t){null!=t&&this._applyOverlayItemViewConditionFormattingRules(t,this._createOverlayItemConditionalFormattingRules(t,t._getOverlayView()._getDefinition()._getOption().rules))},e.prototype._applyOverlayItemViewConditionFormattingRules=function(t,e){for(var n=0,i=e;n<i.length;n++)i[n].evaluate(t)},e.prototype._createOverlayItemConditionalFormattingRules=function(e,n){var i=[];return n.forEach((function(n){if(null!=n){var o=e._getOverlayView()._getDefinition()._pluginCollection,r=t._BuildInConditionalFormattingRuleBuilderCollection._defaultBuildInConditionalFormattingRuleBuilders()._conditionalFormattingRule(n,[],o);null!=r&&i.push(r)}})),i},e}(),e._OverlayItemConditionalFormattingRuleRunner=n}(t||(t={})),t||(t={}),function(t){t._isOverlayItemViewContext=function(t){return!1}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isOverlayRangeBuilder=function(t){return"function"==typeof t.buildRangePolicy}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._bulid=function(t){return this._createItemViewGeneratorBy(t)},e.prototype._createItemViewGeneratorBy=function(e){var n=e._type();return"Text"===n?new t.TextLegendItemsGenerater(e._getAnnotationOverlayDefinition()._getAnnotationOverlayOption()):"Line"===n?new t.LineLegendItemsGenerater(e):"Ellipse"===n?new t.EllipseLegendItemsGenerator(e._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().label,e._annotationStyle()):"Image"===n?new t.ImageLegendItemsGenerator(e._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().label):"Needle"===n||"Rectangle"===n||"Path"===n?new t.RectLegendItemsGenerater(e._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().label,e._annotationStyle()):null},e}();t._AnnotationOverlayLegendItemGeneratorBuilder=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__label=t,this.__annotationStyle=e}return e.prototype._generate=function(e){var n=this.__annotationStyle,i=new t._OverlayEllipseSymbol(n.strokeWidth,n.strokeDasharray,n.stroke,n.fill),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._definition._plotDefinition._pluginCollection);return[new t.models._OverlayGeneralLegendItem(e,i,this.__label,o)]},e}();t.EllipseLegendItemsGenerator=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__label=t}return e.prototype._generate=function(e){var n=new t._OverlayImageSymbol,i=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._definition._plotDefinition._pluginCollection);return[new t.models._OverlayGeneralLegendItem(e,n,this.__label,i)]},e}();t.ImageLegendItemsGenerator=e}(t||(t={})),function(t){var e=function(){function e(t){this.__label=t._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().label,this.__annotationStyle=t._annotationStyle()}return e.prototype._generate=function(e){if(null!=this.__label&&""!==this.__label){var n=this.__annotationStyle,i=new t._OverlayLineSymbol(n.strokeWidth,n.strokeDasharray,n.stroke),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._definition._plotDefinition._pluginCollection);return[new t.models._OverlayGeneralLegendItem(e,i,this.__label,o)]}return[]},e}();t.LineLegendItemsGenerater=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__label=t,this.__annotationStyle=e}return e.prototype._generate=function(e){var n=this.__annotationStyle,i=new t._OverlayRectSymbol(n.strokeWidth,n.strokeDasharray,n.stroke,n.fill),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._definition._plotDefinition._pluginCollection);return[new t.models._OverlayGeneralLegendItem(e,i,this.__label,o)]},e}();t.RectLegendItemsGenerater=e}(t||(t={})),function(t){var e=function(){function e(t){this.__label=t.label,null!=t.textStyle&&null!=t.textStyle.color&&""!=t.textStyle.color?this.__color=t.textStyle.color:this.__color="black"}return e.prototype._generate=function(e){if(null!=this.__label&&""!==this.__label){var n=new t._OverlayTextSymbol(new t._CssColor(this.__color)),i=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._definition._plotDefinition._pluginCollection);return[new t.models._OverlayGeneralLegendItem(e,n,this.__label,i)]}return[]},e}();t.TextLegendItemsGenerater=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n,i,o){var r=t.call(this,e,i,o)||this;return r._setSymbol(n),r}return n(e,t),e}(t._ItemizedLegendItemDataModel),e._OverlayGeneralLegendItem=i}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,null,t._OverlayLegendSymbolStyleBuilder._overlayLegendSymbolStyleBuilder())||this;return l.__strokeWidth=1,null!=n&&(l.__strokeWidth=n),l.__strokeDasharray=i,l.__stroke=o,l.__fill=r,l._annotationStyle=l._buildAnnotationStyle(),l}return n(i,e),i.prototype._buildAnnotationStyle=function(){var e=t._StyleUtility._buildStyle();return null!=this.__fill&&(e.fill=this.__fill),null!=this.__stroke&&(e.stroke=this.__stroke),null!=this.__strokeDasharray&&(e.strokeDasharray=this.__strokeDasharray),e.strokeWidth=this.__strokeWidth,e},i.prototype.render=function(e,n,i){e.beginTransform();var o=Math.min(n.width/2,n.height/2);this.__strokeWidth=Math.min(.4*o,this.__strokeWidth),this._annotationStyle.strokeWidth=this.__strokeWidth,o-=.05*o;var r=this._styleBuilder._buildLegendSymbolStyle(this,i,!1);t._StyleUtility._applyStyle(e,r),e.drawEllipse(n.center.x,n.center.y,o,o),e.restoreTransform()},i}(t._LegendSymbolView);t._OverlayEllipseSymbol=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this,null,t._OverlayLegendSymbolStyleBuilder._overlayLegendSymbolStyleBuilder())||this;return n._annotationStyle=t._StyleUtility._buildStrokeStyle(null,"#666666",1),n}return n(i,e),i.prototype.render=function(e,n,i){e.beginTransform();var o=[t._PathBuilder._defaultPathBuilder._buildPathFromExpression("m373.410156 0h-234.816406c-76.421875 0-138.59375 62.171875-138.59375 138.59375v234.8125c0 76.421875 62.171875 138.59375 138.59375 138.59375h234.816406c76.417969 0 138.589844-62.171875 138.589844-138.59375v-234.8125c0-76.421875-62.171875-138.59375-138.589844-138.59375zm108.574219 373.40625c0 59.871094-48.707031 108.578125-108.578125 108.578125h-234.8125c-59.871094 0-108.578125-48.707031-108.578125-108.578125v-1.316406l86.089844-79.25c2.4375-2.242188 6.257812-2.242188 8.695312-.003906l65.875 60.476562c7.640625 7.015625 17.941407 10.441406 28.269531 9.414062 10.324219-1.03125 19.742188-6.4375 25.847657-14.828124l116.25-159.847657c1.542969-2.117187 3.65625-2.558593 4.777343-2.632812 1.121094-.066407 3.273438.085937 5.078126 1.988281l111.082031 117.050781v68.949219zm0-112.550781-89.3125-94.109375c-7.472656-7.875-17.960937-11.984375-28.808594-11.277344-10.832031.707031-20.707031 6.148438-27.09375 14.929688l-116.253906 159.847656c-1.472656 2.023437-3.488281 2.507812-4.558594 2.613281-1.066406.105469-3.136719.035156-4.980469-1.660156l-65.875-60.472657c-13.839843-12.710937-35.503906-12.691406-49.324218.03125l-65.761719 60.535157v-192.699219c0-59.871094 48.707031-108.578125 108.578125-108.578125h234.816406c59.867188 0 108.574219 48.707031 108.574219 108.578125zm0 0"),t._PathBuilder._defaultPathBuilder._buildPathFromExpression("m142.910156 86.734375c-29.082031 0-52.746094 23.664063-52.746094 52.75 0 29.082031 23.664063 52.746094 52.746094 52.746094 29.085938 0 52.746094-23.664063 52.746094-52.746094.003906-29.085937-23.660156-52.75-52.746094-52.75zm0 75.476563c-12.53125 0-22.730468-10.195313-22.730468-22.730469 0-12.53125 10.199218-22.730469 22.730468-22.730469 12.535156 0 22.730469 10.195312 22.730469 22.730469 0 12.535156-10.195313 22.730469-22.730469 22.730469zm0 0")],r=new t._PathsAnnotation;r.position=t.AnnotationPosition.Center;var l=Math.min(n.width,n.height);r.paths=o,r.width=l,r.height=l,r.join=new t.core.Point(256,256),r._applyCustomStyle(this._annotationStyle),r._bindAttachmentAgent(new t._SimplePointAttachmentAgent(n.center)),r._layout(e,new t._RenderContext),r._render(e,new t._RenderContext),e.restoreTransform()},i}(t._LegendSymbolView);t._OverlayImageSymbol=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,null,t._OverlayLegendSymbolStyleBuilder._overlayLegendSymbolStyleBuilder())||this;return l.__strokeWidth=1,null!=n&&(l.__strokeWidth=n),l.__strokeDasharray=i,l.__stroke=o,l.__fill=r,l._annotationStyle=l._buildAnnotationStyle(),l}return n(i,e),i.prototype._buildAnnotationStyle=function(){var e=t._StyleUtility._buildStyle();return null!=this.__fill&&(e.fill=this.__fill),null!=this.__stroke&&(e.stroke=this.__stroke),null!=this.__strokeDasharray&&(e.strokeDasharray=this.__strokeDasharray),e.strokeWidth=this.__strokeWidth,e},i.prototype.render=function(e,n,i){e.beginTransform(),this.__strokeWidth=Math.min(.2*n.height,this.__strokeWidth),this._annotationStyle.strokeWidth=this.__strokeWidth;var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!1);t._StyleUtility._applyStyle(e,o),e.drawRect(n.left+.1*n.width,n.top+.05*n.height,.8*n.width,.9*n.height),e.restoreTransform()},i}(t._LegendSymbolView);t._OverlayRectSymbol=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this,null,t._OverlayLegendSymbolStyleBuilder._overlayLegendSymbolStyleBuilder())||this;return i.__textColor=n,i._annotationStyle=i._buildAnnotationStyle(),i}return n(i,e),i.prototype._buildAnnotationStyle=function(){var e=t._StyleUtility._buildStyle();if(null!=this.__textColor){var n=this.__textColor.color;e.textFill="none"==n?"none":t._ColorUtility._toStringColor(n)}return e.fontSize="14",e},i.prototype.render=function(e,n,i){e.beginTransform();var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!1);t._StyleUtility._applyAllStyle(e,o);var r=e.measureSingleLineString("A"),l=new t.core.Rect((n.width-r.width)/2+n.left,(n.height-r.height)/2+n.top,r.width,r.height);e.drawMultiLineString("A",l,t.TextOverflow.Clip,t.HAlign.Left),e.restoreTransform()},i}(t._LegendSymbolView);t._OverlayTextSymbol=e}(t||(t={})),function(t){var e=function(){function e(){}return e._overlayLegendSymbolStyleBuilder=function(){return null==e.__overlayLegendSymbolStyleBuilder&&(e.__overlayLegendSymbolStyleBuilder=new e),e.__overlayLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=e,r=t._StyleUtility._buildStyle();return t._StyleUtility._applyAllStyle(r,o._annotationStyle),r},e}();t._OverlayLegendSymbolStyleBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){}return t.PathBalloon="M -0.5421 -0.8857 A 0.6 0.6 0 1 1 0.5421 -0.8857 C 0.3878 -0.5605 0 -0.42 0 0 C 0 -0.42 -0.3878 -0.5605 -0.5421 -0.8857 Z",t.PathBalloonBBox=[-.6000000238418579,-1.742852807044983,1.2000000476837158,1.742852807044983],t.PathTriangle="m0,100l50,-100l50,100l-100,0z",t.PathGauge="M 50,0 L 60, 100 Q 60 ,110 50, 110, T 40, 100 Z",t.PathBalloon2="m50,0c-14.9112,0 -27.000001,12.6793 -27.000001,28.318866c0,15.643342 27.000001,68.422157 27.000001,68.422157s27.000001,-52.778815 27.000001,-68.422157c0,-15.639566 -12.0852,-28.318866 -27.000001,-28.318866z",t}();t._OverlayConstants=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return Object.defineProperty(e.prototype,"_baseColor",{get:function(){return null==this.__baseColor?t._CssColor._defaultStyleColor():this.__baseColor},enumerable:!1,configurable:!0}),e.prototype._applyPaletteColor=function(){this.__baseColor=this.__overlayView._getColor()},e}();t._OverlayShader=e}(t||(t={})),function(t){!function(t){t._isOverlayOption=function(t){var e=t;return null!=e&&void 0!==e.type&&void 0!==e.display&&void 0!==e.rules&&void 0!==e.loadAnimation&&void 0!==e.updateAnimation&&void 0!==e.hoverAnimation}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i.__hover=!1,i.__id=n,i}return n(i,e),i.prototype._identifierProxy=function(){return null==this.__identifierProxy&&(this.__identifierProxy=new t._OverlayItemIdentifierProxy(this)),this.__identifierProxy},i.prototype._proxy=function(){return this.__proxy},i.prototype._innerProperty=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=!1),null!=this.__proxy){var i=this.__proxy.get(t,!0);if(null!=i)return n&&null==i.value?e:i.value}return e},i.prototype._layout=function(t,e){this._layoutContent(t,e)},i.prototype._initializeStyle=function(){},i.prototype.initialize=function(){this.__proxy=null},i.prototype._runConditionalFormatRules=function(){(new t.models._OverlayItemConditionalFormattingRuleRunner)._apply(this)},i.prototype._hasLegend=function(){return!1},i.prototype._toOverlayItemModel=function(){return this},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t)},i.prototype._id=function(){return this.__id},i.prototype._hitTest=function(t,e,n){return null},Object.defineProperty(i.prototype,"hover",{get:function(){return this._isHover()},set:function(t){this._updateHover(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){var e=this._innerProperty("style");if(null==e)return null;var n=t._StyleUtility._buildStyle();return t._Util.deepAssign(n,e),n},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"overlay",{get:function(){return t.models._isOverlayModel(this._ownerView)?this._ownerView:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var e=this._getParentView();return t.models._isViewModel(e)?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.OverlayItem},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(n){return"IOverlayItemModel"===n?this:"IModelProxy"==n?(null==this.__proxy&&(this.__proxy=new t.models.ModelProxy(this)),this.__proxy):e.prototype.queryInterface.call(this,n)},i}(t._BaseView);t._BaseOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i.__cachedId=null,i._definition=n,i}return n(i,e),i.prototype._getDefaultStyle=function(){return null==this.__cachedDefaultStyle&&(this.__cachedDefaultStyle=this._createDefaultStyle()),this.__cachedDefaultStyle},i.prototype._createIdentityContent=function(){var e=this._getDefinition()._getOption(),n=null;e instanceof t.options._Option&&(n=e.option());var i=this._ownerView._getDefinition()._plotConfigOption.overlays.map((function(t){return t.option()})).indexOf(n).toString(),o=e.type;return t._Util.HashCode("overlay"+o+i)},i.prototype._createDefaultStyle=function(){return t._StyleUtility._buildStyle()},i.prototype._initializeStyle=function(){},i.prototype._getColor=function(){return this._getColorIterator()._next(!0)},i.prototype._getColorIterator=function(){var t=this._ownerView._getLayoutView()._getPlotAreaView(),e=this._ownerView._colorIterator;return null==e&&(e=t._colorIterator),e},i.prototype._layout=function(t,e){this._layoutContent(t,e)},i.prototype._hitTest=function(t,e,n){return null},i.prototype._getDefinition=function(){return this._definition},i.prototype._getPlotView=function(){return this._ownerView},i.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._ownerView._id()+this._createIdentityContent()),this.__cachedId},Object.defineProperty(i.prototype,"option",{get:function(){return this._definition._getOption()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Overlay},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IOverlayModel"===t||"IOverlayView"===t?this:this._definition.queryInterface(t)},i}(t._BaseView);t._BaseOverlayView=e}(t||(t={})),function(t){t._isOverlayItemView=function(t){var e=t;return null!=e&&"function"==typeof e._getOverlayView&&"function"==typeof e._initializeStyle&&"function"==typeof e.initialize&&"function"==typeof e._runConditionalFormatRules&&"function"==typeof e._hasLegend&&"function"==typeof e._toOverlayItemModel}}(t||(t={})),function(t){t._isOverlayView=function(t){var e=t;return null!=e&&"function"==typeof e._getDefinition&&"function"==typeof e._getPlotView&&"function"==typeof e._buildOverlayItemViews&&"function"==typeof e.useData&&"function"==typeof e._initializeStyle&&"function"==typeof e._layout&&"function"==typeof e._render&&"function"==typeof e._hitTest}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._builders=function(){return null==i.__builders&&(i.__builders=new i([],i._pluginType)),i.__builders},i.prototype._convert=function(e){return t._isOverlayDefinitionBuilder(e)?e:null},i.prototype._overlayDefinition=function(t,e,n,i){for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o],a=l.item._buildOverlayDefinition(t,e,l.option);if(null!=a)return a}return null},i._pluginType="Overlay",i}(t._BuildInObjectCollection);t._BuildInOverlayDefinitionBuilderCollection=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.buildLegendItemDataModels=function(e,n){return t._isAnnotationOverlayView(n)?n._generateLegendItems(e):null},i}(e._OverlayLegendItemsBuilder),e._AnnotationOverlayLegendItemsBuilder=i}(t||(t={})),function(t){var e=function(){function e(){this.__xOffset=0,this.__yOffset=0,this._transformInfo=null}return e.prototype._containStroke=function(t){return!1},e.prototype._contain=function(t){return!1},e.prototype._bind=function(t){return null},e.prototype._attachmentAgent=function(){return this.__attachmentAgent},e.prototype._bindAttachmentAgent=function(t){this.__attachmentAgent=t},e.prototype._destruct=function(){this.__attachmentAgent=null},e.prototype._beforeLayout=function(t,e){},e.prototype._layoutAnnotation=function(t,e,n){},e.prototype._renderAnnotation=function(t,e){},e.prototype._layout=function(e,n){null!=this.__attachmentAgent&&(this._beforeLayout(e,n),e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._annotationStyle()),this._applyStyle(e),this._layoutAnnotation(e,this.__attachmentAgent,n),e.restoreTransform())},e.prototype._beforeRender=function(t,e){},e.prototype._render=function(e,n){null!=this.__attachmentAgent&&1!=n._renderLabel&&(this._beforeRender(e,n),e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._annotationStyle()),this._applyStyle(e),this._renderAnnotation(e,n),e.restoreTransform(),this._afterRender(e,n))},e.prototype._afterRender=function(t,e){},Object.defineProperty(e.prototype,"xOffset",{get:function(){return this.__xOffset},set:function(t){this.__xOffset=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yOffset",{get:function(){return this.__yOffset},set:function(t){this.__yOffset=t},enumerable:!1,configurable:!0}),e.prototype._calcPos=function(e,n,i){return null==e||isNaN(e.x)||isNaN(e.y)?null:(n=null!=n?n:t.Vector.horizon(),i=null!=i?i:t.Vector.vertical(),t.Vector.endPoint(t.Vector.endPoint(e,n,this.xOffset),i,this.yOffset))},e.prototype._defaultStyle=function(){return null},e.prototype._customStyle=function(){return this.__customStyle},e.prototype._applyCustomStyle=function(t){this.__customStyle=t,this.__annotationStyle=null},e.prototype._annotationStyle=function(){if(null==this.__annotationStyle){var e=null!=this._defaultStyle()?this._defaultStyle():t._StyleUtility._buildStyle();t._StyleUtility._applyAllStyle(e,this._customStyle()),this.__annotationStyle=e}return this.__annotationStyle},e.prototype._applyStyle=function(t){},e.prototype.queryInterface=function(t){return null},e.prototype._getTransformInfo=function(){return this._transformInfo},e}();t._Annotation=e}(t||(t={})),function(t){var e=function(){function e(){this.rotation=0,this.scale=[1,1],this.__skew=[0,0]}return e.prototype.init=function(){this.rotation=0,this.scale[0]=1,this.scale[1]=1,this.__skew[0]=0,this.__skew[1]=0},e.prototype.assign=function(t){var e=t;this.rotation=e.rotation,this.scale[0]=e.scale[0],this.scale[1]=e.scale[1],this.__skew[0]=e.__skew[0],this.__skew[1]=e.__skew[1]},e.prototype.lerp=function(e,n,i){var o=e,r=n;this.rotation=t._LerpUtil.lerp(o.rotation,r.rotation,i),this.scale[0]=t._LerpUtil.lerp(o.scale[0],r.scale[0],i),this.scale[1]=t._LerpUtil.lerp(o.scale[1],r.scale[1],i),this.__skew[0]=t._LerpUtil.lerp(o.__skew[0],r.__skew[0],i),this.__skew[1]=t._LerpUtil.lerp(o.__skew[1],r.__skew[1],i)},e.prototype.equalsWith=function(t){return t instanceof e&&this.rotation==t.rotation&&this.scale[0]==t.scale[0]&&this.scale[1]==t.scale[1]&&this.__skew[0]==t.__skew[0]&&this.__skew[1]==t.__skew[1]},e.prototype.clone=function(){var t=new e;return t.assign(this),t},e}();t._MatrixTransformInfo=e}(t||(t={})),function(t){var e=function(e){function i(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.rotate=t,n}return n(i,e),i.prototype._getMatrixTransformInfo=function(){return this._transformInfo},Object.defineProperty(i.prototype,"relativeRotate",{get:function(){return this.__relativeRotate},set:function(t){null==t?this.__relativeRotate=null:isNaN(t)||(this.__relativeRotate=t*Math.PI/180)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotate",{get:function(){return this.__rotate},set:function(t){null==t?this.__rotate=null:isNaN(t)||(this.__rotate=t*Math.PI/180)},enumerable:!1,configurable:!0}),i.prototype._beforeLayout=function(t,n){e.prototype._beforeLayout.call(this,t,n),null!=this._getMatrixTransformInfo()?(this._getMatrixTransformInfo().init(),this._matrix=null):this._transformInfo=this._createTransformInfo()},i.prototype._render=function(t,n){null!=this._matrix&&e.prototype._render.call(this,t,n)},i.prototype._createTransformInfo=function(){return new t._MatrixTransformInfo},i.prototype._updateMatrix=function(t){this._matrix=t},i}(t._Annotation);t._RotatableAnnotation=e}(t||(t={})),function(t){var e=function(){function e(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return e.prototype.standard=function(t){return void 0===t&&(t=1),this.scalar(t/this.moudule())},e.prototype.moudule=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.mouduleSquare=function(){return this.x*this.x+this.y*this.y},e.subtract=function(t,n,i){return(i=null!=i?i:new e).x=t.x-n.x,i.y=t.y-n.y,i},e.prototype.scalar=function(t){return new e(this.x*t,this.y*t)},e.prototype.reverse=function(){return new e(-this.x,-this.y)},e.prototype.point=function(){return new t.core.Point(this.x,this.y)},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.cross=function(t){return this.x*t.y-this.y*t.x},e.endPoint=function(e,n,i){var o=n.scalar(i/n.moudule());return new t.core.Point(o.x+e.x,o.y+e.y)},e.pointSub=function(t,n){return new e(n.x-t.x,n.y-t.y)},e.pointSubByVector=function(t,n){return new e(n.x-t.x,n.y-t.y)},e.getPerp=function(t,n){var i=new e(0,0);if((0==t.x||isNaN(t.x))&&(0==t.y||isNaN(t.y)))return i;0===t.x?(i.y=0,i.x=1):(i.y=1,i.x=-t.y/t.x);var o=t.cross(i);return(o>0&&n||o<0&&!n)&&(i=i.reverse()),i},e.horizon=function(){return new e(1,0)},e.vertical=function(){return new e(0,-1)},e.angle=function(e,n){var i,o=e.dot(n)/e.moudule()/n.moudule();return Math.abs(o-1)<1e-6?0:Math.abs(o+1)<1e-6?Math.PI:(i=Math.acos(o),e.cross(n)>0&&(i=t._Utility._PI2-i),i)},e.farthestPoint=function(t,n){for(var i=-Number.MAX_VALUE,o=new e,r=0,l=t;r<l.length;r++){var a=l[r],u=n.dot(new e(a.x,a.y));u>i&&(i=u,o.x=a.x,o.y=a.y)}return o},e.nearestPoint=function(t,n){for(var i=Number.MAX_VALUE,o=new e,r=0,l=t;r<l.length;r++){var a=l[r],u=n.dot(new e(a.x,a.y));u<i&&(i=u,o.x=a.x,o.y=a.y)}return o},e}();t.Vector=e}(t||(t={})),function(t){var e=function(){function e(){this.__epsilom=1e-8,this.__epsilonNumeric=1e-4,this.__threeSqrt=Math.sqrt(3),this.__oneThird=1/3,this.__v0=new t.Vector,this.__v1=new t.Vector,this.__v2=new t.Vector}return e.prototype.distSquare=function(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)},e.prototype.isAroundZero=function(t){return t>-this.__epsilom&&t<this.__epsilom},e.prototype.isNotAroundZero=function(t){return t>this.__epsilom||t<-this.__epsilom},e.prototype.cubicAt=function(t,e,n,i,o){var r=1-o;return r*r*(r*t+3*o*e)+o*o*(o*i+3*r*n)},e.prototype.cubicDerivativeAt=function(t,e,n,i,o){var r=1-o;return 3*(((e-t)*r+2*(n-e)*o)*r+(i-n)*o*o)},e.prototype.cubicRootAt=function(t,e,n,i,o,r){var l=i+3*(e-n)-t,a=3*(n-2*e+t),u=3*(e-t),s=t-o,_=a*a-3*l*u,p=a*u-9*l*s,c=u*u-3*a*s,h=0;if(this.isAroundZero(_)&&this.isAroundZero(p))this.isAroundZero(a)?r[0]=0:(C=-u/a)>=0&&C<=1&&(r[h++]=C);else{var f=p*p-4*_*c;if(this.isAroundZero(f)){var d=p/_,y=-d/2;(C=-a/l+d)>=0&&C<=1&&(r[h++]=C),y>=0&&y<=1&&(r[h++]=y)}else if(f>0){var g=Math.sqrt(f),m=_*a+1.5*l*(-p+g),v=_*a+1.5*l*(-p-g);(C=(-a-((m=m<0?-Math.pow(-m,this.__oneThird):Math.pow(m,this.__oneThird))+(v=v<0?-Math.pow(-v,this.__oneThird):Math.pow(v,this.__oneThird))))/(3*l))>=0&&C<=1&&(r[h++]=C)}else{var w=(2*_*a-3*l*p)/(2*Math.sqrt(_*_*_)),b=Math.acos(w)/3,P=Math.sqrt(_),S=Math.cos(b),C=(-a-2*P*S)/(3*l),V=(y=(-a+P*(S+this.__threeSqrt*Math.sin(b)))/(3*l),(-a+P*(S-this.__threeSqrt*Math.sin(b)))/(3*l));C>=0&&C<=1&&(r[h++]=C),y>=0&&y<=1&&(r[h++]=y),V>=0&&V<=1&&(r[h++]=V)}}return h},e.prototype.cubicExtrema=function(t,e,n,i,o){var r=6*n-12*e+6*t,l=9*e+3*i-3*t-9*n,a=3*e-3*t,u=0;if(this.isAroundZero(l))this.isNotAroundZero(r)&&(_=-a/r)>=0&&_<=1&&(o[u++]=_);else{var s=r*r-4*l*a;if(this.isAroundZero(s))o[0]=-r/(2*l);else if(s>0){var _,p=Math.sqrt(s),c=(-r-p)/(2*l);(_=(-r+p)/(2*l))>=0&&_<=1&&(o[u++]=_),c>=0&&c<=1&&(o[u++]=c)}}return u},e.prototype.cubicSubdivide=function(t,e,n,i,o,r){var l=(e-t)*o+t,a=(n-e)*o+e,u=(i-n)*o+n,s=(a-l)*o+l,_=(u-a)*o+a,p=(_-s)*o+s;r[0]=t,r[1]=l,r[2]=s,r[3]=p,r[4]=p,r[5]=_,r[6]=u,r[7]=i},e.prototype.cubicProjectPoint=function(t,e,n,i,o,r,l,a,u,s,_){var p,c,h,f,d=0,y=.005,g=1/0;this.__v0.x=u,this.__v0.y=s;for(var m=0;m<1;m+=.05)this.__v1.x=this.cubicAt(t,n,o,l,m),this.__v1.y=this.cubicAt(e,i,r,a,m),(h=this.distSquare(this.__v0,this.__v1))<g&&(d=m,g=h);g=1/0;for(var v=0;v<32&&!(y<this.__epsilonNumeric);v++)p=d-y,c=d+y,this.__v1.x=this.cubicAt(t,n,o,l,p),this.__v1.y=this.cubicAt(e,i,r,a,p),h=this.distSquare(this.__v1,this.__v0),p>=0&&h<g?(d=p,g=h):(this.__v2.x=this.cubicAt(t,n,o,l,c),this.__v2.y=this.cubicAt(e,i,r,a,c),f=this.distSquare(this.__v2,this.__v0),c<=1&&f<g?(d=c,g=f):y*=.5);return null!=_&&(_[0]=this.cubicAt(t,n,o,l,d),_[1]=this.cubicAt(e,i,r,a,d)),Math.sqrt(g)},e.prototype.quadraticAt=function(t,e,n,i){var o=1-i;return o*(o*t+2*i*e)+i*i*n},e.prototype.quadraticDerivativeAt=function(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))},e.prototype.quadraticRootAt=function(t,e,n,i,o){var r=t-2*e+n,l=2*(e-t),a=t-i,u=0;if(this.isAroundZero(r))this.isNotAroundZero(l)&&(_=-a/l)>=0&&_<=1&&(o[u++]=_);else{var s=l*l-4*r*a;if(this.isAroundZero(s))(_=-l/(2*r))>=0&&_<=1&&(o[u++]=_);else if(s>0){var _,p=Math.sqrt(s),c=(-l-p)/(2*r);(_=(-l+p)/(2*r))>=0&&_<=1&&(o[u++]=_),c>=0&&c<=1&&(o[u++]=c)}}return u},e.prototype.quadraticExtremum=function(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i},e.prototype.quadraticSubdivide=function(t,e,n,i,o){var r=(e-t)*i+t,l=(n-e)*i+e,a=(l-r)*i+r;o[0]=t,o[1]=r,o[2]=a,o[3]=a,o[4]=l,o[5]=n},e.prototype.quadraticProjectPoint=function(t,e,n,i,o,r,l,a,u){var s=0,_=.005,p=1/0;this.__v0.x=l,this.__v0.y=a;for(var c=0;c<1;c+=.05)this.__v1.x=this.quadraticAt(t,n,o,c),this.__v1.y=this.quadraticAt(e,i,r,c),(y=this.distSquare(this.__v0,this.__v1))<p&&(s=c,p=y);p=1/0;for(var h=0;h<32&&!(_<this.__epsilonNumeric);h++){var f=s-_,d=s+_;this.__v1.x=this.quadraticAt(t,n,o,f),this.__v1.y=this.quadraticAt(e,i,r,f);var y=this.distSquare(this.__v1,this.__v0);if(f>=0&&y<p)s=f,p=y;else{this.__v2.x=this.quadraticAt(t,n,o,d),this.__v2.y=this.quadraticAt(e,i,r,d);var g=this.distSquare(this.__v2,this.__v0);d<=1&&g<p?(s=d,p=g):_*=.5}}return null!=u&&(u[0]=this.quadraticAt(t,n,o,s),u[1]=this.quadraticAt(e,i,r,s)),Math.sqrt(p)},e}();t.Curve=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isMatrixTransformInfo=function(t){return"function"==typeof t.init}}(t||(t={})),function(t){t._isRotatableAnnotation=function(t){return"function"==typeof t._updateMatrix}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){this.__curve=new t.Curve,this.__roots=[-1,-1,-1],this.__extrema=[-1,-1]}return e.prototype.contain=function(t,e,n){return this._containPath(t.commands,0,!1,e,n)},e.prototype.containStroke=function(t,e,n,i){return this._containPath(t.commands,e,!0,n,i)},e.prototype._containPath=function(e,n,i,o,r){for(var l=0,a=0,u=0,s=0,_=0,p=0;p<e.length;p++){var c=e[p];if(t._isMoveToPathCommand(c)&&p>0&&(i||(l+=this._windingLine(a,u,s,_,o,r))),0===p&&(s=a=t._PathCommandUtility._getCommandEndPointXCoordinate(c,0),_=u=t._PathCommandUtility._getCommandEndPointYCoordinate(c,0)),t._isMoveToPathCommand(c)){var h=c;a=s=h.x,u=_=h.y}else if(t._isLineToPathCommand(c)){var f=c;if(i){if(this._line(a,u,f.x,f.y,n,o,r))return!0}else{var d=this._windingLine(a,u,f.x,f.y,o,r);l+=isNaN(d)?0:d}a=f.x,u=f.y}else if(t._isCurveToPathCommand(c)){var y=c;if(i){if(this._cubic(a,u,y.cpx1,y.cpy1,y.cpx2,y.cpy2,y.x,y.y,n,o,r))return!0}else d=this._windingCubic(a,u,y.cpx1,y.cpy1,y.cpx2,y.cpy2,y.x,y.y,o,r),l+=isNaN(d)?0:d;a=y.x,u=y.y}else if(t._isQuadraticCurveToPathCommand(c)){var g=c;if(i){if(this._quadratic(a,u,g.cpx,g.cpy,g.x,g.y,n,o,r))return!0}else l+=this._windingQuadratic(a,u,g.cpx,g.cpy,g.x,g.y,o,r),l+=isNaN(l)?0:l;a=g.x,u=g.y}else if(t._isSvgArcPathCommand(c)){var m=c,v=this._processArc(a,u,m.rx,m.ry,m.rotation,m.largeArcFlag,m.sweepFlag,m.x,m.y),w=v[0],b=v[1],P=v[2],S=v[3],C=v[4],V=v[5],x=1-v[7],D=Math.cos(C)*P+w,O=Math.sin(C)*S+b;p+1>1?l+=this._windingLine(a,u,D,O,o,r):(s=D,_=O);var A=(o-w)*S/P+w;if(i){if(this._arc(w,b,S,C,C+V,1==x,n,A,r))return!0}else l+=this._windingArc(w,b,S,C,C+V,1==x,A,r);a=Math.cos(C+V)*P+w,u=Math.sin(C+V)*S+b}else if(t._isCanvasArcPathCommand(c)){if(w=(m=c).cx,b=m.cy,P=m.rx,S=m.ry,C=m.startAngle,V=m.sweepAngle,x=m.counterclockwise,D=Math.cos(C)*P+w,O=Math.sin(C)*S+b,p+1>1?l+=this._windingLine(a,u,D,O,o,r):(s=D,_=O),A=(o-w)*S/P+w,i){if(this._arc(w,b,S,C,C+V,1==x,n,A,r))return!0}else l+=this._windingArc(w,b,S,C,C+V,1==x,A,r);a=Math.cos(C+V)*P+w,u=Math.sin(C+V)*S+b}else if(t._isClosePathCommand(c)){if(i){if(this._line(a,u,s,_,n,o,r))return!0}else l+=this._windingLine(a,u,s,_,o,r);a=s,u=_}}if(!i&&!t._NumberPixelRoundEqualityComparer._numberPixelRoundEqualityComparer._equalsWith(u,_)){var L=this._windingLine(a,u,s,_,o,r);l+=isNaN(L)?0:L}return 0!==l},e.prototype._windingLine=function(t,e,n,i,o,r){if(r>e&&r>i||r<e&&r<i)return 0;if(i===e)return 0;var l=i<e?1:-1,a=(r-e)/(i-e);1!==a&&0!==a||(l=i<e?.5:-.5);var u=a*(n-t)+t;return u===o?1/0:u>o?l:0},e.prototype._normalizeRadian=function(e){return(e%=t._Utility._PI2)<0&&(e+=t._Utility._PI2),e},e.prototype._arc=function(e,n,i,o,r,l,a,u,s){if(0===a)return!1;var _=a;u-=e,s-=n;var p=Math.sqrt(u*u+s*s);if(p-_>i||p+_<i)return!1;if(Math.abs(o-r)%t._Utility._PI2<1e-4)return!0;if(l){var c=o;o=this._normalizeRadian(r),r=this._normalizeRadian(c)}else o=this._normalizeRadian(o),r=this._normalizeRadian(r);o>r&&(r+=t._Utility._PI2);var h=Math.atan2(s,u);return h<0&&(h+=t._Utility._PI2),h>=o&&h<=r||h+t._Utility._PI2>=o&&h+t._Utility._PI2<=r},e.prototype._quadratic=function(t,e,n,i,o,r,l,a,u){if(0===l)return!1;var s=l;return!(u>e+s&&u>i+s&&u>r+s||u<e-s&&u<i-s&&u<r-s||a>t+s&&a>n+s&&a>o+s||a<t-s&&a<n-s&&a<o-s)&&this.__curve.quadraticProjectPoint(t,e,n,i,o,r,a,u,null)<=s/2},e.prototype._cubic=function(t,e,n,i,o,r,l,a,u,s,_){if(0===u)return!1;var p=u;return!(_>e+p&&_>i+p&&_>r+p&&_>a+p||_<e-p&&_<i-p&&_<r-p&&_<a-p||s>t+p&&s>n+p&&s>o+p&&s>l+p||s<t-p&&s<n-p&&s<o-p&&s<l-p)&&this.__curve.cubicProjectPoint(t,e,n,i,o,r,l,a,s,_,null)<=p/2},e.prototype._line=function(t,e,n,i,o,r,l){if(0===o)return!1;var a=o,u=0;if(l>e+a&&l>i+a||l<e-a&&l<i-a||r>t+a&&r>n+a||r<t-a&&r<n-a)return!1;if(t===n)return Math.abs(r-t)<=a/2;var s=(u=(e-i)/(t-n))*r-l+(t*i-n*e)/(t-n);return s*s/(u*u+1)<=a/2*a/2},e.prototype._swapExtrema=function(){var t=this.__extrema[0];this.__extrema[0]=this.__extrema[1],this.__extrema[1]=t},e.prototype._windingCubic=function(t,e,n,i,o,r,l,a,u,s){if(s>e&&s>i&&s>r&&s>a||s<e&&s<i&&s<r&&s<a)return 0;var _=this.__curve.cubicRootAt(e,i,r,a,s,this.__roots);if(0===_)return 0;for(var p=0,c=-1,h=0,f=0,d=0;d<_;d++){var y=this.__roots[d],g=0===y||1===y?.5:1;this.__curve.cubicAt(t,n,o,l,y)<u||(c<0&&(c=this.__curve.cubicExtrema(e,i,r,a,this.__extrema),this.__extrema[1]<this.__extrema[0]&&c>1&&this._swapExtrema(),h=this.__curve.cubicAt(e,i,r,a,this.__extrema[0]),c>1&&(f=this.__curve.cubicAt(e,i,r,a,this.__extrema[1]))),2===c?y<this.__extrema[0]?p+=h<e?g:-g:y<this.__extrema[1]?p+=f<h?g:-g:p+=a<f?g:-g:y<this.__extrema[0]?p+=h<e?g:-g:p+=a<h?g:-g)}return p},e.prototype._windingQuadratic=function(t,e,n,i,o,r,l,a){if(a>e&&a>i&&a>r||a<e&&a<i&&a<r)return 0;var u=this.__curve.quadraticRootAt(e,i,r,a,this.__roots);if(0===u)return 0;var s=this.__curve.quadraticExtremum(e,i,r);if(s>=0&&s<=1){for(var _=0,p=this.__curve.quadraticAt(e,i,r,s),c=0;c<u;c++){var h=0===this.__roots[c]||1===this.__roots[c]?.5:1;this.__curve.quadraticAt(t,n,o,this.__roots[c])<l||(this.__roots[c]<s?_+=p<e?h:-h:_+=r<p?h:-h)}return _}return h=0===this.__roots[0]||1===this.__roots[0]?.5:1,this.__curve.quadraticAt(t,n,o,this.__roots[0])<l?0:r<e?h:-h},e.prototype._windingArc=function(e,n,i,o,r,l,a,u){if((u-=n)>i||u<-i)return 0;var s=Math.sqrt(i*i-u*u);this.__roots[0]=-s,this.__roots[1]=s;var _=Math.abs(o-r);if(_<1e-4)return 0;if(_%t._Utility._PI2<1e-4){o=0,r=t._Utility._PI2;var p=l?1:-1;return a>=this.__roots[0]+e&&a<=this.__roots[1]+e?p:0}l?(o=this._normalizeRadian(r),r=this._normalizeRadian(o)):(o=this._normalizeRadian(o),r=this._normalizeRadian(r)),o>r&&(r+=t._Utility._PI2);for(var c=0,h=0;h<2;h++){var f=this.__roots[h];if(f+e>a){var d=Math.atan2(u,f);p=l?1:-1,d<0&&(d=t._Utility._PI2+d),(d>=o&&d<=r||d+t._Utility._PI2>=o&&d+t._Utility._PI2<=r)&&(d>Math.PI/2&&d<1.5*Math.PI&&(p=-p),c+=p)}}return c},e.prototype._vMag=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},e.prototype._vRatio=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(this._vMag(t)*this._vMag(e))},e.prototype._vAngle=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(this._vRatio(t,e))},e.prototype._processArc=function(t,e,n,i,o,r,l,a,u){var s=Math.PI,_=o*(s/180),p=Math.cos(_)*(t-a)/2+Math.sin(_)*(e-u)/2,c=-1*Math.sin(_)*(t-a)/2+Math.cos(_)*(e-u)/2,h=p*p/(n*n)+c*c/(i*i);h>1&&(n*=Math.sqrt(h),i*=Math.sqrt(h));var f=(r===l?-1:1)*Math.sqrt((n*n*(i*i)-n*n*(c*c)-i*i*(p*p))/(n*n*(c*c)+i*i*(p*p)));isNaN(f)&&(f=0);var d=f*n*c/i,y=f*-i*p/n,g=(t+a)/2+Math.cos(_)*d-Math.sin(_)*y,m=(e+u)/2+Math.sin(_)*d+Math.cos(_)*y,v=this._vAngle([1,0],[(p-d)/n,(c-y)/i]),w=[(p-d)/n,(c-y)/i],b=[(-1*p-d)/n,(-1*c-y)/i],P=this._vAngle(w,b);return this._vRatio(w,b)<=-1&&(P=s),this._vRatio(w,b)>=1&&(P=0),0===l&&P>0&&(P-=2*s),1===l&&P<0&&(P+=2*s),[g,m,n,i,v,P,_,l]},e}();t._PathUtil=e}(t||(t={})),function(t){t._isAnnotationOverlayDefinition=function(t){return null!=t&&"function"==typeof t._getAnnotationOverlayOption}}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__offset=null,r.__label=null,r.__style=new e._OverlayStyleOption(null),r.__pointPath=null,r.__placement=t.Placement.Auto,r.__position=t.AnnotationPosition.Outside,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pointPath",{get:function(){return this.__pointPath},set:function(t){this.__pointPath!=t&&(this.__pointPath=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._OverlayStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Placement,t.Placement.Auto)],r.prototype,"placement",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationPosition,t.AnnotationPosition.Outside)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"pointPath",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_OverlayStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"label",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"offset",null),r}(e._OverlayOption),e._AnnotationOverlayOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__opacity=null,o.__strokeOpacity=null,o.__fill=null,o.__backgroundColor=null,o.__stroke=null,o.__strokeWidth=null,o.__strokeDasharray=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){t=this.validate(t),null!=this.__opacity&&this.__opacity==t||(this.__opacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){t=this.validate(t),null!=this.__strokeOpacity&&this.__strokeOpacity==t||(this.__strokeOpacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this.__fill},set:function(t){null!=this.__fill&&this.__fill==t||(this.__fill=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this.__backgroundColor},set:function(t){null!=this.__backgroundColor&&this.__backgroundColor==t||(this.__backgroundColor=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){null!=this.__stroke&&this.__stroke==t||(this.__stroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){null!=this.__strokeWidth&&this.__strokeWidth==t||(this.__strokeWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){null!=this.__strokeDasharray&&this.__strokeDasharray==t||(this.__strokeDasharray=t)},enumerable:!1,configurable:!0}),i.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.OverlayStyleRequired,this.option());e.prototype._setOption.call(this,n)},o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"strokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"fill",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"backgroundColor",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"stroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"strokeDasharray",null),i}(e._Option),e._OverlayStyleOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._OverlayStyleOption(null);return n._setOption(e.option()),n.opacity=e.opacity,n.strokeOpacity=e.strokeOpacity,n.fill=null==e.fill?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.fill),n.backgroundColor=null==e.backgroundColor?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.backgroundColor),n.stroke=null==e.stroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.stroke),n.strokeWidth=e.strokeWidth,n.strokeDasharray=e.strokeDasharray,n},e._overlayStyleOptionCloneMarker=new e,e}();t._OverlayStyleOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isAnnotationOverlayOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return void 0!==n.style&&void 0!==n.placement&&void 0!==n.position}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.___parentView=t._getPlotView(),i}return n(i,e),i.prototype._getParentView=function(){return this.___parentView},i.prototype._getAnnotation=function(){return this._annotation},i.prototype._updateAnnotation=function(t){null!=t&&(this._annotation=t)},i.prototype._parseExcelExpression=function(e){var n=t._ExcelSyntaxEngine._defaultSyntaxEngine(),i=n.parse(e);if(null==i)return e;var o=this._identifierProxy(),r=n.evaluate(i,o,this._ownerView._getDefinition()._plotConfigOption.plugins,this._ownerView._getDefinition()._pluginCollection);return null!=r?r.toString():""},Object.defineProperty(i.prototype,"bindStateType",{get:function(){return this.__bindStateType},enumerable:!1,configurable:!0}),i.prototype._destruct=function(){null!=this._annotation&&this._annotation._destruct()},i.prototype._bindAttachmentManager=function(e,n){var i=!1;if(null!=this._annotation&&null!=e){var o=this._annotation._bind(new t.ProxyAttachmentAgentManager(e,this));null!=o&&(o._onAttached(this),i=!0,this.__bindStateType=n)}return i},i.prototype._runConditionalFormatRules=function(){(new t.models._OverlayItemConditionalFormattingRuleRunner)._apply(this),this._refresh()},i.prototype._isLayoutContextReady=function(){if(null==this._annotation)return!1;var e=this.___parentView;return!t._isPointView(e)||!e._isFiltered()},i.prototype._customizeAnnotation=function(t){},i.prototype._customizeAnnotationStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._ownerView._annotationStyle());if(t._StyleUtility._applyAllStyle(n,this.style),this._isHover()){var i=new t._CssColor("red");t._StyleUtility._applyFill(n,i),t._StyleUtility._applyStroke(n,i)}e._applyCustomStyle(n)},i.prototype._refresh=function(){this._customizeAnnotation(this._annotation),this._customizeAnnotationStyle(this._annotation)},i.prototype._beforeAnnotationLayout=function(){},i.prototype._layoutContent=function(e,n){this._isLayoutContextReady()?(this._beforeAnnotationLayout(),this._annotation._layout(e,n)):t._isRotatableAnnotation(this._annotation)&&this._annotation._updateMatrix(null)},i.prototype._isRenderContextReady=function(){return null!=this._annotation},i.prototype._drawView=function(t,e){this._isRenderContextReady()&&this._annotation._render(t,e)},i.prototype.queryInterface=function(t){if("IBoxBounded"===t&&null!=this._annotation){var n=this._annotation.queryInterface(t);if(null!=n)return n}return e.prototype.queryInterface.call(this,t)},i.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;var o=this._annotation;if(null!=o&&o._containStroke(e)){var r=new t.HitTestResult(e,this,this,t.ElementType.OverlayItem);return null==i||null!=i&&i.predicate(r)?r:null}return null},i.prototype._getAnnotationOverlayView=function(){return this._ownerView},i.prototype._getOverlayView=function(){return this._ownerView},i}(t._BaseOverlayItemView);t._AnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i)||this;return o.__shader=new t._OverlayShader(o),o}return n(i,e),i.prototype._type=function(){return this._definition._getAnnotationOverlayOption().type},i.prototype._shouldApplyColorFromPalette=function(){return new t._AnnotationOverlayItemViewColorBuilder(this)._shouldApplyColorFromPalette()},i.prototype._initializeStyle=function(){this._shouldApplyColorFromPalette()&&this.__shader._applyPaletteColor()},i.prototype._createDefaultStyle=function(){return t._StyleUtility._buildStrokeStyle(null,null,1)},i.prototype._layoutContent=function(t,e){t.beginTransform();for(var n=0,i=this._getAnnotationOverlayItemViews();n<i.length;n++)i[n]._layout(t,e);t.restoreTransform()},i.prototype._drawView=function(t,e){t.beginTransform();for(var n=0,i=this._getAnnotationOverlayItemViews();n<i.length;n++)i[n]._render(t,e);t.restoreTransform()},i.prototype._annotationStyle=function(){if(null==this.__annotationStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._getDefaultStyle());t._StyleUtility._applyFill(e,this.__shader._baseColor),t._StyleUtility._applyStroke(e,this.__shader._baseColor),t._OptionUtility._applyOverlayStyleOption(e,this._definition._getAnnotationOverlayOption().style),this.__annotationStyle=e}return this.__annotationStyle},i.prototype._getLegendGenerator=function(){return null!=this._definition._getAnnotationOverlayOption().label?(new t._AnnotationOverlayLegendItemGeneratorBuilder)._bulid(this):null},i.prototype._generateLegendItems=function(t){var e=this._getLegendGenerator();return null!=e?e._generate(t):null},i.prototype._getAnnotationOverlayDefinition=function(){return this._definition},i}(t._BaseOverlayView);t._BaseAnnotationOverlayView=e}(t||(t={})),function(t){t._isAnnotationOverlayItemView=function(t){if(null==t)return!1;var e=t;return"function"==typeof e._getAnnotationOverlayView&&"function"==typeof e._getAnnotation&&"function"==typeof e._updateAnnotation&&"function"==typeof e._layout}}(t||(t={})),function(t){t._isAnnotationOverlayView=function(t){var e=t;return null!=e&&"function"==typeof e._getAnnotationOverlayItemViews&&"function"==typeof e._annotationStyle&&"function"==typeof e._generateLegendItems}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._pointViews=function(){var e=t.AnnotationLib._parsePointPath(this._ownerView,this._definition._getAnnotationOverlayOption().pointPath);return null!=e?e:[]},i.prototype._createOverlayItemView=function(e,n){return new t._TextPointAnnotationOverlayItemViewBuilder(this)._bulid(e,n)},i.prototype._buildOverlayItemViews=function(){for(var e=0,n=this._pointViews();e<n.length;e++){var i=n[e];i instanceof t._TextCartesianPointView&&null!=i&&this._createOverlayItemView(i,i._id()+this._id())}},i.prototype.useData=function(){for(var t=0,e=this._getAnnotationOverlayItemViews();t<e.length;t++){var n=e[t];n.initialize(),n._runConditionalFormatRules()}},i.prototype._getAnnotationOverlayItemViews=function(){for(var e=[],n=0,i=this._pointViews();n<i.length;n++){var o=i[n];if(o instanceof t._TextCartesianPointView)for(var r=0,l=o._overlayItemViews();r<l.length;r++){var a=l[r],u=this._isChild(a);null!=u&&e.push(u)}}return e},i.prototype._isChild=function(t){return t._getOverlayView()===this?t:null},i.prototype.box=function(){for(var e=[],n=0,i=this._getAnnotationOverlayItemViews();n<i.length;n++){var o=i[n].queryInterface("IBoxBounded");null!=o&&e.push(o.box())}return e.length>0?t._RectangleUtility._unionOfRectangles.apply(t._RectangleUtility,e):null},i.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},i}(t._BaseAnnotationOverlayView);t._TextPointAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i)||this;o._updateAnnotation(o._createAnnotation());var r=t.AnnotationLib._parseCoordinateValue(o._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().offset);return null!=r&&(o._annotation.xOffset=r.x,o._annotation.yOffset=r.y),o}return n(i,e),i.prototype._textAnnotationOverlayView=function(){return this._ownerView},i.prototype._bindPointView=function(t){if(null!=t){var e=t._getAttachmentAgentManager();this._bindAttachmentManager(e,"View")&&(this.___parentView=t)}},i.prototype._isLayoutContextReady=function(){return"View"===this.bindStateType&&e.prototype._isLayoutContextReady.call(this)},i.prototype._isRenderContextReady=function(){return"View"===this.bindStateType&&e.prototype._isRenderContextReady.call(this)},i}(t._AnnotationOverlayItemView);t._TextPointAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(t,e){if(null==this.__overlayView)return null;var n=this._createItemViewBy(this.__overlayView,e);return null!=n&&n._bindPointView(t),n},e.prototype._createItemViewBy=function(e,n){return"Text"===e._type()?new t._TextPointTextAnnotationOverlayItemView(e,n):null},e}();t._TextPointAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._clone=function(){var t=new i(this._textAnnotationOverlayView(),this._id());return null!=this._getAnnotation()&&t._updateAnnotation(this._getAnnotation()._clone()),t},Object.defineProperty(i.prototype,"symbol",{get:function(){return this._rectangleBoxTextSymbolAnnotation().symbol},set:function(t){this._rectangleBoxTextSymbolAnnotation().symbol=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return t._AnyTypeUtility._toStringOrNull(this._innerProperty("text",this._option().text))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textStyle",{get:function(){var e=this._innerProperty("textStyle");if(null==e)return null;var n=new t.options._TextStyleOption;return t._Util.deepAssign(n,e),n},enumerable:!1,configurable:!0}),i.prototype._rectangleBoxTextSymbolAnnotation=function(){return this._annotation},i.prototype._option=function(){return e.prototype._getAnnotationOverlayView.call(this)._getAnnotationOverlayDefinition()._getAnnotationOverlayOption()},i.prototype._createAnnotation=function(){var e=new t._RectangleBoxTextSymbolAnnotation(null,null,this._option().position,this._option().placement,this._option().textStyle.overflow,this._option().textStyle.alignment);return e.rotate=this._option().angle,e.symbol=this._option().symbol,e.fixedWidth=this._option().width,e},i.prototype._customizeAnnotation=function(e){var n=e,i=this.text;t._OverlayExpression._isExcelExpression(i)?n._text(this._parseExcelExpression(i)):n._text(t.AnnotationLib._parseTextBoundValues(this.parent,i))},i.prototype.initialize=function(){e.prototype.initialize.call(this),this._rectangleBoxTextSymbolAnnotation().symbol=this._option().symbol},i.prototype._runConditionalFormatRules=function(){e.prototype._runConditionalFormatRules.call(this);var n=this._rectangleBoxTextSymbolAnnotation();if(null!=this._proxy()){var i=this._proxy().get("symbol",!0);null!=i&&(null==i.value?n.symbol=null:t._Util.deepAssign(n.symbol,i.value))}},i.prototype._beforeAnnotationLayout=function(){this._rectangleBoxTextSymbolAnnotation().maxWidth=this._ownerView._getPlotView()._rectangle().width},i.prototype._annotationStyle=function(){return null==this.__annotationStyle&&(this.__annotationStyle=t._StyleUtility._buildStyle(null,"none",null,"#666666",0),t._OptionUtility._applyOverlayStyleOption(this.__annotationStyle,this._option().style)),this.__annotationStyle},i.prototype._customizeAnnotationStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._annotationStyle());n.textFill="#000000",t._OptionUtility._applyTextStyleOption(n,this._option().textStyle),t._StyleUtility._applyAllStyle(n,this.style),t._OptionUtility._applyTextStyleOption(n,this.textStyle),e._applyCustomStyle(n)},i.prototype.layoutWithInnerAndOutterRotateRect=function(t,e){var n=this._option();return this._layoutLogic(n.hAlign,n.vAlign,n.groupAlign,n.placement,t,e)},i.prototype._layoutLogic=function(e,n,i,o,r,l){var a=this._rectangleBoxTextSymbolAnnotation();if(null!=i)return a.hAlign=t._NativeExtension._toNonNullEnum(i,e),l.clone();var u=r.center,s=l.center,_=r.size,p=l.size,c=t.Vector.pointSub(u,s);switch(a.hAlign=e,a.vAlign=n,o){case t.Placement.Top:case t.Placement.Auto:case t.Placement.Bottom:_.height=p.height;var h=t.Vector.pointSub(r.leftTop,r.leftBottom).standard();u=t.Vector.endPoint(u,h,c.dot(h));break;case t.Placement.Left:case t.Placement.Right:_.width=p.width;var f=t.Vector.pointSub(r.leftTop,r.rightTop).standard();u=t.Vector.endPoint(u,f,c.dot(f))}return new t._RectangleShape(u.x,u.y,_.width,_.height,r.angle)},i.prototype.queryInterface=function(t){if("IInnerAndOutterRotateRectLayouter"===t)return this;var n=this._rectangleBoxTextSymbolAnnotation().queryInterface(t);return null!=n?n:e.prototype.queryInterface.call(this,t)},i}(t._TextPointAnnotationOverlayItemView);t._TextPointTextAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this;return o._legendOverlayDefinition=new t._LegendOverlayDefinition(n,t.LegendType.Overlay),o}return n(i,e),i.prototype._getAnnotationOverlayOption=function(){return this._option},i.prototype._buildOverlayView=function(e){var n=this._option.pointPath;if(null!=n&&""!==n)if(null!=t._CoordinateValueExpressionBuilder._defaultBuilder._build(n)){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CoordinateValueCartesianAnnotationOverlayView(e,this)}else if(null!=t._DataPointPointPathExpressionBuilder._defaultBuilder._build(n))if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianPointAnnotationOverlayView(e,this);return null},i.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._AnnotationOverlayLegendItemsBuilder(this):null},i}(t._BaseOverlayDefinition);t._BaseAnnotationOverlayDefinition=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=e.call(this,o)||this;return r.__width=t._NativeExtension._toNonNullNumber(n,0),r.__height=t._NativeExtension._toNonNullNumber(i,0),r}return n(i,e),i.prototype._clone=function(){var t=new i;return null!=this._transformInfo&&(t._transformInfo=this._transformInfo.clone()),t},Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){!isNaN(t)&&t>0&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(t){!isNaN(t)&&t>0&&(this.__height=t)},enumerable:!1,configurable:!0}),i}(t._RotatableAnnotation);t._RectangleAnnotation=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null);var o=e.call(this,t,n,i)||this;return o.__connectLine=!1,o}return n(i,e),Object.defineProperty(i.prototype,"showConnectingLine",{get:function(){return this.__connectLine},set:function(t){this.__connectLine=t},enumerable:!1,configurable:!0}),i.prototype._junctions=function(){var e=this._getMatrixTransformInfo(),n=e.width,i=e.height,o=e.left,r=e.top;return[new t.core.Point(o+n/2,r),new t.core.Point(o,r+i/2),new t.core.Point(o+n,r+i/2),new t.core.Point(o+n/2,r+i)]},i.prototype._junction=function(e,n){return t.Vector.farthestPoint(t._MatrixUtility._transformPoints(n,this._junctions()),e.yDir).point()},i.prototype._bind=function(t){if(null!=t){var e=t._queryAttachmentAgent("point",this);if(null!=e)return this._bindAttachmentAgent(e),e}return null},i.prototype._beforeLayout=function(t,n){e.prototype._beforeLayout.call(this,t,n),this._initTransform(t)},i.prototype._layoutAnnotation=function(e,n,i){if(n instanceof t._PointAttachmentAgent){var o=n.pointAttachmentInfo(this);null!=o&&this._layoutWithPointAttachInfo(o)}},i.prototype._initTransform=function(t){var e=this._getMatrixTransformInfo();e.width=this.width,e.height=this.height},i.prototype._hasConntectLine=function(){return this.__connectLine&&t._ShapeUtil.DisPointToPointSquare(this._getMatrixTransformInfo().connectionPoint,this._start)>3},i.prototype._createTransformInfo=function(){return new t._AnchoredTransformInfo},i.prototype._layoutWithPointAttachInfo=function(e){if(null!=e){var n=this._getMatrixTransformInfo(),i=this._calcPos(e.point,e.xOffsetDir,e.yOffsetDir);if(null!=i){n.connectionPoint=i;var o=!1,r=t.Vector.angle(e.xDir,t.Vector.horizon());null!=this.relativeRotate&&(r+=this.relativeRotate),r=null!=this.rotate?this.rotate:r,e.yDir.cross(e.xDir)<0&&(o=!0,r-=Math.PI),n.rotation=r,o&&(n.scale[0]*=-1),this._start=e.point.clone();var l=new t.Matrix;l.rotate(n.rotation,new t.core.Point(n.left+n.width/2,n.top+n.height/2)),l.scale(n.scale[0],n.scale[1]),n.junctionPoint=this._junction(e,l),this._matrix=new t.Matrix,this._matrix.translate(n.connectionPoint.x-n.junctionPoint.x,n.connectionPoint.y-n.junctionPoint.y),this._matrix.transform(l)}}},i.prototype._layoutWithTransfromInfo=function(e){var n=e,i=n.connectionPoint;if(null!=i){var o=new t.Matrix;o.rotate(n.rotation,new t.core.Point(n.left+n.width/2,n.top+n.height/2)),o.scale(e.scale[0],e.scale[1]);var r=n.junctionPoint;this._matrix.reset(),this._matrix.translate(i.x-r.x,i.y-r.y),this._matrix.transform(o)}},i.prototype._beforeRender=function(t,n){e.prototype._beforeRender.call(this,t,n),this._layoutWithTransfromInfo(this._getMatrixTransformInfo()),this._renderConntectLine(t,n)},i.prototype._renderConntectLine=function(e,n){var i=this._getMatrixTransformInfo();if(null!=i.connectionPoint&&this._hasConntectLine()){var o=null,r=i.width,l=i.height,a=i.left,u=i.top,s=[new t.core.Point(a,u),new t.core.Point(a+r,u),new t.core.Point(a+r,u+l),new t.core.Point(a,u+l)];s=t._MatrixUtility._transformPoints(this._matrix,s);for(var _=t._MatrixUtility._transformPoint(this._matrix,new t.core.Point(a+r/2,u+l/2)),p=0;p<s.length;++p){var c=(p+1)%s.length;if(null!=(o=t._ShapeUtil.getSegmentsIntersection(s[p],s[c],this._start,_)))break}if(null==o)return;this._end=o,e.beginTransform(),t._StyleUtility._applyStyle(e,this._getConnectLineStyle()),e.drawLine(this._start.x,this._start.y,this._end.x,this._end.y),e.restoreTransform()}},i.prototype._renderAnnotation=function(t,e){},i.prototype._getConnectLineStyle=function(){return t._StyleUtility._buildStrokeStyle(null,"#000000",5)},i.prototype.box=function(){if(null==this._matrix)return null;var e=this._getMatrixTransformInfo();this._layoutWithTransfromInfo(e);var n=e.width,i=e.height,o=e.left,r=e.top;0!=n&&0!=i||(n=i=0);var l=t._MatrixUtility._transformCurve(this._matrix,[o,o+n,o,o+n],[r,r,r+i,r+i]),a=Math.min.apply(Math,l._xs),u=Math.min.apply(Math,l._ys),s=Math.max.apply(Math,l._xs)-a,_=Math.max.apply(Math,l._ys)-u;return new t.core.Rect(a,u,s,_)},i.prototype._toShape=function(){if(null==this._matrix)return null;var e=this._getMatrixTransformInfo();this._layoutWithTransfromInfo(e);var n=e.width,i=e.height,o=e.left,r=e.top;0!=n&&0!=i||(n=i=0);var l=t._MatrixUtility._transformPoint(this._matrix,new t.core.Point(o+n/2,r+i/2));return new t._RectangleShape(l.x,l.y,n,i,this._getMatrixTransformInfo().rotation)},i.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},i}(t._RectangleAnnotation);t._AnchoredPointAnnotation=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._strokeWidth=function(){var t=this._annotationStyle().strokeWidth;return null!=t?t:0},e.prototype._initTransform=function(t){var e=this._getMatrixTransformInfo(),n=this._strokeWidth();e.width=this.width+n,e.height=this.height+n},e.prototype._renderAnnotation=function(t,e){var n=this._getMatrixTransformInfo();if(null!=n.connectionPoint&&0!=n.width&&0!=n.height){var i=this._strokeWidth();t.drawRect(n.left+i/2,n.top+i/2,n.width-i,n.height-i,null,this._matrix)}},e}(t._AnchoredPointAnnotation);t._AnchoredPointRectangleAnnotation=e}(t||(t={})),function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.connectionPoint=null,t.junctionPoint=null,t.left=0,t.top=0,t.width=0,t.height=0,t}return n(i,e),i.prototype.translate=function(t,e){null!=this.connectionPoint&&(this.connectionPoint.x+=t,this.connectionPoint.y+=e)},i.prototype.init=function(){e.prototype.init.call(this),this.connectionPoint=null,this.junctionPoint=null,this.width=0,this.height=0,this.left=0,this.top=0},i.prototype.assign=function(t){e.prototype.assign.call(this,t);var n=t;null!=n.connectionPoint&&(this.connectionPoint=n.connectionPoint.clone()),null!=n.junctionPoint&&(this.junctionPoint=n.junctionPoint.clone()),this.width=n.width,this.height=n.height,this.left=n.left,this.top=n.top},i.prototype.lerp=function(n,i,o){e.prototype.lerp.call(this,n,i,o);var r=n,l=i;this.connectionPoint=this._lerpPoint(r.connectionPoint,l.connectionPoint,o),this.junctionPoint=this._lerpPoint(r.junctionPoint,l.junctionPoint,o),this.width=t._LerpUtil.lerp(r.width,l.width,o),this.height=t._LerpUtil.lerp(r.height,l.height,o),this.left=t._LerpUtil.lerp(r.left,l.left,o),this.top=t._LerpUtil.lerp(r.top,l.top,o)},i.prototype._lerpPoint=function(e,n,i){return null==e||null==n?null:new t.core.Point(t._LerpUtil.lerp(e.x,n.x,i),t._LerpUtil.lerp(e.y,n.y,i))},i.prototype.equalsWith=function(t){if(t instanceof i){if(null==this.connectionPoint&&null==t.connectionPoint&&null==this.junctionPoint&&null==t.junctionPoint&&this.width==t.width&&this.height==t.height&&this.left==t.left&&this.top==t.top)return e.prototype.equalsWith.call(this,t);if(null==this.junctionPoint&&null==t.junctionPoint&&null!=this.connectionPoint&&null!=t.connectionPoint&&this.connectionPoint.equalsWith(t.connectionPoint)&&this.width==t.width&&this.height==t.height&&this.left==t.left&&this.top==t.top)return e.prototype.equalsWith.call(this,t);if(null==this.connectionPoint&&null==t.connectionPoint&&null!=this.junctionPoint&&null!=t.junctionPoint&&this.junctionPoint.equalsWith(t.junctionPoint)&&this.width==t.width&&this.height==t.height&&this.left==t.left&&this.top==t.top)return e.prototype.equalsWith.call(this,t);if(null!=this.connectionPoint&&null!=t.connectionPoint&&this.connectionPoint.equalsWith(t.connectionPoint)&&null!=this.junctionPoint&&null!=t.junctionPoint&&this.junctionPoint.equalsWith(t.junctionPoint)&&this.width==t.width&&this.height==t.height&&this.left==t.left&&this.top==t.top)return e.prototype.equalsWith.call(this,t)}return!1},i.prototype.clone=function(){var t=new i;return t.assign(this),t},i}(t._MatrixTransformInfo);t._AnchoredTransformInfo=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.__position=t.AnnotationPosition.Outside,n.__placement=t.Placement.Auto,n}return n(i,e),i._createTemplateFrom=function(t){var e=new i;return e.position=t.position,e.placement=t.placement,e._bindAttachmentAgent(t._attachmentAgent()),e.width=t.width+t._strokeWidth(),e.height=t.height+t._strokeWidth(),e.rotate=null==t.rotate?null:180*t.rotate/Math.PI,e.relativeRotate=null==t.relativeRotate?null:180*t.relativeRotate/Math.PI,e.xOffset=t.xOffset,e.yOffset=t.yOffset,e},Object.defineProperty(i.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IAnnotationPosition"===t?this:e.prototype.queryInterface.call(this,t)},i.prototype._junction=function(e,n){var i=this._getMatrixTransformInfo(),o=i.width,r=i.height,l=this.__position;return l===t.AnnotationPosition.Center?t._MatrixUtility._transformPoint(n,new t.core.Point(o/2,r/2)):l===t.AnnotationPosition.Inside?t.Vector.farthestPoint(t._MatrixUtility._transformPoints(n,this._junctions()),e.yDir).point():t.Vector.farthestPoint(t._MatrixUtility._transformPoints(n,this._junctions()),e.yDir.reverse()).point()},i.prototype._bind=function(t){if(null!=t){var n=t._queryAttachmentAgent("donut",this);if(null!=n)return this._bindAttachmentAgent(n),n;if(null!=(n=t._queryAttachmentAgent("rectangle",this)))return this._bindAttachmentAgent(n),n}return e.prototype._bind.call(this,t)},i.prototype._layoutAnnotation=function(n,i,o){if(i instanceof t._DonutAttachmentAgent)null!=(r=i.donutAttachmentInfo(this))&&this._layoutWithDonutAttachInfo(r);else if(i instanceof t._RectAttachmentAgent){var r;null!=(r=i.rectAttachmentInfo(this))&&this._layoutWithRectAttachInfo(r)}else e.prototype._layoutAnnotation.call(this,n,i,o)},i.prototype._layoutWithDonutAttachInfo=function(n){var i,o=this.__position,r=n.startAngle+n.sweep/2,l=n.radius;o===t.AnnotationPosition.Center?(l-=(l-n.innerRadius)/2,i=new t.core.Point(n.center.x+l*Math.cos(r),n.center.y+l*Math.sin(r))):i=new t.core.Point(n.center.x+l*Math.cos(r),n.center.y+l*Math.sin(r));var a=new t.Vector(Math.cos(r),Math.sin(r)),u=new t.Vector(Math.cos(r+Math.PI/2),Math.sin(r+Math.PI/2)),s=u,_=a;if(n.swapAxes){var p=a;a=u,u=p}a=n.xReversed?a.reverse():a,u=n.yReversed?u.reverse():u,e.prototype._layoutWithPointAttachInfo.call(this,new t.PointAttachInfo(i,s,_,a,u))},i.prototype._layoutWithRectAttachInfo=function(n){var i=this.__position,o=this.__placement,r=new t.Vector(n.rightBottom.x-n.leftBottom.x,n.rightBottom.y-n.leftBottom.y),l=new t.Vector(n.leftTop.x-n.leftBottom.x,n.leftTop.y-n.leftBottom.y),a=null,u=null,s=t.AnnotationLib.getRectangleAttachmentPoints(n),_=new t.core.Point(0,0);if(i!==t.AnnotationPosition.Center){switch(o){case t.Placement.Auto:a=null!=n.AutoXDir?n.AutoXDir:r,u=null!=n.AutoYDir?n.AutoYDir:l;break;case t.Placement.Top:u=t.Vector.vertical(),a=t.Vector.horizon();break;case t.Placement.Left:u=new t.Vector(-1,0),a=t.Vector.vertical();break;case t.Placement.Right:u=t.Vector.horizon(),a=new t.Vector(0,1);break;case t.Placement.Bottom:u=new t.Vector(0,1),a=new t.Vector(-1,0)}_=t.Vector.farthestPoint(s,u).point()}else a=null!=n.AutoXDir?n.AutoXDir:r,u=null!=n.AutoYDir?n.AutoYDir:l,_.x=(n.leftTop.x+n.rightBottom.x)/2,_.y=(n.leftTop.y+n.rightBottom.y)/2;e.prototype._layoutWithPointAttachInfo.call(this,new t.PointAttachInfo(_,a,u,r,l))},i}(t._AnchoredPointRectangleAnnotation);t._PositionRectangleAnnotation=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l,a){void 0===o&&(o=t.AnnotationPosition.Outside),void 0===r&&(r=t.Placement.Auto),void 0===l&&(l=t.AnnotationAlign.Middle),void 0===a&&(a=t.AnnotationAlign.Center);var u=e.call(this)||this;return u._margin=null==n?t._PaddingUtility._buildPadding():n,u._padding=null==i?t._PaddingUtility._buildPadding():n,u.vAlign=l,u.hAlign=a,u._position=o,u._placement=r,u}return n(i,e),i.prototype._marginTop=function(){return null!=this._margin?this._margin.top.value:0},i.prototype._marginLeft=function(){return null!=this._margin?this._margin.left.value:0},i.prototype._marginRight=function(){return null!=this._margin?this._margin.right.value:0},i.prototype._marginBottom=function(){return null!=this._margin?this._margin.bottom.value:0},i.prototype._paddingTop=function(){return null!=this._padding?this._padding.top.value:0},i.prototype._paddingRight=function(){return null!=this._padding?this._padding.right.value:0},i.prototype._paddingBottom=function(){return null!=this._padding?this._padding.bottom.value:0},i.prototype._paddingLeft=function(){return null!=this._padding?this._padding.top.value:0},i.prototype._width=function(t){return t.width+this._paddingLeft()+this._paddingRight()},i.prototype._height=function(t){return t.height+this._paddingTop()+this._paddingBottom()},i.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):"IVertexes"===n?this._vertexes():e.prototype.queryInterface.call(this,n)},i.prototype._vertexes=function(){if(null==this._matrix)return null;var e=this._strokeWidth(),n=this.__transformInfo();this._layoutWithTransfromInfo(n);var i=this._width(n)+e+this._marginLeft()+this._marginRight(),o=this._height(n)+e+this._marginTop()+this._marginBottom(),r=t._MatrixUtility._transformCurve(this._matrix,[0,i,0,i],[0,0,o,o]);return t.Vertexes._pack(r._xs,r._ys)},i.prototype.box=function(){return null==this._matrix?null:(this._layoutWithTransfromInfo(this.__transformInfo()),this._getBoxBound(this._matrix))},i.prototype._getBoxBound=function(e){var n=this._strokeWidth(),i=this._width(this.__transformInfo())+n+this._marginLeft()+this._marginRight(),o=this._height(this.__transformInfo())+n+this._marginTop()+this._marginBottom();0!=i&&0!=o||(i=o=0);var r=t._MatrixUtility._transformCurve(e,[0,i,0,i],[0,0,o,o]),l=Math.min.apply(Math,r._xs),a=Math.min.apply(Math,r._ys),u=Math.max.apply(Math,r._xs)-l,s=Math.max.apply(Math,r._ys)-a;return new t.core.Rect(l,a,u,s)},i.prototype._strokeWidth=function(){var t=this._annotationStyle().strokeWidth;return null==t||isNaN(t)?0:t},i.prototype._junction=function(e){var n=this._getBoxBound(e),i=n.width,o=n.height,r=i/2,l=o/2;if(this._position===t.AnnotationPosition.Center)return new t.core.Point(r+n.left,l+n.top);switch(this._placement){case t.Placement.Bottom:case t.Placement.Top:switch(l=this._placement===t.Placement.Bottom?this._position===t.AnnotationPosition.Inside?o:0:this._position===t.AnnotationPosition.Inside?0:o,this.hAlign){case t.AnnotationAlign.Left:r=0;break;case t.AnnotationAlign.Right:r=i;break;default:r=i/2}break;case t.Placement.Left:case t.Placement.Right:switch(this.vAlign){case t.AnnotationAlign.Top:l=0;break;case t.AnnotationAlign.Bottom:l=o;break;default:l=o/2}r=this._placement===t.Placement.Left?this._position===t.AnnotationPosition.Inside?0:i:this._position===t.AnnotationPosition.Inside?i:0}return new t.core.Point(r+n.left,l+n.top)},Object.defineProperty(i.prototype,"top",{get:function(){return this._strokeWidth()/2+this._marginTop()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return this._strokeWidth()/2+this._marginLeft()},enumerable:!1,configurable:!0}),i.prototype._bind=function(t){if(null!=t){var n=t._queryAttachmentAgent("rectangle",this);return null!=n?(this._bindAttachmentAgent(n),n):e.prototype._bind.call(this,t)}return null},i.prototype._layoutAnnotation=function(e,n,i){if(n instanceof t._RectAttachmentAgent){var o=n.rectAttachmentInfo(this);null!=o&&this._layoutWithRectAttachInfo(o)}},i.prototype._layoutWithRectAttachInfo=function(e){var n=new t.Vector(e.rightBottom.x-e.leftBottom.x,e.rightBottom.y-e.leftBottom.y),i=new t.Vector(e.leftTop.x-e.leftBottom.x,e.leftTop.y-e.leftBottom.y),o=new t.core.Point(0,0);if(this._position===t.AnnotationPosition.Center)o.x=(e.leftTop.x+e.rightBottom.x)/2,o.y=(e.leftTop.y+e.rightBottom.y)/2;else switch(this._placement===t.Placement.Auto&&(this._position===t.AnnotationPosition.Inside?this._placement=t.Placement.Bottom:this._placement=t.Placement.Top,this._position=t.AnnotationPosition.Outside),this._placement){case t.Placement.Bottom:switch(this.hAlign){case t.AnnotationAlign.Left:o=e.leftBottom.clone();break;case t.AnnotationAlign.Right:o=e.rightBottom.clone();break;case t.AnnotationAlign.Center:o.x=(e.leftBottom.x+e.rightBottom.x)/2,o.y=(e.leftBottom.y+e.rightBottom.y)/2}break;case t.Placement.Top:switch(this.hAlign){case t.AnnotationAlign.Left:o=e.leftTop.clone();break;case t.AnnotationAlign.Right:o=e.rightTop.clone();break;case t.AnnotationAlign.Center:o.x=(e.leftTop.x+e.rightTop.x)/2,o.y=(e.leftTop.y+e.rightTop.y)/2}break;case t.Placement.Left:switch(this.vAlign){case t.AnnotationAlign.Top:o=e.leftTop.clone();break;case t.AnnotationAlign.Bottom:o=e.leftBottom.clone();break;case t.AnnotationAlign.Middle:o.x=(e.leftTop.x+e.leftBottom.x)/2,o.y=(e.leftTop.y+e.leftBottom.y)/2}break;case t.Placement.Right:switch(this.vAlign){case t.AnnotationAlign.Top:o=e.rightTop.clone();break;case t.AnnotationAlign.Bottom:o=e.rightBottom.clone();break;case t.AnnotationAlign.Middle:o.x=(e.rightTop.x+e.rightBottom.x)/2,o.y=(e.rightTop.y+e.rightBottom.y)/2}}this._layoutWithPointAttachInfo(new t.PointAttachInfo(o,n,i,n,i))},i.prototype._createTransformInfo=function(){return new t._AnchoredTransformInfo},i.prototype.__transformInfo=function(){return e.prototype._getMatrixTransformInfo.call(this)},i.prototype._layoutWithPointAttachInfo=function(e){if(null!=e){var n=this.__transformInfo();n.connectionPoint=this._calcPos(e.point,e.xOffsetDir,e.yOffsetDir);var i=!1,o=t.Vector.angle(e.xDir,t.Vector.horizon());e.yDir.cross(e.xDir)<0&&(i=!0,o-=Math.PI),i&&(n.scale[0]*=-1),this.__parentRotate=o,null!=this.relativeRotate&&(o+=this.relativeRotate),n.rotation=null==this.rotate?o:this.rotate,n.width=this.width,n.height=this.height,this._matrix=new t.Matrix,this._layoutWithTransfromInfo(n)}},i.prototype._layoutWithTransfromInfo=function(e){var n=e.connectionPoint,i=e.junctionPoint;if(null!=n){var o=e.rotation-this.__parentRotate,r=new t.Matrix;if(r.rotate(o,new t.core.Point(e.width/2,e.height/2)),r.scale(e.scale[0],e.scale[1]),null==i){var l=this._junction(r),a=new t.Matrix;a.rotate(this.__parentRotate),e.junctionPoint=i=t._MatrixUtility._transformPoint(a,l)}this._matrix.reset(),this._matrix.translate(n.x-i.x,n.y-i.y),this._matrix.rotate(this.__parentRotate),this._matrix.transform(r)}},i.prototype._beforeRender=function(t,n){e.prototype._beforeRender.call(this,t,n),this._layoutWithTransfromInfo(this.__transformInfo())},i.prototype._renderAnnotation=function(t,e){null!=this.__transformInfo().connectionPoint&&t.drawRect(this.left,this.top,this._width(this.__transformInfo()),this._height(this.__transformInfo()),null,this._matrix)},i}(t._RectangleAnnotation);t._RectangleBoxRectangleAnnotation=e}(t||(t={})),function(t){!function(t){t._isRectangleOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Rectangle"==n.type&&void 0!==n.width&&void 0!==n.height&&void 0!==n.angle}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="Rectangle",o.__width=0,o.__height=0,o.__angle=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"angle",null),i}(e._AnnotationOverlayOption),e._RectangleOverlayOption=i}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseAnnotationOverlayDefinition);t._RectangleAnnotationDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isRectangleOverlayOption(n)){var o=n;return new t._RectangleAnnotationDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Rectangle"===(o=n).type&&t.options._isJsonOption(n))return new t._RectangleAnnotationDefinition(e,new t.options._RectangleOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._RectangleOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseAnnotationOverlayDefinition);t._EllipseAnnotationDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isEllipseOverlayOption(n)){var o=n;return new t._EllipseAnnotationDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Ellipse"===(o=n).type&&t.options._isJsonOption(n))return new t._EllipseAnnotationDefinition(e,new t.options._EllipseOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._EllipseOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype._renderAnnotation=function(t,e){var n=this._getMatrixTransformInfo();if(null!=n.connectionPoint){t.beginTransform();var i=this._strokeWidth();t.drawEllipse(n.left+n.width/2,n.top+n.height/2,(n.width-i)/2,(n.height-i)/2,null,this._matrix),t.restoreTransform()}},e}(t._PositionRectangleAnnotation);t._PositionEllipseAnnotation=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="Ellipse",o.__width=0,o.__height=0,o.__angle=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},set:function(t){null!=this.__angle&&this.__angle==t||(this.__angle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"angle",null),i}(e._AnnotationOverlayOption),e._EllipseOverlayOption=i}(t||(t={})),function(t){!function(t){t._isEllipseOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Ellipse"==n.type&&void 0!==n.width&&void 0!==n.height&&void 0!==n.angle}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseAnnotationOverlayDefinition);t._ImageAnnotationDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isImageOverlayOption(n)){var o=n;return new t._ImageAnnotationDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Image"===(o=n).type&&t.options._isJsonOption(n))return new t._ImageAnnotationDefinition(e,new t.options._ImageOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ImageOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),Object.defineProperty(i.prototype,"image",{get:function(){return this.__img},set:function(t){null!=t&&(this.__img=t)},enumerable:!1,configurable:!0}),i.prototype._strokeWidth=function(){return 0},i.prototype._layoutAnnotation=function(n,i,o){var r=this.__img;if(null!=r){var l=this._getMatrixTransformInfo(),a=t._NativeExtension._toNonNullNumber(r.width,0),u=t._NativeExtension._toNonNullNumber(r.height,0);if(a<=0||u<=0)return;var s=a/u;null!=this.imageWidth&&(l.width=this.imageWidth,null==this.imageHeight&&(l.height=this.imageWidth/s)),null!=this.imageHeight&&(l.height=this.imageHeight,null==this.imageWidth&&(l.width=this.imageHeight*s)),e.prototype._layoutAnnotation.call(this,n,i,o)}},i.prototype._renderAnnotation=function(t,e){if(null!=this.__img){var n=this._getMatrixTransformInfo();t.beginTransform(),t.drawImage(this.__img,n.left,n.top,n.width,n.height,null,this._matrix),t.restoreTransform()}},i}(t._PositionRectangleAnnotation);t._PositionImageAnnotation=e}(t||(t={})),function(t){!function(t){t._isImageOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Image"==n.type&&void 0!==n.width&&void 0!==n.height&&void 0!==n.angle&&void 0!==n.source}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="Image",o.__width=null,o.__height=null,o.__angle=null,o.__source=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},set:function(t){null!=this.__angle&&this.__angle==t||(this.__angle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"source",{get:function(){return this.__source},set:function(t){this.__source!=t&&(this.__source=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberOrNullOrAutoNumberConverter,!0)],i.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberOrNullOrAutoNumberConverter,!0)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"angle",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"source",null),i}(e._AnnotationOverlayOption),e._ImageOverlayOption=i}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._getLineOverlayOption=function(){return this._option},i.prototype._buildOverlayView=function(e){if("Line"===this._getLineOverlayOption().type)if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianLineCoordinateAnnotationOverlayView(e,this);return null},i.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._LineAnnotationOverlayLegendItemsBuilder(this):null},i}(t._BaseAnnotationOverlayDefinition);t._LineAnnotationDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isLineOverlayOption(n)){var o=n;return new t._LineAnnotationDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Line"===(o=n).type&&t.options._isJsonOption(n))return new t._LineAnnotationDefinition(e,new t.options._LineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getLineTransformInfo=function(){return this._transformInfo},i.prototype._clone=function(){var t=new i;return null!=this._transformInfo&&(t._transformInfo=this._transformInfo.clone()),t},i.prototype._bind=function(t){if(null!=t){var e=t._queryAttachmentAgent("line",this);if(null!=e)return this._bindAttachmentAgent(e),e}return null},i.prototype._beforeLayout=function(e,n){this._transformInfo=new t._LineTransformInfo},i.prototype._layoutAnnotation=function(e,n,i){if(n instanceof t._LineAttachmentAgent){var o=n.lineAttachmentInfo(this);if(null==o||o.start.equalsWith(o.end))return void(this._transformInfo=null);var r=this._getLineTransformInfo(),l=new t.Vector(o.end.x-o.start.x,o.end.y-o.start.y),a=l.reverse();r._updateLocation(this._calcPos(o.start,l,a),this._calcPos(o.end,l,a))}},i.prototype._renderAnnotation=function(t,e){var n=this._getLineTransformInfo();if(null!=n){var i=n._getStart(),o=n._getEnd();null!=i&&null!=o&&t.drawLine(i.x,i.y,o.x,o.y)}},i.prototype.box=function(){var e=this._getLineTransformInfo();if(null!=e&&null!=e._getStart()&&null!=e._getEnd()){var n=Math.min(e._getStart().x,e._getEnd().x),i=Math.min(e._getStart().y,e._getEnd().y),o=Math.max(e._getStart().x,e._getEnd().x)-n,r=Math.max(e._getStart().y,e._getEnd().y)-i;return new t.core.Rect(n,i,o,r)}return null},i.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},i}(t._Annotation);t._LineAnnotation=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.buildLegendItemDataModels=function(e,n){return t._isAnnotationOverlayView(n)?n._generateLegendItems(e):[]},i}(e._OverlayLegendItemsBuilder),e._LineAnnotationOverlayLegendItemsBuilder=i}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;return i.endOffset=n,i}return n(i,e),Object.defineProperty(i.prototype,"width",{get:function(){return null==this.__width?10:this.__width},set:function(t){!isNaN(t)&&t>0&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"endOffset",{get:function(){return this.__endOffset},set:function(t){this.__endOffset=t},enumerable:!1,configurable:!0}),i.prototype._Gauge1=function(e,n,i){var o=new t.Vector(n.x-e.x,n.y-e.y);if(i=null!=i&&0!=i?i:10,e.equalsWith(n))return null;var r=new t.Vector(o.y,-o.x),l=this.width,a=t.Vector.endPoint(n,o.reverse(),i),u=t.Vector.endPoint(e,r,l),s=t.Vector.endPoint(u,o.reverse(),l),_=t.Vector.endPoint(e,o.reverse(),l),p=t.Vector.endPoint(e,r.reverse(),l),c=[],h=t._PathCommandBuilder._defaultPathCommandBuilder;c.push(h._buildMoveToPathCommand(a.x,a.y)),c.push(h._buildLineToPathCommand(u.x,u.y));var f=h._buildQuadraticCurveToPathCommand(s.x,s.y,_.x,_.y);return c.push(f),c.push(h._buildSmoothQuadraticCurveToPathCommand(p.x,p.y,f,t._PathCommandUtility._getPathCommandsCurrentX(c),t._PathCommandUtility._getPathCommandsCurrentY(c))),c.push(h._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(c)},i.prototype._renderAnnotation=function(e,n){var i=this._getLineTransformInfo();if(null!=i){var o=i._getStart(),r=i._getEnd();if(null!=o&&null!=r){var l=this._Gauge1(o,r,this.endOffset);null!=l&&e.drawPath(l,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)}}},i.prototype.box=function(){var e=this._getLineTransformInfo();if(null!=e&&null!=e._getStart()&&null!=e._getEnd()){var n=e._getStart(),i=e._getEnd(),o=new t.Vector(i.x-n.x,i.y-n.y),r=null!=this.endOffset&&0!=this.endOffset?this.endOffset:10;if(n.equalsWith(i))return null;var l=new t.Vector(o.y,-o.x),a=this.width,u=[t.Vector.endPoint(i,o.reverse(),r),t.Vector.endPoint(n,l,a),t.Vector.endPoint(n,o.reverse(),a),t.Vector.endPoint(n,l.reverse(),a)],s=u.map((function(t){return t.x})),_=u.map((function(t){return t.y})),p=Math.min.apply(Math,s),c=Math.min.apply(Math,_),h=Math.max.apply(Math,s)-p,f=Math.max.apply(Math,_)-c;return new t.core.Rect(p,c,h,f)}return null},i}(t._LineAnnotation);t._LineGaugeAnnotation=e}(t||(t={})),function(t){t._isLineTransformInfo=function(t){var e=t;return"function"==typeof e._getStart&&"function"==typeof e._getEnd}}(t||(t={})),function(t){var e=function(){function e(){this._start=null,this._end=null}return e.prototype.init=function(){this._start=null,this._end=null},e.prototype.assign=function(t){var e=t;null!=e._getStart()&&(this._start=e._getStart().clone()),null!=e._getEnd()&&(this._end=e._getEnd().clone())},e.prototype.lerp=function(t,e,n){var i=t,o=e;this._start=this._lerpPoint(i._getStart(),o._getStart(),n),this._end=this._lerpPoint(i._getEnd(),o._getEnd(),n)},e.prototype._lerpPoint=function(e,n,i){return new t.core.Point(t._LerpUtil.lerp(e.x,n.x,i),t._LerpUtil.lerp(e.y,n.y,i))},e.prototype.equalsWith=function(t){if(t instanceof e){if(null==this._start&&null==t._start&&null==this._end&&null==t._end)return!0;if(null==this._end&&null==t._end&&null!=this._start&&null!=t._start&&this._start.equalsWith(t._start))return!0;if(null==this._start&&null==t._start&&null!=this._end&&null!=t._end&&this._end.equalsWith(t._end))return!0;if(null!=this._start&&null!=t._start&&this._start.equalsWith(t._start)&&null!=this._end&&null!=t._end&&this._end.equalsWith(t._end))return!0}return!1},e.prototype._getStart=function(){return this._start},e.prototype._getEnd=function(){return this._end},e.prototype._updateLocation=function(t,e){this._start=t,this._end=e},e.prototype.clone=function(){var t=new e;return t.assign(this),t},e}();t._LineTransformInfo=e}(t||(t={})),function(t){!function(t){t._isLineOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Line"==n.type&&void 0!==n.start&&void 0!==n.end}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="Line",o.__start=null,o.__end=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"start",{get:function(){return this.__start},set:function(t){this.__start!=t&&(this.__start=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"end",{get:function(){return this.__end},set:function(t){this.__end!=t&&(this.__end=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"start",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"end",null),i}(e._AnnotationOverlayOption),e._LineOverlayOption=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.buildLegendItemDataModels=function(e,n){return t._isAnnotationOverlayView(n)?n._generateLegendItems(e):[]},i}(e._OverlayLegendItemsBuilder),e._NeedleAnnotationOverlayLegendItemsBuilder=i}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._needleOverlayOption=function(){return this._option},i.prototype._buildOverlayView=function(e){if("Needle"===this._needleOverlayOption().type)if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._NeedleCartesianLineCoordinateAnnotationOverlayView(e,this);return null},i.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._NeedleAnnotationOverlayLegendItemsBuilder(this):null},i}(t._LineAnnotationDefinition);t._NeedleAnnotationOverlayDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isNeedleOverlayOption(n)){var o=n;return new t._NeedleAnnotationOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Needle"===(o=n).type&&t.options._isJsonOption(n))return new t._NeedleAnnotationOverlayDefinition(e,new t.options._NeedleOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._NeedleOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){t._isNeedleOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Needle"==n.type&&void 0!==n.width&&void 0!==n.endOffset}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="Needle",o.__start=null,o.__end=null,o.__width=0,o.__endOffset=t._Constants.NeedleEndOffset,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"endOffset",{get:function(){return this.__endOffset},set:function(t){this.__endOffset!=t&&(this.__endOffset=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"start",{get:function(){return this.__start},set:function(t){this.__start!=t&&(this.__start=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"end",{get:function(){return this.__end},set:function(t){this.__end!=t&&(this.__end=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,t._Constants.NeedleEndOffset)],i.prototype,"endOffset",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"start",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"end",null),i}(e._AnnotationOverlayOption),e._NeedleOverlayOption=i}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.__filltype=t.PathFillType.Nonzero,n.__lineCap=t.LineCap.Butt,n.__lineJoin=t.LineJoin.Miter,n}return n(i,e),i.prototype._containStroke=function(e){if(null!=this._matrix){var n=this._matrix.invert();e=t._MatrixUtility._transformPoint(n,e);for(var i=new t._PathUtil,o=this._annotationStyle().strokeWidth,r=0,l=this.__paths;r<l.length;r++){var a=l[r];if(null!=o&&o>0&&i.containStroke(a,o,e.x,e.y))return!0}return!1}return!1},Object.defineProperty(i.prototype,"paths",{set:function(t){Array.isArray(t)&&(this.__paths=t.slice())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"join",{get:function(){return this.__join},set:function(e){null!=e&&(this.__join=new t.core.Point(e.x,e.y))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineCap",{get:function(){return this.__lineCap},set:function(t){this.__lineCap!=t&&(this.__lineCap=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineJoin",{get:function(){return this.__lineJoin},set:function(t){this.__lineJoin!=t&&(this.__lineJoin=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillType",{get:function(){return this.__filltype},set:function(t){this.__filltype!=t&&(this.__filltype=t)},enumerable:!1,configurable:!0}),i.prototype._annotationStyle=function(){if(null==this.__pathsAnnotationStyle){var e=null!=this._defaultStyle()?this._defaultStyle():t._StyleUtility._buildStyle();t._StyleUtility._applyAllStyle(e,this._customStyle()),e.scalingStroke=!1,this.__pathsAnnotationStyle=e}return this.__pathsAnnotationStyle},i.prototype._initTransform=function(t){var e=this._getMatrixTransformInfo();e.width=this.width,e.height=this.height;var n=this._getBoundingBoxOfPath(this.__paths);null!=n&&(n.width>0&&(e.scale[0]*=this.width/n.width),n.height>0&&(e.scale[1]*=this.height/n.height))},i.prototype._getBoundingBoxOfPath=function(e){for(var n=null,i=0,o=e;i<o.length;i++){var r=o[i],l=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(r);n=null==n?l:t._RectangleUtility._unionOfRectangles(n,l)}return n},i.prototype._junction=function(e,n){if(null!=this.join)return t._MatrixUtility._transformPoint(n,this.join.clone());var i=this._getBoundingBoxOfPath(this.__paths);return null!=i?t._MatrixUtility._transformPoint(n,i.center):t._MatrixUtility._transformPoint(n,new t.core.Point(50,50))},i.prototype._strokeWidth=function(){return 0},i.prototype._renderAnnotation=function(t,e){var n=this;null!=this.__paths&&this.width>0&&this.height>0&&(t.beginTransform(),t.drawGroup(null,null,this._matrix,(function(t){for(var e=0,i=n.__paths;e<i.length;e++){var o=i[e];t.drawPath(o,n.fillType,n.lineCap,n.lineJoin)}})),t.restoreTransform())},i}(t._PositionRectangleAnnotation);t._PathsAnnotation=e}(t||(t={})),function(t){!function(t){t._isPathAnnotationOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Path"==n.type&&void 0!==n.path&&void 0!==n.width&&void 0!==n.height&&void 0!==n.angle&&void 0!==n.fillType&&void 0!==n.lineCap&&void 0!==n.lineJoin&&void 0!==n.join}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="Path",o.__width=0,o.__height=0,o.__angle=null,o.__path=[],o.__fillType=t.PathFillType.Nonzero,o.__join=null,o.__lineCap=t.LineCap.Butt,o.__lineJoin=t.LineJoin.Miter,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineCap",{get:function(){return this.__lineCap},set:function(t){this.__lineCap!=t&&(this.__lineCap=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineJoin",{get:function(){return this.__lineJoin},set:function(t){this.__lineJoin!=t&&(this.__lineJoin=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"join",{get:function(){return this.__join},set:function(t){this.__join!=t&&(this.__join=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillType",{get:function(){return this.__fillType},set:function(t){this.__fillType!=t&&(this.__fillType=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.__path},set:function(t){this.__path=[],null!=t&&(this.__path=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LineCap,t.LineCap.Butt)],i.prototype,"lineCap",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LineJoin,t.LineJoin.Miter)],i.prototype,"lineJoin",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"join",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.PathFillType,t.PathFillType.Nonzero)],i.prototype,"fillType",null),o([t.JsonConverterAttribute(t._ArrayConverter,!0,"string")],i.prototype,"path",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"angle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"width",null),i}(e._AnnotationOverlayOption),e._PathAnnotationOption=i}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseAnnotationOverlayDefinition);t._PathAnnotationDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isPathAnnotationOption(n)){var o=n;return new t._PathAnnotationDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Path"===(o=n).type&&t.options._isJsonOption(n))return new t._PathAnnotationDefinition(e,new t.options._PathAnnotationOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PathOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.init=function(){e.prototype.init.call(this),this.symbolSize=null,this.text=null},i.prototype.assign=function(t){e.prototype.assign.call(this,t);var n=t;null!=n.symbolSize&&(this.symbolSize=n.symbolSize.clone()),this.text=n.text},i.prototype.lerp=function(n,i,o){e.prototype.lerp.call(this,n,i,o);var r=n,l=i;null!=r.symbolSize&&null!=l.symbolSize&&(this.symbolSize.width=t._LerpUtil.lerp(r.symbolSize.width,l.symbolSize.width,o),this.symbolSize.height=t._LerpUtil.lerp(r.symbolSize.height,l.symbolSize.height,o)),this.text=t._LerpUtil.lerpString(r.text,l.text,o)},i.prototype.equalsWith=function(t){if(t instanceof i){if(null==this.symbolSize&&null==t.symbolSize&&this.text==t.text)return e.prototype.equalsWith.call(this,t);if(null!=this.symbolSize&&null!=t.symbolSize&&this.symbolSize.equalsWith(t.symbolSize)&&this.text==t.text)return e.prototype.equalsWith.call(this,t)}return!1},i.prototype.clone=function(){var t=new i;return t.assign(this),t},i}(t._AnchoredTransformInfo);t._BoxTextSymbolTransformInfo=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.buildLegendItemDataModels=function(e,n){return t._isAnnotationOverlayView(n)?n._generateLegendItems(e):[]},i}(e._OverlayLegendItemsBuilder),e._TextAnnotationOverlayLegendItemsBuilder=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.init=function(){e.prototype.init.call(this),this.text=null,this._lerped=null},i.prototype.assign=function(t){e.prototype.assign.call(this,t);var n=t;null!=n.text&&(this.text=n.text),this.text=n.text,this._lerped=n._lerped},i.prototype.lerp=function(n,i,o){var r=n,l=i;r.connectionPoint.equalsWith(l.connectionPoint)?this._lerped=!1:(e.prototype.lerp.call(this,r,l,o),this._lerped=!0),this.text=t._LerpUtil.lerpString(r.text,l.text,o)},i.prototype.equalsWith=function(t){return t instanceof i&&this.text==t.text&&e.prototype.equalsWith.call(this,t)},i.prototype.clone=function(){var t=new i;return t.assign(this),t},i}(t._AnchoredTransformInfo);t._TextTransformInfo=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;return i.__maxWidth=Number.MAX_VALUE,i.__overflow=t,i.__textAlignment=n,i}return n(i,e),Object.defineProperty(i.prototype,"fixedWidth",{get:function(){return this.__fixedWidth},set:function(t){this.__fixedWidth=null!=t&&t>0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxWidth",{get:function(){return this.__maxWidth},set:function(t){t>0&&(this.__maxWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.__text},set:function(t){null!=t&&(this.__text=t)},enumerable:!1,configurable:!0}),i.prototype._textOverflow=function(){return t._NativeExtension._toNonNullEnum(this.__overflow,t.TextOverflow.Wrap)},i.prototype._textAlignment=function(){return this._textOverflow()==t.TextOverflow.Clip?t._NativeExtension._toNonNullEnum(this.__textAlignment,t.HAlign.Left):t._NativeExtension._toNonNullEnum(this.__textAlignment,t.HAlign.Center)},i.prototype._createTransformInfo=function(){return new t._TextTransformInfo},i.prototype._layoutAnnotation=function(t,n,i){if(null!=this.__text&&""!==this.__text){var o=this._getMatrixTransformInfo();o.text=this.__text,this._measureText(t,o),e.prototype._layoutAnnotation.call(this,t,n,i)}},i.prototype._beforeRender=function(n,i){var o=this._getMatrixTransformInfo();this._isUnlerped(o._lerped)&&(n.beginTransform(),t._StyleUtility._applyAllStyle(n,this._annotationStyle()),this._applyStyle(n),this._layoutAnnotationForUnlerpedTransform(n,this._attachmentAgent(),i),n.restoreTransform()),e.prototype._beforeRender.call(this,n,i)},i.prototype._isUnlerped=function(t){return null!=t&&!t},i.prototype._layoutAnnotationForUnlerpedTransform=function(t,n,i){var o=this._getMatrixTransformInfo(),r=o.connectionPoint.clone();this._measureText(t,o),e.prototype._layoutAnnotation.call(this,t,n,i),o.connectionPoint.x=r.x,o.connectionPoint.y=r.y},i.prototype._renderAnnotation=function(n,i){var o=this,r=this._getMatrixTransformInfo();if(null!=r.text&&null!=r.connectionPoint){(!t._ColorUtility._isTransparent(n.fill)||null!=n.strokeWidth&&n.strokeWidth>0)&&e.prototype._renderAnnotation.call(this,n,i);var l=this._strokeWidth(),a=this._textOverflow(),u=r.height-2*l+.001,s=r.width-2*l+.001,_=n.measureMultiLineString(r.text,s,this._textOverflow()),p=r.top+l+Math.max((r.height-2*l-_.size.height)/2,0);if(s<=0||u<=0)return;n.drawGroup(null,null,this._matrix,(function(e){var n=null;(_.size.width>s||_.size.height>u)&&(n=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(r.left+l,p,s,u)),e.drawGroup(null,n,null,(function(e){var n=new t.core.Rect(r.left+l,p,s,_.size.height);e.drawMultiLineString(r.text,n,a,o._textAlignment())}))}))}},i.prototype._measureText=function(t,e){var n,i=e,o=i.text,r=this._strokeWidth(),l=this._textOverflow();null==this.fixedWidth?(n=t.measureMultiLineString(o,this.maxWidth-r,l),i.width=Math.min(n.size.width+r,this.maxWidth)+r):(n=t.measureMultiLineString(o,this.fixedWidth-r,l),i.width=this.fixedWidth+r),i.height=n.size.height+2*r},i}(t._PositionRectangleAnnotation);t._PositionTextAnnotation=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l,a){var u=e.call(this,t,n,i,o)||this;return u._text=r,u.__textOverflow=l,u.__fixedWidth=a,u}return n(i,e),i.prototype._textOverflow=function(){var e=t.TextOverflow.Wrap;return null!=this.__textOverflow&&(e=this.__textOverflow),e},i.prototype._layoutAnnotation=function(t,n,i){if(this._text){var o=this._text,r=void 0,l=this._strokeWidth();null!=this.__fixedWidth?(r=t.measureMultiLineString(o,this.__fixedWidth-l,this._textOverflow()),this.height=r.size.height+l,this.width=this.__fixedWidth):(r=t.measureMultiLineString(o,Number.MAX_VALUE,this._textOverflow()),this.height=r.size.height+l,this.width=r.size.width+l),e.prototype._layoutAnnotation.call(this,t,n,i)}},i.prototype._renderAnnotation=function(n,i){var o=this;if(this._text&&this.__transformInfo().connectionPoint){var r=this._getMatrixTransformInfo();e.prototype._renderAnnotation.call(this,n,i),n.drawGroup(null,null,this._matrix,(function(e){var n=o.top+o._strokeWidth()/2+o._paddingTop(),i=o.left+o._strokeWidth()/2+o._paddingLeft(),l=new t.core.Rect(i,n,r.width-o._strokeWidth(),r.height-o._strokeWidth());e.drawMultiLineString(o._text,l,o._textOverflow(),t.HAlign.Center)}))}},i}(t._RectangleBoxRectangleAnnotation);t.RectangleBoxTextAnnotation=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l,a){var u=e.call(this,n,i,o,r)||this;return u.__maxWidth=Number.MAX_VALUE,u.__overflow=l,u.__textAlignment=a,u.__symbol=new t.TextAnnotationSymbol,u}return n(i,e),Object.defineProperty(i.prototype,"fixedWidth",{get:function(){return this.__fixedWidth},set:function(t){this.__fixedWidth=null!=t&&t>0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxWidth",{get:function(){return this.__maxWidth},set:function(t){!isNaN(t)&&t>0&&(this.__maxWidth=t)},enumerable:!1,configurable:!0}),i.prototype._text=function(t){return null!=t&&(this.__text=t),this.__text},i.prototype._paddingLeft=function(){var t=0;if(null!=this._padding&&(t=this._padding.left.value),this.__symbol._available()){var e=this._getMatrixTransformInfo();null!=e.symbolSize?t+=e.symbolSize.width+i.__spaceBetweenSymbolAndText:t+=this.__symbol.size.width+i.__spaceBetweenSymbolAndText}return t},Object.defineProperty(i.prototype,"symbol",{get:function(){return this.__symbol.symbol},set:function(t){this.__symbol.symbol=t},enumerable:!1,configurable:!0}),i.prototype._textOverflow=function(){return t._NativeExtension._toNonNullEnum(this.__overflow,t.TextOverflow.Wrap)},i.prototype._textAlignment=function(){return this._textOverflow()===t.TextOverflow.Clip?t._NativeExtension._toNonNullEnum(this.__textAlignment,t.HAlign.Left):t._NativeExtension._toNonNullEnum(this.__textAlignment,t.HAlign.Center)},i.prototype._createTransformInfo=function(){return new t._BoxTextSymbolTransformInfo},i.prototype._layoutAnnotation=function(t,n,i){if(null!=this.__text&&""!==this.__text){var o=this.__text,r=void 0,l=0;if(this.__symbol._available()&&(l=this.__symbol.size.height),null!=this.fixedWidth){var a=this.fixedWidth,u=(r=t.measureMultiLineString(o,a-this._strokeWidth(),this._textOverflow())).size.height>l?r.size.height:l;this.height=u+this._strokeWidth(),this.width=a}else{var s=this.maxWidth;u=(r=t.measureMultiLineString(o,s-this._strokeWidth(),this._textOverflow())).size.height>l?r.size.height:l,this.height=u+this._strokeWidth(),this.width=Math.min(r.size.width+this._strokeWidth(),s)}var _=this._getMatrixTransformInfo();_.symbolSize=this.__symbol.size.clone(),_.text=this.__text,e.prototype._layoutAnnotation.call(this,t,n,i)}},i.prototype._afterRender=function(e,n){var i=this;if(null!=this.__transformInfo().connectionPoint){var o=n._textAnnotationSymbolRect;if(this.__symbol._available()&&null!=o){var r=t._StyleUtility._buildStyle(null,"#666666",null,"#666666",1);t._OptionUtility._applyOverlayStyleOption(r,this.symbol.style),e.drawGroup(null,null,this._matrix,(function(t){i.__symbol._render(t,o,r)}))}null!=o&&(n._textAnnotationSymbolRect=null)}},i.prototype._renderAnnotation=function(n,i){var o=this,r=this._getMatrixTransformInfo();if(null!=r.text&&null!=r.connectionPoint){var l=this._strokeWidth(),a=this._textOverflow(),u=this.top+l/2+this._paddingTop(),s=this.left+l/2+this._paddingLeft(),_=r.width-l+.001,p=r.height-l+.001,c=n.measureMultiLineString(r.text,_,a),h=u+Math.max((p-c.size.height)/2,0),f=new t.core.Rect(s,h,_,c.size.height);if(e.prototype._renderAnnotation.call(this,n,i),_<=0||p<=0)return;n.drawGroup(null,null,this._matrix,(function(e){var n=null;if((c.size.width>_||c.size.height>p)&&(n=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(s,u,_,p)),e.drawGroup(null,n,null,(function(t){t.drawMultiLineString(r.text,f,a,o._textAlignment())})),o.__symbol._available()){var l=u+(p-r.symbolSize.height)/2,h=0;null!=o._padding&&(h=o._padding.left.value);var d=new t.core.Rect(o.left+o._strokeWidth()/2+h,l,r.symbolSize.width,r.symbolSize.height);i._textAnnotationSymbolRect=d}}))}},i.__spaceBetweenSymbolAndText=5,i}(t._RectangleBoxRectangleAnnotation);t._RectangleBoxTextSymbolAnnotation=e}(t||(t={})),function(t){var e=function(){function e(e){void 0===e&&(e=null),this.__symbolList=["Triangle","Inverted Triangle"],this.__symbolSize=new t.core.Size(15,15),this.symbol=e}return e.prototype._available=function(){return this.__symbolList.indexOf(this.__symbol.shape)>=0},Object.defineProperty(e.prototype,"size",{get:function(){return this.__symbolSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"symbol",{get:function(){return this.__symbol},set:function(e){this.__symbol=null==e?new t.options._TextPlotTextSymbolOption(null):t.options._TextPlotTextSymbolOptionCloneMarker._textPlotTextSymbolOptionCloneMarker._cloneOf(e);var n=this.__symbol.width,i=this.__symbol.height;this.__symbolSize.width=this._validateNumber(n),this.__symbolSize.height=this._validateNumber(i)},enumerable:!1,configurable:!0}),e.prototype._validateNumber=function(t){return!isNaN(t)&&null!=t&&t>=0?t:15},e.prototype._render=function(e,n,i){var o=this;if(this._available())if("Inverted Triangle"===this.symbol.shape){var r=new t.Matrix;r.rotate(Math.PI,n.center),e.drawGroup(null,null,r,(function(t){o._renderSymbol(t,n,i)}))}else"Triangle"===this.symbol.shape&&this._renderSymbol(e,n,i)},e.prototype._renderSymbol=function(e,n,i){var o=[n.center.x,n.left,n.right],r=[n.top,n.bottom,n.bottom];e.beginTransform(),t._StyleUtility._applyStyle(e,i),e.drawPolygon(o,r),e.restoreTransform()},e}();t.TextAnnotationSymbol=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__width=null,r.__angle=null,r.__textStyle=new e._TextStyleOption,r.__text=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){this.__text!=t&&(this.__text=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return null==this.__textStyle&&(this.__textStyle=new e._TextStyleOption(null)),this.__textStyle},set:function(t){null!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),r.prototype._copy=function(t){null!=t&&(this.angle=t.angle,this.display=t.display,this.label=t.label,this.offset=t.offset,this.placement=t.placement,this.pointPath=t.pointPath,this.position=t.position,this.rules=t.rules,this.style=t.style,this.text=t.text,this.textStyle=t.textStyle,this.type=t.type,this.width=t.width)},o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"text",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"angle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),r}(e._AnnotationOverlayOption),e._TextOverlayOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type="Text",r.__hAlign=t.AnnotationAlign.Center,r.__vAlign=t.AnnotationAlign.Middle,r.__groupAlign=null,r.__symbol=new e._TextPlotTextSymbolOption(null),r.__groupName=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupName",{get:function(){return this.__groupName},set:function(t){this.__groupName!=t&&(this.__groupName=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"symbol",{get:function(){return this.__symbol},set:function(t){this.__symbol!=t&&(null==t&&(t=new e._TextPlotTextSymbolOption),this.__symbol=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupAlign",{get:function(){return this.__groupAlign},set:function(t){this.__groupAlign!=t&&(this.__groupAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"groupName",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextPlotTextSymbolOption")],r.prototype,"symbol",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationAlign)],r.prototype,"groupAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationAlign,t.AnnotationAlign.Center)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationAlign,t.AnnotationAlign.Middle)],r.prototype,"vAlign",null),r}(e._TextOverlayOption),e._TextGroupOverlayOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var o=i.call(this,null,n)||this;return o.__shape=null,o.__style=null,o.__width=15,o.__height=15,null!=e&&t.OptionSerializer.deserialize(o,e),o}return n(r,i),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){t=this.validate(t),null!=this.__height&&this.__height==t||(this.__height=t,null==this.__height&&(this.__height=15))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),null!=this.__width&&this.__width==t||(this.__width=t,null==this.__width&&(this.__width=15))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return null==this.__style&&(this.__style=new e._OverlayStyleOption(null)),this.__style},set:function(t){null!=t&&(null==t&&(t=new e._OverlayStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(this.__shape=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_OverlayStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"shape",null),r}(e._Option),e._TextPlotTextSymbolOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._TextPlotTextSymbolOption(null);return n._setOption(e.option()),n.shape=e.shape,n.height=e.height,n.width=e.width,n.style=null==e.style?null:t._OverlayStyleOptionCloneMarker._overlayStyleOptionCloneMarker._cloneOf(e.style),n},e._textPlotTextSymbolOptionCloneMarker=new e,e}();t._TextPlotTextSymbolOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isTextGroupOverlayOption=function(e){if(!t._isTextOverlayOption(e))return!1;var n=e;return void 0!==n.hAlign&&void 0!==n.vAlign&&void 0!==n.groupAlign&&void 0!==n.symbol&&void 0!==n.groupName}}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isTextOverlayOption=function(e){if(!t._isAnnotationOverlayOption(e))return!1;var n=e;return"Text"==n.type&&void 0!==n.width&&void 0!==n.angle&&void 0!==n.textStyle&&void 0!==n.text}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,e){return i.call(this,t,e)||this}return n(o,i),o.prototype._textGroupOverlayOption=function(){return this._option},o.prototype._buildOverlayView=function(e){var n=this._textGroupOverlayOption();if("Text"===n.type){var i=n.pointPath;if(null!=i&&""!==i)if(null!=t._CoordinateValueExpressionBuilder._defaultBuilder._build(i)){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._TextCoordinateCartesianAnnotationOverlayView(e,this)}else if(null!=t._DataPointPointPathExpressionBuilder._defaultBuilder._build(i)){if(t._isTextCartesianPlotView(e))return new t._TextPointAnnotationOverlayView(e,this);if(t._isCartesianPlotView(e))return new t._CartesianPointTextAnnotationOverlayView(e,this)}}return null},o.prototype.queryInterface=function(t){return"IOverlayLegendItemsBuilder"==t?new e._TextAnnotationOverlayLegendItemsBuilder(this):null},o}(t._BaseAnnotationOverlayDefinition),e._TextAnnotationOverlayDefinition=i}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition||e instanceof t._TextCartesianPlotDefinition){if(t.options._isTextGroupOverlayOption(n)){var o=n;return new t.models._TextAnnotationOverlayDefinition(e,o)}if(t.options._isTextOverlayOption(n)){o=n;var r=new t.options._TextGroupOverlayOption(o.option());return r._copy(o),new t.models._TextAnnotationOverlayDefinition(e,r)}if(t.options._isOverlayOption(n)&&"Text"===(o=n).type&&t.options._isJsonOption(n))return new t.models._TextAnnotationOverlayDefinition(e,new t.options._TextGroupOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._getDataLabelOption=function(){return this._option},Object.defineProperty(i.prototype,"dataLabelCloneMarker",{get:function(){return t.options._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker},enumerable:!1,configurable:!0}),i}(t._BaseOverlayDefinition);t._BaseDataLabelDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._builders=function(){return null==i.__buildInCoordinateSystemBuilders&&(i.__buildInCoordinateSystemBuilders=new i([],i._pluginType)),i.__buildInCoordinateSystemBuilders},i.prototype._convert=function(e){return t._isDataLabelDefinitionBuilder(e)?e:null},i.prototype._dataLabelDefinition=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o],a=l.item._buildDataLabelDefinition(t,e,l.option);if(null!=a)return a}return null},i.prototype._dataLabelOverlayDefinitionsByPlugin=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=[],r=0,l=this._objects(e,n);r<l.length;r++){var a=l[r];if(null!=a.item.queryInterface("IPlugin")){var u=a.item._buildDataLabelDefinition(t,null,a.option);if(null!=u){var s=u._getDataLabelOption().scope;-1==o.indexOf(s)&&(i.push(u),o.push(s))}}}return i},i.prototype._dataLabelOverlayDefinitionsByText=function(t,e,n){void 0===n&&(n=null);for(var i=[],o=[],r=0,l=this._objects(null,n);r<l.length;r++)for(var a=l[r],u=0,s=e;u<s.length;u++){var _=s[u],p=a.item._buildDataLabelDefinition(t,_,a.option);if(null!=p){var c=p._getDataLabelOption().scope;-1==o.indexOf(c)&&(i.push(p),o.push(c))}}return i},i._pluginType="DataLabelPlugin",i}(t._BuildInObjectCollection);t._BuildInDataLabelDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isDataLabelDefinitionBuilder=function(t){return null!=t._buildDataLabelDefinition}}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__labelViews=null,i}return n(i,e),i.prototype._labelViews=function(){return null==this.__labelViews&&(this.__labelViews=this._createDataLabelViews()),this.__labelViews},i.prototype._buildOverlayItemViews=function(){},i.prototype.useData=function(){this.__labelViews=this._createDataLabelViews()},i.prototype._createDataLabelViews=function(){for(var t=[],e=0,n=this._ownerView._filterPointViews();e<n.length;e++){var i=n[e],o=this._createDataLabelView(i);null!=o&&(t.push(o),i._dataLabelView(o))}return t},i.prototype._createDataLabelView=function(t){return this._definition._getDataLabelView(t)},i.prototype._layoutContent=function(t,e){for(var n=0,i=this._labelViews();n<i.length;n++)i[n]._layoutLabel(t,e)},i.prototype._drawView=function(e,n){if(n._renderLabel){t._LabelOverlapChecker._checkOverlap(n,this.__labelViews,this._ownerView._dataPointDataLabelOption().overlappingLabels);for(var i=0,o=this.__labelViews;i<o.length;i++){var r=o[i];r._getOverlap()||r._render(e,n)}}},i.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=0,o=this._labelViews().concat().reverse();i<o.length;i++){var r=o[i];if(null!=r&&!r._getOverlap()){var l=r._hitTest(t,e,n);if(null!=l)return l}}return null},i.prototype.box=function(){for(var e=[],n=0,i=this._labelViews();n<i.length;n++){var o=i[n].queryInterface("IBoxBounded");null!=o&&e.push(o.box())}return e.length>0?t._RectangleUtility._unionOfRectangles.apply(t._RectangleUtility,e):null},i.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},i}(t._BaseOverlayView);t._BaseDataLabelOverlayView=e}(t||(t={})),function(t){t._isDataLabelOverlayView=function(t){return null!=t&&"function"==typeof t._labelViews}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._pointView=t,o}return n(i,e),i.prototype._getPointView=function(){return this._ownerView},Object.defineProperty(i.prototype,"maxWidth",{get:function(){var t=this.__option.maxWidth;return null==t?Number.MAX_VALUE:t},enumerable:!1,configurable:!0}),i.prototype._textOverflow=function(){var e=this.__option.textStyle.overflow;return null==e&&(e=this._ownerView._getPlotView()._getDefinition()._plotConfigOption.textStyle.overflow),null==e&&(e=this._ownerView._getPlotView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._ownerView._getPlotView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},i.prototype._textAlignment=function(){var t=this.__option.textStyle.alignment;return null==t&&(t=this._ownerView._getPlotView()._getDefinition()._plotConfigOption.textStyle.alignment),null==t&&(t=this._ownerView._getPlotView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._ownerView._getPlotView()._getDefinition()._dvConfigOption.textStyle.alignment),t},i.prototype._createStyle=function(){var e=t._StyleUtility._buildStyle();return t._OptionUtility._applyTextStyleOption(e,this._ownerView._getPlotView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._ownerView._getPlotView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._ownerView._getPlotView()._getDefinition()._plotConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._ownerView._getTextOption().textStyle),t._StyleUtility._applyFill(e,t._CssColor._none()),t._OptionUtility._applyFillOption(e,this._ownerView._getPlotView()._getDefinition()._dvConfigOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,this._ownerView._getPlotView()._getDefinition()._plotAreaOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,this._ownerView._getTextOption().style.backgroundColor),t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyStroke(e,this._defaultStrokeColor()),t._OptionUtility._applyLineStyleFromStyleOption(e,this._ownerView._getPlotView()._getDefinition()._dvConfigOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this._ownerView._getPlotView()._getDefinition()._plotAreaOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this.__option.style),e},i.prototype._defaultStrokeColor=function(){return this._ownerView._getPointColor()},i.prototype._position=function(){return t._NativeExtension._toNonNullEnum(this.__option.position,t.TextPosition.Outside)},i.prototype._linePosition=function(){return t._NativeExtension._toNonNullEnum(this.__option.linePosition,t.LinePosition.Auto)},i.prototype._layout=function(n,i,o){if(e.prototype._layout.call(this,n,i,o),null!=this._startPoint&&null!=this._endPoint){var r=this.__option.angle;if(null!=r){r=t._Util.degree2Rad(r),this._setTextAngle(r),this._setTextLocation(this._textView()._getRectangle().center);for(var l=this._rotatedRectangle(),a=l.points,u=l.center,s=null,_=0;_<a.length;++_){var p=(_+1)%a.length;if(null!=(s=t._ShapeUtil.getSegmentsIntersection(a[_],a[p],this._startPoint,u)))break}this._endPoint=s}}},i.prototype._drawView=function(t,n){null!=this.__text&&this._renderConnectingLine(t,n),e.prototype._drawView.call(this,t,n)},i.prototype._renderConnectingLine=function(e,n){if(null!=this.__option.connectingLine){var i=this._startPoint,o=this._endPoint;null!=i&&null!=o&&(e.beginTransform(),this._applyConnectingLineStyle(e),e.drawGroup(t._CssClassName._connectingLine,null,null,(function(t){t.drawLine(i.x,i.y,o.x,o.y)})),e.restoreTransform())}},i.prototype._applyConnectingLineStyle=function(e){var n=this.__option.connectingLine;if(null!=n){var i=t._StyleUtility._buildStyle();t._OptionUtility._applyLineStyleOption(i,n),null==i.stroke&&(i.stroke=this._defaultStrokeColor()),t._StyleUtility._applyStyle(e,i)}},i}(t._DataLabelView);t._PointDataLabelView=e}(t||(t={})),t||(t={}),function(t){t._isOverlayDefinitionBuilder=function(t){return null!=t._buildOverlayDefinition}}(t||(t={})),function(t){!function(t){t._isOverlayItemModel=function(t){var e=t;return null!=e&&void 0!==e.style&&void 0!==e.overlay&&void 0!==e.hover}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isOverlayModel=function(t){return null!=t&&void 0!==t.option}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function t(){}return t._toOverlayModel=function(t){return null!=t.queryInterface("IOverlayModel")?t:null},t._toOverlayView=function(t){return null!=t.queryInterface("IOverlayView")?t:null},t._toOverlayItemModel=function(t){return null!=t.queryInterface("IOverlayItemModel")?t:null},t}();t._OverlayViewModelUtility=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r,l,a){void 0===a&&(a=null),this._axisOptions=[],this._layoutDefinition=e,this._dvConfigOption=e._dvConfigOption,this._plotAreaOption=e._plotAreaOption,this._plotConfigOption=i.config,this._pluginCollection=e._pluginCollection,this._imageProvider=e._imageProvider,this._dataSchema=n,this._plotDataBuilder=r,this._plotViewBuilder=o,this.__paletteColorProvider=this._createPaletteColorProvider(i.config.palette),this._valueColorProvider=this._createValueColorProvider(e._valueColorProvider,i.config.palette),this._plotOption=i,this._legendSymbolViewBuilder=null==a?new t._LegendSymbolViewBuilder:a,this._encodingsDefinition=null==i.encodings?this._createEmptyEncodingsDefinition():l._buildEncodingsDefinition(this,i.encodings),null!=i.points&&(this.plotAreaDefinitionOfPoint=new t._InnerPlotAreaDefinition(e,i.points.plots,i.points.config.axes)),this.__colorIterator=this._createColorIterator(this.__paletteColorProvider),this._hoverBehaviorPolicy=t._BuildInHoverBehaviorPolicyBuilderCollection._defaultBuildInHoverBehaviorPolicyPlugins()._hoverBehaviorPolicy(this,this._plotConfigOption.plugins,this._pluginCollection),this.__symbolDefinitionProviderList=this._createSymbolDefinitionProviderList()}return e.prototype._isAvailable=function(){return!0},e.prototype._createSymbolDefinitionProviderList=function(){var e=[];e.push(this._symbolDefinitionProvider()),e.push(this._layoutDefinition._symbolDefinitionProvider);var n=t._BuildinSymbolDefinitionBuilderCollection._defaultBuildinSymbolDefinitionBuilders()._symbolDefinitions([],this._pluginCollection),i=new t.SymbolDefinitionProvider(null,n,this._imageProvider);return e.push(i),e},e.prototype._symbolDefinitionProvider=function(){if(null==this.__symbolDefinitionProvider){var e=t._BuildinSymbolDefinitionBuilderCollection._defaultBuildinSymbolDefinitionBuilders()._symbolDefinitions([],this._pluginCollection),n=this._layoutDefinition._symbolDefinitionProvider.symbolDefinitions.concat(this._layoutDefinition._symbolDefinitionProvider.symbolWithDataDefinitions).concat(e);this.__symbolDefinitionProvider=new t.SymbolDefinitionProvider(this._plotConfigOption.shapes,n,this._imageProvider)}return this.__symbolDefinitionProvider},e.prototype.colorIterator=function(){return this.__colorIterator},e.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle()),this.__defaultStyle},e.prototype._createColorIterator=function(e){return null!=e?new t._ColorIterator(e):null},e.prototype._createPaletteColorProvider=function(e){if(null!=e){var n=new t._PaletteColorProvider(e);if(n._colorOptions.length>0)return n}return null},e.prototype._createValueColorProvider=function(e,n){if(null!=n){var i=new t._ValueColorProvider(e,n);if(i._colorWithValueOptions.length>0)return i}return e},e.prototype._createOverlayDefinitionList=function(e,n,i){for(var o=[],r=0,l=e;r<l.length;r++){var a=l[r],u=t._BuildInOverlayDefinitionBuilderCollection._builders()._overlayDefinition(this,a,n,i);null!=u&&o.push(u)}return o},e.prototype._createDataLabelDefinitionList=function(e,n,i){for(var o=[],r=[],l=0,a=e;l<a.length;l++){var u,s=a[l];null!=(u=t._BuildInDataLabelDefinitionBuilderCollection._builders()._dataLabelDefinition(this,s,n,i))&&s.scope==u._getDataLabelOption().scope&&-1==r.indexOf(u._getDataLabelOption().scope)&&(o.push(u),r.push(u._getDataLabelOption().scope))}return-1==r.indexOf(t._Constants.ClusterTextScope)&&((s=new t.options._PlotConfigTextOption).scope=t._Constants.ClusterTextScope,null!=(u=t._BuildInDataLabelDefinitionBuilderCollection._builders()._dataLabelDefinition(this,s,n,i))&&s.scope==u._getDataLabelOption().scope&&-1==r.indexOf(u._getDataLabelOption().scope)&&(o.push(u),r.push(u._getDataLabelOption().scope))),o},Object.defineProperty(e.prototype,"_paletteColorProvider",{get:function(){return null!=this.__paletteColorProvider?this.__paletteColorProvider:this._layoutDefinition._paletteColorProvider},enumerable:!1,configurable:!0}),e.prototype._getType=function(){return this._plotOption.type},e.prototype._getEncodingsDefinition=function(){return this._encodingsDefinition},e.prototype._overlayDefinitions=function(){return null==this.__overlayDefinitions&&(this.__overlayDefinitions=this._createOverlayDefinitionList(this._plotConfigOption.overlays,this._plotConfigOption.plugins,this._pluginCollection)),this.__overlayDefinitions},e.prototype._dataLabelDefinitions=function(){return null==this.__dataLabelDefinitions&&(this.__dataLabelDefinitions=this._createDataLabelDefinitionList(this._plotConfigOption.text,this._plotConfigOption.plugins,this._pluginCollection)),this.__dataLabelDefinitions},e.prototype._getSymbolDefinitionProviderList=function(){return this.__symbolDefinitionProviderList},Object.defineProperty(e.prototype,"coordinateSystemDefinition",{get:function(){return this.__coordinateSystemDefinition},set:function(t){this.__coordinateSystemDefinition=t},enumerable:!1,configurable:!0}),e.prototype.queryInterface=function(t){return"IPlotDefinition"==t?this:null},e}();t._BasePlotDefinition=e}(t||(t={})),function(t){var e=function(e){function o(t,n){return e.call(this,t,n)||this}return n(o,e),o._buildInPlotDefinitionBuilders=function(){return null==o.__buildInPlotDefinitionBuilders&&(o.__buildInPlotDefinitionBuilders=new o([],o._pluginType)),o.__buildInPlotDefinitionBuilders},o.prototype._convert=function(e){return t._isPlotDefinitionBuilder(e)?e:null},o.prototype._plotDefinition=function(t,e,n,o,r){void 0===r&&(r=null);for(var l=0,a=this._objects(o,r);l<a.length;l++){var u=a[l].item._buildPlotDefinition(t,e,new i(n));if(null!=u)return u}return null},o._pluginType="Plot",o}(t._BuildInObjectCollection);t._BuildInPlotDefinitionBuilderCollection=e;var i=function(t){this._coordinateSystemDefinitions=t}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isPlotDefinitionBuilder=function(t){return"function"==typeof t._buildPlotDefinition}}(t||(t={})),function(t){var e=function(){function t(){}return t._toPlotModel=function(t){return null!=t.queryInterface("IPlotModel")?t:null},t._toPlotView=function(t){return null!=t.queryInterface("IPlotView")?t:null},t._toSeriesView=function(t){return null!=t.queryInterface("ISeriesView")?t:null},t._toPointView=function(t){return null!=t.queryInterface("IPointView")?t:null},t}();t._PlotViewModelUtility=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n)||this;return r._definition=i,r._dataModel=o,r._colorIterator=i.colorIterator(),r.__rectangle=t.core.Rect.ReadOnlyRect,r._displayablePipeLine=new t.DisplayablePipeLine(r),r}return n(i,e),i.prototype._createIdentityContent=function(){var e=this._getLayoutView()._findAllPlotViews().indexOf(this).toString();return t._Util.HashCode("plot"+this._getDefinition()._getDataModelType()+e)},i.prototype._rectangle=function(){return this.__rectangle},i.prototype._updateRectangle=function(t){this.__rectangle=t},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._plotAreaView=function(){return this._getLayoutView()._getPlotAreaView()},i.prototype._plotListView=function(){return this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition)._getPlotListView()},i.prototype._filterPointViews=function(){return this._getPointViews().filter((function(t){return!t._isFiltered()}))},i.prototype._selectionAdorners=function(){for(var t=[],e=0,n=this._filterPointViews();e<n.length;e++){var i=n[e];i._isSelected()&&i._isVisible()&&t.push(i._selectionAdorner())}return t},i.prototype._dataPointDataLabelOption=function(){for(var e=0,n=this._definition._dataLabelDefinitions();e<n.length;e++){var i=n[e];if(i._getDataLabelOption().scope==t._Constants.DataPointTextScope)return i._getDataLabelOption()}return null},i.prototype._dataPointTooltipOption=function(){for(var t=0,e=this.option.config.tooltip;t<e.length;t++){var n=e[t];if("DataPoint"==n.scope)return n}return null},i.prototype._textDefinition=function(){for(var e=0,n=this._definition._dataLabelDefinitions();e<n.length;e++){var i=n[e];if(i._getDataLabelOption().scope==t._Constants.DataPointTextScope)return i}return null},i.prototype._getClassName=function(){return"gcdv-plot"},i.prototype._attachCoordinateSystem=function(t){},i.prototype._layoutData=function(){this._traversePointView((function(t,e){null!=t._pointLayoutListView()&&t._pointLayoutListView()._layoutData()}),null),this._beforeAttachCoordinateSystem(),this._attachCoordinateSystem(this._definition._axisOptions),this._afterAttachCoordinateSystem()},i.prototype._beforeAttachCoordinateSystem=function(){},i.prototype._afterAttachCoordinateSystem=function(){this._actionConditionalFormat();for(var t=0,e=this._getOverlayViews();t<e.length;t++)e[t].useData()},i.prototype._actionConditionalFormat=function(){},i.prototype._generateOverlays=function(){this.__overlayViews=this._createOverlayViews(),this._prepareDataLabelOverlay();for(var t=0,e=this._getOverlayViews();t<e.length;t++)e[t]._buildOverlayItemViews()},i.prototype._prepareDataLabelOverlay=function(){for(var t=0,e=this._definition._dataLabelDefinitions();t<e.length;t++){var n=e[t]._buildOverlayView(this);null!=n&&this.__overlayViews.push(n)}},i.prototype._getDataLabelsRender=function(){return new t._DataLabelsRender(this._dataPointDataLabelOption().overlappingLabels)},i.prototype._layoutContent=function(t,e,n){this._updateRectangle(e)},i.prototype._drawView=function(t,n){e.prototype._drawView.call(this,t,n),this._displayablePipeLine._flush(t,n)},i.prototype._query=function(e){var n=[],i=this._definition._pluginCollection,o=new t.models._VectorConditionalRule(e,i);return this._traversePointView((function(t,e){o.evaluate(t)&&n.push(t)}),null),n},i.prototype._createOverlayViews=function(){for(var t=[],e=0,n=this._definition._overlayDefinitions();e<n.length;e++){var i=n[e],o=this._createOverlayView(i);null!=o&&t.push(o)}return t},i.prototype._createOverlayView=function(t){if(null!=t){var e=t._buildOverlayView(this);if(null!=e)return e}return null},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Plot},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._getLayoutView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"points",{get:function(){return this._getPointViews().map((function(e){return t.models._isPointModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this._dataModel._dataSlices._items},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"option",{get:function(){return this._definition._plotOption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"overlays",{get:function(){return this._getOverlayViews().map((function(e){return t.models._isOverlayModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._definition._getType()},enumerable:!1,configurable:!0}),i.prototype._getDefinition=function(){return this._definition},i.prototype._getLayoutView=function(){return this._ownerView},i.prototype._getOverlayViews=function(){return null==this.__overlayViews&&(this.__overlayViews=this._createOverlayViews()),this.__overlayViews},i.prototype._traversePointView=function(t,e){for(var n=0,i=this._getPointViews();n<i.length;n++)t(i[n],e)},i.prototype._coordinateSystemView=function(){return this._plotListView()._getCoordinateSystemView()},i.prototype.queryInterface=function(t){return"IPlotModel"===t||"IPlotView"===t||"IDisplayablePipeLine"===t?this:e.prototype.queryInterface.call(this,t)},i.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._getLayoutView()._id()+this._createIdentityContent()),this.__cachedId},i.prototype._contains=function(t){return!1},i.prototype._cutOff=function(){return!1},i}(t._BaseView);t._BasePlotView=e}(t||(t={})),function(t){t._isPlotView=function(t){var e=t;return null!=e&&void 0!==e._colorIterator&&"function"==typeof e._getLayoutView&&"function"==typeof e._getDefinition&&"function"==typeof e._rectangle&&"function"==typeof e._getOverlayViews&&"function"==typeof e._filterPointViews&&"function"==typeof e._selectionAdorners&&"function"==typeof e._dataPointDataLabelOption&&"function"==typeof e._layoutData&&"function"==typeof e._actionConditionalFormat&&"function"==typeof e._generateOverlays&&"function"==typeof e._query&&"function"==typeof e._getPointViews&&"function"==typeof e._hasSelectedPointView&&"function"==typeof e._getDataLabelsRender}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n)||this;return r.__selected=!1,r.__hover=!1,r._animationVisible=!0,r.__rectangle=t.core.Rect.ReadOnlyRect,r._scale=1,r._externalStyle=null,r._floated=!1,r._xs=[],r._ys=[],r.__data=i,r._pointStyleBuilder=null==o?new t._PointStyleBuilder:o,r._legendColor=null,r.__legendShape=null,r.__legendSize=null,r.__legendBackgroundColor=null,r.__legendLightness=null,r.__legendFiltered=!1,r.__pointLayoutListView=r._createPointPlotAreaView(),r}return n(i,e),Object.defineProperty(i.prototype,"_legendFiltered",{get:function(){return this.__legendFiltered},set:function(t){this.__legendFiltered!=t&&(this.__legendFiltered=t,this._onFilteredChanged(t))},enumerable:!1,configurable:!0}),i.prototype._onFilteredChanged=function(t){},i.prototype._getDefinition=function(){return this._getPlotView()._getDefinition()},i.prototype._createIdentityContent=function(){return""},i.prototype._getXs=function(){return this._xs},i.prototype._setXs=function(t){this._xs=t},i.prototype._getYs=function(){return this._ys},i.prototype._setYs=function(t){this._ys=t},i.prototype._rectangle=function(){return this.__rectangle},i.prototype._updateRectangle=function(t){this.__rectangle=t},i.prototype._onHoverChanged=function(){},i.prototype._onSelectedChanged=function(){},i.prototype.cloneId=function(t){this.__cachedId=t._id()},i.prototype._modelProxy=function(){return this.__modelProxy},i.prototype._getAttachmentAgentManager=function(){return null},i.prototype._dataLabel=function(){return null==this.__dataLabel&&(this.__dataLabel=this._createDataLabelContent()),this.__dataLabel},i.prototype._createDataLabelContent=function(){return null},i.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},i.prototype._defaultDataLabelTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("; ")},i.prototype._dataLabelView=function(t){return null!=t&&(this.__dataLabelView=t),this.__dataLabelView},i.prototype._data=function(){return this.__data},i.prototype._selectionAdorner=function(){return new t._PointAdorner(this)},i.prototype._backgroundShape=function(){return this.___backgroundShape},i.prototype._internalStyle=function(){return null!=this.__style&&this.__style._isChanged()?this.__style:null},i.prototype._internalSelectedStyle=function(){return null!=this.__selectedStyle&&this.__selectedStyle._isChanged()?this.__selectedStyle:null},i.prototype._internalUnselectedStyle=function(){return null!=this.__unselectedStyle&&this.__unselectedStyle._isChanged()?this.__unselectedStyle:null},i.prototype._applyDataPointExternalStyle=function(e){t._StyleUtility._applyAllStyle(e,this._externalStyle)},i.prototype._calculateStyle=function(e){var n=this._pointStyleBuilder._buildPointStyle(this),i=null,o=null,r=null;e.hasSelectionInPlotArea&&(this._isSelected()||e.selected?i=this._pointStyleBuilder._buildSelectedPointStyle(this,e.apiSelectedStyle):o=this._pointStyleBuilder._buildUnselectedPointStyle(this)),this._isHover()&&(r=this._pointStyleBuilder._buildHoverPointStyle(this));var l=t._StyleUtility._buildStyle();return t._StyleUtility._applyAllStyle(l,n),t._StyleUtility._applyAllStyle(l,i),t._StyleUtility._applyAllStyle(l,o),t._StyleUtility._applyAllStyle(l,r),l},i.prototype._tooltipContent=function(){var e=this._createTooltipHtmlContent(this.tooltip),n=this._tooltipStyle();return null!=e&&e.length>0?new t.models._TextTooltipContent(e,n):null},i.prototype._createTooltipHtmlContent=function(t){return null},i.prototype._customTooltipTemplate=function(t){return null!=t&&"DataPoint"==t.scope&&null!=t.template&&t.template.length>0?t.template:null},i.prototype._defaultTooltipTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},i.prototype._tooltipStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(t._ViewUtility._defaultTextStyle()),n=this._getDefinition()._dvConfigOption;return t._OptionUtility._applyFillOption(e,n.style.backgroundColor),t._OptionUtility._applyLineStyleFromStyleOption(e,n.style),t._OptionUtility._applyTextStyleOption(e,n.textStyle),t._OptionUtility._applyFillOption(e,this.tooltip.style.backgroundColor),t._OptionUtility._applyLineStyleFromStyleOption(e,this.tooltip.style),t._OptionUtility._applyTextStyleOption(e,this._getDefinition()._plotConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this.tooltip.textStyle),e},i.prototype.contains=function(t){return!0},i.prototype._createPointPlotAreaView=function(){var e=this._getDefinition().plotAreaDefinitionOfPoint;return null!=e?new t._PointLayoutListView(this,e):null},i.prototype._updateLegendColor=function(t){this._legendColor=t},i.prototype._updateLegendShape=function(t){this.__legendShape=t},i.prototype._updateLegendSize=function(t){this.__legendSize=t},i.prototype._updateLegendBackgroundColor=function(t){this.__legendBackgroundColor=t},i.prototype._updateLegendLightness=function(t){this.__legendLightness=t},i.prototype._pointsRect=function(){return null},i.prototype._pointLayoutListView=function(){return this.__pointLayoutListView},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n);var i=this._pointsRect();null!=this.__pointLayoutListView&&null!=i&&this.__pointLayoutListView._layout(t,n,i)},i.prototype._layoutContent=function(t,e,n){this._xs=null,this._ys=null},i.prototype._renderChildren=function(t,e){null!=this.__pointLayoutListView&&this.__pointLayoutListView._render(t,e)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._boundRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._createDataLabelView=function(t){return null},i.prototype._getStyleSymbolSize=function(){var t=this._internalStyle();return null!=t&&null!=t.symbolSize||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.symbolSize?t.symbolSize:10},i.prototype._getStyleSymbolShape=function(){var t=this._internalStyle();return null!=t&&null!=t.symbolShape&&""!=t.symbolShape||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.symbolShape&&""!=t.symbolShape?t.symbolShape:null},i.prototype._getStyleBackgroundColor=function(){var t=this._internalStyle();return null!=t&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.backgroundColor?t.backgroundColor:null},i.prototype._getSelectedStyleBackgroundColor=function(){var t=this._internalSelectedStyle();return null!=t&&null!=t.backgroundColor||null!=(t=this._getDefinition()._dvConfigOption.selectedStyle)&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.selectedStyle)&&null!=t.backgroundColor?t.backgroundColor:null},i.prototype._getUnselectedStyleBackgroundColor=function(){var t=this._internalUnselectedStyle();return null!=t&&null!=t.backgroundColor||null!=(t=this._getDefinition()._dvConfigOption.unselectedStyle)&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.unselectedStyle)&&null!=t.backgroundColor?t.backgroundColor:null},i.prototype._getStyleStrokeWidth=function(){var t=this._internalStyle();return null!=t&&null!=t.strokeWidth||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.strokeWidth?t.strokeWidth:null},i.prototype._getSelectedStyleStrokeWidth=function(){var t=this._internalSelectedStyle();return null!=t&&null!=t.strokeWidth||null!=(t=this._getDefinition()._dvConfigOption.selectedStyle)&&null!=t.strokeWidth||null!=(t=this._getDefinition()._plotConfigOption.selectedStyle)&&null!=t.strokeWidth?t.strokeWidth:null},i.prototype._getUnselectedStyleStrokeWidth=function(){var t=this._internalUnselectedStyle();return null!=t&&null!=t.strokeWidth||null!=(t=this._getDefinition()._dvConfigOption.unselectedStyle)&&null!=t.strokeWidth||null!=(t=this._getDefinition()._plotConfigOption.unselectedStyle)&&null!=t.strokeWidth?t.strokeWidth:null},i.prototype._getPointColor=function(){return this._pointStyleBuilder._pointColorBuilder._buildColor(this)},i.prototype._toLines=function(e){var n=[];if(null!=e){n=e.split("\n");for(var i=0;i<n.length;i++){for(var o="",r=0,l=t.models.StringObject._parse(n[i]);r<l.length;r++)o+=l[r].value;n[i]=o}}return n},i.prototype._toHtml=function(e){if(null!=e&&e.trim().length>0){for(var n=e.split("\n"),i=new t.models._ContentHtmlBuilder,o=0,r=n;o<r.length;o++){var l=r[o];i._startLine();for(var a=0,u=t.models.StringObject._parse(l);a<u.length;a++){var s=u[a];i._append(s)}i._endLine()}return i._html()}return""},i.prototype.queryRelatedTooltipViewModel=function(e,n){return this.contains(new t.core.Point(e,n))&&null!=this._tooltipContent()?this:null},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.DataPoint},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this.__data._dataSlices._items},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"item",{get:function(){return this.__data._item()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"plot",{get:function(){return t._PlotViewModelUtility._toPlotModel(this._getPlotView())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"plots",{get:function(){var e=[];return this._getPlotView()._getLayoutView()._getPlotAreaView()._getDvView()._traversePlotAreaView((function(n,i){for(var o=0,r=n._getLayoutViews();o<r.length;o++)for(var l=0,a=r[o]._findAllPlotViews();l<a.length;l++){var u=a[l],s=t._PlotViewModelUtility._toPlotModel(u);null!=s&&e.push(s)}}),null),e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"plotArea",{get:function(){return t._PlotAreaViewModelUtility._toPlotAreaModel(this._getPlotView()._getLayoutView()._getPlotAreaView())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataLabel",{get:function(){var e=this._dataLabelView();return null!=e&&t.models._isDataLabelModel(e)?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return null==this.__style&&(this.__style=this._createStyleModel()),this.__style},enumerable:!1,configurable:!0}),i.prototype._createStyleModel=function(){return new t.models._DataPointStyleOptionModel(this._getDefinition()._plotConfigOption.style)},Object.defineProperty(i.prototype,"selectedStyle",{get:function(){if(null==this.__selectedStyle){var e=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.selectedStyle);e._merge(this._getDefinition()._plotConfigOption.selectedStyle),this.__selectedStyle=e}return this.__selectedStyle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"unselectedStyle",{get:function(){if(null==this.__unselectedStyle){var e=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.unselectedStyle);e._merge(this._getDefinition()._plotConfigOption.unselectedStyle),this.__unselectedStyle=e}return this.__unselectedStyle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(n){return"IPointView"===n||"IShapeModel"===n||"IPointModel"==n||"IShowTooltipModel"==n||"IQueryShowTooltipModel"==n?this:"ITooltipInfo"==n?null!=this.__data?(null==this.__tooltipInfo&&(this.__tooltipInfo=new t.models._DataPointTooltipInfo(this)),this.__tooltipInfo):null:"IModelProxy"==n?(null==this.__modelProxy&&(this.__modelProxy=new t.models.ModelProxy(this)),this.__modelProxy):e.prototype.queryInterface.call(this,n)},i.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._getPlotView()._id()+this._createIdentityContent()),this.__cachedId},i.prototype._isSelected=function(){return this.__selected},i.prototype._updateSelected=function(t){this.__selected!=t&&(this.__selected=t,this._onSelectedChanged())},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t,this._onHoverChanged())},i.prototype._getTextOption=function(){return this.text},i.prototype._isFiltered=function(){return this.__data._filtered||this._legendFiltered},i.prototype._isVisible=function(){return!this._isFiltered()&&e.prototype._isVisible.call(this)&&this._animationVisible},i.prototype._boundRectangle=function(){var e=this._rectangle();return null==e||e===t.core.Rect.ReadOnlyRect?null:e.clone()},Object.defineProperty(i.prototype,"color",{get:function(){return this._legendColor},set:function(t){this._legendColor=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shape",{get:function(){return this.__legendShape},set:function(t){this.__legendShape=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this.__legendSize},set:function(t){this.__legendSize=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this.__legendBackgroundColor},set:function(t){this.__legendBackgroundColor=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lightness",{get:function(){return this.__legendLightness},set:function(t){this.__legendLightness=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"additionalKind",{get:function(){return this.__data.additionalKind},set:function(t){this.__data.additionalKind=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._isSelected()},set:function(t){this._updateSelected(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hover",{get:function(){return this._isHover()},set:function(t){this._updateHover(t)},enumerable:!1,configurable:!0}),i.prototype.isVisible=function(){return this._isVisible()},i}(t._BaseView);t._BasePointView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isPointView=function(e){var n=e;return null!=n&&!(!t._isHoverView(n)||!t._isSelectingView(e))&&void 0!==n._floated&&void 0!==n._scale&&void 0!==n._externalStyle&&void 0!==n.backgroundColor&&void 0!==n.lightness&&"function"==typeof n._getXs&&"function"==typeof n._getYs&&"function"==typeof n._setXs&&"function"==typeof n._setYs&&"function"==typeof n._rectangle&&"function"==typeof n._updateRectangle&&"function"==typeof n.cloneId&&"function"==typeof n._modelProxy&&"function"==typeof n._getAttachmentAgentManager&&"function"==typeof n._dataLabel&&"function"==typeof n._dataLabelView&&"function"==typeof n._selectionAdorner&&"function"==typeof n._backgroundShape&&"function"==typeof n._internalStyle&&"function"==typeof n._internalSelectedStyle&&"function"==typeof n._internalUnselectedStyle&&"function"==typeof n._tooltipContent&&"function"==typeof n._createTooltipHtmlContent&&"function"==typeof n.queryRelatedTooltipViewModel&&"function"==typeof n.contains&&"function"==typeof n._pointLayoutListView&&"function"==typeof n._layout&&"function"==typeof n._shape&&"function"==typeof n._createDataLabelView&&"function"==typeof n._getStyleSymbolSize&&"function"==typeof n._getStyleSymbolShape&&"function"==typeof n._getStyleBackgroundColor&&"function"==typeof n._getSelectedStyleBackgroundColor&&"function"==typeof n._getUnselectedStyleBackgroundColor&&"function"==typeof n._getStyleStrokeWidth&&"function"==typeof n._getSelectedStyleStrokeWidth&&"function"==typeof n._getUnselectedStyleStrokeWidth&&"function"==typeof n._getPointColor&&"function"==typeof n._toLines&&"function"==typeof n._toHtml&&"function"==typeof n._getPlotView&&"function"==typeof n._data&&"function"==typeof n._calculateStyle}}(t||(t={})),function(t){t._isSymbolPointView=function(t){var e=t;return null!=e&&void 0!==e.defaultShape&&"function"==typeof e._symbolDefinition&&"function"==typeof e._symbol}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildColor=function(t){var e=this._toPointView(t),n=this._calculateColor(e);return this._calculateLightness(e,n)},e.prototype._toPointView=function(t){return t},e.prototype._calculateLightness=function(e,n){if(t.models._isCssColor(n)&&null!=e.lightness){var i=n,o=e.lightness,r=t._NativeColorUtility._buildNativeColor(i.color),l=t._NativeColorUtility._toHsla(r),a=new t._HslaNativeColor(l._hue,l._saturation,o,l._alpha);n=new t._CssColor(t._NativeColorUtility._toRgbaFromHsla(a)._toCss())}return n},e.prototype._calculateColor=function(t){var e=t.color;return null==e&&(e=t._getPlotView()._getDefinition()._paletteColorProvider._defaultColor()),e},e}();t._PointColorBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.__useSymbolStyle=e,this._pointColorBuilder=null==n?new t._PointColorBuilder:n}return e.prototype._buildPointStyle=function(t){var e=this._toPointView(t),n=this._buildDefaultStyle();return this._applyColor(n,this._pointColorBuilder._buildColor(e),e),this._applyDataPointStyle(n,e),n},e.prototype._buildSelectedPointStyle=function(e,n){var i=this._toPointView(e),o=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(o,i._getPlotView()._getDefinition()._dvConfigOption.selectedStyle),this._applyDataPointStyleOption(o,i._getPlotView()._getDefinition()._plotConfigOption.selectedStyle),this._applyDataPointStyleOption(o,i._internalSelectedStyle()),this._applyDataPointStyleOption(o,n),o},e.prototype._buildUnselectedPointStyle=function(e){var n=this._toPointView(e),i=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._dvConfigOption.unselectedStyle),this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._plotConfigOption.unselectedStyle),this._applyDataPointStyleOption(i,n._internalUnselectedStyle()),i},e.prototype._buildHoverPointStyle=function(e){var n=this._toPointView(e),i=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._plotConfigOption.hoverStyle),i},e.prototype._toPointView=function(t){return t},e.prototype._buildDefaultStyle=function(){return this.__useSymbolStyle?t._StyleUtility._buildStyle():t._StyleUtility._buildStyle(1,null,null,null,1)},e.prototype._applyColor=function(t,e,n){null!=e&&(t.fill=e,t.stroke=e)},e.prototype._applyDataPointStyle=function(e,n){t._OptionUtility._applyStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style),this._applyDataPointStyleOption(e,n._getPlotView()._getDefinition()._plotConfigOption.style),this._applyDataPointStyleOption(e,n._internalStyle())},e.prototype._applyDataPointStyleOption=function(e,n){this.__useSymbolStyle?t._OptionUtility._applyDataPointSymbolStyleOption(e,n):t._OptionUtility._applyDataPointStyleOption(e,n)},e}();t._PointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n)||this;return o.__hover=!1,o.__rectangle=t.core.Rect.ReadOnlyRect,o._pointViews=[],o.__color=null,o._dataModel=i,o._legendFiltered=!1,o}return n(i,e),i.prototype._rectangle=function(){return this.__rectangle},i.prototype._getDefinition=function(){return this._getPlotView()._getDefinition()},i.prototype._updateRectangle=function(t){this.__rectangle=t},i.prototype.cloneId=function(t){this.__cachedId=t._id()},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._layoutContent=function(t,e,n){},i.prototype._shapes=function(){return[]},i.prototype._createStyleModel=function(){return new t.models._DataPointStyleOptionModel(null)},i.prototype._internalStyle=function(){return null!=this.__style&&this.__style._isChanged()?this.__style:null},i.prototype._createSelectedStyleModel=function(){var e=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.selectedStyle);return e._merge(this._getDefinition()._plotConfigOption.selectedStyle),e},i.prototype._internalSelectedStyle=function(){return null!=this.__selectedStyle&&this.__selectedStyle._isChanged()?this.__selectedStyle:null},i.prototype._createUnselectedStyleModel=function(){var e=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.unselectedStyle);return e._merge(this._getDefinition()._plotConfigOption.unselectedStyle),e},i.prototype._internalUnselectedStyle=function(){return null!=this.__unselectedStyle&&this.__unselectedStyle._isChanged()?this.__unselectedStyle:null},i.prototype._getStyleBackgroundColor=function(){var t=this._internalStyle();return null!=t&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.backgroundColor?t.backgroundColor:null},i.prototype._getSeriesDataModel=function(){return this._dataModel},i.prototype._getPointViews=function(){return this._pointViews},i.prototype._data=function(){return this._dataModel},i.prototype._isFiltered=function(){return this._dataModel._filtered||this._legendFiltered},i.prototype._isSelected=function(){for(var t=0,e=this._pointViews;t<e.length;t++)if(!e[t]._isSelected())return!1;return!0},i.prototype._updateSelected=function(t){for(var e=0,n=this._pointViews;e<n.length;e++)n[e]._updateSelected(t)},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t)},i.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._getPlotView()._id()+this._createIdentityContent()),this.__cachedId},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Series},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._getPlotView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this._dataModel._dataSlices._items},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._isSelected()},set:function(t){this._updateSelected(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hover",{get:function(){return this._isHover()},set:function(t){this._updateHover(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return null==this.__style&&(this.__style=this._createStyleModel()),this.__style},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectedStyle",{get:function(){return null==this.__selectedStyle&&(this.__selectedStyle=this._createSelectedStyleModel()),this.__selectedStyle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"unselectedStyle",{get:function(){return null==this.__unselectedStyle&&(this.__unselectedStyle=this._createUnselectedStyleModel()),this.__unselectedStyle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"points",{get:function(){return this._pointViews.map((function(e){return t.models._isPointModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visiblePoints",{get:function(){return this._pointViews.map((function(e){return e._isVisible()&&t.models._isPointModel(e)?e:null})).filter((function(t){return null!=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){if(null==this.__color)for(var t=0,e=this._pointViews;t<e.length;t++){var n=e[t];if(0!=n._data()._dataSlices._length){if(null!=this.__color&&!this.__color.equalsWith(n.color)){this.__color=null;break}this.__color=n.color}}return this.__color},set:function(t){this.__color=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return this._shapes()},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"ISeriesView"===t||"IShapeModel"===t||"ISeriesModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._BaseView);t._BaseSeriesView=e}(t||(t={})),function(t){t._isSeriesConfig=function(t){var e=t;return null!=e&&void 0!==e.style&&void 0!==e.color}}(t||(t={})),function(t){t._isSeriesView=function(e){if(!t._isHoverView(e)||!t._isSelectingView(e)||!t._isIdentityModel(e))return!1;var n=e;return null!=n&&"function"==typeof n._getPlotView&&"function"==typeof n._getSeriesDataModel&&"function"==typeof n._rectangle}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._buildInPlotAreaDefinitionBuilders=function(){return null==i.__buildInPlotAreaDefinitionBuilders&&(i.__buildInPlotAreaDefinitionBuilders=new i([],i._pluginType)),i.__buildInPlotAreaDefinitionBuilders},i.prototype._convert=function(e){return t._isPlotAreaDefinitionBuilder(e)?e:null},i.prototype._plotAreaDefinition=function(e,n,i,o,r){for(var l=0,a=this._objects(o,r);l<a.length;l++){var u=a[l].item._buildPlotAreaDefinition(e,n,i);if(null!=u)return u}return new t._PlotAreaDefinition(e,n,i,null)},i._pluginType="PlotArea",i}(t._BuildInObjectCollection);t._BuildInPlotAreaDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isPlotAreaDefinitionBuilder=function(t){return"function"==typeof t._buildPlotAreaDefinition}}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){this.__dvDefinition=e,this._dvConfigOption=e._dvConfigOption,this._plotAreaOption=n,this._plotOptions=i,this._pluginCollection=e._pluginCollection,this._imageProvider=e._imageProvider,this._symbolDefinitionProvider=e._symbolDefinitionProvider,this._paletteColorProvider=e._paletteColorProvider,this._valueColorProvider=e._valueColorProvider,this._plotAreaViewBuilderCallback=null!=o?o:function(e,n){return new t._PlotAreaView(e,n)}}return e.prototype._findDataSchema=function(t){return this.__dvDefinition._findDataSchema(t)},e}();t._PlotAreaDefinition=e}(t||(t={})),function(t){var e=function(){function t(){}return t._toPlotAreaModel=function(t){return null!=t.queryInterface("IPlotAreaModel")?t:null},t._toPlotAreaView=function(t){return null!=t.queryInterface("IPlotAreaView")?t:null},t}();t._PlotAreaViewModelUtility=e}(t||(t={})),function(t){t._isPlotAreaView=function(t){var e=t;return void 0!==e._colorIterator&&"function"==typeof e._getDefinition&&"function"==typeof e._getDvView&&"function"==typeof e._getPlotViews&&"function"==typeof e._getLegendViews&&"function"==typeof e._loadDataSources}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i){var o=e.call(this,n)||this;return o._definition=i,o._colorIterator=new t._ColorIterator(i._paletteColorProvider),o._isDataDirty=!1,o}return n(i,e),i.prototype._createLayoutViews=function(){for(var t=[],e=0,n=this._createLayoutDefinitions();e<n.length;e++){var i=n[e],o=this._createLayoutView(this,i);null!=o&&t.push(o)}return t},i.prototype._createIdentityContent=function(){var e=this._getDvView()._indexOfPlotAreaView(this).toString();return t._Util.HashCode("plotarea"+e)},i.prototype._createLayoutDefinitions=function(){return t._LayoutDefinitionListBuilder.__layoutDefinitionListBuilder._buildLayoutDefinitions(this._definition,this._definition._plotOptions,this._definition._plotAreaOption.axes)},i.prototype._paddings=function(){return this._definition._plotAreaOption.padding},i.prototype._hasSelection=function(){for(var t=0,e=this._getLayoutViews();t<e.length;t++)if(e[t]._hasSelection())return!0;return!1},i.prototype._getClassName=function(){return"gcdv-plotarea"},i.prototype._layout=function(t,n,i){this._isDataDirty&&this._layoutData(),e.prototype._layout.call(this,t,n,i)},i.prototype._layoutInnerContent=function(e,n,i){e.beginTransform(),this._applyStyle(e),i._labels=[],i._axisLabels=[],i._legendsLabels=[],i._innerPlotAreaRect=null,(n=n.clone()).width<0&&(n.width=0),n.height<0&&(n.height=0);var o=this._definition._plotAreaOption.plotsMargin;if(i._plotsMarginRectangle=null,null!=o){var r=n.clone(),l=r.width,a=r.height;r.left+=o.left*l,r.width-=o.left*l+o.right*l,r.top+=o.top*a,r.height-=o.top*a+o.bottom*a,i._plotsMarginRectangle=r}var u=n;null!=this.__backLegendViewManager&&(u=this.__backLegendViewManager._layout(e,n,i));var s=n;null!=this.__frontLegendViewManager&&(s=this.__frontLegendViewManager._layout(e,n,i));var _=t._RectangleUtility._intersectionOfRectangle(u,s);_.width<0&&(_.width=0),_.height<0&&(_.height=0),i._innerPlotAreaRect=_.clone();for(var p=0,c=this._getLayoutViews();p<c.length;p++)c[p]._layout(e,_,i);i._innerPlotAreaRect=null,i._legendsLabels=[],i._axisLabels=[],i._labels=[],i._plotsMarginRectangle=null,e.restoreTransform()},i.prototype._drawView=function(e,n){e.beginTransform(),this._applyBorderStyle(e),this._applyBackgroundStyle(e);var i=this._getRectangle().clone();if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var o=e.strokeWidth;e.drawRect(i.left+o/2,i.top+o/2,i.width-o,i.height-o),i.inflate(-o,-o)}e.restoreTransform()},i.prototype._renderChildren=function(e,n){var i=this;e.beginTransform(),this._applyBorderStyle(e);var o=this._getRectangle();if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var r=e.strokeWidth;o=t._RectangleUtility._inflateRectangle(o,-r,-r)}e.restoreTransform();var l=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height),a=this._calculateExcludedPaddingsRectangle(o,this._paddings());this._zLevel==n._currentZLevel?e.drawGroup(null,l,null,(function(t){i._renderInnerContent(t,a,n)})):this._renderInnerContent(e,a,n)},i.prototype._renderInnerContent=function(t,e,n){n.hasSelectionInPlotArea=this._hasSelection(),n._labels=[],n._axisLabels=[],n._legendsLabels=[],t.beginTransform(),this._applyStyle(t),null!=this.__backLegendViewManager&&this.__backLegendViewManager._render(t,n);for(var i=0,o=this._getLayoutViews();i<o.length;i++)o[i]._render(t,n);null!=this.__frontLegendViewManager&&this.__frontLegendViewManager._render(t,n),t.restoreTransform(),n._legendsLabels=[],n._axisLabels=[],n._labels=[],n.hasSelectionInPlotArea=!1},i.prototype._applyStyle=function(e){t._OptionUtility._applyStyleOption(e,this._definition._plotAreaOption.style),t._OptionUtility._applyTextStyleOption(e,this._definition._plotAreaOption.textStyle)},i.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._OptionUtility._applyFillOption(n,this._definition._dvConfigOption.style.backgroundColor),t._OptionUtility._applyFillOption(n,this._definition._plotAreaOption.style.backgroundColor),t._OptionUtility._applyFillOption(n,this._definition._plotAreaOption.backgroundColor)},i.prototype._applyBorderStyle=function(n){e.prototype._applyBorderStyle.call(this,n),t._OptionUtility._applyLineStyleFromStyleOption(n,this._definition._dvConfigOption.style),t._OptionUtility._applyLineStyleFromStyleOption(n,this._definition._plotAreaOption.style),t._OptionUtility._applyLineStyleOption(n,this._definition._plotAreaOption.borderStyle)},i.prototype._getCategoryWithAxis=function(t,e){if(null!=t)for(var n=0,i=t._categoryValueViews();n<i.length;n++){var o=i[n];if(o.contains(e))return o}return null},i.prototype._generateOverlays=function(){for(var t=0,e=this._getPlotViews();t<e.length;t++)e[t]._generateOverlays()},i.prototype._prepareLegend=function(){var e=this._definition._plotAreaOption.plugins,n=this._definition._pluginCollection,i=t._BuildInLegendLayerDefinitionBuilderCollection._buildInLegendLayerDefinitionBuilders()._legendLayerDefinition(e,n),o=new t._LegendViewsBuilder(i._getLegendViewBuilder()).build(this);null!=i._backLegendLayerViewBuilder&&(this.__backLegendViewManager=i._backLegendLayerViewBuilder._buildLegendLayerView(this,o)),null!=i._frontLegendLayerViewBuilder&&(this.__frontLegendViewManager=i._frontLegendLayerViewBuilder._buildLegendLayerView(this,o))},i.prototype._getDefinition=function(){return this._definition},i.prototype._getDvView=function(){return this._ownerView},i.prototype._getPlotViews=function(){for(var t=[],e=0,n=this._getLayoutViews();e<n.length;e++){var i=n[e];t.push.apply(t,i._findAllPlotViews())}return t},i.prototype._getLegendViews=function(){var t=[];return null!=this.__backLegendViewManager&&t.push.apply(t,this.__backLegendViewManager._getLegendViews()),null!=this.__frontLegendViewManager&&t.push.apply(t,this.__frontLegendViewManager._getLegendViews()),t},i.prototype._loadDataSources=function(e){for(var n=0,i=this._getLayoutViews();n<i.length;n++){var o=i[n];t._isLoadDataSource(o)&&o._loadDataSources(e)}this._generateOverlays(),this._prepareLegend()},i.prototype._layoutData=function(){for(var t=0,e=this._getLayoutViews();t<e.length;t++)e[t]._layoutData();this._refreshLegend()},i.prototype._refreshLegend=function(){var t=this;this._getLegendViews().forEach((function(e){e._getDataModel()._refresh(t)}))},i.prototype._getPlotAreaView=function(){return this},i.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._createIdentityContent()),this.__cachedId},i.prototype._hitTest=function(n,i,o){var r=null,l=this._getRectangle();if(null==l||this._zLevel==i&&!l.contains(n))return e.prototype._hitTest.call(this,n,i,o);if(null!=this.__frontLegendViewManager&&null!=(r=this.__frontLegendViewManager._hitTest(n,i,o)))return r;for(var a=0,u=this._getLayoutViews().slice().reverse();a<u.length;a++){var s=u[a];if(null!=(r=null!=s?s._hitTest(n,i,o):null))return r}return null!=this.__backLegendViewManager&&null!=(r=this.__backLegendViewManager._hitTest(n,i,o))?r:this._zLevel==i?(r=new t.HitTestResult(n,this,this,t.ElementType.PlotArea),null==o||null!=o&&o.predicate(r)?r:null):e.prototype._hitTest.call(this,n,i,o)},i.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.__backLegendViewManager&&this.__backLegendViewManager.dispose(),null!=this.__frontLegendViewManager&&this.__frontLegendViewManager.dispose()},i.prototype._queryRelatedViewModel=function(e,n){for(var i=null,o=new t.core.Point(e,n),r=0,l=this.plotsPanes;r<l.length;r++)for(var a=0,u=l[r].plots;a<u.length;a++){var s=u[a];if(null!=s.queryInterface("ICartesianPlotModel")){var _=s.seriesList[0];if(t._isCartesianSeriesView(_)&&null!=(i=this._getCategoryWithAxis(_._getCartesianGroupView()._xAxisView(),o)))return i}}return i},i.prototype.queryRelatedTooltipViewModel=function(e,n){for(var i=null,o=new t.core.Point(e,n),r=0,l=this.plotsPanes;r<l.length;r++)for(var a=0,u=l[r].plots;a<u.length;a++){var s=u[a];if(null!=s.queryInterface("ICartesianPlotModel")){var _=s.seriesList[0];if(t._isCartesianSeriesView(_)&&null!=(i=this._getCategoryWithAxis(_._getCartesianGroupView()._xAxisView(),o)))return i}}return i},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.PlotArea},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"row",{get:function(){return this._definition._plotAreaOption.row},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"column",{get:function(){return this._definition._plotAreaOption.column},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"legends",{get:function(){for(var t=[],e=0,n=this._getLegendViews();e<n.length;e++){var i=n[e];null!=i&&t.push(i)}return t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"plotsPanes",{get:function(){for(var t=[],e=0,n=this._getLayoutViews();e<n.length;e++){var i=n[e];t.push.apply(t,i._plotsPaneViews())}return t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){var e=[],n=this._getRectangle();return e.push(new t._RectangleShape(n.center.x,n.center.y,n.width,n.height,0)),e},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IModel"==t||"IViewModel"==t||"IPlotAreaModel"==t||"IPlotAreaView"==t||"IShapeModel"==t||"IQueryShowTooltipModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._BaseLayoutListView);t._PlotAreaView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._AxisLabelSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._axisLabelSelectionInteractionBuilder=new e,e}();t._AxisLabelSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._axisLabelSelectionInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(null==n||n.type!=t.ElementType.AxisLabel)return 0;var i=n,o=t._ViewModelUtility._plotAreaModel(i);if(null==o)return 0;var r=this._dv(o);if(null==r)return 0;var l=r.option;return null!=l&&l.selectionMode==t.SelectionMode.Category?(this._clear(o),this._select(i),t._LegendUtility._updateLegendItemSelectedState(o),1):0},e.prototype._dv=function(e){return null==e?null:e.type==t.ElementType.Control?e:this._dv(e.parent)},e.prototype._clear=function(t){for(var e=0,n=t.plotsPanes;e<n.length;e++)for(var i=0,o=n[e].plots;i<o.length;i++)for(var r=0,l=o[i].points;r<l.length;r++)l[r].selected=!1},e.prototype._select=function(t){for(var e=0,n=t.relatedModels();e<n.length;e++)n[e].selected=!0},e}(),e._AxisLabelSelectionInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._CancelSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._cancelSelectionInteractionBuilder=new e,e}();t._CancelSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._cancelSelectionInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this._control=t}return n.prototype.onClick=function(n,i){if(null==i||i.type!=t.ElementType.PlotArea)return 0;for(var o=!1,r=i,l=0,a=r.plotsPanes;l<a.length;l++)for(var u=0,s=a[l].plots;u<s.length;u++)for(var _=0,p=s[u].points;_<p.length;_++)(g=p[_]).selected&&(g.selected=!1,o=!0);for(var c=0,h=r.legends;c<h.length;c++){var f=h[c];if(e._isItemizedLegendModel(f))for(var d=0,y=f.items;d<y.length;d++){var g;(g=y[d]).selected&&(g.selected=!1,o=!0)}}return t._LegendUtility._updateLegendItemSelectedState(r),o?1:0},n}(),e._CancelSelectionInteraction=n}(t||(t={})),function(t){t._isClickInteractionBuilder=function(t){return null!=t.buildClickInteraction}}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._LegendSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._legendSelectionInteractionBuilder=new e,e}();t._LegendSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._legendSelectionInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this._control=t}return n.prototype.onClick=function(n,i){if(null==i)return 0;var o=t._ViewModelUtility._legendItemModel(i);if(null==o)return 0;var r=t._ViewModelUtility._plotAreaModel(o);if(null==r)return 0;var l=t._ViewModelUtility._dvModel(r);if(null==l)return 0;var a=l.option;if(null!=a){if(a.selectionMode==t.SelectionMode.LegendMultiple)return o.selected=!o.selected,this._multipleSelect(r,o),1;if(a.selectionMode==t.SelectionMode.LegendSingle){for(var u=0,s=r.legends;u<s.length;u++){var _=s[u];if(e._isItemizedLegendModel(_))for(var p=0,c=_.items;p<c.length;p++){var h=c[p];h!=o&&(h.selected=!1)}}return o.selected=!o.selected,this._singleSelect(r),1}}return 0},n.prototype._singleSelect=function(n){for(var i=0,o=n.legends;i<o.length;i++){var r=o[i];if(e._isItemizedLegendModel(r))for(var l=0,a=r.items;l<a.length;l++)if(!(f=a[l]).selected)for(var u=0,s=f.relatedModels();u<s.length;u++)((g=s[u]).type==t.ElementType.DataPoint||g.type==t.ElementType.Series)&&(g.selected=f.selected)}for(var _=0,p=n.legends;_<p.length;_++)if(r=p[_],e._isItemizedLegendModel(r))for(var c=0,h=r.items;c<h.length;c++){var f;if((f=h[c]).selected)for(var d=0,y=f.relatedModels();d<y.length;d++){var g;((g=y[d]).type==t.ElementType.DataPoint||g.type==t.ElementType.Series)&&(g.selected=f.selected)}}t._LegendUtility._updateLegendItemSelectedState(n)},n.prototype._multipleSelect=function(e,n){for(var i=0,o=n.relatedModels();i<o.length;i++){var r=o[i];(r.type==t.ElementType.DataPoint||r.type==t.ElementType.Series)&&(r.selected=n.selected)}t._LegendUtility._updateLegendItemSelectedState(e)},n}(),e._LegendSelectionInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(null==n||n.type!=t.ElementType.DataPoint)return 0;var i=n,o=t._ViewModelUtility._plotAreaModel(i);if(null==o)return 0;var r=t._ViewModelUtility._dvModel(o);if(null==r)return 0;var l=r.option;if(null!=l){if(l.selectionMode==t.SelectionMode.Points&&e.originalEvent instanceof MouseEvent&&(e.originalEvent.metaKey||e.originalEvent.ctrlKey))return i.selected?0:(i.selected=!0,t._LegendUtility._updateLegendItemSelectedState(o),1);if(l.selectionMode==t.SelectionMode.Points||l.selectionMode==t.SelectionMode.Point){for(var a=!1,u=0,s=o.plotsPanes;u<s.length;u++)for(var _=0,p=s[u].plots;_<p.length;_++)for(var c=0,h=p[_].points;c<h.length;c++)(G=h[c])!=i&&G.selected?(G.selected=!1,a=!0):G!=i||G.selected||(G.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Group){a=!1;for(var f=0,d=o.plotsPanes;f<d.length;f++)for(var y=0,g=d[f].plots;y<g.length;y++)for(var m=0,v=g[y].points;m<v.length;m++)(G=v[m]).parent!=i.parent&&G.selected?(G.selected=!1,a=!0):G.parent!=i.parent||G.selected||(G.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Color){a=!1;for(var w=0,b=o.plotsPanes;w<b.length;w++)for(var P=0,S=b[w].plots;P<S.length;P++)for(var C=0,V=S[P].points;C<V.length;C++)(G=V[C]).color!=i.color&&G.selected?(G.selected=!1,a=!0):G.color!=i.color||G.selected||(G.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Shape){a=!1;for(var x=0,D=o.plotsPanes;x<D.length;x++)for(var O=0,A=D[x].plots;O<A.length;O++)for(var L=0,T=A[O].points;L<T.length;L++)(G=T[L]).shape!=i.shape&&G.selected?(G.selected=!1,a=!0):G.shape!=i.shape||G.selected||(G.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Size){a=!1;for(var M=0,E=o.plotsPanes;M<E.length;M++)for(var I=0,B=E[M].plots;I<B.length;I++)for(var R=0,k=B[I].points;R<k.length;R++)(G=k[R]).size!=i.size&&G.selected?(G.selected=!1,a=!0):G.size!=i.size||G.selected||(G.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Category){a=!1;for(var N=0,F=o.plotsPanes;N<F.length;N++)for(var U=0,z=F[N].plots;U<z.length;U++)for(var j=0,W=z[U].points;j<W.length;j++){var G;(G=W[j])instanceof t._CartesianPointView&&i instanceof t._CartesianPointView&&(G.dimension==i.dimension?(G._updateSelected(!0),a=!0):(G._updateSelected(!1),a=!0))}return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}}return 0},e}(),e._PointSelectionInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._PointSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._pointSelectionInteractionBuilder=new e,e}();t._PointSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._pointSelectionInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(null==n||n.type!=t.ElementType.Series)return 0;var i=n,o=t._ViewModelUtility._plotAreaModel(i);if(null==o)return 0;var r=t._ViewModelUtility._dvModel(o);if(null==r)return 0;var l=r.option;if(null!=l){if(l.selectionMode==t.SelectionMode.Points&&e.originalEvent instanceof MouseEvent&&(e.originalEvent.metaKey||e.originalEvent.ctrlKey)){for(var a=!1,u=0,s=i.points;u<s.length;u++){var _=s[u];_.selected||(a=!0,_.selected=!0)}return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Points){a=!1;for(var p=0,c=o.plotsPanes;p<c.length;p++)for(var h=0,f=c[p].plots;h<f.length;h++)for(var d=0,y=f[h].points;d<y.length;d++)(G=y[d]).parent!=i&&G.selected?(G.selected=!1,a=!0):G.parent!=i||G.selected||(G.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Group){a=!1;for(var g=0,m=o.plotsPanes;g<m.length;g++)for(var v=0,w=m[g].plots;v<w.length;v++)for(var b=0,P=w[v].points;b<P.length;b++)(G=P[b]).parent!=i&&G.selected?(G.selected=!1,a=!0):G.parent!=i||G.selected||(G.selected=!0,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Color){a=!1;for(var S=this._hasSameColor(i),C=0,V=o.plotsPanes;C<V.length;C++)for(var x=0,D=V[C].plots;x<D.length;x++)for(var O=0,A=D[x].points;O<A.length;O++)(G=A[O]).parent==i&&S||!G.selected?G.parent==i&&S&&!G.selected&&(G.selected=!0,a=!0):(G.selected=!1,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Shape){a=!1;for(var L=this._hasSameShape(i),T=0,M=o.plotsPanes;T<M.length;T++)for(var E=0,I=M[T].plots;E<I.length;E++)for(var B=0,R=I[E].points;B<R.length;B++)(G=R[B]).parent==i&&L||!G.selected?G.parent==i&&L&&!G.selected&&(G.selected=!0,a=!0):(G.selected=!1,a=!0);return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}if(l.selectionMode==t.SelectionMode.Size){a=!1;for(var k=this._hasSameSize(i),N=0,F=o.plotsPanes;N<F.length;N++)for(var U=0,z=F[N].plots;U<z.length;U++)for(var j=0,W=z[U].points;j<W.length;j++){var G;(G=W[j]).parent==i&&k||!G.selected?G.parent==i&&k&&!G.selected&&(G.selected=!0,a=!0):(G.selected=!1,a=!0)}return t._LegendUtility._updateLegendItemSelectedState(o),a?1:0}}return 0},e.prototype._hasSameColor=function(t){for(var e=null,n=0,i=t.points;n<i.length;n++){var o=i[n];if(null==e)e=o.color;else if(e!=o.color)return!1}return!0},e.prototype._hasSameShape=function(t){for(var e=null,n=0,i=t.points;n<i.length;n++){var o=i[n];if(null==e)e=o.shape;else if(e!=o.shape)return!1}return!0},e.prototype._hasSameSize=function(t){for(var e=null,n=0,i=t.points;n<i.length;n++){var o=i[n];if(null==e)e=o.size;else if(e!=o.size)return!1}return!0},e}(),e._SeriesSelectionInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._SeriesSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._seriesSelectionInteractionBuilder=new e,e}();t._SeriesSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._seriesSelectionInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.name="ConditionalFormattingRule",this.type=t._BuildInConditionalFormattingRuleBuilderCollection._pluginType,this.priority=1}return n.prototype.buildConditionalFormattingRule=function(t,n,i){return null!=t&&"Label"===t.type?new e._AxisLabelConditionalFormattingRule(t,n,i):null},n.prototype.queryInterface=function(t){return"IConditionalFormattingRuleBuilder"==t||"IPlugin"==t?this:null},n._defaultPlugin=new n,n}(),e._AxisConditionalFormattingRulePlugin=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){var e=function(e){function i(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return n(i,e),i.prototype._findActionTarget=function(t){return"Label"==t.targetElement?this._current():null},i.prototype._createTargetElementAction=function(e,n,i){return new t._AxisLabelTargetElementAction(e,n,i)},i}(t._ConditionalFormattingRule);t._AxisLabelConditionalFormattingRule=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._assign=function(e,n,i){new t._AnyValueBinding(n)._setValue(e,i)},i}(e._TargetElementAction),e._AxisLabelTargetElementAction=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.name="ConditionalFormattingRule",this.type=t._BuildInConditionalFormattingRuleBuilderCollection._pluginType,this.priority=1}return n.prototype.buildConditionalFormattingRule=function(t,n,i){return null!=t&&"OverlayItem"===t.type?new e._OverlayItemConditionalFormattingRule(t,n,i):null},n.prototype.queryInterface=function(t){return"IConditionalFormattingRuleBuilder"==t||"IPlugin"==t?this:null},n._defaultPlugin=new n,n}(),e._OverlayItemConditionalFormattingRulePlugin=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,i,o)||this;return r.__proxy=n,r}return n(i,e),i.prototype._set=function(t,e){null!=this.__proxy&&this.__proxy.set(t,e)},i.prototype._assign=function(e,n,i){if("style.stroke"==n){var o=this._parseColorValue(i);this._set(n,o)}else if("style.fill"==n){var r=this._parseColorValue(i);this._set(n,r)}else if("style.backgroundColor"==n){var l=this._parseColorValue(i);this._set(n,l)}else if("style.symbolStroke"==n){var a=this._parseColorValue(i);this._set(n,a)}else if("style.symbolFill"==n){var u=this._parseColorValue(i);this._set(n,u)}else if("textStyle.color"==n){var s=this._parseColorValue(i);if(t._isCssColor(s)){var _=s;this._set(n,_.color)}}else this._set(n,i)},i}(t._TargetElementAction);t._OverlayItemTargetElementAction=e}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(e){function i(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return n(i,e),i.prototype.isIdentityExpression=function(e){return null!=t._OverlayItemConditionalFormattingRuleExpressionBuilder._defaultBuilder().build(e)},i.prototype.getIdentityValue=function(e){return t._OverlayItemConditionalFormattingRuleExpressionBuilder._defaultBuilder().build(e)._evaluate(this._current())},i.prototype._createTargetElementAction=function(e,n,i){var o=this._current();return null!=o?new t._OverlayItemTargetElementAction(e,o.queryInterface("IModelProxy"),n,i):new t._TargetElementAction(e,n,i)},i._conditionalFormattingRuleType="OverlayItem",i}(t._ConditionalFormattingRule);t._OverlayItemConditionalFormattingRule=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getBinding=function(e){return new t._ExcelExpressionBinding(e)},i}(e._RuleExpression),e._OverlayItemConditionalFormattingRuleExpression=i}(t||(t={})),function(t){!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._defaultBuilder=function(){return null==i.__overlayItemConditionalFormattingRuleExpressionBuilder&&(i.__overlayItemConditionalFormattingRuleExpressionBuilder=new i),i.__overlayItemConditionalFormattingRuleExpressionBuilder},i.prototype._createRuleExpression=function(e){return new t._OverlayItemConditionalFormattingRuleExpression(e,i._defaultBuilder())},i}(t._RuleExpressionBuilder);t._OverlayItemConditionalFormattingRuleExpressionBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(n,o,r){return t.call(this,n,e._type,o,r,i._viewBuilder)||this}return n(e,t),e._type="Xy",e}(t._BaseCoordinateSystemDefinition);t._XyCoordinateSystemDefinition=e;var i=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._XyCoordinateSystemView(e,n)},e._viewBuilder=new e,e}()}(t||(t={})),function(t){var e=function(){function e(){this.name="XyCoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._XyCoordinateSystemDefinition._type?new t._XyCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._XyCoordinateSystemPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){var e=function(){function t(){this.__html=""}return t.prototype._startLine=function(){this.__html+='<div style="'+t.__lineLayoutCss+'">'},t.prototype._endLine=function(){this.__html+="</div>"},t.prototype._append=function(t){"text"==t.type?this.__html+="<div>"+t.value+"</div>":"color"==t.type&&(this.__html+=this._getColorDivByCssColor(t.value))},t.prototype._getColorDivByCssColor=function(e){return'<div class="'+t.__colorSymbolClassName+'"style="background:'+e+";border-color:"+e+";"+t.__colorSymbolLayoutCss+'"></div>'},t.prototype._html=function(){return this.__html},t.__colorSymbolClassName="gcdv-tooltip-color-symbol",t.__colorSymbolLayoutCss="flex-shrink: 0; align-self: center;",t.__lineLayoutCss="display: flex;",t}();t._ContentHtmlBuilder=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="DoubleClickInteraction",this.type=t._BuildInDoubleClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDoubleClickInteraction=function(e){return new t.models._CoordinateSystemZoomDoubleClickInteraction(e)},e.prototype.queryInterface=function(t){return"IDoubleClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._coordinateSystemDoubleClickZoomInteractionBuilder=new e,e}();t._CoordinateSystemZoomDoubleClickInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._coordinateSystemDoubleClickZoomInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype.onDoubleClick=function(e,n){var i=t._ZoomInteractionUtility._zoomConfig(n);if(null!=i&&i.enableMouseDoubleClick){var o=t._ZoomInteractionUtility._coordinateSystemZoomView(n);if(null!=o&&o._isHitTested(e.x,e.y)){var r=o._zoomFactor*t._Constants.ZoomInAcceleratedSpeed;return o._zoomAt(r,e.x,e.y),1}}return-1},e.prototype.dispose=function(){},e}(),e._CoordinateSystemZoomDoubleClickInteraction=n}(t||(t={})),function(t){t._isDoubleClickInteractionBuilder=function(t){return null!=t.buildDoubleClickInteraction}}(t||(t={})),function(t){var e=function(){function e(){this.name="DraggingInteraction",this.type=t._BuildInDraggingInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDraggingInteraction=function(e){return new t.models._CoordinateSystemTranslationDraggingInteraction(e)},e.prototype.queryInterface=function(t){return"IDraggingInteractionBuilder"==t||"IPlugin"==t?this:null},e._coordinateSystemTranslationDraggingInteractionBuilder=new e,e}();t._CoordinateSystemTranslationDraggingInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._coordinateSystemTranslationDraggingInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._isPointInBounds=function(t,e,n){return t>=n.left&&t<n.right&&e>=n.top&&e<n.bottom},e.prototype.isModel=function(e,n){if(t._ZoomInteractionUtility._isZoomEnabled(n)){var i=t._ZoomInteractionUtility._coordinateSystemZoomView(n);if(null!=i&&i._isHitTested(e.x,e.y))return this.__model=i,!0}return!1},e.prototype.onStart=function(t){return this.__x=t.x,this.__y=t.y,-1},e.prototype.onDragging=function(t,e,n,i){if(null!=this.__model&&this._isPointInBounds(t.x,t.y,this.__model._zoomBounds)){var o=t.x-this.__x,r=t.y-this.__y;return this.__x=t.x,this.__y=t.y,this.__model._translate(o,r),1}return-1},e.prototype.onEnd=function(t,e,n,i){return this.__model=null,this.__x=0,this.__y=0,-1},e.prototype.dispose=function(){},e}(),e._CoordinateSystemTranslationDraggingInteraction=n}(t||(t={})),function(t){t._isDraggingInteractionBuilder=function(t){return null!=t.buildDraggingInteraction}}(t||(t={})),function(t){var e,n,i;e=t.plugins||(t.plugins={}),n=function(t,e,n){this.firstPlotDef=t,this.start=e,this.items=n},i=function(){function e(){this.name="ExcelLegendItemSortingPolicy",this.type=t._BuildInLegendItemSortingPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._sortOrder=function(e){return e instanceof t.options._LegendOption?e.sortOrder:t.SortOrder.None},e.prototype.build=function(e,n){return t._isItemizedLegendDataModel(e)&&t._LegendUtility._isType(e,t.LegendType.Color)?this:null},e.prototype._reverseStack=function(t,e){for(var i=[],o=[],r=0;r<e.length;++r){var l=e[r];if(this._isStackPlotItems(t,l)){for(var a=!1,u=l._relatedPlotDefinition(t)[0],s=0,_=i;s<_.length;s++)if((d=_[s]).firstPlotDef===u){d.items.push(l),a=!0;break}if(!a){var p=[];p.push(l),i.push(new n(u,o.length,p))}}else o.push(l)}for(var c=0,h=0,f=i;h<f.length;h++){var d;(d=f[h]).items.reverse();for(var y=0,g=d.items;y<g.length;y++)l=g[y],o.splice(d.start+c,0,l),c+=1}return o},e.prototype._isStackPlotItems=function(t,e){var n=e._relatedPlotDefinition(t);if(0==n.length)return!1;var i=n[0];return null!=i&&this._isShouldBeReversed(i,this._position(t,e._legend))},e.prototype._position=function(e,n){var i=n._option.position;return null==i&&(i=e._getDefinition()._plotAreaOption.legend.position),null==i&&(i=e._getDefinition()._dvConfigOption.legend.position),t._NativeExtension._toNonNullEnum(i,t.LegendPosition.Right)},e.prototype._isShouldBeReversed=function(e,n){var i=!1,o=e._getType(),r=e._plotConfigOption.axisMode,l=e._plotConfigOption.swapAxes,a=e._plotOption.encodings.details,u=0==a.length||null==a[0]?null:a[0].group;return r==t.AxisMode.Cartesian&&("Bar"==o?l&&u==t.Group.Cluster?i=!0:l||u!=t.Group.Stack||(i=n==t.LegendPosition.Left||n==t.LegendPosition.Right):("Line"==o||"Area"==o)&&(l||u!=t.Group.Stack||(i=n==t.LegendPosition.Left||n==t.LegendPosition.Right))),i},e.prototype.sort=function(e,n,i){switch(n=this._reverseStack(e,n),this._sortOrder(i)){case t.SortOrder.Reversed:n.reverse();break;case t.SortOrder.Ascending:n.sort((function(t,e){return t._title().localeCompare(e._title())}));break;case t.SortOrder.Descending:n.sort((function(t,e){return-1*t._title().localeCompare(e._title())}))}return n},e.prototype.queryInterface=function(t){return"ILegendItemSortingPolicy"==t||"ILegendItemSortingPolicyBuilder"==t?this:null},e._defaultPlugin=new e,e}(),e._ExcelLegendItemSortingPolicyPlugin=i,e.PluginCollection.defaultPluginCollection.register(i._defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInFilterBuilders=function(){return null==i.__buildInFilterBuilders&&(i.__buildInFilterBuilders=new i([new t.models._ExcludeNullsFilter],i._pluginType)),i.__buildInFilterBuilders},i.prototype._convert=function(e){return t.models._isFilterBuilder(e)?e:null},i.prototype._filter=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.build();if(null!=r)return r}throw new t.RuntimeError(t.ErrorCode.Unknown)},i._pluginType="CategoryFilter",i}(t._BuildInObjectCollection);t._BuildInCategoryFilterBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInFilterBuilders=function(){return null==i.__buildInFilterBuilders&&(i.__buildInFilterBuilders=new i([new t.models._ExcludeNullsFilter],i._pluginType)),i.__buildInFilterBuilders},i.prototype._convert=function(e){return t.models._isFilterBuilder(e)?e:null},i.prototype._filter=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.build();if(null!=r)return r}throw new t.RuntimeError(t.ErrorCode.Unknown)},i._pluginType="FieldFilter",i}(t._BuildInObjectCollection);t._BuildInFieldFilterBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInFilterBuilders=function(){return null==i.__buildInFilterBuilders&&(i.__buildInFilterBuilders=new i([new t.models._ExcludeNullsFilter],i._pluginType)),i.__buildInFilterBuilders},i.prototype._convert=function(e){return t.models._isFilterBuilder(e)?e:null},i.prototype._filter=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.build();if(null!=r)return r}throw new t.RuntimeError(t.ErrorCode.Unknown)},i._pluginType="ValueFilter",i}(t._BuildInObjectCollection);t._BuildInValueFilterBuilderCollection=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.build=function(){return this},e.prototype.filter=function(e,n){return null!=t._NativeExtension.getPropertyValue(e,n)},e.prototype.queryInterface=function(t){return"IFilterBuilder"==t||"IFilter"==t?this:null},e}(),e._ExcludeNullsFilter=n}(t||(t={})),function(t){!function(t){t._isFilterBuilder=function(t){return null!=t.build}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._AxisLabelHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._axisLabelHoverInteractionBuilder=new e,e}();t._AxisLabelHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._axisLabelHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"AxisLabelHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.AxisLabel&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e}(),e._AxisLabelHoverInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._CoordinateSystemZoomActivityHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._coordinateSystemZoomActivityHoverInteractionBuilder=new e,e}();t._CoordinateSystemZoomActivityHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._coordinateSystemZoomActivityHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._disposeZoomContainer=function(){null!=this.__zoomContainer&&(this.__zoomContainer.dispose(),this.__zoomContainer=null)},Object.defineProperty(e.prototype,"name",{get:function(){return"PlotAreaZoomActivityHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.hover=function(e,n){if(t._ZoomInteractionUtility._showZoomButton(n)){var i=t._ZoomInteractionUtility._coordinateSystemZoomView(n);if(null!=i&&i._isHitTested(e.x,e.y))return this.__model=i,this.__zoomConfig=t._ZoomInteractionUtility._zoomConfig(n),!0}return!1},e.prototype.isModel=function(e,n){if(t._ZoomInteractionUtility._showZoomButton(n)){var i=t._ZoomInteractionUtility._coordinateSystemZoomView(n);if(this.__model==i&&null!=i&&i._isHitTested(e.x,e.y))return!0}return!1},e.prototype.onEnter=function(e){return this._disposeZoomContainer(),this.__zoomContainer=new t._ZoomContainer(this.__model,this.__zoomConfig),this.__zoomContainer._active(),0},e.prototype.onMove=function(t){return 0},e.prototype.onLeave=function(t){return this.__model=null,this._disposeZoomContainer(),0},e.prototype.dispose=function(){this._disposeZoomContainer()},e}(),e._CoordinateSystemZoomActivityHoverInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._DataPointTrackerHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._dataPointTrackerHoverInteractionBuilder=new e,e}();t._DataPointTrackerHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._dataPointTrackerHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e,n,i;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.predicate=function(e){if(null!=e.model&&t._isQueryShowTrackerViewModel(e.model)){var n=e.model;return null!=n._queryRelatedViewModel(e.point.x,e.point.y)&&n._queryRelatedViewModel(e.point.x,e.point.y)instanceof t._BasePointView}return!1},e.defaultIncludingQueryShowTrackerViewModelPrediction=new e,e}(),i=function(){function e(e){if(this._control=e,this.__layer=null,null!=e.model){var n=t._DvViewModelUtility._toDvView(e.model);null!=n&&(this.__layer=n._widgetLayer())}}return Object.defineProperty(e.prototype,"name",{get:function(){return"DataPointTrackerHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){null!=this.__layer&&this.__layer._reset()},e.prototype.hover=function(e,n){var i=new t.core.Point(e.x,e.y),o=this._queryShowTrackerViewModel(e.x,e.y);return null!=o&&null!=o._tracker()&&o._tracker().length>0&&o._tracker().some((function(t){return t.contains(i)}))},e.prototype.isModel=function(e,n){if(null==this.__trackers)return!1;var i=new t.core.Point(e.x,e.y);if(this._queryShowTrackerViewModel(e.x,e.y)!=this.model)return!1;for(var o=0,r=this.__trackers;o<r.length;o++)if(!r[o].contains(i))return!1;return!0},e.prototype.onEnter=function(e){var n=this,i=new t.core.Point(e.x,e.y),o=this._queryShowTrackerViewModel(e.x,e.y);if(null!=o&&null!=o._tracker()&&o._tracker().length>0&&(this.__model=o,this.__trackers=[],o._tracker().forEach((function(t){t.contains(i)&&n.__trackers.push(t)}))),null!=this.__layer)for(var r=0,l=this.__trackers;r<l.length;r++){var a=l[r];a.contains(new t.core.Point(e.x,e.y))&&this.__layer._appendTracker(a)}return 1},e.prototype.onLeave=function(t){var e=this;return null!=this.__trackers&&null!=this.__layer&&(this.__trackers.forEach((function(t){e.__layer._removeTracker(t)})),this.__trackers=null),1},e.prototype.onMove=function(t){return 0},e.prototype._queryShowTrackerViewModel=function(e,i){var o=this._control.hitTest(new t.core.Point(e,i),n.defaultIncludingQueryShowTrackerViewModelPrediction);if(null!=o&&null!=o.model){var r=o.model;if(t._isQueryShowTrackerViewModel(r))return r._queryRelatedViewModel(o.point.x,o.point.y)}return null},e}(),e._DataPointTrackerHoverInteraction=i}(t||(t={})),function(t){t._isHoverInteractionBuilder=function(t){return null!=t.buildHoverInteraction}}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._LegendHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._legendHoverInteractionBuilder=new e,e}();t._LegendHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._legendHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"LegendHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){var i=t._ViewModelUtility._legendItemModel(n);return null!=i&&(this.__model=i,!0)},e.prototype.isModel=function(e,n){var i=t._ViewModelUtility._legendItemModel(n);return this.__model==i},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e}(),e._LegendHoverInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"OverlayItemHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.hover=function(e,n){var i=t._OverlayViewModelUtility._toOverlayItemModel(n);return null!=i&&(this.__model=i,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e.prototype.dispose=function(){},e}(),e._OverlayItemHoverInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._OverlayItemHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._overlayItemHoverInteractionBuilder=new e,e}();t._OverlayItemHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._overlayItemHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this._control=t}return Object.defineProperty(n.prototype,"name",{get:function(){return"PointHover"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),n.prototype.dispose=function(){},n.prototype.hover=function(e,n){return n.type==t.ElementType.DataPoint?(this.__model=n,!0):(this.__model=this._hitTestDataPoint(e,n),null!=this.__model)},n.prototype.isModel=function(e,n){return n.type==t.ElementType.DataPoint?this.__model==n:null!=this.__model&&this.__model==this._hitTestDataPoint(e,n)},n.prototype.onEnter=function(t){return this.model.hover=!0,1},n.prototype.onLeave=function(t){return this.model.hover=!1,1},n.prototype.onMove=function(t){return 0},n.prototype._hitTestDataPoint=function(n,i){if(i.type==t.ElementType.DataPointLabel){var o=t._ViewModelUtility._dvModel(i);if(null!=o){var r=new t.core.Point(n.x,n.y),l=t._DvViewModelUtility._toDvView(o);if(null==l)return null;var a=t._DvViewUtility._control(l);if(null==a)return null;var u=a.hitTest(r,new e.ExcludingModelPrediction(["DataPointLabel","AxisUnitLabel","AxisLabel","AxisTitle","LegendTitle"]));if(null!=u&&u.model.type==t.ElementType.DataPoint)return u.model}}return null},n}(),e._PointHoverInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._PointHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._PointHoverInteractionBuilder=new e,e}();t._PointHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._PointHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"SeriesHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.Series&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e}(),e._SeriesHoverInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._SeriesHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._seriesHoverInteractionBuilder=new e,e}();t._SeriesHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._seriesHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e,n,i;e=t.models||(t.models={}),n=function(){function t(){}return t.prototype.predicate=function(t){return!(null==t.model||!e._isQueryShowTooltipViewModel(t.model))&&null!=t.model.queryRelatedTooltipViewModel(t.point.x,t.point.y)},t.defaultIncludingQueryShowTooltipViewModelPrediction=new t,t}(),i=function(){function i(t){this._control=t,this.__tooltip=e.GlobalModel.globalModel.tooltipManager().tooltip(this,null)}return Object.defineProperty(i.prototype,"name",{get:function(){return"TooltipHover"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){this._hideTooltip()},i.prototype.hover=function(t,e){var n=this._queryShowTooltipViewModel(t.x,t.y);return null!=n&&(this.__model=n,!0)},i.prototype.isModel=function(t,e){var n=this._queryShowTooltipViewModel(t.x,t.y);return null!=n&&this.__model===n},i.prototype.onEnter=function(n){var i=this.model._tooltipContent();if(null!=i){var o=new e._TextHtmlContent(i.text,i.style);this._showTooltip(o,new t.core.Point(n.originalEvent.clientX+2.5,n.originalEvent.clientY))}return 0},i.prototype.onLeave=function(t){return this._hideTooltip(),0},i.prototype.onMove=function(t){return 0},i.prototype._showTooltip=function(e,n){var i=new t.options._TooltipOption({showDelay:200,hideDelay:0,offsetX:0,offsetY:6});this.__tooltip.open(n,e,i,null)},i.prototype._hideTooltip=function(){this.__tooltip.close(null)},i.prototype._queryShowTooltipViewModel=function(i,o){var r=this._control.hitTest(new t.core.Point(i,o),n.defaultIncludingQueryShowTooltipViewModelPrediction);if(null!=r&&null!=r.model){var l=r.model;if(e._isQueryShowTooltipViewModel(l))return l.queryRelatedTooltipViewModel(r.point.x,r.point.y)}return null},i}(),e._TooltipHoverInteraction=i}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._TooltipHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._tooltipHoverInteractionBuilder=new e,e}();t._TooltipHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._tooltipHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._CategoryTrackerHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._categoryTrackerHoverInteractionBuilder=new e,e}();t._CategoryTrackerHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._categoryTrackerHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e,n,i;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.predicate=function(e){if(null!=e.model&&t._isQueryShowTrackerViewModel(e.model)){var n=e.model;return null!=n._queryRelatedViewModel(e.point.x,e.point.y)&&n._queryRelatedViewModel(e.point.x,e.point.y)instanceof t._CategoryValueView}return!1},e.defaultIncludingQueryShowTrackerViewModelPrediction=new e,e}(),i=function(){function e(e){if(this._control=e,this.__layer=null,null!=e.model){var n=t._DvViewModelUtility._toDvView(e.model);null!=n&&(this.__layer=n._widgetLayer())}}return Object.defineProperty(e.prototype,"name",{get:function(){return"CategoryTrackerHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){null!=this.__layer&&this.__layer._reset()},e.prototype.hover=function(e,n){var i=new t.core.Point(e.x,e.y),o=this._queryShowTrackerViewModel(e.x,e.y);return null!=o&&null!=o._tracker()&&o._tracker().length>0&&o._tracker().some((function(t){return t.contains(i)}))},e.prototype.isModel=function(e,n){if(null==this.__trackers)return!1;for(var i=new t.core.Point(e.x,e.y),o=0,r=this.__trackers;o<r.length;o++)if(!r[o].contains(i))return!1;return!0},e.prototype.onEnter=function(e){var n=this,i=new t.core.Point(e.x,e.y),o=this._queryShowTrackerViewModel(e.x,e.y);if(null!=o&&null!=o._tracker()&&o._tracker().length>0&&(this.__model=o,this.__trackers=[],o._tracker().forEach((function(t){t.contains(i)&&n.__trackers.push(t)}))),null!=this.__layer)for(var r=0,l=this.__trackers;r<l.length;r++){var a=l[r];a.contains(new t.core.Point(e.x,e.y))&&this.__layer._appendTracker(a)}return 1},e.prototype.onLeave=function(t){var e=this;return null!=this.__trackers&&null!=this.__layer&&(this.__trackers.forEach((function(t){e.__layer._removeTracker(t)})),this.__trackers=null),1},e.prototype.onMove=function(t){return 0},e.prototype._queryShowTrackerViewModel=function(e,i){var o=this._control.hitTest(new t.core.Point(e,i),n.defaultIncludingQueryShowTrackerViewModelPrediction);if(null!=o&&null!=o.model){var r=o.model;if(t._isQueryShowTrackerViewModel(r))return r._queryRelatedViewModel(o.point.x,o.point.y)}return null},e}(),e._CategoryTrackerHoverInteraction=i}(t||(t={})),function(t){var e=function(){function e(){this.name="PinchInteraction",this.type=t._BuildInPinchInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildPinchInteraction=function(e){return new t.models._CoordinateSystemZoomPinchInteraction(e)},e.prototype.queryInterface=function(t){return"IPinchInteractionBuilder"==t||"IPlugin"==t?this:null},e._coordinateSystemPinchZoomInteractionBuilder=new e,e}();t._CoordinateSystemZoomPinchInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._coordinateSystemPinchZoomInteractionBuilder,!0)}(t||(t={})),function(t){!function(e){var n=function(){function e(t){this._control=t,this.name="CoordinateSystemPinch"}return e.prototype._getZoomInfo=function(e){var n=e.originalEvent.targetTouches,o=Math.abs(n[1].clientX-n[0].clientX),r=Math.abs(n[1].clientY-n[0].clientY),l=Math.sqrt(o*o+r*r),a=t._DvViewModelUtility._toDvView(this._control.model);if(null!=a){var u=t._DvViewUtility._elementProxy(a);if(null!=u){var s=u._getBoundingClientRect(),_=(n[0].clientX+n[1].clientX)/2,p=(n[0].clientY+n[1].clientY)/2;return new i(l,_-s.left,p-s.top)}}return null},e.prototype.isModel=function(e,n){if(t._ZoomInteractionUtility._isZoomEnabled(n)){var i=t._ZoomInteractionUtility._coordinateSystemZoomView(n);if(null!=i&&i._isHitTested(e.x,e.y))return this.__model=i,!0}return!1},e.prototype.onStart=function(t){var e=this._getZoomInfo(t);return null!=e&&(this.__startDistance=e.distance,this.__startZoomFactor=this.__model._zoomFactor),0},e.prototype.onPinch=function(t){if(null!=this.__model){var e=this._getZoomInfo(t);if(null!=e){var n=e.distance/this.__startDistance*this.__startZoomFactor;return this.__model._zoomAt(n,e.x,e.y),this.__startDistance=e.distance,1}}return-1},e.prototype.onEnd=function(t){return this.__model=null,this.__startDistance=1,this.__startZoomFactor=1,-1},e.prototype.dispose=function(){this.__model=null},e}();e._CoordinateSystemZoomPinchInteraction=n;var i=function(t,e,n){this.distance=t,this.x=e,this.y=n}}(t.models||(t.models={}))}(t||(t={})),function(t){t._isPinchInteractionBuilder=function(t){return null!=t.buildPinchInteraction}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.defaultBuildInRenderEngineBuilders=function(){return null==i.__buildInRenderEngineBuilders&&(i.__buildInRenderEngineBuilders=new i([],i._pluginType)),i.__buildInRenderEngineBuilders},i.prototype._convert=function(e){return t._isRenderEngineBuilder(e)?e:null},i.prototype._renderEngine=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item.buildRenderEngine(t,e,n);if(null!=a)return a}return null},i._pluginType="RenderEngine",i}(t._BuildInObjectCollection);t.BuildInRenderEngineBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Canvas",this.type=t.BuildInRenderEngineBuilderCollection._pluginType,this.priority=0}return e.prototype.buildRenderEngine=function(e,n,i){return e===t._CanvasWithSvgMetricsRenderEngine._renderEngineType?new t._CanvasWithSvgMetricsRenderEngine(n,i):null},e.prototype.queryInterface=function(t){return"IRenderEngineBuilder"==t||"IPlugin"==t?this:null},e._canvasWithSvgMetricsRenderEngineBuilder=new e,e}();t._CanvasWithSvgMetricsRenderEngineBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._canvasWithSvgMetricsRenderEngineBuilder,!0)}(t||(t={})),function(t){t._isRenderEngineBuilder=function(t){return null!=t.buildRenderEngine}}(t||(t={})),function(t){var e=function(){function e(){this.name="Canvas",this.type=t.BuildInRenderEngineBuilderCollection._pluginType,this.priority=1}return e.prototype.buildRenderEngine=function(e,n,i){return e===t._CanvasRenderEngine._renderEngineType?new t._CanvasRenderEngine(n,i):null},e.prototype.queryInterface=function(t){return"IRenderEngineBuilder"==t||"IPlugin"==t?this:null},e._pureCanvasRenderEngineBuilder=new e,e}();t.PureCanvasRenderEngineBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Svg",this.type=t.BuildInRenderEngineBuilderCollection._pluginType,this.priority=0}return e.prototype.buildRenderEngine=function(e,n,i){return e===t._SvgRenderEngine._renderEngineType?new t._SvgRenderEngine(n,new t._SvgTextMetrics):null},e.prototype.queryInterface=function(t){return"IRenderEngineBuilder"==t||"IPlugin"==t?this:null},e._svgRenderEngineBuilder=new e,e}();t._SvgRenderEngineBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._svgRenderEngineBuilder,!0)}(t||(t={})),function(t){t.plugins||(t.plugins={})}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.build=function(){return this},e.prototype.queryInterface=function(t){return"IStringFormatBuilder"==t||"IStringFormatting"==t?this:null},e.prototype.format=function(e,n,i){if(void 0===i&&(i=null),null==n)return"";if(t._DataValueTypeExtension._isString(n))return t._DataValueTypeExtension._toString(n);if(t._DataValueTypeExtension._isNumber(n)){var o=t._DataValueTypeExtension._toNumber(n);return isNaN(o)?"":(null==e||""==e?e=t._Utility._isInteger(o)?"n0":"n2":(e=t._EscapedCharacterStringUtility._normalize(e),e=t._EscapedCharacterStringUtility._trim(e)),o=this._formatNumberWithType(o,i),t._Globalize._format(o,e,!0))}if(n instanceof Date){var r=n;return isNaN(r.valueOf())?"":(null!=e&&(e=t._EscapedCharacterStringUtility._normalize(e),e=t._EscapedCharacterStringUtility._trim(e)),null!=e&&""!=e||(e=this.defaultFormat(t.core.DataType.Date)),t._Globalize._format(r,e))}return n.toString()},e.prototype.defaultFormat=function(e,n){switch(void 0===n&&(n=!1),e){case t.core.DataType.Number:return null!=n&&n?"p":"N";case t.core.DataType.Date:return"d";default:return null}},e.prototype._formatNumberWithType=function(t,e){return"Hundreds"==e?t/100:"Thousands"==e?t/1e3:"10000"==e?t/1e4:"100000"==e?t/1e5:"Millions"==e?t/1e6:"10000000"==e?t/1e7:"100000000"==e?t/1e8:"Billions"==e?t/1e9:"Trillions"==e?t/1e12:t},e}(),e._StringFormatting=n}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInstringFormatBuilders=function(){return null==i.__buildInStringFormatBuilders&&(i.__buildInStringFormatBuilders=new i([new t.models._StringFormatting],i._pluginType)),i.__buildInStringFormatBuilders},i.prototype._convert=function(e){return t.models._isStringFormatBuilder(e)?e:null},i.prototype._stringFormating=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.build();if(null!=r)return r}throw new t.RuntimeError(t.ErrorCode.Unknown)},i._pluginType="StringFormat",i}(t._BuildInObjectCollection);t._BuildInStringFormatBuilderCollection=e}(t||(t={})),function(t){!function(t){t._isStringFormatBuilder=function(t){return null!=t.build}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){var e=function(){function t(){}return t.Default="Default",t.PlotText="PlotText",t}();t.StringFormattingTypes=e}(t.plugins||(t.plugins={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="WheelInteraction",this.type=t._BuildInWheelInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildWheelInteraction=function(e){return new t.models._CoordinateSystemZoomWheelInteraction(e)},e.prototype.queryInterface=function(t){return"IWheelInteractionBuilder"==t||"IPlugin"==t?this:null},e._coordinateSystemWheelZoomInteractionBuilder=new e,e}();t._CoordinateSystemZoomWheelInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._coordinateSystemWheelZoomInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._calcZoomAcceleratdSpeed=function(t){var e,n=Math.abs(t);return e=n<200?1.1:n<500?1.15:n<1e3?1.2:n<3e3?1.3:1.45,t>0?1/e:e},e.prototype.onWheel=function(e,n){var i=t._ZoomInteractionUtility._zoomConfig(n);if(null!=i&&i.enableMouseWheel){var o=t._ZoomInteractionUtility._coordinateSystemZoomView(n),r=e.originalEvent.deltaY;if(0!=r&&null!=o&&o._isHitTested(e.x,e.y)){var l=this._calcZoomAcceleratdSpeed(r),a=o._zoomFactor*l;return o._zoomAt(a,e.x,e.y),1}}return-1},e.prototype.dispose=function(){},e}(),e._CoordinateSystemZoomWheelInteraction=n}(t||(t={})),function(t){t._isWheelInteractionBuilder=function(t){return null!=t.buildWheelInteraction}}(t||(t={})),function(t){var e=function(){function e(){this.name="Aggregate",this.type="DataSourceTransform",this.priority=0}return e.prototype.transform=function(e,n,i){if(void 0===i&&(i=null),t.options._isAggregateTransformOption(n))for(var o=n.names,r=0,l=e._dataSources;r<l.length;r++){var a=l[r];if(null==o||null!=a._schema._name&&o.indexOf(a._schema._name)>=0){var u=n,s=u.groupby,_=a._items,p=u.aggregate,c=u.concat,h=[];if(c.type==t.ConcatType.Custom&&(h=this._convertCustomConcatIndexs(_,c.customArray)),null==s){for(var f={},d=0,y=u.aggregate;d<y.length;d++){var g=y[d],m=new t._DataItemBinding(g.field),v=t._AggregateValueBuilder._defaultAggregateValueBuilder._build(g.op,_,m),w=null!=g.outputAs?g.outputAs:g.field;null!=w&&(f[w]=v)}this._concatAggregateItem(_,new t._DataItemsGroup(f),f,c.type,h[0])}else for(var b=0,P=this._createDataItemsGroups(a,s);b<P.length;b++){var S=P[b],C=S._aggregate(p);if(null!=C){var V=null;if(null!=h&&h.length>0)if(h.length>1){var x=h.shift();null!=x&&(V=x)}else V=null!=h[0]?h[0]:null;this._concatAggregateItem(_,S,C,c.type,V)}}a._reIndexes(null),this._updateDataFields(a)}}},e.prototype.queryInterface=function(t){return"IDataSourceTransform"==t||"IPlugin"==t?this:null},e.prototype._createDataItemsGroups=function(e,n){for(var i=[],o=0;o<e._items.length;o++){for(var r=e._items[o],l={},a=0,u=n;a<u.length;a++){var s=u[a];t._NativeExtension.hasProperty(r,s,!0)&&(l[s]=t._DataValueTypeExtension._toDataValueType(t._NativeExtension.getPropertyValue(r,e._schema._fields[s]._name)))}for(var _=!1,p=0,c=i;p<c.length;p++){var h=c[p];if(h._isDuplicate(l)){h._append(r,o),_=!0;break}}if(!_){var f=new t._DataItemsGroup(l);f._append(r,o),i.push(f)}}return i},e.prototype._concatAggregateItem=function(e,n,i,o,r){var l=e,a=0;switch(o){case t.ConcatType.Start:a=0;break;case t.ConcatType.End:a=e.length;break;case t.ConcatType.GroupStart:null!=n._startItem&&(a=e.indexOf(n._startItem));break;case t.ConcatType.GroupEnd:a=null!=n._endItem?e.indexOf(n._endItem)+1:e.length;break;case t.ConcatType.Custom:a=null!=r?e.indexOf(r):e.length}l.splice(a,0,t._DataValueTypeExtension._toObjectItem(i))},e.prototype._convertCustomConcatIndexs=function(t,e){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i],l=null;0<=r&&r<t.length&&(l=t[r]),n.push(l)}return n},e.prototype._updateDataFields=function(e){for(var n=e._schema._fields,i=e._items,o=e._schema._name,r=0,l=i;r<l.length;r++)for(var a=l[r],u=0,s=t._NativeExtension.properties(a,!0);u<s.length;u++){var _=s[u],p=n[_];null==p&&(n[_]=p=new t._NullDataField(_,o));var c=t._NativeExtension.getPropertyValue(a,_);p instanceof t._NullDataField&&"number"==typeof c&&(n[_]=p=new t._NumberDataField(_,o))}},e._defaultPlugin=new e,e}();t._AggregateDataSourceTransformPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t){this.__start=-1,this.__startItem=null,this.__end=-1,this.__endItem=null,this.__groupfields=t,this.__items=[]}return Object.defineProperty(e.prototype,"_startItem",{get:function(){return this.__startItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_endItem",{get:function(){return this.__endItem},enumerable:!1,configurable:!0}),e.prototype._append=function(t,e){this.__items.push(t),-1==this.__start&&-1==this.__end?(this.__start=e,this.__end=e,this.__startItem=t,this.__endItem=t):e>this.__end&&(this.__end=e,this.__endItem=t)},e.prototype._aggregate=function(e){for(var n={},i=0,o=t._NativeExtension.properties(this.__groupfields,!0);i<o.length;i++){var r=o[i];n[r]=this.__groupfields[r]}for(var l=0,a=e;l<a.length;l++){var u=a[l],s=new t._DataItemBinding(u.field),_=t._AggregateValueBuilder._defaultAggregateValueBuilder._build(u.op,this.__items,s),p=null!=u.outputAs?u.outputAs:u.field;null!=p&&(n[p]=_)}return n},e.prototype._isDuplicate=function(e){var n=t._NativeExtension.properties(this.__groupfields,!0);if(0==n.length)return 0==t._NativeExtension.properties(e,!0).length;for(var i=0,o=n;i<o.length;i++){var r=o[i],l=this.__groupfields[r],a=e[r];if(null==l){if(null==a)continue;return!1}if(l!=a){if(!(l instanceof Date&&a instanceof Date))return!1;if(l.toString()!=a.toString())return!1}}return!0},e}();t._DataItemsGroup=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__op=t.Aggregate.Count,o.__field=null,o.__outputAs=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"op",{get:function(){return this.__op},set:function(t){this.__op=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"field",{get:function(){return this.__field},set:function(t){t==this.__field&&null!=this.__field||(this.__field=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"outputAs",{get:function(){return this.__outputAs},set:function(t){t==this.__outputAs&&null!=this.__outputAs||(this.__outputAs=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate,t.Aggregate.Count)],i.prototype,"op",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"field",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"outputAs",null),i}(e._Option),e._AggregateOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__aggregate=null,r.__groupby=[],r.__concat=new e._ConcatOption({type:t.ConcatType.End}),r.type=t.TransformType.Aggregate,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){t=this.validate(t),null!=this.__aggregate&&t==this.__aggregate||(this.__aggregate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"groupby",{get:function(){return this.__groupby},set:function(t){t=this.validate(t),this.__groupby!=t&&(this.__groupby=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"concat",{get:function(){return this.__concat},set:function(n){this.__concat==n&&null!=this.__concat||(this.__concat=null==n?new e._ConcatOption({type:t.ConcatType.End}):n)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_AggregateOption"),t.ValidatorAttribute(t._AggregateOptionValidator,!0)],r.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._StringArrayConverter,!0),t.ValidatorAttribute(t._StringArrayValidator,!0,!1,!0)],r.prototype,"groupby",null),o([t.JsonConverterAttribute(t._ConcatOptionConverter,!0)],r.prototype,"concat",null),r}(e._TransformOption),e._AggregateTransformOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type=t.ConcatType.End,o.__customArray=[],null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"customArray",{get:function(){return this.__customArray},set:function(t){this.__customArray!=t&&(null==t&&(t=[]),this.__customArray=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ConcatType,t.ConcatType.End)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberArrayConverter,!0)],i.prototype,"customArray",null),i}(e._Option),e._ConcatOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isAggregateTransformOption=function(e){var n=e;return n.type==t.TransformType.Aggregate&&null!=n.aggregate}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){this.name="Bin",this.type="DataSourceTransform",this.priority=0}return e.prototype.transform=function(e,n,i){if(void 0===i&&(i=null),t.options._isBinTransformOption(n))for(var o=n,r=n.names,l=0,a=e._dataSources;l<a.length;l++){var u=a[l];if(null==r||null!=u._schema._name&&r.indexOf(u._schema._name)>=0){var s=this._parse(o,u._schema);null!=s&&null==u._schema._fields[s._name]&&(u._schema._fields[s._name]=s)}}},e.prototype.queryInterface=function(t){return"IDataSourceTransform"==t||"IPlugin"==t?this:null},e.prototype._parse=function(e,n){if(null==e)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);if(null==e.field)return null;if(null==e.bin)return null;if(null!=e.outputAs&&e.outputAs.length>0&&null!=e.field&&e.field.length>0){var i=n._fields[e.field];if(null!=i){if(i instanceof t._NumberDataField)return new t._BinNumberDataField(e,i);if(i instanceof t._DateDataField)return new t._BinDateDataField(e,i)}}return null},e._defaultPlugin=new e,e}();t._BinDataSourceTransformPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n.outputAs,t.core.DataType.Object,i._dataSource)||this;if(null==i)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);return o.__option=n,o.__field=i,o}return n(i,e),i.prototype._option=function(){return this.__option},i.prototype.originalField=function(){return this.__field},i.prototype.toSteps=function(t,e){var n=this._option().bin;if(null!=n){var i=n.steps;return null!=i&&Array.isArray(i)&&i.length>0?this._createStepsByStepsOption(t,e,i):this._createStepsAutomatically(t,e)}return[]},i.prototype._createStepsByStepsOption=function(t,e,n){var i=[],o=[];o=(o=o.concat(n)).sort((function(t,e){return t>e?1:t<e?-1:0}));var r=t;i.push(r);for(var l=0,a=n;l<a.length;l++){var u=a[l];u>r&&(i.push(u),r=u)}return r<e&&i.push(e),i},i.prototype._createStepsAutomatically=function(e,n,i){return void 0===i&&(i=4),new t._NumberTicksGenerator(e,n,!0,i)._ticks()},i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(n instanceof t._BinNumberDataField){var i=n;return this.originalField().equalsWith(i.originalField())}return!1},i}(t._BaseDataField);t._BinDateDataField=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n.outputAs,t.core.DataType.Object,i._dataSource)||this;if(null==i)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);return o.__option=n,o.__field=i,o}return n(i,e),i.prototype._option=function(){return this.__option},i.prototype.originalField=function(){return this.__field},i.prototype.toSteps=function(t,e){var n=this._option().bin;if(null!=n){var i=n.steps;return null!=i&&Array.isArray(i)&&i.length>0?this._createStepsByStepsOption(t,e,i):this._createStepsAutomatically(t,e)}return[]},i.prototype._createStepsByStepsOption=function(t,e,n){var i=[],o=[];o=(o=o.concat(n)).sort((function(t,e){return t>e?1:t<e?-1:0}));var r=t;i.push(r);for(var l=0,a=n;l<a.length;l++){var u=a[l];u>r&&(i.push(u),r=u)}return r<e&&i.push(e),i},i.prototype._createStepsAutomatically=function(e,n,i){return void 0===i&&(i=4),new t._NumberTicksGenerator(e,n,!0,i)._ticks()},i.prototype.equalsWith=function(t){if(!e.prototype.equalsWith.call(this,t))return!1;if(t instanceof i){var n=t;return this.originalField().equalsWith(n.originalField())}return!1},i}(t._BaseDataField);t._BinNumberDataField=e}(t||(t={})),function(t){t._isBinDataField=function(t){var e=t;return null!=e&&"function"==typeof e.originalField&&"function"==typeof e.toSteps}}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__steps=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"steps",{get:function(){return this.__steps},set:function(t){this.__steps!=t&&(this.__steps=null==t?null:t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ArrayConverter,!0,"number",!1)],i.prototype,"steps",null),i}(e._Option),e._BinOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__bin=null,o.__field=null,o.__outputAs=null,o.type=t.TransformType.Bin,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"bin",{get:function(){return this.__bin},set:function(t){null!=this.__bin&&this.__bin==t||(this.__bin=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"field",{get:function(){return this.__field},set:function(e){if(this.__field!=e){var n=e;if(null==n)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);this.__field=n}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"outputAs",{get:function(){return this.__outputAs},set:function(e){if(this.__outputAs!=e){var n=e;if(null==n)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);this.__outputAs=n}},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._BinOptionConverter,!1)],i.prototype,"bin",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"field",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"outputAs",null),i}(e._TransformOption),e._BinTransformOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isBinTransformOption=function(e){var n=e;return n.type==t.TransformType.Bin&&null!=n.bin&&null!=n.field&&null!=n.outputAs}}(t||(t={})),function(t){var e=function(){function e(){this.name="Calculate",this.type=t._BuildInDataSourceTransformCollection._pluginType,this.priority=0}return e.prototype.transform=function(e,n,i){if(void 0===i&&(i=null),t.options._isCalculateTransformOption(n))for(var o=n,r=n.names,l=0,a=e._dataSources;l<a.length;l++){var u=a[l];if(null==r||null!=u._schema._name&&r.indexOf(u._schema._name)>=0){for(var s=o.calculate,_=t._ExcelSyntaxEngine._defaultSyntaxEngine(),p=_.parse(s),c=null,h=0,f=u._items;h<f.length;h++){var d=f[h],y=new t._DataItemIdentifierProxy(d),g=_.evaluate(p,y,null,i);t._NativeExtension.setPropertyValue(d,o.outputAs,t._DataValueTypeExtension._toAnyObject(g)),null==c&&(c=this._createDataFields(d,o.outputAs,u))}if(null!=u._schema._fields[o.outputAs])throw new t.OptionError(t.ErrorCode.UnexpectedValue,o.outputAs);u._schema._fields[o.outputAs]=c}}},e.prototype._createDataFields=function(e,n,i){var o=null,r=i._schema._name,l=new t._NullDataField(n,r),a=t._NativeExtension.getPropertyValue(e,n);return t._isNullDataField(l)&&("number"==typeof a?l=new t._NumberDataField(n,r):"string"==typeof a?l=new t._StringDataField(n,r):a instanceof Date&&!isNaN(a.valueOf())?l=new t._DateDataField(n,r,o):"boolean"==typeof a&&(l=new t._BooleanDataField(n,r))),l},e.prototype.queryInterface=function(t){return"IDataSourceTransform"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CalculateDataSourceTransformPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t){this.__dataItem=t}return e.prototype.getIdentifierValue=function(e){return"current"==e?this.__dataItem:e.length>8&&"current."==e.substring(0,8)&&null!=this.__dataItem?new t._AnyValueBinding(e.substring(8))._getValue(this.__dataItem):null},e.prototype.queryInterface=function(t){return"IIdentifierProxy"==t?this:null},e}();t._DataItemIdentifierProxy=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__calculate=null,o.__outputAs=null,o.type=t.TransformType.Calculate,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"calculate",{get:function(){return this.__calculate},set:function(t){t=this.validate(t),this.__calculate!=t&&(this.__calculate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"outputAs",{get:function(){return this.__outputAs},set:function(t){t=this.validate(t),this.__outputAs!=t&&(this.__outputAs=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],i.prototype,"calculate",null),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],i.prototype,"outputAs",null),i}(e._TransformOption),e._CalculateTransformOption=i}(t||(t={})),function(t){(t.options||(t.options={}))._isCalculateTransformOption=function(e){var n=e;return n.type==t.TransformType.Calculate&&null!=n.calculate&&null!=n.outputAs}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){(t.options||(t.options={}))._isUnpivotTransformOption=function(e){var n=e;return n.type==t.TransformType.Unpivot&&null!=n.category&&null!=n.valueFieldAs&&null!=n.outputAs}}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__from=null,o.__fieldAs=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"from",{get:function(){return this.__from},set:function(t){t=this.validate(t),this.__from!=t&&(this.__from=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fieldAs",{get:function(){return this.__fieldAs},set:function(t){(t=this.validate(t))!=this.__fieldAs&&(this.__fieldAs=t)},enumerable:!1,configurable:!0}),i.prototype._setOption=function(n){if(null!=this.option()&&!t._JsonElementUtility._isObject(this.option()))throw new t.OptionError(t.ErrorCode.UnexpectedValue,this.option());e.prototype._setOption.call(this,n)},o([t.JsonConverterAttribute(t._StringArrayConverter,!0),t.ValidatorAttribute(t._StringArrayValidator,!0)],i.prototype,"from",null),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],i.prototype,"fieldAs",null),i}(e._Option),e._UnpivotCategoryOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__cateory=null,o.__valueFieldAs=null,o.__outputAs=null,o.type=t.TransformType.Unpivot,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"names",{get:function(){return this.___names},set:function(t){t=this.validate(t),this.___names!=t&&(this.___names=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"category",{get:function(){return this.__cateory},set:function(t){t=this.validate(t),this.__cateory!=t&&(this.__cateory=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valueFieldAs",{get:function(){return this.__valueFieldAs},set:function(t){t=this.validate(t),this.__valueFieldAs!=t&&(this.__valueFieldAs=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"outputAs",{get:function(){return this.__outputAs},set:function(t){t=this.validate(t),this.__outputAs!=t&&(this.__outputAs=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringArrayConverter,!0),t.ValidatorAttribute(t._StringArrayValidator,!0,!1,!1,!1,1)],i.prototype,"names",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_UnpivotCategoryOption"),t.ValidatorAttribute(t._UnpivotCategoryOptionValidator,!0)],i.prototype,"category",null),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],i.prototype,"valueFieldAs",null),o([t.JsonConverterAttribute(t._StringConverter,!0),t.ValidatorAttribute(t._StringValidator,!0,!1,!0)],i.prototype,"outputAs",null),i}(e._TransformOption),e._UnpivotTransformOption=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._analyseItems=function(e,n,i){for(var o={},r=0,l=e;r<l.length;r++)for(var a=l[r],u=0,s=t._NativeExtension.properties(a,!0);u<s.length;u++){var _=s[u],p=o[_],c=t._NativeExtension.getPropertyValue(a,_);null==p&&(o[_]=p=this._createDataField(c,e,_,n,i))}return o},i.prototype._createDataField=function(e,n,i,o,r){return null==e?n.every((function(e){return null==t._NativeExtension.getPropertyValue(e,i)}))?new t._NullDataField(i,r.name):null:n.some((function(n){var o=t._NativeExtension.getPropertyValue(n,i);return null!=o&&typeof o!=typeof e}))?new t._BaseDataField(i,t.core.DataType.Unknown,r.name):"number"==typeof e?new t._NumberDataField(i,r.name):"string"==typeof e?null==o._parseDate(t._AnyTypeUtility._toStringOrNull(e))?new t._StringDataField(i,r.name):new t._DateDataField(i,r.name,o):t._AnyTypeExtension._isDate(e)?new t._DateDataField(i,r.name,o):"boolean"==typeof e?new t._BooleanDataField(i,r.name):null},i}(t._DataSchemaBuilder);t._UnpivotDataSchemaBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Unpivot",this.type="DataSourceTransform",this.priority=0}return e.prototype._getOriginalDataSourceName=function(e){if(null==e)return null;if(Array.isArray(e)&&1==e.length)return e[0];throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,e)},e.prototype._isNewEmptyDataSource=function(t,e){return 0==t._items.length&&null==t._schema._name&&t!==e._defaultDataSource},e.prototype._getNamesOfFieldsToBeUnPivoted=function(e,n){var i=t._NativeExtension.properties(n._schema._fields,!0),o=e.from;return null==o||null!=o&&0==o.length?i:o.filter((function(t){return i.indexOf(t)>-1}))},e.prototype._getCategoryFieldName=function(e,n){var i=e.fieldAs;if(!t._NativeExtension.properties(n._schema._fields,!0).some((function(t){return i==t})))return i;throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,i)},e.prototype._getValueFieldName=function(e,n){var i=e.valueFieldAs,o=e.category.fieldAs,r=t._NativeExtension.properties(n._schema._fields,!0);if(r.push(o),!r.some((function(t){return i==t})))return i;throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,i)},e.prototype._createNewItems=function(e,n,i,o){var r=[];if(0==n.length)return this._cloneItem(e,r);for(var l=0,a=e;l<a.length;l++)for(var u=a[l],s=0,_=n;s<_.length;s++){for(var p=_[s],c={},h=0,f=t._NativeExtension.properties(u,!0);h<f.length;h++){var d=f[h],y=t._NativeExtension.getPropertyValue(u,d);-1==n.indexOf(d)?c[d]=y:p==d&&(c[i]=t._DataValueTypeExtension._toAnyObject(d),c[o]=y)}t._NativeExtension.properties(c,!0).length>0&&r.push(c)}return r},e.prototype._cloneItem=function(e,n){for(var i=0,o=e;i<o.length;i++){for(var r=o[i],l={},a=0,u=t._NativeExtension.properties(r,!0);a<u.length;a++){var s=u[a];l[s]=t._NativeExtension.getPropertyValue(r,s)}n.push(l)}return n},e.prototype._createNewDataSource=function(e,n,i){var o=t._DataUtility._buildData(e,n,null),r=(new t._UnpivotDataSchemaBuilder)._buildDataSchema(o.values,o,i);return new t._DataSource(o.values,null,r)},e.prototype.transform=function(e,n,i){if(void 0===i&&(i=null),t.options._isUnpivotTransformOption(n)){var o=n,r=this._getOriginalDataSourceName(o.names),l=e._dataSource(r);if(this._isNewEmptyDataSource(l,e))return;var a=l._items,u=o.category,s=this._getNamesOfFieldsToBeUnPivoted(u,l),_=this._getCategoryFieldName(u,l),p=this._getValueFieldName(o,l),c=o.outputAs,h=this._createNewItems(a,s,_,p),f=this._createNewDataSource(c,h,i);e._add(f)}},e.prototype.queryInterface=function(t){return"IDataSourceTransform"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._UnpivotDataSourceTransformPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function t(){}return t.lerp=function(t,e,n){return(t=null==t?0:t)+((e=null==e?0:e)-t)*n},t.lerpString=function(e,n,i){var o=this;null==e&&(e="0"),null==n&&(n="0");var r=t.getNumbersFromString(e),l=0;return n.replace(/-?\d+(\.\d+)?/g,(function(e,n){var a,u=r[l++];if(null==u&&(u=0),1==i)a=null==n?0:n.length-1;else{var s=o._decimalPosition(u),_=null==n?0:n.length-1;a=s>_?s:_}return t.lerpNumber(u,t._parseNumber(e),i).toFixed(a)}))},t.getNumbersFromString=function(e){for(var n=/(-?\d+(?:\.\d+)?)/g,i=null,o=[];null!=(i=n.exec(e));)o.push(t._parseNumber(i[1]));return o},t._decimalPosition=function(t){var e=t.toString(),n=e.indexOf(".");return-1==n?0:e.length-n-1},t.lerpNumber=function(t,e,n){return t+(e-t)*n},t._parseNumber=function(t){if(null!=t){var e=Number(t);if(!isNaN(e))return e}return null},t}();t._LerpUtil=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__swapAxes=t,this.__lineAspect=e}return e.prototype.convert=function(e){if(e.length>1){if(this.__swapAxes&&this.__lineAspect==t.LineAspect.StepLeft||!this.__swapAxes&&this.__lineAspect==t.LineAspect.StepRight){(o=[]).push(e[0]);for(var n=1;n<e.length;n++)o.push(new t.core.Point(e[n].x,e[n-1].y)),o.push(new t.core.Point(e[n].x,e[n].y));return o}if(this.__swapAxes&&this.__lineAspect==t.LineAspect.StepRight||!this.__swapAxes&&this.__lineAspect==t.LineAspect.StepLeft){for((o=[]).push(e[0]),n=1;n<e.length;n++)o.push(new t.core.Point(e[n-1].x,e[n].y)),o.push(new t.core.Point(e[n].x,e[n].y));return o}if(this.__swapAxes&&this.__lineAspect==t.LineAspect.StepCenter){for((o=[]).push(e[0]),n=1;n<e.length;n++){var i=e[n-1].y+(e[n].y-e[n-1].y)/2;o.push(new t.core.Point(e[n-1].x,i)),o.push(new t.core.Point(e[n].x,i)),o.push(new t.core.Point(e[n].x,e[n].y))}return o}if(this.__swapAxes||this.__lineAspect!=t.LineAspect.StepCenter)return e;var o;for((o=[]).push(e[0]),n=1;n<e.length;n++){var r=e[n-1].x+(e[n].x-e[n-1].x)/2;o.push(new t.core.Point(r,e[n-1].y)),o.push(new t.core.Point(r,e[n].y)),o.push(new t.core.Point(e[n].x,e[n].y))}return o}return e},e}();t._LineAspectConverter=e}(t||(t={})),function(t){var e=function(){function e(){}return e.isNil=function(t){return t.right-t.left<=0||t.bottom-t.top<=0},e.IsPointInPolygon=function(t,e){for(var n=e[0].x,i=e[0].x,o=e[0].y,r=e[0].y,l=1;l<e.length;l++){var a=e[l];n=Math.min(a.x,n),i=Math.max(a.x,i),o=Math.min(a.y,o),r=Math.max(a.y,r)}if(t.x<n||t.x>i||t.y<o||t.y>r)return!1;for(var u=!1,s=(l=0,e.length-1);l<e.length;s=l++)e[l].y>t.y!=e[s].y>t.y&&t.x<(e[s].x-e[l].x)*(t.y-e[l].y)/(e[s].y-e[l].y)+e[l].x&&(u=!u);return u},e.IsPointInPolygon2=function(t,e,n){for(var i=e[0],o=e[0],r=n[0],l=n[0],a=1;a<e.length;a++)i=Math.min(e[a],i),o=Math.max(e[a],o),r=Math.min(n[a],r),l=Math.max(n[a],l);if(t.x<i||t.x>o||t.y<r||t.y>l)return!1;for(var u=!1,s=(a=0,e.length-1);a<e.length;s=a++)n[a]>t.y!=n[s]>t.y&&t.x<(e[s]-e[a])*(t.y-n[a])/(n[s]-n[a])+e[a]&&(u=!u);return u},e._polygonArea=function(t){for(var e=0,n=0;n<t.length;n++){var i=(n+1)%t.length;e+=t[n].x*t[i].y-t[i].x*t[n].y}return Math.abs(e)/2},e._getCenterOfGravityPoint=function(e){for(var n=0,i=0,o=0,r=1;r<=e.length;r++){var l=e[r%e.length].x,a=e[r%e.length].y,u=e[(r-1)%e.length].x,s=e[(r-1)%e.length].y,_=(l*s-a*u)/2;n+=_,i+=_*(l+u)/3,o+=_*(a+s)/3}return i/=n,o/=n,new t.core.Point(i,o)},e.CenterOfPolygon=function(e,n){for(var i=0,o=0,r=0,l=1;l<=e.length;l++){var a=e[l%e.length],u=n[l%n.length],s=e[(l-1)%e.length],_=n[(l-1)%n.length],p=(a*_-u*s)/2;i+=p,o+=p*(a+s)/3,r+=p*(u+_)/3}return o/=i,r/=i,new t.core.Point(o,r)},e.sort=function(t,e){for(var n,i=0;i<t.length;++i)for(var o=0;o<t.length;++o)e(t[o],t[i])&&(n=t[o],t[o]=t[i],t[i]=n)},e.pointToLine=function(t,n,i,o,r,l){var a=e._lineSpace(t,n,i,o),u=e._lineSpace(t,n,r,l),s=e._lineSpace(i,o,r,l);if(s+u==a)return 0;if(a<=1e-6)return u;if(s*s>=a*a+u*u)return u;if(u*u>=a*a+s*s)return s;var _=(a+u+s)/2;return 2*Math.sqrt(_*(_-a)*(_-u)*(_-s))/a},e.HashCode=function(n){if(null==n)return"";if("string"==typeof n)return e._hashCodeString(n);if("number"==typeof n)return e._hashCodeString("number"+n);if("boolean"==typeof n)return e._hashCodeString("boolean"+n);if(n instanceof Object){for(var i="",o=0,r=t._NativeExtension.properties(n,!0);o<r.length;o++){var l=r[o];i=i+e.HashCode(l)+e.HashCode(n[l])}return e._hashCodeString(i)}return null},e.SecondaryIdentityHash=function(t){return t+=t<<15^4294954365,t^=t>>>10,t+=t<<3,t^=t>>>6,(t+=(t<<2)+(t<<14))^t>>>16},e.isChildOf=function(t,e,n){function i(t,e,i){if(e.length<i.length)return null;for(var o=!1,r=0;r<i.length;r++){var l=t+r;if(!(null!=n&&n(e[l],i[r])||e[l]===i[r])){o=!1;break}o=!0}return o?{start:t,end:t+i.length-1}:null}if(t.length<e.length)return null;if(t.length==e.length)return i(0,t,e);for(var o=t.length-e.length+1,r=0;r<o;r++){var l=i(r,t,e);if(null!=l)return l}return null},e.createPtsFromRect=function(e,n){for(var i=[],o=[],r=[e.left,e.top,e.right,e.top,e.right,e.bottom,e.left,e.bottom,e.left,e.top],l=r.length-3,a=0;a<l;a+=2)for(var u=r[a],s=r[a+1],_=r[a+2],p=r[a+3],c=0;c<n/4;++c)i.push(u+(_-u)/(n/4)*c),o.push(s+(p-s)/(n/4)*c);return new t._Polyline(i,o)},e.createPtsFromCircle=function(e,n,i){for(var o=[],r=[],l=Math.PI,a=0;a<i;++a){var u=360/i*a/l,s=Math.sin(u)*e+n.x,_=Math.cos(u)*e+n.y;o.push(s),r.push(_)}return new t._Polyline(o,r)},e.createPtsFromRadialBar=function(e,n,i,o,r,l){var a=[],u=[],s=[],_=[],p=l-2,c=(n-e)/(p/2);if(0!=c)for(;e+c==e;)c*=10;for(var h=e;h<n;h+=c){var f=Math.cos(h),d=Math.sin(h),y=f*i+r.x,g=d*i+r.y,m=f*o+r.x,v=d*o+r.y;a.push(y),u.push(g),s.push(m),_.push(v)}if(0==a.length){f=Math.cos(e),d=Math.sin(e),y=f*i+r.x,g=d*i+r.y,m=f*o+r.x,v=d*o+r.y;for(var w=0;w<p;w++)a.push(y),u.push(g),s.push(m),_.push(v)}return a.unshift(s[0]),u.unshift(_[0]),s.push(a[a.length-1]),_.push(u[u.length-1]),new t._Polyline(a.concat(s.reverse()),u.concat(_.reverse()))},e.createPtsFromPyologon=function(t,e){return null},e.sameValue=function(t,e){return t===e||t instanceof Date&&e instanceof Date&&t.getTime()==e.getTime()},e.hasKey=function(t,e){return void 0!==t[e]},e.find=function(t,e){if(null!=t)for(var n=0,i=t;n<i.length;n++){var o=i[n];if(e(o))return o}return null},e.toBoolean=function(t){return!!t},e.deepAssign=function(t,n,i){if(void 0===i&&(i=null),null!=i){if(n=n[i],!e._isObject(t[i]))return void(t[i]=n);if(e._isObject(n))for(var o=0,r=Object.keys(n);o<r.length;o++){var l=r[o];e.deepAssign(t[i],n,l)}else t[i]=n}else{if(!e._isObject(t)||!e._isObject(n))return;for(var a=0,u=Object.keys(n);a<u.length;a++)l=u[a],e.deepAssign(t,n,l)}},e._isObject=function(t){return null!=t&&"object"==typeof t},e.rad2Degree=function(t){return 180*t/Math.PI},e.degree2Rad=function(t){return t*Math.PI/180},e.getCssColorString=function(e){return e instanceof t.options._CssColorOption?e.color:null},e.numberArrayEquals=function(t,e){if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!=e[n])return!1;return!0},e._hashCodeString=function(t){var e=0;if(null==t||0===t.length)return e+"";for(var n=t.length,i=0;i<n;++i)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e+""},e._lineSpace=function(t,e,n,i){return Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))},e}();t._Util=e}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){}return t.PercentileINC=function(t,e){if(e<0||e>1)return NaN;e*=100,t.sort((function(t,e){return(null==t?0:t)-(null==e?0:e)}));var n,i=e/100*(t.length-1);if(Math.floor(i)==i)n=t[i];else{var o=Math.floor(i),r=i-o,l=t[o],a=t[o+1];n=null!=l&&null!=a?l+(a-l)*r:null}return n},t.PercentileEXC=function(t,e){var n=t.sort((function(t,e){return(null==t?0:t)-(null==e?0:e)})),i=e*(t.length+1)-1;if(isNaN(i))return NaN;var o=Math.floor(i);if(o>=0&&o<n.length-1){var r=n[o],l=n[o+1];if(null!=r&&null!=l)return r+(l-r)*(i-o)}return null},t.Sum=function(t){return 0===t.length?0:t.filter((function(t){return null!=t&&!isNaN(t)})).reduce((function(t,e){return t+e}))},t.Average=function(e){var n=e.filter((function(t){return null!=t&&!isNaN(t)}));return 0==n.length?0:t.Sum(n)/n.length},t.Max=function(t){var e=t.filter((function(t){return null!=t&&!isNaN(t)}));return Math.max.apply(Math,e)},t.Min=function(t){var e=t.filter((function(t){return null!=t&&!isNaN(t)}));return Math.min.apply(Math,e)},t.Median=function(t){if(null!=t&&t.length>0){var e=[];(e=e.concat(t)).sort((function(t,e){return(null==e?0:e)-(null==t?0:t)}));var n=e.length-1,i=e[Math.floor(n/2)],o=e[Math.round(n/2)];if(null!=i&&null!=o)return(i+o)/2}return NaN},t.Count=function(t){return t.length},t}();t.Statics=e}(t||(t={})),function(t){var e=function(t,e,n,i){this.left=t,this.top=e,this.right=n,this.bottom=i};t._Margin=e}(t||(t={})),function(t){var e=function(t,e){this.text=t,this.size=e};t._TextInline=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n)||this;return o.__rectangle=t.core.Rect.ReadOnlyRect,o.__isForwardDirection=null,o._autoAngle=null,o._autoOverflow=null,o.___categoryValueViews=null,o._definition=i,o.__titleView=o._createTitleView(),o.__unitLabelView=o._createUnitLabelView(),o.__majorGridLineViews=[],o.__minorGridLineViews=[],o.__majorTickViews=[],o.__minorTickViews=[],o.__tickOverlap=1,o.__dimension=o._createMergedDimension(),o._scaleModel=new t._AxisScaleModel,o._axisLabelLayoutPolicy=t._BuildInAxisLabelLayoutPolicyBuilderCollection.defaultBuildInAxisLabelLayoutPolicyBuilders()._axisLabelLayoutPolicy(o,o._definition._option.plugins,o._definition._pluginCollection),o._gridLineDisplayPolicy=t._BuildInGridLineDisplayPolicyBuilderCollection._defaultBuildInGridLineDisplayPolicyBuilders()._gridLineDisplayPolicy(o._definition._option.plugins,o._definition._pluginCollection),o}return n(i,e),i.prototype._rectangle=function(){return this.__rectangle},i.prototype._updateRectangle=function(t){this.__rectangle=t},i.prototype._layoutContent=function(t,e,n){},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=null,r=0,l=this._majorGridLineViews();r<l.length;r++)if(null!=(o=l[r]._hitTest(t,n,i)))return o;for(var a=0,u=this._minorGridLineViews();a<u.length;a++)if(null!=(o=u[a]._hitTest(t,n,i)))return o;for(var s=0,_=this._labelViews();s<_.length;s++)if(null!=(o=_[s]._hitTest(t,n,i)))return o;var p=this._unitLabelView();return null!=p&&null!=(o=p._hitTest(t,n,i))||null!=(o=this._titleView()._hitTest(t,n,i))?o:e.prototype._hitTest.call(this,t,n,i)},i.prototype._createMergedDimension=function(){var e=this._getDefinition()._option.plugins,n=this._getDefinition()._pluginCollection;return new t._MergedDimension(e,n)},i.prototype._getTickHeightBelowAxis=function(e,n){var i=0,o=n,r=this.__tickOverlap,l=e;return l==t.TickMark.Outside?r=1:l==t.TickMark.Inside?r=-1:l==t.TickMark.Cross&&(r=0),l!=t.TickMark.None&&(i+=.5*(1+r)*o),i},i.prototype._getCorrectAngle=function(){var t=this._labelAngle();return null==t&&(t=null!=this._autoAngle?this._autoAngle:0),t},i.prototype._getAxisScaleBuilder=function(e){return e===t.ValueScaleType.Ordinal?t._OrdinalAxisScaleBuilder.defaultOrdinalAxisScaleBuilder:e===t.ValueScaleType.Linear?t._LinearAxisScaleBuilder.defaultLinearAxisScaleBuilder:e===t.ValueScaleType.Logarithmic?t._LogAxisScaleBuilder.defaultLogAxisScaleBuilder:e===t.ValueScaleType.Date?t._TimeAxisScaleBuilder.defaultTimeAxisScaleBuilder:null},i.prototype._getAcutalOrigin=function(){var t=this.__actualOrigin;return null==t&&(t=this._origin()),t},i.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._getCoordinateSystemView()._id()+this._createIdentityContent()),this.__cachedId},i.prototype._createIdentityContent=function(){return""},Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),i.prototype._buildTickValue=function(e){var n=this._itemValue(e),i=t._AxisLabelBuilder.defaultAxisLabelBuilder().buildLabel(n,this,this._getDimensions());return this._createAxisTickLabelView(i,e,n)},i.prototype.applyConditionalFormat=function(){(new t.models._AxisConditionalFormattingRuleRunner)._apply(this)},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Axis},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._getCoordinateSystemView()._getLayoutView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._scaleModel._minimum},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._scaleModel._maximum},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"majorUnit",{get:function(){return this._scaleModel._majorUnit},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minorUnit",{get:function(){return this._scaleModel._minorUnit},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"axisType",{get:function(){return this._definition._option.type},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(n){return"IShapeModel"==n||"IAxisLabelModel"==n?this:"IAxisTitle"==n?new t.models._AxisTitle(this._titleView()):"IGridLine"==n?new t.models._GridLine(this._majorGridLineViews().concat(this._minorGridLineViews())):"IAxisLabel"==n?new t.models._AxisLabel(this._labelViews()):"IAxisCategoryModel"==n?new t.models._AxisCategoryModel(this._categoryValueViews()):e.prototype.queryInterface.call(this,n)},i.prototype._shape=function(){return new t._RectangleShape(this._rectangle().center.x,this._rectangle().center.y,this._rectangle().width,this._rectangle().height,0)},i.prototype._getScaleReversed=function(){return this._isMirror()?1==this._getIsForwardDirection()?this._definition._option.reversed:!this._definition._option.reversed:this._definition._option.reversed},i.prototype._applyOptionToScale=function(e){var n=this._majorUnit();null==n||isNaN(n)||e._setMajorUnit(n);var i=this._minorUnit();if(null==i||isNaN(i)||e._setMinorUnit(i),e._setReversed(this._getScaleReversed()),t._isTimeAxisScale(e)){var o=e;o._setBaseDateMode(this._dateMode()),o._setMajorDateMode(this._majorDateMode()),o._setMinorDateMode(this._minorDateMode())}t._isPaddingAxisScale(e)&&e._setDomainPadding([this._definition._option.axisPadding,this._definition._option.axisPadding])},i.prototype._adjustOrigin=function(t,e){this.__actualOrigin=null;var n=this._origin(),i=null!=t.min||t.useActualMin,o=null!=t.max||t.useActualMax;if(null!=n&&null!=e){var r=e._scaleModel._minimum,l=e._scaleModel._maximum;n<(null==r?0:r)&&i?this.__actualOrigin=r:n>(null==l?0:l)&&o&&(this.__actualOrigin=l)}},i.prototype._applyDimension=function(t,e){this.__dimension._applyDimension(t,e)},i.prototype._getDimensions=function(){return this.__dimension._getMergedDimensions()},i.prototype._getViewDimensions=function(){return this.__dimension._getViewDimensions()},i.prototype._getScaleType=function(){return this.__dimension._getValueScaleType()},i.prototype._itemValue=function(e){var n=this._getScaleType(),i=this._getDimensions();if(n==t.ValueScaleType.Date)return new Date(e);if(n==t.ValueScaleType.Ordinal){for(var o=0,r=i.slice().reverse();o<r.length;o++)for(var l=0,a=(h=r[o])._dimensionValues();l<a.length;l++){var u=a[l];if(u._value()===e){var s=u.rawValue;if(null!=s)return s}}return null}for(var _=e,p=0,c=i.slice().reverse();p<c.length;p++){var h=c[p];if(t.models._isLinearDimension(h)){var f=h;if((f._scaleType()==t.ValueScaleType.Linear||f._scaleType()==t.ValueScaleType.Logarithmic)&&t._isDataFieldDimension(h)){var d=h,y=d._getDataFieldDefinition();if(null!=y&&y._dataField._type()==t.core.DataType.Date){var g=this._getDimensionDefinition(d);t._isAggregateValueEncodingDefinition(g)?g._getAggregate()==t.Aggregate.List&&(_=new Date(e)):t._isXFieldEncodingDefinition(g)||(_=new Date(e))}if(null!=_)break}}}return _},i.prototype._getDimensionDefinition=function(e){for(var n=0,i=this._getCoordinateSystemView()._getPlotViews();n<i.length;n++){var o=i[n];if(t._isCartesianPlotView(o))for(var r=0,l=o._getCartesianPlotDataModel()._groups();r<l.length;r++){var a=l[r];if(a._x()==e)return a._xValueDefinition();if(a._y()==e)return a._yValueDefinition()}}return null},i.prototype._createAxisScale=function(){var t=this,e=this._getAxisScalePolicy(),n=this._getAxisScaleBuilder(this._getScaleType()).build(this._definition._option,this,e,(function(e){t._onCategoryValueViewsChanged(e)}));return this._initAxisScaleDomain(n,this._getScaleType(),this._definition._option),this._applyOptionToScale(n),this._scaleModel._scale=n,n},i.prototype._getAxisScalePolicy=function(){return t._BuildInAxisScalePolicyBuilderCollection._defaultBuildInAxisScalePolicyBuilders()._axisScalePolicy(this,this._getScaleType(),this._definition._option.plugins,this._definition._pluginCollection)},i.prototype._initAxisScaleDomain=function(e,n,i){var o=null,r=null;null==i.min||i.min.type!=t.ValueOptionType.Number&&i.min.type!=t.ValueOptionType.Date||(o=n!=t.ValueScaleType.Ordinal&&n!=t.ValueScaleType.Logarithmic&&n!=t.ValueScaleType.Percentage||i.min.type!=t.ValueOptionType.Date?i.min.value:null),null==i.max||i.max.type!=t.ValueOptionType.Number&&i.max.type!=t.ValueOptionType.Date||(r=n!=t.ValueScaleType.Ordinal&&n!=t.ValueScaleType.Logarithmic&&n!=t.ValueScaleType.Percentage||i.max.type!=t.ValueOptionType.Date?i.max.value:null);var l=i.useActualMin,a=i.useActualMax,u=this.__dimension._getActualMin(),s=this.__dimension._getActualMax();this._getExpand()&&t._isOrdinalAxisScale(e)&&(s=(null==s?0:s)+1);var _=null!=r||a,p=u,c=s;if(null==o&&!l){var h=this.__dimension._min();null!=h&&h<(null==u?0:u)&&(p=h)}if(!_){var f=this.__dimension._max();null!=f&&f>(null==s?0:s)&&(c=f)}null!=p&&null!=c&&(u=p,s=c),e._setDomain([u,s])},i.prototype._getExpand=function(){return this.__expand},i.prototype._setExpand=function(t){this.__expand=t},i.prototype._titleView=function(){return this.__titleView},i.prototype._unitLabelView=function(){return this.__unitLabelView},i.prototype._majorGridLineViews=function(){return this.__majorGridLineViews},i.prototype._minorGridLineViews=function(){return this.__minorGridLineViews},i.prototype._majorTickViews=function(){return this.__majorTickViews},i.prototype._minorTickViews=function(){return this.__minorTickViews},i.prototype._createTitleView=function(){return new t._BaseAxisTitleView(this)},i.prototype._createUnitLabelView=function(){return new t._BaseAxisUnitLabelView(this,this._definition._option.unitLabel)},i.prototype._createTickView=function(e,n){return new t._BaseAxisTickView(this,e,n)},i.prototype._labelViews=function(){return this._majorTickLabelViews()},i.prototype._majorTickLabelViews=function(){return this._scaleModel._majorTickValueModels()},i.prototype._onCategoryValueViewsChanged=function(t){this.___categoryValueViews=null},i.prototype._categoryValueViews=function(){return null==this.___categoryValueViews&&(t._isOrdinalAxisScale(this._scaleModel._scale)?this.___categoryValueViews=this._createCategoryValueViews(this._scaleModel._scale):this.___categoryValueViews=[]),this.___categoryValueViews},i.prototype._createCategoryValueViews=function(t){return[]},i.prototype._layoutCategoryValueView=function(){},i.prototype._layout=function(t,e,n){for(var i=this._labelViews(),o=0;o<i.length;++o)i[o]._visible=!0;this._layoutContent(t,e,n),this._layoutCategoryValueView()},i.prototype._drawView=function(e,n){var i=this;if(null!=this._rectangle()){e.beginTransform(),t._OptionUtility._applyStyleOption(e,this._style()),t._OptionUtility._applyTextStyleOption(e,this._textStyle());var o=this._getClipRectangle(),r=null;n._renderLabel&&null!=o&&(r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height)),e.drawGroup(this._styleClassName(),r,null,(function(t){i._renderContentGroup(t,n)})),e.restoreTransform()}},i.prototype._getClipRectangle=function(){return null},i.prototype._renderGridLineViews=function(t,e){if(this._shouldDisplayGridLineViews(e)){var n=[];this._majorGridLineViews().forEach((function(i){null!=i&&i._isVisible()&&(n.push(i._tick),i._render(t,e))})),this._minorGridLineViews().forEach((function(i){if(null!=i&&i._isVisible()){if(n.indexOf(i._tick)>=0)return;i._render(t,e)}}))}},i.prototype._containsTick=function(t,e){for(var n=!1,i=0,o=t;i<o.length;i++){var r=o[i];if(r==e){n=!0;break}if(Math.abs(r-e)<=1e-10){n=!0;break}}return n},i.prototype._renderTickViews=function(e,n){if(!n._renderLabel&&this._position()!=t.AxisPosition.None){var i=[];if(this._majorTicks()!=t.TickMark.None){e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultMajorTickStyle()),t._OptionUtility._applyLineStyleOption(e,this._majorTickStyle());for(var o=function(t){i.push(t._tick),e.drawGroup("gcdv-tick-major",null,null,(function(e){t._render(e,n)}))},r=0,l=this._majorTickViews();r<l.length;r++)o(l[r]);e.restoreTransform()}if(this._minorTicks()!=t.TickMark.None){e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultMinorTickStyle()),t._OptionUtility._applyLineStyleOption(e,this._minorTickStyle());for(var a=function(o){if(u._containsTick(i,o._tick)){if(u._majorTicks()==u._minorTicks())return"continue";if(u._majorTicks()==t.TickMark.Cross||u._minorTicks()==t.TickMark.Cross)return"continue"}e.drawGroup("gcdv-tick-minor",null,null,(function(t){o._render(t,n)}))},u=this,s=0,_=this._minorTickViews();s<_.length;s++)a(_[s]);e.restoreTransform()}}},i.prototype._renderLabelViews=function(t,e){this._shouldDisplayLabelViews(e)&&this._labelViews().forEach((function(n,i){null!=n&&n._render(t,e)}))},i.prototype._renderUnitLabelView=function(e,n){var i=this._unitLabelView();null!=i&&n._renderLabel&&this._labels()!=t.AxisPosition.None&&i._render(e,n)},i.prototype._renderTitleView=function(e,n){n._renderLabel&&this._position()!=t.AxisPosition.None&&this._titleView()._render(e,n)},i.prototype._shouldDisplayGridLineViews=function(t){return this._gridLineDisplayPolicy._shouldDisplay(this._position(),t)},i.prototype._shouldDisplayLabelViews=function(e){return!(!e._renderLabel||this._position()==t.AxisPosition.None||this._labels()==t.AxisPosition.None)},i.prototype._getLayoutShapes=function(t){var e=this._getLayoutLabelShapes();return t&&this._titleView()._isVisible()&&e.push(this._titleView()._rotatedRectangle()),e},i.prototype._getLayoutLabelShapes=function(){var e=this,n=[];this._labelViews().forEach((function(i){if(i._isVisible()&&e._labels()!=t.AxisPosition.None){var o=e._getLabelViewRectangle(i);n.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(o))}}));var i=this._unitLabelView();if(this._labels()!=t.AxisPosition.None&&null!=i&&i._isVisible()){var o=i._getOption().textStyle.padding,r=i._getRotatedRectangle(),l=Math.min(r.leftTop.x,r.rightTop.x,r.rightBottom.x,r.leftBottom.x),a=Math.max(r.leftTop.x,r.rightTop.x,r.rightBottom.x,r.leftBottom.x),u=Math.min(r.leftTop.y,r.rightTop.y,r.rightBottom.y,r.leftBottom.y),s=Math.max(r.leftTop.y,r.rightTop.y,r.rightBottom.y,r.leftBottom.y),_=new t.core.Rect(l,u,a-l,s-u);this._orientation()==t.Orientation.Vertical?(_.left-=null==o?0:o.left.value,_.width+=null==o?0:o.left.value+o.right.value):this._orientation()==t.Orientation.Horizontal&&(_.top-=null==o?0:o.top.value,_.height+=null==o?0:o.top.value+o.bottom.value),n.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(_))}return n},i.prototype._getLabelViewRectangle=function(e){var n=this._labelStyle().padding,i=e._getRotatedRectangle(),o=Math.min(i.leftTop.x,i.rightTop.x,i.rightBottom.x,i.leftBottom.x),r=Math.max(i.leftTop.x,i.rightTop.x,i.rightBottom.x,i.leftBottom.x),l=Math.min(i.leftTop.y,i.rightTop.y,i.rightBottom.y,i.leftBottom.y),a=Math.max(i.leftTop.y,i.rightTop.y,i.rightBottom.y,i.leftBottom.y),u=new t.core.Rect(o,l,r-o,a-l);return this._orientation()==t.Orientation.Vertical?(u.left-=null==n?this._definition._getDefaultLabelPadding():n.left.value,u.width+=null==n?2*this._definition._getDefaultLabelPadding():n.left.value+n.right.value):this._orientation()==t.Orientation.Horizontal&&(u.top-=null==n?this._definition._getDefaultLabelPadding():n.top.value,u.height+=null==n?2*this._definition._getDefaultLabelPadding():n.top.value+n.bottom.value),u},i.prototype._checkWithRectangles=function(e,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];if(null==r)throw new t.AssertError(t.ErrorCode.UnexpectedValue,r);if(t._ShapeUtil._whetherIntersect(e,new t._RectangleShape((r.left+r.right)/2,(r.top+r.bottom)/2,r.width,r.height,0)))return!0}return!1},i.prototype._checkWithRotateRectangles=function(e,n){for(var i=0,o=n;i<o.length;i++){var r=o[i];if(null==r)throw new t.AssertError(t.ErrorCode.UnexpectedValue,r);if(t._ShapeUtil._whetherIntersect(r,e))return!0}return!1},i.prototype._checkInBorder=function(t){var e=this._getCoordinateSystemView()._getLayoutView()._getPlotAreaView()._getRectangle();return e.contains(t.leftTop)&&e.contains(t.leftBottom)&&e.contains(t.rightTop)&&e.contains(t.rightBottom)},i.prototype._checkOverlapLegend=function(t){for(var e=0,n=this._getCoordinateSystemView()._getLayoutView()._getPlotAreaView()._getLegendViews();e<n.length;e++){var i=n[e]._contentView();if(null!=i&&i._intersectWith(t))return!0}return!1},i.prototype._checkOverlap=function(e,n,i){return!!this._checkWithRotateRectangles(n,e._tmpAxisLabels)||i!=t.OverlappingLabels.Auto&&(!(this._checkInBorder(n)&&!this._checkOverlapLegend(n))||i===t.OverlappingLabels.HideAll&&(this._checkWithRotateRectangles(n,e._labels)||this._checkWithRectangles(n,e._legendsLabels)||this._checkWithRectangles(n,e._headerLabels)||this._checkWithRectangles(n,e._footerLabels)))},i.prototype._majorUnit=function(){return null==this._definition._option.majorUnit?NaN:this._definition._option.majorUnit.value},i.prototype._minorUnit=function(){return null==this._definition._option.minorUnit?NaN:this._definition._option.minorUnit.value},i.prototype._dateMode=function(){return this._definition._option.dateMode},i.prototype._majorDateMode=function(){return this._definition._option.majorUnit.dateMode},i.prototype._minorDateMode=function(){return this._definition._option.minorUnit.dateMode},i.prototype._majorTickSize=function(){return this._definition._option.majorTickSize},i.prototype._minorTickSize=function(){return this._definition._option.minorTickSize},i.prototype._majorTicks=function(){return this._definition._option.majorTicks},i.prototype._minorTicks=function(){return this._definition._option.minorTicks},i.prototype._majorTickStyle=function(){return this._definition._option.majorTickStyle},i.prototype._minorTickStyle=function(){return this._definition._option.minorTickStyle},i.prototype._groupGrid=function(){return this._definition._option.groupGrid},i.prototype._groupGridStyle=function(){return this._definition._option.groupGridStyle},i.prototype._majorGrid=function(){return this._definition._option.majorGrid},i.prototype._minorGrid=function(){return this._definition._option.minorGrid},i.prototype._textStyle=function(){return this._definition._option.textStyle},i.prototype._labelStyle=function(){return this._definition._option.labelStyle},i.prototype._titleStyle=function(){return this._definition._option.titleStyle},i.prototype._lineStyle=function(){return this._definition._option.lineStyle},i.prototype._style=function(){return this._definition._option.style},i.prototype._axisLine=function(){return this._definition._option.axisLine},i.prototype._labels=function(){return this._definition._option.labels},i.prototype._position=function(){return this._definition._option.position},i.prototype._origin=function(){return this._definition._option.origin},i.prototype._overlappingLabels=function(){return this._definition._option.overlappingLabels},i.prototype._format=function(){return this._definition._option.format},i.prototype._orientation=function(){return this._definition._orientation},i.prototype._title=function(){var e=this._definition._option;if(null!=e.title)return e.title;for(var n=[],i=0,o=this._getDimensions();i<o.length;i++){var r=o[i],l=null;if(t._isMultiDataFieldsDimension(r)){var a=r._getDataFieldDefinitions().map((function(t){return t._label}));l=t._isCategoryDimension(r)?a[0]:a.join("-")}else t._isDataFieldDimension(r)&&(l=r._getDataFieldDefinition()._label);null!=l&&l.length>0&&n.indexOf(l)<0&&n.push(l)}return n.length>0?n.join(","):null},i.prototype._labelAngle=function(){for(var e=this._definition._option.labelAngle,n=e.length,i=0,o=this._getDimensions();i<o.length;i++){var r=o[i];if(t._isCategoryDimension(r)){var l=null;if(t._isMultiDataFieldsDimension(r)&&(l=r._getDataFieldDefinitions()),null!=l&&l.length>0){var a=l.length-1;if(!(a>=n))return e[a];if(n>0)return e[n-1]}}}return n>0?e[0]:null},i.prototype._groupLabelAngles=function(){for(var e=0,n=this._getDimensions();e<n.length;e++){var i=n[e];if(t._isCategoryDimension(i)){var o=null;if(t._isMultiDataFieldsDimension(i)&&(o=i._getDataFieldDefinitions()),null!=o&&o.length>0){var r=o.length,l=this._definition._option.labelAngle;if((l=l.slice(0,r)).length>0)for(var a=l.length;a<r;a++)l.push(l[l.length-1]);return l}}}return[]},i.prototype._getIsForwardDirection=function(){return this.__isForwardDirection},i.prototype._setIsForwardDirection=function(t){this.__isForwardDirection=t},i.prototype._isMirror=function(){return null!=this.__isForwardDirection},i.prototype._styleClassName=function(){var e=this._definition._option.type;return e==t.AxisType.X?"gcdv-axis-x":e==t.AxisType.Y?"gcdv-axis-y":null},i.prototype._defaultLineStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._defaultMajorTickStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._defaultMinorTickStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._defaultMajorGridStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._defaultMinorGridStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._defaultGroupGridStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._getDefinition=function(){return this._definition},i.prototype._getCoordinateSystemView=function(){return this._ownerView},i}(t._BaseView);t._BaseAxisView=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o,r){this.__cx=e,this.__cy=n,this.angle=r,this.endPoint=new t.core.Point(0,0),this.endPoint.x=e+Math.sin(this.angle)*o,this.endPoint.y=n-Math.cos(this.angle)*o,this.startPoint=new t.core.Point(0,0),this.startPoint.x=e-Math.sin(this.angle)*i,this.startPoint.y=n+Math.cos(this.angle)*i}return Object.defineProperty(e.prototype,"cx",{get:function(){return this.__cx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cy",{get:function(){return this.__cy},enumerable:!1,configurable:!0}),e}();t._RotatedLine=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){void 0===r&&(r=null);var l=e.call(this,n)||this;return l.__hover=!1,l.__autoOverflow=null,l.__textViewDirty=!1,l.__rotatedRectangle=new t._RectangleShape(0,0,0,0,0),l._value=o,l._label=i,l._wordSeparators=r,l._initTextStyle(),l}return n(i,e),i.prototype._onHoverChanged=function(){this._textView()._updateHover(this._isHover())},i.prototype._createIdentityContent=function(){return t._Util.HashCode(this.value+this.label)},Object.defineProperty(i.prototype,"hover",{get:function(){return this._isHover()},set:function(t){this._updateHover(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this._label},enumerable:!1,configurable:!0}),i.prototype._getTextAngle=function(){return this.__textAngle},i.prototype._setTextAngle=function(t){this.__textAngle=t},i.prototype._getTextLocation=function(){return this.__textLocation},i.prototype._setTextLocation=function(t){this.__textLocation=t},i.prototype._getRotatedRectangle=function(){return this.__rotatedRectangle},i.prototype._setRotatedRectangle=function(t){this.__rotatedRectangle.equalsWith(t)||(this.__rotatedRectangle=t)},i.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this.__textStyle),t._OptionUtility._applyFillOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.backgroundColor),t._OptionUtility._applyFillOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.backgroundColor),t._OptionUtility._applyFillOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,this._getAxisView()._getDefinition()._option.style.backgroundColor),t._OptionUtility._applyLineStyleFromStyleOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this._getAxisView()._getDefinition()._option.style),this.__style=e}return this.__style},i.prototype._hoverStyle=function(){if(null==this.__hoverStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._style());t._OptionUtility._applyTextStyleOption(e,this._getAxisView()._getDefinition()._option.hoverStyle),this.__hoverStyle=e}return this.__hoverStyle},i.prototype._textOverflow=function(){var e=this.__textStyle.overflow;return null==e&&(e=this.__autoOverflow),null==e&&(e=this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},i.prototype._textAlignment=function(){var t=this.__textStyle.alignment;return null==t&&(t=this._getAxisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._getAxisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.alignment),t},i.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this.label,this._textOverflow(),null,t.HAlign.Left,t.VAlign.Middle,this._style(),this._hoverStyle(),this._textAlignment(),this._wordSeparators)),this.__textView},i.prototype._measure=function(t,e){return this.__textViewDirty&&(this.__textView=null,this.__textViewDirty=!1),this._textView()._measure(t,e)},i.prototype._layout=function(t,e,n){this._textView()._layout(t,n,e)},i.prototype._drawView=function(e,n){var i=this._getTextAngle(),o=this._getTextLocation();if(null!=i&&0!=i&&null!=o){var r=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(i),o);this._textView()._transform=r}else this._textView()._transform=null;this._textView()._render(e,n),n._axisLabels.push(this._getRotatedRectangle())},i.prototype.queryInterface=function(t){return"IShapeModel"==t||"IAxisLabelModel"==t?this:e.prototype.queryInterface.call(this,t)},i.prototype._initTextStyle=function(){var e=t.options._TextStyleOptionCloneMarker._textStyleOptionCloneMarker._cloneOf(this._getAxisView()._getDefinition()._option.textStyle);e._mergeStyle(this._getAxisView()._getDefinition()._option.labelStyle),this.__textStyle=e},i.prototype._canLabelWrap=function(t,e,n){return!!t._canWordWrap(this.label,n.width,e)},i.prototype._getAutoOverflow=function(){return this.__autoOverflow},i.prototype._setAutoOverflow=function(t){this.__autoOverflow!=t&&(this.__autoOverflow=t,this.__textViewDirty=!0)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRotatedRectangle();if(null!=r&&t._ShapeUtil._shapeContainsPoint(r,n)&&this._visible){var l=new t.HitTestResult(n,this,this,t.ElementType.AxisLabel);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._getAxisView=function(){return this._ownerView},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t,this._onHoverChanged())},i.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._getAxisView()._id()+this._createIdentityContent()),this.__cachedId},i.prototype._translate=function(t,e){var n=this._textView()._getRectangle();n.left+=t,n.top+=e},i.prototype._shape=function(){return this._getRotatedRectangle().clone()},Object.defineProperty(i.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle=t},enumerable:!1,configurable:!0}),i.prototype.relatedModels=function(){for(var e=[],n=this._getAxisView()._labelViews().indexOf(this)+t.models._OrdinalDataFieldDimension.__ORDINALDIMENSION_INDEXBASE__,i=this._value,o=0,r=this._getAxisView()._getCoordinateSystemView()._getPlotViews();o<r.length;o++)r[o]._traversePointView((function(o,r){var l=o._data();if(l instanceof t._ValuePointDataModel){var a=l.xDimensionValue;t._Util.sameValue(a.rawValue,i)&&a._value()==n&&e.push(o)}}),null);return e},Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.AxisLabel},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._getAxisView()},enumerable:!1,configurable:!0}),i}(t._BaseView);t._BaseAxisLabelView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o._tick=n,o._rotateLine=i,o}return n(e,t),e.prototype._drawView=function(t,e){null!=this._rotateLine&&t.drawLine(this._rotateLine.startPoint.x,this._rotateLine.startPoint.y,this._rotateLine.endPoint.x,this._rotateLine.endPoint.y)},e}(t._BaseView);t._BaseAxisTickView=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this,t)||this;return n.__hover=!1,n._cachedMetricsResultWithSuggestedSize=null,n._initTextPadding(),n}return n(i,e),Object.defineProperty(i.prototype,"hover",{get:function(){return this._isHover()},set:function(t){this._updateHover(t)},enumerable:!1,configurable:!0}),i.prototype._hAlign=function(){return t.HAlign.Center},i.prototype._vAlign=function(){return t.VAlign.Middle},i.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(e,this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._axisView()._getDefinition()._option.textStyle),t._OptionUtility._applyTextStyleOption(e,this._axisView()._getDefinition()._option.titleStyle),this.__style=e}return this.__style},i.prototype._textOverflow=function(){var e=this._axisView()._getDefinition()._option.titleStyle.overflow;return null==e&&(e=this._axisView()._getDefinition()._option.textStyle.overflow),null==e&&(e=this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},i.prototype._textAlignment=function(){var t=this._axisView()._getDefinition()._option.titleStyle.alignment;return null==t&&(t=this._axisView()._getDefinition()._option.textStyle.alignment),null==t&&(t=this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.alignment),t},i.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._axisView()._title(),this._textOverflow(),this._getTextPadding(),this._hAlign(),this._vAlign(),this._style(),null,this._textAlignment())),this.__textView},i.prototype._getTextAngle=function(){return this.__textAngle},i.prototype._setTextAngle=function(t){this.__textAngle=t},i.prototype._getTextLocation=function(){return this.__textLocation},i.prototype._setTextLocation=function(t){this.__textLocation=t},i.prototype._rectangle=function(){var e=this._rotatedRectangle(),n=Math.min(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),i=Math.max(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),o=Math.min(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y),r=Math.max(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y);return new t.core.Rect(n,o,i-n,r-o)},i.prototype._rotatedRectangle=function(){var e=this._textView()._getRectangle(),n=null==this._getTextAngle()?0:this._getTextAngle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,t._Util.degree2Rad(n))},i.prototype._getTextPadding=function(){return this.__textPadding},i.prototype._setTextPadding=function(t){this.__textPadding=t},i.prototype._initTextPadding=function(){null==this._axisView()._getDefinition()._option.titleStyle.padding?this._setTextPadding(new t.options._PaddingOption({left:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:0}),right:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:0}),top:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:this._axisView()._getDefinition()._getDefaultTitlePadding()}),bottom:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:this._axisView()._getDefinition()._getDefaultTitlePadding()})})):this._setTextPadding(this._axisView()._getDefinition()._option.titleStyle.padding)},i.prototype._axisView=function(){return this._ownerView},i.prototype._calcRotatedSize=function(e,n){if(null==n||0==n)return e;var i=t._Util.degree2Rad(n),o=e.width*Math.abs(Math.sin(i))+e.height*Math.abs(Math.cos(i)),r=e.width*Math.abs(Math.cos(i))+e.height*Math.abs(Math.sin(i));return new t.core.Size(r,o)},i.prototype._measure=function(e,n){var i=this._getTextAngle();null!=n&&(n=this._calcRotatedSize(n,i));var o=this._textView()._measure(e,n)._size;return o=this._calcRotatedSize(o,i),this._cachedMetricsResultWithSuggestedSize=new t._RectangleViewMetricsResult(o),this._cachedMetricsResultWithSuggestedSize},i.prototype._layout=function(t,e,n){this._textView()._layout(t,n,e)},i.prototype._drawView=function(e,n){var i=this._getTextAngle(),o=this._getTextLocation();if(null!=i&&0!=i&&null!=o){var r=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(i),o);this._textView()._transform=r}else this._textView()._transform=null;this._textView()._render(e,n)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rotatedRectangle();if(null!=r&&t._ShapeUtil._shapeContainsPoint(r,n)){var l=new t.HitTestResult(n,this,this,t.ElementType.AxisTitle);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._translate=function(t,e){var n=this._textView()._getRectangle();n.left+=t,n.top+=e},i.prototype._shape=function(){return this._rotatedRectangle()},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t)},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.AxisTitle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._axisView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IShapeModel"==t||"IAxisTitleModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._BaseView);t._BaseAxisTitleView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i.__axisOrientation=n,i.__axisViews=[],i}return n(i,e),i.prototype._axisOrientation=function(){return this.__axisOrientation},i.prototype._coordinateSystemView=function(){return this._ownerView},i.prototype._axisViews=function(){return this.__axisViews},i.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var n=this._coordinateSystemView(),i=n._horizontalViewSize,o=n._verticalViewSize;return"CartesianRadial"===n._getDefinition()._type?1!==i||1!==o:this._axisOrientation()===t.Orientation.Horizontal?1!==i:1!==o},i.prototype._add=function(t){this.__axisViews.push(t)},i.prototype._clear=function(){this.__axisViews.splice(0)},i.prototype._renderInnerContent=function(t,e,n){for(var i=this._axisViews(),o=0;o<i.length;o++)i[o]._render(t,n)},i.prototype._getLogicSize=function(){var e=this._getRectangle(),n=this._coordinateSystemView(),i=n._horizontalViewSize,o=n._verticalViewSize;return"CartesianXy"===n._getDefinition()._type?this._axisOrientation()===t.Orientation.Horizontal?new t.core.Size(e.width/i,e.height):new t.core.Size(e.width,e.height/o):new t.core.Size(e.width/i,e.height/o)},i.prototype._redraw=function(){e.prototype._redraw.call(this),null!=this.__axesScrollableLabelsGroupElement&&(this.__axesScrollableLabelsGroupElement.offsetX=this._getScrollX(),this.__axesScrollableLabelsGroupElement.offsetY=this._getScrollY(),this.__axesScrollableLabelsGroupElement.flush())},i.prototype._renderScrollableContent=function(t,n){if(n._renderLabel){var i=this._getLogicSize(),o=this._getViewport();this._renderScrollableLabelsContent(t,n,o,i)}else e.prototype._renderScrollableContent.call(this,t,n)},i.prototype._renderScrollableLabelsContent=function(t,e,n,i){var o=this;this.__axesScrollableLabelsGroupElement=t.createGroup("scroll-labels",null,this._transform,n,i.width,i.height,this._getScrollX(),this._getScrollY(),(function(t){o._invokeBaseRenderContent(t,e)})),null==this.__axesScrollableLabelsGroupElement&&t.drawGroup("scroll-labels",null,this._transform,(function(t){o._invokeBaseRenderContent(t,e)}))},i.prototype._hitTestContent=function(t,n,i){var o=this._axisViews();if(o.length>0)for(var r=0,l=o.concat().reverse();r<l.length;r++){var a=l[r]._hitTest(t,n,i);if(null!=a)return a}return e.prototype._hitTestContent.call(this,t,n,i)},i}(t._ScrollableView);t._AxesView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.defaultAxisLabelBuilder=function(){return null==e.__defaultAxisLabelBuilder&&(e.__defaultAxisLabelBuilder=new e),e.__defaultAxisLabelBuilder},e.prototype.buildLabel=function(e,n,i,o){void 0===o&&(o=null);var r=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(n._getDefinition()._option.plugins,n._getCoordinateSystemView()._getDefinition()._pluginCollection);if(null!=r){var l=this.getLabelFormat(e,n,i,o);return null==l&&(t._DataValueTypeExtension._isNumber(e)?l=r.defaultFormat(t.core.DataType.Number,!1):t._DataValueTypeExtension._isDate(e)&&(l=r.defaultFormat(t.core.DataType.Date,!1))),r.format(l,e,null!=n._getDefinition()._option.format?n._getDefinition()._option.format.type:null)}return null!=e?e.toString():null},e.prototype.getLabelFormat=function(e,n,i,o){var r=null,l=n._getDefinition()._option.format;if(null!=l&&(r=l.value),null==r&&(r=this._formatFromDefinition(i,o),t._DataValueTypeExtension._isNumber(e)&&null==r)){var a=n._scaleModel._maximum,u=n._scaleModel._minimum,s=n._scaleModel._getTickNumber(),_=((null==a?0:a)-(null==u?0:u))/(null==s?0:s);isNaN(n._scaleModel._majorUnit)||(_=n._scaleModel._majorUnit),r=this._getNumberFormat(_)}return r},e.prototype._formatFromDefinition=function(t,e){return null!=t?this._dimensionFormat(t):null!=e?e._format:null},e.prototype._dimensionFormat=function(e){for(var n=0,i=e.slice().reverse();n<i.length;n++){var o=i[n];if(t._isDataFieldDimension(o)){var r=o._getDataFieldDefinition();if(null!=r)return r._format}}return null},e.prototype._getNumberFormat=function(t){if(null!=t){var e=t,n=this._getPrecision(e);return n>0?"n"+n:"n"}var i=Math.round(t);return 0==i||isNaN(i)?"n":"n0"},e.prototype._getPrecision=function(t){if(t<=0||isNaN(t))return 0;if(0==(t-=Math.floor(t)))return 0;var e=Math.log(t)/Math.LN10,n=Math.floor(e);return(n=-n)<=2&&(n=0),n},e}();t._AxisLabelBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n){void 0===n&&(n=null),this.__axisTickLabelView=e,this.__stringFormatting=null!=n?n:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__axisTickLabelView._getAxisView()._getCoordinateSystemView()._getDefinition()._pluginCollection)}return e.prototype._axisLabelModel=function(){return this.__axisTickLabelView},e.prototype._axisView=function(){return this.__axisTickLabelView._getOwnerView()},e.prototype._tick=function(){return this.__axisTickLabelView.tick},e.prototype.getTokenValue=function(e,n,i){if(void 0===i&&(i=null),null==e)return null;if("name"===n)return new t.models._DataValueInfo(e,this.__stringFormatting);if("value"===n)for(var o=this._axisView()._getDimensions().slice().reverse(),r=function(n){var i=[];if(t._isCategoryDimension(n)){var o=n;t._TreeNodeUtility._traverseDFS(o._dimensionValueGroups(),(function(t,e){0==t.children.length&&i.push(t)}))}else if(t._isOrdinalDimension(n))for(var r=0,a=n._dimensionValueGroups1();r<a.length;r++){var u=a[r];i.push(u)}for(var s=0,_=i;s<_.length;s++)if((u=_[s])._dimensionValues().length>0&&u._dimensionValues()[0]._value()===l._tick()){var p=u._dataSlices._dataSource._schema._fields[e];if(null!=p){var c=t._DataSlicesAggregate._defaultAggregate._aggregate(u._dataSlices,p,t.Aggregate.List,1);if(null!=c)return l.__labelValue=c,{value:new t.models._DataValueInfo(c,l.__stringFormatting)}}}},l=this,a=0,u=o;a<u.length;a++){var s=r(u[a]);if("object"==typeof s)return s.value}return null},e.prototype.getIdentifierValue=function(e){var n=this._axisLabelModel();return"current"==e?n:e.length>8&&"current."==e.substring(0,8)&&null!=n?new t._AnyValueBinding(e.substring(8))._getValue(n):null},e.prototype._getDefaultFormat=function(e){var n=this._axisView(),i=t._AxisLabelBuilder.defaultAxisLabelBuilder().getLabelFormat(this.__labelValue,n,this._axisView()._getDimensions(),null);return null==i&&null!=this.__stringFormatting&&(t._DataValueTypeExtension._isNumber(this.__labelValue)?i=this.__stringFormatting.defaultFormat(t.core.DataType.Number,!1):t._DataValueTypeExtension._isDate(this.__labelValue)&&(i=this.__stringFormatting.defaultFormat(t.core.DataType.Date,!1))),i},e.prototype._getDefaultFormatType=function(){return null!=this._axisView()._getDefinition()._option.format?this._axisView()._getDefinition()._option.format.type:null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.queryInterface=function(t){return"ITokenProxy"===t||"IIdentifierProxy"===t||"ITextFormatProxy"===t?this:null},e}();t._AxisTickLabelViewTextProxy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i.__option=n,null!=n.text&&""!=n.text||(i._visible=!1),i}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.AxisUnitLabel},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._axisView()},enumerable:!1,configurable:!0}),i.prototype._getOption=function(){return this.__option},i.prototype._paddings=function(){return this._getOption().textStyle.padding},i.prototype._hAlign=function(){return t.HAlign.Center},i.prototype._vAlign=function(){return t.VAlign.Middle},i.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(e,this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._axisView()._getDefinition()._option.textStyle),t._OptionUtility._applyTextStyleOption(e,this._getOption().textStyle),t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._OptionUtility._applyStyleOption(e,this._getOption().style),t._StyleUtility._applyFill(e,t._CssColor._none()),t._OptionUtility._applyFillOption(e,this._getOption().style.backgroundColor),this.__style=e}return this.__style},i.prototype._textOverflow=function(){var e=this._getOption().textStyle.overflow;return null==e&&(e=this._axisView()._getDefinition()._option.textStyle.overflow),null==e&&(e=this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(e,t.TextOverflow.Clip)},i.prototype._textAlignment=function(){var t=this._getOption().textStyle.alignment;return null==t&&(t=this._axisView()._getDefinition()._option.textStyle.alignment),null==t&&(t=this._axisView()._getCoordinateSystemView()._getDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._axisView()._getCoordinateSystemView()._getDefinition()._dvConfigOption.textStyle.alignment),t},i.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this.__option.text,this._textOverflow(),null,this._hAlign(),this._vAlign(),this._style(),null,this._textAlignment())),this.__textView},i.prototype._getTextAngle=function(){return this.__textAngle},i.prototype._setTextAngle=function(t){this.__textAngle=t},i.prototype._getTextLocation=function(){return this.__textLocation},i.prototype._setTextLocation=function(t){this.__textLocation=t},i.prototype._getClassName=function(){return null},i.prototype._axisView=function(){return this._ownerView},i.prototype._getLabelAngle=function(){var e=this._getOption().labelAngle;return this._axisView()._getDefinition()._orientation==t.Orientation.Vertical?null==e?-90:e-90:null==e?0:e},i.prototype._calcRotatedSize=function(e,n){if(0==n)return e;var i=t._Util.degree2Rad(n),o=e.width*Math.abs(Math.sin(i))+e.height*Math.abs(Math.cos(i)),r=e.width*Math.abs(Math.cos(i))+e.height*Math.abs(Math.sin(i));return new t.core.Size(r,o)},i.prototype._measureInnerContent=function(e,n){var i=this._getLabelAngle();null!=n&&(n=this._calcRotatedSize(n,i));var o=this._textView()._measure(e,n)._size;return o=this._calcRotatedSize(o,i),new t._RectangleViewMetricsResult(o)},i.prototype._layoutInnerContent=function(e,n,i){if(n.height<=0||n.width<=0)this._visible=!1;else if(this._axisView().position!=t.AxisPosition.None)if(this._axisView()._getDefinition()._option.labels!=t.AxisPosition.None){var o=this._axisView()._getDefinition()._orientation==t.Orientation.Vertical,r=this._textView()._getMeasureInfo()._size,l=r.clone();if(null!=this._getOption().labelAngle){var a=this._getOption().labelAngle*Math.PI/180,u=r.width*Math.abs(Math.sin(a))+r.height*Math.abs(Math.cos(a)),s=r.width*Math.abs(Math.cos(a))+r.height*Math.abs(Math.sin(a));l=new t.core.Size(s,u)}if(o){var _=n.left+.5*l.height,p=n.top+.5*l.width;this._setTextAngle(this._getLabelAngle()),this._setTextLocation(new t.core.Point(_,p)),this._textView()._layout(e,i,new t.core.Rect(_-r.width/2,p-r.height/2,r.width,r.height))}else _=n.right-.5*l.width,p=n.top+.5*l.height,this._setTextAngle(this._getLabelAngle()),this._setTextLocation(new t.core.Point(_,p)),this._textView()._layout(e,i,new t.core.Rect(_-r.width/2,p-r.height/2,r.width,r.height))}else this._visible=!1;else this._visible=!1},i.prototype._renderInnerContent=function(e,n,i){var o=this._getTextAngle(),r=this._getTextLocation();if(null!=o&&0!=o&&null!=r){var l=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(o),r);this._textView()._transform=l}else this._textView()._transform=null;this._textView()._render(e,i)},i.prototype._translate=function(t,e){var n=this._textView()._getRectangle();n.left+=t,n.top+=e},i.prototype._shape=function(){return this._getRotatedRectangle()},i.prototype._getRotatedRectangle=function(){var e=this._textView()._getRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,null==this._getTextAngle()?0:t._Util.degree2Rad(this._getTextAngle()))},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRotatedRectangle();if(null!=r&&t._ShapeUtil._shapeContainsPoint(r,n)){var l=new t.HitTestResult(n,this,this,t.ElementType.AxisUnitLabel);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i}(t._RectangleView);t._BaseAxisUnitLabelView=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this,t)||this;return n.__width=0,n._startPoint=null,n._endPoint=null,n}return n(i,e),i.prototype._rectangle=function(){if(null==this._startPoint||null==this._endPoint)return null;if(this._startPoint.x==this._endPoint.x){var e=this._startPoint.x-.5*this._getWidth(),n=Math.min(this._startPoint.y,this._endPoint.y),i=this._getWidth(),o=Math.abs(this._endPoint.y-this._startPoint.y);return new t.core.Rect(e,n,i,o)}if(this._startPoint.y==this._endPoint.y){e=Math.min(this._startPoint.x,this._endPoint.x);var r=this._startPoint.y-.5*this._getWidth();return i=Math.abs(this._startPoint.x-this._endPoint.x),o=this._getWidth(),new t.core.Rect(e,r,i,o)}return null},i.prototype._shape=function(){return new t._PolylineShape([this._startPoint,this._endPoint],this._getWidth())},i.prototype._getWidth=function(){return this.__width},i.prototype._setWidth=function(t){this.__width=t},i.prototype._axisView=function(){return this._ownerView},i}(t._BaseView);t._BaseAxisLineView=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"_minimum",{get:function(){var t=this._scale;return null!=t?t.niceMin():null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_maximum",{get:function(){var t=this._scale;return null!=t?t.niceMax():null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_majorUnit",{get:function(){var t=this._scale;return null!=t?t._getActualMajorUnit():null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_minorUnit",{get:function(){var t=this._scale;return null!=t?t._getActualMinorUnit():null},enumerable:!1,configurable:!0}),e.prototype._value=function(t){var e=this._scale;return null!=e?e.value(t):null},e.prototype._getActualValue=function(t){var e=this._scale;return null!=e?e._getActualValue(t):null},e.prototype._getBaseValue=function(){var e=this._scale;return t._isTimeAxisScale(e)?e._getBaseValue():null},e.prototype._getRange=function(){return this._scale._getRange()},e.prototype._setRange=function(t){this._scale._setRange(t)},e.prototype._internalSetRange=function(t){this._scale._internalSetRange(t)},e.prototype._getRangePadding=function(){var e=this._scale;return t._isPaddingAxisScale(e)?e._getRangePadding():null},e.prototype._setRangePadding=function(e){var n=this._scale;t._isPaddingAxisScale(n)&&n._setRangePadding(e)},e.prototype._getDomainPadding=function(){var e=this._scale;return t._isPaddingAxisScale(e)?e._getDomainPadding():null},e.prototype._setDomainPadding=function(e){var n=this._scale;t._isPaddingAxisScale(n)&&n._setDomainPadding(e)},e.prototype._getReversed=function(){return this._scale._getReversed()},e.prototype._setReversed=function(t){this._scale._setReversed(t)},e.prototype._getTickNumber=function(){return this._scale._getTickNumber()},e.prototype._setTickNumber=function(t){this._scale._setTickNumber(t)},e.prototype._ticks=function(){return this._scale._getMajorTicks()},e.prototype._adjustScaleDomain=function(t,e){for(var n=this._scale,i=null==t.min&&!t.useActualMin,o=null==t.max&&!t.useActualMax,r=0,l=e;r<l.length;r++){var a=l[r];if(null!=a&&null!=n){var u=n._getDomain(),s=u[0],_=u[1];(null!=s&&a<s&&i||null!=_&&a>_&&o)&&n._setOrigin(a)}}},e.prototype._hasScale=function(){return null!=this._scale},e.prototype._majorTickValueModels=function(){return this._scale._majorTickValueModels()},e}();t._AxisScaleModel=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l){void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===l&&(l=null);var a=e.call(this,n)||this;return a._linesSize=null==i?new t.core.Size(0,0):i,a._lablesSize=null==o?new t.core.Size(0,0):o,a._labelSize=null==r?new t.core.Size(0,0):r,a._titleSize=null==l?new t.core.Size(0,0):l,a}return n(i,e),i}(t._RectangleViewMetricsResult);t._AxisViewMetricsResult=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===i&&(i=!0);var o=e.call(this,t)||this;return o._tick=n,o.isMajor=i,o._width=i?null!=o._majorGridStyle().strokeWidth?o._majorGridStyle().strokeWidth:o._defaultMajorGridStyle().strokeWidth:null!=o._minorGridStyle().strokeWidth?o._minorGridStyle().strokeWidth:o._defaultMinorGridStyle().strokeWidth,o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.GridLine},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._axisView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this._axisView()._getDefinition()._orientation==t.Orientation.Horizontal?t.Orientation.Horizontal:t.Orientation.Vertical},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IShapeModel"==t||"IGridLineModel"==t?this:e.prototype.queryInterface.call(this,t)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._hitTestShape();if(null!=r&&t._ShapeUtil._shapeContainsPoint(r,n)){var l=new t.HitTestResult(n,this,this,t.ElementType.GridLine);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._axisView=function(){return this._ownerView},i.prototype._minorGridStyle=function(){return this._axisView()._getDefinition()._option.minorGridStyle},i.prototype._defaultMinorGridStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._majorGridStyle=function(){return this._axisView()._getDefinition()._option.majorGridStyle},i.prototype._defaultMajorGridStyle=function(){return t._ViewUtility._defaultLineStyle()},i._GridlineHittestSpace=5,i}(t._BaseView);t._BaseGridLineView=e}(t||(t={})),t||(t={}),function(t){t._isAxisGroupLabelView=function(t){return null!=t&&"function"==typeof t._group}}(t||(t={})),t||(t={}),function(t){t._isAxisLabelView=function(t){var e=t;return null!=e&&void 0!==e._value&&void 0!==e.label&&"function"==typeof e._setTextAngle&&"function"==typeof e._setTextLocation&&"function"==typeof e._setRotatedRectangle&&"function"==typeof e._textView&&"function"==typeof e._measure&&"function"==typeof e._layout&&"function"==typeof e._shape&&"function"==typeof e._canLabelWrap&&"function"==typeof e._setAutoOverflow&&"function"==typeof e._textOverflow}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isAxisTickLabelView=function(t){return!1}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isAxisTitleView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isAxisUnitLabelView=function(t){return!1}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){t._isPolygonalAxisView=function(t){var e=t;return null!=e&&"function"==typeof e._setOtherAxisView&&"function"==typeof e.__angles}}(t||(t={})),t||(t={}),function(t){t._isRadialAxisView=function(t){var e=t;return null!=e&&void 0!==e._axisLabelHeight&&void 0!==e._axisSize&&void 0!==e._cx&&void 0!==e._cy&&void 0!==e._innerRadius&&void 0!==e._radius&&void 0!==e._sweep&&"function"==typeof e._setStartAngleDegree&&"function"==typeof e._startAngle&&"function"==typeof e._setOriginAngle&&"function"==typeof e._setOriginRadius&&"function"==typeof e._setRadiusOffset&&"function"==typeof e._getAxisLineWidth&&"function"==typeof e._measureMaxLabelSize&&"function"==typeof e._getAnnoNumber}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t,e,n){void 0===n&&(n=null),this.__viewDimensions=[],this.__cachedDimensionsMinMax=null,this.__cachedMergedDimensions=null,this.__cachedDimensionsActualMinMax=null,this.__pluginOptions=t,this.__pluginCollection=e,this.__valueScaleType=n}return e.prototype._calculateDimensionsValueScaleType=function(e){for(var n=!1,i=!1,o=!1,r=!1,l=0,a=e;l<a.length;l++){var u=a[l];if(t._isOrdinalDimension(u._dimension))n=!0;else if(t.models._isLinearDimension(u._dimension)){var s=u._dimension;s._scaleType()==t.ValueScaleType.Logarithmic?o=!0:s._scaleType()==t.ValueScaleType.Date?r=!0:s._scaleType()==t.ValueScaleType.Linear&&(i=!0)}}return i?t.ValueScaleType.Linear:o?t.ValueScaleType.Logarithmic:r?t.ValueScaleType.Date:n?t.ValueScaleType.Ordinal:t.ValueScaleType.Linear},e.prototype._calculateDimensionsMinMax=function(e){for(var n=null,i=null,o=0,r=e;o<r.length;o++){var l=r[o];if(t._isOrdinalDimension(l)){var a=l,u=a._indexBase(),s=a._count();(null==n||u<n)&&(n=u),(null==i||s>i)&&(i=s)}else if(t.models._isLinearDimension(l)){var _=l,p=_._min(),c=_._max();(null==n||null!=p&&p<n)&&(n=p),(null==i||null!=c&&c>i)&&(i=c)}else if(t.models._isOverlayDimension(l)){var h=l,f=h._overlayMin(),d=h._overlayMax();(null==n||null!=f&&f<n)&&(n=f),(null==i||null!=d&&d>i)&&(i=d)}}return new t._DataDomain(n,i)},e.prototype._getActualMinMax=function(){if(null==this.__cachedDimensionsActualMinMax){for(var e=[],n=0,i=this._getMergedDimensions();n<i.length;n++){var o=i[n];(t._isOrdinalDimension(o)||t.models._isLinearDimension(o))&&e.push(o)}this.__cachedDimensionsActualMinMax=this._calculateDimensionsMinMax(e)}return this.__cachedDimensionsActualMinMax},e.prototype._buildDimensionValueGroupTree=function(e){for(var n=[],i=function(e){for(var i,o=e._dimensionValueGroupKeys,r=o.length,l=null,a=function(a){var u=a,s=l,_=t._TreeNodeUtility._find(n,(function(e,n){return u==n&&e.parent==s&&t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer._equalsWith(e.key,o[u]._key)}));if(null==_)for(;a<r;a++){var p=new t._DimensionValueGroup(o[a]._key,o[a]._dataSlices,l);a==r-1&&p._dimensionValues().push(e),0==a&&n.push(p),null!=l&&l.children.push(p),l=p}else l=_;i=a},u=0;u<r;u++)a(u),u=i},o=0,r=e;o<r.length;o++)i(r[o]);return n},e.prototype._min=function(){return null==this.__cachedDimensionsMinMax&&(this.__cachedDimensionsMinMax=this._calculateDimensionsMinMax(this._getMergedDimensions())),this.__cachedDimensionsMinMax._min},e.prototype._max=function(){return null==this.__cachedDimensionsMinMax&&(this.__cachedDimensionsMinMax=this._calculateDimensionsMinMax(this._getMergedDimensions())),this.__cachedDimensionsMinMax._max},e.prototype._setMin=function(t){throw new Error("Method not implemented.")},e.prototype._setMax=function(t){throw new Error("Method not implemented.")},e.prototype._scaleType=function(){return this._getValueScaleType()},e.prototype._dimensionValueGroups1=function(){for(var e=[],n=0,i=this._dimensionValues();n<i.length;n++){var o=i[n];t._isOrdinalDimensionValue(o)&&e.push(o)}return this._buildDimensionValueGroupTree(e)},e.prototype._indexBase=function(){return t.models._OrdinalDataFieldDimension.__ORDINALDIMENSION_INDEXBASE__},e.prototype._count=function(){return this._dimensionValues().length},e.prototype._dimensionValues=function(){for(var t=[],e=0,n=this._getMergedDimensions();e<n.length;e++)for(var i=0,o=n[e]._dimensionValues();i<o.length;i++){var r=o[i];t.push(r)}return t},e.prototype._getValueScaleType=function(){return null!=this.__valueScaleType?this.__valueScaleType:this._calculateDimensionsValueScaleType(this.__viewDimensions)},e.prototype._getViewDimensions=function(){return this.__viewDimensions},e.prototype._getMergedDimensions=function(){if(null==this.__cachedMergedDimensions){var e=this.__viewDimensions.map((function(t){return t._dimension})),n=t._BuildInDimensionMergePolicyBuilderCollection._defaultBuildInDimensionMergePolicyBuilders()._dimensionMergePolicy(e,this.__pluginOptions,this.__pluginCollection);null==n&&(n=t.models._DefaultDimensionMergePolicy._defaultDimensionMergePolicy);var i=n._merge(e);this.__cachedMergedDimensions=null!=i?i:[]}return this.__cachedMergedDimensions},e.prototype._applyDimension=function(e,n){var i=t._NativeExtension._findIndex(this.__viewDimensions,(function(t){return t._view==e}));-1==i?this.__viewDimensions.push(new t._ViewDimension(e,n)):this.__viewDimensions[i]=new t._ViewDimension(e,n),this.__cachedDimensionsMinMax=null,this.__cachedMergedDimensions=null,this.__cachedDimensionsActualMinMax=null},e.prototype._removeDimension=function(e,n){var i=t._NativeExtension._findIndex(this.__viewDimensions,(function(t){return t._view==e&&t._dimension==n}));i>=0&&(this.__viewDimensions.splice(i,1),this.__cachedDimensionsMinMax=null,this.__cachedMergedDimensions=null,this.__cachedDimensionsActualMinMax=null)},e.prototype._getActualMin=function(){return this._getActualMinMax()._min},e.prototype._getActualMax=function(){return this._getActualMinMax()._max},e}();t._MergedDimension=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._canWordWrap=function(t,e,n){return!0},t.prototype._autoChangeAngle=function(t){return-45},t.prototype._layoutCount=function(){return 2},t.prototype._autoOverflow=function(t){return null},t.prototype._wordWrapSeparators=function(){return null},t.prototype._buildAxisLabelLayoutPolicy=function(t,e){return this},t.prototype.queryInterface=function(t){return"IAxisLabelLayoutPolicy"===t||"IAxisLabelLayoutPolicyBuilder"===t?this:null},t.defaultAxisLabelLayoutPolicy=new t,t}();t._DefaultAxisLabelLayoutPolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"Excel"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"AxisLabelExpandPolicy"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype._expand=function(e){if(e._getDefinition()._orientation==t.Orientation.Vertical)return null;for(var n=null,i=0,o=0,r=e._labelViews();o<r.length;o++){var l=r[o];if(l._isVisible()){var a=e._getLabelViewRectangle(l);n=null==n?a.clone():t._RectangleUtility._unionOfRectangles(n,a),i=Math.max(i,a.width)}}var u=e._rectangle(),s=null!=n?n:u.clone();return s.left=u.left-i/2,s.width=u.width+i,s},e.prototype._buildAxisLabelExpandPolicy=function(e,n){var i=this;return null!=n&&n.length>0&&n.filter((function(t){return t.type===i.type&&t.name===i.name})).length>0&&t._isLineAxisView(e)?this:null},e.prototype.queryInterface=function(t){return"IAxisLabelExpandPolicy"===t||"IAxisLabelExpandPolicyBuilder"===t||"IPlugin"===t?this:null},e.excelAxisLabelExpandPolicy=new e,e}();t._ExcelAxisLabelExpandPolicy=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.excelAxisLabelExpandPolicy,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildAxisLabelLayoutPolicy=function(t,e){var n=this;return null!=e&&e.length>0&&e.filter((function(t){return t.type===n.type&&t.name===n.name})).length>0?this:null},Object.defineProperty(e.prototype,"name",{get:function(){return"Excel"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"AxisLabelLayoutPolicy"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype._canWordWrap=function(t,e,n){if(null!=n){var i=n.queryInterface("IRenderPolicies");if(null!=i&&null!=i.wordWrapPolicy)return i.wordWrapPolicy.buildWrappedStrings(n.renderEngine,t,e,this._wordWrapSeparators()).canWrap}return!0},e.prototype._autoChangeAngle=function(t){return null==t?-45:-90},e.prototype._layoutCount=function(){return 3},e.prototype._autoOverflow=function(e){return null==e||0==e?t.TextOverflow.Wrap:t.TextOverflow.Ellipsis},e.prototype._wordWrapSeparators=function(){return[" "]},e.prototype.queryInterface=function(t){return"IAxisLabelLayoutPolicy"===t||"IAxisLabelLayoutPolicyBuilder"===t||"IPlugin"===t?this:null},e.excelAxisLabelLayoutPolicy=new e,e}();t._ExcelAxisLabelLayoutPolicy=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.excelAxisLabelLayoutPolicy,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.defaultBuildInAxisLabelExpandPolicyBuilders=function(){return null==i.__buildInAxisLabelExpandPolicyBuilders&&(i.__buildInAxisLabelExpandPolicyBuilders=new i([],i._pluginType)),i.__buildInAxisLabelExpandPolicyBuilders},i.prototype._convert=function(e){return t._isAxisLabeExpandPolicyBuilder(e)?e:null},i.prototype._axisLabelExpandPolicy=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildAxisLabelExpandPolicy(t,e);if(null!=r)return r}return null},i._pluginType="AxisLabelExpandPolicy",i}(t._BuildInObjectCollection);t._BuildInAxisLabelExpandPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.defaultBuildInAxisLabelLayoutPolicyBuilders=function(){return null==i.__buildInAxisLabelLayoutPolicyBuilders&&(i.__buildInAxisLabelLayoutPolicyBuilders=new i([t._DefaultAxisLabelLayoutPolicy.defaultAxisLabelLayoutPolicy],i._pluginType)),i.__buildInAxisLabelLayoutPolicyBuilders},i.prototype._convert=function(e){return t._isAxisLabelLayoutPolicyBuilder(e)?e:null},i.prototype._axisLabelLayoutPolicy=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildAxisLabelLayoutPolicy(t,e);if(null!=r)return r}return null},i._pluginType="AxisLabelLayoutPolicy",i}(t._BuildInObjectCollection);t._BuildInAxisLabelLayoutPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInGridLineDisplayPolicyBuilders=function(){return null==i.__buildInGridLineDisplayPolicyBuilders&&(i.__buildInGridLineDisplayPolicyBuilders=new i([],i._pluginType)),i.__buildInGridLineDisplayPolicyBuilders},i.prototype._convert=function(e){return t._isGridLineDisplayPolicyBuilder(e)?e:null},i.prototype._gridLineDisplayPolicy=function(e,n){for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildGridLineDisplayPolicy();if(null!=r)return r}return t._DefaultGridLineDisplayPolicy._defaultGridLineDisplayPolicy},i._pluginType="GridLineDisplayPolicyBuilder",i}(t._BuildInObjectCollection);t._BuildInGridLineDisplayPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._shouldDisplay=function(e,n){return!n._renderLabel&&e!=t.AxisPosition.None},e._defaultGridLineDisplayPolicy=new e,e}();t._DefaultGridLineDisplayPolicy=e}(t||(t={})),function(t){t._isAxisLabelExpandPolicy=function(t){return null!=t&&"function"==typeof t._expand}}(t||(t={})),t||(t={}),function(t){t._isAxisLabelExpandPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildAxisLabelExpandPolicy}}(t||(t={})),function(t){t._isAxisLabeExpandPolicyBuilder=function(t){return null!=t._buildAxisLabelExpandPolicy}}(t||(t={})),function(t){t._isAxisLabelLayoutPolicy=function(t){var e=t;return null!=e&&"function"==typeof e._canWordWrap&&"function"==typeof e._autoChangeAngle&&"function"==typeof e._layoutCount&&"function"==typeof e._autoOverflow&&"function"==typeof e._wordWrapSeparators}}(t||(t={})),t||(t={}),function(t){t._isAxisLabelLayoutPolicyBuilder=function(t){return null!=t._buildAxisLabelLayoutPolicy}}(t||(t={})),t||(t={}),function(t){t._isGridLineDisplayPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildGridLineDisplayPolicy}}(t||(t={})),function(t){var e=function(t,e){this._view=t,this._dimension=e};t._ViewDimension=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i)||this;return o._emptyAxisHeight=12,o.__groupLabelViews=[],o.__groupGridLineViews=[],o._lineView=o._createAxisLineView(),o.__leftMargin=0,o.__rightMargin=0,o.__topMargin=0,o.__bottomMargin=0,o._axisLabelHeightList=[],o.__tickLabelLayoutPolicy=t._BuildInTickLabelLayoutPolicyBuilderCollection._defaultBuilders()._tickLabelLayoutPolicy(o,o._definition._option.plugins,o._definition._pluginCollection),o}return n(i,e),i.prototype._labelViews=function(){for(var t=this._majorTickLabelViews().slice(),e=0,n=this._groupLabelViews().slice().reverse();e<n.length;e++)for(var i=0,o=n[e];i<o.length;i++){var r=o[i];t.push(r)}return t},i.prototype._groupLabelViews=function(){var e=this;if(0==this.__groupLabelViews.length)for(var n=function(n){if(t._isCategoryDimension(n)){var i=n,o=t._isMultiDataFieldsDimension(n)?n._getDataFieldDefinitions().slice().reverse():[],r=i._dimensionValueGroups();t._TreeNodeUtility._traverseDFS(r,(function(t,n){if(0!=t.children.length){var i=e.__groupLabelViews.length;if(i<=n)for(var r=i;r<=n;++r)e.__groupLabelViews.push(new Array);var l=o[n],a=e._groupLabelFromValue(t.key,l),u=e._traverseRange(t),s=((null==u._min?0:u._min)+(null==u._max?0:u._max))/2,_=e._createGroupLabelView(a,s,t);null!=_&&e.__groupLabelViews[n].push(_)}}))}},i=0,o=this._getDimensions();i<o.length;i++)n(o[i]);return this.__groupLabelViews},i.prototype._groupGridLineViews=function(){return this.__groupGridLineViews},i.prototype._createAxisTickLabelView=function(e,n,i){return new t._LineAxisLabelView(this,e,n,i,this._axisLabelLayoutPolicy._wordWrapSeparators())},i.prototype._createTitleView=function(){var e=new t._LineAxisTitleView(this);return this._orientation()==t.Orientation.Vertical&&(this.position==t.AxisPosition.Near?e._setTextAngle(-90):e._setTextAngle(90)),e},i.prototype._createAxisLineView=function(){return new t._LineAxisLineView(this)},i.prototype._createGroupLabelView=function(e,n,i){return new t._LineAxisGroupLabelView(this,e,n,i)},i.prototype._getSuggestHeight=function(t){var e=this._getForceMaxHeight(t),n=this._getForceHeight(t);return null!=e&&null!=n?Math.min(n,e):null!=n?n:null!=e?e:t},i.prototype._getForceMaxHeight=function(e){var n=null,i=this._definition._option.maxHeight;return null!=i&&(i.type==t.ValueOptionType.Percentage?n=i.value*e:i.type===t.ValueOptionType.Pixel&&(n=i.value)),n},i.prototype._getForceHeight=function(e){var n=null,i=this._definition._option.height;return null!=i&&(i.type==t.ValueOptionType.Percentage?n=i.value*e:i.type===t.ValueOptionType.Pixel&&(n=i.value)),n},i.prototype._getSuggestWidth=function(t){var e=this._getForceMaxWidth(t),n=this._getForceWidth(t);return null!=e&&null!=n?Math.min(n,e):null!=n?n:null!=e?e:t},i.prototype._getForceMaxWidth=function(e){var n=null,i=this._definition._option.maxWidth;return null!=i&&(i.type==t.ValueOptionType.Percentage?n=i.value*e:i.type===t.ValueOptionType.Pixel&&(n=i.value)),n},i.prototype._getForceWidth=function(e){var n=null,i=this._definition._option.width;return null!=i&&(i.type==t.ValueOptionType.Percentage?n=i.value*e:i.type===t.ValueOptionType.Pixel&&(n=i.value)),n},i.prototype._getAxisLineWidth=function(){if(this._axisLine()){var t=this._definition._option.lineStyle.strokeWidth;if(null!=t&&t>1)return t}return 0},i.prototype._isEmpty=function(){for(var e=!1,n=!0,i=0,o=this._getDimensions();i<o.length;i++){var r=o[i];if(t._isDataFieldDimension(r)){n=!1;break}}return n&&0==this._labelViews().length&&(e=!0),e},i.prototype._measureLine=function(t,e){return this._getAxisLineWidth()},i.prototype._measureTicks=function(e,n){var i=this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),o=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),r=Math.max(i,o);return null!=n&&(r=this._orientation()==t.Orientation.Horizontal?Math.min(r,n.height>0?n.height:0):Math.min(r,n.width>0?n.width:0)),r},i.prototype._getLabelSuggestedSize=function(e,n,i,o){var r=e.clone(),l=0,a=0;this._orientation()==t.Orientation.Vertical?(l=e.height,a=e.width/i):(l=e.width/i,a=e.height);var u=180*Math.acos(n.height/l)/Math.PI;if(0==o)r=new t.core.Size(l,a);else if(o>=90||o<=-90)r=new t.core.Size(a,l);else if(isNaN(u))r=new t.core.Size(a,l);else if(Math.abs(u)>=Math.abs(o)){var s=a;r=new t.core.Size(s,l)}else r=new t.core.Size(a,l);return r},i.prototype._measureLabels=function(t,e){return this.__tickLabelLayoutPolicy._measure(this,this._majorTickLabelViews(),this._axisLabelLayoutPolicy,t,e)},i.prototype._measureGroupLabels=function(e,n){var i=this._groupLabelViews();if(0==i.length)return 0;e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._labelStyle());for(var o=0,r=this._groupLabelAngles(),l=2*this._definition._getDefaultLabelPadding(),a=0;a<i.length;++a){var u=0,s=0;if(r.length>a){var _=r[a];null!=_&&(s=_)}for(var p=i[a],c=0,h=p;c<h.length;c++){var f=h[c],d=null;f._textOverflow()!=t.TextOverflow.Clip&&null==(d=this._labelsOverflowSize(e,n,f,p.length,s))&&((d=n.clone()).height-=l);var y=f._measure(e,d)._size,g=s*Math.PI/180;if(this._orientation()==t.Orientation.Horizontal){var m=y.width*Math.abs(Math.sin(g))+y.height*Math.abs(Math.cos(g));u=Math.max(m+l,u)}else{var v=y.width*Math.abs(Math.cos(g))+y.height*Math.abs(Math.sin(g));u=Math.max(v+l,u)}}this._axisLabelHeightList.push(u),o+=u}var w=this._labels()!=t.AxisPosition.None||this._groupGrid()!=t.TickMark.None&&this._groupGrid()!=t.TickMark.Inside?o:0;return e.restoreTransform(),w},i.prototype._measureUnitLabel=function(e,n){var i=this._unitLabelView();return this._labels()!=t.AxisPosition.None&&null!=i&&null!=i._getOption().text&&""!=i._getOption().text?i._measure(e,n)._size:new t.core.Size(0,0)},i.prototype._measureTitle=function(e,n){e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._titleStyle());var i=this._titleView()._measure(e,n);return e.restoreTransform(),i._size},i.prototype._getTitleHeight=function(e,n){e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._titleStyle());var i=this._titleView()._measure(e,n);return e.restoreTransform(),this._orientation()==t.Orientation.Horizontal?i._size.height:i._size.width},i.prototype._measureLabelSize=function(t,e,n){return this.__tickLabelLayoutPolicy._calculateLabelSize(this,n,this._axisLabelLayoutPolicy,t,e)},i.prototype._measureMaxLabelSize=function(e,n){e.beginTransform(),t._OptionUtility._applyStyleOption(e,this._style()),t._OptionUtility._applyTextStyleOption(e,this._textStyle()),t._OptionUtility._applyTextStyleOption(e,this._labelStyle());var i=this._orientation()==t.Orientation.Horizontal,o=this._measureLine(e,n);i?n.height-=o:n.width-=o;var r=this._measureTicks(e,n);i?n.height-=r:n.width-=r;var l=this.__tickLabelLayoutPolicy._calculateMaxLabelSize(this,this._majorTickLabelViews(),this._axisLabelLayoutPolicy,e,n);return e.restoreTransform(),l},i.prototype.getViewPosition=function(){return this._position()==t.AxisPosition.None?t.Position.None:this._orientation()==t.Orientation.Horizontal?this._position()==t.AxisPosition.Near?t.Position.Bottom:t.Position.Top:this._orientation()==t.Orientation.Vertical?this._position()==t.AxisPosition.Near?t.Position.Left:t.Position.Right:t.Position.None},i.prototype.getLabelPosition=function(){return this._labels()==t.AxisPosition.None?t.Position.None:null==this._labels()?this.getViewPosition():this._orientation()==t.Orientation.Horizontal?this._labels()==t.AxisPosition.Near?t.Position.Bottom:t.Position.Top:this._orientation()==t.Orientation.Vertical?this._labels()==t.AxisPosition.Near?t.Position.Left:t.Position.Right:t.Position.None},i.prototype._overlapAxis=function(e){for(var n=this._labelViews(),i=0;i<n.length;++i)if(null!=(l=n[i])&&l._isVisible()&&null!=l._getRotatedRectangle())for(var o=i+1;o<n.length;++o){var r=n[o];if(null==r||null==r._getRotatedRectangle()||!t._ShapeUtil._whetherIntersect(l._getRotatedRectangle(),r._getRotatedRectangle()))break;r._visible=!1}if(e._checkOverlap){for(e._tmpAxisLabels=[],i=0;i<n.length;++i){var l;null!=(l=n[i])&&l._isVisible()&&null!=l._getRotatedRectangle()&&(this._checkOverlap(e,l._getRotatedRectangle(),this._overlappingLabels())?l._visible=!1:e._tmpAxisLabels.push(l._getRotatedRectangle()))}for(var a=0,u=e._tmpAxisLabels;a<u.length;a++){var s=u[a];e._axisLabels.push(s)}e._tmpAxisLabels=[]}},i.prototype._isLabelViewsOverlapped=function(){for(var e=this._labelViews().filter((function(e){return!(e instanceof t._LineAxisGroupLabelView)})),n=0;n<e.length;++n){var i=e[n];if(null!=i&&i._isVisible()&&null!=i._getRotatedRectangle())for(var o=n+1;o<e.length;++o){var r=e[o];if(null!=r&&null!=r._getRotatedRectangle()&&t._ShapeUtil._whetherIntersect(i._getRotatedRectangle(),r._getRotatedRectangle()))return!0}}return!1},i.prototype._getLayoutCount=function(){return this._axisLabelLayoutPolicy._layoutCount()},i.prototype._autoChangeAngle=function(){return this._axisLabelLayoutPolicy._autoChangeAngle(this._autoAngle)},i.prototype._autoChangeOverflow=function(){return this._axisLabelLayoutPolicy._autoOverflow(this._getCorrectAngle())},i.prototype._labelsOverflowSize=function(e,n,i,o,r){var l=this._orientation()==t.Orientation.Horizontal,a=0,u=this._labelStyle().padding;this._orientation()==t.Orientation.Vertical?a=null==u?2*this._definition._getDefaultLabelPadding():u.left.value+u.right.value:this._orientation()==t.Orientation.Horizontal&&(a=null==u?2*this._definition._getDefaultLabelPadding():u.top.value+u.bottom.value);var s=null;if(i._textOverflow()!=t.TextOverflow.Clip){var _=i._measure(e,null)._size,p=l?n.clone():new t.core.Size(n.height,n.width);p.height-=a,s=this._getLabelSuggestedSize(p,_,o,r),i._textOverflow()==t.TextOverflow.Wrap&&(i._canLabelWrap(this._axisLabelLayoutPolicy,e,s)||(s=null))}return s},i.prototype._layoutLabelViews=function(t,e,n){var i=this._majorTickLabelViews();this.__tickLabelLayoutPolicy._layout(this,i,this._axisLabelLayoutPolicy,t,e,n)},i.prototype._isNear=function(){var e=this._position()==t.AxisPosition.Near;return this._labels()==t.AxisPosition.Far&&(e=!1),e},i.prototype._getPadding=function(){var e=this._orientation()==t.Orientation.Horizontal,n=this._isNear(),i=this._labelStyle().padding,o=this._getDefinition()._getDefaultLabelPadding();return null!=i&&(o=e?n?i.top.value:i.bottom.value:n?i.right.value:i.left.value),o},i.prototype._fromLeftConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x,e.y-n.height/2,n.width,n.height):i>0?i>=90?this._fromBottomConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y-n.height,n.width,n.height):i<=-90?this._fromTopConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y,n.width,n.height)},i.prototype._fromRightConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x-n.width,e.y-n.height/2,n.width,n.height):i>0?i>=90?this._fromTopConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y,n.width,n.height):i<=-90?this._fromBottomConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y-n.height,n.width,n.height)},i.prototype._fromTopConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x-n.width/2,e.y,n.width,n.height):i>0?i>=90?this._fromLeftConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y,n.width,n.height):i<=-90?this._fromRightConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y,n.width,n.height)},i.prototype._fromBottomConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x-n.width/2,e.y-n.height,n.width,n.height):i>0?i>=90?this._fromRightConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y-n.height,n.width,n.height):i<=-90?this._fromLeftConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y-n.height,n.width,n.height)},i.prototype._layoutLineView=function(e,n,i){var o=null!=this._getAcutalOrigin()?0:.5*this._getAxisLineWidth(),r=this._orientation()==t.Orientation.Vertical,l=this._position()==t.AxisPosition.Near;if(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._OptionUtility._applyLineStyleOption(e,this._lineStyle()),r){var a=l?n.right-o:n.left+o;this._lineView._startPoint=new t.core.Point(a,n.top),this._lineView._endPoint=new t.core.Point(a,n.bottom)}else{var u=l?n.top+o:n.bottom-o;this._lineView._startPoint=new t.core.Point(n.left,u),this._lineView._endPoint=new t.core.Point(n.right,u)}this._lineView._setWidth(this._getAxisLineWidth()),e.restoreTransform()},i.prototype._layoutTickViews=function(e,n,i){for(var o=this._position()==t.AxisPosition.Near,r=this._orientation()==t.Orientation.Horizontal,l=this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),a=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),u=this._majorTickSize(),s=this._minorTickSize(),_=this._getAxisLineWidth(),p=0,c=this._scaleModel._scale._getMajorTicks();p<c.length;p++){var h=c[p];if(null!=(v=this._scaleModel._value(h))&&!isNaN(v)){var f=this._calLineAxislinePosition(_,!0,r,o),d=this._createRotateLine(r,v,f,n,l,u,o),y=this._createTickView(h,d);this._majorTickViews().push(y)}}for(var g=0,m=this._scaleModel._scale._getMinorTicks();g<m.length;g++){var v,w=m[g];if(null!=(v=this._scaleModel._value(w))&&!isNaN(v)){var b=this._calLineAxislinePosition(_,!1,r,o),P=(d=this._createRotateLine(r,v,b,n,a,s,o),this._createTickView(w,d));this._minorTickViews().push(P)}}},i.prototype._createRotateLine=function(e,n,i,o,r,l,a){return e?new t._RotatedLine(n,i,Math.min(o.height,r),l-r,a?0:Math.PI):new t._RotatedLine(i,n,Math.min(o.width,r),l-r,Math.PI/2*(a?1:-1))},i.prototype._calLineAxislinePosition=function(t,e,n,i){return e?n?this._calHoriLineAxislinePosition(this._majorTicks(),t,i):this._calVertLineAxislinePosition(this._majorTicks(),t,i):n?this._calHoriLineAxislinePosition(this._minorTicks(),t,i):this._calVertLineAxislinePosition(this._minorTicks(),t,i)},i.prototype._calHoriLineAxislinePosition=function(e,n,i){var o=i?this._rectangle().top+n/2:this._rectangle().bottom-n/2;return e===t.TickMark.Outside?o=i?this._rectangle().top+n:this._rectangle().bottom-n:e===t.TickMark.Inside&&(o=i?this._rectangle().top:this._rectangle().bottom),o},i.prototype._calVertLineAxislinePosition=function(e,n,i){var o=i?this._rectangle().right-n/2:this._rectangle().left+n/2;return e===t.TickMark.Outside?o=i?this._rectangle().right-n:this._rectangle().left+n:e===t.TickMark.Inside&&(o=i?this._rectangle().right:this._rectangle().left),o},i.prototype._layoutGridLineViews=function(e,n,i){var o=this._orientation()==t.Orientation.Horizontal;if(this._majorGrid())for(var r=0,l=this._majorTickViews();r<l.length;r++){var a=l[r],u=a._tick,s=void 0;if(o){var _=new t.core.Point(a._rotateLine.startPoint.x,this._plotRectangle.top),p=new t.core.Point(a._rotateLine.startPoint.x,this._plotRectangle.bottom);s=this._createGridLineView(u,!0,_,p)}else _=new t.core.Point(this._plotRectangle.left,a._rotateLine.startPoint.y),p=new t.core.Point(this._plotRectangle.right,a._rotateLine.startPoint.y),s=this._createGridLineView(u,!0,_,p);null!=s&&this._majorGridLineViews().push(s)}if(this._minorGrid())for(var c=0,h=this._minorTickViews();c<h.length;c++){var f=h[c],d=void(u=f._tick);o?(_=new t.core.Point(f._rotateLine.startPoint.x,this._plotRectangle.top),p=new t.core.Point(f._rotateLine.startPoint.x,this._plotRectangle.bottom),d=this._createGridLineView(u,!1,_,p)):(_=new t.core.Point(this._plotRectangle.left,f._rotateLine.startPoint.y),p=new t.core.Point(this._plotRectangle.right,f._rotateLine.startPoint.y),d=this._createGridLineView(u,!1,_,p)),null!=d&&this._minorGridLineViews().push(d)}},i.prototype._layoutGroupGridLineViews=function(e,n,i){for(var o=this,r=0,l=this._getDimensions();r<l.length;r++){var a=l[r];if(t._isCategoryDimension(a)){i._tmpGroupGridLinePositions=[];var u=a._dimensionValueGroups();t._TreeNodeUtility._traverseDFS(u,(function(t,r){t.children.length>0&&o._layoutGroupGridLineView(e,n,i,r,t)})),i._tmpGroupGridLinePositions=[];break}}},i.prototype._traverseRange=function(e){var n=e.children;if(0==n.length){var i=e._dimensionValues();return this._calculateRangeByDimensionValues(i)}for(var o=new t._DataDomain(Number.MAX_VALUE,-Number.MAX_VALUE),r=0,l=n;r<l.length;r++){var a=l[r],u=this._traverseRange(a);null!=u._min&&u._min<(null==o._min?0:o._min)&&(o._min=u._min),null!=u._max&&u._max>(null==o._max?0:o._max)&&(o._max=u._max)}return o},i.prototype._calculateRangeByDimensionValues=function(e){for(var n=null,i=null,o=0,r=e;o<r.length;o++){var l=r[o]._value();null!=l&&((null==n||l<n)&&(n=l),(null==i||l>i)&&(i=l))}return new t._DataDomain(n,i)},i.prototype._layoutGroupGridLineView=function(e,n,i,o,r){var l=this._measureTicks(e,this._rectangle().size),a=this._axisLabelHeightList.slice(o),u=l;if(a.length>0){var s=a.reduce((function(t,e){return t+e})),_=null==this._lineView?0:this._lineView._getWidth();s=this._orientation()==t.Orientation.Horizontal?Math.min(this._rectangle().height-_,s):Math.min(this._rectangle().width-_,s),u+=Math.max(0,s)}var p=this._scaleModel._scale.niceMin(),c=this._scaleModel._scale.niceMax(),h=i._tmpGroupGridLinePositions,f=this._traverseRange(r);if(null!=f._min&&null!=f._max){var d,y=f._min-.5;y<p&&(y=p),y<=c&&h.indexOf(y)<0&&null!=(d=this._createGroupGridLineView(y,u))&&(this._groupGridLineViews().push(d),h.push(y)),(y=f._max+.5)>c&&(y=c),y>=p&&h.indexOf(y)<0&&null!=(d=this._createGroupGridLineView(y,u))&&(this._groupGridLineViews().push(d),h.push(y))}},i.prototype._createGroupGridLineView=function(e,n){var i=this._scaleModel._value(e);if(null!=i){var o=this._createGroupGridLine(i,n);return new t._AxisGroupGridLineView(this,o)}return null},i.prototype._createGroupGridLine=function(e,n){if(this._groupGrid()==t.TickMark.None)return null;var i=this._orientation()==t.Orientation.Horizontal,o=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(o=!1);var r=null;if(i){var l=n,a=o?this._rectangle().top-this._plotRectangle.top:this._plotRectangle.bottom-this._rectangle().bottom;this._groupGrid()==t.TickMark.Outside?r=o?new t._RotatedLine(e,this._rectangle().top,l,0,0):new t._RotatedLine(e,this._rectangle().bottom,0,l,0):this._groupGrid()==t.TickMark.Inside?r=o?new t._RotatedLine(e,this._rectangle().top,0,a,0):new t._RotatedLine(e,this._rectangle().bottom,a,0,0):this._groupGrid()==t.TickMark.Cross&&(r=o?new t._RotatedLine(e,this._rectangle().top,l,a,0):new t._RotatedLine(e,this._rectangle().bottom,a,l,0))}else l=n,a=o?this._plotRectangle.right-this._rectangle().right:this._rectangle().left-this._plotRectangle.left,this._groupGrid()==t.TickMark.Outside?r=o?new t._RotatedLine(this._rectangle().right,e,l,0,Math.PI/2):new t._RotatedLine(this._rectangle().left,e,0,l,Math.PI/2):this._groupGrid()==t.TickMark.Inside?r=o?new t._RotatedLine(this._rectangle().right,e,0,a,Math.PI/2):new t._RotatedLine(this._rectangle().left,e,a,0,Math.PI/2):this._groupGrid()==t.TickMark.Cross&&(r=o?new t._RotatedLine(this._rectangle().right,e,l,a,Math.PI/2):new t._RotatedLine(this._rectangle().left,e,a,l,Math.PI/2));return r},i.prototype._layoutUnitLabelView=function(t,e,n){},i.prototype._layoutTitleView=function(t,e,n){this._titleView()._layout(t,e,n)},i.prototype._groupLabelFromValue=function(e,n){var i=e;return t._AxisLabelBuilder.defaultAxisLabelBuilder().buildLabel(i,this,null,n)},i.prototype._layoutGroupLabelViews=function(e,n,i){e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._textStyle()),t._OptionUtility._applyTextStyleOption(e,this._labelStyle());var o=this._isNear(),r=this._orientation()===t.Orientation.Horizontal,l=this._definition._getDefaultLabelPadding(),a=this._groupLabelAngles(),u=0;u=r?o?n.top:n.bottom:o?n.right:n.left;for(var s=n.size,_=this._groupLabelViews(),p=_.length-1;p>=0;--p){var c=_[p],h=0;if(a.length>p){var f=a[p];null!=f&&(h=f)}for(var d=h*Math.PI/180,y=this._scaleModel._scale.niceMin(),g=this._scaleModel._scale.niceMax(),m=0,v=c;m<v.length;m++)((L=(S=v[m]).value)<y||L>g)&&(S._visible=!1);for(var w=0,b=0,P=c;b<P.length;b++){var S=P[b],C=this._labelsOverflowSize(e,s,S,c.length,h),V=S._measure(e,C)._size;if(r){var x=V.width*Math.abs(Math.sin(d))+V.height*Math.abs(Math.cos(d));w=Math.max(x+l,w)}else{var D=V.width*Math.abs(Math.cos(d))+V.height*Math.abs(Math.sin(d));w=Math.max(D+l,w)}}for(var O=0,A=c;O<A.length;O++){V=(S=A[O])._textView()._getMeasureInfo()._size;var L=S.value;if(r){var T=this._scaleModel._value(L);if((null==T||isNaN(T))&&(S._visible=!1),o){var M=u+l,E=new t.core.Point(T,M);S._setRotatedRectangle(t._RectangleShape._fromTopConnectingPoint(E,V,d)),S._setTextLocation(E),S._setTextAngle(h),S._layout(e,this._fromTopConnectingPoint(E,V,h),i)}else{M=u-l;var I=new t.core.Point(T,M);S._setRotatedRectangle(t._RectangleShape._fromBottomConnectingPoint(I,V,d)),S._setTextLocation(I),S._setTextAngle(h),S._layout(e,this._fromBottomConnectingPoint(I,V,h),i)}}else{(null==(M=this._scaleModel._value(L))||isNaN(M))&&(S._visible=!1);var B=this._getDefinition()._option.labelAlignment,R=new t.core.Point(0,M);o?B==t.HAlign.Left?R.x=u-w-l:B==t.HAlign.Center?R.x=u-w/2-l:R.x=u-l:B==t.HAlign.Right?R.x=u+w+l:B==t.HAlign.Center?R.x=u+w/2+l:R.x=u+l,S._setTextLocation(R),S._setTextAngle(h),B==t.HAlign.Left?(S._setRotatedRectangle(t._RectangleShape._fromLeftConnectingPoint(R,V,d)),S._layout(e,this._fromLeftConnectingPoint(R,V,h),i)):B==t.HAlign.Center?(S._setRotatedRectangle(new t._RectangleShape(R.x,R.y,V.width,V.height,d)),S._layout(e,new t.core.Rect(R.x-V.width/2,R.y-V.height/2,V.width,V.height),i)):B==t.HAlign.Right||o?(S._setRotatedRectangle(t._RectangleShape._fromRightConnectingPoint(R,V,d)),S._layout(e,this._fromRightConnectingPoint(R,V,h),i)):(S._setRotatedRectangle(t._RectangleShape._fromLeftConnectingPoint(R,V,d)),S._layout(e,this._fromLeftConnectingPoint(R,V,h),i))}}r?(s.height-=w,o?u+=w+l:u-=w+l):(s.width-=w,o?u-=w+l:u+=w+l)}e.restoreTransform()},i.prototype._layoutContent=function(e,n,i){var o=i._lineCartesianCoordinateSystemContent;if(this._orientation()==t.Orientation.Vertical?this._updateRectangle(new t.core.Rect(n.left,n.top,n.height,n.width)):this._updateRectangle(n.clone()),null!=o){o.width<0&&(o.width=0),o.height<0&&(o.height=0),this._scaleModel._scale._refresh();var r=this._unitLabelView();null!=r&&(r._visible=!0),this._titleView()._visible=!0,this._majorGridLineViews().length=0,this._minorGridLineViews().length=0,this._majorTickViews().length=0,this._minorTickViews().length=0,this._groupGridLineViews().length=0,this._plotRectangle=o,n=this._rectangle().clone();var l=i._otherSideRect;this._layoutLineView(e,n,i),this._layoutTickViews(e,n,i);var a=n;null!=l&&(this._orientation()==t.Orientation.Vertical&&(l=new t.core.Rect(l.left,l.top,l.height,l.width)),a=l),this._layoutLabelViews(e,a,i),this._layoutGroupGridLineViews(e,a,i),this._layoutGroupLabelViews(e,a,i),this._layoutGridLineViews(e,a,i),this._layoutUnitLabelView(e,a,i),this._layoutTitleView(e,n,i),this._overlappingLabels()!=t.OverlappingLabels.Show&&this._overlapAxis(i),this._setMargin()}},i.prototype._getAxisLinePosition=function(e){var n=null;e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._OptionUtility._applyLineStyleOption(e,this._lineStyle());var i=this._position()==t.AxisPosition.Near,o=this._orientation()==t.Orientation.Vertical;return null!=e.strokeWidth&&e.strokeWidth>0&&!t._ColorUtility._isTransparent(e.stroke)&&(n=o?i?this._rectangle().right:this._rectangle().left:i?this._rectangle().top:this._rectangle().bottom),e.restoreTransform(),n},i.prototype._getClipRectangle=function(){return null!=this._lineView&&null!=this._lineView._rectangle()?t._RectangleUtility._unionOfRectangles(this._rectangle(),this._lineView._rectangle()):this._rectangle().clone()},i.prototype._renderContentGroup=function(t,e){this._renderGridLineViews(t,e),this._renderTickViews(t,e),this._renderGroupGridLineViews(t,e),this._renderAxisLine(t,e),this._renderLabelViews(t,e),this._renderUnitLabelView(t,e),this._renderTitleView(t,e)},i.prototype._renderTickViews=function(t,n){this._isEmpty()||e.prototype._renderTickViews.call(this,t,n)},i.prototype._renderAxisLine=function(e,n){n._renderLabel&&this._axisLine()&&this._position()!=t.AxisPosition.None&&null!=this._lineView&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._OptionUtility._applyLineStyleOption(e,this._lineStyle()),e.drawLine(this._lineView._startPoint.x,this._lineView._startPoint.y,this._lineView._endPoint.x,this._lineView._endPoint.y),e.restoreTransform())},i.prototype._renderLabelViews=function(t,n){this._isEmpty()||e.prototype._renderLabelViews.call(this,t,n)},i.prototype._renderGroupGridLineViews=function(e,n){if(!n._renderLabel&&this._position()!=t.AxisPosition.None&&this._labels()!=t.AxisPosition.None){var i=this._groupGridLineViews();if(0!=i.length){e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultGroupGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._groupGridStyle());for(var o=0,r=i;o<r.length;o++){var l=r[o];this._renderGroupGridLine(e,n,l)}e.restoreTransform()}}},i.prototype._renderGroupGridLine=function(e,n,i){this._groupGrid()!=t.TickMark.None&&null!=i._getRotateLine()&&e.drawGroup("gcdv-tick-group",null,null,(function(t){t.drawLine(i._getRotateLine().startPoint.x,i._getRotateLine().startPoint.y,i._getRotateLine().endPoint.x,i._getRotateLine().endPoint.y)}))},i.prototype._setMargin=function(){for(var e=this._rectangle().clone(),n=0,i=this._labelViews();n<i.length;n++){var o=i[n];if(o._isVisible()&&this._labels()!=t.AxisPosition.None){var r=o._getRotatedRectangle(),l=Math.min(r.leftTop.x,r.rightTop.x,r.rightBottom.x,r.leftBottom.x),a=Math.max(r.leftTop.x,r.rightTop.x,r.rightBottom.x,r.leftBottom.x),u=Math.min(r.leftTop.y,r.rightTop.y,r.rightBottom.y,r.leftBottom.y),s=Math.max(r.leftTop.y,r.rightTop.y,r.rightBottom.y,r.leftBottom.y);e=t._RectangleUtility._unionOfRectangles(e,new t.core.Rect(l,u,a-l,s-u))}}return e},i.prototype._getLeftMargin=function(){return this.__leftMargin},i.prototype._setLeftMargin=function(t){null!=t&&(this.__leftMargin=t)},i.prototype._getRightMargin=function(){return this.__rightMargin},i.prototype._setRightMargin=function(t){null!=t&&(this.__rightMargin=t)},i.prototype._getTopMargin=function(){return this.__topMargin},i.prototype._setTopMargin=function(t){null!=t&&(this.__topMargin=t)},i.prototype._getBottomMargin=function(){return this.__bottomMargin},i.prototype._setBottomMargin=function(t){null!=t&&(this.__bottomMargin=t)},i.prototype._plotRect=function(){return this._plotRectangle},i.prototype._getLayoutShapes=function(n){var i=[];return this._position()!=t.AxisPosition.None&&((this._isEmpty()||this._hasOtherSide())&&i.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(this._rectangle())),i.push.apply(i,e.prototype._getLayoutShapes.call(this,n))),i},i.prototype._getLayoutLabelShapes=function(){var n=[];if(this.getLabelPosition()!=t.Position.None){n.push.apply(n,e.prototype._getLayoutLabelShapes.call(this));var i=t._BuildInAxisLabelExpandPolicyBuilderCollection.defaultBuildInAxisLabelExpandPolicyBuilders()._axisLabelExpandPolicy(this,this._definition._option.plugins,this._definition._pluginCollection);if(null!=i){var o=i._expand(this);null!=o&&n.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(o))}}return n},i.prototype._getLayoutLineShapes=function(){var e=[];return this._position()!=t.AxisPosition.None&&(e.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(this._rectangle())),this._titleView()._isVisible()&&e.push(this._titleView()._rotatedRectangle())),e},i.prototype._hasOtherSide=function(){var t=this._getAcutalOrigin(),e=this.getViewPosition(),n=this.getLabelPosition();return null!=this._labels()&&(null==t&&e!=n||null!=t)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=e.prototype._hitTest.call(this,n,i,o);if(null==r){var l=this._rectangle();if(null!=l&&l.contains(n))return r=new t.HitTestResult(n,this,this,t.ElementType.Axis),null==o||null!=o&&o.predicate(r)?r:null}return r},i.prototype._measure=function(e,n){var i=this._orientation()==t.Orientation.Horizontal,o=i?new t.core.Size(n.width,0):new t.core.Size(n.height,0);this._scaleModel._scale._refresh(),this._axisLabelHeightList.splice(0),e.beginTransform(),t._OptionUtility._applyStyleOption(e,this._style()),t._OptionUtility._applyTextStyleOption(e,this._textStyle());var r=this._measureLine(e,n);i?n.height-=r:n.width-=r;var l=this._measureTicks(e,n);i?n.height-=l:n.width-=l;var a=0,u=null;if(this._labels()!=t.AxisPosition.None){var s=0,_=this._labelStyle().padding;this._orientation()==t.Orientation.Vertical?s=null==_?2*this._definition._getDefaultLabelPadding():_.left.value+_.right.value:this._orientation()==t.Orientation.Horizontal&&(s=null==_?2*this._definition._getDefaultLabelPadding():_.top.value+_.bottom.value),u=this._measureLabels(e,n),this._orientation()==t.Orientation.Horizontal?(a+=u.height,u.height+=s):(a+=u.width,u.width+=s),a>0&&(a+=s)}i?n.height-=a:n.width-=a;var p=this._measureGroupLabels(e,n);i?n.height-=p:n.width-=p;var c=this._measureUnitLabel(e,n),h=i?c.height:c.width;i?n.height-=h:n.width-=h;var f=this._measureTitle(e,n);this._axisLabelHeightList.push(a),e.restoreTransform();var d=i?f.height:f.width;if(this._isEmpty()){var y=h+d;o.height=r+(y>this._emptyAxisHeight?y:this._emptyAxisHeight)}else o.height=r+l+a+p+h+d;var g=a+p+h,m=o.height-g;return new t._AxisViewMetricsResult(this._position()==t.AxisPosition.None?new t.core.Size(0,0):o,new t.core.Size(o.width,m),new t.core.Size(o.width,g),u,f)},i}(t._BaseAxisView);t._BaseLineAxisView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createIdentityContent=function(){if(t._isCartesianCoordinateSystemView(this._ownerView)){var n=this._ownerView._getHorizontalAxisViews().indexOf(this).toString();return t._Util.HashCode("horizontal"+n)}return e.prototype._createIdentityContent.call(this)},i.prototype._createGridLineView=function(e,n,i,o){return new t._VerticalLineGridLineView(this,e,n,i,o)},i.prototype._shape=function(){var e=this._rectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},i.prototype._layoutLineView=function(n,i,o){if(e.prototype._layoutLineView.call(this,n,i,o),null!=this._lineView){var r=this._lineView._getWidth();i.height-=r,this._position()==t.AxisPosition.Near&&(i.top+=r)}},i.prototype._layoutTickViews=function(n,i,o){e.prototype._layoutTickViews.call(this,n,i,o);var r=this._measureTicks(n,i.size);i.height-=r,this._position()==t.AxisPosition.Near&&(i.top+=r)},i.prototype._layoutLabelViews=function(n,i,o){e.prototype._layoutLabelViews.call(this,n,i,o);var r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);var l=this._axisLabelHeightList[this._axisLabelHeightList.length-1];i.height-=l,r&&(i.top+=l)},i.prototype._layoutGroupLabelViews=function(n,i,o){e.prototype._layoutGroupLabelViews.call(this,n,i,o);var r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);for(var l=0,a=0;a<this._axisLabelHeightList.length-1;++a)l+=this._axisLabelHeightList[a];i.height-=l,r&&(i.top+=l)},i.prototype._layoutUnitLabelView=function(e,n,i){var o=this._unitLabelView();if(null!=o){var r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);var l=n.clone(),a=o._measure(e,l.size)._size;r||(l.top=n.bottom-a.height),l.height=a.height,o._layout(e,i,l),n.height-=a.height,r&&(n.top+=a.height)}},i.prototype._createCategoryValueViews=function(e){var n=[],i=this._plotRect();if(null==i)return n;var o=e.niceMax()-e.niceMin();if(o<=0){if(!(e._dataTicks().length>0))return n;o=e._dataTicks().length}for(var r=i.top,l=i.height,a=function(a){var s=e.value(a);if(null==s||isNaN(s))return"continue";var _=i.width/o,p=s-_/2,c=u._itemValue(a),h=[],f=u._getCoordinateSystemView()._getPlotViews();if(null!=f&&f.length>0)for(var d=0,y=f;d<y.length;d++)y[d]._traversePointView((function(t,e){var n=t._data();t._getPlotView()._getXValue(n)==a&&h.push(t)}),null);p<u._rectangle().left&&(_-=u._rectangle().left-p,p=u._rectangle().left);var g=u._rectangle().left+u._rectangle().width;p+_>g&&(_=g-p);var m=new t._RectangleShape(p+_/2,r+l/2,_,l,0),v=new t.models._HorizontalCartesianCategoryValueView(c,u,h,m,s);v._setTick(a),n.push(v)},u=this,s=0,_=e._dataTicks();s<_.length;s++)a(_[s]);return n},i.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel,n=this._plotRect().top,i=this._plotRect().width/this.___categoryValueViews.length,o=this._plotRect().height,r=0,l=this.___categoryValueViews;r<l.length;r++){var a=l[r],u=e._value(a._getTick());if(null!=u&&!isNaN(u)){var s=u-i/2,_=new t._RectangleShape(s+i/2,n+o/2,i,o,0);a._layout(_)}}},i.prototype._setMargin=function(){var t=e.prototype._setMargin.call(this);return t.left<this._rectangle().left&&this._setLeftMargin(this._rectangle().left-t.left),t.right>this._rectangle().right&&this._setRightMargin(t.right-this._rectangle().right),t},i.prototype._getClipRectangle=function(){var n=e.prototype._getClipRectangle.call(this),i=this._getAcutalOrigin(),o=this.getViewPosition(),r=this.getLabelPosition();if(null!=i&&(null==this._labels()||this._labels()!=t.AxisPosition.None)||o!=r){for(var l=0,a=this._labelViews();l<a.length;l++){var u=a[l];if(u._isVisible()&&this._labels()!=t.AxisPosition.None){var s=u._getRotatedRectangle(),_=Math.min(s.leftTop.x,s.rightTop.x,s.rightBottom.x,s.leftBottom.x),p=Math.max(s.leftTop.x,s.rightTop.x,s.rightBottom.x,s.leftBottom.x),c=Math.min(s.leftTop.y,s.rightTop.y,s.rightBottom.y,s.leftBottom.y),h=Math.max(s.leftTop.y,s.rightTop.y,s.rightBottom.y,s.leftBottom.y);n=t._RectangleUtility._unionOfRectangles(n,new t.core.Rect(_,c,p-_,h-c))}}var f=this._unitLabelView();if(null!=f&&f._isVisible()){var d=f._getOption().textStyle.padding,y=(s=f._getRotatedRectangle(),_=Math.min(s.leftTop.x,s.rightTop.x,s.rightBottom.x,s.leftBottom.x),p=Math.max(s.leftTop.x,s.rightTop.x,s.rightBottom.x,s.leftBottom.x),Math.min(s.leftTop.y,s.rightTop.y,s.rightBottom.y,s.leftBottom.y)),g=(h=Math.max(s.leftTop.y,s.rightTop.y,s.rightBottom.y,s.leftBottom.y),new t.core.Rect(_,y,p-_,h-y));this._orientation()==t.Orientation.Vertical?(g.left-=null==d?0:d.left.value,g.width+=null==d?0:d.left.value+d.right.value):this._orientation()==t.Orientation.Horizontal&&(g.top-=null==d?0:d.top.value,g.height+=null==d?0:d.top.value+d.bottom.value),n=t._RectangleUtility._unionOfRectangles(n,new t.core.Rect(_,y,p-_,h-y))}}return n.left-=this._getLeftMargin(),n.width+=this._getLeftMargin()+this._getRightMargin(),n},i}(t._BaseLineAxisView);t._HorizontalLineAxisView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createIdentityContent=function(){if(t._isCartesianCoordinateSystemView(this._ownerView)){var n=this._ownerView._getVerticalAxisViews().indexOf(this).toString();return t._Util.HashCode("vertical"+n)}return e.prototype._createIdentityContent.call(this)},i.prototype._createGridLineView=function(e,n,i,o){return new t._HorizontalLineGridLineView(this,e,n,i,o)},i.prototype._shape=function(){var e=this._rectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},i.prototype._layoutLineView=function(n,i,o){if(e.prototype._layoutLineView.call(this,n,i,o),null!=this._lineView){var r=this._lineView._getWidth();i.width-=r,this._position()==t.AxisPosition.Far&&(i.left+=r)}},i.prototype._layoutTickViews=function(n,i,o){e.prototype._layoutTickViews.call(this,n,i,o);var r=this._measureTicks(n,i.size);i.width-=r,this._position()==t.AxisPosition.Far&&(i.left+=r)},i.prototype._layoutLabelViews=function(n,i,o){e.prototype._layoutLabelViews.call(this,n,i,o);var r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);var l=this._axisLabelHeightList[this._axisLabelHeightList.length-1];i.width-=l,r||(i.left+=l)},i.prototype._layoutGroupLabelViews=function(n,i,o){e.prototype._layoutGroupLabelViews.call(this,n,i,o);var r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);for(var l=0,a=0;a<this._axisLabelHeightList.length-1;++a)l+=this._axisLabelHeightList[a];i.width-=l,r||(i.left+=l)},i.prototype._layoutUnitLabelView=function(e,n,i){var o=this._unitLabelView();if(null!=o){var r=this._position()==t.AxisPosition.Near;this._labels()==t.AxisPosition.Far&&(r=!1);var l=n.clone(),a=o._measure(e,l.size)._size;r&&(l.left=l.right-a.width),l.width=a.width,o._layout(e,i,l),n.width-=a.width,r||(n.left+=a.width)}},i.prototype._setMargin=function(){var t=e.prototype._setMargin.call(this);return t.top<this._rectangle().top&&this._setTopMargin(this._rectangle().top-t.top),t.bottom>this._rectangle().bottom&&this._setBottomMargin(t.bottom-this._rectangle().bottom),t},i.prototype._createCategoryValueViews=function(e){var n=[],i=this._plotRect();if(null==i)return n;var o=e.niceMax()-e.niceMin();if(o<=0){if(!(e._dataTicks().length>0))return n;o=e._dataTicks().length}for(var r=i.left,l=i.width,a=function(a){var s=e.value(a);if(null==s||isNaN(s))return"continue";var _=i.height/o,p=s-_/2,c=u._itemValue(a),h=[],f=u._getCoordinateSystemView()._getPlotViews();if(null!=f&&f.length>0)for(var d=0,y=f;d<y.length;d++)y[d]._traversePointView((function(t,e){var n=t._data();t._getPlotView()._getXValue(n)==a&&h.push(t)}),null);p<u._rectangle().top&&(_-=u._rectangle().top-p,p=u._rectangle().top);var g=u._rectangle().top+u._rectangle().height;p+_>g&&(_=g-p);var m=new t._RectangleShape(r+l/2,p+_/2,l,_,0),v=new t.models._VerticalCartesianCategoryValueView(c,u,h,m,e.value(a));v._setTick(a),n.push(v)},u=this,s=0,_=e._dataTicks();s<_.length;s++)a(_[s]);return n},i.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel,n=this._plotRect().left,i=this._plotRect().width,o=this._plotRect().height/this.___categoryValueViews.length,r=0,l=this.___categoryValueViews;r<l.length;r++){var a=l[r],u=e._value(a._getTick());if(null!=u&&!isNaN(u)){var s=u-o/2,_=new t._RectangleShape(n+i/2,s+o/2,i,o,0);a._layout(_)}}},i.prototype._getClipRectangle=function(){var n=e.prototype._getClipRectangle.call(this),i=this._getAcutalOrigin(),o=this.getViewPosition(),r=this.getLabelPosition();if(null!=i&&(null==this._labels()||this._labels()!=t.AxisPosition.None)||o!=r){for(var l=0,a=this._labelViews();l<a.length;l++){var u=a[l];if(u._isVisible()&&this._labels()!=t.AxisPosition.None){var s=u._getRotatedRectangle(),_=Math.min(s.leftTop.x,s.rightTop.x,s.rightBottom.x,s.leftBottom.x),p=Math.max(s.leftTop.x,s.rightTop.x,s.rightBottom.x,s.leftBottom.x),c=Math.min(s.leftTop.y,s.rightTop.y,s.rightBottom.y,s.leftBottom.y),h=Math.max(s.leftTop.y,s.rightTop.y,s.rightBottom.y,s.leftBottom.y);n=t._RectangleUtility._unionOfRectangles(n,new t.core.Rect(_,c,p-_,h-c))}}var f=this._unitLabelView();if(null!=f&&f._isVisible()){var d=f._getOption().textStyle.padding,y=(s=f._getRotatedRectangle(),_=Math.min(s.leftTop.x,s.rightTop.x,s.rightBottom.x,s.leftBottom.x),p=Math.max(s.leftTop.x,s.rightTop.x,s.rightBottom.x,s.leftBottom.x),Math.min(s.leftTop.y,s.rightTop.y,s.rightBottom.y,s.leftBottom.y)),g=(h=Math.max(s.leftTop.y,s.rightTop.y,s.rightBottom.y,s.leftBottom.y),new t.core.Rect(_,y,p-_,h-y));this._orientation()==t.Orientation.Vertical?(g.left-=null==d?0:d.left.value,g.width+=null==d?0:d.left.value+d.right.value):this._orientation()==t.Orientation.Horizontal&&(g.top-=null==d?0:d.top.value,g.height+=null==d?0:d.top.value+d.bottom.value),n=t._RectangleUtility._unionOfRectangles(n,new t.core.Rect(_,y,p-_,h-y))}}return n.top-=this._getTopMargin(),n.height+=this._getTopMargin()+this._getBottomMargin(),n},i}(t._BaseLineAxisView);t._VerticalLineAxisView=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._drawView=function(t,e){t.beginTransform(),t.restoreTransform()},e}(t._BaseAxisLineView);t._LineAxisLineView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,n,i)||this;return l.__startPoint=o,l.__endPoint=r,l}return n(i,e),i.prototype._unvisualizeGridline=function(e){var n=this.orientation==t.Orientation.Horizontal?this.__startPoint.x:this.__startPoint.y;-1!=e.indexOf(n)&&(this._visible=!1)},i.prototype._shape=function(){return new t._PolylineShape([this.__startPoint,this.__endPoint],this._width)},i.prototype._hitTestShape=function(){var e=this._width<t._BaseGridLineView._GridlineHittestSpace?t._BaseGridLineView._GridlineHittestSpace:this._width;return new t._RectangleShape((this.__startPoint.x+this.__endPoint.x)/2,(this.__startPoint.y+this.__endPoint.y)/2,Math.abs(this.__startPoint.x-this.__endPoint.x),e,0)},i.prototype._drawView=function(e,n){var i,o=this;e.beginTransform(),this.isMajor?(t._StyleUtility._applyStyle(e,this._defaultMajorGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._majorGridStyle()),i=t._CssClassName._gridLineMajor):(t._StyleUtility._applyStyle(e,this._defaultMinorGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._minorGridStyle()),i=t._CssClassName._gridLineMinor),e.drawGroup(i,null,null,(function(t){t.drawLine(o.__startPoint.x,o.__startPoint.y,o.__endPoint.x,o.__endPoint.y)})),e.restoreTransform()},i}(t._BaseGridLineView);t._HorizontalLineGridLineView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,n,i)||this;return l.__startPoint=o,l.__endPoint=r,l}return n(i,e),i.prototype._unvisualizeGridline=function(e){var n=this.orientation==t.Orientation.Horizontal?this.__startPoint.x:this.__startPoint.y;-1!=e.indexOf(n)&&(this._visible=!1)},i.prototype._shape=function(){return new t._PolylineShape([this.__startPoint,this.__endPoint],this._width)},i.prototype._hitTestShape=function(){var e=this._width<t._BaseGridLineView._GridlineHittestSpace?t._BaseGridLineView._GridlineHittestSpace:this._width;return new t._RectangleShape((this.__startPoint.x+this.__endPoint.x)/2,(this.__startPoint.y+this.__endPoint.y)/2,e,Math.abs(this.__startPoint.y-this.__endPoint.y),0)},i.prototype._drawView=function(e,n){var i,o=this;e.beginTransform(),this.isMajor?(t._StyleUtility._applyStyle(e,this._defaultMajorGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._majorGridStyle()),i=t._CssClassName._gridLineMajor):(t._StyleUtility._applyStyle(e,this._defaultMinorGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._minorGridStyle()),i=t._CssClassName._gridLineMinor),e.drawGroup(i,null,null,(function(t){t.drawLine(o.__startPoint.x,o.__startPoint.y,o.__endPoint.x,o.__endPoint.y)})),e.restoreTransform()},i}(t._BaseGridLineView);t._VerticalLineGridLineView=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.__rotateLine=n,i}return n(e,t),e.prototype._getRotateLine=function(){return this.__rotateLine},e.prototype._drawView=function(t,e){null!=this._getRotateLine()&&t.drawLine(this._getRotateLine().startPoint.x,this._getRotateLine().startPoint.y,this._getRotateLine().endPoint.x,this._getRotateLine().endPoint.y)},e}(t._BaseView);t._AxisGroupGridLineView=e}(t||(t={})),t||(t={}),function(t){t._isLineAxisView=function(t){var e=t;return null!=e&&"function"==typeof e._getSuggestHeight&&"function"==typeof e._getForceHeight&&"function"==typeof e._getSuggestWidth&&"function"==typeof e._getForceWidth&&"function"==typeof e._getTitleHeight&&"function"==typeof e._measureMaxLabelSize&&"function"==typeof e.getViewPosition&&"function"==typeof e.getLabelPosition&&"function"==typeof e._isLabelViewsOverlapped&&"function"==typeof e._getLayoutCount&&"function"==typeof e._autoChangeAngle&&"function"==typeof e._getAxisLinePosition&&"function"==typeof e._setLeftMargin&&"function"==typeof e._setRightMargin&&"function"==typeof e._setTopMargin&&"function"==typeof e._setBottomMargin&&"function"==typeof e._plotRect}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i,o,r){void 0===r&&(r=null);var l=e.call(this,t,n,o,r)||this;return l.tick=i,l}return n(i,e),i.prototype._isVisible=function(){return null!=this._label&&""!=this._label||(this._visible=!1),e.prototype._isVisible.call(this)},Object.defineProperty(i.prototype,"label",{get:function(){var e=this._getAxisView();if(e._getScaleType()===t.ValueScaleType.Ordinal&&this._isTickHasValue(this.tick,e)){var n=e._getDefinition()._option.labelTemplate;null!=n&&null==this.__labelByTemplate&&(this.__labelByTemplate=this._generateLabelByTemplate(n),this._label=this.__labelByTemplate)}return this._label},enumerable:!1,configurable:!0}),i.prototype._isTickHasValue=function(t,e){for(var n=e._getDimensions(),i=n.length-1;i>=0;i--)for(var o=0,r=n[i]._dimensionValues();o<r.length;o++)if(r[o]._value()===t)return!0;return!1},i.prototype._createIdentityContent=function(){for(var e=this._getAxisView(),n=null,i=function(e){if(t._isCategoryDimension(e)){var i=e;if(t._isMultiDataFieldsDimension(e)){var r=[];t._TreeNodeUtility._traverseDFS(i._dimensionValueGroups(),(function(t,e){0==t.children.length&&r.push(t)})),n=r[o.tick-t._CategoryDataFieldDimension.__ORDINALDIMENSION_INDEXBASE__]}}},o=this,r=0,l=e._getDimensions();r<l.length;r++)i(l[r]);for(var a="";null!=n;)a+=n.key+"-",n=n.parent;return t._Util.HashCode(a+this.value+this.label)},i.prototype._generateLabelByTemplate=function(e){var n=t._TemplateSyntaxEngine._defaultSyntaxEngine(),i=n.parse(e),o=this._textProxy(),r=this._getAxisView()._getCoordinateSystemView()._getDefinition()._pluginCollection;return n.evaluate(i,o,null,r)},i.prototype._textProxy=function(){return null==this.__textProxy&&(this.__textProxy=new t._AxisTickLabelViewTextProxy(this)),this.__textProxy},i}(t._BaseAxisLabelView);t._LineAxisLabelView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,null==o?null:i)||this;return r.__group=o,r}return n(i,e),i.prototype._createIdentityContent=function(){for(var e=this.__group,n="";null!=e;)n+=e.key+"-",e=e.parent;return t._Util.HashCode(n+this.label)},i.prototype._group=function(){return this.__group},i.prototype.relatedModels=function(){for(var e=[],n=this._group()._dataSlices,i=0,o=this._getAxisView()._getCoordinateSystemView()._getPlotViews();i<o.length;i++)o[i]._traversePointView((function(i,o){t._DataSlicesUtility._includes(n,i._data()._dataSlices)&&e.push(i)}),null);return e},i}(t._BaseAxisLabelView);t._LineAxisGroupLabelView=e}(t||(t={})),function(t){t._isLineAxisLabelView=function(t){return null!=t&&void 0!==t.tick}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuilders=function(){return null==i.__builders&&(i.__builders=new i([],i._pluginType)),i.__builders},i.prototype._convert=function(e){return t._isTickLabelLayoutPolicyBuilder(e)?e:null},i.prototype._tickLabelLayoutPolicy=function(e,n,i){for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o],a=l.item._buildTickLabelLayoutPolicy(e,l.option);if(null!=a)return a}return new t._DefaultTickLabelLayoutPolicy},i._pluginType="TickLabelLayout",i}(t._BuildInObjectCollection);t._BuildInTickLabelLayoutPolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._calculateMaxLabelSize=function(e,n,i,o,r){for(var l=this._getPadding(e),a=this._isHorizontal(e)?l.top+l.bottom:l.left+l.right,u=e._getCorrectAngle(),s=null==u?0:u,_=new t.core.Size(0,0),p=0,c=n;p<c.length;p++){var h=c[p],f=null;h._setAutoOverflow(e._autoOverflow),h._textOverflow()!=t.TextOverflow.Clip&&null==(f=this._labelsOverflowSize(e,i,o,r,h,n.length,s))&&((f=r.clone()).height-=a);var d=h._measure(o,f)._size;_.width<d.width&&(_.width=d.width),_.height<d.height&&(_.height=d.height)}return _},e.prototype._calculateLabelSize=function(e,n,i,o,r){var l=e._majorTickLabelViews();if(-1==l.indexOf(n))return new t.core.Size(0,0);o.beginTransform(),t._OptionUtility._applyTextStyleOption(o,e._getDefinition()._option.textStyle),t._OptionUtility._applyTextStyleOption(o,e._getDefinition()._option.labelStyle);var a=null,u=e._getCorrectAngle(),s=null==u?0:u;n._setAutoOverflow(e._autoOverflow),n._textOverflow()!=t.TextOverflow.Clip&&(a=this._labelsOverflowSize(e,i,o,r,n,l.length,s));var _=n._measure(o,a)._size;return o.restoreTransform(),_},e.prototype._measure=function(e,n,i,o,r){o.beginTransform(),t._OptionUtility._applyTextStyleOption(o,e._getDefinition()._option.labelStyle),this._isHorizontal(e)||(r=new t.core.Size(r.height,r.width));var l=this._calculateMaxLabelSize(e,n,i,o,r),a=e._getCorrectAngle(),u=l.width,s=l.height;if(0!=a){var _=a*Math.PI/180;s=l.width*Math.abs(Math.sin(_))+l.height*Math.abs(Math.cos(_)),u=l.width*Math.abs(Math.cos(_))+l.height*Math.abs(Math.sin(_))}var p=new t.core.Size(u,s);return o.restoreTransform(),p},e.prototype._layout=function(e,n,i,o,r,l){o.beginTransform(),t._OptionUtility._applyTextStyleOption(o,e._getDefinition()._option.textStyle),t._OptionUtility._applyTextStyleOption(o,e._getDefinition()._option.labelStyle);for(var a=e._getCorrectAngle(),u=null==a?0:a,s=this._isHorizontal(e),_=this._getPadding(e),p=this._isNear(e),c=0,h=0,f=0,d=n;f<d.length;f++){var y=d[f];if(e._labels()!=t.AxisPosition.None){y._setAutoOverflow(e._autoOverflow);var g=this._labelsOverflowSize(e,i,o,r.size,y,n.length,u);y._measure(o,g);var m=y._textView()._getMeasureInfo()._size;c=Math.max(m.width,c),h=Math.max(m.height,h)}}var v=t._Util.degree2Rad(u);c=c*Math.cos(Math.abs(v))+h*Math.sin(Math.abs(v));for(var w=0,b=n;w<b.length;w++){y=b[w];var P=e._labels()!=t.AxisPosition.None?y._textView()._getMeasureInfo()._size:new t.core.Size(0,0),S=y.tick;if(s){var C=e._scaleModel._value(S);if(null==C||isNaN(C)){y._visible=!1;continue}var V=new t.core.Point(C,0);p?(V.y=r.top+_.top,y._setRotatedRectangle(t._RectangleShape._fromTopConnectingPoint(V,P,v)),y._setTextLocation(V),y._setTextAngle(u),y._layout(o,this._fromTopConnectingPoint(V,P,u),l)):(V.y=r.bottom-_.bottom,y._setRotatedRectangle(t._RectangleShape._fromBottomConnectingPoint(V,P,v)),y._setTextLocation(V),y._setTextAngle(u),y._layout(o,this._fromBottomConnectingPoint(V,P,u),l))}else{var x=e._scaleModel._value(S);if(null==x||isNaN(x)){y._visible=!1;continue}var D=p?new t.core.Rect(r.right-_.right-c,r.top,c,r.height):new t.core.Rect(r.left+_.left,r.top,c,r.height),O=e._getDefinition()._option.labelAlignment,A=new t.core.Point(0,x);O==t.HAlign.Left?(A.x=D.left,y._setRotatedRectangle(t._RectangleShape._fromLeftConnectingPoint(A.clone(),P,v)),y._setTextLocation(A.clone()),y._setTextAngle(u),y._layout(o,this._fromLeftConnectingPoint(A.clone(),P,u),l)):O==t.HAlign.Center?(A.x=D.center.x,y._setRotatedRectangle(new t._RectangleShape(A.x,A.y,P.width,P.height,v)),y._setTextLocation(A.clone()),y._setTextAngle(u),y._layout(o,new t.core.Rect(A.x-P.width/2,A.y-P.height/2,P.width,P.height),l)):O==t.HAlign.Right||p?(A.x=D.right,y._setRotatedRectangle(t._RectangleShape._fromRightConnectingPoint(A.clone(),P,v)),y._setTextLocation(A.clone()),y._setTextAngle(u),y._layout(o,this._fromRightConnectingPoint(A.clone(),P,u),l)):(A.x=D.left,y._setRotatedRectangle(t._RectangleShape._fromLeftConnectingPoint(A.clone(),P,v)),y._setTextLocation(A.clone()),y._setTextAngle(u),y._layout(o,this._fromLeftConnectingPoint(A.clone(),P,u),l))}}o.restoreTransform()},e.prototype._isNear=function(e){return e._labels()!=t.AxisPosition.Far&&e._position()==t.AxisPosition.Near},e.prototype._isHorizontal=function(e){return e._getDefinition()._orientation==t.Orientation.Horizontal},e.prototype._getPadding=function(e){var n=e._getDefinition()._option.labelStyle.padding;if(null==n){var i=e._getDefinition()._getDefaultLabelPadding();return new t._Margin(i,i,i,i)}var o=0,r=0,l=0,a=0;return null!=n.left&&(o=n.left.value),null!=n.top&&(r=n.top.value),null!=n.right&&(l=n.right.value),null!=n.bottom&&(a=n.bottom.value),new t._Margin(o,r,l,a)},e.prototype._getLabelSuggestedSize=function(e,n,i,o,r){var l=n.clone(),a=0,u=0;this._isHorizontal(e)?(a=n.width/o,u=n.height):(a=n.height,u=n.width/o);var s=180*Math.acos(i.height/a)/Math.PI;if(0==r)l=new t.core.Size(a,u);else if(r>=90||r<=-90)l=new t.core.Size(u,a);else if(isNaN(s))l=new t.core.Size(u,a);else if(Math.abs(s)>=Math.abs(r)){var _=u;l=new t.core.Size(_,a)}else l=new t.core.Size(u,a);return l},e.prototype._fromLeftConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x,e.y-n.height/2,n.width,n.height):i>0?i>=90?this._fromBottomConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y-n.height,n.width,n.height):i<=-90?this._fromTopConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y,n.width,n.height)},e.prototype._fromRightConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x-n.width,e.y-n.height/2,n.width,n.height):i>0?i>=90?this._fromTopConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y,n.width,n.height):i<=-90?this._fromBottomConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y-n.height,n.width,n.height)},e.prototype._fromTopConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x-n.width/2,e.y,n.width,n.height):i>0?i>=90?this._fromLeftConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y,n.width,n.height):i<=-90?this._fromRightConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y,n.width,n.height)},e.prototype._fromBottomConnectingPoint=function(e,n,i){return Math.abs(i)<t._Constants.Precision?new t.core.Rect(e.x-n.width/2,e.y-n.height,n.width,n.height):i>0?i>=90?this._fromRightConnectingPoint(e,n,0):new t.core.Rect(e.x-n.width,e.y-n.height,n.width,n.height):i<=-90?this._fromLeftConnectingPoint(e,n,0):new t.core.Rect(e.x,e.y-n.height,n.width,n.height)},e.prototype._labelsOverflowSize=function(e,n,i,o,r,l,a){var u=this._getPadding(e),s=this._isHorizontal(e),_=s?u.top+u.bottom:u.left+u.right,p=null;if(r._textOverflow()!=t.TextOverflow.Clip){var c=r._measure(i,null)._size,h=s?o.clone():new t.core.Size(o.height,o.width);h.height-=_,p=this._getLabelSuggestedSize(e,h,c,l,a),r._textOverflow()==t.TextOverflow.Wrap&&(r._canLabelWrap(n,i,p)||(p=null))}return p},e}();t._DefaultTickLabelLayoutPolicy=e}(t||(t={})),t||(t={}),function(t){t._isTickLabelLayoutPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildTickLabelLayoutPolicy}}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e}(t._BaseAxisTickView);t._LineAxisTickView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._initTextPadding=function(){if(null==this._axisView()._getDefinition()._option.titleStyle.padding)this._setTextPadding(new t.options._PaddingOption({left:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:0}),right:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:0}),top:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:this._axisView()._getDefinition()._getDefaultTitlePadding()}),bottom:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:this._axisView()._getDefinition()._getDefaultTitlePadding()})}));else{var e=this._axisView()._getDefinition()._orientation==t.Orientation.Horizontal,n=this._axisView().position==t.AxisPosition.Near,i=this._axisView()._getDefinition()._option.titleStyle.padding;e?this._setTextPadding(i):n?this._setTextPadding(new t.options._PaddingOption({left:i.bottom,right:i.top,top:i.left,bottom:i.right})):this._setTextPadding(new t.options._PaddingOption({left:i.top,right:i.bottom,top:i.right,bottom:i.left}))}},i.prototype._layout=function(n,i,o){if(i.height<=0||i.width<=0)this._visible=!1;else if(this._axisView().position!=t.AxisPosition.None)if(null!=this._cachedMetricsResultWithSuggestedSize){var r=this._axisView()._getDefinition()._orientation==t.Orientation.Horizontal,l=this._axisView().position==t.AxisPosition.Near,a=this._textView()._getMeasureInfo()._size,u=this._cachedMetricsResultWithSuggestedSize._size;if(r){var s=new t.core.Size(u.width,Math.max(a.height,u.height)),_=i.left+(i.width-s.width)/2,p=i.top;l?i.height>s.height&&(p=i.bottom-s.height):i.height<s.height&&(p=i.bottom-s.height),e.prototype._layout.call(this,n,new t.core.Rect(_,p,s.width,s.height),o)}else{s=new t.core.Size(u.height,Math.max(a.height,u.width));var c=i.left+s.height/2,h=i.top+i.height/2;l?i.width<s.height&&(c=i.right-s.height/2):i.width>s.height&&(c=i.right-s.height/2);var f=new t.core.Point(c,h);this._setTextLocation(f),e.prototype._layout.call(this,n,new t.core.Rect(c-s.width/2,h-s.height/2,s.width,s.height),o)}}else this._visible=!1;else this._visible=!1},i}(t._BaseAxisTitleView);t._LineAxisTitleView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i)||this;return o.__radiusOffset=0,o._axisLabelHeight=0,o._axisSize=0,o.__startAngle=0,o.__sweep=t._Utility._PI2,o.__innerRadius=0,o}return n(i,e),i.prototype._getStartAngleDegree=function(){return 180*this.__startAngle/Math.PI},i.prototype._setStartAngleDegree=function(t){this.__startAngle=t*Math.PI/180},i.prototype._startAngle=function(){return this.__startAngle+3*Math.PI/2},i.prototype._getOriginAngle=function(){return this.__originAngle},i.prototype._setOriginAngle=function(t){this.__originAngle=t},i.prototype._getOriginRadius=function(){return this.__originRadius},i.prototype._setOriginRadius=function(t){this.__originRadius=t},i.prototype._getScaleReversed=function(){return this._definition._option.reversed},i.prototype._shape=function(){var e=this._startAngle(),n=(1-this._innerRadius)*this._radius,i=this._getAxisHeight(),o=this._cx+Math.cos(e)*(this._radius-n/2)+Math.sin(e)*i/2,r=this._cy+Math.sin(e)*(this._radius-n/2)-Math.cos(e)*i/2;return new t._RectangleShape(o,r,n,i,e)},i.prototype._getAxisHeight=function(){var t=this._getCorrectAngle(),e=Math.PI+(isNaN(t)?0:t*Math.PI/180),n=this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),i=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),o=this._labelStyle().padding,r=null==o?this._definition._getDefaultLabelPadding():o.top.value;return this._annoSize.width*Math.abs(Math.sin(e))+this._annoSize.height*Math.abs(Math.cos(e))+(Math.max(n,i)+r)},Object.defineProperty(i.prototype,"_cx",{get:function(){return this.__cx},set:function(t){this.__cx=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_cy",{get:function(){return this.__cy},set:function(t){this.__cy=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_innerRadius",{get:function(){return this.__innerRadius},set:function(t){this.__innerRadius=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_radius",{get:function(){return this.__radius},set:function(t){this.__radius=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_sweep",{get:function(){return this.__sweep},set:function(t){this.__sweep=t},enumerable:!1,configurable:!0}),i.prototype._createTitleView=function(){return new t._RadialAxisTitleView(this)},i.prototype._createAxisTickLabelView=function(e,n,i){return this._orientation()==t.Orientation.Horizontal?new t._RadialAxisLabelView(this,e,n,i):new t._LineAxisLabelView(this,e,n,i)},i.prototype._getRadiusOffset=function(){return this.__radiusOffset},i.prototype._setRadiusOffset=function(t){this.__radiusOffset=t},i.prototype._overlapAxis=function(e){for(var n=this._labelViews(),i=n.length,o=0;o<i;++o){var r=n[o];if(null!=r&&r._isVisible())for(var l=o+1;l<i;++l){var a=n[l];if(null==a||!t._ShapeUtil._whetherIntersect(r._getRotatedRectangle(),a._getRotatedRectangle()))break;a._visible=!1}}if(i>=2&&t._ShapeUtil._whetherIntersect(n[0]._getRotatedRectangle(),n[i-1]._getRotatedRectangle())&&(n[i-1]._visible=!1),e._checkOverlap){for(e._tmpAxisLabels=[],o=0;o<n.length;++o){var u=n[o];null!=u&&u._isVisible()&&null!=u._getRotatedRectangle()&&(this._checkOverlap(e,u._getRotatedRectangle(),this._overlappingLabels())?u._visible=!1:e._tmpAxisLabels.push(u._getRotatedRectangle()))}for(var s=0,_=e._tmpAxisLabels;s<_.length;s++){var p=_[s];e._axisLabels.push(p)}e._tmpAxisLabels=[]}},i.prototype._getAxisLineWidth=function(){if(this._definition._option.axisLine){var t=this._definition._option.lineStyle.strokeWidth;if(null!=t&&!isNaN(t)&&t>1)return t}return 0},i.prototype._measure=function(e,n){this._scaleModel._scale._refresh(),e.beginTransform(),t._OptionUtility._applyStyleOption(e,this._style()),t._OptionUtility._applyTextStyleOption(e,this._textStyle()),e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._labelStyle());var i=this._getCorrectAngle(),o=new t.core.Size(0,0),r=this._calculateMaxLabelSize(e);if(this._labels()!=t.AxisPosition.None){var l=r.height;if(null!=i&&0!=i){var a=i*Math.PI/180,u=r.width,s=r.height;l=u*Math.abs(Math.sin(a))+s*Math.abs(Math.cos(a))}o.height+=l,this._axisLabelHeight=l}else this._axisLabelHeight=0;o.height+=this._getAxisLineWidth();var _=Math.max(this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()));o.height+=_,this._axisLabelHeight+=_,e.restoreTransform(),e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._titleStyle());var p=this._titleView()._measure(e,n)._size;o.height+=p.height,e.restoreTransform();var c=this._labelStyle().padding,h=null==c?2*this._definition._getDefaultLabelPadding():c.top.value+c.bottom.value;return this._labels()!=t.AxisPosition.None&&0!=this._axisLabelHeight&&(o.height+=h,this._axisLabelHeight+=h),e.restoreTransform(),this._annoSize=r,new t._AxisViewMetricsResult(this._position()==t.AxisPosition.None?new t.core.Size(0,0):o)},i.prototype._measureMaxLabelSize=function(e){e.beginTransform(),t._OptionUtility._applyStyleOption(e,this._definition._option.style),t._OptionUtility._applyTextStyleOption(e,this._textStyle()),t._OptionUtility._applyTextStyleOption(e,this._labelStyle());var n=this._calculateMaxLabelSize(e);return e.restoreTransform(),n},i.prototype._layoutContent=function(e,n,i){this._updateRectangle(n),this._titleView()._visible=!0,this._majorGridLineViews().length=0,this._minorGridLineViews().length=0,this._majorTickViews().length=0,this._minorTickViews().length=0,this._scaleModel._scale._refresh(),this._layoutLabelViews(e,n,i),this._layoutTickViews(e,n,i),this._layoutGridLineViews(e,n,i),this._layoutTitleView(e,n,i),this._overlappingLabels()!=t.OverlappingLabels.Show&&this._overlapAxis(i)},i.prototype._layoutLabelViews=function(e,n,i){var o=this;e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._textStyle()),t._OptionUtility._applyTextStyleOption(e,this._labelStyle());var r=this._majorTickLabelViews(),l=this._startAngle();null!=this._getOriginAngle()&&(l=this._getOriginAngle());var a=this._getCorrectAngle(),u=this._position()==t.AxisPosition.Near,s=this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),_=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),p=Math.max(s,_),c=this._labelStyle().padding,h=this._getAxisLineWidth(),f=this._orientation()==t.Orientation.Horizontal,d=u?this._radius:this._innerRadius*this._radius;null!=this._getOriginRadius()&&(d=this._getOriginRadius());var y=u?d+h:d-h;y<0&&(y=0);for(var g=function(n){var r=n._measure(e,null)._size;m._labels()==t.AxisPosition.None&&(r.width=0,r.height=0);var s=n.tick;if(f){var _=null==s?null:m._scaleModel._value(s+m._getRadiusOffset());if(null==_||isNaN(_))return n._visible=!1,"continue";var d=Math.cos(l)*_+m._cx,g=Math.sin(l)*_+m._cy,v=null==c?m._definition._getDefaultLabelPadding():c.top.value,w=Math.PI+(isNaN(a)?0:t._Util.degree2Rad(a)),b=r.width/2*Math.abs(Math.sin(w))+r.height/2*Math.abs(Math.cos(w)),P=d+Math.sin(l)*(p+v+b+h)*(u?1:-1),S=g-Math.cos(l)*(p+v+b+h)*(u?1:-1),C=t._Util.rad2Degree(l)+(isNaN(a)?-90:a);n._setRotatedRectangle(new t._RectangleShape(P,S,r.width,r.height,t._Util.degree2Rad(C)));var V=new t.core.Point(P,S);n._setTextAngle(C),n._setTextLocation(V),n._layout(e,new t.core.Rect(P-r.width/2,S-r.height/2,r.width,r.height),i)}else{var x=m._scaleModel._value(s);if(null==x||isNaN(x))return n._visible=!1,"continue";v=null==c?m._definition._getDefaultLabelPadding():c.bottom.value,P=m._cx+Math.cos(x)*(y+p+v),S=m._cy+Math.sin(x)*(y+p+v),u||(P=m._cx+Math.cos(x)*(y-p-v),S=m._cy+Math.sin(x)*(y-p-v));var D=new t._RectangleShape(P,S,r.width,r.height,a*Math.PI/180),O=[D.leftTop,D.rightTop,D.rightBottom,D.leftBottom],A=O.map((function(e){return o._getProjectivePoint(e,t._Utility._toFixed(Math.tan(x%t._Utility._PI2),2,!1),o._cx,o._cy)})).map((function(t){return o._getDistance(t,o._cx,o._cy)})),L=Math.min.apply(Math,A),T=A.indexOf(L),M=A.lastIndexOf(L);u?(P+=P-(T==M?O[T].x:(O[T].x+O[M].x)/2),S+=S-(T==M?O[T].y:(O[T].y+O[M].y)/2)):(P-=P-(T==M?O[T].x:(O[T].x+O[M].x)/2),S-=S-(T==M?O[T].y:(O[T].y+O[M].y)/2)),n._setRotatedRectangle(new t._RectangleShape(P,S,r.width,r.height,a*Math.PI/180));var E=new t.core.Point(P,S);n._setTextAngle(a),n._setTextLocation(E),n._layout(e,new t.core.Rect(P-r.width/2,S-r.height/2,r.width,r.height),i)}},m=this,v=0,w=r;v<w.length;v++)g(w[v]);e.restoreTransform()},i.prototype._layoutTickViews=function(t,e,n){this._layoutMajorTickViews(),this._layoutMinorTickViews()},i.prototype._layoutMajorTickViews=function(){for(var e=this._position()==t.AxisPosition.Near,n=this._calStartAngle(),i=this._orientation()==t.Orientation.Horizontal,o=this._majorTickSize(),r=this._getTickHeightBelowAxis(this._majorTicks(),this._majorTickSize()),l=this._calAxisLineWidth(this._majorTicks()),a=this._calTickAxisRadius(l),u=this._scaleModel._scale._getMajorTicks(),s=this._getRadiusOffset(),_=this._radius,p=this._cx,c=this._cy,h=0,f=u;h<f.length;h++){var d=f[h],y=this._scaleModel._value(d+(i?s:0));if(null!=y&&!isNaN(y)){var g=this._createRotateLine(i,y,p,c,_,n,o,r,l,a,e);if(null!=g){var m=this._createTickView(d,g);this._majorTickViews().push(m)}}}},i.prototype._layoutMinorTickViews=function(){for(var e=this._position()==t.AxisPosition.Near,n=this._calStartAngle(),i=this._orientation()==t.Orientation.Horizontal,o=this._minorTickSize(),r=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),l=this._calAxisLineWidth(this._minorTicks()),a=this._calTickAxisRadius(l),u=this._scaleModel._scale._getMajorTicks(),s=this._scaleModel._scale._getMinorTicks(),_=this._getRadiusOffset(),p=this._radius,c=this._cx,h=this._cy,f=0,d=s;f<d.length;f++){var y=d[f];if(!(u.indexOf(y)>=0)){var g=this._scaleModel._value(y+(i?_:0));if(null!=g&&!isNaN(g)){var m=this._createRotateLine(i,g,c,h,p,n,o,r,l,a,e);if(null!=m){var v=this._createTickView(y,m);this._minorTickViews().push(v)}}}}},i.prototype._createRotateLine=function(e,n,i,o,r,l,a,u,s,_,p){if(e){if(n<0&&Math.abs(n)>t._Constants.Precision)return null;if(n-r>t._Constants.Precision)return null;var c=Math.cos(l)*n+i+Math.sin(l)*s*(p?1:-1),h=Math.sin(l)*n+o-Math.cos(l)*s*(p?1:-1);return p?new t._RotatedLine(c,h,a-u,u,l):new t._RotatedLine(c,h,u,a-u,l)}var f=n,d=i+Math.cos(f)*_,y=o+Math.sin(f)*_;return p?new t._RotatedLine(d,y,u,a-u,f-Math.PI/2):new t._RotatedLine(d,y,a-u,u,f-Math.PI/2)},i.prototype._calTickAxisRadius=function(e){var n=this._position()==t.AxisPosition.Near,i=n?this._radius:this._innerRadius*this._radius;return null!=this._getOriginRadius()&&(i=this._getOriginRadius()),n?i+e:i-e},i.prototype._calAxisLineWidth=function(e){var n=this._getAxisLineWidth();return e===t.TickMark.Cross?n/=2:e===t.TickMark.Inside&&(n=0),n},i.prototype._calStartAngle=function(){var t=this._startAngle();return null!=this._getOriginAngle()&&(t=this._getOriginAngle()),t},i.prototype._layoutGridLineViews=function(t,e,n){this._layoutMajorGridLineViews(),this._layoutMinorGridLineViews()},i.prototype._layoutMajorGridLineViews=function(){var e=this._startAngle();null!=this._getOriginAngle()&&(e=this._getOriginAngle());var n=this._orientation()==t.Orientation.Horizontal;if(this._majorGrid())for(var i=this._scaleModel._scale._getMajorTicks(),o=this._getRadiusOffset(),r=this._radius,l=this._innerRadius,a=this._cx,u=this._cy,s=this._sweep,_=0,p=i;_<p.length;_++){var c=p[_],h=this._scaleModel._value(c+(n?o:0));if(null!=h&&!isNaN(h))if(n){var f=h;if(f<0&&Math.abs(f)>t._Constants.Precision)continue;if(f-r>t._Constants.Precision)continue;var d=Math.cos(e)*f+a,y=Math.sin(e)*f+u,g=Math.sqrt(Math.pow(d-a,2)+Math.pow(y-u,2)),m=isNaN(s)?2*Math.PI:s,v=new t._CircleGridLineView(this,c,!0,new t.core.Point(a,u),g,e,m);this._majorGridLineViews().push(v)}else{var w=h,b=a-Math.sin(w-Math.PI/2)*r,P=u+Math.cos(w-Math.PI/2)*r,S=a-Math.sin(w-Math.PI/2)*l*r,C=u+Math.cos(w-Math.PI/2)*l*r,V=w-Math.PI/2;v=new t._RadialGridLineView(this,c,!0,new t.core.Point(S,C),new t.core.Point(b,P),V),this._majorGridLineViews().push(v)}}},i.prototype._layoutMinorGridLineViews=function(){var e=this._startAngle();null!=this._getOriginAngle()&&(e=this._getOriginAngle());var n=this._orientation()==t.Orientation.Horizontal;if(this._minorGrid())for(var i=this._scaleModel._scale._getMajorTicks(),o=this._scaleModel._scale._getMinorTicks(),r=this._getRadiusOffset(),l=this._radius,a=this._innerRadius,u=this._cx,s=this._cy,_=this._sweep,p=0,c=o;p<c.length;p++){var h=c[p];if(!(i.indexOf(h)>=0)){var f=this._scaleModel._value(h+(n?r:0));if(null!=f&&!isNaN(f))if(n){var d=f;if(d<0&&Math.abs(d)>t._Constants.Precision)continue;if(d-l>t._Constants.Precision)continue;var y=Math.cos(e)*d+u,g=Math.sin(e)*d+s,m=Math.sqrt(Math.pow(y-u,2)+Math.pow(g-s,2)),v=isNaN(_)?2*Math.PI:_,w=new t._CircleGridLineView(this,h,!1,new t.core.Point(u,s),m,e,v);this._minorGridLineViews().push(w)}else{var b=f,P=u-Math.sin(b-Math.PI/2)*l,S=s+Math.cos(b-Math.PI/2)*l,C=u-Math.sin(b-Math.PI/2)*a*l,V=s+Math.cos(b-Math.PI/2)*a*l,x=b-Math.PI/2;w=new t._RadialGridLineView(this,h,!1,new t.core.Point(C,V),new t.core.Point(P,S),x),this._minorGridLineViews().push(w)}}}},i.prototype._layoutTitleView=function(t,e,n){this._titleView()._layout(t,this._rectangle(),n)},i.prototype._getLayoutShapes=function(e){var n=[];if(this._position()!=t.AxisPosition.None){for(var i=0,o=this._labelViews();i<o.length;i++){var r=o[i];r._isVisible()&&n.push(r._getRotatedRectangle())}this._orientation()==t.Orientation.Horizontal&&n.push(this._titleView()._rotatedRectangle())}return n},i.prototype._calculateMaxLabelSize=function(e){e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._textStyle()),t._OptionUtility._applyTextStyleOption(e,this._labelStyle());for(var n=new t.core.Size(0,0),i=0,o=this._scaleModel._scale.ticks();i<o.length;i++){var r=o[i],l=this._itemValue(r),a=t._AxisLabelBuilder.defaultAxisLabelBuilder().buildLabel(l,this,this._getDimensions());if(null!=a){var u=e.measureSingleLineString(a);n.width<u.width&&(n.width=u.width),n.height<u.height&&(n.height=u.height)}}return e.restoreTransform(),n},i.prototype._getProjectivePoint=function(e,n,i,o){var r=new t.core.Point(0,0);return 0==n?(r.x=e.x,r.y=e.y):(r.x=(n*i+e.x/n+e.y-o)/(1/n+n),r.y=-1/n*(r.x-e.x)+e.y),r.x=t._Utility._toFixed(r.x,4,!1),r.y=t._Utility._toFixed(r.y,4,!1),r},i.prototype._getDistance=function(e,n,i){return t._Utility._toFixed(Math.sqrt((e.x-n)*(e.x-n)+(e.y-i)*(e.y-i)),2,!1)},i.prototype._renderContentGroup=function(t,e){this._renderGridLineViews(t,e),this._renderTickViews(t,e),this._renderAxisLine(t,e),this._renderLabelViews(t,e),this._renderTitleView(t,e)},i.prototype._renderAxisLine=function(e,n){if(!n._renderLabel&&this._axisLine()&&this._position()!=t.AxisPosition.None){var i=this._startAngle();e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._titleStyle());var o=this._getAxisLineWidth(),r=this._position()==t.AxisPosition.Near;if(this._orientation()==t.Orientation.Horizontal){null!=this._getOriginAngle()&&(i=this._getOriginAngle());var l=this._cx+(r?1:-1)*Math.sin(i)*o/2+Math.cos(i)*this._radius,a=this._cy-(r?1:-1)*Math.cos(i)*o/2+Math.sin(i)*this._radius,u=this._cx+(r?1:-1)*Math.sin(i)*o/2+Math.cos(i)*this._innerRadius*this._radius,s=this._cy-(r?1:-1)*Math.cos(i)*o/2+Math.sin(i)*this._innerRadius*this._radius;e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._OptionUtility._applyLineStyleOption(e,this._lineStyle()),e.drawLine(u,s,l,a),e.restoreTransform()}else{var _=this._position()===t.AxisPosition.Far?this._radius*this._innerRadius-o/2:this._radius+o/2;_<0&&(_=0),null!=this._getOriginRadius()&&(_=this._getOriginRadius()+o/2),e.beginTransform();var p=e.fill;t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._OptionUtility._applyLineStyleOption(e,this._lineStyle()),t._StyleUtility._applyFill(e,t._CssColor._none()),this._isMirror()?1==this._getIsForwardDirection()?e.drawDonut(this._cx,this._cy,_,_,i,.5*this._sweep,null):e.drawDonut(this._cx,this._cy,_,_,i-.5*this._sweep,.5*this._sweep,null):e.drawDonut(this._cx,this._cy,_,_,i,this._sweep,null),t._StyleUtility._applyFill(e,p),e.restoreTransform()}e.restoreTransform()}},i.prototype._getAnnoNumber=function(t,e,n){var i=t?n.height:n.width,o=e,r=this._getCorrectAngle();if(null!=r&&0!=r){var l=r*Math.PI/180,a=n.width,u=n.height;i=t?a*Math.abs(Math.sin(l))+u*Math.abs(Math.cos(l)):a*Math.abs(Math.cos(l))+u*Math.abs(Math.sin(l))}if(i>0&&o>0){var s=Math.floor(o/(i+6));return s<=0&&(s=1),s}return 10},i}(t._BaseAxisView);t._RadialAxisView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createIdentityContent=function(){if(t._isCartesianCoordinateSystemView(this._ownerView)){var n=this._ownerView._getHorizontalAxisViews().indexOf(this).toString();return t._Util.HashCode("horizontal"+n)}return e.prototype._createIdentityContent.call(this)},i.prototype._createCategoryValueViews=function(e){var n=[],i=this._startAngle(),o=e.niceMax()-e.niceMin();if(o<=0){if(!(e._dataTicks().length>0))return n;o=e._dataTicks().length}for(var r=(this._radius-this._innerRadius*this._radius)/o,l=function(o){var l=e.value(o);if(null==l||isNaN(l))return"continue";var u=l,s=u+r/2>a._radius?a._radius:u+r/2,_=u-r/2>0?u-r/2:0,p=a._itemValue(o),c=[],h=a._getCoordinateSystemView()._getPlotViews();if(null!=h&&h.length>0)for(var f=0,d=h;f<d.length;f++)d[f]._traversePointView((function(t,e){var n=t._data();t._getPlotView()._getXValue(n)==o&&c.push(t)}),null);var y=new t.core.Point(a._cx,a._cy),g=new t._DonutShape(y,s,_,i,a._sweep),m=new t.models._HorizontalRadialCategoryValueView(p,a,c,g,u);m._setTick(o),n.push(m)},a=this,u=0,s=e._dataTicks();u<s.length;u++)l(s[u]);return n},i.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel,n=this._startAngle(),i=(this._radius-this._innerRadius*this._radius)/this.___categoryValueViews.length,o=0,r=this.___categoryValueViews;o<r.length;o++){var l=r[o],a=e._value(l._getTick());if(null!=a&&!isNaN(a)){var u=a,s=u+i/2>this._radius?this._radius:u+i/2,_=u-i/2>0?u-i/2:0,p=new t.core.Point(this._cx,this._cy),c=new t._DonutShape(p,null==s?0:s,null==_?0:_,n,this._sweep);l._layout(c)}}},i}(t._RadialAxisView);t._HorizontalRadialAxisView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createIdentityContent=function(){if(t._isCartesianCoordinateSystemView(this._ownerView)){var n=this._ownerView._getVerticalAxisViews().indexOf(this).toString();return t._Util.HashCode("vertical"+n)}return e.prototype._createIdentityContent.call(this)},i.prototype._shape=function(){var e=1;this._labels()!=t.AxisPosition.None&&(e=Math.max(this._annoSize.width,this._annoSize.height));var n=this._radius,i=this._radius+e;this._position()==t.AxisPosition.Far&&(n=(i=this._innerRadius*this._radius)-e)<0&&(n=0);var o=this._sweep;return new t._DonutShape(new t.core.Point(this._cx,this._cy),i,n,this._startAngle(),o)},i.prototype._createCategoryValueViews=function(e){var n=[],i=e.niceMax()-e.niceMin();if(i<=0){if(!(e._dataTicks().length>0))return n;i=e._dataTicks().length}for(var o=this._sweep/i,r=this._radius,l=this._innerRadius*this._radius,a=function(i){var a=e.value(i);if(null==a||isNaN(a))return"continue";var s=a,_=s-o/2,p=u._itemValue(i),c=[],h=u._getCoordinateSystemView()._getPlotViews();if(null!=h&&h.length>0)for(var f=0,d=h;f<d.length;f++)d[f]._traversePointView((function(t,e){var n=t._data();t._getPlotView()._getXValue(n)==i&&c.push(t)}),null);var y=new t.core.Point(u._cx,u._cy),g=new t._DonutShape(y,r,l,_,o),m=new t.models._VerticalRadialCategoryValueView(p,u,c,g,s);m._setTick(i),n.push(m)},u=this,s=0,_=e._dataTicks();s<_.length;s++)a(_[s]);return n},i.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel,n=this._sweep/this.___categoryValueViews.length,i=this._radius,o=this._innerRadius*this._radius,r=0,l=this.___categoryValueViews;r<l.length;r++){var a=l[r],u=e._value(a._getTick());if(null!=u&&!isNaN(u)){var s=u-n/2,_=new t.core.Point(this._cx,this._cy),p=new t._DonutShape(_,i,o,s,n);a._layout(p)}}},i}(t._RadialAxisView);t._VerticalCircleAxisView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l,a){var u=e.call(this,t,n,i)||this;return u._center=o,u._radius=r,u._startAngle=l,u._sweepAngle=a,u}return n(i,e),i.prototype._unvisualizeGridline=function(t){},i.prototype._shape=function(){return new t._ArcShape(this._center,this._radius,this._radius,this._width,this._startAngle,this._sweepAngle)},i.prototype._hitTestShape=function(){var e=this._width<t._BaseGridLineView._GridlineHittestSpace?t._BaseGridLineView._GridlineHittestSpace:this._width;return new t._DonutShape(this._center,this._radius+e/2,this._radius-e/2,this._startAngle,this._sweepAngle)},i.prototype._drawView=function(e,n){var i,o=this;e.beginTransform(),this.isMajor?(t._StyleUtility._applyStyle(e,this._defaultMajorGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._majorGridStyle()),i=t._CssClassName._gridLineMajor):(t._StyleUtility._applyStyle(e,this._defaultMinorGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._minorGridStyle()),i=t._CssClassName._gridLineMinor),e.drawGroup(i,null,null,(function(e){var n=e.fill;t._StyleUtility._applyFill(e,t._CssColor._none()),e.drawDonut(o._center.x,o._center.y,o._radius,o._radius,o._startAngle,o._sweepAngle,null),t._StyleUtility._applyFill(e,n)})),e.restoreTransform()},i}(t._BaseGridLineView);t._CircleGridLineView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l,a,u){var s=e.call(this,t,n,i,o,r,l,a)||this;return s.__angles=u,s}return n(i,e),i.prototype._points=function(){var e=this.__angles,n=[];if(null!=e)for(var i=this._radius,o=0;o<e.length;++o){var r=e[o],l=Math.cos(r)*i+this._center.x,a=Math.sin(r)*i+this._center.y;n.push(new t.core.Point(l,a))}return n},i.prototype._shape=function(){return new t._PolygonalLineShape(this._center,this._radius,this.__angles,this._width)},i.prototype._hitTestShape=function(){var e=this.__angles,n=[],i=this._width<t._BaseGridLineView._GridlineHittestSpace?t._BaseGridLineView._GridlineHittestSpace:this._width,o=this._radius-i/2,r=this._radius+i/2;if(e.length>2){for(var l=0;l<e.length;++l){var a=e[l],u=Math.cos(a)*r+this._center.x,s=Math.sin(a)*r+this._center.y;n.push(new t.core.Point(u,s))}for(l=e.length-1;l>=0;--l)a=e[l],u=Math.cos(a)*o+this._center.x,s=Math.sin(a)*o+this._center.y,n.push(new t.core.Point(u,s))}return new t._PolygonShape(n)},i.prototype._drawView=function(e,n){var i;e.beginTransform(),this.isMajor?(t._StyleUtility._applyStyle(e,this._defaultMajorGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._majorGridStyle()),i=t._CssClassName._gridLineMajor):(t._StyleUtility._applyStyle(e,this._defaultMinorGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._minorGridStyle()),i=t._CssClassName._gridLineMinor);var o=this._points();e.drawGroup(i,null,null,(function(e){var n=e.fill;t._StyleUtility._applyFill(e,t._CssColor._none()),e.drawLines(o.map((function(t){return t.x})),o.map((function(t){return t.y})),null),t._StyleUtility._applyFill(e,n)})),e.restoreTransform()},i}(t._CircleGridLineView);t._PolygonalGridLineView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l){var a=e.call(this,t,n,i)||this;return a.__startPoint=o,a.__endPoint=r,a.__angle=l,a}return n(i,e),i.prototype._unvisualizeGridline=function(t){},i.prototype._shape=function(){return new t._PolylineShape([this.__startPoint,this.__endPoint],this._width)},i.prototype._hitTestShape=function(){var e=(this.__startPoint.x+this.__endPoint.x)/2,n=(this.__startPoint.y+this.__endPoint.y)/2,i=this.__angle-3*Math.PI/2,o=Math.sqrt(Math.pow(Math.abs(this.__startPoint.x-this.__endPoint.x),2)+Math.pow(Math.abs(this.__startPoint.y-this.__endPoint.y),2)),r=this._width<t._BaseGridLineView._GridlineHittestSpace?t._BaseGridLineView._GridlineHittestSpace:this._width;return new t._RectangleShape(e,n,o,r,i)},i.prototype._drawView=function(e,n){var i,o=this;e.beginTransform(),this.isMajor?(t._StyleUtility._applyStyle(e,this._defaultMajorGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._majorGridStyle()),i=t._CssClassName._gridLineMajor):(t._StyleUtility._applyStyle(e,this._defaultMinorGridStyle()),t._OptionUtility._applyLineStyleOption(e,this._minorGridStyle()),i=t._CssClassName._gridLineMinor),e.drawGroup(i,null,null,(function(t){t.drawLine(o.__startPoint.x,o.__startPoint.y,o.__endPoint.x,o.__endPoint.y)})),e.restoreTransform()},i}(t._BaseGridLineView);t._RadialGridLineView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.tick=i,r}return n(i,e),i.prototype._isVisible=function(){return null!=this._label&&""!=this._label||(this._visible=!1),e.prototype._isVisible.call(this)},Object.defineProperty(i.prototype,"label",{get:function(){var e=this._getAxisView();if(e._getScaleType()===t.ValueScaleType.Ordinal&&this._isTickHasValue(this.tick,e)){var n=e._getDefinition()._option.labelTemplate;null!=n&&null==this.__labelByTemplate&&(this.__labelByTemplate=this._generateLabelByTemplate(n),this._label=this.__labelByTemplate)}return this._label},enumerable:!1,configurable:!0}),i.prototype._isTickHasValue=function(t,e){for(var n=e._getDimensions(),i=n.length-1;i>=0;i--)for(var o=0,r=n[i]._dimensionValues();o<r.length;o++)if(r[o]._value()===t)return!0;return!1},i.prototype._drawView=function(e,n){var i=this._getAxisView(),o=i._startAngle();for(null!=i._getOriginAngle()&&(o=i._getOriginAngle());o<0;)o+=t._Utility._PI2;var r=this._getTextLocation(),l=this._getTextAngle(),a=!1;Math.cos(o)<0&&(a=!0);var u=null;null!=l&&null!=r&&(a?u=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(l)-Math.PI,r):0!=l&&(u=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(l),r))),this._textView()._transform=u,this._textView()._render(e,n),n._axisLabels.push(this._getRotatedRectangle())},i.prototype._generateLabelByTemplate=function(e){var n=t._TemplateSyntaxEngine._defaultSyntaxEngine(),i=n.parse(e),o=this._textProxy(),r=this._getAxisView()._getCoordinateSystemView()._getDefinition()._pluginCollection;return n.evaluate(i,o,null,r)},i.prototype._textProxy=function(){return null==this.__textProxy&&(this.__textProxy=new t._AxisTickLabelViewTextProxy(this)),this.__textProxy},i}(t._BaseAxisLabelView);t._RadialAxisLabelView=e}(t||(t={})),function(t){t._isRadialAxisLabelView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._setOtherAxisView=function(t){this.__otherAxisView=t},i.prototype._getGridlineAngles=function(){return this.__angles(this.__otherAxisView)},i.prototype._shape=function(){if(this._orientation()==t.Orientation.Horizontal){var e=this._startAngle(),n=(1-this._innerRadius)*this._radius,i=this._getAxisHeight(),o=this._cx+Math.cos(e)*(this._radius-n/2)+Math.sin(e)*i/2,r=this._cy+Math.sin(e)*(this._radius-n/2)-Math.cos(e)*i/2;return new t._RectangleShape(o,r,n,i,e)}var l=1;this._labels()!=t.AxisPosition.None&&(l=Math.max(this._annoSize.width,this._annoSize.height));var a=this._radius,u=this._radius+l;this._position()==t.AxisPosition.Far&&(a=(u=this._innerRadius*this._radius)-l)<0&&(a=0);var s=[],_=this.__angles(this);if(_.length>2){for(var p=0;p<_.length;++p){var c=_[p],h=Math.cos(c)*u+this._cx,f=Math.sin(c)*u+this._cy;s.push(new t.core.Point(h,f))}for(p=_.length-1;p>=0;--p)c=_[p],h=Math.cos(c)*a+this._cx,f=Math.sin(c)*a+this._cy,s.push(new t.core.Point(h,f))}return new t._PolygonShape(s)},i.prototype.__angles=function(t){var e=t._scaleModel._ticks();if(e.length<=0)return[];var n=[];if(t._scaleModel._minimum!=e[0]){var i=t._scaleModel._value(t._scaleModel._minimum);n.push(i)}for(var o=0;o<e.length;++o)i=t._scaleModel._value(e[o]),isNaN(i)||null==i||n.push(i);return t._scaleModel._maximum!=e[e.length-1]&&(i=t._scaleModel._value(t._scaleModel._maximum),n.push(i)),n},i.prototype._getCross=function(e,n,i,o){var r=(n.y-e.y)*(o.x-i.x)-(e.x-n.x)*(i.y-o.y);if(0==r)return null;var l=((n.x-e.x)*(o.x-i.x)*(i.y-e.y)+(n.y-e.y)*(o.x-i.x)*e.x-(o.y-i.y)*(n.x-e.x)*i.x)/r,a=-((n.y-e.y)*(o.y-i.y)*(i.x-e.x)+(n.x-e.x)*(o.y-i.y)*e.y-(o.x-i.x)*(n.y-e.y)*i.y)/r;return new t.core.Point(l,a)},i.prototype._layoutMinorTickViews=function(){for(var e=this._position()==t.AxisPosition.Near,n=this._calStartAngle(),i=this._orientation()==t.Orientation.Horizontal,o=this._minorTickSize(),r=this._getTickHeightBelowAxis(this._minorTicks(),this._minorTickSize()),l=this._calAxisLineWidth(this._minorTicks()),a=this._calTickAxisRadius(l),u=this._scaleModel._scale._getMajorTicks(),s=this._scaleModel._scale._getMinorTicks(),_=this._getRadiusOffset(),p=this._radius,c=this._cx,h=this._cy,f=0;f<s.length;++f){var d=s[f];if(!(u.indexOf(d)>=0)){var y=this._scaleModel._value(d+(i?_:0));if(null!=y&&!isNaN(y)){var g=this._createRotateLineForMinorTick(i,y,c,h,p,n,o,r,l,a,u,s,f,e);if(null!=g){var m=this._createTickView(d,g);this._minorTickViews().push(m)}}}}},i.prototype._createRotateLineForMinorTick=function(e,n,i,o,r,l,a,u,s,_,p,c,h,f){if(e){if(n<0&&Math.abs(n)>t._Constants.Precision)return null;if(n-r>t._Constants.Precision)return null;var d=Math.cos(l)*n+i+Math.sin(l)*s*(f?1:-1),y=Math.sin(l)*n+o-Math.cos(l)*s*(f?1:-1);return f?new t._RotatedLine(d,y,a-u,u,l):new t._RotatedLine(d,y,u,a-u,l)}for(var g=h>0?h-1:0,m=h<c.length-1?h+1:c.length-1;g>0&&p.indexOf(c[g])<0;)--g;for(;m<c.length&&p.indexOf(c[m])<0;)++m;var v=null,w=null;g>=0&&g<c.length&&(v=c[g]),m>=0&&m<c.length&&(w=c[m]);var b=this._scaleModel._value(v),P=this._scaleModel._value(w),S=new t.core.Point(i+Math.cos(b)*_,o+Math.sin(b)*_),C=new t.core.Point(i+Math.cos(P)*_,o+Math.sin(P)*_),V=n,x=i+Math.cos(V)*_,D=o+Math.sin(V)*_,O=S.equalsWith(C)?S:this._getCross(S,C,new t.core.Point(x,D),new t.core.Point(i,o));return null!=O?f?new t._RotatedLine(O.x,O.y,u,a-u,V-Math.PI/2):new t._RotatedLine(O.x,O.y,a-u,u,V-Math.PI/2):null},i.prototype._layoutMajorGridLineViews=function(){var e=this._startAngle();null!=this._getOriginAngle()&&(e=this._getOriginAngle());var n=this._orientation()==t.Orientation.Horizontal;if(this._majorGrid())for(var i=this._scaleModel._scale._getMajorTicks(),o=this._getRadiusOffset(),r=this._radius,l=this._innerRadius,a=this._cx,u=this._cy,s=this._sweep,_=0,p=i;_<p.length;_++){var c=p[_],h=this._scaleModel._value(c+(n?o:0));if(null!=h&&!isNaN(h))if(n){var f=h;if(f<0&&Math.abs(f)>t._Constants.Precision)continue;if(f-r>t._Constants.Precision)continue;var d=Math.cos(e)*f+a,y=Math.sin(e)*f+u,g=Math.sqrt(Math.pow(d-a,2)+Math.pow(y-u,2)),m=isNaN(s)?2*Math.PI:s,v=this._getGridlineAngles(),w=new t._PolygonalGridLineView(this,c,!0,new t.core.Point(a,u),g,e,m,v);this._majorGridLineViews().push(w)}else{var b=h,P=a-Math.sin(b-Math.PI/2)*r,S=u+Math.cos(b-Math.PI/2)*r,C=a-Math.sin(b-Math.PI/2)*l*r,V=u+Math.cos(b-Math.PI/2)*l*r,x=b-Math.PI/2;w=new t._RadialGridLineView(this,c,!0,new t.core.Point(P,S),new t.core.Point(C,V),x),this._majorGridLineViews().push(w)}}},i.prototype._layoutMinorGridLineViews=function(){var e=this._startAngle();null!=this._getOriginAngle()&&(e=this._getOriginAngle());var n=this._orientation()==t.Orientation.Horizontal;if(this._minorGrid())for(var i=this._scaleModel._scale._getMajorTicks(),o=this._scaleModel._scale._getMinorTicks(),r=this._getRadiusOffset(),l=this._radius,a=this._innerRadius,u=this._cx,s=this._cy,_=this._sweep,p=0;p<o.length;++p){var c=o[p];if(!(i.indexOf(c)>=0)){var h=this._scaleModel._value(c+(n?r:0));if(null!=h&&!isNaN(h))if(n){var f=h;if(f<0&&Math.abs(f)>t._Constants.Precision)continue;if(f-l>t._Constants.Precision)continue;var d=Math.cos(e)*f+u,y=Math.sin(e)*f+s,g=Math.sqrt(Math.pow(d-u,2)+Math.pow(y-s,2)),m=isNaN(_)?2*Math.PI:_,v=this._getGridlineAngles(),w=new t._PolygonalGridLineView(this,c,!1,new t.core.Point(u,s),g,e,m,v);this._minorGridLineViews().push(w)}else{for(var b=p>0?p-1:0,P=p<o.length-1?p+1:o.length-1;b>0&&i.indexOf(o[b])<0;)--b;for(;P<o.length&&i.indexOf(o[P])<0;)++P;var S=o[b],C=o[P],V=h,x=this._scaleModel._value(S),D=this._scaleModel._value(C),O=u+Math.cos(V)*l,A=s+Math.sin(V)*l,L=new t.core.Point(u+Math.cos(x)*l,s+Math.sin(x)*l),T=new t.core.Point(u+Math.cos(D)*l,s+Math.sin(D)*l),M=new t.core.Point(u+Math.cos(x)*a*l,s+Math.sin(x)*a*l),E=new t.core.Point(u+Math.cos(D)*a*l,s+Math.sin(D)*a*l),I=new t.core.Point(O,A),B=L.equalsWith(T)?L:this._getCross(L,T,I,new t.core.Point(u,s)),R=M.equalsWith(E)?M:this._getCross(M,E,I,new t.core.Point(u,s));w=new t._RadialGridLineView(this,c,!1,B,R,V),this._minorGridLineViews().push(w)}}}},i.prototype._renderAxisLine=function(e,n){if(!n._renderLabel&&this._axisLine()&&this._position()!=t.AxisPosition.None){var i=this._startAngle();e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._definition._option.titleStyle);var o=this._getAxisLineWidth();if(this._orientation()==t.Orientation.Horizontal){null!=this._getOriginAngle()&&(i=this._getOriginAngle());var r=this._cx+Math.sin(i)*o/2+Math.cos(i)*this._radius,l=this._cy-Math.cos(i)*o/2+Math.sin(i)*this._radius,a=this._cx+Math.sin(i)*o/2+Math.cos(i)*this._innerRadius*this._radius,u=this._cy-Math.cos(i)*o/2+Math.sin(i)*this._innerRadius*this._radius;e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._OptionUtility._applyLineStyleOption(e,this._lineStyle()),e.drawLine(a,u,r,l),e.restoreTransform()}else{e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._OptionUtility._applyLineStyleOption(e,this._lineStyle());var s=this._position()===t.AxisPosition.Far?this._radius*this._innerRadius-o/2:this._radius+o/2;s<0&&(s=0),null!=this._getOriginRadius()&&(s=this._getOriginRadius()+o/2);var _=this.__angles(this),p=new t._Polyline([],[]);if(null!=_)for(var c=0;c<_.length;++c){var h=_[c],f=Math.cos(h)*s+this._cx,d=Math.sin(h)*s+this._cy;p._xs.push(f),p._ys.push(d)}var y=e.fill;t._StyleUtility._applyFill(e,t._CssColor._none()),e.drawLines(p._xs,p._ys,null),t._StyleUtility._applyFill(e,y),e.restoreTransform()}e.restoreTransform()}},i}(t._RadialAxisView);t._PolygonalAxisView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createIdentityContent=function(){if(t._isCartesianCoordinateSystemView(this._ownerView)){var n=this._ownerView._getHorizontalAxisViews().indexOf(this).toString();return t._Util.HashCode("horizontal"+n)}return e.prototype._createIdentityContent.call(this)},i.prototype._createCategoryValueViews=function(e){var n=[],i=this._startAngle(),o=e.niceMax()-e.niceMin();if(o<=0){if(!(e._dataTicks().length>0))return n;o=e._dataTicks().length}for(var r=(this._radius-this._innerRadius*this._radius)/o,l=function(o){var l=e.value(o);if(null==l||isNaN(l))return"continue";var u=l,s=u+r/2>a._radius?a._radius:u+r/2,_=u-r/2>0?u-r/2:0,p=a._itemValue(o),c=[],h=a._getCoordinateSystemView()._getPlotViews();if(null!=h&&h.length>0)for(var f=0,d=h;f<d.length;f++)d[f]._traversePointView((function(t,e){var n=t._data();t._getPlotView()._getXValue(n)==o&&c.push(t)}),null);var y=new t.core.Point(a._cx,a._cy),g=new t._DonutShape(y,s,_,i,a._sweep),m=new t.models._HorizontalRadialCategoryValueView(p,a,c,g,u);m._setTick(o),n.push(m)},a=this,u=0,s=e._dataTicks();u<s.length;u++)l(s[u]);return n},i.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel,n=this._startAngle(),i=(this._radius-this._innerRadius*this._radius)/this.___categoryValueViews.length,o=0,r=this.___categoryValueViews;o<r.length;o++){var l=r[o],a=e._value(l._getTick());if(null!=a&&!isNaN(a)){var u=a,s=u+i/2>this._radius?this._radius:u+i/2,_=u-i/2>0?u-i/2:0,p=new t.core.Point(this._cx,this._cy),c=new t._DonutShape(p,s,_,n,this._sweep);l._layout(c)}}},i}(t._PolygonalAxisView);t._HorizontalPolygonalAxisView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a){var u=t.call(this,e,n,i,o,r)||this;return u.nearbyAngle=l,u.nearbyNextAngle=a,u}return n(e,t),e}(t._RotatedLine);t._PolygonalRotatedLine=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createIdentityContent=function(){if(t._isCartesianCoordinateSystemView(this._ownerView)){var n=this._ownerView._getVerticalAxisViews().indexOf(this).toString();return t._Util.HashCode("vertical"+n)}return e.prototype._createIdentityContent.call(this)},i.prototype._createCategoryValueViews=function(e){var n=[],i=e.niceMax()-e.niceMin();if(i<=0){if(!(e._dataTicks().length>0))return n;i=e._dataTicks().length}for(var o=this._sweep/i,r=this._radius,l=this._innerRadius*this._radius,a=function(i){var a=e.value(i);if(null==a||isNaN(a))return"continue";var s=a-o/2,_=u._itemValue(i),p=[],c=u._getCoordinateSystemView()._getPlotViews();if(null!=c&&c.length>0)for(var h=0,f=c;h<f.length;h++)f[h]._traversePointView((function(t,e){var n=t._data();t._getPlotView()._getXValue(n)==i&&p.push(t)}),null);var d=new t.core.Point(u._cx,u._cy),y=new t._DonutShape(d,r,l,s,o),g=new t.models._VerticalRadialCategoryValueView(_,u,p,y,e.value(i));g._setTick(i),n.push(g)},u=this,s=0,_=e._dataTicks();s<_.length;s++)a(_[s]);return n},i.prototype._layoutCategoryValueView=function(){if(!(null==this.___categoryValueViews||this.___categoryValueViews.length<=0))for(var e=this._scaleModel,n=this._sweep/this.___categoryValueViews.length,i=this._radius,o=this._innerRadius*this._radius,r=0,l=this.___categoryValueViews;r<l.length;r++){var a=l[r],u=e._value(a._getTick());if(null!=u&&!isNaN(u)){var s=u-n/2,_=new t.core.Point(this._cx,this._cy),p=new t._DonutShape(_,i,o,s,n);a._layout(p)}}},i}(t._PolygonalAxisView);t._VerticalPolygonalAxisView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._initTextPadding=function(){if(null==this._axisView()._getDefinition()._option.titleStyle.padding){var e=this._axisView()._getDefinition()._orientation==t.Orientation.Horizontal;this._setTextPadding(new t.options._PaddingOption({left:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:0}),right:new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:0}),top:e?new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:0}):new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:this._axisView()._getDefinition()._getDefaultTitlePadding()}),bottom:e?new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:0}):new t.options._ValueOption({type:t.ValueOptionType.Pixel,value:this._axisView()._getDefinition()._getDefaultTitlePadding()})}))}else this._setTextPadding(this._axisView()._getDefinition()._option.titleStyle.padding)},i.prototype._layout=function(n,i,o){if(i.height<=0||i.width<=0)this._visible=!1;else if(this._axisView().position!=t.AxisPosition.None)if(null!=this._textView()._getMeasureInfo()){var r=this._axisView()._getDefinition()._orientation==t.Orientation.Horizontal,l=this._axisView().position==t.AxisPosition.Near,a=this._textView()._getMeasureInfo()._size;if(r){var u=this._axisView(),s=u._getAxisLineWidth(),_=u._startAngle();null!=u._getOriginAngle()&&(_=u._getOriginAngle());var p=Math.cos(_)*(u._radius+u._innerRadius*u._radius)/2+u._cx+(l?1:-1)*Math.sin(_)*s,c=Math.sin(_)*(u._radius+u._innerRadius*u._radius)/2+u._cy-(l?1:-1)*Math.cos(_)*s,h=u._axisLabelHeight,f=p+(l?1:-1)*(Math.sin(_)*h),d=c-(l?1:-1)*(Math.cos(_)*h),y=f+(l?1:-1)*Math.sin(_)*a.height/2-Math.cos(_)*a.width/2,g=d-(l?1:-1)*Math.cos(_)*a.height/2-Math.sin(_)*a.width/2;this._setTextAngle(t._Util.rad2Degree(_)),this._setTextLocation(new t.core.Point(y,g)),e.prototype._layout.call(this,n,new t.core.Rect(y-a.width/2,g-a.height/2,a.width,a.height),o)}else{var m=i.left+i.width/2-a.width/2,v=i.bottom-a.height;e.prototype._layout.call(this,n,new t.core.Rect(m,v,a.width,a.height),o)}}else this._visible=!1;else this._visible=!1},i.prototype._drawView=function(e,n){var i=this._axisView(),o=i._startAngle();for(null!=i._getOriginAngle()&&(o=i._getOriginAngle());o<0;)o+=t._Utility._PI2;var r=this._getTextLocation(),l=this._getTextAngle(),a=!1;Math.cos(o)<0&&(a=!0);var u=null;null!=l&&null!=r&&(a?u=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(l-180),r):0!=l&&(u=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(l),r))),this._textView()._transform=u,this._textView()._render(e,n)},i}(t._BaseAxisTitleView);t._RadialAxisTitleView=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e}(t._LineAxisTitleView);t._TextAxisTitleView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._majorTicks=function(){return t.TickMark.None},i.prototype._axisLine=function(){return!1},i.prototype._title=function(){var t=this._definition._option;return null!=t.title?t.title:null},i.prototype._createTitleView=function(){return new t._TextAxisTitleView(this)},i.prototype._measureUnitLabel=function(e,n){return new t.core.Size(0,0)},i.prototype._createGridLineView=function(e,n,i,o){return new t._VerticalLineGridLineView(this,e,n,i,o)},i}(t._BaseLineAxisView);t._TextCategoriesLineAxisView=e}(t||(t={})),function(t){var e=function(){function t(){}return t._gridLineMajor="gcdv-gridline-major",t._gridLineMinor="gcdv-gridline-minor",t._connectingLine="gcdv-connecting-line",t._label="gcdv-label",t}();t._CssClassName=e}(t||(t={})),function(t){t._isDisplayablePipeLine=function(t){var e=t;return null!=e&&"function"==typeof e._push&&"function"==typeof e._unshift&&"function"==typeof e._shift&&"function"==typeof e._pop&&"function"==typeof e._delete&&"function"==typeof e._indexOf&&"function"==typeof e._flush&&"function"==typeof e._filter}}(t||(t={})),function(t){t._isFlushable=function(t){var e=t;return null!=e&&void 0!==e.referenceGroupElement&&"function"==typeof e.flush}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.defaultBuildInReferenceLineLabelLayoutInjectors=function(){return null==i.__buildInReferenceLineLabelLayoutInjectors&&(i.__buildInReferenceLineLabelLayoutInjectors=new i([t._DefaultReferenceLineLabelLayoutInjector.defaultInReferenceLineLabelLayoutInjector],i._pluginType)),i.__buildInReferenceLineLabelLayoutInjectors},i.prototype._convert=function(e){return t._isReferenceLineLabelLayoutInjector(e)?e:null},i.prototype.injectReferenceLineLabelLayout=function(t,e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++)o[i].item.inject(t,e)},i._pluginType="ReferenceLineLabelLayout",i}(t._BuildInObjectCollection);t._BuildInReferenceLineLabelLayoutInjectorCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.inject=function(e,n){if(t._isCartesianCircleReferenceLineOverlayItemView(e)){var i=e;e._injectLabelLayouter(new t.models._CircleReferencelineLabelLayouter(i))}else{var o=e._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.axis,r=e._cartesianReferenceLineOverlayView()._getDefinition()._plotConfigOption.axisMode;o!==t.AxisType.Y||r!=t.AxisMode.Polygonal&&r!=t.AxisMode.Radial?e._injectLabelLayouter(new t.models._LineReferenceLineLabelLayout(e)):e._injectLabelLayouter(new t.models._RadialLineReferenceLineLabelLayout(e))}},e.prototype.queryInterface=function(t){return"IReferenceLineLabelLayoutInjector"===t?this:null},e.defaultInReferenceLineLabelLayoutInjector=new e,e}();t._DefaultReferenceLineLabelLayoutInjector=e}(t||(t={})),function(t){t._isReferenceLineLabelLayoutInjector=function(t){return null!=t.inject}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._calculatePosition=function(e,n){if(e==t.TextPosition.Center)return t.Position.None;switch(n){case t.Placement.Top:return t.Position.Top;case t.Placement.Left:return t.Position.Left;case t.Placement.Right:return t.Position.Right;case t.Placement.Bottom:return t.Position.Bottom;default:return t.Position.None}},i.prototype._calculateAutoTextPosition=function(e,n,i,o){var r=this._pointView._rectangle();if(e==t.Position.Top){if(r.top-o-n.height<i.top)return t.TextPosition.Inside}else if(e==t.Position.Bottom){if(r.bottom+o+n.height>i.bottom)return t.TextPosition.Inside}else if(e==t.Position.Left){if(r.left-o-n.width<i.left)return t.TextPosition.Inside}else if(e==t.Position.Right&&r.right+o+n.width>i.right)return t.TextPosition.Inside;return t.TextPosition.Outside},i.prototype._layoutContent=function(e,n,i){var o=this._pointView._getPlotView(),r=this._position(),l=this.__option.placement,a=this._calculatePosition(r,l);n=this._pointView._rectangle();var u=o._getLayoutView()._dataLabelsRectangle(),s=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,_=this.__option.offset,p=n.center.clone(),c=null;r==t.TextPosition.Auto&&(r=this._calculateAutoTextPosition(a,s,o._rectangle(),_)),a==t.Position.Top?(p.y=n.top,c=p.clone(),r==t.TextPosition.Inside?(c.y+=_,c.y+s.height>u.bottom&&(c.y=u.bottom-s.height),this._textView()._layout(e,i,new t.core.Rect(c.x-s.width/2,c.y,s.width,s.height))):(c.y-=_,c.y-s.height<u.top&&(c.y=u.top+s.height),this._textView()._layout(e,i,new t.core.Rect(c.x-s.width/2,c.y-s.height,s.width,s.height)))):a==t.Position.Bottom?(p.y=n.bottom,c=p.clone(),r==t.TextPosition.Inside?(c.y-=_,c.y-s.height<u.top&&(c.y=u.top+s.height),this._textView()._layout(e,i,new t.core.Rect(c.x-s.width/2,c.y-s.height,s.width,s.height))):(c.y+=_,c.y+s.height>u.bottom&&(c.y=u.bottom-s.height),this._textView()._layout(e,i,new t.core.Rect(c.x-s.width/2,c.y,s.width,s.height)))):a==t.Position.Left?(p.x=n.left,c=p.clone(),r==t.TextPosition.Inside?(c.x+=_,c.x+s.width>u.right&&(c.x=u.right-s.width),this._textView()._layout(e,i,new t.core.Rect(c.x,c.y-s.height/2,s.width,s.height))):(c.x-=_,c.x-s.width<u.left&&(c.x=u.left+s.width),this._textView()._layout(e,i,new t.core.Rect(c.x-s.width,c.y-s.height/2,s.width,s.height)))):a==t.Position.Right?(p.x=n.right,c=p.clone(),r==t.TextPosition.Inside?(c.x-=_,c.x-s.width<u.left&&(c.x=u.left+s.width),this._textView()._layout(e,i,new t.core.Rect(c.x-s.width,c.y-s.height/2,s.width,s.height))):(c.x+=_,c.x+s.width>u.right&&(c.x=u.right-s.width),this._textView()._layout(e,i,new t.core.Rect(c.x,c.y-s.height/2,s.width,s.height)))):(c=p.clone()).x+s.width/2>u.right?this._textView()._layout(e,i,new t.core.Rect(u.right-s.width,c.y-s.height/2,s.width,s.height)):c.x-s.width/2<u.left?this._textView()._layout(e,i,new t.core.Rect(u.left,c.y-s.height/2,s.width,s.height)):this._textView()._layout(e,i,new t.core.Rect(c.x-s.width/2,c.y-s.height/2,s.width,s.height)),this._linePosition()==t.LinePosition.Center?this._startPoint=n.center:this._startPoint=p,this._endPoint=c},i}(t._PointDataLabelView);t._XyPointDataLabelView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._layoutContent=function(n,i,o){var r=this.__option.placement;if(r!=t.Placement.Auto)e.prototype._layoutContent.call(this,n,i,o);else{var l=this._position(),a=this._pointView._getPlotView(),u=this._calculatePosition(l,r);i=this._pointView._rectangle();var s=a._getLayoutView()._dataLabelsRectangle(),_=this._measure(n,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,p=this.__option.offset,c=i.center.clone(),h=null;l==t.TextPosition.Auto&&(l=this._calculateAutoTextPosition(u,_,a._rectangle(),p)),u==t.Position.Top?l==t.TextPosition.Inside?(c.y=i.bottom,(h=c.clone()).y+=p,h.y+_.height>s.bottom&&(h.y=s.bottom-_.height),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width/2,h.y,_.width,_.height))):(c.y=i.top,(h=c.clone()).y-=p,h.y-_.height<s.top&&(h.y=s.top+_.height),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width/2,h.y-_.height,_.width,_.height))):u==t.Position.Bottom?l==t.TextPosition.Inside?(c.y=i.top,(h=c.clone()).y-=p,h.y-_.height<s.top&&(h.y=s.top+_.height),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width/2,h.y-_.height,_.width,_.height))):(c.y=i.bottom,(h=c.clone()).y+=p,h.y+_.height>s.bottom&&(h.y=s.bottom-_.height),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width/2,h.y,_.width,_.height))):u==t.Position.Left?l==t.TextPosition.Inside?(c.x=i.right,(h=c.clone()).x+=p,h.x+_.width>s.right&&(h.x=s.right-_.width),this._textView()._layout(n,o,new t.core.Rect(h.x,h.y-_.height/2,_.width,_.height))):(c.x=i.left,(h=c.clone()).x-=p,h.x-_.width<s.left&&(h.x=s.left+_.width),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width,h.y-_.height/2,_.width,_.height))):u==t.Position.Right?l==t.TextPosition.Inside?(c.x=i.left,(h=c.clone()).x-=p,h.x-_.width<s.left&&(h.x=s.left+_.width),this._textView()._layout(n,o,new t.core.Rect(h.x-_.width,h.y-_.height/2,_.width,_.height))):(c.x=i.right,(h=c.clone()).x+=p,h.x+_.width>s.right&&(h.x=s.right-_.width),this._textView()._layout(n,o,new t.core.Rect(h.x,h.y-_.height/2,_.width,_.height))):(h=c.clone()).x+_.width/2>s.right?this._textView()._layout(n,o,new t.core.Rect(s.right-_.width,h.y-_.height/2,_.width,_.height)):h.x-_.width/2<s.left?this._textView()._layout(n,o,new t.core.Rect(s.left,h.y-_.height/2,_.width,_.height)):this._textView()._layout(n,o,new t.core.Rect(h.x-_.width/2,h.y-_.height/2,_.width,_.height)),this._linePosition()==t.LinePosition.Center?this._startPoint=i.center:this._startPoint=c,this._endPoint=h}},i}(t._XyPointDataLabelView);t._XySymbolPointDataLabelView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._defaultStrokeColor=function(){var t=this._ownerView._legendColor;return null==t&&(t=this._pointView._getCartesianSeriesView().color),t},i.prototype._calculatePosition=function(n,i){if(n==t.TextPosition.Center)return t.Position.None;if(i===t.Placement.Auto){var o=this._pointView._getPlotView(),r=this._pointView._isPositive(),l=this._pointView._reversed();return o._swapAxes()?r?l?t.Position.Left:t.Position.Right:l?t.Position.Right:t.Position.Left:r?l?t.Position.Bottom:t.Position.Top:l?t.Position.Top:t.Position.Bottom}return e.prototype._calculatePosition.call(this,n,i)},i}(t._XyPointDataLabelView);t._CartesianPointDataLabelView=e}(t||(t={})),function(t){var e=function(){function t(){}return t.cloneVertex=function(t,e){null!=e._getXs()&&null!=e._getYs()&&(t._setXs(e._getXs().slice()),t._setYs(e._getYs().slice()))},t.cloneBaseInfo=function(t,e){t._visible=e._visible},t}();t.CartesianPointViewClone=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._defaultStrokeColor=function(){var t=this._ownerView._legendColor;return null==t&&(t=this._pointView._getCartesianSeriesView().color),t},i.prototype._calculatePosition=function(n,i){if(n==t.TextPosition.Center)return t.Position.None;if(i===t.Placement.Auto){var o=this._pointView._getPlotView(),r=this._pointView._isPositive(),l=this._pointView._reversed();return o._swapAxes()?r?l?t.Position.Left:t.Position.Right:l?t.Position.Right:t.Position.Left:r?l?t.Position.Bottom:t.Position.Top:l?t.Position.Top:t.Position.Bottom}return e.prototype._calculatePosition.call(this,n,i)},i.prototype._drawView=function(n,i){this._layout(n,null,new t._RenderContext),(null==i._dataLabelClipRectangle||this._isVisible())&&e.prototype._drawView.call(this,n,i)},i}(t._XySymbolPointDataLabelView);t._CartesianSymbolDataLabelView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._cartesianPointView=function(){return this._ownerView},i.prototype._defaultStrokeColor=function(){var t=this._cartesianPointView()._legendColor;return null==t&&(t=this._cartesianPointView()._getCartesianSeriesView().color),t},i.prototype._calculateRadius=function(e,n){return t._isRadialAxisView(e)?e._radius:null},i.prototype._calculateTextAutoPositionBy=function(e,n,i,o,r,l){var a=new t.core.Point(i.x+Math.cos(r)*o,i.y+Math.sin(r)*o);return a.x>i.x?e+=l.width:a.x<i.x&&(e-=l.width),a.y>i.y?n+=l.height:a.y<i.y&&(n-=l.height),(e-i.x)*(e-i.x)+(n-i.y)*(n-i.y)>o*o?t.TextPosition.Inside:t.TextPosition.Outside},i}(t._PointDataLabelView);t._RadialDataLabelView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._layoutContent=function(n,i,o){if(null==i){var r=this._cartesianPointView()._getCartesianSeriesView()._getCartesianGroupView();i=this._cartesianPointView()._rectangle();var l=r._getCartesianPlotView()._getLayoutView()._dataLabelsRectangle(),a=this._measure(n,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,u=this.__option.offset,s=i.center.clone(),_=null,p=this._position();if(p==t.TextPosition.Center)_=s.clone(),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height));else{var c=this._calculateRadialCenter(),h=this._calculateRadialAngle(),f=this._calculateRadius(r._verticalAxisView(),h);p==t.TextPosition.Auto&&(p=this._calcTextAutoPositionBy(p,c,h,f,a,u)),p==t.TextPosition.Inside?(_=new t.core.Point(s.x-Math.cos(h)*u,s.y-Math.sin(h)*u)).x>c.x?_.y>c.y?this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y,a.width,a.height)):this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y-a.height/2,a.width,a.height)):_.x<c.x?_.y>c.y?this._textView()._layout(n,o,new t.core.Rect(_.x,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(n,o,new t.core.Rect(_.x,_.y,a.width,a.height)):this._textView()._layout(n,o,new t.core.Rect(_.x,_.y-a.height/2,a.width,a.height)):_.y>c.y?this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y,a.width,a.height)):this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height)):(_=new t.core.Point(s.x+Math.cos(h)*u,s.y+Math.sin(h)*u)).x>c.x?(_.x+a.width>l.right&&(_.x=l.right-a.width),_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(n,o,new t.core.Rect(_.x,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(n,o,new t.core.Rect(_.x,_.y-a.height,a.width,a.height))):this._textView()._layout(n,o,new t.core.Rect(_.x,_.y-a.height/2,a.width,a.height))):_.x<c.x?(_.x-a.width<l.left&&(_.x=l.left+a.width),_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y-a.height,a.width,a.height))):this._textView()._layout(n,o,new t.core.Rect(_.x-a.width,_.y-a.height/2,a.width,a.height))):_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height,a.width,a.height))):this._textView()._layout(n,o,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height))}this._linePosition()==t.LinePosition.Center?this._startPoint=i.center:this._startPoint=s,this._endPoint=_}else e.prototype._layoutContent.call(this,n,i,o)},i.prototype._calcTextAutoPositionBy=function(e,n,i,o,r,l){if(e!=t.TextPosition.Auto)return e;null==l&&(l=0);var a=this._cartesianPointView()._rectangle().center,u=a.x+Math.cos(i)*l,s=a.y+Math.sin(i)*l;return this._calculateTextAutoPositionBy(u,s,n,o,i,r)},i.prototype._calculateRadialAngle=function(){var t=this._cartesianPointView()._getCartesianSeriesView()._getCartesianGroupView(),e=this._cartesianPointView()._data();if(t._swapAxes())return t._xAxisView()._scaleModel._value(e.xDimensionValue._value());var n=e.queryInterface("INumberStackValue");return null!=n?t._yAxisView()._scaleModel._value(n.value):null},i.prototype._calculateRadialCenter=function(){var e=this._cartesianPointView()._getCartesianSeriesView()._getCartesianGroupView();return new t.core.Point(e._cx(),e._cy())},i}(t._RadialDataLabelView);t._RadialSymbolDataLabelView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._stack=function(e,n,i){for(var o=new t._Map,r=new t._Map,l=0,a=e;l<a.length;l++)for(var u=0,s=a[l]._filterPointViews();u<s.length;u++){var _=s[u]._getCartesianPointDataModel(),p=_.xDimensionValue._value(),c=null,h=_._value(),f=_.queryInterface("INumberValue");if(null!=f){var d=f.value;null==d||d>=0?(null==(c=o._get(p))?o._set(p,d):o._set(p,c+(null==d?0:d)),h=o._get(p)):(null==(c=r._get(p))?r._set(p,d):r._set(p,c+d),h=r._get(p))}var y=_.queryInterface("INumberRangeValue");if(null!=y){var g=y.upper,m=y.lower;(h=(null==g?0:g)-(null==m?0:m))>=0?(null==(c=o._get(p))?o._set(p,h):o._set(p,c+h),null==c&&(c=0),h=o._get(p)):(null==(c=r._get(p))?r._set(p,h):r._set(p,c+h),null==c&&(c=0),h=r._get(p))}_._setDimValue(i,c),_._setDimValue(n,h)}},i.prototype._percentage=function(e,n,i){for(var o=new t._Map,r=new t._Map,l=0,a=e;l<a.length;l++)for(var u=0,s=a[l]._filterPointViews();u<s.length;u++){var _=(v=s[u]._getCartesianPointDataModel()).xDimensionValue._value(),p=[];null!=(S=v.queryInterface("INumberStackValue"))&&(null!=S.previous?p.push(S.previous):p.push(0),p.push(S.value));for(var c=0,h=p;c<h.length;c++){var f=h[c];(null==o._get(_)||o._get(_)<(null==f?0:f))&&o._set(_,f),(null==r._get(_)||r._get(_)>(null==f?0:f))&&r._set(_,f)}}for(var d=0,y=e;d<y.length;d++)for(var g=0,m=y[d]._filterPointViews();g<m.length;g++){_=(v=m[g]._getCartesianPointDataModel()).xDimensionValue._value();var v,w=o._get(_),b=r._get(_),P=(null==w?0:w)-(null==b?0:b);if(0!=P){var S,C=0;f=v._value(),null!=(S=v.queryInterface("INumberStackValue"))&&(null!=S.previous&&(C=S.previous/P,v._setDimValue(i,C)),f=(null==S.value?0:S.value)/P),v._setDimValue(n,f)}}},i.prototype.buildPlotLayout=function(e,n){return t._isBarCartesianPlotView(e)?this:null},i}(t.models._CartesianPlotLayout);t._BarPlotLayout=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.rectAttachmentInfo=function(t){return this._getRectAttachInfoFromPoint(this._pointView())},i.prototype._getRectAttachInfoFromPoint=function(e){var n=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView()),i=n.xDir,o=n.yDir,r=e._boundRectangle();if(null==r)return null;r.width<=0&&(r.width=1e-5),r.height<=0&&(r.height=1e-5);var l=t.AnnotationLib._getRotateRectangleFromRectAndDir(i,o,r);return n=t.AnnotationLib._PointAutoDirectionBuilder(e),l.AutoXDir=n.xDir,l.AutoYDir=n.yDir,l},i}(t._CartesianPointViewRectangleAttachmentAgent);t._BarPointViewRectangleAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._drawView=function(n,i){this._layout(n,null,new t._RenderContext);var o=this._pointView._getCartesianSeriesView()._getCartesianGroupView()._yAxisView(),r=this._pointView._data(),l=!0;if(r instanceof t._XyValuePointDataModel){var a=r._displayValue(),u=o._scaleModel._maximum,s=o._scaleModel._minimum;((null==a?0:a)>(null==u?0:u)||(null==a?0:a)<(null==s?0:s))&&(l=!1)}var _=i._dataLabelClipRectangle,p=this._rotatedRectangle();(null==_||l||_.contains(p.leftTop)||_.contains(p.leftBottom)||_.contains(p.rightTop)||_.contains(p.rightBottom))&&e.prototype._drawView.call(this,n,i)},i}(t._CartesianPointDataLabelView);t._CartesianBarDataLabelView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e}(t._CartesianPointDataLabelView);t._FunnelBarDataLabelView=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.rectAttachmentInfo=function(t){return this._getRectAttachInfoFromPoint(this._pointView())},i.prototype._getRectAttachInfoFromPoint=function(e){var n=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView()),i=n.xDir,o=n.yDir,r=e._boundRectangle();if(null==r)return null;r.width<=0&&(r.width=1e-5),r.height<=0&&(r.height=1e-5);var l=t.AnnotationLib._getRotateRectangleFromRectAndDir(i,o,r);return n=t.AnnotationLib._PointAutoDirectionBuilder(e),l.AutoXDir=n.xDir,l.AutoYDir=n.yDir,l},i}(t._CartesianPointViewRectangleAttachmentAgent);t._FunnelPointViewRectangleAttachmentAgent=e}(t||(t={})),function(t){var e=function(){function e(t,e,n,i,o,r){this.leftTop=t,this.rightTop=e,this.leftNeck=r,this.rightNeck=n,this.leftBottom=o,this.rightBottom=i}return e.prototype.scale=function(n,i){if(isNaN(n)||isNaN(i))return null;var o=new t.core.Point((this.leftTop.x+this.rightTop.x)/2,(this.leftTop.y+this.rightTop.y)/2),r=new t.core.Point((this.leftBottom.x+this.rightBottom.x)/2,(this.leftBottom.y+this.rightBottom.y)/2),l=new t.core.Point((o.x+r.x)/2,(o.y+r.y)/2),a=t.Vector.angle(t.Vector.pointSub(r,o),t.Vector.vertical()),u=new t.Matrix;u.rotate(a),u.scale(n,i),u.rotate(-a);var s=t._MatrixUtility._transformPoint(u,l);u.translate(l.x-s.x,l.y-s.y);var _=t._MatrixUtility._transformPoints(u,this.points);return new e(_[0],_[1],_[2],_[3],_[4],_[5])},e.prototype.topWidth=function(){return t._ShapeUtil.DisPointToPoint(this.leftTop,this.rightTop)},e.prototype.bottomWidth=function(){return t._ShapeUtil.DisPointToPoint(this.leftBottom,this.rightBottom)},Object.defineProperty(e.prototype,"points",{get:function(){return[this.leftTop,this.rightTop,this.rightNeck,this.rightBottom,this.leftBottom,this.leftNeck]},enumerable:!1,configurable:!0}),e.prototype._rectangle=function(){var e=Math.min.apply(Math,this.xs),n=Math.min.apply(Math,this.ys),i=Math.max.apply(Math,this.xs)-e,o=Math.max.apply(Math,this.ys)-n;return new t.core.Rect(e,n,i,o)},Object.defineProperty(e.prototype,"xs",{get:function(){return this.points.map((function(t){return t.x}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ys",{get:function(){return this.points.map((function(t){return t.y}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this._rectangle().center},enumerable:!1,configurable:!0}),e.prototype.contains=function(e){return!!t._Util.IsPointInPolygon2(e,this.xs,this.ys)},e.prototype.equalsWith=function(t){return this===t||this.leftTop.equalsWith(t.leftTop)&&this.rightTop.equalsWith(t.rightTop)&&this.leftNeck.equalsWith(t.leftNeck)&&this.rightNeck.equalsWith(t.rightNeck)&&this.leftBottom.equalsWith(t.leftBottom)&&this.rightBottom.equalsWith(t.rightBottom)},e.prototype.clone=function(){return new e(this.leftTop.clone(),this.rightTop.clone(),this.rightNeck.clone(),this.rightBottom.clone(),this.leftBottom.clone(),this.leftNeck.clone())},e}();t._FunnelPolygon=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o.linePoints=[],o.__rotateAngle=0,o}return n(i,e),i.prototype.getConnectingLineWidth=function(){var t=this.__option.connectingLine;return null!=t&&null!=t.strokeWidth?t.strokeWidth:0},i.prototype._getRotateAngle=function(){return this.__rotateAngle},i.prototype._setRotateAngle=function(t){this.__rotateAngle=t},i.prototype._calcTextAutoPositionBy=function(e,n,i,o,r,l){if(e!=t.TextPosition.Auto)return e;null==l&&(l=0);var a=n.x,u=n.y,s=this._getPointView()._getDonutShape();if(null!=s){var _=s.radius;a=n.x+Math.cos(i)*(_+l),u=n.y+Math.sin(i)*(_+l)}return this._calculateTextAutoPositionBy(a,u,n,o,i,r)},i.prototype.getDefaultLabelRectangle=function(e,n,i,o,r){if(e==t.TextPosition.Center||e==t.TextPosition.Auto){var l=o/2;return new t._RectangleShape(n.x+l*Math.cos(i),n.y+l*Math.sin(i),r.width,r.height,i)}if(e==t.TextPosition.Inside)return this._getDefaultInsideLabelRectangle(n,i,o,r);if(e==t.TextPosition.Outside)return this._getOutsideLabelRectangleByPoint(new t.core.Point(n.x+Math.cos(i)*o,n.y+Math.sin(i)*o),n,r,!0);throw new t.AssertError(t.ErrorCode.UnexpectedValue,e)},i.prototype._getDefaultInsideLabelRectangle=function(e,n,i,o){var r=Math.sin(n),l=Math.cos(n),a=this._getRotateAngle(),u=o.width,s=o.height,_=e.x,p=e.y,c=new t._RectangleShape(0,0,u,s,a),h=c.getBoundRectangle().size,f=h.width/2,d=h.height/2,y=new t.core.Point(_+l*i,p+r*i),g=y.x,m=y.y;return g>_?m>p?new t._RectangleShape(g-f,m-d,u,s,a):m<p?new t._RectangleShape(g-f,m+d,u,s,a):new t._RectangleShape(g-f,m,u,s,a):g<_?m>p?new t._RectangleShape(g+f,m-d,u,s,a):m<p?new t._RectangleShape(g+f,m+d,u,s,a):new t._RectangleShape(g+f,m,u,s,a):m>p?new t._RectangleShape(g,m-d,u,s,a):m<p?new t._RectangleShape(g,m+d,u,s,a):new t._RectangleShape(g,m,u,s,a)},i.prototype._getOutsideLabelRectangleByPoint=function(e,n,i,o){var r=this._getPointView()._getPlotView()._getLayoutView()._dataLabelsRectangle(),l=this._getRotateAngle(),a=i.width,u=i.height,s=n.x,_=n.y,p=new t._RectangleShape(0,0,a,u,l),c=p.getBoundRectangle().size,h=c.width,f=c.height,d=h/2,y=f/2,g=e.x,m=e.y,v=r.right,w=r.left,b=r.top,P=r.bottom;return g>s?(o&&g+h>v&&(g=v-h),m>_?(o&&m+f>P&&(m=P-f),p=new t._RectangleShape(g+d,m+y,a,u,l)):m<_?(o&&m-f<b&&(m=b+f),p=new t._RectangleShape(g+d,m-y,a,u,l)):p=new t._RectangleShape(g+d,m,a,u,l)):g<s?(o&&g-h<w&&(g=w+h),m>_?(o&&m+f>P&&(m=P-f),p=new t._RectangleShape(g-d,m+y,a,u,l)):m<_?(o&&m-f<b&&(m=b+f),p=new t._RectangleShape(g-d,m-y,a,u,l)):p=new t._RectangleShape(g-d,m,a,u,l)):m>_?(o&&m+f>P&&(m=P-f),p=new t._RectangleShape(g,m+y,a,u,l)):m<_?(o&&m-f<b&&(m=b+f),p=new t._RectangleShape(g,m-y,a,u,l)):p=new t._RectangleShape(g,m,a,u,l),o&&(e.x=g,e.y=m),p},i.prototype._renderConnectingLine=function(t,n){if(null!=this.__option.connectingLine){var i=this.linePoints;null!=i&&i.length>1?(t.beginTransform(),this._applyConnectingLineStyle(t),t.drawLines(i.map((function(t){return t.x})),i.map((function(t){return t.y}))),t.restoreTransform()):e.prototype._renderConnectingLine.call(this,t,n)}},i.prototype._layoutContent=function(n,i,o){if(null==i){var r=this._getPointView(),l=r._getCartesianSeriesView()._getCartesianGroupView(),a=r._getDonutShape();if(null!=a){i=r._rectangle();var u=this._measure(n,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,s=this.__option.offset,_=null,p=null,c=this._position(),h=a.center,f=a.startAngle+a.sweepAngle/2;if(c==t.TextPosition.Center){var d=a.innerRadius+(a.radius-a.innerRadius)/2;null!=(_=r._getPointCoordOnDonutShape(f,d))&&(p=_.clone(),this._setTextLocation(new t.core.Point(p.x,p.y)),this._setTextAngle(f),this._textView()._layout(n,o,new t.core.Rect(p.x-u.width/2,p.y-u.height/2,u.width,u.height)))}else if(d=a.radius,_=r._getPointCoordOnDonutShape(f,d),c==t.TextPosition.Auto&&(c=this._calcTextAutoPositionBy(c,h,f,this._calculateRadius(l._verticalAxisView(),f),u,s)),c==t.TextPosition.Inside){null!=s&&(d-=s),p=r._getPointCoordOnDonutShape(f,d);var y=this._getDefaultInsideLabelRectangle(h,f,d,u);this._setTextAngle(y.angle),this._setTextLocation(y.center),this._textView()._layout(n,o,new t.core.Rect(y.center.x-u.width/2,y.center.y-u.height/2,u.width,u.height))}else{null!=s&&(d+=s),p=r._getPointCoordOnDonutShape(f,d);var g=this._getOutsideLabelRectangleByPoint(p,h,u,!0);this._setTextAngle(g.angle),this._setTextLocation(g.center),this._textView()._layout(n,o,new t.core.Rect(g.center.x-u.width/2,g.center.y-u.height/2,u.width,u.height))}this._linePosition()==t.LinePosition.Center?(d=a.innerRadius+(a.radius-a.innerRadius)/2,this._startPoint=r._getPointCoordOnDonutShape(f,d)):this._startPoint=_,this._endPoint=p}}else e.prototype._layoutContent.call(this,n,i,o)},i}(t._RadialDataLabelView);t._RadialBarDataLabelView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._calculateRadius=function(e,n){if(!t._isRadialAxisView(e))return null;var i=e._startAngle(),o=i+e._sweep;if(n<i||n>o)return null;for(var r=e._scaleModel._ticks(),l=0,a=r.length-1,u=0;u<r.length;++u){var s=r[u];if(e._scaleModel._value(s)>n){a=u;break}l=u}var _=e._scaleModel._value(r[l]),p=e._scaleModel._value(r[a]),c=p-_;return Math.cos(c/2)/Math.cos(Math.abs(p-n-c/2))*e._radius},i}(t._RadialBarDataLabelView);t._PolygonalBarDataLabelView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._cluster=function(t,e,n){for(var i=0,o=t;i<o.length;i++)for(var r=null,l=0,a=o[i]._filterPointViews();l<a.length;l++){var u=a[l]._getCartesianPointDataModel(),s=u._value(),_=u.queryInterface("INumberValue");null!=_&&(s=_.value),"Total"==u._getWaterfallPointType()&&(r=null),u._setDimValue(n,r),null==r&&(r=0),r+=null==s?0:s,u._setDimValue(e,r)}},i.prototype._stack=function(e,n,i){var o=new Array(e.length),r=new t._Map;e.forEach((function(t,e){for(var l=0,a=t._filterPointViews();l<a.length;l++){var u=a[l]._getCartesianPointDataModel(),s=u.xDimensionValue._value(),_=u._value(),p=u.queryInterface("INumberValue");null!=p&&(_=p.value),null==o[e]?o[e]=_:o[e]=o[e]+(null==_?0:_);var c=r._get(s);null!=c&&u._setDimValue(i,c),null==c?r._set(s,_):r._set(s,c+(null==_?0:_)),u._setDimValue(n,r._get(s))}}));for(var l=0,a=e;l<a.length;l++)for(var u=0,s=a[l]._filterPointViews();u<s.length;u++){var _=s[u]._getCartesianPointDataModel(),p=_.xDimensionValue._value(),c=_._value(),h=null,f=_.queryInterface("INumberStackValue");null!=f&&(null==(h=f.previous)&&(h=0),c=f.value);var d=0;if(null!=p)for(var y=p-1;y>0;y--){var g=r._get(y);null!=g&&(d+=g)}h=(null==h?0:h)+d,c=(null==c?0:c)+d,_._setDimValue(i,h),_._setDimValue(n,c)}},i.prototype._percentage=function(t,e,n){},i.prototype.buildPlotLayout=function(e,n){return t._isWaterfallPlotView(e)?this:null},i}(t.models._CartesianPlotLayout);t._WaterfallPlotLayout=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._calculateRadius=function(e,n){if(!t._isRadialAxisView(e))return null;var i=e._startAngle(),o=i+e._sweep;if(n<i||n>o)return null;for(var r=e._scaleModel._ticks(),l=0,a=r.length-1,u=0;u<r.length;++u){var s=r[u];if(e._scaleModel._value(s)>n){a=u;break}l=u}var _=e._scaleModel._value(r[l]),p=e._scaleModel._value(r[a]),c=p-_;return Math.cos(c/2)/Math.cos(Math.abs(p-n-c/2))*e._radius},i}(t._RadialSymbolDataLabelView);t._PolygonalSymbolDataLabelView=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){this.__number=t,this.__format=e,this.__stringFormatting=n,this._refresh()}return Object.defineProperty(t.prototype,"number",{get:function(){return this.__number},set:function(t){this.__number=t,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._format=function(){return this.__format},t.prototype._stringFormatting=function(){return this.__stringFormatting},t.prototype._clone=function(){return new t(this.number,this._format(),this.__stringFormatting)},t.prototype._refresh=function(){null!=this.__stringFormatting?this.text=this.__stringFormatting.format(this.__format,this.number):this.text=this.number.toString()},t}();t._TextNumbericContent=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;i._definition=n;for(var o=t._data(),r=0,l=i._getLayoutViews();r<l.length;r++)l[r]._loadDataSlices(o._dataSlices);return i}return n(i,e),i.prototype._plotAreaView=function(){return this._pointView()._getPlotView()._getLayoutView()._getPlotAreaView()},i.prototype._pointView=function(){return this._ownerView},i.prototype._createLayoutViews=function(){for(var t=[],e=0,n=this._definition._layoutDefinitions;e<n.length;e++){var i=n[e],o=this._createLayoutView(this,i);null!=o&&t.push(o)}return t},i.prototype._layoutInnerContent=function(e,n,i){var o=new t._RenderContext;o._headerLabels=[],o._footerLabels=[],o._labels=[],o._axisLabels=[],o._legendsLabels=[];for(var r=0,l=this._getLayoutViews();r<l.length;r++)l[r]._layout(e,n,o);o._footerLabels=[],o._headerLabels=[],o._legendsLabels=[],o._axisLabels=[],o._labels=[]},i.prototype._renderInnerContent=function(e,n,i){var o=new t._RenderContext;o._headerLabels=[],o._footerLabels=[],o._labels=[],o._axisLabels=[],o._legendsLabels=[];for(var r=0,l=this._getLayoutViews();r<l.length;r++)l[r]._render(e,o);o._footerLabels=[],o._headerLabels=[],o._legendsLabels=[],o._axisLabels=[],o._labels=[]},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=null,r=this._getRectangle();if(null!=r&&r.contains(t))for(var l=0,a=this._getLayoutViews().slice().reverse();l<a.length;l++){var u=a[l];if(null!=(o=null!=u?u._hitTest(t,n,i):null))return o}return e.prototype._hitTest.call(this,t,n,i)},i.prototype._getPlotAreaView=function(){return this._ownerView._getPlotView()._getLayoutView()._getPlotAreaView()},i.prototype._id=function(){return this._ownerView._id()},i}(t._BaseLayoutListView);t._PointLayoutListView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.NiceTimeSpan=function(n,i){var o=e.__second;null!=i&&(o=e._manualTimeInc(i));var r=0,l=0;if(o<e.__second&&n.TotalSeconds<10){for(r=n.Ticks,l=e._timeSpanFromTmInc(o).Ticks;r>10*l;)l*=10;var a=l;return r>a&&(a*=2),r>a&&(a=5*l),r>a&&(a=10*l),new t._TimeSpan(a)}if(0==(r=Math.ceil(n.TotalSeconds)))return e._timeSpanFromTmInc(o);if(l=1,o<e.__minute){if(r<e.__minute&&0!=(l=e._getNiceInc([1,2,5,10,15,30],r,o)))return t._TimeSpan.fromSeconds(l);o=e.__minute}if(o<e.__hour){if(r<e.__hour&&0!=(l=e._getNiceInc([1,2,5,10,15,30],r,o)))return t._TimeSpan.fromSeconds(l);o=e.__hour}if(o<e.__day){if(r<e.__day&&0!=(l=e._getNiceInc([1,3,6,12],r,o)))return t._TimeSpan.fromSeconds(l);o=e.__day}if(o<e.__month){if(r<e.__month&&0!=(l=e._getNiceInc([1,2,7,14],r,o)))return t._TimeSpan.fromSeconds(l);o=e.__month}if(o<e.__year){if(r<e.__year&&0!=(l=e._getNiceInc([1,2,3,4,6],r,o)))return t._TimeSpan.fromSeconds(l);o=e.__year}return r<(l=100*e.__year)&&0==(l=e._getNiceInc([1,2,5,10,20,50],r,o))&&(l=100*e.__year),t._TimeSpan.fromSeconds(l)},e._timeSpanFromTmInc=function(n){var i=t._TimeSpan.fromSeconds(1);if(n!=e.__maxTime)if(n>-1)i=t._TimeSpan.fromSeconds(n);else{var o=n,r=1;for(o+=7;o>0;)r*=10,o--;i=new t._TimeSpan(r)}return i},e._manualTimeInc=function(n){var i=e.__second;if(null==n)return i;switch(n){case t.DateMode.MilliSecond:i=e.__milliSecond;break;case t.DateMode.Second:i=e.__second;break;case t.DateMode.Minute:i=e.__minute;break;case t.DateMode.Hour:i=e.__hour;break;case t.DateMode.Day:i=e.__day;break;case t.DateMode.Month:i=e.__month;break;case t.DateMode.Year:i=e.__year}return i},e._getNiceInc=function(t,e,n){for(var i=0;i<t.length;i++){var o=t[i]*n;if(e<=o)return o}return 0},e.__maxTime=Number.MAX_VALUE,e.__milliSecond=-3,e.__second=1,e.__minute=60*e.__second,e.__hour=60*e.__minute,e.__day=24*e.__hour,e.__month=31*e.__day,e.__year=365*e.__day,e}();t._TimeHelper=e}(t||(t={})),function(t){var e=function(){function t(t){this.__ticks=t}return Object.defineProperty(t.prototype,"Ticks",{get:function(){return this.__ticks},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TotalSeconds",{get:function(){return this.__ticks/1e7},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TotalDays",{get:function(){return this.__ticks/1e7/86400},enumerable:!1,configurable:!0}),t.fromSeconds=function(e){return new t(1e7*e)},t.fromDays=function(e){return new t(1e7*e*24*60*60)},t.TicksPerSecond=1e7,t}();t._TimeSpan=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){var i=this;if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var o=t._JsonElementUtility._getAsString(e);if(t._NativeExtension._isNullOrEmptyString(o))return null;var r=null!=n.strictMode&&0!=n.strictMode,l=new t.options._CoordinateSystemPaddingOption(null,r),a=o.split(",",4).map((function(t){return i._parseString(t)}));return 1==a.length?(l.left=a[0],l.right=a[0],l.top=a[0],l.bottom=a[0]):2==a.length?(l.top=a[0],l.bottom=a[0],l.left=a[1],l.right=a[1]):3==a.length?(l.top=a[0],l.left=a[1],l.right=a[1],l.bottom=a[2]):4==a.length&&(l.top=a[0],l.right=a[1],l.bottom=a[2],l.left=a[3]),l}if(t._JsonElementUtility._isNumber(e)){var u=t._JsonElementUtility._getAsDouble(e),s=t.options._ValueOptionExtension._parseNumberPixelPercentageValueOption(u,0,1,!0,!1),_=new t.options._CoordinateSystemPaddingOption(null,null!=n.strictMode&&0!=n.strictMode);return _.left=s,_.right=s,_.top=s,_.bottom=s,_}return t._JsonElementUtility._isObject(e)?t._JsonElementUtility._isEmpty(e)?null:t.OptionSerializer.deserialize(new t.options._CoordinateSystemPaddingOption,e,n):(this._processError(e),null)},i.prototype._parseString=function(e){return t.options._ValueOptionExtension._parseStringPixelPercentageValueOption(e,0,1,!0,!1)},i}(t._BaseOptionConverter);t._CoordinateSystemPaddingOptionConverter=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isBoolean(e)){if(t._JsonElementUtility._getAsBoolean(e)){var i=new t.options._EChartsSmartDataLabelConnectingLineOption(null,null!=n.strictMode&&0!=n.strictMode);return i.stroke=null,i.strokeWidth=1,i}return null}return t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._EChartsSmartDataLabelConnectingLineOption,e,n):null},i}(t._BaseOptionConverter);t._EChartsDataLabelConnectingLineOptionConverter=e}(t||(t={})),function(t){var e=function(t,e){this.lowerY=t,this.upperY=e};t._YValueRange=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._LineAxisViewBuilder)||this}return n(i,e),i}(t._AxisDefinition);t._LineAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="LineAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(e,n,i){var o;return n._getCoordinateSystemType()===t._XyCartesianCoordinateSystemDefinition._type||n._getCoordinateSystemType()===t._MirrorXyCartesianCoordinateSystemDefinition._type?(o=n._plotConfigOption.swapAxes?i.type==t.AxisType.X?t.Orientation.Vertical:t.Orientation.Horizontal:i.type==t.AxisType.X?t.Orientation.Horizontal:t.Orientation.Vertical,new t._LineAxisDefinition(e,i,o)):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultLineAxisDefinitionBuilder=new e,e}();t._LineAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultLineAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n){if(t._isCartesianCoordinateSystemView(e)){var i=e;return n._orientation==t.Orientation.Vertical?new t._VerticalLineAxisView(i,n):n._orientation==t.Orientation.Horizontal?new t._HorizontalLineAxisView(i,n):null}return null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._LineAxisViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._PolygonalAxisViewBuilder)||this}return n(i,e),i}(t._AxisDefinition);t._PolygonalAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="PolygonalAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(e,n,i){var o;return n._getCoordinateSystemType()===t._PolygonalCartesianCoordinateSystemDefinition._type||n._getCoordinateSystemType()===t._MirrorPolygonalCartesianCoordinateSystemDefinition._type?(o=n._plotConfigOption.swapAxes?i.type==t.AxisType.X?t.Orientation.Vertical:t.Orientation.Horizontal:i.type==t.AxisType.X?t.Orientation.Horizontal:t.Orientation.Vertical,new t._PolygonalAxisDefinition(e,i,o)):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPolygonalAxisDefinitionBuilder=new e,e}();t._PolygonalAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPolygonalAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n){if(t._isCartesianCoordinateSystemView(e)){var i=e;return n._orientation==t.Orientation.Vertical?new t._VerticalPolygonalAxisView(i,n):n._orientation==t.Orientation.Horizontal?new t._HorizontalPolygonalAxisView(i,n):null}return null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._PolygonalAxisViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._RadialAxisViewBuilder)||this}return n(i,e),i}(t._AxisDefinition);t._RadialAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="RadialAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(e,n,i){var o;return n._getCoordinateSystemType()===t._RadialCartesianCoordinateSystemDefinition._type||n._getCoordinateSystemType()===t._MirrorRadialCartesianCoordinateSystemDefinition._type?(o=n._plotConfigOption.swapAxes?i.type==t.AxisType.X?t.Orientation.Vertical:t.Orientation.Horizontal:i.type==t.AxisType.X?t.Orientation.Horizontal:t.Orientation.Vertical,new t._RadialAxisDefinition(e,i,o)):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultRadialAxisDefinitionBuilder=new e,e}();t._RadialAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultRadialAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n){if(t._isCartesianCoordinateSystemView(e)){var i=e;return n._orientation==t.Orientation.Vertical?new t._VerticalCircleAxisView(i,n):n._orientation==t.Orientation.Horizontal?new t._HorizontalRadialAxisView(i,n):null}return null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._RadialAxisViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._TextAxisViewBuilder)||this}return n(i,e),i}(t._AxisDefinition);t._TextAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TextAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(e,n,i){return n._getCoordinateSystemType()===t._TextCategoriesCoordinateSystemDefinition._type||n._getCoordinateSystemType()===t._MirrorTextCategoriesCoordinateSystemDefinition._type?new t._TextAxisDefinition(e,i,t.Orientation.Horizontal):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultTextAxisDefinitionBuilder=new e,e}();t._TextAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultTextAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n){if(t._isTextCategoriesCoordinateSystemView(e)){var i=e;return n._orientation==t.Orientation.Horizontal?new t._TextCategoriesLineAxisView(i,n):null}return null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._TextAxisViewBuilder=e}(t||(t={})),function(t){var e=function(){function t(t){this._plotView=t}return t.prototype._layoutDataLabelViewList=function(t,e,n){for(var i=0,o=e;i<o.length;i++){var r=o[i];this._layoutDataLabel(t,r,n)}},t.prototype._layoutDataLabel=function(t,e,n){e._layout(t,null,n)},t}();t._PlotDataLabelViewListLayoutPolicy=e}(t||(t={})),function(t){var e=function(){function e(e){this.cacheFailedPoints={},this.skipProcess=!1,this.__labelPosition=t.LabelPosition.NotSet,this.__dataLabelView=e,this.__lineWidth=e.getConnectingLineWidth(),this.__rotatedRectangle=new t._RectangleShape(0,0,0,0,0)}return e.prototype.getPrevious=function(t){var e=t.indexOf(this);return-1==e?null:0==e?t[t.length-1]:t[e-1]},e.prototype.getNext=function(t){var e=t.indexOf(this);return-1==e?null:e==t.length-1?t[0]:t[e+1]},e.prototype._getLabelPosition=function(){return this.__labelPosition},e.prototype._setLabelPosition=function(t){this.__labelPosition=t},e.prototype._checkOverlap=function(e,n){for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t._ShapeUtil._whetherIntersect(r,n))return!0}return!1},e.prototype._getNormalizePoint=function(n,i,o){var r=this._startPoint,l=n*Math.cos(i),a=n*Math.sin(i);return l=e._normalizeValue(r.x+l,o),a=e._normalizeValue(r.y+a,o),new t.core.Point(l,a)},e.prototype._getRotatedRectangle=function(){return this.__rotatedRectangle},e.prototype._setRotatedRectangle=function(t){this.__rotatedRectangle=t},e.prototype._setSmartLabelPosition=function(e,n){var i=this._dataLabelView(),o=i._getPointView(),r=o._getDonutShape();if(null!=r){var l=i._measure(e,new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE))._size,a=i.__option.offset,u=i._position(),s=r.radius,_=s,p=r.center,c=r.sweepAngle,h=r.startAngle,f=h+c/2,d=n.map((function(t){return t._getRotatedRectangle()}));o._getPointCoordOnDonutShape(f,_);var y=o._getPointCoordOnDonutShape(f,_);this._startPoint=y,this.linePoints=null;var g=void 0;if(u==t.TextPosition.Center||u==t.TextPosition.Auto){if(g=i.getDefaultLabelRectangle(u,p,f,_,l),!this._checkOverlap(d,g))return this._setLabelPosition(t.LabelPosition.Center),void this._setRotatedRectangle(g);u=t.TextPosition.Inside}if(u==t.TextPosition.Inside){if(_=s-a,g=i.getDefaultLabelRectangle(u,p,f,_,l),!this._checkOverlap(d,g))return this._setLabelPosition(t.LabelPosition.Inside),void this._setRotatedRectangle(g);u=t.TextPosition.Outside}_=s+a,g=i.getDefaultLabelRectangle(u,p,f,_,l);var m=f%t._Utility._PI2,v=y.clone();if(a>0){var w=o._getPointCoordOnDonutShape(f,_);null!=w&&(v=w)}this._updateLabelInformation(g,a,m,null,v),this._setLabelPosition(t.LabelPosition.Outside),this._saveLabelBasicInformation(s,h,c,f,l,a)}},e.prototype._saveLabelBasicInformation=function(e,n,i,o,r,l){var a=t._Utility._PI2,u=o%a;u<0&&(u+=a);var s=new t._PieLabelInformation;s.startAngle=n%a,s.sweep=i,s.angle=u,s.radius=e,s.size=r.clone(),s.offset=l,this.__labelInfo=s,this.offsetRadius=l,this.labelAngle=u},e._getInformationForLabelWithLine=function(e,n,i,o,r,l){var a=o-Math.PI/2,u=o+Math.PI/2;for(o<0&&(n-=Math.PI);!t.LayoutHelper.isBetween(n,a,u);)n+=Math.PI;var s=r.x,_=r.y,p=l.horizontalLineWidth,c=e/2+p,h=new t.core.Point(s+c*Math.cos(n),_+c*Math.sin(n));return c=p,[h,[i,r,new t.core.Point(s+c*Math.cos(n),_+c*Math.sin(n))]]},e.prototype.needConnectingLines=function(){return this.__lineWidth>0},e.prototype.connectingLineWidth=function(){return this.__lineWidth},e.prototype._dataLabelView=function(){return this.__dataLabelView},e.prototype.angle=function(){return this.__labelInfo.angle},e.prototype.startAngle=function(){return this.__labelInfo.startAngle},e.prototype.endAngle=function(){return this.__labelInfo.startAngle+this.__labelInfo.sweep},e.prototype.offset=function(){return this.__labelInfo.offset},e.prototype.pieRadius=function(){return this.__labelInfo.radius},e.prototype._intersectsWithRotatedRectangle=function(e){return t._ShapeUtil._whetherIntersect(e,this._getRotatedRectangle())||t.LayoutHelper._isRectangleShapeIntersectsWithLines(e,this.linePoints,this.connectingLineWidth())},e.prototype._intersectsWithRotatedRectangleAndLines=function(e,n,i){var o=this._getRotatedRectangle(),r=this.linePoints,l=this.connectingLineWidth();return t._ShapeUtil._whetherIntersect(o,e)||t.LayoutHelper._isRectangleShapeIntersectsWithLines(o,n,i)||t.LayoutHelper._isRectangleShapeIntersectsWithLines(e,r,l)||t.LayoutHelper.__isLinesIntersect(n,i,r,l)},e.prototype._isIntersectWithViewRectangle=function(t,e){return t.points.some((function(t){return!e.contains(t)}))},e.prototype._isIntersectWithPiePieces=function(t,e,n){void 0===n&&(n=0);var i=this.pieRadius()+n,o=i*i,r=t.x,l=t.y;return e.points.some((function(t){var e=t.x-r;if(Math.abs(e)>=i)return!1;var n=t.y-l;return!(Math.abs(n)>=i)&&e*e+n*n<o}))},e.prototype._layoutMiddleItemPosition=function(e,n,i){if(this.needConnectingLines()){for(var o=this.angle(),r=this.__labelInfo.size,l=r.width,a=r.height,u=this._startPoint,s=Math.max(e.width,e.height),_=o-Math.PI/4,p=o+Math.PI/4,c=Math.min(l,a),h=null,f=null,d=c;d<s;d++)if(h=(y=this._getLabelPositionEx(this._getNormalizePoint(d,o,i.pointNormalizeUnit),d,o,n,e,i)).rotatedRectangle,!this._isIntersectWithPiePieces(n,h)&&!this._isIntersectWithViewRectangle(h,e)){if(t.LayoutHelper.__isFitAngle(t.LayoutHelper.__getAngleByPoints(y.rotatedRectangle.center,u),_,p))return void this._updateLabelInformation(y.rotatedRectangle,d,o,y.linePoints,y.connectionPoint);f=y}if(null==f)for(d=1;d<c;d++){var y;if(h=(y=this._getLabelPositionEx(this._getNormalizePoint(d,o,i.pointNormalizeUnit),d,o,n,e,i)).rotatedRectangle,!this._isIntersectWithPiePieces(n,h)&&!this._isIntersectWithViewRectangle(h,e)){if(t.LayoutHelper.__isFitAngle(t.LayoutHelper.__getAngleByPoints(y.rotatedRectangle.center,u),_,p))return void this._updateLabelInformation(y.rotatedRectangle,d,o,y.linePoints,y.connectionPoint);f=y}}null!=f&&this._setLabelInfo(f)}},e._normalizeValue=function(t,e){return Math.round(t/e)*e},e.prototype._getNextLocation=function(e,n,i,o,r){var l,a,u=n.radius,s=n.angle,_=this.angle(),p=e.angleRange/2,c=e.radiusStep,h=e.angleStep,f=_-p,d=_+p,y=Math.max(this.offset(),c);0==u&&(s=o?f:d);var g=!1;do{if(i&&(u+=c),!i||g){if(s+=(o?1:-1)*h,o&&s>d){if(g)return null;s=f,i||(u+=c)}else if(!o&&s<f){if(g)return null;s=d,i||(u+=c)}g=!1}var m=this._getNormalizePoint(u,s,e.pointNormalizeUnit);l=m.x,a=m.y,r.contains(m)||(i&&(u=y),g=!0)}while(g||l==n.point.x&&a==n.point.y);var v=new t._Location;return v.angle=s,v.radius=u,v.point=new t.core.Point(l,a),v},e.prototype._getLabelPositionEx=function(n,i,o,r,l,a){var u=this._dataLabelView(),s=this.__labelInfo,_=u._getRotateAngle(),p=this._startPoint,c=this.needConnectingLines(),h=s.size.width,f=s.size.height,d=null,y=null;if(c){var g=e._getInformationForLabelWithLine(h,_,p,o,n,a),m=g[0];y=new t._RectangleShape(m.x,m.y,h,f,_),d=g[1]}else y=u._getOutsideLabelRectangleByPoint(n,r,s.size,!1);var v=new t._LabelPositionInformation;return v.rotatedRectangle=y,v.linePoints=d,v.connectionPoint=n,v.radius=i,v.angle=o,v},e.prototype._updateLabelInformation=function(t,e,n,i,o){this._setRotatedRectangle(t),this.linePoints=i,this.offsetRadius=e,this.labelAngle=n,this.connectionPoint=o},e.prototype._backupLabelInformation=function(){this.__currentPosInfo=this._getCurrentLabelInformation()},e.prototype._getCurrentLabelInformation=function(){var e=new t._LabelPositionInformation;return e.rotatedRectangle=this._getRotatedRectangle(),e.linePoints=this.linePoints,e.radius=this.offsetRadius,e.angle=this.labelAngle,e.connectionPoint=this.connectionPoint,e},e.prototype._setLabelInfo=function(t){this._updateLabelInformation(t.rotatedRectangle,t.radius,t.angle,t.linePoints,t.connectionPoint)},e.prototype._restoreLabelInfo=function(t){if(!t&&null!=this.__currentPosInfo){var e=this.__currentPosInfo;this._updateLabelInformation(e.rotatedRectangle,e.radius,e.angle,e.linePoints,e.connectionPoint)}this.__currentPosInfo=null},e.prototype.validate=function(t,e){if(null!=t)for(var n=0,i=t;n<i.length;n++)if(!i[n].isValidPosition(this,e))return!1;return!0},e.prototype.intersectWith=function(t,e){for(var n=this.connectingLineWidth(),i=0,o=e;i<o.length;i++)if(o[i]._intersectsWithRotatedRectangleAndLines(t.rotatedRectangle,t.linePoints,n))return!0;return!1},e.prototype._getAngleForCheckOrder=function(e){var n=this.needConnectingLines();return t.LayoutHelper.__getAngleByPoints(n?this.connectionPoint:this._getRotatedRectangle().center,e)},e.prototype._isInOrder=function(e,n,i,o){for(var r=this.needConnectingLines(),l=t.LayoutHelper.__getAngleByPoints(r?e.connectionPoint:e.rotatedRectangle.center,i),a=0,u=n;a<u.length;a++){var s=u[a],_=Math.sin(l-s._getAngleForCheckOrder(i));if(0!=_&&o!=_>0)return!1}return!0},e}();t._RadialBarDataLabelViewEx=e}(t||(t={})),function(t){var e=function(){function e(e){if(null==e||e.length<=0)throw new t.AssertError(t.ErrorCode.InvalidArgument,e);this.__items=e;for(var n=0,i=0,o=e;i<o.length;i++){var r=o[i],l=r._dataLabelView()._getPointView();null!=l._getDonutShape()&&(n+=l._getDonutShape().sweepAngle),r.group=this}this.__sweep=n,this.__startAngle=e[0].startAngle()}return e.prototype.sweep=function(){return this.__sweep},e.prototype.startAngle=function(){return this.__startAngle},e.prototype.angle=function(){return(this.__startAngle+this.__sweep/2)%t._Utility._PI2},e.prototype.items=function(){return this.__items},e.prototype.getItemsNeedConsiderCheck=function(){return this.__items.filter((function(t){return!t.skipProcess}))},e._getHalfItems=function(t,e){var n=t.length;if(n>1){var i=Math.floor((n+1)/2);return e?t.slice(0,i):t.slice(i)}return t.slice()},e.prototype._isOverlapWith=function(t,n){var i=this.getItemsNeedConsiderCheck().slice(),o=t.getItemsNeedConsiderCheck().slice();if(!n){var r=i;i=o,o=r}var l=e._getHalfItems(i,!1);l.reverse();for(var a=e._getHalfItems(o,!0),u=function(t){var e=t._getRotatedRectangle(),n=t.linePoints;if(a.some((function(i){return i._intersectsWithRotatedRectangleAndLines(e,n,t.connectingLineWidth())})))return{value:!0}},s=0,_=l;s<_.length;s++){var p=u(_[s]);if("object"==typeof p)return p.value}return!1},e.prototype.getNext=function(t){var e=t.indexOf(this);return-1==e?null:e==t.length-1?t[0]:t[e+1]},e.prototype.getPrevious=function(t){var e=t.indexOf(this);return-1==e?null:0==e?t[t.length-1]:t[e-1]},e._backupLabels=function(t){if(null!=t)for(var e=0,n=t;e<n.length;e++)n[e]._backupLabelInformation()},e._getLabelInformations=function(t){return null!=t?t.map((function(t){return t._getCurrentLabelInformation()})):[]},e._setLabelInfos=function(e,n){if(null==e||null==n||e.length!=n.length)throw new t.AssertError(t.ErrorCode.UnexpectedValue,e);if(null!=e)for(var i=e.length,o=0;o<i;o++)e[o]._setLabelInfo(n[o])},e._restoreLabels=function(t,e){if(null!=t)for(var n=0,i=t;n<i.length;n++)i[n]._restoreLabelInfo(e)},e.prototype._layoutLabel=function(n,i,o,r,l,a,u,s,_){if(void 0===_&&(_=!1),l.length<=0)return!1;var p=(l=l.slice()).pop(),c=_;e._backupLabels(l);var h=[p.connectionPoint.x,p.connectionPoint.y].join("_");if(t._Util.hasKey(p.cacheFailedPoints,h)&&p.cacheFailedPoints[h])return!1;var f=[p];e._backupLabels(f);do{var d=this._positionLabel(n,i,o,p,_?!r:r,l,a,u,s,c);if(d.success)return!0;if(0==l.length)return!1;if(!d.canRetry){e._restoreLabels(f,!1);break}if(this._layoutLabel(n,i,o,r,l,a,u.concat(new t.PushGroupItemsCondition([p])),s))return!0;p.cacheFailedPoints[h]=!0,h=[p.connectionPoint.x,p.connectionPoint.y].join("_"),c=!0}while(l.length>0);p.cacheFailedPoints[h]=!0;for(var y=0,g=l;y<g.length;y++)g[y].cacheFailedPoints={};return e._restoreLabels(l,!1),!1},e._getValidateInformation=function(e,n,i,o,r){var l=new t._ValidateInformation;return l.posInfo=e,l.pieCenter=i,l.viewRect=n,l.layoutOption=r,l.clockwise=o,l},e.prototype._positionLabel=function(n,i,o,r,l,a,u,s,_,p){var c=[new t.ConnectionPointCondition,new t.OffsetCondition,new t.ViewRectangleCondition],h=new t._Location;h.point=r.connectionPoint,h.radius=r.offsetRadius,h.angle=r.labelAngle;for(var f=r._getNextLocation(o,h,_,l,n);null!=f;f=r._getNextLocation(o,f,_,l,n)){var d=f.radius,y=f.angle,g=r._getLabelPositionEx(f.point,d,y,i,n,o),m=e._getValidateInformation(g,n,i,l,o);if(r.validate(c,m)&&r.validate(u,m)&&r.validate(s,m)){if(s.length>0)return r._updateLabelInformation(g.rotatedRectangle,d,y,g.linePoints,g.connectionPoint),t.LayoutHelper.__getPositionlabelResult(r.intersectWith(g,a)?t.PositionLabelResultCode.Overlap:t.PositionLabelResultCode.Success);if(r._isInOrder(g,a,i,l)){if(!r.intersectWith(g,a))return r._updateLabelInformation(g.rotatedRectangle,d,y,g.linePoints,g.connectionPoint),t.LayoutHelper.__getPositionlabelResult(t.PositionLabelResultCode.Success);if(p)return r._updateLabelInformation(g.rotatedRectangle,d,y,g.linePoints,g.connectionPoint),t.LayoutHelper.__getPositionlabelResult(t.PositionLabelResultCode.Overlap)}}}return t.LayoutHelper.__getPositionlabelResult(t.PositionLabelResultCode.NoSpace,!1)},e.prototype._spreadHalfGroupLabels=function(t,n,i,o,r,l,a){var u;o=o.slice(),r||o.reverse();var s=[],_=[];null!=l&&_.push(l);for(var p=[],c=0,h=o;c<h.length;c++){var f=h[c];if(_.length>0&&!f.intersectWith(f._getCurrentLabelInformation(),_))_.push(f),s.push(f);else{e._backupLabels(s);var d=[];d=(d=d.concat(s)).concat(f),(u=this._positionLabel(t,n,i,f,r,s,a,[],!1,!1).success)||(e._backupLabels([f]),u=this._layoutLabel(t,n,i,!r,d,a,[],!1,!0),e._restoreLabels([f],u)),u?(_.push(f),s.push(f)):(f.skipProcess=!0,p.push(f)),e._restoreLabels(s,u)}}},e.prototype._spreadLabels=function(e,n,i){var o=this.items(),r=o.length;if(!(r<=1)){var l,a,u,s,_=null;if(r%2==1)(_=o[s=(r-1)/2])._layoutMiddleItemPosition(e,n,i),l=new t.MiddleLabelCondition(_),a=o.slice(0,s),u=o.slice(s+1);else{var p=o[(s=r/2)-1];p._layoutMiddleItemPosition(e,n,i),(p=o[s])._layoutMiddleItemPosition(e,n,i),l=new t.MiddleCondition(o[s].startAngle()),a=o.slice(0,s),u=o.slice(s)}this._spreadHalfGroupLabels(e,n,i,a,!1,_,[l]),this._spreadHalfGroupLabels(e,n,i,u,!0,_,[l,new t.PlacedGroupItemsCondition(a)])}},e.prototype._push=function(e,n,i,o,r,l,a){var u=this.getItemsNeedConsiderCheck(),s=u.length,_=u[o?0:s-1],p=_.labelAngle+(o?r:-r),c=i.angleRange/2,h=_.angle(),f=h-c,d=h+c;if(!t.LayoutHelper.__isFitAngle(p,f,d))return!1;var y=[new t.GroupBoundCondition(_.connectionPoint.clone(),r)];return o||y.push(new t.CheckGroupCondition(a)),u=u.slice(),o&&u.reverse(),this._layoutLabel(e,n,i,o,u,[],y.concat(l),!0)},e}();t._RadialBarDataLabelViewExGroup=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._layoutDataLabelViewList=function(t,e,n){e.sort((function(t,e){var n=e,i=t._getPointView(),o=n._getPointView(),r=i._getDonutShape(),l=o._getDonutShape();return null!=r&&null!=l?r.sweepAngle-l.sweepAngle:0}));for(var i=0,o=e;i<o.length;i++){var r=o[i];this._layoutDataLabel(t,r,n)}},e.prototype._layoutDataLabel=function(e,n,i){n._getPointView()._isVisible()&&t.prototype._layoutDataLabel.call(this,e,n,i)},e}(t._PlotDataLabelViewListLayoutPolicy);t._RadialCartesianPlotDataLabelViewListLayoutPolicy=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this,t)||this;return n.__viewRect=t._rectangle(),n.__layoutOption=n._initLayoutOption(),n}return n(i,e),i.prototype._initLayoutOption=function(){var e=Math.PI/180,n=new t._LabelLayoutInfo;return n.angleStep=2*e,n.pushAngleStep=5*e,n.angleRange=135*e,n.radiusStep=3,n.pointNormalizeUnit=1,n.horizontalLineWidth=5,n},i.prototype._viewRect=function(){return this.__viewRect},i.prototype._pieCenter=function(){return this.__viewRect.center},i.prototype._layoutDataLabelViewList=function(t,e,n){e.sort((function(t,e){var n=e,i=t._getPointView(),o=n._getPointView(),r=i._getDonutShape(),l=o._getDonutShape();return null!=r&&null!=l?r.sweepAngle-l.sweepAngle:0}));for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createDataLabelViewEx(l);null!=a&&(i.push(a),a._setSmartLabelPosition(t,i))}var u=this._getSortedOutsideLabels(i);this._overlapOutsideLabelViewExs(u),this._layoutLabelViewExs(t,i,n)},i.prototype._createDataLabelViewEx=function(e){return e._getPointView()._isVisible()?new t._RadialBarDataLabelViewEx(e):null},i.prototype._getSortedOutsideLabels=function(e){var n=e.filter((function(e){return e._getLabelPosition()==t.LabelPosition.Outside}));return n.sort((function(t,e){return t.angle()-e.angle()}))},i.prototype._layoutTwoGroups=function(e,n,i,o){var r,l,a,u=!0,s=e.items().length,_=n.items().length;s<_||s==_&&e.sweep()<n.sweep()?(r=e,l=n,a=!1):(r=n,l=e,a=u);var p,c=!0,h=!0,f=1,d=o.angleRange,y=null,g=null,m=!0,v=!0;do{if((p=f*o.pushAngleStep)>d)break;if(m){t._RadialBarDataLabelViewExGroup._backupLabels(r.items());var w=v?[]:[new t.PushGroupItemsCondition(l.items())];if(c=r._push(this._viewRect(),this._pieCenter(),o,a,p,w,r.getPrevious(i))){if(!e._isOverlapWith(n,u))break;y=t._RadialBarDataLabelViewExGroup._getLabelInformations(r.items())}else m=!1,v&&null!=y&&t._RadialBarDataLabelViewExGroup._setLabelInfos(r.items(),y)}if(v){t._RadialBarDataLabelViewExGroup._backupLabels(l.items());var b=m?[]:[new t.PushGroupItemsCondition(r.items())];if(h=l._push(this._viewRect(),this._pieCenter(),o,!a,p,b,l.getPrevious(i))){if(!e._isOverlapWith(n,u))break;g=t._RadialBarDataLabelViewExGroup._getLabelInformations(l.items())}else v=!1,m&&null!=g&&t._RadialBarDataLabelViewExGroup._setLabelInfos(l.items(),g)}m&&t._RadialBarDataLabelViewExGroup._restoreLabels(r.items(),!1),v&&t._RadialBarDataLabelViewExGroup._restoreLabels(l.items(),!1),f++}while(m||v);var P=c||h;t._RadialBarDataLabelViewExGroup._restoreLabels(r.items(),P),t._RadialBarDataLabelViewExGroup._restoreLabels(l.items(),P)},i.prototype._overlapOutsideLabelViewExs=function(t){for(var e=this._generateGroups(t),n=this._viewRect(),i=this._pieCenter(),o=e.slice(),r=0,l=e;r<l.length;r++)(p=l[r])._spreadLabels(n,i,this.__layoutOption);if(e.length>1)for(var a=null,u=[],s=0,_=u=(u=u.concat(e)).concat(e[0]);s<_.length;s++){var p=_[s];null!=a&&a._isOverlapWith(p,!0)&&this._layoutTwoGroups(a,p,o,this.__layoutOption),a=p}},i.prototype._layoutLabelViewExs=function(e,n,i){for(var o=0,r=n;o<r.length;o++){var l=r[o];l._dataLabelView().linePoints=l.linePoints;var a=l._getRotatedRectangle();l._dataLabelView()._setTextAngle(a.angle),l._dataLabelView()._setTextLocation(a.center);var u=new t.core.Rect(a.center.x-a.size.width/2,a.center.y-a.size.height/2,a.size.width,a.size.height);l._dataLabelView()._layout(e,u,i)}},i.prototype._generateGroups=function(e){var n=e.length,i=[];if(n>1){for(var o=void 0,r=[],l=0;l<n;l++)o=e[l],r.push(o),t._ShapeUtil._whetherIntersect(o._getRotatedRectangle(),o.getNext(e)._getRotatedRectangle())||(i.push(new t._RadialBarDataLabelViewExGroup(r)),r=[]);if(r.length>0){if(!(i.length>0))return[new t._RadialBarDataLabelViewExGroup(e)];r=r.concat(i[0].items()),i[0]=new t._RadialBarDataLabelViewExGroup(r)}}else n>0&&i.push(new t._RadialBarDataLabelViewExGroup(e));return i},i}(t._RadialCartesianPlotDataLabelViewListLayoutPolicy);t._PiePlotDataLabelViewLayout=e}(t||(t={})),function(t){var e=function(){function e(t){this.___overlappingLabels=t}return e.prototype._render=function(e,n,i){t._LabelOverlapChecker._checkOverlap(i,n,this.___overlappingLabels);for(var o=0,r=n;o<r.length;o++){var l=r[o];l._getOverlap()||this._renderDataLabel(e,i,l)}},e.prototype._renderDataLabel=function(t,e,n){n._getPointView()._isVisible()&&n._render(t,e)},e}();t._DataLabelsRender=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this,t._dataPointDataLabelOption().overlappingLabels)||this;return n._plotView=t,n}return n(i,e),i.prototype._render=function(n,i,o){var r=null,l=this._plotView,a=l._horizontalAxisView(),u=l._verticalAxisView();null!=a&&null!=u&&(r=new t.core.Rect(a._rectangle().left,u._rectangle().top,a._rectangle().width,u._rectangle().height)),o._dataLabelClipRectangle=r,e.prototype._render.call(this,n,i,o),o._dataLabelClipRectangle=null},i}(t._DataLabelsRender);t._CartesianDataLabelsRender=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._renderDataLabel=function(t,e,n){n._render(t,e)},e}(t._CartesianDataLabelsRender);t._CartesianSymbolDataLabelsRender=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._render=function(n,i,o){this.___overlappingLabels===t.OverlappingLabels.Auto&&(this.___overlappingLabels=t.OverlappingLabels.Show),e.prototype._render.call(this,n,i,o)},i}(t._CartesianDataLabelsRender);t._CartesianBarDataLabelsRender=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._sortBySweep=function(t){t.sort((function(t,e){var n=e,i=t._getPointView(),o=n._getPointView(),r=i._getDonutShape(),l=o._getDonutShape();return null!=r&&null!=l?r.sweepAngle-l.sweepAngle:0}))},e.prototype._render=function(e,n,i){this._sortBySweep(n),i._dataLabelClipRectangle=null,t.prototype._render.call(this,e,n,i),i._dataLabelClipRectangle=null},e}(t._DataLabelsRender);t._RadialBarDataLabelsRender=e}(t||(t={})),function(t){t._isRadialPointView=function(e){if(null==e)return!1;if(!t._isPointView(e))return!1;var n=e;return"function"==typeof n._getCenter&&"function"==typeof n._setCenter&&"function"==typeof n._getRadius&&"function"==typeof n._setRadius&&"function"==typeof n._getInnerRadius&&"function"==typeof n._setInnerRadius&&"function"==typeof n._getStartAngle&&"function"==typeof n._setStartAngle&&"function"==typeof n._getSweep&&"function"==typeof n._setSweep}}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t){var e=i.call(this)||this;return e.__plotDefinition=t,e}return n(o,i),o.prototype._buildLegendDataModel=function(n,i){return t._isCartesianPlotDefinition(this.__plotDefinition)?new t._EmptyColorLegendDataModel(n,new e.CartesianLegendAdopter):null},o}(e._LegendDataModelBuilder),e._CartesianEmptyColorLegendBuilder=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendDataModel=function(e,n){return null!=e&&t._isCustomLegendEncodingDefinition(e)?new t._CustomValueDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color),this._adopter):null},i}(e._LegendDataModelBuilder),e._CustomLegendBuilder=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendDataModel=function(e,n){return null!=e&&t._isValuesNameLegendEncodingDefinition(e)?new t._ValuesNameDataPointItemizedLegendDataModel(e,n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color),this._adopter):null},i}(e._LegendDataModelBuilder),e._ValuesNameLegendBuilder=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n,i,o,r){var l=t.call(this,e,n,r)||this;return l.key=o,l.rule=i,l}return n(e,t),e.prototype._dataPointKey=function(){return e._generateKey(this.key)},e._generateKey=function(t){return t},e}(t._ItemizedPointLegendItemDataModel),e._CustomItemizedValuePointLegendItem=i}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return void 0===i&&(i=null),e.call(this,t,n,i)||this}return n(i,e),i.prototype._refresh=function(e){this._dataPointKeysMap._clear();for(var n=e._getDefinition()._plotAreaOption.plugins,i=e._getDefinition()._pluginCollection,o=0,r=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this,n,i)._getPointViews(e,this);o<r.length;o++)for(var l=r[o],a=0,u=this.__items;a<u.length;a++){var s=u[a];if(s instanceof t.models._CustomItemizedValuePointLegendItem&&s.rule.conformity(l._data())){var _=s._dataPointKey(),p=this._dataPointKeysMap._get(_);null==p&&(p=[],this._dataPointKeysMap._set(_,p)),p.push(l);break}}null!=this._adopter&&this._adopter._apply(e,this)},i}(t._DataPointItemizedLegendDataModel);t._CustomValueDataPointItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInCustomLegendItemRuleBuilders=function(){return null==i.__buildInCustomLegendItemRuleBuilders&&(i.__buildInCustomLegendItemRuleBuilders=new i([],i._pluginType)),i.__buildInCustomLegendItemRuleBuilders},i.prototype._convert=function(e){return t._isCustomLegendItemRuleBuilder(e)?e:null},i.prototype._rule=function(t,e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o].item.buildRule(t,e);if(null!=l)return l}return null},i._pluginType="LegendItemRule",i}(t._BuildInObjectCollection);t._BuildInCustomLegendItemRuleBuilderCollection=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isCustomLegendItemRuleBuilder=function(t){return null!=t.buildRule}}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.name="LegendItemRule",this.type=t._BuildInCustomLegendItemRuleBuilderCollection._pluginType,this.priority=0}return Object.defineProperty(n.prototype,"ruleType",{get:function(){return"Decrease"},enumerable:!1,configurable:!0}),n.prototype.conformity=function(n){if(t._isCartesianPointDataModel(n)&&"Total"!=n._getWaterfallPointType()){var i=e._CartesianSupport.getStackYValue(n);if(null!=i){var o=null==i.value?0:i.value;return null!=i.previous?o<i.previous:o<0}}return!1},n.prototype.buildRule=function(t,e){return e===this.ruleType?this:null},n.prototype.queryInterface=function(t){return"ICustomLegendItemRule"==t||"ICustomLegendItemRuleBuilder"==t||"IPlugin"==t?this:null},n._defaultPlugin=new n,n}(),e._DecreaseRule=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){this.name="LegendItemRule",this.type=t._BuildInCustomLegendItemRuleBuilderCollection._pluginType,this.priority=0}return Object.defineProperty(n.prototype,"ruleType",{get:function(){return"Increase"},enumerable:!1,configurable:!0}),n.prototype.conformity=function(n){if(t._isCartesianPointDataModel(n)&&"Total"!=n._getWaterfallPointType()){var i=e._CartesianSupport.getStackYValue(n);if(null!=i){var o=null==i.value?0:i.value;return null!=i.previous?o>=i.previous:o>=0}}return!1},n.prototype.buildRule=function(t,e){return e===this.ruleType?this:null},n.prototype.queryInterface=function(t){return"ICustomLegendItemRule"==t||"ICustomLegendItemRuleBuilder"==t||"IPlugin"==t?this:null},n._defaultPlugin=new n,n}(),e._IncreaseRule=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){this.name="LegendItemRule",this.type=t._BuildInCustomLegendItemRuleBuilderCollection._pluginType,this.priority=0}return Object.defineProperty(e.prototype,"ruleType",{get:function(){return"Total"},enumerable:!1,configurable:!0}),e.prototype.conformity=function(e){return!(!t._isCartesianPointDataModel(e)||"Total"!=e._getWaterfallPointType())},e.prototype.buildRule=function(e,n){return n===this.ruleType&&t._isWaterfallPlotDefinition(e)?this:null},e.prototype.queryInterface=function(t){return"ICustomLegendItemRule"==t||"ICustomLegendItemRuleBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._TotalRule=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,null,n)||this}return n(e,t),e.prototype._getColorIterator=function(t){var e=this._definition._plotDefinition.colorIterator();return null==e&&(e=t._colorIterator),e},e.prototype.queryInterface=function(e){return"IColorLegend"===e?this:t.prototype.queryInterface.call(this,e)},e}(t._SingleLegendDataModel);t._EmptyColorLegendDataModel=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n,i,o,r){var l=t.call(this,e,null==o?n:n+" - "+o,r)||this;return l.__valuesName=n,l.__key=i,l}return n(e,t),e.prototype._valuesName=function(){return this.__valuesName},e.prototype._key=function(){return this.__key},e.prototype._dataPointKey=function(){return e._generateKey(this.__valuesName,this.__key)},e._generateKey=function(t,e){return null==e?t:t+"-"+e},e}(t._ItemizedPointLegendItemDataModel),e._ItemizedValuesNameLegendItem=i}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return void 0===i&&(i=null),t.call(this,e,n,i)||this}return n(e,t),e}(t._DataPointItemizedLegendDataModel);t._ValuesNameDataPointItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l){var a=e.call(this,t,n,"Default",o,l)||this;return a.__customLegendItems=i,a._sortDefinition=r,a}return n(i,e),i.prototype._getCustomLegendItems=function(){return this.__customLegendItems},i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isCustomLegendEncodingDefinition(n)){var i=n;if(null==this._sortDefinition&&null!=i._sortDefinition)return!1;if(null!=this._sortDefinition&&null==i._sortDefinition)return!1;if(null!=this._sortDefinition&&null!=i._sortDefinition&&!this._sortDefinition.equalsWith(i._sortDefinition))return!1;if(this._getCustomLegendItems().length!=i._getCustomLegendItems().length)return!1;for(var o=!1,r=0;r<this._getCustomLegendItems().length;r++){if(this._getCustomLegendItems()[r].title!=i._getCustomLegendItems()[r].title||this._getCustomLegendItems()[r].ruleType!=i._getCustomLegendItems()[r].ruleType){o=!1;break}o=!0}return o}return!1},i}(t._LegendEncodingDefinition);t._CustomLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="CustomLegend",n.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,n.priority=1,n}return n(i,e),i.prototype._buildLegendDefinition=function(e,n,i,o,r){if(e instanceof t._BaseCartesianPlotDefinition&&!(e instanceof t._TextCartesianPlotDefinition)){var l=this._legendType(n);if(null==l)return null;var a=l;if(a==t.LegendType.Color){var u=n;if(null!=u.items&&u.items.length>0){var s=[],_=u.items;if((_=_.filter((function(n){return!(null==n.title||null==n.ruleType||s.indexOf(n.ruleType)>=0||null==t._BuildInCustomLegendItemRuleBuilderCollection._defaultBuildInCustomLegendItemRuleBuilders()._rule(e,n.ruleType,[],e._pluginCollection)||(s.push(n.ruleType),0))}))).length>0){var p=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(u.sort,e._dataSchema,u.field);return new t._CustomLegendEncodingDefinition(e,a,_,n.label,p,new t.models._CustomLegendBuilder(i))}}}}return null},i.prototype.queryInterface=function(t){return"ILegendEncodingDefinitionBuilder"==t||"IPlugin"==t?this:null},i._defaultPlugin=new i,i}(t._LegendEncodingDefinitionBuilder);t._CustomLegendEncodingDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isCustomLegendEncodingDefinition=function(e){return!!t._isLegendDefinition(e)&&"function"==typeof e._getCustomLegendItems}}(t||(t={})),function(t){t._isValuesNameLegendEncodingDefinition=function(e){if(!t._isLegendDefinition(e))return!1;var n=e;return null!=n._valueEncodingDefinitions&&null!=n._dataFieldDefinitions}}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l){var a=e.call(this,n,t.LegendType.Color,"Default","",l)||this;return a._valueEncodingDefinitions=i,a._dataFieldDefinitions=o,a._sortDefinition=r,a}return n(i,e),i.prototype.equalsWith=function(n){return!!e.prototype.equalsWith.call(this,n)&&!!t._isValuesNameLegendEncodingDefinition(n)},i}(t._LegendEncodingDefinition);t._ValuesNameLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.__constValuesName="VALUESNAME",n.name="ValuesNameLegend",n.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,n.priority=1,n}return n(i,e),i.prototype._getFieldNames=function(e){for(var n=t._EscapedCharacterStringUtility._split(e,">"),i=0;i<n.length;i++){var o=t._EscapedCharacterStringUtility._trim(n[i]);n[i]=t._EscapedCharacterStringUtility._normalize(o)}return n},i.prototype._getFieldDefinitions=function(e,n,i,o){var r=e;if(null!=r&&r.length>0){var l=n.filter((function(e){if(t._isSingleDataFieldDetailEncodingDefinition(e)){var n=e;return-1!=r.indexOf(n._dataFieldDefinition._dataField._name)}return!1})).map((function(t){return t._dataFieldDefinition}));if(null!=i&&t._isHierarchicalCategoryEncodingDefinition(i))for(var a=0,u=i._hierarchicalGroupingDefinitions;a<u.length;a++){var s=u[a];-1!=r.indexOf(s._dataFieldDefinition._dataField._name)&&l.push(s._dataFieldDefinition)}else for(var _=0,p=o;_<p.length;_++){var c=p[_];if(t._isXyValueEncodingDefinition(c)){var h=c._getXFieldEncodingDefinition();if(null!=h&&null!=h._getXDataFieldDefinition()&&-1!=r.indexOf(h._getXDataFieldDefinition()._dataField._name)){l.push(h._getXDataFieldDefinition());break}}}return l}return null},i.prototype._buildLegendDefinition=function(e,n,i,o,r){if(e instanceof t._BaseCartesianPlotDefinition){var l=this._legendType(n);if(null==l)return null;if(l==t.LegendType.Color&&null!=n.field&&t._isCartesianEncodingsDefinitionContext(o)){var a=n,u=o,s=this._getFieldNames(n.field),_=u._detailEncodingDefinitions,p=u._categoryEncodingDefinition,c=u._valueEncodingDefinitions;if(s.length>0&&s[0]===this.__constValuesName){s.shift();var h=this._getFieldDefinitions(s,_,p,c),f=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(a.sort,e._dataSchema,null);return null!=h&&h.length>0?new t._ValuesNameLegendEncodingDefinition(e,c,h,f,new t.models._ValuesNameLegendBuilder(i)):new t._ValuesNameLegendEncodingDefinition(e,c,[],f,new t.models._ValuesNameLegendBuilder(i))}}}return null},i.prototype.queryInterface=function(t){return"ILegendEncodingDefinitionBuilder"==t||"IPlugin"==t?this:null},i._defaultPlugin=new i,i}(t._LegendEncodingDefinitionBuilder);t._ValuesNameLegendEncodingDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._generateKey=function(t,e){return t+"_"+e},i.prototype._setUp=function(){for(var e=[],n=this._plotAreaView._getDefinition()._plotAreaOption.plugins,i=this._plotAreaView._getDefinition()._pluginCollection,o=this._definition._getCustomLegendItems(),r=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._plotDefinition._pluginCollection),l=0,a=o;l<a.length;l++){var u=a[l],s=this._generateKey(u.title,u.ruleType),_=t._BuildInCustomLegendItemRuleBuilderCollection._defaultBuildInCustomLegendItemRuleBuilders()._rule(this._definition._plotDefinition,u.ruleType,n,i);(y=new t.models._CustomItemizedValuePointLegendItem(this._legend,u.title,_,s,r))._setSymbol(this._getLegendSymbol()),e.push(y)}for(var p=0,c=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,n,i)._getPointViews(this._plotAreaView,this._legend);p<c.length;p++)for(var h=c[p],f=0,d=e;f<d.length;f++){var y;if((y=d[f]).rule.conformity(h._data())){s=y._dataPointKey();var g=this._legend._dataPointKeysMap._get(s);null==g&&(g=[],this._legend._dataPointKeysMap._set(s,g)),g.push(h);break}}var m=this._legend.__items;m.push.apply(m,e)},i.prototype._apply=function(){t._LegendUtility._isType(this._legend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},i.prototype._applyColor=function(e){this._sortItems();for(var n=0,i=this._legend.__items;n<i.length;n++){var o=i[n];if(o instanceof t.models._CustomItemizedValuePointLegendItem){var r=this._getColorProvider()._colorWithValue(o.key);null==r&&(r=this._getColor(e)),o._updateColor(r)}else o._updateColor(this._getColor(e))}},i.prototype._sortItems=function(){var e=this,n=this._definition._sortDefinition;if(null!=n){var i=this._legend.__items;if(t._isFieldSortDefinition(n)){var o=n;i.sort((function(n,i){var r=n,l=i,a=e._legend._dataPointKeysMap._get(r._dataPointKey()),u=e._legend._dataPointKeysMap._get(l._dataPointKey());return a=null!=a?a:[],u=null!=u?u:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(a.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(u.map((function(t){return t._data()._dataSlices}))),o)}))}else i.sort((function(t,e){var n=t,i=e;return n.key==i.key?0:null==n.key?1:null==i.key?-1:n.key.toLowerCase().localeCompare(i.key.toLowerCase())}));n._isAscending||i.reverse()}},i.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},i}(t._ItemizedLegendInitializer);t.CustomLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CustomLegendInitializer",this.type=t._BuildInLegendInitializerBuilderCollection._pluginType,this.priority=0}return e.prototype._buildLegendInitializer=function(e,n){var i=n._getDefinition();if(i instanceof t._CustomLegendEncodingDefinition){if(n instanceof t._CustomValueDataPointItemizedLegendDataModel)return new t.CustomLegendInitializer(e,n,i);if(n instanceof t._MergedCustomLegendDataModel){var o=n._definitions;return new t._MergedCustomLegendInitializer(e,n,o)}}return null},e.prototype.queryInterface=function(t){return"ILegendInitializerBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CustomLegendInitializerBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype._setUp=function(){},e.prototype._apply=function(){this._adopterApply(this._plotAreaView)},e}(t._LegendInitializer);t._EmptyLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){this.name="EmptyLegendInitializer",this.type=t._BuildInLegendInitializerBuilderCollection._pluginType,this.priority=0}return e.prototype._buildLegendInitializer=function(e,n){if(n instanceof t._EmptyColorLegendDataModel){var i=n._getDefinition();return new t._EmptyLegendInitializer(e,n,i)}return null},e.prototype.queryInterface=function(t){return"ILegendInitializerBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._EmptyLegendInitializerBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._setUp=function(){for(var e=this,n=[],i=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._plotDefinition._pluginCollection),o=this._definition,r=0,l=this._getRelatedPlot(this._plotAreaView,o);r<l.length;r++){var a=l[r];null!=a&&null!=o&&a._traverseCartesianGroupView((function(r,l){for(var a=0,u=r._getCartesianSeriesViews();a<u.length;a++)for(var s=u[a],_=s.valueDefinition,p=0,c=s._getPointViews();p<c.length;p++){var h=c[p],f=null;if(0!=h._data()._dataSlices._length){var d=null;null!=o._dataFieldDefinitions&&o._dataFieldDefinitions.length>0&&(f=""+(d=t._DataSlicesAggregate._defaultAggregate._aggregate(h._data()._dataSlices,o._dataFieldDefinitions[0]._dataField,t.Aggregate.List)));var y=t.models._ItemizedValuesNameLegendItem._generateKey(_,f),g=e._legend._dataPointKeysMap._get(y);if(null==g){g=[],e._legend._dataPointKeysMap._set(y,g);var m=e._suffixGetter(d,o),v=new t.models._ItemizedValuesNameLegendItem(e._legend,_,f,m,i);n.push(v),v._setSymbol(e._getLegendSymbol())}g.push(h)}var w=t.models._ItemizedValuesNameLegendItem._generateKey(_,f),b=e._legend._dataPointKeysMap._get(w);null==b&&(b=[]),b.push(h)}}),null)}var u=this._legend.__items;u.push.apply(u,n)},i.prototype._apply=function(){this._sortItems(),this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},i.prototype._getRelatedPlot=function(e,n){for(var i=[],o=0,r=e._getPlotViews();o<r.length;o++){var l=r[o];if(t._isCartesianPlotView(l)){var a=l;a._getDefinition()===n._plotDefinition&&i.push(a)}}return i},i.prototype._suffixGetter=function(t,e){if(null!=e._dataFieldDefinitions&&e._dataFieldDefinitions.length>0){var n=e._dataFieldDefinitions[0]._format;return this._getStringByFormat(t,n)}return null},i.prototype._getStringByFormat=function(e,n){var i=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._plotDefinition._pluginCollection);return null!=i&&null==n&&(t._DataValueTypeExtension._isNumber(e)?n=i.defaultFormat(t.core.DataType.Number,!1):t._DataValueTypeExtension._isDate(e)&&(n=i.defaultFormat(t.core.DataType.Date,!1))),i.format(n,e)},i.prototype._sortItems=function(){var e=this,n=this._definition._sortDefinition;if(null!=n){var i=this._legend.__items;if(t._isFieldSortDefinition(n)){var o=n;i.sort((function(n,i){var r=n,l=i,a=e._legend._dataPointKeysMap._get(r._dataPointKey()),u=e._legend._dataPointKeysMap._get(l._dataPointKey());return a=null!=a?a:[],u=null!=u?u:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(a.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(u.map((function(t){return t._data()._dataSlices}))),o)}))}else i.sort((function(e,n){var i=e,o=n;return t._DataValueTypeComparer._defaultDataValueTypeComparer._compare(i._valuesName(),o._valuesName())}));n._isAscending||i.reverse()}},i.prototype._applyColor=function(t){for(var e=0,n=this._groupingItems();e<n.length;e++){var i=n[e];if(i.length>0)for(var o=this._getColor(t),r=0,l=i.length;r<l;++r)i[r]._updateColor(this._tintColor(o,r,l))}},i.prototype._groupingItems=function(){for(var t={},e=[],n=0,i=this._legend.__items;n<i.length;n++){var o=i[n];if(null==o._key())e.push([o]);else{var r=o._valuesName();null==t[r]&&(t[r]=[],e.push(t[r])),t[r].push(o)}}return e},i.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},i.prototype._tintColor=function(e,n,i){return t.models._isCssColor(e)||t.models._isLinearGradientColor(e)||t.models._isRadialGradientColor(e)?t._ColorUtility._buildColorByTint(e,n/i):e},i}(t._ItemizedLegendInitializer);t._ValuesNameLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ValuesNameLegendInitializerBuilder",this.type=t._BuildInLegendInitializerBuilderCollection._pluginType,this.priority=0}return e.prototype._buildLegendInitializer=function(e,n){var i=n._getDefinition();if(i instanceof t._ValuesNameLegendEncodingDefinition){if(n instanceof t._ValuesNameDataPointItemizedLegendDataModel)return new t._ValuesNameLegendInitializer(e,n,i);if(n instanceof t._MergedValuesNameLegendDataModel){var o=n._definitions;return new t._MergedValuesNameLegendInitializer(e,n,o)}}return null},e.prototype.queryInterface=function(t){return"ILegendInitializerBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ValuesNameLegendInitializerBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._generateKey=function(t,e){return t+"_"+e},i.prototype._setUp=function(){for(var e=[],n=this._plotAreaView._getDefinition()._plotAreaOption.plugins,i=this._plotAreaView._getDefinition()._pluginCollection,o=this._definitions[0],r=o._getCustomLegendItems(),l=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,o._plotDefinition._pluginCollection),a=0,u=r;a<u.length;a++){var s=u[a],_=this._generateKey(s.title,s.ruleType),p=t._BuildInCustomLegendItemRuleBuilderCollection._defaultBuildInCustomLegendItemRuleBuilders()._rule(o._plotDefinition,s.ruleType,n,i);(g=new t.models._CustomItemizedValuePointLegendItem(this._mergedLegend,s.title,p,_,l))._setSymbol(this._getLegendSymbol()),e.push(g)}for(var c=0,h=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._mergedLegend,n,i)._getPointViews(this._plotAreaView,this._mergedLegend);c<h.length;c++)for(var f=h[c],d=0,y=e;d<y.length;d++){var g;if((g=y[d]).rule.conformity(f._data())){_=g._dataPointKey();var m=this._mergedLegend._dataPointKeysMap._get(_);null==m&&(m=[],this._mergedLegend._dataPointKeysMap._set(_,m)),m.push(f);break}}var v=this._mergedLegend.__items;v.push.apply(v,e)},i.prototype._apply=function(){t._LegendUtility._isType(this._mergedLegend,t.LegendType.Color)&&this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},i.prototype._applyColor=function(t){this._sortItems();for(var e=0,n=this._mergedLegend.__items;e<n.length;e++){var i=n[e],o=this._getColorProvider()._colorWithValue(i.key);null==o&&(o=this._getColor(t)),i._updateColor(o)}},i.prototype._sortItems=function(){var e=this,n=this._definitions[0]._sortDefinition;if(null!=n){var i=this._mergedLegend.__items;if(t._isFieldSortDefinition(n)){var o=n;i.sort((function(n,i){var r=e._mergedLegend._dataPointKeysMap._get(n._dataPointKey()),l=e._mergedLegend._dataPointKeysMap._get(i._dataPointKey());return r=null!=r?r:[],l=null!=l?l:[],t._DataSlicesComparer._defaultComparer._compare(t._DataSlicesUtility._merge(r.map((function(t){return t._data()._dataSlices}))),t._DataSlicesUtility._merge(l.map((function(t){return t._data()._dataSlices}))),o)}))}else i.sort((function(t,e){return t.key==e.key?0:null==t.key?1:null==e.key?-1:t.key.toLowerCase().localeCompare(e.key.toLowerCase())}));n._isAscending||i.reverse()}},i.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},i}(t._MergedItemizedLegendInitializer);t._MergedCustomLegendInitializer=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._setUp=function(){for(var e=this,n=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definitions[0]._plotDefinition._pluginCollection),i=this._definitions,o=[],r=function(i){for(var r=i,a=0,u=l._getRelatedPlot(l._plotAreaView,r);a<u.length;a++){var s=u[a];null!=s&&null!=r&&s._traverseCartesianGroupView((function(i,l){for(var a=0,u=i._getCartesianSeriesViews();a<u.length;a++)for(var s=u[a],_=s.valueDefinition,p=0,c=s._getPointViews();p<c.length;p++){var h=c[p],f=null;if(0!=h._data()._dataSlices._length){var d=null;null!=r._dataFieldDefinitions&&r._dataFieldDefinitions.length>0&&(f=""+(d=t._DataSlicesAggregate._defaultAggregate._aggregate(h._data()._dataSlices,r._dataFieldDefinitions[0]._dataField,t.Aggregate.List)));var y=t.models._ItemizedValuesNameLegendItem._generateKey(_,f),g=e._mergedLegend._dataPointKeysMap._get(y);if(null==g){g=[],e._mergedLegend._dataPointKeysMap._set(y,g);var m=e._suffixGetter(d,r),v=new t.models._ItemizedValuesNameLegendItem(e._mergedLegend,_,f,m,n);o.push(v),v._setSymbol(e._getLegendSymbol())}g.push(h)}var w=t.models._ItemizedValuesNameLegendItem._generateKey(_,f),b=e._mergedLegend._dataPointKeysMap._get(w);null==b&&(b=[]),b.push(h)}}),null)}},l=this,a=0,u=i;a<u.length;a++)r(u[a]);var s=this._mergedLegend.__items;s.push.apply(s,o)},i.prototype._apply=function(){this._applyColor(this._plotAreaView),this._sortItemsBySorter(this._plotAreaView),this._adopterApply(this._plotAreaView)},i.prototype._getRelatedPlot=function(e,n){for(var i=[],o=0,r=e._getPlotViews();o<r.length;o++){var l=r[o];if(t._isCartesianPlotView(l)){var a=l;a._getDefinition()===n._plotDefinition&&i.push(a)}}return i},i.prototype._suffixGetter=function(t,e){if(null!=e._dataFieldDefinitions&&e._dataFieldDefinitions.length>0){var n=e._dataFieldDefinitions[0]._format;return this._getStringByFormat(t,n)}return null},i.prototype._getStringByFormat=function(e,n){var i=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definitions[0]._plotDefinition._pluginCollection);return null!=i&&null==n&&(t._DataValueTypeExtension._isNumber(e)?n=i.defaultFormat(t.core.DataType.Number,!1):t._DataValueTypeExtension._isDate(e)&&(n=i.defaultFormat(t.core.DataType.Date,!1))),i.format(n,e)},i.prototype._applyColor=function(t){for(var e=0,n=this._groupingItems();e<n.length;e++){var i=n[e];if(i.length>0)for(var o=this._getColor(t),r=0,l=i.length;r<l;++r)i[r]._updateColor(this._tintColor(o,r,l))}},i.prototype._groupingItems=function(){for(var t={},e=[],n=0,i=this._mergedLegend.__items;n<i.length;n++){var o=i[n];if(null==o._key())e.push([o]);else{var r=o._valuesName();null==t[r]&&(t[r]=[],e.push(t[r])),t[r].push(o)}}return e},i.prototype._tintColor=function(e,n,i){return t.models._isCssColor(e)||t.models._isLinearGradientColor(e)||t.models._isRadialGradientColor(e)?t._ColorUtility._buildColorByTint(e,n/i):e},i.prototype._getColor=function(t){return this._getColorIterator(t)._next(!0)},i}(t._MergedItemizedLegendInitializer);t._MergedValuesNameLegendInitializer=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._MergedItemizedLegendDataModel);t._MergedCustomLegendDataModel=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._MergedItemizedLegendDataModel);t._MergedValuesNameLegendDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._mergeColorShapeLegend=function(e){for(var n=this,i=e.slice(),o=function(e){var o=i[e],r=t._NativeExtension._findIndex(i,(function(e){var i=o,r=e;return n._canMerge(i,r)&&t._isSingleLegendDataModel(i)&&t._isSingleLegendDataModel(r)&&t._isItemizedLegendDataModel(i)&&t._isItemizedLegendDataModel(r)&&n._isPlotEquals(i._getDefinition()._plotDefinition,r._getDefinition()._plotDefinition)&&(t._LegendUtility._isType(i,t.LegendType.Color)&&t._LegendUtility._isType(r,t.LegendType.Shape)||t._LegendUtility._isType(i,t.LegendType.Shape)&&t._LegendUtility._isType(r,t.LegendType.Color))}));-1!=r&&(i[e]=new t._MergedValueLegendDataModel(o,i[r]),i.splice(r,1))},r=0;r<i.length;++r)o(r);return i},e.prototype._mergeSameTypeLegend=function(e){for(var n=this,i=0,o=e.slice(),r=function(){var e=o[i],r=t._NativeExtension._findIndex(o,(function(t){var i=e,o=t;return i!=o&&!!n._canMerge(i,o)&&n._calcFlag(i)==n._calcFlag(o)}));-1!=r?(e instanceof t._CustomValueDataPointItemizedLegendDataModel||e instanceof t._MergedCustomLegendDataModel?o[i]=new t._MergedCustomLegendDataModel(e,o[r]):e instanceof t._RangeDataPointItemizedLegendDataModel||e instanceof t._MergedRangeLegendDataModel?o[i]=new t._MergedRangeLegendDataModel(e,o[r]):(e instanceof t._ValueDataPointItemizedLegendDataModel||e instanceof t._MergedValueLegendDataModel)&&(o[i]=new t._MergedValueLegendDataModel(e,o[r])),o.splice(r,1)):i+=1};i<o.length;)r();return o},e.prototype._canMerge=function(t,e){var n=t._getDefinition(),i=e._getDefinition();return!!(n.equalsWith(i)&&this._isPlotTypeEquals(n._plotDefinition,i._plotDefinition)&&this._isPlotLegendSymbolEquals(n._plotDefinition,i._plotDefinition)&&this._isPlotColorIteratorEquals(n._plotDefinition,i._plotDefinition)&&this._isPlotColorProviderEquals(n._plotDefinition,i._plotDefinition))},e.prototype._mergeLinearLegend=function(e){for(var n=[],i=0;i<e.length;){for(var o=i+1,r=null;o<e.length;){var l=null==r?e[i]:r,a=e[o],u=l._getDefinition(),s=a._getDefinition();u.equalsWith(s)&&this._isPlotColorIteratorEquals(u._plotDefinition,s._plotDefinition)&&this._isPlotColorProviderEquals(u._plotDefinition,s._plotDefinition)?(r=new t._MergedLinearLegendDataModel(l,a),e.splice(o,1)):o+=1}n.push(null==r?e[i]:r),i+=1}return n},e.prototype._calcFlag=function(e){var n=0,i=[];if(t._isSingleLegendDataModel(e)){var o=e;i.push(o._definition._legendType)}else if(t._isMergedLegendDataModel(e)){var r=e._definitions.map((function(t){return t._legendType}));i.push.apply(i,r)}for(var l=0,a=i;l<a.length;l++)switch(a[l]){case t.LegendType.Color:n|=t._LegendKind.PlotColor;break;case t.LegendType.Shape:n|=t._LegendKind.PlotShape;break;case t.LegendType.Size:n|=t._LegendKind.PlotSize;break;case t.LegendType.BackgroundColor:n|=t._LegendKind.BackgroundColor;break;case t.LegendType.Overlay:n|=t._LegendKind.OverlayColor}return n},e.prototype._isPlotEquals=function(t,e){return t===e},e.prototype._isPlotTypeEquals=function(t,e){return t._getType()===e._getType()},e.prototype._isPlotLegendSymbolEquals=function(t,e){return t._legendSymbolViewBuilder._plotConfigOptionUsageEqualityComparer._equalsWith(t._plotConfigOption,e._plotConfigOption)},e.prototype._isPlotColorIteratorEquals=function(t,e){var n=t.colorIterator(),i=e.colorIterator();return n==i||null!=n&&null!=i&&n._equalsWith(i)},e.prototype._isPlotColorProviderEquals=function(e,n){var i=e._valueColorProvider,o=n._valueColorProvider;return i==o||t._ValueColorProviderEqualityComparer._valueColorProviderEqualityComparer._equalsWith(i,o)},e.prototype._mergeValuesNameLegend=function(e){for(var n=[],i=0;i<e.length;){for(var o=i+1,r=null;o<e.length;){var l=null==r?e[i]:r,a=e[o],u=l._getDefinition()._plotDefinition,s=a._getDefinition()._plotDefinition;this._isPlotTypeEquals(u,s)&&this._isPlotColorIteratorEquals(u,s)&&this._isPlotColorProviderEquals(u,s)&&this._isPlotLegendSymbolEquals(u,s)&&this._isValuesNameIntersect(l,a)?(r=new t._MergedValuesNameLegendDataModel(l,a),e.splice(o,1)):o+=1}n.push(null==r?e[i]:r),i+=1}return n},e.prototype._isValuesNameIntersect=function(e,n){var i=[];e instanceof t._ValuesNameDataPointItemizedLegendDataModel?i.push(e._definition):e instanceof t._MergedValuesNameLegendDataModel&&i.push.apply(i,e._definitions);var o=[];n instanceof t._ValuesNameDataPointItemizedLegendDataModel?o.push(n._definition):n instanceof t._MergedValuesNameLegendDataModel&&o.push.apply(o,n._definitions);for(var r=0,l=i;r<l.length;r++)for(var a=l[r],u=0,s=o;u<s.length;u++){var _=s[u];if(this._isIntersect(a,_))return!0}return!1},e.prototype._isIntersect=function(e,n){if(t._isValuesNameLegendEncodingDefinition(e)&&t._isValuesNameLegendEncodingDefinition(n)){for(var i=e,o=n,r=!1,l=0,a=i._valueEncodingDefinitions;l<a.length;l++){for(var u=a[l],s=0,_=o._valueEncodingDefinitions;s<_.length;s++){var p=_[s];if(u._getIdentifier()===p._getIdentifier()){r=!0;break}}if(r)break}if(!r)return!1;if(0===i._dataFieldDefinitions.length&&0===o._dataFieldDefinitions.length)return!0;for(var c=0,h=i._dataFieldDefinitions;c<h.length;c++)for(var f=h[c],d=0,y=o._dataFieldDefinitions;d<y.length;d++){var g=y[d];if(f.equalsWith(g))return!0}return!1}return!1},e.prototype.queryInterface=function(t){return"ILegendMergePolicyBuilder"==t||"ILegendMergePolicy"==t?this:null},e}();t._BaseLegendMergePolicy=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="ColorShapeLegendMergePolicy",n.type=t._BuildInLegendMergePolicyCollection._pluginType,n.priority=0,n}return n(i,e),i.prototype._buildLegendMergePolicy=function(t){return this._hasColorLegend(t)&&this._hasShapeLegend(t)?this:null},i.prototype._hasColorLegend=function(e){return e.some((function(e){return t._LegendUtility._isType(e,t.LegendType.Color)}))},i.prototype._hasShapeLegend=function(e){return e.some((function(e){return t._LegendUtility._isType(e,t.LegendType.Shape)}))},i.prototype._merge=function(t,e){var n=t.slice();return this._mergeColorShapeLegend(n)},i._defaultPlugin=new i,i}(t._BaseLegendMergePolicy);t._ColorShapeLegendMergePolicy=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function o(){var n=e.call(this)||this;return n.name="OptionLegendMergePolicy",n.type=t._BuildInLegendMergePolicyCollection._pluginType,n.priority=1,n}return n(o,e),o.prototype._buildLegendMergePolicy=function(t){return this},o.prototype._merge=function(t,e){for(var n=t.slice(),i=0,o=e.mergeOptions;i<o.length;i++){var r=o[i];n=this._internalMerge(n,r)}return n},o.prototype._internalMerge=function(e,n){for(var o=null,r=e.slice(),l=[],a=[],u=function(e){var n=t._NativeExtension._findIndex(r,(function(n){return t._isSingleLegendDataModel(n)&&n._getDefinition()._plotDefinition._plotOption.name==e.plotName&&t._LegendUtility._isType(n,e.type)}));if(-1!=n){var i=r[n];if(i instanceof t._EmptyColorLegendDataModel)return"continue";null==o?o=i:r.splice(n,1),i instanceof t._ColorLinearPointLegendDataModel?l.push(i):a.push(i)}},s=0,_=n.merge;s<_.length;s++)u(_[s]);if(null!=o){var p=r.indexOf(o),c=this._mergeLinearLegend(l),h=this._mergeItemizedLegend(a);r.splice(p,1),t._isLinearLegendDataModel(o)?(h.length>0&&r.splice(p,0,new t._CombinedLegendDataModel(h)),c.length>0&&r.splice.apply(r,i([p,0],c,!1))):(c.length>0&&r.splice.apply(r,i([p,0],c,!1)),h.length>0&&r.splice(p,0,new t._CombinedLegendDataModel(h)))}return r},o.prototype._mergeItemizedLegend=function(t){var e=t.slice();return e=this._mergeColorShapeLegend(e),e=this._mergeValuesNameLegend(e),this._mergeSameTypeLegend(e)},o._defaultPlugin=new o,o}(t._BaseLegendMergePolicy);t._OptionLegendMergePolicy=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="ValuesNameLegendMergePolicy",n.type=t._BuildInLegendMergePolicyCollection._pluginType,n.priority=0,n}return n(i,e),i.prototype._buildLegendMergePolicy=function(e){return e.some((function(e){return e instanceof t._ValuesNameDataPointItemizedLegendDataModel}))?this:null},i.prototype._merge=function(e,n){for(var i=-1,o=[],r=[],l=0;l<e.length;++l){var a=e[l];a instanceof t._ValuesNameDataPointItemizedLegendDataModel?(-1==i&&(i=l),r.push(a)):o.push(a)}if(-1==i)return o;var u=this._mergeValuesNameLegend(r);return 1==u.length?o.splice(i,0,u[0]):u.length>1&&o.splice(i,0,new t._CombinedLegendDataModel(u)),o},i._defaultPlugin=new i,i}(t._BaseLegendMergePolicy);t._ValuesNameLegendMergePolicy=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._apply=function(n,i){if(t._isDataPointItemizedLegendDataModel(i)){var o=i;this._useItemizedPointLegend(o)}else if(t._isLinearLegendDataModel(i))for(var r=i,l=0,a=r._findRelatedPlotViews(n);l<a.length;l++){var u=a[l];t._isCartesianPlotView(u)&&this._applyLinearColorPointLegend(n._getDefinition(),u,r)}else if(i instanceof t._LightnessLegendDataModel)for(var s=0,_=i._findRelatedPlotViews(n);s<_.length;s++)u=_[s],t._isCartesianPlotView(u)&&this._applyLightnessLegend(n._getDefinition(),u,i);var p=i.queryInterface("IColorLegend");if(null!=p){var c=p._getColorIterator(n);null!=c&&new e._CartesianSeriesColorApplier(c)._apply(i._findRelatedPlotViews(n))}},n.prototype._useItemizedPointLegend=function(e){for(var n=t._LegendUtility._isType(e,t.LegendType.Color),i=t._LegendUtility._isType(e,t.LegendType.Shape),o=t._LegendUtility._isType(e,t.LegendType.Size),r=t._LegendUtility._isType(e,t.LegendType.BackgroundColor),l=0,a=e._items();l<a.length;l++){var u=a[l];if(u instanceof t._ItemizedPointLegendItemDataModel){var s=e._dataPointKeysMap._get(u._dataPointKey());if(null!=s)for(var _=0,p=s;_<p.length;_++){var c=p[_];n&&c._updateLegendColor(u._color()),i&&c._updateLegendShape(u._shape),o&&c._updateLegendSize(u._size),r&&c._updateLegendBackgroundColor(u._color())}}}},n.prototype._applyLinearColorPointLegend=function(e,n,i){t._LegendUtility._isType(i,t.LegendType.Color)&&n._traverseCartesianGroupView((function(e,n){for(var o=0,r=e._getCartesianSeriesViews();o<r.length;o++){var l=r[o];l._getCartesianSeriesDataModel()._setGradientColorScale(i._linearScale());for(var a=0,u=l._getPointViews();a<u.length;a++){var s=u[a];if(t._isNumbericLegendEncodingDefinition(i._getDefinition())){var _=i._getDefinition(),p=t._DataSlicesAggregate._defaultAggregate._aggregate(s._data()._dataSlices,_._fieldDefinition()._dataField,_._aggregate()),c=i._getColorProvider()._colorWithValue(p);null==c&&(c=i._getColorByPoint(s)),s._updateLegendColor(c)}}}}),null)},n.prototype._applyLightnessLegend=function(e,n,i){t._LegendUtility._isType(i,t.LegendType.Lightness)&&n._traverseCartesianGroupView((function(t,e){for(var n=0,o=t._getCartesianSeriesViews();n<o.length;n++)for(var r=0,l=o[n]._getPointViews();r<l.length;r++){var a=l[r],u=i._getLightnessByPoint(a);null!=u&&a._updateLegendLightness(u)}}),null)},n}(),e.CartesianLegendAdopter=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(e){this.__seriesColorCached=new t._Map,this.__colorIterator=e}return e.prototype._apply=function(e){for(var n=this,i=0,o=e;i<o.length;i++){var r=o[i];t._isCartesianPlotView(r)&&r._traverseCartesianGroupView((function(t,e){for(var i=0,o=t._getCartesianSeriesViews();i<o.length;i++){var r=o[i];if(0!=r._getCartesianSeriesDataModel()._points().length&&null==r.color&&null==r._getCartesianSeriesDataModel()._getGradientColorScale()){var l=r._getIdentityContent(),a=n.__seriesColorCached._get(l);null==a&&(a=n._getColor(),n.__seriesColorCached._set(l,a)),r.color=a}}}),null)}},e.prototype._getColor=function(){return this.__colorIterator._next(!0)},e}(),e._CartesianSeriesColorApplier=n}(t||(t={})),function(t){var e=function(e){function i(n){return void 0===n&&(n=null),e.call(this,t._CartesianLegendSymbolColorBuilder._cartesianLegendSymbolColorBuilder(),n)||this}return n(i,e),i.prototype._applyOther=function(){if(!t._LegendUtility._isType(this._legendItemView()._data._legend,t.LegendType.Size)){var e=t._CartesianLegendSymbolLib._getSeriesStyle(this);null!=e&&t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(this._getDataPointStyleOption(),e)}},i.prototype._sameColor=function(){return null==this.__sameColor&&(this.__sameColor=t._LegendUtility._getRelatedPointViewsColor(this)),this.__sameColor},i}(t._LegendSymbolView);t._CartesianScatterLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function i(n){return e.call(this,n,t._CartesianLegendSymbolColorBuilder._cartesianLegendSymbolColorBuilder(),t._CartesianAreaLegendSymbolStyleBuilder._cartesianAreaLegendSymbolStyleBuilder())||this}return n(i,e),i.prototype._showSymbol=function(){return null==this.__seriesSymbols?e.prototype._showSymbol.call(this):this.__seriesSymbols},i.prototype._sameColor=function(){return null==this.__sameColor&&(this.__sameColor=t._LegendUtility._getRelatedPointViewsColor(this)),this.__sameColor},i.prototype._applyOther=function(){if(this.__seriesSymbols=null,!t._LegendUtility._isType(this._legendItemView()._data._legend,t.LegendType.Size)){var e=t._CartesianLegendSymbolLib._getSeriesStyle(this);null!=e&&(t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(this._getDataPointStyleOption(),e),this.__seriesSymbols=e.symbols)}},i}(t._AreaLegendSymbolView);t._CartesianAreaLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function i(){return e.call(this,t._CartesianLegendSymbolColorBuilder._cartesianLegendSymbolColorBuilder())||this}return n(i,e),i.prototype._sameColor=function(){return null==this.__sameColor&&(this.__sameColor=t._LegendUtility._getRelatedPointViewsColor(this)),this.__sameColor},i.prototype._applyOther=function(){if(!t._LegendUtility._isType(this._legendItemView()._data._legend,t.LegendType.Size)){var e=t._CartesianLegendSymbolLib._getSeriesStyle(this);null!=e&&t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(this._getDataPointStyleOption(),e)}},i}(t._BoxLegendSymbolView);t._CartesianBarLegendSymbol=e}(t||(t={})),function(t){var e=function(){function e(){}return e._applySeriesStyle=function(n){var i=n._legendItemView()._data._legend;if(t._isDataPointItemizedLegendDataModel(i)){for(var o=null,r=null,l=!0,a=0,u=n._legendItemView()._data._getRelatedPointViews(n._legendItemView()._legendView()._getPlotAreaView());a<u.length;a++){var s=u[a].queryInterface("ICartesianPointModel");if(null==s)return;var _=this._getCartesianSeries(s);if(!e._isCartesianSeiresHasDetailValue(_))return;if(l)o=e._getCartesianSeriesStyle(_),r=s.detail,l=!1;else if(r!=s.detail||!this._seriesStyleEquals(o,e._getCartesianSeriesStyle(_)))return}null!=o&&t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(n._getDataPointStyleOption(),o)}},e._getSeriesStyle=function(n){var i=n._legendItemView()._data._legend;if(t._isDataPointItemizedLegendDataModel(i)){for(var o=null,r=null,l=!0,a=0,u=n._legendItemView()._data._getRelatedPointViews(n._legendItemView()._legendView()._getPlotAreaView());a<u.length;a++){var s=u[a].queryInterface("ICartesianPointModel");if(null==s)return null;var _=this._getCartesianSeries(s);if(!e._isCartesianSeiresHasDetailValue(_))return null;if(l)o=e._getCartesianSeriesStyle(_),r=s.detail,l=!1;else if(r!=s.detail||!this._seriesStyleEquals(o,e._getCartesianSeriesStyle(_)))return null}return o}return null},e._seriesStyleEquals=function(e,n){return null!=e&&null!=n&&!!(e.symbols==n.symbols&&e.opacity==n.opacity&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.fill,n.fill)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.backgroundColor,n.backgroundColor)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.stroke,n.stroke)&&e.strokeDasharray==n.strokeDasharray&&e.strokeOpacity==n.strokeOpacity&&t.options._StrokeWidthOptionExtension._equalsStrokeWidthOption(e.strokeWidth,n.strokeWidth)&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.symbolFill,n.symbolFill)&&e.symbolOpacity==n.symbolOpacity&&e.symbolShape==n.symbolShape&&e.symbolSize==n.symbolSize&&t._ColorOptionEqualityComparer._colorOptionEqualityComparer._equalsWith(e.symbolStroke,n.symbolStroke)&&e.symbolStrokeDasharray==n.symbolStrokeDasharray&&e.symbolStrokeOpacity==n.symbolStrokeOpacity&&e.symbolStrokeWidth==n.symbolStrokeWidth)},e._getCartesianSeries=function(t){return t.parent},e._getCartesianSeriesStyle=function(e){return t._isCartesianSeriesView(e)?e._getCartesianSeriesDataModel()._seriesStyle():null},e._isCartesianSeiresHasDetailValue=function(e){return!!t._isCartesianSeriesView(e)&&null!=e._getCartesianSeriesDataModel()._detailValue()},e}();t._CartesianLegendSymbolLib=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this,t._CartesianLineLegendSymbolStyleBuilder._cartesianLineLegendSymbolStyleBuilder())||this;return i.__symbols=n,i}return n(i,e),i.prototype._showSymbol=function(){return null==this.__seriesSymbols?this.__symbols:this.__seriesSymbols},i.prototype._applyOther=function(){if(this.__seriesSymbols=null,!t._LegendUtility._isType(this._legendItemView()._data._legend,t.LegendType.Size)){var e=t._CartesianLegendSymbolLib._getSeriesStyle(this);null!=e&&(t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(this._getDataPointStyleOption(),e),this.__seriesSymbols=e.symbols)}},i.prototype.render=function(n,i,o){n.beginTransform();var r=this._styleBuilder._buildLegendSymbolLineStyle(this,o);n.strokeWidth=1,t._StyleUtility._applyStyle(n,r);var l=n.stroke;l instanceof t._LinearGradientColor||l instanceof t._RadialGradientColor?this._drawHorizontalLineByPath(n,i.left,i.top+i.height/2,i.width):n.drawLine(i.left,i.top+i.height/2,i.right,i.top+i.height/2),n.restoreTransform(),this._showSymbol()&&e.prototype.render.call(this,n,i,o)},i.prototype._drawHorizontalLineByPath=function(t,e,n,i){var o=t.strokeWidth;null!=o&&o>0&&(t.beginTransform(),t.fill=t.stroke,t.strokeWidth=0,t.drawRect(e,n-o/2,i,o),t.restoreTransform())},i}(t._CartesianScatterLegendSymbolView);t._CartesianLineLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this,t._CartesianLegendSymbolColorBuilder._cartesianLegendSymbolColorBuilder(),t._TextLegendSymbolStyleBuilder._textLegendSymbolStyleBuilder())||this;return i.__showSymbol=n,i}return n(i,e),i.prototype._showSymbol=function(){return this.__showSymbol},i.prototype._applyOther=function(){if(!t._LegendUtility._isType(this._legendItemView()._data._legend,t.LegendType.Size)){var e=t._CartesianLegendSymbolLib._getSeriesStyle(this);null!=e&&t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(this._getDataPointStyleOption(),e)}},i.prototype._sameColor=function(){return null==this.__sameColor&&(this.__sameColor=t._LegendUtility._getRelatedPointViewsColor(this)),this.__sameColor},i.prototype._calcFontSize=function(e,n){var o=i.__baseFontSize;if(null!=n)o=parseFloat(n);else for(var r=0,l=this._legendItemView()._legendView()._data()._getDefinition()._plotDefinition._dataLabelDefinitions();r<l.length;r++){var a=l[r];if(a._getDataLabelOption().scope==t._Constants.DataPointTextScope){var u=a._getDataLabelOption().textStyle.fontSize;null!=u&&(o=parseFloat(u))}}return(o+2*e).toString()},i.prototype._measureSymbolSize=function(e,n){e.beginTransform();var i=t._LegendUtility._getRelatedPointViewsTextStyle(this),o=null!=i?i.fontSize:null;e.fontSize=this._calcFontSize(n,o);var r=e.measureSingleLineString("A").height;return e.restoreTransform(),new t.core.Size(Math.max(1.2*r,16),r)},i.prototype.render=function(e,n,i){if(null!=this._size){e.beginTransform();var o=this._styleBuilder._buildLegendSymbolTextStyle(this,i);return t._StyleUtility._applyAllStyle(e,o),null!=this._size&&(e.fontSize=this._calcFontSize(this._size,o.fontSize)),e.drawMultiLineString("A",n,t.TextOverflow.Clip,t.HAlign.Center),void e.restoreTransform()}var r=this._legendItemView()._data,l=this._styleBuilder._buildLegendSymbolStyle(this,i,r._getSymbol()._showSymbol()),a=r instanceof t.models._ItemizedValuePointLegendItem?r.value:null,u=this._getStyleSymbolShape(),s=this._shape,_=this._getDefaultShape(this._getPlotDefinition()),p=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(this._getPlotDefinition()._getSymbolDefinitionProviderList(),a,u,s,_);if(null!=p){var c=this._getSymbolRectangle(n);p.createSymbol(c,l).render(e,i)}},i.__baseFontSize=14,i}(t._LegendSymbolView);t._TextLegendSymbolView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._cartesianAreaLegendSymbolStyleBuilder=function(){return null==e.__cartesianAreaLegendSymbolStyleBuilder&&(e.__cartesianAreaLegendSymbolStyleBuilder=new e),e.__cartesianAreaLegendSymbolStyleBuilder},e.prototype._getLegendSymbolAltStyle=function(e){var n=e._legendItemView()._legendView()._data()._getDefinition()._plotDefinition._plotConfigOption.altStyle;if(null==n)return null;var i=e._legendItemView()._data;if(i instanceof t._ItemizedPointLegendItemDataModel){var o=i._getRelatedPointViews(e._legendItemView()._legendView()._getPlotAreaView());if(0==o.length)return null;for(var r=0,l=o;r<l.length;r++){var a=l[r]._data();if(a instanceof t._RangeValuePointDataModel&&(null==a._displayLower()?0:a._displayLower())<=(null==a._displayUpper()?0:a._displayUpper()))return null}return n}return null},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);if(null!=r&&(o.fill=r,o.stroke=r),t._LegendUtility._isType(e._legendItemView()._legendView()._data(),t.LegendType.BackgroundColor))return o;var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),u=e._getUnselectedStyle(),s=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,s),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(u,p),i?t._OptionUtility._applyDataPointSymbolStyleOption(o,l):t._OptionUtility._applyDataPointStyleOption(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?i?t._OptionUtility._applyDataPointSymbolStyleOption(o,a):t._OptionUtility._applyDataPointStyleOption(o,a):e._legendItemView().relatedModels().length>0&&(i?t._OptionUtility._applyDataPointSymbolStyleOption(o,u):t._OptionUtility._applyDataPointStyleOption(o,u)));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(o,c._filteredOutSymbolStyle),i||t._OptionUtility._applyDataPointStyleOption(o,this._getLegendSymbolAltStyle(e)),o},e}();t._CartesianAreaLegendSymbolStyleBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._cartesianLegendSymbolColorBuilder=function(){return null==e.__cartesianLegendSymbolColorBuilder&&(e.__cartesianLegendSymbolColorBuilder=new e),e.__cartesianLegendSymbolColorBuilder},e.prototype._buildLegendSymbolColor=function(e){var n=e,i=e._legendItemView(),o=null;return t._LegendUtility._isType(i._data._legend,t.LegendType.Shape)&&!t._LegendUtility._isType(i._data._legend,t.LegendType.Color)&&this._isLegendEverySymbolsHasSameColor(i)&&(o=n._sameColor()),null!=i._data._color()&&(o=i._data._color()),null!=i._legendView()._iconColor()&&(o=i._legendView()._iconColor()),null==o&&(o=t._CssColor._defaultStyleColor()),o},e.prototype._isLegendEverySymbolsHasSameColor=function(e){var n=e._data._legend;return!!t._isItemizedLegendDataModel(n)&&!n._items().map((function(t){return t._getSymbol()})).some((function(t){return null==t._sameColor()}))},e}();t._CartesianLegendSymbolColorBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._cartesianLineLegendSymbolStyleBuilder=function(){return null==i.__cartesianLineLegendSymbolStyleBuilder&&(i.__cartesianLineLegendSymbolStyleBuilder=new i),i.__cartesianLineLegendSymbolStyleBuilder},i.prototype._buildLegendSymbolLineStyle=function(e,n){var i=t._StyleUtility._buildStyle(),o=t._DefaultLegendSymbolColorBuilder._defaultLegendSymbolColorBuilder()._buildLegendSymbolColor(e),r=t._LegendUtility._getRelatedSeriesViewColor(e);null!=r&&(o=r),null!=o&&(i.stroke=o);var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),u=e._getUnselectedStyle(),s=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,s),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(u,p),t._OptionUtility._applyDataPointStyleOption(i,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?t._OptionUtility._applyDataPointStyleOption(i,a):e._legendItemView().relatedModels().length>0&&t._OptionUtility._applyDataPointStyleOption(i,u));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(i,c._filteredOutSymbolStyle),i},i}(t._DefaultLegendSymbolStyleBuilder);t._CartesianLineLegendSymbolStyleBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(){}return e._textLegendSymbolStyleBuilder=function(){return null==e.__textLegendSymbolStyleBuilder&&(e.__textLegendSymbolStyleBuilder=new e),e.__textLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);if(null!=r&&(o.fill=r,o.stroke=r),t._LegendUtility._isType(e._legendItemView()._legendView()._data(),t.LegendType.BackgroundColor))return o;var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),u=e._getUnselectedStyle(),s=this._getSelectedTextStyleOption(e),_=this._getUnselectedTextStyleOption(e),p=t._LegendUtility._getRelatedPointViewsStyle(e),c=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),h=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);if(t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,p),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,c),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(u,h),i)t._OptionUtility._applyDataPointSymbolStyleOption(o,l);else{var f=t._LegendUtility._getRelatedPointViewsTextStyle(e);null!=f&&null!=f.color&&(o.fill=new t._CssColor(f.color),o.stroke=new t._CssColor(f.color)),null!=f&&null!=f.opacity&&(o.fillOpacity=f.opacity,o.strokeOpacity=f.opacity)}if(n.hasSelectionInPlotArea)if(e._legendItemView()._isSelected())if(i)t._OptionUtility._applyDataPointSymbolStyleOption(o,a);else{var d=s.color,y=s.opacity;null!=d&&(o.fill=new t._CssColor(d),o.stroke=new t._CssColor(d)),null!=y&&(o.fillOpacity=y,o.strokeOpacity=y)}else e._legendItemView().relatedModels().length>0&&(i?t._OptionUtility._applyDataPointSymbolStyleOption(o,u):(d=_.color,y=s.opacity,null!=d&&(o.fill=new t._CssColor(d),o.stroke=new t._CssColor(d)),null!=y&&(o.fillOpacity=y,o.strokeOpacity=y)));var g=e._legendItemView();return g._data._filtered&&t._StyleUtility._applyStyle(o,g._filteredOutSymbolStyle),o},e.prototype._buildLegendSymbolTextStyle=function(e,n){var i=t._StyleUtility._buildStyle(),o=e._colorBuilder._buildLegendSymbolColor(e);null!=o&&(o instanceof t._CssColor?i.textFill=o.color:o instanceof t._LinearGradientColor?o.colorStops.length>0&&(i.textFill=o.colorStops[0].color):o instanceof t._RadialGradientColor&&o.colorStops.length>0&&(i.textFill=o.colorStops[0].color));var r=e._getDataPointStyleOption(),l=e._getSelectedStyle(),a=e._getUnselectedStyle(),u=this._getSelectedTextStyleOption(e),s=this._getUnselectedTextStyleOption(e),_=t._LegendUtility._getRelatedPointViewsTextStyle(e);t._OptionUtility._applyDataPointStyleOption(i,r),t._OptionUtility._applyTextStyleOption(i,_),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?(t._OptionUtility._applyDataPointStyleOption(i,l),t._OptionUtility._applyTextStyleOption(i,u)):e._legendItemView().relatedModels().length>0&&(t._OptionUtility._applyDataPointStyleOption(i,a),t._OptionUtility._applyTextStyleOption(i,s)));var p=e._legendItemView();return p._data._filtered&&t._StyleUtility._applyStyle(i,p._filteredOutSymbolStyle),i},e.prototype._getSelectedTextStyleOption=function(e){var n=e._legendItemView()._legendView()._data()._getDefinition()._plotDefinition,i=new t.options._TextStyleOption(null);return i._mergeStyle(n._dvConfigOption.selectedTextStyle),i._mergeStyle(n._plotConfigOption.selectedTextStyle),i},e.prototype._getUnselectedTextStyleOption=function(e){var n=e._legendItemView()._legendView()._data()._getDefinition()._plotDefinition,i=new t.options._TextStyleOption(null);return i._mergeStyle(n._dvConfigOption.unselectedTextStyle),i._mergeStyle(n._plotConfigOption.unselectedTextStyle),i},e}();t._TextLegendSymbolStyleBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createItemView=function(e){return new t._CartesianLegendItemView(this,e)},i}(t._DefaultItemizedLegendContentView);t._CartesianItemizedLegendContentView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createContentView=function(){return new t._CartesianItemizedLegendContentView(this,this._data())},i}(t._ItemizedLegendView);t._CartesianItemizedLegendView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._calculateSymbolSize=function(e,n){var i=16;if(null!=this._data._size&&this._data._getSymbol()._showSymbol())return this._data._getSymbol()._measureSymbolSize(e,this._data._size);if(this._data._getSymbol()._showSymbol()){var o=t._CartesianLegendSymbolLib._getSeriesStyle(this._data._getSymbol());if(null!=o&&null!=o.symbolSize)return this._data._getSymbol()._measureSymbolSize(e,1)}return null!=this._data._size&&this._legendView()._data()._getDefinition()._plotDefinition instanceof t._TextCartesianPlotDefinition?this._data._getSymbol()._measureSymbolSize(e,this._data._size):n.height>0?(i=.7*n.height,new t.core.Size(Math.max(2*i,16),i)):new t.core.Size(i,i)},i}(t._LegendItemView);t._CartesianLegendItemView=e}(t||(t={})),function(t){var e,i;e=t.plugins||(t.plugins={}),i=function(e){function i(){var n=e.call(this)||this;return n.name="CartesianLegendLayerDefinition",n.type=t._BuildInLegendLayerDefinitionBuilderCollection._pluginType,n.priority=0,n}return n(i,e),i.prototype._buildLegendLayerDefinition=function(t){return this},i.prototype._getLegendViewBuilder=function(){return new t._CartesianLegendViewBuilder},i.prototype.queryInterface=function(t){return"ILegendLayerDefinitionBuilder"==t||"IPlugin"==t?this:null},i._defaultPlugin=new i,i}(t._BuildInLegendLayerDefinition),e._CartesianLegendLayerDefinition=i,e.PluginCollection.defaultPluginCollection.register(i._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createItemizedLegendView=function(e,n){return new t._CartesianItemizedLegendView(e,n)},i}(t._DefaultLegendViewBuilder);t._CartesianLegendViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(e,n){if(t._isCartesianPlotDefinition(e)){var i=this._createData(e,n);return null!=i&&i._initialize(),i}return null},e.prototype._createData=function(e,n){var i=e._encodingsDefinition._getCartesianCategoryEncodingDefinition();return null!=i?this._createCategoryData(e,i,n):e._valueDefinitions().every((function(e){return t._isXyStyleValueEncodingDefinition(e)}))?this._createXyData(e,n):this._createSingleValueData(e,n)},e.prototype._createCategoryData=function(e,n,i){return new t._CartesianCategoryPlotDataModel(i,e,n)},e.prototype._createSingleValueData=function(e,n){return new t._CartesianSingleValuePlotDataModel(n,e)},e.prototype._createXyData=function(e,n){return new t._CartesianXyPlotDataModel(n,e)},e}();t._CartesianPlotDataBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getContent=function(){return this.__content},i.prototype._setContent=function(t){this.__content=t},i.prototype._init=function(){this._matrix=null},i.prototype._refreshSize=function(t){if(null!=this._getContent()){this.__content._refresh(t);var e=this.__content._box();this.width=e.width,this.height=e.height}},i.prototype._junction=function(t,e){return this.__content._junction(e,t)},i.prototype._layoutAnnotation=function(e,n,i){if(null!=this._getContent()&&n instanceof t._PointAttachmentAgent){var o=n.pointAttachmentInfo(this);null!=o&&(this._updateTransform(e),this._layoutWithPointAttachInfo(o))}},i.prototype._updateTransform=function(t){if(this._refreshSize(t),null!=this.__content){var e=this.__content._box(),n=this._getMatrixTransformInfo();n.left=e.left,n.top=e.top,n.width=e.width,n.height=e.height}},i.prototype._renderAnnotation=function(t,e){var n=this;null!=this._getMatrixTransformInfo().connectionPoint&&(this.__content._renderRefresh(t),t.drawGroup(null,null,this._matrix,(function(t){n.__content._draw(t)})))},i.prototype._contain=function(e){if(null!=this._matrix){var n=this._matrix.invert();return this.__content._contain(t._MatrixUtility._transformPoint(n,e))}return!1},i.prototype._containStroke=function(e){if(null!=this._matrix){var n=this._matrix.invert();return this.__content._containStroke(t._MatrixUtility._transformPoint(n,e))}return!1},i.prototype._updateTransformInfo=function(t){this._transformInfo=t},i}(t._AnchoredPointAnnotation);t._TemplateAnnotation=e}(t||(t={})),function(t){var e=function(){function e(){this.__strokeWidth=0}return Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){0!=t&&isNaN(t)?this.__strokeWidth=t:this.__strokeWidth=0},enumerable:!1,configurable:!0}),e.prototype._refresh=function(t){},e.prototype._renderRefresh=function(t){},e.prototype._draw=function(t){},e.prototype._contain=function(e){for(var n=new t._PathUtil,i=this.strokeWidth,o=0,r=this._paths();o<r.length;o++){var l=r[o];if(n.contain(l,e.x,e.y))return!0;if(i>0&&n.containStroke(l,i,e.x,e.y))return!0}return!1},e.prototype._containStroke=function(e){var n=new t._PathUtil,i=this.strokeWidth;if(i>0)for(var o=0,r=this._paths();o<r.length;o++){var l=r[o];if(n.containStroke(l,t._ShapeUtil._getAppropriateHitestPaddingBy(i),e.x,e.y))return!0}return!1},e}();t._PathPrototype=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this)||this;return o.__overlap=!1,o._visible=!0,o._transform=null,o._zLevel=0,o._zIndex=0,o._ownerView=t,o.__getter=n,o.__lineOption=i,o}return n(i,e),i.prototype._labelShape=function(){return this._getContent()},i.prototype._lineStart=function(){return this._start},Object.defineProperty(i.prototype,"position",{get:function(){var t=this._rectangleShape();return null!=t?t.center:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.__getter()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.DataPointLabel},enumerable:!1,configurable:!0}),i.prototype._rectangleShape=function(){if(null!=this._matrix){var t=this._matrixIdentify(this._matrix);return t!=this.__cachedInfo&&(this.__cachedInfo=t,this.__cachedShape=this._toShape()),this.__cachedShape}return null},i.prototype._defaultStrokeColor=function(){return null},i.prototype._initConnectLine=function(){var e=this.__lineOption;if(null!=e){var n=t._StyleUtility._buildStyle();n.stroke=this._defaultStrokeColor(),t._OptionUtility._applyLineStyleOption(n,e),this.__connectLineStyle=n}},i.prototype._getConnectLineStyle=function(){return this.__connectLineStyle},i.prototype._layoutLabel=function(t,e){this._layout(t,e),this.__cachedInfo=null,this._initConnectLine(),null!=this.__connectLineStyle&&(this.showConnectingLine=!0)},i.prototype._render=function(e,n){null!=this._attachmentAgent()&&n._renderLabel&&this._isVisible()&&(this._beforeRender(e,n),e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._annotationStyle()),this._applyStyle(e),this._renderAnnotation(e,n),e.restoreTransform(),this._afterRender(e,n))},i.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this._contain(e)){var o=new t.HitTestResult(e,this,this,t.ElementType.DataPointLabel);return null==i||null!=i&&i.predicate(o)?o:null}return null},Object.defineProperty(i.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!1,configurable:!0}),i.prototype._matrixIdentify=function(t){return t.values.join("")},i.prototype._getOverlap=function(){return this.__overlap},i.prototype._setOverlap=function(t){this.__overlap=t},i.prototype._translate=function(t,e){if(null!=this._matrix){var n=this._getMatrixTransformInfo();n.connectionPoint.x+=t,n.connectionPoint.y+=e,this._layoutWithTransfromInfo(n)}},i.prototype._shape=function(){var e=this._rectangleShape();return null!=e?e:new t._RectangleShape(0,0,0,0,0)},i.prototype._getOwnerView=function(){return this._ownerView},i.prototype._isVisible=function(){return this._visible},i.prototype.queryInterface=function(t){return"IDataLabelModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._TemplateAnnotation);t._BaseDataLabelFrame=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,(function(){return e._dataLabel().text}),n)||this;return i.___pointView=e,i}return n(e,t),e.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._pointView()._id()+"-"+this._createIdentityContent()),this.__cachedId},e.prototype._createIdentityContent=function(){return"datalabel"},e.prototype._pointView=function(){return this.___pointView},Object.defineProperty(e.prototype,"parent",{get:function(){return this.___pointView},enumerable:!1,configurable:!0}),e.prototype._defaultStrokeColor=function(){return this.___pointView._getPointColor()},e.prototype._isVisible=function(){return!!this._pointView()._isVisible()&&this._visible},e}(t._BaseDataLabelFrame);t._PointDataLabelFrame=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._PointDataLabelFrame);t.GeneralPointDataLabelFrame=e}(t||(t={})),function(t){t._isDataLabelFrame=function(t){var e=t;return null!=e&&"function"==typeof e._labelShape&&"function"==typeof e._getTransformInfo}}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isPointDataLabelFrame=function(e){var n=e;return null!=n&&t._isDataLabelFrame(n)&&"function"==typeof n._pointView}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__cachedTextMetricsResult=null,n.__text=t,n.__dirty=!0,n}return n(i,e),i._defaultBackgroundStyle=function(){return null==i.__defaultBackgroundStyle&&(i.__defaultBackgroundStyle=t._StyleUtility._buildStyle(null,"none",null,"#666",0,null,!1)),i.__defaultBackgroundStyle},i._defaultTextStyle=function(){return null==i.__defaultTextStyle&&(i.__defaultTextStyle=t._StyleUtility._buildStyle(),i.__defaultTextStyle.textFill="#666666",i.__defaultTextStyle.fontSize="16px"),i.__defaultTextStyle},i.prototype._getText=function(){return this.__text},i.prototype._setText=function(t){this.__text!=t&&(this.__text=t,this._dirty())},i.prototype._dirty=function(){this.__dirty=!0},i.prototype._paths=function(){return[t._PathBuilder._defaultPathBuilder._buildPathFromExpression(t._OverlayConstants.PathBalloon)]},i.prototype._textStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(i._defaultTextStyle());return t._OptionUtility._applyTextStyleOption(e,this.textStyle),e},i.prototype._backgroundStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(i._defaultBackgroundStyle());return t._OptionUtility._applyDataLabelStyleFromStyleOption(e,this.backgroundStyle),e},i.prototype._box=function(){return this.__box},i.prototype._junction=function(e,n){return null==this.__box?null:t._MatrixUtility._transformPoint(e,new t.core.Point(this._ballonWidth()/2,this._ballonHeight()))},i.prototype._measureMultiLineString=function(e,n,i,o){return null==this.__cachedTextMetricsResult&&(this.__cachedTextMetricsResult=new t._TextMetricsResult),this.__cachedTextMetricsResult.measureMultiLineString(e,n,i,o)},i.prototype._renderRefresh=function(t){this.__dirty&&this._refresh(t),this.__dirty=!1},i.prototype._refresh=function(e){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle());var n=this._measureMultiLineString(e,this.__text,Number.MAX_VALUE,t.TextOverflow.Wrap);this.__textSize=n.size.clone();var i=this._ballonWidth(),o=this._ballonHeight(),r=new t.core.Rect(0,0,i,o);n.size.width>i&&(r.left-=(n.size.width-i)/2,r.width=n.size.width),n.size.height>o&&(r.top-=(n.size.height-o)/2,r.height=n.size.height),this.__box=r;var l=this._ballonBBox(),a=this._ballonWidth()/l.width,u=this._ballonHeight()/l.height,s=new t.Matrix;s.scale(a,u),s.translate(-l.left,-l.top),this.__matrix=s,this.__invert=s.invert(),e.restoreTransform(),this.__dirty=!1},i.prototype._ballonWidth=function(){return 25},i.prototype._ballonHeight=function(){return 35},i.prototype._ballonCenter=function(){return new t.core.Point(12.5,12.5)},i.prototype._ballonBBox=function(){var e=t._OverlayConstants.PathBalloonBBox;return new t.core.Rect(e[0],e[1],e[2],e[3])},i.prototype._draw=function(e){if(null!=this.__matrix){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._backgroundStyle());var n=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(t._OverlayConstants.PathBalloon);e.drawPath(n,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter,null,this.__matrix),e.restoreTransform();var i=this._ballonCenter(),o=new t.core.Rect(i.x-this.__textSize.width/2,i.y-this.__textSize.height/2,this.__textSize.width,this.__textSize.height);e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle()),e.drawMultiLineString(this.__text,o,t.TextOverflow.Wrap,t.HAlign.Center),e.restoreTransform()}},i.prototype._contain=function(n){var i=this._box();return null!=i&&n.x>=i.left&&n.x<i.right&&n.y>=i.top&&n.y<i.bottom&&(n=t._MatrixUtility._transformPoint(this.__invert,n),e.prototype._contain.call(this,n))},i}(t._PathPrototype);t._BalloonLabel=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this)||this;return i.__pointerType=t.BubblePointerType.Bottom,i.__cachedTextMetricsResult=null,i.__text=n,i.__dirty=!0,i}return n(i,e),i._defaultBackgroundStyle=function(){return null==i.__defaultBackgroundStyle&&(i.__defaultBackgroundStyle=t._StyleUtility._buildStyle(null,"none",null,"#666",0)),i.__defaultBackgroundStyle},i._defaultTextStyle=function(){return null==i.__defaultTextStyle&&(i.__defaultTextStyle=t._StyleUtility._buildStyle(),i.__defaultTextStyle.textFill="#666666",i.__defaultTextStyle.fontSize="16px"),i.__defaultTextStyle},i.prototype._getText=function(){return this.__text},i.prototype._setText=function(t){this.__text!=t&&(this.__text=t,this._dirty())},i.prototype._dirty=function(){this.__dirty=!0},i.prototype._paths=function(){return[this.__path]},i.prototype._textStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(i._defaultTextStyle());return t._OptionUtility._applyTextStyleOption(e,this.textStyle),e},i.prototype._backgroundStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(i._defaultBackgroundStyle());return t._OptionUtility._applyDataLabelStyleFromStyleOption(e,this.backgroundStyle),e},i.prototype._box=function(){return new t.core.Rect(0,0,this.__size.width,this.__size.height)},i.prototype._setPointerType=function(e){var n=this.pointerSize.height;switch(e){case t.BubblePointerType.Left:this.__size.width+=n,this.__pointerType=t.BubblePointerType.Left;break;case t.BubblePointerType.Right:this.__size.width+=n,this.__pointerType=t.BubblePointerType.Right;break;case t.BubblePointerType.Top:this.__size.height+=n,this.__pointerType=t.BubblePointerType.Top;break;default:this.__size.height+=n,this.__pointerType=t.BubblePointerType.Bottom}},i.prototype._setPointerTypeWithIndex=function(e){var n=this._indexToPointType(e),i=this.pointerSize.height;switch(n){case t.BubblePointerType.Left:this.__size.width+=i,this.__pointerType=t.BubblePointerType.Left;break;case t.BubblePointerType.Right:this.__size.width+=i,this.__pointerType=t.BubblePointerType.Right;break;case t.BubblePointerType.Top:this.__size.height+=i,this.__pointerType=t.BubblePointerType.Top;break;default:this.__size.height+=i,this.__pointerType=t.BubblePointerType.Bottom}},i.prototype._indexToPointType=function(e){return 1==e?t.BubblePointerType.Top:2==e?t.BubblePointerType.Left:3==e?t.BubblePointerType.Right:t.BubblePointerType.Bottom},i.prototype._junction=function(e,n){if(null==this.__size)return null;if(null==this.junctionLayouter){this._setPointerType(t.BubblePointerType.Bottom);var i=this._box();return t._MatrixUtility._transformPoint(e,new t.core.Point(i.center.x,i.bottom))}return this.junctionLayouter._getJunction(e,n)},i.prototype._parseFontSize=function(t){var e=t.fontSize;return null==e?16:parseInt(e,10)},i.prototype._getBorderRadius=function(t){return.5*this._parseFontSize(t)},i.prototype._getPointerSize=function(e){var n=this._parseFontSize(e);return new t.core.Size(.25*n,.2*n)},i.prototype._measureMultiLineString=function(e,n,i,o){return null==this.__cachedTextMetricsResult&&(this.__cachedTextMetricsResult=new t._TextMetricsResult),this.__cachedTextMetricsResult.measureMultiLineString(e,n,i,o)},i.prototype._renderRefresh=function(t){this.__dirty&&this._refresh(t),this.__dirty=!1},i.prototype._refresh=function(e){if(this.__text.length<=0)return this.__textSize=new t.core.Size(0,0),void(this.__size=new t.core.Size(0,0));e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle());var n=this._measureMultiLineString(e,this.__text,Number.MAX_VALUE,t.TextOverflow.Wrap);this.__textSize=n.size.clone(),this.__size=n.size.clone();var i=this._backgroundStyle().strokeWidth;this.strokeWidth=i;var o=this._getPointerSize(e),r=this._getBorderRadius(e);r=Math.min(this.__size.height/2-o.width/2,r),this.__size.width+=2*i+2*r,this.__size.height+=2*i,this.pointerSize=o,this.__borderRadius=r,e.restoreTransform(),this.__dirty=!1},i.prototype._draw=function(e){if(null!=this.__size){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._backgroundStyle());var n=e.strokeWidth,i=new t.core.Rect(n/2,n/2,this.__size.width-n,this.__size.height-n);i=this._drawBubble(e,i),e.restoreTransform();var o=this.__borderRadius;i=new t.core.Rect(i.left+n/2+o,i.top+n/2,this.__textSize.width,this.__textSize.height),e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle()),e.drawMultiLineString(this.__text,i,t.TextOverflow.Wrap,t.HAlign.Center),e.restoreTransform()}},i.prototype._drawBubble=function(e,n){var i=n.clone(),o=this.pointerSize,r=n.center;switch(this.__pointerType){case t.BubblePointerType.Left:i.left+=o.height,i.width-=o.height,r.x=n.left;break;case t.BubblePointerType.Right:i.width-=o.height,r.x=n.right;break;case t.BubblePointerType.Top:i.top+=o.height,i.height-=o.height,r.y=n.top;break;default:i.height-=o.height,r.y=n.bottom}var l=this.__borderRadius,a=new t.core.Point(i.left,i.top+l);a.x=i.left,a.y=i.top+l;var u=t._PathCommandBuilder._defaultPathCommandBuilder,s=[];return s.push(u._buildMoveToPathCommand(a.x,a.y)),a.x=i.left+l,a.y=i.top,s.push(u._buildQuadraticCurveToPathCommand(i.left,i.top,a.x,a.y)),this.__pointerType===t.BubblePointerType.Top&&(a.x=r.x-o.width/2,s.push(u._buildLineToPathCommand(a.x,a.y)),s.push(u._buildLineToPathCommand(r.x,r.y)),a.x+=o.width,s.push(u._buildLineToPathCommand(a.x,a.y))),a.x=i.right-l,s.push(u._buildLineToPathCommand(a.x,a.y)),a.x=i.right,a.y=i.top+l,s.push(u._buildQuadraticCurveToPathCommand(i.right,i.top,a.x,a.y)),this.__pointerType===t.BubblePointerType.Right&&(a.y=r.y-o.width/2,s.push(u._buildLineToPathCommand(a.x,a.y)),s.push(u._buildLineToPathCommand(r.x,r.y)),a.y+=o.width,s.push(u._buildLineToPathCommand(a.x,a.y))),a.y=i.bottom-l,s.push(u._buildLineToPathCommand(a.x,a.y)),a.x=i.right-l,a.y=i.bottom,s.push(u._buildQuadraticCurveToPathCommand(i.right,i.bottom,a.x,a.y)),this.__pointerType===t.BubblePointerType.Bottom&&(a.x=r.x+o.width/2,s.push(u._buildLineToPathCommand(a.x,a.y)),s.push(u._buildLineToPathCommand(r.x,r.y)),a.x-=o.width,s.push(u._buildLineToPathCommand(a.x,a.y))),a.x=i.left+l,s.push(u._buildLineToPathCommand(a.x,a.y)),a.x=i.left,a.y=i.bottom-l,s.push(u._buildQuadraticCurveToPathCommand(i.left,i.bottom,a.x,a.y)),this.__pointerType===t.BubblePointerType.Left&&(a.y=r.y+o.width/2,s.push(u._buildLineToPathCommand(a.x,a.y)),s.push(u._buildLineToPathCommand(r.x,r.y)),a.y-=o.width,s.push(u._buildLineToPathCommand(a.x,a.y))),s.push(u._buildClosePathCommand()),this.__path=t._PathBuilder._defaultPathBuilder._buildPath(s),e.drawPath(this.__path,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter),i},i.prototype._contain=function(t){var n=this.__size;return t.x>=0&&t.x<n.width&&t.y>=0&&t.y<n.height&&e.prototype._contain.call(this,t)},i}(t._PathPrototype);t._BubbleLabel=e}(t||(t={})),function(t){var e=function(){function e(t){this.__cachedTextMetricsResult=null,this._text=t,this._isDirty=!0}return e.prototype._getText=function(){return this._text},e.prototype._setText=function(t){this._text!=t&&(this._text=t,this._dirty())},e.prototype._dirty=function(){this._isDirty=!0},e._defaultBackgroundStyle=function(){return null==e.__defaultBackgroundStyle&&(e.__defaultBackgroundStyle=t._StyleUtility._buildStyle(null,"none",null,"#666",0)),e.__defaultBackgroundStyle},e._defaultTextStyle=function(){return null==e.__defaultTextStyle&&(e.__defaultTextStyle=t._StyleUtility._buildStyle(),e.__defaultTextStyle.textFill="#666666",e.__defaultTextStyle.fontSize="16px"),e.__defaultTextStyle},e.prototype._textStyle=function(){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(e._defaultTextStyle());return t._OptionUtility._applyTextStyleOption(n,this.textStyle),n},e.prototype._backgroundStyle=function(){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(e._defaultBackgroundStyle());return t._OptionUtility._applyDataLabelStyleFromStyleOption(n,this.backgroundStyle),n},e.prototype._refresh=function(e){if(this._text.length<=0)return this._textSize=new t.core.Size(0,0),void(this._size=new t.core.Size(0,0));e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle());var n=this._measureMultiLineString(e,this._text,Number.MAX_VALUE,t.TextOverflow.Clip),i=this._backgroundStyle().strokeWidth;this._textSize=n.size.clone(),this._size=n.size.clone(),this._size.width+=2*i,this._size.height+=2*i,e.restoreTransform(),this._isDirty=!1},e.prototype._measureMultiLineString=function(e,n,i,o){return null==this.__cachedTextMetricsResult&&(this.__cachedTextMetricsResult=new t._TextMetricsResult),this.__cachedTextMetricsResult.measureMultiLineString(e,n,i,o)},e.prototype._renderRefresh=function(t){this._isDirty&&this._refresh(t),this._isDirty=!1},e.prototype._box=function(){return new t.core.Rect(0,0,this._size.width,this._size.height)},e.prototype._draw=function(e){if(""!=this._text){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._backgroundStyle());var n=e.strokeWidth,i=new t.core.Rect(n/2,n/2,this._size.width-n,this._size.height-n);e.drawRect(i.left,i.top,i.width,i.height),e.restoreTransform(),i=new t.core.Rect(n,n,this._textSize.width,this._textSize.height),e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._textStyle()),e.drawMultiLineString(this._text,i,t.TextOverflow.Wrap,t.HAlign.Center),e.restoreTransform()}},e.prototype._contain=function(t){var e=this._size;return t.x>=0&&t.x<e.width&&t.y>=0&&t.y<e.height},e.prototype._containStroke=function(t){return!1},e.prototype._junction=function(e,n){return null==this.junctionLayouter?t._MatrixUtility._transformPoint(e,this._box().center):this.junctionLayouter._getJunction(e,n)},e}();t._LabelShape=e}(t||(t={})),function(t){!function(t){t[t.Bottom=0]="Bottom",t[t.Top=1]="Top",t[t.Left=2]="Left",t[t.Right=3]="Right"}(t.BubblePointerType||(t.BubblePointerType={}))}(t||(t={})),function(t){!function(t){t[t.Bubble=0]="Bubble",t[t.Balloon=1]="Balloon"}(t.DataLabelShapeType||(t.DataLabelShapeType={}))}(t||(t={})),t||(t={}),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="LineCartesian",this.type=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._buildCoordinateSystemViewLayoutPolicy=function(e,n){var i=e._getDefinition()._type;if(t._isCartesianCoordinateSystemView(e)&&t._isXyCartesianCoordinateSystemView(e)&&"CartesianXy"==i){var o=null!=n?n.arguments:null,r=t.options._isCoordinateSystemLayoutOption(o)?o:new t.options._CoordinateSystemLayoutOption(null!=o?o.option():null);return new t._EChartXyCartesianCoordinateSystemViewLayoutPolicy(r)}return null},e.prototype.queryInterface=function(t){return"ICoordinateSystemViewLayoutPolicyBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._LineCartesianCoordinateSystemLayoutPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="RadialCartesian",this.type=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._buildCoordinateSystemViewLayoutPolicy=function(e,n){var i=e._getDefinition()._type;if(t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)&&("CartesianRadial"==i||"CartesianPolygonal"==i)){var o=null!=n?n.arguments:null,r=t.options._isRadialCartesianCoordinateSystemLayoutPluginArgumentsOption(o)?o:new t.options._RadialCartesianCoordinateSystemLayoutPluginArgumentsOption(null!=o?o.option():null);return new t.models._EChartRadialCartesianCoordinateSystemViewLayoutPolicy(r.radius)}return null},e.prototype.queryInterface=function(t){return"ICoordinateSystemViewLayoutPolicyBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._RadialCartesianCoordinateSystemLayoutPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="MirrorLineCartesian",this.type=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._pluginType,this.priority=11}return e.prototype._buildCoordinateSystemViewLayoutPolicy=function(e,n){if(t._isCartesianCoordinateSystemView(e)&&t._isXyCartesianCoordinateSystemView(e)){var i=e;if(i._getLayoutType()==t._MirrorXyCartesianCoordinateSystemConstants._layoutType&&"MirrorCartesianXy"==i._getDefinition()._type){var o=null!=n?n.arguments:null,r=t.options._isCoordinateSystemLayoutOption(o)?o:new t.options._CoordinateSystemLayoutOption(null!=o?o.option():null);return new t.models._EChartMirrorXyCartesianCoordinateSystemViewLayoutPolicy(r)}}return null},e.prototype.queryInterface=function(t){return"ICoordinateSystemViewLayoutPolicyBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._MirrorLineCartesianCoordinateSystemLayoutPlugin=n}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t){var n=e.call(this)||this;return n.__radius=t,n}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)?e:null},i.prototype._layoutCoordinateSystemView=function(e,n,i,o){for(var r=e._horizontalCanScroll()?e._horizontalViewSize:1,l=e._verticalCanScroll()?e._verticalViewSize:1,a=e._getHorizontalAxisViews().filter((function(t){return t._scaleModel._hasScale()})),u=e._getVerticalAxisViews().filter((function(t){return t._scaleModel._hasScale()})),s=new t.core.Rect(o.left,o.top,o.width/r,o.height/l),_=0,p=[],c=[],h=0;h<u.length;h++){var f=u[h];if(p.push(0),c.push(0),f.position!=t.AxisPosition.None){var d=new t.core.Size(s.width,s.height),y=f._measure(n,d)._size;c[h]+=y.height,p[h]+=y.height-f._axisLabelHeight-f._getAxisLineWidth(),_+=p[h]}}var g=s.clone();g.height-=_;var m=new t.core.Point(g.left+g.width/2,g.top+g.height/2),v=.5*Math.min(g.width,g.height)*this.__radius;v>=1&&(v-=.5);for(var w=u[0],b=a[0],P=0,S=u;P<S.length;P++)f=S[P],this._setVerticalAxisRange(f,f._startAngle(),f._sweep);for(var C=0,V=a;C<V.length;C++){var x=V[C];this._setHorizontalAxisRange(x,x._innerRadius*v,v)}if(null!=b)for(var D=null==b._scaleModel._minimum?0:b._scaleModel._minimum,O=null==b._scaleModel._maximum?0:b._scaleModel._maximum,A=0,L=u;A<L.length;A++){var T=(f=L[A])._getAcutalOrigin();if(null!=T&&T>=D&&T<=O){var M=b._scaleModel._value(T+(null!=b?b._getRadiusOffset():0));f._setOriginRadius(M)}}if(null!=w)for(var E=null==w._scaleModel._minimum?0:w._scaleModel._minimum,I=null==w._scaleModel._maximum?0:w._scaleModel._maximum,B=0,R=a;B<R.length;B++){var k=(x=R[B])._getAcutalOrigin();if(null!=k&&k>=E&&k<=I){var N=w._scaleModel._value(k);x._setOriginAngle(N)}}var F=g.clone(),U=0;for(h=0;h<u.length;h++)f=u[h],U=this._layoutVerticalAxisView(f,n,i,F,v+U,m,U,c[h],p[h]);for(var z=0,j=a;z<j.length;z++)(x=j[z]).position!=t.AxisPosition.None&&(d=new t.core.Size(.5*g.height+.5*v,.5*g.width),x._measure(n,d)),this._layoutAxisView(x,n,i,F,v,m);var W=new t.core.Rect(m.x-v,m.y-v,2*v,2*v);return new t._CoordinateSystemLayoutResult(W,null)},i.prototype._setVerticalAxisRange=function(t,e,n){t._scaleModel._setRange([e,e+n])},i.prototype._setHorizontalAxisRange=function(t,e,n){t._scaleModel._setRange([e,n])},i.prototype._layoutAxisView=function(t,e,n,i,o,r){t._radius=o,t._cx=r.x,t._cy=r.y,t._layout(e,i,n),t._titleView()._layout(e,i,n)},i.prototype._layoutVerticalAxisView=function(t,e,n,i,o,r,l,a,u){return this._setVerticalAxisRange(t,t._startAngle(),t._sweep),i.height+=u,this._layoutAxisView(t,e,n,i,o,r),l+a},i}(t._BaseCoordinateSystemViewLayoutPolicy),e._EChartRadialCartesianCoordinateSystemViewLayoutPolicy=i}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__layoutOption=t,n}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isXyCartesianCoordinateSystemView(e)?e:null},i.prototype._layoutCoordinateSystemView=function(e,n,i,o){var r=e._getHorizontalAxisViews(),l=e._getVerticalAxisViews(),a=this.__layoutOption.padding;null==a&&((a=new t.options._CoordinateSystemPaddingOption(null)).left=t.options._ValueOptionExtension._percentageValueOption(.1),a.right=t.options._ValueOptionExtension._percentageValueOption(.1),a.top=t.options._ValueOptionExtension._pixelValueOption(60),a.bottom=t.options._ValueOptionExtension._pixelValueOption(60));var u=new t._Padding(a.left.type==t.ValueOptionType.Percentage?o.width*a.left.value:a.left.value,a.top.type==t.ValueOptionType.Percentage?o.height*a.top.value:a.top.value,a.right.type==t.ValueOptionType.Percentage?o.width*a.right.value:a.right.value,a.bottom.type==t.ValueOptionType.Percentage?o.height*a.bottom.value:a.bottom.value),s=this._calcLayoutRect(o,u),_=null,p=null;if(e._canScroll()){var c=new t.core.Rect(s.left,s.top,s.width/e._horizontalViewSize,s.height/e._verticalViewSize);this._initAxisesScale(e,o,c,n,!0),_=s,p=c}else this._initAxisesScale(e,o,s,n,!0),_=s,p=s;for(var h=0,f=l;h<f.length;h++){var d=f[h];this._layoutVerticalAxisView(d,n,o,i,u,p,s,r[0])}for(var y=0,g=r;y<g.length;y++){var m=g[y];this._layoutHorizontalAxisView(m,n,o,i,u,p,s,l[0])}return new t._CoordinateSystemLayoutResult(p,_)},i.prototype._setVerticalAxisRange=function(t,e,n){n?t._scaleModel._setRange([e.bottom,e.top]):t._scaleModel._internalSetRange([e.bottom,e.top])},i.prototype._setHorizontalAxisRange=function(t,e,n){n?t._scaleModel._setRange([e.left,e.right]):t._scaleModel._internalSetRange([e.left,e.right])},i.prototype._calcLayoutRect=function(e,n){var i=e.left+n._getLeft(),o=e.top+n._getTop(),r=e.width-n._getLeft()-n._getRight(),l=e.height-n._getTop()-n._getBottom();return r<0&&(i-=-r/2,r=0),l<0&&(o-=-l/2,l=0),new t.core.Rect(i,o,r,l)},i.prototype._layoutHorizontalAxisView=function(e,n,i,o,r,l,a,u){var s=new t.core.Size(l.width,i.height),_=this._getHorizontalAxisViewHeight(e,s,n),p=_[0],c=_[1],h=e._getAcutalOrigin(),f=e.getViewPosition(),d=e.getLabelPosition(),y=e._hasOtherSide(),g=this._calcLayoutRect(i,r),m=null;null!=h&&null!=u&&(m=u._scaleModel._value(h));var v=new t.core.Rect(l.left,0,l.width,p),w=y?new t.core.Rect(l.left,0,l.width,c):null;null!=m?f==t.Position.Top?v.top=m-p:f==t.Position.Bottom&&(v.top=m):f==t.Position.Top?(v.top=g.top-p,r._top-=p):f==t.Position.Bottom&&(v.top=g.bottom,r._bottom-=p),null!=w&&(d==t.Position.Top?(w.top=g.top-c,r._top-=c):d==t.Position.Bottom&&(w.top=g.bottom,r._bottom-=c)),o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,l.width,a.height),y?(o._otherSideRect=w,e._layout(n,v,o),o._otherSideRect=null):e._layout(n,v,o),o._lineCartesianCoordinateSystemContent=null},i.prototype._layoutVerticalAxisView=function(e,n,i,o,r,l,a,u){var s=new t.core.Size(i.width,l.height),_=this._getVerticanAxisViewWidth(e,s,n),p=_[0],c=_[1],h=e._getAcutalOrigin(),f=e.getViewPosition(),d=e.getLabelPosition(),y=e._hasOtherSide(),g=this._calcLayoutRect(i,r),m=null;null!=h&&null!=u&&(m=u._scaleModel._value(h));var v=new t.core.Rect(0,l.top,l.height,p),w=y?new t.core.Rect(0,l.top,l.height,c):null;null!=m?f==t.Position.Left?v.left=m-p:f==t.Position.Right&&(v.left=m):f==t.Position.Left?(v.left=g.left-p,r._left-=p):f==t.Position.Right&&(v.left=g.right,r._right-=p),null!=w&&(d==t.Position.Left?(w.left=g.left-c,r._left-=c):d==t.Position.Right&&(w.left=g.right,r._right-=c)),o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,a.width,l.height),null!=w?(o._otherSideRect=w,e._layout(n,v,o),o._otherSideRect=null):e._layout(n,v,o),o._lineCartesianCoordinateSystemContent=null},i.prototype._getHorizontalAxisViewHeight=function(e,n,i){var o=0,r=0,l=e._getSuggestHeight(n.height),a=e._measure(i,new t.core.Size(n.width,l));e._hasOtherSide()?(o=a._linesSize.height>l?l:a._linesSize.height,r=a._lablesSize.height):o=a._size.height>l?l:a._size.height;var u=e._getForceHeight(n.height);null!=u&&(o=u);var s=e._getForceMaxHeight(n.height);return null!=s&&o>s&&(o=s),[o,r]},i.prototype._getVerticanAxisViewWidth=function(e,n,i){var o=0,r=0,l=e._getSuggestWidth(n.width),a=e._measure(i,new t.core.Size(l,n.height));e._hasOtherSide()?(o=a._linesSize.height>l?l:a._linesSize.height,r=a._lablesSize.height):o=a._size.height>l?l:a._size.height;var u=e._getForceWidth(n.width);null!=u&&(o=u);var s=e._getForceMaxWidth(n.width);return null!=s&&o>s&&(o=s),[o,r]},i.prototype._initAxisesScale=function(t,e,n,i,o){for(var r=0,l=t._getVerticalAxisViews();r<l.length;r++){var a=l[r];this._setVerticalAxisRange(a,n,o)}for(var u=0,s=t._getHorizontalAxisViews();u<s.length;u++){var _=s[u];this._setHorizontalAxisRange(_,n,o)}},i}(t._BaseCoordinateSystemViewLayoutPolicy);t._EChartXyCartesianCoordinateSystemViewLayoutPolicy=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._setHorizontalAxisRange=function(t,e,n){1==t._getIsForwardDirection()?n?t._scaleModel._setRange([e.left+.5*e.width,e.right]):t._scaleModel._internalSetRange([e.left+.5*e.width,e.right]):n?t._scaleModel._setRange([e.left,e.right-.5*e.width]):t._scaleModel._internalSetRange([e.left,e.right-.5*e.width])},i.prototype._layoutHorizontalAxisView=function(e,n,i,o,r,l,a,u){var s=new t.core.Size(l.width,i.height),_=this._getHorizontalAxisViewHeight(e,s,n),p=_[0],c=_[1],h=e._getAcutalOrigin(),f=e.getViewPosition(),d=e.getLabelPosition(),y=e._hasOtherSide(),g=this._calcLayoutRect(i,r),m=null;null!=h&&null!=u&&(m=u._scaleModel._value(h));var v=1==e._getIsForwardDirection()?new t.core.Rect(l.left+.5*l.width,0,.5*l.width,p):new t.core.Rect(l.left,0,.5*l.width,p),w=y?new t.core.Rect(l.left,0,l.width,c):null;null!=m?f==t.Position.Top?v.top=m-p:f==t.Position.Bottom&&(v.top=m):f==t.Position.Top?v.top=g.top-p:f==t.Position.Bottom&&(v.top=g.bottom),null!=w&&(d==t.Position.Top?w.top=g.top-c:d==t.Position.Bottom&&(w.top=g.bottom)),o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,l.width,a.height),y?(o._otherSideRect=w,e._layout(n,v,o),o._otherSideRect=null):e._layout(n,v,o),o._lineCartesianCoordinateSystemContent=null},i.prototype._layoutVerticalAxisView=function(e,n,i,o,r,l,a,u){var s=new t.core.Size(i.width,l.height),_=this._getVerticanAxisViewWidth(e,s,n),p=_[0],c=_[1],h=e.getViewPosition(),f=e.getLabelPosition(),d=e._hasOtherSide(),y=this._calcLayoutRect(i,r),g=new t.core.Rect(l.left+.5*l.width,l.top,l.height,p),m=d?new t.core.Rect(0,l.top,l.height,c):null;h==t.Position.Left&&(g.left-=p),null!=m&&(f==t.Position.Left?(m.left=y.left-c,r._left-=c):f==t.Position.Right&&(m.left=y.right,r._right-=c)),o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,a.width,l.height),d?(o._otherSideRect=m,e._layout(n,g,o),o._otherSideRect=null):e._layout(n,g,o),o._lineCartesianCoordinateSystemContent=null},i}(t._EChartXyCartesianCoordinateSystemViewLayoutPolicy),e._EChartMirrorXyCartesianCoordinateSystemViewLayoutPolicy=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__radius=.75,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"radius",{get:function(){return this.__radius},set:function(t){t=this.validate(t),this.__radius!=t&&(this.__radius=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,.75),t.ValidatorAttribute(t._NumberValidator,!0,0,1)],i.prototype,"radius",null),i}(e._Option),e._RadialCartesianCoordinateSystemLayoutPluginArgumentsOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__padding=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._CoordinateSystemPaddingOptionConverter,!1)],i.prototype,"padding",null),i}(e._Option),e._CoordinateSystemLayoutOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__left=e._ValueOptionExtension._pixelValueOption(0),r.__top=e._ValueOptionExtension._pixelValueOption(0),r.__right=e._ValueOptionExtension._pixelValueOption(0),r.__bottom=e._ValueOptionExtension._pixelValueOption(0),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"left",{get:function(){return this.__left},set:function(t){null==(t=this.validate(t))?this.__left=e._ValueOptionExtension._pixelValueOption(0):this.__left!=t&&(this.__left=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.__top},set:function(t){null==(t=this.validate(t))?this.__top=e._ValueOptionExtension._pixelValueOption(0):this.__top!=t&&(this.__top=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.__right},set:function(t){null==(t=this.validate(t))?this.__right=e._ValueOptionExtension._pixelValueOption(0):this.__right!=t&&(this.__right=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.__bottom},set:function(t){null==(t=this.validate(t))?this.__bottom=e._ValueOptionExtension._pixelValueOption(0):this.__bottom!=t&&(this.__bottom=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"left",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"top",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"right",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"bottom",null),r}(e._Option),e._CoordinateSystemPaddingOption=i}(t||(t={})),function(t){!function(t){t._isCoordinateSystemLayoutOption=function(t){return null!=t&&void 0!==t.padding}}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isRadialCartesianCoordinateSystemLayoutPluginArgumentsOption=function(t){return null!=t&&void 0!==t.radius}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i._barExtension=null,i.__horizontalAxisViews=[],i.__verticalAxisViews=[],i._horizontalScrollbarVisible=!0,i._verticalScrollbarVisible=!0,i}return n(i,e),i.prototype._getMajorHorizontalAxisView=function(){return this._getHorizontalAxisViews()[0]},i.prototype._getMajorVerticalAxisView=function(){return this._getVerticalAxisViews()[0]},i.prototype._horizontalAxesView=function(){return null==this.__horizontalAxesView&&(this.__horizontalAxesView=this._createAxesView(t.Orientation.Horizontal)),this.__horizontalAxesView},i.prototype._verticalAxesView=function(){return null==this.__verticalAxesView&&(this.__verticalAxesView=this._createAxesView(t.Orientation.Vertical)),this.__verticalAxesView},i.prototype._getLayoutPolicy=function(){var e=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._defaultBuildInCoordinateSystemLayoutBuilderCollection()._coordinateSystemLayoutPolicy(this,this._definition._plotAreaOption.plugins,this._definition._pluginCollection);return null!=e?e:this._createDefaultLayoutPolicy()},i.prototype._createPlotListView=function(){return new t._CartesianPlotListView(this)},i.prototype._renderCartesianSystem=function(t,e){},i.prototype._renderChildren=function(t,n){n._renderLabel||this._plotListView._renderCartesianSystem(t,n),this._renderAxesViews(t,n),e.prototype._renderChildren.call(this,t,n)},i.prototype._renderAxesViews=function(t,e){this._horizontalAxesView()._render(t,e),this._verticalAxesView()._render(t,e)},i.prototype._applyBackgroundStyle=function(e){t._OptionUtility._applyFillOption(e,this._definition._plotAreaOption.style.fill)},i.prototype._applyInnerBorderStyle=function(e){var n=this._definition._plotAreaOption.style;t._StyleUtility._applyStroke(e,t._CssColor._defaultStyleColor()),t._OptionUtility._applyInnerLineStyleFromPlotAreaStyleOption(e,n)},i.prototype._createAxisView=function(t,e){var n=e.queryInterface("IAxisViewBuilder");return null!=n?n.buildAxisView(t,e):null},i.prototype._createAxesView=function(e){return new t._AxesView(this,e)},i.prototype._layoutData=function(){var n=this,i=t._BarExtension._barExtension(this);null!=i&&i._resetClusterGroups(),e.prototype._layoutData.call(this),this._getHorizontalAxisViews().forEach((function(e){t._BuildInAxisAddtionalCollection._buildInAxisAddtionals()._applyAxisViewAddtional(e,n._getHorizontalAxisViews(),n._definition._dvConfigOption.plugins,n._definition._pluginCollection)})),this._getVerticalAxisViews().forEach((function(e){t._BuildInAxisAddtionalCollection._buildInAxisAddtionals()._applyAxisViewAddtional(e,n._getVerticalAxisViews(),n._definition._dvConfigOption.plugins,n._definition._pluginCollection)})),this._getHorizontalAxisViews().forEach((function(t){t._createAxisScale()})),this._getVerticalAxisViews().forEach((function(t){t._createAxisScale()}));for(var o=0,r=this._getPlotViews();o<r.length;o++)r[o]._initAxis();this._applyAxes()},i.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o),null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),this._canScroll()&&(this.__scrollableContainer=new t._ScrollableContainer(this))},i.prototype._attachAxisView=function(e,n,i){void 0===i&&(i=null);var o=this._findAxisDefintion(this._getDefinition()._axisDefinitions,n,e);if(null==o)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);var r=this._getAttachedAxisViews(o,i);if(r.length>0)return r[0];var l=this._createAxisView(this,o);return null!=l&&(l._getDefinition()._orientation==t.Orientation.Horizontal?(this._getHorizontalAxisViews().push(l),null!=o._option.viewSize&&(this._horizontalViewSize=o._option.viewSize),this._horizontalScrollbarVisible=o._option.scrollbarVisible):l._getDefinition()._orientation==t.Orientation.Vertical&&(this._getVerticalAxisViews().push(l),null!=o._option.viewSize&&(this._verticalViewSize=o._option.viewSize),this._verticalScrollbarVisible=o._option.scrollbarVisible)),l},i.prototype._findAxisDefintion=function(e,n,i){var o=n._plotConfigOption.swapAxes,r=n._plotOption.name,l=o?i.type==t.AxisType.X?t.Orientation.Vertical:t.Orientation.Horizontal:i.type==t.AxisType.X?t.Orientation.Horizontal:t.Orientation.Vertical;if(0==(e=e.filter((function(t){return t._option==i}))).length)return null;if(1==e.length){var a=e[0];return a._option.plots.indexOf(r)>=0||a._orientation==l?a:null}return t._Util.find(e,(function(t){return t._orientation==l}))},i.prototype._getAttachedAxisViews=function(e,n){var i=[];return e._orientation==t.Orientation.Horizontal?i=this._getHorizontalAxisViews().filter((function(t){return t._getDefinition()._option==e._option})):e._orientation==t.Orientation.Vertical&&(i=this._getVerticalAxisViews().filter((function(t){return t._getDefinition()._option==e._option}))),i},i.prototype._applyAxes=function(){for(var t=this._getMajorHorizontalAxisView(),e=this._getMajorVerticalAxisView(),n=0,i=this._getHorizontalAxisViews();n<i.length;n++){var o=i[n];if(o._scaleModel._hasScale()&&null!=e){o._adjustOrigin(e._getDefinition()._option,e);var r=[o._getDefinition()._option.origin];e._scaleModel._adjustScaleDomain(e._getDefinition()._option,r)}}for(var l=0,a=this._getVerticalAxisViews();l<a.length;l++){var u=a[l];if(u._scaleModel._hasScale()&&null!=t){u._adjustOrigin(t._getDefinition()._option,t);var s=[u._getDefinition()._option.origin];t._scaleModel._adjustScaleDomain(t._getDefinition()._option,s)}}},i.prototype._canScroll=function(){if(!this._plotListView._canScroll())return!1;var t=this._horizontalAxesView(),e=this._verticalAxesView();return!(!t._canScroll()&&!e._canScroll())},i.prototype._scrollRect=function(){return this._plotListView._getRectangle()},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=e.prototype._hitTest.call(this,t,n,i);return null!=o||null!=(o=this._verticalAxesView()._hitTest(t,n,i))||null!=(o=this._horizontalAxesView()._hitTest(t,n,i))?o:null},i.prototype._getHorizontalAxisViews=function(){return this.__horizontalAxisViews},i.prototype._getVerticalAxisViews=function(){return this.__verticalAxisViews},i.prototype._innerMinSize=function(){return this._definition._plotAreaOption.innerMinSize},i.prototype._horizontalCanScroll=function(){return this._horizontalAxesView()._canScroll()},i.prototype._verticalCanScroll=function(){return this._verticalAxesView()._canScroll()},i.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null)},i.prototype._createScrollbar=function(e){if(e==t.Orientation.Horizontal&&!this._horizontalScrollbarVisible)return null;if(e==t.Orientation.Vertical&&!this._verticalScrollbarVisible)return null;var n=t._DvViewUtility._domManager(this._getLayoutView()._getPlotAreaView()._getDvView());if(null==n)return null;var i=this._scrollRect(),o=this._plotListView._getRectangle(),r=null;if(e==t.Orientation.Horizontal){var l=Math.max(0,i.right-o.right);r=new t.core.Rect(i.left,i.top,i.width-l,i.height)}else{var a=Math.max(0,i.bottom-o.bottom);r=new t.core.Rect(i.left,i.top,i.width,i.height-a)}return t._ScrollUtility._buildScrollbar(e,r,this._plotListView._getLogicSize(),n)},i.prototype._scrollTo=function(t,e){this._plotListView._scrollTo(t,e),this._horizontalAxesView()._scrollTo(t,e),this._verticalAxesView()._scrollTo(t,e)},i.prototype._isHitTested=function(e,n){return this._scrollRect().contains(new t.core.Point(e,n))},i}(t._ScrollableCoordinateSystemView);t._CartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._renderCartesianSystem=function(e,n){var i=this;if(this._zLevel==n._currentZLevel)if(this._canScroll()){var o=this._getRectangle(),r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height);e.drawGroup("scroll-viewport",r,null,(function(t){i._ownerView._renderCartesianSystem(t,n)}))}else this._ownerView._renderCartesianSystem(e,n)},i}(t._PlotListView);t._CartesianPlotListView=e}(t||(t={})),function(t){t._isCartesianCoordinateSystemView=function(t){var e=t;return"function"==typeof e._getHorizontalAxisViews&&"function"==typeof e._getVerticalAxisViews&&"function"==typeof e._innerMinSize&&"function"==typeof e._horizontalCanScroll&&"function"==typeof e._verticalCanScroll}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,o,r){return e.call(this,n,i._type,o,r,t._RadialCartesianCoordinateSystemViewBuilder._viewBuilder)||this}return n(i,e),i._type="CartesianRadial",i}(t._BaseCoordinateSystemDefinition);t._RadialCartesianCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._RadialCartesianCoordinateSystemDefinition._type?new t._RadialCartesianCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._RadialCartesianCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isRadialCartesianCoordinateSystemView=function(t){var e=t;return"function"==typeof e._traverseRayAxisView&&"function"==typeof e._traverseCircleAxisView}}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__center=null,i}return n(i,e),i.prototype._createDefaultLayoutPolicy=function(){return new t.models._DefaultRadialCartesianCoordinateSystemViewLayoutPolicy},i.prototype._layoutContent=function(t,n,i){var o=this._getLayoutPolicy()._layoutCoordinateSystem(t,n,i,this);if(null!=o){var r=o._plotLogicRect;this.__center=r.center}var l=this._horizontalAxesView(),a=this._verticalAxesView();l._clear(),a._clear(),this._getHorizontalAxisViews().filter((function(t){return t._scaleModel._hasScale()})).forEach((function(t){return l._add(t)})),this._getVerticalAxisViews().filter((function(t){return t._scaleModel._hasScale()})).forEach((function(t){return a._add(t)})),a._layout(t,i,n),l._layout(t,i,n),e.prototype._layoutContent.call(this,t,n,i)},i.prototype._layoutPlotViews=function(t,n,i){for(var o=0,r=this._getPlotViews();o<r.length;o++)r[o]._setCenter(this.__center);e.prototype._layoutPlotViews.call(this,t,n,i)},i.prototype._renderCartesianSystem=function(e,n){if(!n._renderLabel){if(e.beginTransform(),e.strokeWidth=0,this._applyBackgroundStyle(e),!t._ColorUtility._isTransparent(e.fill))for(var i=0,o=this._getVerticalAxisViews();i<o.length;i++){var r=o[i];this._renderCircle(e,r)}if(t._StyleUtility._applyFill(e,t._CssColor._none()),this._applyInnerBorderStyle(e),null!=e.strokeWidth&&e.strokeWidth>0)for(var l=0,a=this._getVerticalAxisViews();l<a.length;l++)r=a[l],this._renderCircle(e,r);e.restoreTransform()}},i.prototype._renderCircle=function(t,e){var n=e._innerRadius*e._radius,i=e._radius,o=e._startAngle(),r=e._sweep,l=e._cx,a=e._cy;t.drawDonut(l,a,i,n,o,r)},i.prototype._traverseRayAxisView=function(t,e){for(var n=0,i=this._getHorizontalAxisViews();n<i.length;n++)t(i[n],e)},i.prototype._traverseCircleAxisView=function(t,e){for(var n=0,i=this._getVerticalAxisViews();n<i.length;n++)t(i[n],e)},i}(t._CartesianCoordinateSystemView);t._RadialCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._RadialCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._RadialCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,o,r){return e.call(this,n,i._type,o,r,t._PolygonalCartesianCoordinateSystemViewBuilder._viewBuilder)||this}return n(i,e),i._type="CartesianPolygonal",i}(t._BaseCoordinateSystemDefinition);t._PolygonalCartesianCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._PolygonalCartesianCoordinateSystemDefinition._type?new t._PolygonalCartesianCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PolygonalCartesianCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._renderCartesianSystem=function(e,n){if(!n._renderLabel){e.beginTransform(),e.strokeWidth=0,this._applyBackgroundStyle(e);var i=this._getVerticalAxisViews();if(!t._ColorUtility._isTransparent(e.fill))for(var o=0,r=i;o<r.length;o++){var l=r[o];this._renderPolygon(e,l)}if(t._StyleUtility._applyFill(e,t._CssColor._none()),this._applyInnerBorderStyle(e),null!=e.strokeWidth&&e.strokeWidth>0)for(var a=0,u=i;a<u.length;a++)l=u[a],this._renderPolygon(e,l);e.restoreTransform()}},i.prototype._renderPolygon=function(e,n){var i=n._innerRadius*n._radius,o=n._radius,r=[],l=n.__angles(n);if(l.length>2){for(var a=0;a<l.length;++a){var u=l[a],s=Math.cos(u)*o+n._cx,_=Math.sin(u)*o+n._cy;r.push(new t.core.Point(s,_))}for(a=l.length-1;a>=0;--a)u=l[a],s=Math.cos(u)*i+n._cx,_=Math.sin(u)*i+n._cy,r.push(new t.core.Point(s,_))}e.drawPolygon(r.map((function(t){return t.x})),r.map((function(t){return t.y})))},i}(t._RadialCartesianCoordinateSystemView);t._PolygonalCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._PolygonalCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._PolygonalCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,o,r){return e.call(this,n,i._type,o,r,t._TextCategoriesCoordinateSystemViewBuilder._viewBuilder)||this}return n(i,e),i._type="TextCategories",i}(t._BaseCoordinateSystemDefinition);t._TextCategoriesCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._TextCategoriesCoordinateSystemDefinition._type?new t._TextCategoriesCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextCategoriesCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isTextCategoriesCoordinateSystemView=function(t){return"function"==typeof t._attachAxisView}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__horizontalAxisViews=[],i}return n(i,e),i.prototype._horizontalAxisViews=function(){return this.__horizontalAxisViews},i.prototype._horizontalAxisView=function(){return this._horizontalAxisViews()[0]},i.prototype._horizontalAxesView=function(){return null==this.__horizontalAxesView&&(this.__horizontalAxesView=this._createAxesView(t.Orientation.Horizontal)),this.__horizontalAxesView},i.prototype._renderCartesianSystem=function(t,e){},i.prototype._layoutData=function(){e.prototype._layoutData.call(this),this._horizontalAxisViews().forEach((function(t){t._createAxisScale()}));for(var t=0,n=this._getPlotViews();t<n.length;t++)n[t]._initAxis()},i.prototype._attachAxisView=function(e,n){var i=this._findAxisDefinition(this._getDefinition()._axisDefinitions,n,e);if(null==i)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);var o=[];if(i._orientation==t.Orientation.Horizontal){var r=i._option;o=this._horizontalAxisViews().filter((function(t){return t._getDefinition()._option==r}))}if(o.length>0)return o[0];var l=null;return null!=i._option?null!=(l=this._createAxisView(this,i))&&i._orientation==t.Orientation.Horizontal&&this.__horizontalAxisViews.push(l):i._orientation==t.Orientation.Horizontal&&(l=this._horizontalAxisView()),l},i.prototype._findAxisDefinition=function(e,n,i){return t._Util.find(e,(function(t){return t._option==i}))},i.prototype._createAxisView=function(t,e){var n=e.queryInterface("IAxisViewBuilder");return null!=n?n.buildAxisView(t,e):null},i.prototype._createPlotListView=function(){return new t._TextCategoriesPlotListView(this)},i.prototype._getBox=function(){for(var e=null,n=0,i=this._getPlotViews();n<i.length;n++)for(var o=0,r=i[n]._getPointViews();o<r.length;o++){var l=r[o];if(l instanceof t._TextCartesianPointView){var a=l._rectangle();null!=a&&(e=null!=e?t._RectangleUtility._unionOfRectangles(e,a):a);for(var u=0,s=l._overlayItemViews();u<s.length;u++){var _=s[u].queryInterface("IBoxBounded");null!=_&&null!=(a=_.box())&&(e=null!=e?t._RectangleUtility._unionOfRectangles(e,a):a)}}}for(var p=0,c=this._horizontalAxisViews();p<c.length;p++)for(var h=0,f=c[p]._labelViews();h<f.length;h++){var d=f[h];if(d._isVisible()){var y=d._getRotatedRectangle(),g=Math.min(y.leftTop.x,y.rightTop.x,y.rightBottom.x,y.leftBottom.x),m=Math.max(y.leftTop.x,y.rightTop.x,y.rightBottom.x,y.leftBottom.x),v=Math.min(y.leftTop.y,y.rightTop.y,y.rightBottom.y,y.leftBottom.y),w=Math.max(y.leftTop.y,y.rightTop.y,y.rightBottom.y,y.leftBottom.y),b=new t.core.Rect(g,v,m-g,w-v);e=null!=e?t._RectangleUtility._unionOfRectangles(e,b):b}}return e},i.prototype._getRenderMatrix=function(){var e=this._getBox();if(null!=e){var n=0,i=0,o=this._definition._hAlign;if(null!=o)switch(o){case t.HAlign.Left:n=this._rectangle().left-e.left;break;case t.HAlign.Right:n=this._rectangle().right-e.right;break;case t.HAlign.Center:n=this._rectangle().center.x-e.center.x}var r=this._definition._vAlign;if(null!=r)switch(r){case t.VAlign.Top:i=this._rectangle().top-e.top;break;case t.VAlign.Bottom:i=this._rectangle().bottom-e.bottom;break;case t.VAlign.Middle:i=this._rectangle().center.y-e.center.y}if(0!=n||0!=i){var l=new t.Matrix;return l.translate(n,i),l}}return null},i.prototype._layoutContent=function(n,i,o){this._updateRectangle(i);for(var r=this._horizontalAxesView(),l=r._canScroll()?this._horizontalViewSize:1,a=0,u=this._horizontalAxisViews();a<u.length;a++)(d=u[a])._scaleModel._setRange([i.left,i.left+i.width/l]);e.prototype._layoutContent.call(this,n,i,o);for(var s=null,_=0,p=this._getPlotViews();_<p.length;_++){var c=p[_]._rectangle().clone();s=null==s?c:t._RectangleUtility._unionOfRectangles(s,c);for(var h=0,f=this._horizontalAxisViews();h<f.length;h++){var d,y=(d=f[h])._measure(n,new t.core.Size(c.width,i.height))._size,g=s.clone();g.height=y.height,d.position==t.AxisPosition.Far?(g.top=s.top-g.height,o._lineCartesianCoordinateSystemContent=s.clone(),d._layout(n,g,o),o._lineCartesianCoordinateSystemContent=null):d.position==t.AxisPosition.Near&&(g.top=s.bottom,o._lineCartesianCoordinateSystemContent=s.clone(),d._layout(n,g,o),o._lineCartesianCoordinateSystemContent=null)}}r._clear(),this._horizontalAxisViews().filter((function(e){return e.position!=t.AxisPosition.None})).forEach((function(t){return r._add(t)})),r._layout(n,o,i)},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=e.prototype._hitTest.call(this,t,n,i);return null!=o||null!=(o=this._horizontalAxesView()._hitTest(t,n,i))?o:null},i.prototype._renderChildren=function(e,n){var i=this;if(!n._renderLabel){e.beginTransform();for(var o=0,r=this._getPlotViews();o<r.length;o++)r[o]._traversePointView((function(i,o){i instanceof t._TextCartesianPointView&&i._renderBackground(e,n)}),null);e.restoreTransform()}e.drawGroup(null,null,this._getRenderMatrix(),(function(t){i._horizontalAxesView()._render(t,n),i._plotListView._render(t,n)}))},i.prototype._createAxesView=function(e){return new t._AxesView(this,e)},i.prototype._canScroll=function(){return!!this._plotListView._canScroll()&&!!this._horizontalAxesView()._canScroll()},i.prototype._scrollTo=function(t,e){this._plotListView._scrollTo(t,e),this._horizontalAxesView()._scrollTo(t,e)},i}(t._BaseCoordinateSystemView);t._TextCategoriesCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._TextCategoriesCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._TextCategoriesCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._renderCartesianSystem=function(e,n){var i=this;if(this._canScroll()){var o=this._getRectangle(),r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(o.left,o.top,o.width,o.height);e.drawGroup("scroll-viewport",r,null,(function(t){i._ownerView._renderCartesianSystem(t,n)}))}else this._ownerView._renderCartesianSystem(e,n)},i}(t._PlotListView);t._TextCategoriesPlotListView=e}(t||(t={})),function(t){t._isXyCartesianCoordinateSystemView=function(t){var e=t;return"function"==typeof e._getLayoutType&&"function"==typeof e._traverseHorizontalAxisView&&"function"==typeof e._traverseVerticalAxisView}}(t||(t={})),function(t){var e=function(){function t(){}return t._layoutType="Xy",t}();t._XyCartesianCoordinateSystemConstants=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._viewSizeChanged=function(){var e=this._horizontalViewSize,n=this._verticalViewSize,i=t._BuildInViewSizeBuilderCollection._defaultBuildInViewSizeBuilders()._viewSizePolicy(this._getLayoutView(),null,this._definition._pluginCollection);if(null!=i){var o=i.horizontalViewSize(e,this._getLayoutView(),this.__plotRect.width),r=i.verticalViewSize(n,this._getLayoutView(),this.__plotRect.height);if(0!=o&&o!=e||0!=r&&r!=n)return e=o,n=r,this._horizontalViewSize=o,this._verticalViewSize=r,!0}return!1},i.prototype._createDefaultLayoutPolicy=function(){return new t._DefaultXyCartesianCoordinateSystemViewLayoutPolicy},i.prototype._layoutContent=function(n,i,o){var r=this._getLayoutPolicy(),l=i.clone(),a=r._layoutCoordinateSystem(n,i,o,this);this.__plotRect=a._plotLogicRect,this._viewSizeChanged()&&(a=r._layoutCoordinateSystem(n,i,o,this),this.__plotRect=a._plotLogicRect),null!=a._plotRect&&(l=a._plotRect);var u=this._horizontalAxesView(),s=this._verticalAxesView();u._clear(),s._clear();for(var _=0,p=this._getHorizontalAxisViews().filter((function(t){return t._scaleModel._hasScale()}));_<p.length;_++){var c=p[_];u._add(c)}for(var h=0,f=this._getVerticalAxisViews().filter((function(t){return t._scaleModel._hasScale()}));h<f.length;h++){var d=f[h];s._add(d)}if(this._canScroll()){for(var y=0,g=0,m=this._getVerticalAxisViews().filter((function(t){return t._scaleModel._hasScale()}));g<m.length;g++)if(d=m[g],t._isLineAxisView(d)){var v=d;y=Math.max(y,v._getTopMargin())}var w=i.clone();w.top=l.top-y,w.height=l.height+y,s._layout(n,o,w);var b=i.clone();b.left=l.left,b.width=l.width,u._layout(n,o,b)}else s._layout(n,o,i.clone()),u._layout(n,o,i.clone());this._checkGridLineViews(n),e.prototype._layoutContent.call(this,n,l,o)},i.prototype._checkGridLineViews=function(t){for(var e=[],n=[],i=this._getHorizontalAxisViews(),o=this._getVerticalAxisViews(),r=0,l=i;r<l.length;r++)null!=(s=l[r]._getAxisLinePosition(t))&&e.push(s);for(var a=0,u=o;a<u.length;a++){var s;null!=(s=u[a]._getAxisLinePosition(t))&&n.push(s)}i.forEach((function(t){t._majorGridLineViews().forEach((function(t){t._unvisualizeGridline(n)})),t._minorGridLineViews().forEach((function(t){t._unvisualizeGridline(n)}))})),o.forEach((function(t){t._majorGridLineViews().forEach((function(t){t._unvisualizeGridline(e)})),t._minorGridLineViews().forEach((function(t){t._unvisualizeGridline(e)}))}))},i.prototype._renderCartesianSystem=function(e,n){n._renderLabel||(e.beginTransform(),null!=this.plotRect&&(e.strokeWidth=0,this._applyBackgroundStyle(e),t._ColorUtility._isTransparent(e.fill)||e.drawRect(this.plotRect.left,this.plotRect.top,this.plotRect.width,this.plotRect.height),t._StyleUtility._applyFill(e,t._CssColor._none()),this._applyInnerBorderStyle(e),null!=e.strokeWidth&&e.strokeWidth>0&&e.drawRect(this.plotRect.left,this.plotRect.top,this.plotRect.width,this.plotRect.height)),e.restoreTransform())},Object.defineProperty(i.prototype,"plotRect",{get:function(){return this.__plotRect},enumerable:!1,configurable:!0}),i.prototype._scrollRect=function(){var e=this._plotListView._getRectangle(),n=this._horizontalAxesView(),i=this._verticalAxesView();return new t.core.Rect(e.left,e.top,e.width+(i._getRectangle().right-e.right),e.height+(n._getRectangle().bottom-e.bottom))},i.prototype._getLayoutType=function(){return t._XyCartesianCoordinateSystemConstants._layoutType},i.prototype._traverseHorizontalAxisView=function(t,e){for(var n=0,i=this._getHorizontalAxisViews();n<i.length;n++)t(i[n],e)},i.prototype._traverseVerticalAxisView=function(t,e){for(var n=0,i=this._getVerticalAxisViews();n<i.length;n++)t(i[n],e)},i.prototype._scrollTo=function(t,e){this._plotListView._scrollTo(t,e),this._horizontalAxesView()._scrollTo(t,0),this._verticalAxesView()._scrollTo(0,e)},i}(t._CartesianCoordinateSystemView);t._XyCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._XyCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._XyCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,o,r,l){return void 0===l&&(l=null),e.call(this,n,i._type,o,r,null!=l?l:t._XyCartesianCoordinateSystemViewBuilder._viewBuilder)||this}return n(i,e),i._type="CartesianXy",i}(t._BaseCoordinateSystemDefinition);t._XyCartesianCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._XyCartesianCoordinateSystemDefinition._type?new t._XyCartesianCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._XyCartesianCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(n,o,r){return e.call(this,n,i._type,o,r,t._MirrorPolygonalCartesianCoordinateSystemViewBuilder._viewBuilder)||this}return n(i,e),i._type="MirrorCartesianPolygonal",i}(t._BaseCoordinateSystemDefinition);t._MirrorPolygonalCartesianCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="MirrorCoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._MirrorPolygonalCartesianCoordinateSystemDefinition._type?new t._MirrorPolygonalCartesianCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MirrorPolygonalCartesianCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createDefaultLayoutPolicy=function(){return new t.models._DefaultMirrorRadialCartesianCoordinateSystemViewLayoutPolicy},i.prototype._getAttachedAxisViews=function(t,n){return e.prototype._getAttachedAxisViews.call(this,t,n).filter((function(t){return null==t._getIsForwardDirection()||t._getIsForwardDirection()==n}))},i}(t._PolygonalCartesianCoordinateSystemView);t._MirrorPolygonalCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._MirrorPolygonalCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._MirrorPolygonalCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,o,r,l){return void 0===l&&(l=null),e.call(this,n,i._type,o,r,null!=l?l:t._MirrorRadialCartesianCoordinateSystemViewBuilder._viewBuilder)||this}return n(i,e),i._type="MirrorCartesianRadial",i}(t._BaseCoordinateSystemDefinition);t._MirrorRadialCartesianCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="MirrorCoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._MirrorRadialCartesianCoordinateSystemDefinition._type?new t._MirrorRadialCartesianCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MirrorRadialCartesianCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isMirrorRadialCartesianCoordinateSystemView=function(e){return e instanceof t._MirrorRadialCartesianCoordinateSystemView}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createDefaultLayoutPolicy=function(){return new t.models._DefaultMirrorRadialCartesianCoordinateSystemViewLayoutPolicy},i.prototype._getAttachedAxisViews=function(t,n){return e.prototype._getAttachedAxisViews.call(this,t,n).filter((function(t){return null==t._getIsForwardDirection()||t._getIsForwardDirection()==n}))},i}(t._RadialCartesianCoordinateSystemView);t._MirrorRadialCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._MirrorRadialCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._MirrorRadialCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,o,r){return e.call(this,n,i._type,o,r,t._MirrorTextCategoriesCoordinateSystemViewBuilder._viewBuilder)||this}return n(i,e),i._type="MirrorTextCategories",i}(t._BaseCoordinateSystemDefinition);t._MirrorTextCategoriesCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="MirrorCoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._MirrorTextCategoriesCoordinateSystemDefinition._type?new t._MirrorTextCategoriesCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MirrorTextCategoriesCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isMirrorTextCategoriesCoordinateSystemView=function(e){return e instanceof t._MirrorTextCategoriesCoordinateSystemView}}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._TextCategoriesCoordinateSystemView);t._MirrorTextCategoriesCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._MirrorTextCategoriesCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._MirrorTextCategoriesCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,o,r,l){return void 0===l&&(l=null),e.call(this,n,i._type,o,r,null!=l?l:t._MirrorXyCartesianCoordinateSystemViewBuilder._viewBuilder)||this}return n(i,e),i._type="MirrorCartesianXy",i}(t._BaseCoordinateSystemDefinition);t._MirrorXyCartesianCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="MirrorCoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._MirrorXyCartesianCoordinateSystemDefinition._type?new t._MirrorXyCartesianCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MirrorXyCartesianCoordinateSystemDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function t(){}return t._layoutType="MirrorXy",t}();t._MirrorXyCartesianCoordinateSystemConstants=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createDefaultLayoutPolicy=function(){return new t._DefaultMirrorXyCartesianCoordinateSystemViewLayoutPolicy},i.prototype._getAttachedAxisViews=function(t,n){return e.prototype._getAttachedAxisViews.call(this,t,n).filter((function(t){return null==t._getIsForwardDirection()||t._getIsForwardDirection()==n}))},i.prototype._getLayoutType=function(){return t._MirrorXyCartesianCoordinateSystemConstants._layoutType},i}(t._XyCartesianCoordinateSystemView);t._MirrorXyCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._MirrorXyCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._MirrorXyCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GcesRadialPlotSmartDataLabel",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=11}return e.prototype._buildDataLabelDefinition=function(e,n,i){var o=e._plotConfigOption.axisMode;if(e instanceof t._BarCartesianPlotDefinition&&(o==t.AxisMode.Radial||o==t.AxisMode.Polygonal)){var r=null!=i?i.arguments:null,l=t.options._isGcesRadialPlotSmartDataLabelOption(r)?r:new t.options._EChartsSmartDataLabelOption(null!=r?r.option():null);if(l.scope==t._Constants.DataPointTextScope)return new t._EChartsSmartDataLabelDefinition(e,l)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GcesRadialPlotSmartDataLabelPlugin=n}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,o)||this;return r.linePoints=[],r.__shape=t._EChartsLabelShape._from(r,i.text,o.shape),r}return n(i,e),i.prototype._getPointView=function(){return this._ownerView},i.prototype._radialBarPointView=function(){return this._ownerView},i.prototype._refresh=function(t){this.__shape._refresh(t)},i.prototype._getSize=function(){return this.__shape._getShapeSize()},i.prototype._getRectangle=function(){return this.__shape._getRectangle()},i.prototype._textOverflow=function(){return t.TextOverflow.Clip},i.prototype._textAlignment=function(){return null},i.prototype._createStyle=function(){var e=t._StyleUtility._buildStyle();return t._OptionUtility._applyTextStyleOption(e,this._ownerView._getPlotView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._ownerView._getPlotView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._ownerView._getPlotView()._getDefinition()._plotConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._ownerView._getTextOption().textStyle),t._StyleUtility._applyFill(e,t._CssColor._none()),t._OptionUtility._applyFillOption(e,this._ownerView._getPlotView()._getDefinition()._dvConfigOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,this._ownerView._getPlotView()._getDefinition()._plotAreaOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,this._ownerView._getTextOption().style.backgroundColor),t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyStroke(e,this._defaultStrokeColor()),t._OptionUtility._applyLineStyleFromStyleOption(e,this._ownerView._getPlotView()._getDefinition()._dvConfigOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this._ownerView._getPlotView()._getDefinition()._plotAreaOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this.__option.style),e},i.prototype._defaultStrokeColor=function(){return this._ownerView._getPointColor()},i.prototype._renderConnectingLine=function(t,e){null!=this.__option.connectingLine&&(t.beginTransform(),this._applyConnectingLineStyle(t),t.drawLines(this.linePoints.map((function(t){return t.x})),this.linePoints.map((function(t){return t.y}))),t.restoreTransform())},i.prototype._applyConnectingLineStyle=function(e){var n=this.__option.connectingLine;if(null!=n){var i=t._StyleUtility._buildStyle();t._OptionUtility._applyLineStyleOption(i,n),null==i.stroke&&(i.stroke=this._defaultStrokeColor()),t._StyleUtility._applyStyle(e,i)}},i.prototype._drawView=function(t,e){null!=this.__text&&this._renderConnectingLine(t,e),this.__shape._draw(t)},i}(t._DataLabelView);t._EChartsDataLabelView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l){var a=e.call(this,i)||this;return a.__dataLabel=n,a.__shapeLocation=o,a.__shapeScale=r,a.__image=l,a.__rectangle=new t.core.Rect(0,0,0,0),a}return n(i,e),i._from=function(t,e,n){var o=[.5,.5],r=[1,1],l=null,a=t._radialBarPointView()._getPlotView()._getDefinition()._imageProvider;return null!=n.content&&(l=a.getImageInfo(n.content)),null!=n.labelCenter&&(o[0]=n.labelCenter[0],o[1]=n.labelCenter[1]),null!=n.shapeScale&&(r[0]=n.shapeScale[0],r[1]=n.shapeScale[1]),new i(t,e,o,r,l)},i.prototype._getShapeSize=function(){var t=this._getImageSize();return null!=t?t:this._size},i.prototype._getImageSize=function(){if(null==this.__image)return null;var e=t._NativeExtension._toNonNullNumber(this.__image.width,0)*this.__shapeScale[0],n=t._NativeExtension._toNonNullNumber(this.__image.height,0)*this.__shapeScale[1];return new t.core.Size(e,n)},i.prototype._getTextLocation=function(){var t=this._getImageSize();return null==t?[0,0]:[t.width*this.__shapeLocation[0]-this._size.width/2,t.height*this.__shapeLocation[1]-this._size.height/2]},i.prototype._getRectangle=function(){return this.__rectangle},i.prototype._setRectangle=function(t){this.__rectangle=t},i.prototype._getStyle=function(){var e=t._StyleUtility._buildStyle(),n=this.__dataLabel._radialBarPointView();return t._OptionUtility._applyTextStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,n._getPlotView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,n._getPlotView()._getDefinition()._plotConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,n._getTextOption().textStyle),t._StyleUtility._applyFill(e,t._CssColor._none()),t._OptionUtility._applyFillOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,n._getPlotView()._getDefinition()._plotAreaOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,n._getTextOption().style.backgroundColor),t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyStroke(e,n._getPointColor()),t._OptionUtility._applyLineStyleFromStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,n._getPlotView()._getDefinition()._plotAreaOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,n.text.style),e},i.prototype._refresh=function(e){if(this._text.length<=0)return this._textSize=new t.core.Size(0,0),void(this._size=new t.core.Size(0,0));e.beginTransform();var n=this._getStyle();t._StyleUtility._applyAllStyle(e,n);var i=this._measureMultiLineString(e,this._text,Number.MAX_VALUE,t.TextOverflow.Clip),o=n.strokeWidth;this._textSize=i.size.clone(),this._size=i.size.clone(),this._size.width+=2*o,this._size.height+=2*o,e.restoreTransform(),this._isDirty=!1},i.prototype._draw=function(e){var n=this;""!=this._text&&e.drawGroup(null,null,null,(function(e){e.beginTransform(),t._StyleUtility._applyAllStyle(e,n._getStyle());var i=n._getRectangle(),o=n._getTextLocation(),r=t._NativeExtension._toNonNullNumber(e.strokeWidth,0);if(null!=n.__image){var l=t._NativeExtension._toNonNullNumber(n.__image.width,0)*n.__shapeScale[0],a=t._NativeExtension._toNonNullNumber(n.__image.height,0)*n.__shapeScale[1];e.drawImage(n.__image,i.left,i.top,l,a)}e.drawRect(i.left+o[0]+r/2,i.top+o[1]+r/2,n._size.width-r,n._size.height-r),e.drawMultiLineString(n._text,new t.core.Rect(i.left+o[0]+r,i.top+o[1]+r,n._textSize.width,n._textSize.height),t.TextOverflow.Clip,t.HAlign.Left),e.restoreTransform()}))},i}(t._LabelShape);t._EChartsLabelShape=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),Object.defineProperty(i.prototype,"dataLabelCloneMarker",{get:function(){return t.options._EChartsDataLabelOptionCloneMarker._defaultCloneMarker},enumerable:!1,configurable:!0}),i.prototype._getDataLabelView=function(t){return null},i.prototype._buildOverlayView=function(e){return new t._EChartsSmartDataLabelOverlayView(e,this)},i}(t._BaseDataLabelDefinition);t._EChartsSmartDataLabelDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createDataLabelView=function(e){var n=e._dataLabel();if(t._isRadialBarCartesianPointView(e)&&null!=n){var i=e,o=i.text;return new t._EChartsDataLabelView(i,n,o)}return this._definition._getDataLabelView(e)},i.prototype._getLabelsLayouter=function(){var e=this._ownerView;if(t._isCartesianPlotView(e)&&t._isBarCartesianPlotView(e)){var n=e,i=e._dataPointDataLabelOption();return new t._EChartsSmartDataLabelViewLayout(n,i)}return null},i.prototype._layoutContent=function(t,e){var n=this._getLabelsLayouter();null!=n&&n._layoutDataLabelViewList(t,this._labelViews(),e)},i.prototype._drawView=function(t,e){if(e._renderLabel){var n=this._ownerView._getDataLabelsRender(),i=this._labelViews().filter((function(t){return!t._getOverlap()}));n._render(t,i,e)}},i}(t._BaseDataLabelOverlayView);t._EChartsSmartDataLabelOverlayView=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__length=null!=e.connectingLine?e.connectingLine.length:15,this.__length2=null!=e.connectingLine?e.connectingLine.length2:15,this.__hideOverlap=e.hideOverlap,this.__center=t._getCenter(),this.__radius=this._calculateRadius(t),this.__plotView=t}return e.prototype._direction=function(e){return e.x>=this.__center.x||this.__center.x-e.x<t._Constants.Precision},e.prototype._calculateRadius=function(e){var n=0;if(null!=e._getPointSpacePolicy())n=e._getPointViews()[0]._getRadius();else for(var i=0,o=e._getPointViews();i<o.length;i++){var r=o[i];if(t._isRadialBarCartesianPointView(r)){var l=r._getDonutShape();null!=l&&(n=Math.max(n,l.radius))}}return n},e.prototype._layoutDataLabelViewList=function(t,e,n){if(null!=this.__center){var i=this._asEChartsDataLabelView(e);this._resetOverlap(i),i=this._initLayout(t,n,i),this._avoidOverlap(t,n,i),this.__hideOverlap&&this._hideOverlap(i)}},e.prototype._asEChartsDataLabelView=function(e){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];t._isEChartsDataLabelView(r)&&n.push(r)}return n},e.prototype._resetOverlap=function(t){for(var e=0,n=t;e<n.length;e++)n[e]._setOverlap(!1)},e.prototype._initLayout=function(t,e,n){for(var i=[],o=0,r=n;o<r.length;o++){var l=r[o],a=l._radialBarPointView();null!=a&&(i.push(l),this._initLabelLineLayout(l,a),this._initLabelShapeLayout(t,e,l))}return i},e.prototype._initLabelLineLayout=function(e,n){var i=n._getDonutShape();if(null!=i){var o=i.startAngle+i.sweepAngle/2,r=i.center,l=i.radius,a=new t.core.Point(r.x+Math.cos(o)*l,r.y+Math.sin(o)*l),u=new t.core.Point(this.__center.x+Math.cos(o)*(this.__radius+this.__length),this.__center.y+Math.sin(o)*(this.__radius+this.__length)),s=this._direction(a)?new t.core.Point(u.x+this.__length2,u.y):new t.core.Point(u.x-this.__length2,u.y);e.linePoints=[a,u,s]}},e.prototype._initLabelShapeLayout=function(t,e,n){if(n._refresh(t),null!=n.linePoints&&3==n.linePoints.length){var i=n._getRectangle(),o=n._getSize();i.left=this._direction(n.linePoints[0])?n.linePoints[2].x:n.linePoints[2].x-o.width,i.top=n.linePoints[2].y-o.height/2,i.width=o.width,i.height=o.height}},e.prototype._avoidOverlap=function(t,e,n){for(var i=0,o=0,r=n;o<r.length;o++){var l=r[o];i=Math.max(l._getSize().height,i)}if(!(i>=this.__plotView._rectangle().height)){for(var a=[],u=[],s=0,_=n;s<_.length;s++)l=_[s],this._direction(l.linePoints[0])?u.push(l):a.push(l);this._singleSideAvoidOverlap(t,e,u),this._singleSideAvoidOverlap(t,e,a)}},e.prototype._singleSideAvoidOverlap=function(t,e,n){if(0!=n.length){var i=this._direction(n[0].linePoints[0]);n.sort((function(t,e){return t.linePoints[1].y-e.linePoints[1].y}));for(var o=this.__plotView._rectangle().top,r=0,l=[],a=0;a<n.length;++a)(w=n[a]._getRectangle()).top<o?(r+=o-w.top,l.push(o-w.top),w.top=o):l.push(0),o=w.bottom;var u=n[n.length-1]._getRectangle().bottom-this.__plotView._rectangle().bottom;if(u>0){var s=0,_=[],p=n[0]._getRectangle().top-this.__plotView._rectangle().top;for(_.push(p),s+=p,a=0;a<n.length-1;++a){var c=n[a]._getRectangle(),h=n[a+1]._getRectangle();if(h.top>c.bottom){var f=h.top-c.bottom;_.push(f),s+=f}else _.push(0)}if(s>0&&u<=s){var d=1-u/s,y=this.__plotView._rectangle().top;for(a=0;a<n.length;++a)n[a]._getRectangle().top=y+_[a]*d,y=n[a]._getRectangle().bottom}else{var g=(u-s)/(n.length-1);for(n[0]._getRectangle().top=this.__plotView._rectangle().top,a=1;a<n.length;++a)n[a]._getRectangle().top=n[a-1]._getRectangle().bottom-g}}for(var m=0,v=n;m<v.length;m++){var w=(O=v[m])._getRectangle(),b=O.linePoints[2].x-O.linePoints[1].x;O.linePoints[2].x=i?w.left:w.right,O.linePoints[2].y=w.top+w.height/2,O.linePoints[1].x=O.linePoints[2].x-b,O.linePoints[1].y=O.linePoints[2].y}if(r>0){for(var P=[],S=[],C=0,V=n;C<V.length;C++)(O=V[C]).linePoints[1].y<this.__center.y?P.push(O):S.push(O);this._recalculateX(P),this._recalculateX(S)}for(var x=0,D=n;x<D.length;x++){var O;(O=D[x])._getRectangle().left=i?O.linePoints[2].x:O.linePoints[2].x-O._getRectangle().width,O._getRectangle().top=O.linePoints[2].y-O._getRectangle().height/2}}},e.prototype._recalculateX=function(t){if(0!=t.length){var e=t[0].linePoints[1],n=t[t.length-1].linePoints[1],i=t[0].linePoints[1].y<this.__center.y,o=this._direction(t[0].linePoints[0]),r=this.__radius+this.__length,l=i?Math.max(this.__center.y-e.y,r):Math.max(n.y-this.__center.y,r);if(i)for(var a=e.y,u=0;u<t.length;++u)t[u].linePoints[1].y<a&&(t[u].linePoints[1].y=a);else for(a=n.y,u=0;u<t.length;++u)t[u].linePoints[1].y>a&&(t[u].linePoints[1].y=a);for(u=0;u<t.length;++u){var s=t[u],_=this.__center.y-s.linePoints[1].y,p=Math.sqrt((1-_*_/(l*l))*r*r),c=s.linePoints[2].x-s.linePoints[1].x;s.linePoints[1].x=o?this.__center.x+p:this.__center.x-p,i&&0==u?(o&&s.linePoints[1].x<s.linePoints[0].x||!o&&s.linePoints[1].x>s.linePoints[0].x)&&(s.linePoints[1].x=s.linePoints[0].x):i||u!=t.length-1||(o&&s.linePoints[1].x<s.linePoints[0].x||!o&&s.linePoints[1].x>s.linePoints[0].x)&&(s.linePoints[1].x=s.linePoints[0].x),s.linePoints[2].x=s.linePoints[1].x+c,s._getRectangle().left=s.linePoints[2].x}}},e.prototype._hideOverlap=function(t){for(var e=0;e<t.length;++e)if(!t[e]._getOverlap())for(var n=e+1;n<t.length;++n)t[n]._getOverlap()||t[e]._getRectangle().intersectsWith(t[n]._getRectangle())&&t[n]._setOverlap(!0)},e}();t._EChartsSmartDataLabelViewLayout=e}(t||(t={})),function(t){t._isEChartsDataLabelView=function(t){var e=t;return null!=e&&void 0!==e.linePoints&&"function"==typeof e._radialBarPointView&&"function"==typeof e._refresh&&"function"==typeof e._getSize&&"function"==typeof e._getRectangle}}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._EChartsSmartDataLabelConnectingLineOption(null);return n._setOption(e.option()),n.strokeOpacity=e.strokeOpacity,n.stroke=null==e.stroke?null:t._ColorOptionCloneMarker._colorOptionCloneMarker._cloneOf(e.stroke),n.strokeWidth=e.strokeWidth,n.strokeDasharray=e.strokeDasharray,n.length=e.length,n.length2=e.length2,n},e._defaultCloneMarker=new e,e}();t._EChartsConnectingLineOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._EChartsSmartDataLabelOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.hideOverlap=e.hideOverlap,n.shape=null==e.shape?null:t._EChartsLabelShapeOptionCloneMarker._defaultCloneMarker._cloneOf(e.shape),n.connectingLine=null==e.connectingLine?null:t._EChartsConnectingLineOptionCloneMarker._defaultCloneMarker._cloneOf(e.connectingLine)},e._defaultCloneMarker=new e,e}();t._EChartsDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._EChartsLabelShapeOption(null);n._setOption(e.option()),n.content=e.content;var i=null;if(null!=e.labelCenter){i=[];for(var o=0,r=e.labelCenter;o<r.length;o++){var l=r[o];i.push(l)}}n.labelCenter=i;var a=null;if(null!=e.shapeScale){a=[];for(var u=0,s=e.shapeScale;u<s.length;u++)l=s[u],a.push(l)}return n.shapeScale=a,n},e._defaultCloneMarker=new e,e}();t._EChartsLabelShapeOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__content=null,o.__shapeScale=null,o.__labelCenter=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"labelCenter",{get:function(){return this.__labelCenter},set:function(t){null!=(t=this.validate(t))&&(this.__labelCenter=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapeScale",{get:function(){return this.__shapeScale},set:function(t){null!=(t=this.validate(t))&&(this.__shapeScale=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){return this.__content},set:function(t){this.__content!=t&&(this.__content=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberArrayConverter,!0),t.ValidatorAttribute(t._NumberArrayValidator,!0,2)],i.prototype,"labelCenter",null),o([t.JsonConverterAttribute(t._NumberArrayConverter,!0),t.ValidatorAttribute(t._NumberArrayValidator,!0,2,0)],i.prototype,"shapeScale",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"content",null),i}(e._Option),e._EChartsLabelShapeOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__length=15,o.__length2=15,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"length",{get:function(){return this.__length},set:function(t){this.__length!=t&&(this.__length=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"length2",{get:function(){return this.__length2},set:function(t){this.__length2!=t&&(this.__length2=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"length",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"length2",null),i}(e._LineStyleOption),e._EChartsSmartDataLabelConnectingLineOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__connectingLine=null,r.__hideOverlap=!0,r.__shape=new e._EChartsLabelShapeOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"connectingLine",{get:function(){return this.__connectingLine},set:function(t){this.__connectingLine!=t&&(null==t&&(t=new e._EChartsSmartDataLabelConnectingLineOption),this.__connectingLine=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hideOverlap",{get:function(){return this.__hideOverlap},set:function(t){this.__hideOverlap!=t&&(this.__hideOverlap=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(null==t&&(t=new e._EChartsLabelShapeOption),this.__shape=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EChartsDataLabelConnectingLineOptionConverter,!1)],r.prototype,"connectingLine",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],r.prototype,"hideOverlap",null),o([t.JsonConverterAttribute(t._OptionConverter,!0,"_EChartsLabelShapeOption")],r.prototype,"shape",null),r}(e._DataLabelOption),e._EChartsSmartDataLabelOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isGcesRadialPlotSmartDataLabelOption=function(t){var e=t;return null!=e&&void 0!==e.connectingLine&&void 0!==e.hideOverlap&&void 0!==e.shape}}(t.options||(t.options={}))}(t||(t={})),t||(t={}),function(t){var e=function(){};t._LabelLayoutInfo=e}(t||(t={})),function(t){var e=function(){};t._LabelPositionInformation=e}(t||(t={})),function(t){var e=function(){};t._Location=e}(t||(t={})),function(t){var e=function(){};t._PieLabelInformation=e}(t||(t={})),function(t){var e=function(){};t._PositionLabelResult=e}(t||(t={})),function(t){var e=function(){};t._ValidateInformation=e}(t||(t={})),function(t){var e=function(){function t(t){this.__labels=t.getItemsNeedConsiderCheck()}return t.prototype.isValidPosition=function(t,e){return!t.intersectWith(e.posInfo,this.__labels)},t}();t.CheckGroupCondition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.isValidPosition=function(e,n){return e.needConnectingLines()||t.LayoutHelper.__isFitAngle(t.LayoutHelper.__getAngleByPoints(n.posInfo.rotatedRectangle.center,n.pieCenter),e.startAngle(),e.endAngle())},e}();t.ConnectionPointCondition=e}(t||(t={})),function(t){var e=function(){function e(e,n){if(null==e)throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);if(n<=0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,n);this.__basePoint=e,this.__angleStep=n}return e.prototype.isValidPosition=function(e,n){var i,o=e._startPoint,r=this.__basePoint,l=n.clockwise;if(r.x==o.x&&r.y==o.y){var a=e.angle(),u=n.layoutOption.angleRange/2;i=l?a-u:a+u}else i=t.LayoutHelper.__getAngleByPoints(this.__basePoint,o);l?i+=this.__angleStep:i-=this.__angleStep;var s=Math.sin(n.posInfo.angle-i);return 0!=s&&l==s>0},e}();t.GroupBoundCondition=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__angle=t}return e.prototype.isValidPosition=function(e,n){var i=e.needConnectingLines(),o=t.LayoutHelper.__getAngleByPoints(i?n.posInfo.connectionPoint:n.posInfo.rotatedRectangle.center,n.pieCenter);return Math.sin(o-this.__angle)>0==Math.sin(e.angle()-this.__angle)>0},e}();t.MiddleCondition=e}(t||(t={})),function(t){var e=function(){function e(t){this.__label=t}return e.prototype.isValidPosition=function(e,n){var i=e.needConnectingLines(),o=n.posInfo,r=n.pieCenter,l=t.LayoutHelper.__getAngleByPoints(i?o.connectionPoint:o.rotatedRectangle.center,r),a=this.__label._getAngleForCheckOrder(r);return Math.sin(l-a)>0==Math.sin(e.angle()-this.__label.angle())>0&&!this.__label._intersectsWithRotatedRectangleAndLines(o.rotatedRectangle,o.linePoints,e.connectingLineWidth())},e}();t.MiddleLabelCondition=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.isValidPosition=function(t,e){return!t._isIntersectWithPiePieces(e.pieCenter,e.posInfo.rotatedRectangle,t.offset())},t}();t.OffsetCondition=e}(t||(t={})),function(t){var e=function(){function t(t){this.__labels=t}return t.prototype.isValidPosition=function(t,e){return t._isInOrder(e.posInfo,this.__labels,e.pieCenter,!0)&&!t.intersectWith(e.posInfo,this.__labels)},t}();t.PlacedGroupItemsCondition=e}(t||(t={})),function(t){var e=function(){function t(t){this.__labels=t}return t.prototype.isValidPosition=function(t,e){return t._isInOrder(e.posInfo,this.__labels,e.pieCenter,e.clockwise)&&!t.intersectWith(e.posInfo,this.__labels)},t}();t.PushGroupItemsCondition=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.isValidPosition=function(t,e){return!t._isIntersectWithViewRectangle(e.posInfo.rotatedRectangle,e.viewRect)},t}();t.ViewRectangleCondition=e}(t||(t={})),t||(t={}),function(t){!function(t){t[t.NotSet=0]="NotSet",t[t.Center=1]="Center",t[t.Inside=2]="Inside",t[t.Outside=3]="Outside"}(t.LabelPosition||(t.LabelPosition={}))}(t||(t={})),function(t){var e=function(){function e(){}return e.rotatePoint=function(n,i,o,r,l){var a=e._rotateVector(n-o,i-r,l);return new t.core.Point(a.x+o,a.y+r)},e._rotateVector=function(e,n,i){var o=Math.sin(i),r=Math.cos(i);return new t.core.Point(e*r-n*o,e*o+n*r)},e.isBetween=function(t,e,n){return e<=t&&n>=t||n<=t&&e>=t},e.__getAngleByPoints=function(e,n){var i=Math.atan2(e.y-n.y,e.x-n.x);return i<0&&(i+=t._Utility._PI2),i},e.__isFitAngle=function(n,i,o){return e.isBetween(n,i,o)||e.isBetween(n+t._Utility._PI2,i,o)||e.isBetween(n-t._Utility._PI2,i,o)},e._getLineInfo=function(n,i){var o=n.x,r=n.y,l=i.x,a=i.y;return[e._lineSpace(n,i),Math.atan2(a-r,l-o),new t.core.Point((o+l)/2,(r+a)/2)]},e._creatRectangleShapeFromLineInfo=function(n,i,o){var r=e._getLineInfo(n,i),l=r[0],a=r[1],u=r[2];return new t._RectangleShape(u.x,u.y,l,o,a)},e._isRectangleShapeIntersectsWithLines=function(n,i,o){if(null!=i&&i.length>1){if(!(o>1))return this._intersectsWithLines(n,i);for(var r=i.length-1,l=0;l<r;l++){var a=e._creatRectangleShapeFromLineInfo(i[l],i[l+1],o);if(t._ShapeUtil._whetherIntersect(n,a))return!0}}return!1},e._intersectsWithLines=function(n,i){if(null!=i&&i.length>1)for(var o=n.center,r=n.size,l=o.x,a=o.y,u=new t.core.Rect(l-r.width/2,a-r.height/2,r.width,r.height),s=n.angle,_=i.map((function(t){return e.rotatePoint(t.x,t.y,l,a,-s)})),p=0,c=_.length-1;p<c;p++)if(e._isRectIntersectWithLineByPoints(u,_[p],_[p+1]))return!0;return!1},e._isRectIntersectWithLineByPoints=function(t,n,i){var o=n.x,r=n.y,l=i.x,a=i.y,u=t.left,s=t.right,_=t.top,p=t.bottom,c=l-o,h=e.isBetween(_,r,a),f=e.isBetween(p,r,a);if(0==c)return e.isBetween(o,u,s)&&(h||f);var d=a-r,y=e.isBetween(u,o,l),g=e.isBetween(s,o,l);if(0==d)return e.isBetween(r,_,p)&&(y||f);if(y||g){var m=d*((y?u:s)-o)/(l-o);if(e.isBetween(r+m,_,p))return!0;if(y&&g&&(m=d*(s-o)/(l-o),e.isBetween(r+m,_,p)))return!0}if(h||f){var v=((h?_:p)-r)*c/d;if(e.isBetween(v+o,u,s))return!0;if(h&&f&&(v=(p-r)*c/d,e.isBetween(v+o,u,s)))return!0}return!1},e.__isLinesIntersect=function(t,n,i,o){if(null!=t&&null!=i){var r=t.length,l=i.length;if(r>0&&l>0){r--,l--;for(var a=0;a<r;a++)for(var u=t[a],s=t[a+1],_=0;_<l;_++){var p=i[_],c=i[_+1];if(e._isLineSegamentIntersect(u,s,n,p,c,o))return!0}}}return!1},e._isPointOnLineSegment=function(t,n,i){return e.isBetween(n.x,t.x,i.x)&&e.isBetween(n.y,t.y,i.y)},e._getOrientationByPoints=function(t,e,n){var i=(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y);return 0==i?0:i>0?1:2},e.isTwoLineIntersect=function(t,e,n,i){var o=this._getOrientationByPoints(t,e,n),r=this._getOrientationByPoints(t,e,i),l=this._getOrientationByPoints(n,i,t),a=this._getOrientationByPoints(n,i,e);return o!=r&&l!=a||!(0!=o||!this._isPointOnLineSegment(t,n,e))||!(0!=r||!this._isPointOnLineSegment(t,i,e))||!(0!=l||!this._isPointOnLineSegment(n,t,i))||!(0!=a||!this._isPointOnLineSegment(n,e,i))},e._isLineSegamentIntersect=function(t,n,i,o,r,l){if(i<=1&&l<=1)return e.isTwoLineIntersect(t,n,o,r);var a=void 0;return i>1?(a=e._creatRectangleShapeFromLineInfo(t,n,i),e._isRectangleShapeIntersectsWithLines(a,[o,r],l)):(a=e._creatRectangleShapeFromLineInfo(o,r,l),e._isRectangleShapeIntersectsWithLines(a,[t,n],i))},e._lineSpace=function(t,e){var n=t.x,i=t.y,o=e.x,r=e.y;return Math.sqrt((n-o)*(n-o)+(i-r)*(i-r))},e.__getPositionlabelResult=function(e,n){void 0===n&&(n=!0);var i=new t._PositionLabelResult;return i.success=e==t.PositionLabelResultCode.Success,i.resultCode=e,i.canRetry=n,i},e}();t.LayoutHelper=e}(t||(t={})),function(t){!function(t){t[t.Success=0]="Success",t[t.NoSpace=1]="NoSpace",t[t.Overlap=2]="Overlap"}(t.PositionLabelResultCode||(t.PositionLabelResultCode={}))}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),Object.defineProperty(i.prototype,"dataLabelCloneMarker",{get:function(){return t.options._PlotConfigTextOptionCloneMarker._plotConfigTextOptionCloneMarker},enumerable:!1,configurable:!0}),i.prototype._getDataLabelView=function(t){return t._createDataLabelView(t.text)},i.prototype._buildOverlayView=function(e){return new t._NativeDataLabelOverlayView(e,this)},i}(t._BaseDataLabelDefinition);t._NativeDataLabelDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._nativeDataLabelDefinition=function(){return this._definition},i.prototype._createDataLabelView=function(t){return t._createDataLabelView(t.text)},i.prototype._getLabelsLayouter=function(){var e=null;if(t._isCartesianPlotView(this._ownerView)&&t._isBarCartesianPlotView(this._ownerView)){var n=this._ownerView,i=this._definition._plotConfigOption.axisMode;i!=t.AxisMode.Polygonal&&i!=t.AxisMode.Radial||(e=n._isPie()&&n._dataPointDataLabelOption().overlappingLabels==t.OverlappingLabels.Smart?new t._PiePlotDataLabelViewLayout(n):new t._RadialCartesianPlotDataLabelViewListLayoutPolicy(n))}return null==e&&(e=new t._PlotDataLabelViewListLayoutPolicy(this._ownerView)),e},i.prototype._layoutContent=function(t,e){var n=this._getLabelsLayouter();null!=n&&n._layoutDataLabelViewList(t,this._labelViews(),e)},i.prototype._drawView=function(t,e){e._renderLabel&&(this._layoutContent(t,e),this._ownerView._getDataLabelsRender()._render(t,this._labelViews(),e))},i}(t._BaseDataLabelOverlayView);t._NativeDataLabelOverlayView=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e){return t.call(this,e._dataPointDataLabelOption().overlappingLabels)||this}return n(e,t),e.prototype._renderDataLabel=function(t,e,n){var i=n._getPointView();0!=i._data()._dataSlices._length&&i._isVisible()&&0==i.queryInterface("IDisplayablePipeLine")._indexOf(i)&&n._render(t,e)},e}(t._DataLabelsRender);t._SunburstDataLabelsRender=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){this.name="Default",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildDataLabelDefinition=function(e,n,i){return n.scope!=t._Constants.DataPointTextScope?null:new t._NativeDataLabelDefinition(e,n)},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._NativeDataLabelPlugin=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._buildOverlayItemViews=function(){},i.prototype.useData=function(){},i.prototype._createSmartDataLabelViews=function(){for(var t=[],e=0,n=this._ownerView._filterPointViews();e<n.length;e++){var i=n[e],o=this._createDataLabelView(i);null!=o&&(t.push(o),i._dataLabelView(o))}return t},i.prototype._createDataLabelView=function(t){return this._definition._getDataLabelView(t)},i.prototype._layoutContent=function(e,n){for(var i=this._createSmartDataLabelViews(),o=0,r=i;o<r.length;o++)r[o]._layoutLabel(e,n);var l=this._ownerView,a=l._rectangle(),u=a.width<a.height?a.width/2:a.height/2;if(this.__labelViews=t._SmartLabelManager.arountCircle(i,u,l._cx(),l._cy()),t._isBarCartesianPlotView(l)){for(var s=0,_=this.__labelViews;s<_.length;s++)_[s]._layoutLabel(e,n);this.__labelViews=t._SmartLabelManager.arountCircle(this.__labelViews,u,l._cx(),l._cy())}},i.prototype._drawView=function(t,e){if(e._renderLabel){this._layoutContent(t,e);for(var n=0,i=this.__labelViews;n<i.length;n++)i[n]._render(t,e)}},i}(t._BaseOverlayView);t._SmartDataLabelOverlayView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.arountCircle=function(n,i,o,r){for(var l=new t.core.Size(0,0),a=[],u=[],s=[],_=[],p=0,c=n;p<c.length;p++){var h=c[p],f=h._getAngle();null!=f&&f>0&&f<.5*Math.PI?(h._setPosition(t._RadialSmartDataLabelView._RightBottom),_.push(h)):null!=f&&f>=.5*Math.PI&&f<Math.PI?(h._setPosition(t._RadialSmartDataLabelView._LeftBottom),s.push(h)):null!=f&&f>=Math.PI&&f<1.5*Math.PI?(h._setPosition(t._RadialSmartDataLabelView._LeftTop),a.push(h)):null!=f&&f>=1.5*Math.PI&&f<t._Utility._PI2&&(h._setPosition(t._RadialSmartDataLabelView._RightTop),u.push(h));var d=h._rectangle().size;d.width>l.width&&(l.width=d.width),d.height>l.height&&(l.height=d.height)}var y=Math.sqrt(l.width*l.width-l.height*l.height);e._fittoLeftTop(a,y),e._fittoLeftBottom(s,y),e._fittoRightTop(u,y),e._fittoRightBottom(_,y);var g=a.concat(s,u,_);return e._overlap(g),g},e._overlap=function(t){for(var e=t.length,n=0;n<e;++n){var i=t[n];if(null!=i&&i._isVisible())for(var o=n;o<e;++o){var r=t[o];if(null==r||!r._rectangle().intersectsWith(i._rectangle()))break;r._setOverlap(!1)}}},e._shiftUp=function(t,e){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o._rectangle().intersectsWith(e._rectangle())){var r=o._rectangle().top-e._rectangle().bottom;if(!e._offsety(r,!0))return!1}}return!0},e._shiftDown=function(t,e){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o._rectangle().intersectsWith(e._rectangle())){var r=o._rectangle().bottom-e._rectangle().top;if(!e._offsety(r,!0))return!1}}return!0},e._fittoLeftTop=function(t,n){t.sort((function(t,e){return(null==t._getAngle()?0:t._getAngle())-(null==e._getAngle()?0:e._getAngle())}));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(!e._shiftUp(t.slice(0,o),r)){var l=null==r._getOffset()?0:r._getOffset();r._setOffset(l+n*Math.abs(Math.sin(r._getAngle()))),e._shiftDown(t.slice(0,o),r)}}},e._fittoLeftBottom=function(t,n){t.sort((function(t,e){var n=null==t._getAngle()?0:t._getAngle();return(null==e._getAngle()?0:e._getAngle())-n}));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(!e._shiftDown(t.slice(0,o),r)){var l=null==r._getOffset()?0:r._getOffset();r._setOffset(l+n*Math.abs(Math.sin(r._getAngle()))),e._shiftUp(t.slice(0,o),r)}}},e._fittoRightBottom=function(t,n){t.sort((function(t,e){return(null==t._getAngle()?0:t._getAngle())-(null==e._getAngle()?0:e._getAngle())}));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(!e._shiftDown(t.slice(0,o),r)){var l=null==r._getOffset()?0:r._getOffset();r._setOffset(l+n*Math.abs(Math.sin(r._getAngle()))),e._shiftUp(t.slice(0,o),r)}}},e._fittoRightTop=function(t,n){t.sort((function(t,e){var n=null==t._getAngle()?0:t._getAngle();return(null==e._getAngle()?0:e._getAngle())-n}));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(!e._shiftUp(t.slice(0,o),r)){var l=null==r._getOffset()?0:r._getOffset();r._setOffset(l+n*Math.abs(Math.sin(r._getAngle()))),e._shiftDown(t.slice(0,o),r)}}},e}();t._SmartLabelManager=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i,o,r,l,a,u,s,_,p,c){var h=e.call(this,i)||this;return h.__rectangle=t.core.Rect.ReadOnlyRect,h.__defaultStroke=t._CssColor._defaultStyleColor(),h.__option=n,h.__cx=o,h.__cy=r,h.__plotView=p,h.__lines=_.text.split("\n"),h.__endpoint=new t.core.Point(u,s),h._setAngle(l%t._Utility._PI2),h._setOffset(a),h.defaultStroke=c,h}return n(i,e),i.prototype._rectangle=function(){return this.__rectangle},i.prototype._updateRectangle=function(t){this.__rectangle=t},Object.defineProperty(i.prototype,"text",{get:function(){return this.__lines.join("")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.DataPointLabel},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"defaultStroke",{set:function(t){null!=t&&(this.__defaultStroke=t)},enumerable:!1,configurable:!0}),i.prototype._rectangleShape=function(){return null},i.prototype._getPosition=function(){return this.__position},i.prototype._setPosition=function(t){this.__position=t;var e=this._rectangle();if(t==i._LeftBottom||t==i._LeftTop){if(null!=e&&e.right>this.__cx){var n=this.__cx-e.right;this._offsetx(n)}}else null!=e&&e.left<this.__cx&&(n=this.__cx-e.left,this._offsetx(n))},i.prototype._offsetx=function(t,e){void 0===e&&(e=!0);var n=this._rectangle();if(n.left+=t,this.__startpoint.x+=t,this.__linerect.left+=t,e&&null!=this.__offset&&Math.abs(this.__startpoint.x-this.__cx)<this.__offset){this.__angle=Math.acos((this.__startpoint.x-this.__cx)/this.__offset);var i=this.__startpoint.y;return this.__startpoint.y=Math.sin(this.__angle)*this.__offset+this.__cy,n.top+=this.__startpoint.y-i,this._updateRectangle(n),this.__linerect.top+=this.__startpoint.y-i,!0}if(e)return n.left-=t,this._updateRectangle(n),this.__startpoint.x-=t,this.__linerect.left-=t,!1;var o=this.__startpoint.x-this.__cx,r=this.__startpoint.y-this.__cy;return this.__offset=Math.sqrt(o*o+r*r),!0},i.prototype._offsety=function(e,n){var i=this._rectangle();if(i.top+=e,this.__startpoint.y+=e,this.__linerect.top+=e,n&&null!=this.__offset&&Math.abs(this.__startpoint.y-this.__cy)<this.__offset){var o=Math.asin((this.__startpoint.y-this.__cy)/this.__offset);null!=this.__angle&&this.__angle>=Math.PI/2&&this.__angle<Math.PI||null!=this.__angle&&this.__angle>=Math.PI&&this.__angle<1.5*Math.PI?o=Math.PI-o:null!=this.__angle&&this.__angle>1.5*Math.PI&&this.__angle<t._Utility._PI2&&(o=t._Utility._PI2+o),this.__angle=o;var r=this.__startpoint.x;return this.__startpoint.x=Math.cos(this.__angle)*this.__offset+this.__cx,i.left+=this.__startpoint.x-r,this._updateRectangle(i),this.__linerect.left+=this.__startpoint.x-r,!0}if(n)return i.top-=e,this._updateRectangle(i),this.__startpoint.y-=e,this.__linerect.top-=e,!1;var l=this.__startpoint.x-this.__cx,a=this.__startpoint.y-this.__cy;return this.__offset=Math.sqrt(l*l+a*a),!0},i.prototype._getAngle=function(){return this.__angle},i.prototype._setAngle=function(t){this.__angle=t,this._caclstartpoint()},i.prototype._caclstartpoint=function(){if(null!=this.__angle&&!isNaN(this.__angle)&&null!=this.__offset&&!isNaN(this.__offset)){var e=this.__angle,n=this.__offset,i=new t.core.Point(Math.cos(e)*n+this.__cx,Math.sin(e)*n+this.__cy);if(null!=this.__startpoint){var o=i.x-this.__startpoint.x,r=i.y-this.__startpoint.y,l=this._rectangle();l.left+=o,l.top+=r,this._updateRectangle(l),this.__linerect.left+=o,this.__linerect.top+=r}this.__startpoint=i}},i.prototype._getOffset=function(){return this.__offset},i.prototype._setOffset=function(t){this.__offset=t,this._caclstartpoint()},i.prototype._startpoint=function(){return this.__startpoint},Object.defineProperty(i.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!1,configurable:!0}),i.prototype._layoutLabel=function(t,e){this._layout(t,null,e)},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._layoutContent=function(e,n,o){this.__linerect=new t.core.Rect(0,0,0,0);var r=new t.core.Size(0,0);e.beginTransform(),this._applyStyle(e,this.__plotView);for(var l=0,a=this.__lines;l<a.length;l++){var u=a[l],s=e.measureSingleLineString(u);s.width>r.width&&(r.width=s.width),r.height+=s.height}this.__linerect.width=i._LINESZIE,this.__linerect.height=r.height,e.restoreTransform();var _=new t.core.Rect(this._startpoint().x,this._startpoint().y-r.height/2,r.width+this.__linerect.width,r.height);null!=this.__angle&&this.__angle>Math.PI/2&&this.__angle<1.5*Math.PI?(_.left-=_.width,this.__linerect.left=this.__startpoint.x-this.__linerect.width):this.__linerect.left=this.__startpoint.x,this.__linerect.top=_.top,this._updateRectangle(_)},i.prototype._drawView=function(e,n){var o=this._rectangle();e.beginTransform(),this._applyStyle(e,this.__plotView),null!=this._getConnectingLineOption(this.__plotView)&&(e.beginTransform(),this._applyConnectingLineStyle(e,this.__plotView),e.drawLine(this.__startpoint.x,this.__startpoint.y,this.__endpoint.x,this.__endpoint.y),e.drawLine(this.__linerect.left,this.__linerect.top+this.__linerect.height/2,this.__linerect.right,this.__linerect.top+this.__linerect.height/2),e.restoreTransform()),e.beginTransform(),this._applyBorderStyle(e),this._applyBackgroundStyle(e);var r=new t.core.Rect(o.left,o.top,o.width-this.__linerect.width,o.height);this.__position!==i._RightBottom&&this.__position!==i._RightTop||(r=new t.core.Rect(this.__linerect.right,o.top,o.width-this.__linerect.width,o.height)),(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0)&&e.drawRect(r.left,r.top,r.width,r.height),e.restoreTransform();for(var l=o.top,a=0,u=this.__lines;a<u.length;a++){var s=u[a];l+=e.measureSingleLineString(s).height,this.__position===i._LeftBottom||this.__position==i._LeftTop?e.drawSingleLineString(s,o.left,l):e.drawSingleLineString(s,o.left+this.__linerect.width,l)}e.restoreTransform()},i.prototype._applyStyle=function(e,n){t._OptionUtility._applyTextStyleOption(e,n._getDefinition()._plotConfigOption.textStyle),t._OptionUtility._applyStyleOption(e,n._dataPointDataLabelOption().style),t._OptionUtility._applyTextStyleOption(e,n._dataPointDataLabelOption().textStyle)},i.prototype._applyBorderStyle=function(e){t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyStroke(e,this.__defaultStroke),t._OptionUtility._applyLineStyleFromStyleOption(e,this.__plotView._getDefinition()._dvConfigOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this.__plotView._getDefinition()._plotAreaOption.style),t._OptionUtility._applyLineStyleFromStyleOption(e,this.__plotView._dataPointDataLabelOption().style)},i.prototype._applyBackgroundStyle=function(e){t._StyleUtility._applyFill(e,t._CssColor._none()),t._OptionUtility._applyFillOption(e,this.__plotView._getDefinition()._dvConfigOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,this.__plotView._getDefinition()._plotAreaOption.style.backgroundColor),t._OptionUtility._applyFillOption(e,this.__plotView._dataPointDataLabelOption().style.backgroundColor)},i.prototype._getConnectingLineOption=function(t){return this.__option.connectingLine},i.prototype._applyConnectingLineStyle=function(e,n){var i=this._getConnectingLineOption(n);if(null!=i){var o=t._StyleUtility._buildStyle();t._OptionUtility._applyLineStyleOption(o,i),null==o.stroke&&(o.stroke=this.__defaultStroke),t._StyleUtility._applyStyle(e,o)}},i.prototype._getOverlap=function(){return!1},i.prototype._setOverlap=function(t){},i.prototype._translate=function(t,e){var n=this._rectangle();n.left+=t,n.top+=e},i.prototype._shape=function(){var e=this._rectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,null==this.__angle?0:this.__angle)},i.prototype.queryInterface=function(t){return"IDataLabelModel"==t?this:e.prototype.queryInterface.call(this,t)},i._LeftTop=1,i._RightTop=2,i._LeftBottom=3,i._RightBottom=4,i._LINESZIE=20,i}(t._BaseView);t._RadialSmartDataLabelView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),Object.defineProperty(i.prototype,"dataLabelCloneMarker",{get:function(){return t.options._PlotConfigTextOptionCloneMarker._plotConfigTextOptionCloneMarker},enumerable:!1,configurable:!0}),i.prototype._getDataLabelView=function(t){return this._getSmartDataLabelView(t)},i.prototype._getSmartDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;var i=e.text;if(t._isRadialBarCartesianPointView(e)){var o=e,r=o._getDonutShape();if(null!=r){var l=r.startAngle+r.sweepAngle/2,a=r.radius,u=o._getPointCoordOnDonutShape(l,a),s=o._getPlotView()._getLayoutView()._rectangle(),_=(s.width<s.height?s.width/2:s.height/2)+(isNaN(i.offset)?0:i.offset);null==(P=o.color)&&(P=o._getCartesianSeriesView().color);var p=o._getPlotView();return new t._RadialSmartDataLabelView(i,o,p._getCenter().x,p._getCenter().y,l,_,u.x,u.y,n,p,P)}return null}if(t._isCartesianPointView(e)){var c=e,h=c._getCartesianSeriesView()._getCartesianGroupView(),f=h._xAxisView(),d=h._yAxisView(),y=c._data(),g=h._getXValue(y),m=h._getYValue(y),v=f._scaleModel._value(g),w=NaN;if(t._isXyValuePointDataModel(y)?w=d._scaleModel._value(m.upperY):t._isRangeValuePointDataModel(y)&&(w=d._scaleModel._value(Math.max(m.lowerY,m.upperY))),null==v||isNaN(v)||null==w||isNaN(w))return null;var b=null==h._getXOffset()?0:h._getXOffset();null==b&&(b=0);var P,S=h._cx()+b*Math.cos(w)*v,C=h._cy()+b*Math.sin(w)*v,V=(l=w,h._getCartesianPlotView()._getLayoutView()._rectangle()),x=(a=(V.width<V.height?V.width/2:V.height/2)+(isNaN(i.offset)?0:i.offset),S+Math.cos(l)*v),D=C+Math.sin(l)*v;return null==(P=e.color)&&(P=c._getCartesianSeriesView().color),new t._RadialSmartDataLabelView(i,e,h._cx(),h._cy(),l,a,x,D,n,e._getPlotView(),P)}return null},i.prototype._buildOverlayView=function(e){return t._isCartesianPlotView(e)?new t._SmartDataLabelOverlayView(e,this):null},i}(t._BaseDataLabelDefinition);t._SmartDataLabelDefinition=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){this.name="Default",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._isRadial=function(e){return e._plotConfigOption.axisMode==t.AxisMode.Radial||e._plotConfigOption.axisMode==t.AxisMode.Polygonal},e.prototype._buildDataLabelDefinition=function(e,n,i){return n.scope==t._Constants.DataPointTextScope&&this._isRadial(e)&&n.position===t.TextPosition.Smart?new t._SmartDataLabelDefinition(e,n):null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._SmartDataLabelPlugin=n,t.plugins.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){void 0===o&&(o=null);var r=e.call(this,t,n,o)||this;return r._labelBuilder._addLabel(t._label),r._minLightness=i.minLightness,r._maxLightness=i.maxLightness,r}return n(i,e),i.prototype._getLightnessByPoint=function(e){if(t._isNumbericLegendEncodingDefinition(this._definition)){var n=this._definition,i=t._DataSlicesAggregate._defaultAggregate._aggregate(e._data()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());if(null!=i&&null!=this._minimum&&null!=this._maximum){var o=i,r=this._minimum,l=this._maximum,a=this._minLightness;return(o-r)/(l-r)*(this._maxLightness-a)+a}}return null},i}(t._SingleLegendDataModel);t._LightnessLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i.__lightnessLegendOption=n,i}return n(i,e),i.prototype._buildLegendDataModel=function(e,n){if(null!=e&&e instanceof t._NumbericLegendEncodingDefinition){var i=n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Lightness);return new t._LightnessLegendDataModel(e,i,this.__lightnessLegendOption,this._adopter)}return null},i}(t.models._LegendDataModelBuilder);t._LightnessLegendDataModelBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,e,n)._getPointViews(this._plotAreaView,this._legend),o=-Number.MAX_VALUE,r=Number.MAX_VALUE,l=0,a=i;l<a.length;l++){var u=a[l],s=t._DataSlicesAggregate._defaultAggregate._aggregate(u._data()._dataSlices,this._definition._fieldDefinition()._dataField,this._definition._aggregate());null==s||isNaN(s)||(o<s&&(o=s),r>s&&(r=s))}var _=this._calculateRange(r,o,i.length);this._legend._minimum=_[0],this._legend._maximum=_[1]},i.prototype._calculateRange=function(t,e,n){var i=this._calulateUnit(t,e,n);return[Math.floor(t/i)*i,Math.ceil(e/i)*i]},i.prototype._calulateUnit=function(t,e,n){var i=(e-t)/n;0==i&&(i=e);var o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/o;return r>=Math.sqrt(50)?o*=10:r>=Math.sqrt(10)?o*=5:r>=Math.sqrt(1)&&(o*=2),o},i.prototype._apply=function(){this._adopterApply(this._plotAreaView)},i}(t._LegendInitializer);t._LightnessLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){this.name="LightnessLegendInitializer",this.type=t._BuildInLegendInitializerBuilderCollection._pluginType,this.priority=0}return e.prototype._buildLegendInitializer=function(e,n){var i=n._getDefinition();return n instanceof t._LightnessLegendDataModel&&i instanceof t._NumbericLegendEncodingDefinition?new t._LightnessLegendInitializer(e,n,i):null},e.prototype.queryInterface=function(t){return"ILegendInitializerBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LightnessLegendInitializerBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){t._isLightnessLegendArgumentsOption=function(t){var e=t;return null!=e&&void 0!==e.minLightness&&void 0!==e.maxLightness}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__minLightness=.25,o.__maxLightness=.75,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"minLightness",{get:function(){return this.__minLightness},set:function(t){t=this.validate(t),this.__minLightness!=t&&(this.__minLightness=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxLightness",{get:function(){return this.__maxLightness},set:function(t){t=this.validate(t),this.__maxLightness!=t&&(this.__maxLightness=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!1,.25),t.ValidatorAttribute(t._NumberValidator,!1,0,1,!0)],i.prototype,"minLightness",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,.75),t.ValidatorAttribute(t._NumberValidator,!1,0,1,!0)],i.prototype,"maxLightness",null),i}(e._Option),e._LightnessLegendArgumentsOption=i}(t||(t={})),function(t){var e,i;e=t.plugins||(t.plugins={}),i=function(e){function i(){var n=e.call(this)||this;return n.name="ScatterCartesianLightnessLegend",n.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,n.priority=1,n}return n(i,e),i.prototype._buildLegendDefinition=function(e,n,i,o,r){if(e instanceof t._ScatterCartesianPlotDefinition){var l=this._legendType(n);if(null==l)return null;var a=l;if(a==t.LegendType.Lightness&&null!=n.field){var u=n,s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(u.field,e._dataSchema,u.label);if(null!=s&&t._isNumberDataFieldDefinition(s)){var _=null!=r?r.arguments:null,p=t.options._isLightnessLegendArgumentsOption(_)?_:new t.options._LightnessLegendArgumentsOption(null!=_?_.option():null);return new t._NumbericLegendEncodingDefinition(e,a,"Lightness",s,t._NativeExtension._toNonNullEnum(u.aggregate,t.Aggregate.List),null,new t._LightnessLegendDataModelBuilder(i,p))}}}return null},i.prototype.queryInterface=function(t){return"ILegendEncodingDefinitionBuilder"==t||"IPlugin"==t?this:null},i.defaultPlugin=new i,i}(t._LegendEncodingDefinitionBuilder),e.ScatterCartesianLightnessLegendPlugin=i}(t||(t={})),function(t){!function(t){t[t.Group=0]="Group",t[t.Total=1]="Total",t[t.Trellis=2]="Trellis"}(t.DetailLevel||(t.DetailLevel={}))}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i.__groupView=n,i}return n(i,e),i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._layoutContent=function(t,e,n){},i.prototype._getCartesianOverlayView=function(){return this._ownerView},i.prototype._getCartesianGroupView=function(){return this.__groupView},Object.defineProperty(i.prototype,"parent",{get:function(){return this._getCartesianOverlayView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.OverlayItem},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return null},i}(t._BaseView);t._CartesianOverlayGroupView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,i)||this;return o.__overlayGroupView=n,o.___parentView=e._getCartesianPlotView(),o}return n(e,t),e.prototype._getParentView=function(){return this.___parentView},e.prototype._xs=function(){return this.___xs},e.prototype._ys=function(){return this.___ys},e.prototype._overlayGroupView=function(){return this.__overlayGroupView},e.prototype._cartesianOverlayView=function(){return this._ownerView},e.prototype._getOverlayView=function(){return this._ownerView},e}(t._BaseOverlayItemView);t._CartesianOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__itemViews=[],i.__groupViews=[],i}return n(i,e),i.prototype._getGroupViews=function(){return this.__groupViews},i.prototype._itemViews=function(){return this.__itemViews},i.prototype._buildOverlayItemViews=function(){this.__groupViews=this._createOverlayGroupViews()},i.prototype._createOverlayGroupViews=function(){var t=this,e=[];return this._getCartesianPlotView()._traverseCartesianGroupView((function(n,i){var o=t._createOverlayGroupView(n);null!=o&&e.push(o)}),null),e},i.prototype._createOverlayGroupView=function(e){return new t._CartesianOverlayGroupView(this,e)},i.prototype._layoutContent=function(t,e){t.beginTransform();for(var n=0,i=this._itemViews();n<i.length;n++)i[n]._layout(t,e);t.restoreTransform()},i.prototype._drawView=function(t,e){t.beginTransform();for(var n=0,i=this._itemViews();n<i.length;n++)i[n]._render(t,e);t.restoreTransform()},i.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=this._itemViews(),o=i.length-1;o>=0;--o){var r=i[o]._hitTest(t,e,n);if(null!=r)return r}return null},i.prototype._getCartesianPlotView=function(){return this._ownerView},i}(t._BaseOverlayView);t._CartesianOverlayView=e}(t||(t={})),t||(t={}),function(t){t._isCartesianOverlayItemView=function(t){var e=t;return null!=e&&"function"==typeof e._overlayGroupView&&"function"==typeof e._cartesianOverlayView&&"function"==typeof e._xs&&"function"==typeof e._ys}}(t||(t={})),t||(t={}),function(t){t._isCartesianOverlayView=function(t){var e=t;return"function"==typeof e._getCartesianPlotView&&"function"==typeof e._getGroupViews}}(t||(t={})),function(t){var e=function(){function e(){}return e._parsePointPath=function(e,n){var i=t._DataPointPointPathExpressionBuilder._defaultBuilder._build(n);return null!=i?new t.PointViewPointPathBuilder(i)._build(e._getPointViews()):null},e._parseCoordinateValue=function(e){var n=t._CoordinateValueExpressionBuilder._defaultBuilder._build(e);return null!=n?new t._CoordinateValueBuilder(n)._build():null},e._parseTextBoundValues=function(e,n){if(e instanceof t._CartesianPointView){var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=e._data()._plot()._cartesianPlotDefinition()._encodingsDefinition._textEncodingDefinitions,l=new t.models._CartesianDataLabelTextProxy(e,r,e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._stringFormatting()),a=e._getPlotView()._getDefinition()._plotConfigOption.plugins,u=e._getPlotView()._getDefinition()._pluginCollection,s=i.evaluate(o,l,a,u),_=e._toLines(s);if(null!=_)return _.join("\n")}return n},e._xReversed=function(t){return t._xAxisView()._scaleModel._getReversed()},e._yReversed=function(t){return t._yAxisView()._scaleModel._getReversed()},e._getXYDirection=function(n,i){var o=t.Vector.horizon(),r=t.Vector.vertical(),l=n._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;if(l!=t.AxisMode.Polygonal&&l!=t.AxisMode.Radial||(null==i&&(i=0),o=new t.Vector(Math.cos(i),Math.sin(i)),r=new t.Vector(Math.cos(i+Math.PI/2),Math.sin(i+Math.PI/2))),n._swapAxes()){var a=o;o=r,r=a}return o=e._xReversed(n)?o.reverse():o,r=e._yReversed(n)?r.reverse():r,new t._XYDirection(o,r)},e._PointAutoDirectionBuilder=function(n){var i=null,o=null,r=n._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;if(r==t.AxisMode.Polygonal||r==t.AxisMode.Radial){if(t._isRadialBarCartesianPointView(n)){var l=n._getDonutShape();if(null!=l){var a=l.startAngle+l.sweepAngle/2;o=new t.Vector(Math.cos(a),Math.sin(a)),i=new t.Vector(Math.cos(a+Math.PI/2),Math.sin(a+Math.PI/2))}}}else{var u=e._getXYDirection(n._getCartesianSeriesView()._getCartesianGroupView());i=u.xDir,o=u.yDir,n._isPositive()||(o=o.reverse()),o.cross(i)<0&&(i=i.reverse())}return new t._XYDirection(i,o)},e._getRotateRectangleFromRectAndDir=function(e,n,i){if(null!=i){var o=new t._RectangleAttachInfo,r=[new t.Vector(i.left,i.top),new t.Vector(i.right,i.top),new t.Vector(i.left,i.bottom),new t.Vector(i.right,i.bottom)];return r.sort((function(t,e){return e.dot(n)-t.dot(n)})),r[0].dot(e)>r[1].dot(e)?(o.rightTop=new t.core.Point(r[0].x,r[0].y),o.leftTop=new t.core.Point(r[1].x,r[1].y)):(o.rightTop=new t.core.Point(r[1].x,r[1].y),o.leftTop=new t.core.Point(r[0].x,r[0].y)),r[2].dot(e)>r[3].dot(e)?(o.rightBottom=new t.core.Point(r[2].x,r[2].y),o.leftBottom=new t.core.Point(r[3].x,r[3].y)):(o.rightBottom=new t.core.Point(r[3].x,r[3].y),o.leftBottom=new t.core.Point(r[2].x,r[2].y)),o}return null},e.getRectangleAttachmentPoints=function(e){return[new t.core.Point((e.leftBottom.x+e.rightBottom.x)/2,(e.leftBottom.y+e.rightBottom.y)/2),new t.core.Point((e.leftBottom.x+e.leftTop.x)/2,(e.leftBottom.y+e.leftTop.y)/2),new t.core.Point((e.leftTop.x+e.rightTop.x)/2,(e.leftTop.y+e.rightTop.y)/2),new t.core.Point((e.rightTop.x+e.rightBottom.x)/2,(e.rightTop.y+ +e.rightBottom.y)/2)]},e.getRadialOriginAngle=function(e){var n=e._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;if(n==t.AxisMode.Polygonal||n==t.AxisMode.Radial){var i=e._horizontalAxisView();if(null!=i._getOriginAngle())return i._getOriginAngle();var o=e._verticalAxisView(),r=e._swapAxes()?o:i,l=e._isPercentage()||e._isStack()||null==r._getDefinition()._option.origin?0:r._getDefinition()._option.origin;return o._scaleModel._value(l)}return null},e}();t.AnnotationLib=e}(t||(t={})),function(t){var e=function(){function t(t){this.__view=t}return t.prototype._shouldApplyColorFromPalette=function(){if(null==this.__view)return!1;var t=this.__view._getAnnotationOverlayDefinition()._getAnnotationOverlayOption(),e=t.type;return"Line"===e?null==t.style||null==t.style.stroke:"Text"!==e&&"Image"!==e&&(null==t.style||null==t.style.fill||null==t.style.stroke)},t}();t._AnnotationOverlayItemViewColorBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype.getOverlayRange=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);for(var r=new t._OverlayRange,l=0,a=this.__overlayView._getAnnotationOverlayItemViews();l<a.length;l++){var u=a[l];if(t._isCartesianOverlayItemView(u)){var s=u,_=s._xs(),p=s._ys();if(null!=_&&null!=p){if(_.length!=p.length)throw new t.RuntimeError(t.ErrorCode.NotEqual,_.length,p.length);for(var c=0;c<_.length;c++){var h=_[c],f=p[c];if(!(null!=e&&h<e||null!=n&&h>n||null!=i&&f<i||null!=o&&f>o)){if(!isNaN(h))if(null==r.minX)r.minX=h,r.maxX=h;else{var d=null==r.maxX?0:r.maxX,y=null==r.minX?0:r.minX;h>d?r.maxX=h:h<y&&(r.minX=h)}if(!isNaN(f))if(null==r.minY)r.minY=f,r.maxY=f;else{var g=null==r.maxY?0:r.maxY,m=null==r.minY?0:r.minY;f>g?r.maxY=f:f<m&&(r.minY=f)}}}}}}return r},e}();t._CartesianAnnotationOverlayRangePolicy=e}(t||(t={})),function(t){var e=function(){function t(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=!1),this.__pointViews=t,this.__valueField=e,this.__seriesView=n,this.isLower=i}return t.prototype._pointViews=function(){return this.__pointViews},t.prototype._detailKey=function(){return t._getDetailKey(this._seriesView())},t.prototype._seriesView=function(){return this.__seriesView},t.prototype._valueField=function(){return this.__valueField},t._getDetailKey=function(t){return null!=t?t._getCartesianSeriesDataModel()._detail():null},t}();t._CartesianOverlayDataSlice=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._slice=function(e,n,i){var o=e._getCartesianGroupDataModel()._yValueDefinition(),r=[];if(n==t.DetailLevel.Group)for(var l=0,a=e._getCartesianSeriesViews();l<a.length;l++){var u=a[l];r.push.apply(r,this._sliceValues(u._filterPointViews(),u,o,i))}else{for(var s=[],_=0,p=e._getCartesianSeriesViews();_<p.length;_++)u=p[_],s.push.apply(s,u._filterPointViews());r.push.apply(r,this._sliceValues(s,null,o,i))}return r},e.prototype._sliceValues=function(e,n,i,o){var r=[];return o&&t._isRangeValueEncodingDefinition(i)?(r.push(new t._CartesianOverlayDataSlice(e,"upper",n,!1)),r.push(new t._CartesianOverlayDataSlice(e,"lower",n,!0))):r.push(new t._CartesianOverlayDataSlice(e,i._getIdentifier(),n,!1)),r},e}();t._CartesianOverlayDataSlicer=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.isRangeValueField=function(e,n){for(var i=0,o=n._getCartesianPlotDefinition()._valueDefinitions();i<o.length;i++){var r=o[i];if(r._getIdentifier()==e)return t._isRangeValueEncodingDefinition(r)}return!1},e.getX=function(t){return t._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getXValue(t._data())},e.getY=function(t){return t._data().queryInterface("INumberValue")},e.getStackYValue=function(e){return t._isCartesianPointDataModel(e)?e.queryInterface("INumberStackValue"):null},e.getRangeYValue=function(t){var e=t._data().queryInterface("INumberRangeValue");return null==e?null:e},e}(),e._CartesianSupport=n}(t||(t={})),function(t){var e=function(t,e){this.xDir=t,this.yDir=e};t._XYDirection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__itemViews=[],i.__groupViews=[],i}return n(i,e),i.prototype.useData=function(){for(var t=0,e=this._getAnnotationOverlayItemViews();t<e.length;t++){var n=e[t];n.initialize(),n._runConditionalFormatRules()}},i.prototype._getGroupViews=function(){return this.__groupViews},i.prototype._getAnnotationOverlayItemViews=function(){return this.__itemViews},i.prototype._buildOverlayItemViews=function(){this.__groupViews=this._createCartesianOverlayGroupViews()},i.prototype._createCartesianOverlayGroupViews=function(){var t=this,e=[];return this._getCartesianPlotView()._traverseCartesianGroupView((function(n,i){var o=t._createOverlayGroupView(n);null!=o&&e.push(o)}),null),e},i.prototype._createOverlayGroupView=function(e){return new t._CartesianOverlayGroupView(this,e)},i.prototype.box=function(){for(var e=[],n=0,i=this._getAnnotationOverlayItemViews();n<i.length;n++){var o=i[n].queryInterface("IBoxBounded");null!=o&&e.push(o.box())}return e.length>0?t._RectangleUtility._unionOfRectangles.apply(t._RectangleUtility,e):null},i.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},i.prototype._getCartesianPlotView=function(){return this._ownerView},i.prototype.buildRangePolicy=function(){return new t._CartesianAnnotationOverlayRangePolicy(this)},i}(t._BaseAnnotationOverlayView);t._CartesianAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,o)||this;r.__overlayGroupView=i,r._updateAnnotation(r._createAnnotation());var l=t.AnnotationLib._parseCoordinateValue(r._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().offset);return null!=r._annotation&&null!=l&&(r._annotation.xOffset=l.x,r._annotation.yOffset=l.y),r}return n(i,e),i.prototype._cartesianAnnotationOverlayView=function(){return e.prototype._getAnnotationOverlayView.call(this)},i.prototype._xs=function(){return null},i.prototype._ys=function(){return null},i.prototype._overlayGroupView=function(){return this.__overlayGroupView},i.prototype._cartesianOverlayView=function(){return this._ownerView},i}(t._AnnotationOverlayItemView);t._CartesianAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._coordinateValue=function(){if(null!=this.__coordinateValue){var e=this.__coordinateValue._clone(),n=t._AnyTypeUtility._toNumberOrNull(this._innerProperty("coordinateValue.x",e.x,!0)),i=t._AnyTypeUtility._toNumberOrNull(this._innerProperty("coordinateValue.y",e.y,!0));return null!=n&&null!=i&&(e.x=n,e.y=i),e}return null},i.prototype._xs=function(){var t=this._coordinateValue();return null!=t?[t.x]:null},i.prototype._ys=function(){var t=this._coordinateValue();return null!=t?[t.y]:null},i.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianPlotCoordinatePointAttachmentAgent(this._overlayGroupView()._getCartesianGroupView()))},i.prototype._bindPointView=function(t){if(null!=t){var e=t._getAttachmentAgentManager();this._bindAttachmentManager(e,"View")&&(this.___parentView=t)}},i.prototype._bindCoordinateValue=function(t){if(null!=t){this.__coordinateValue=t;var e=this._getAttachmentAgentManager();this._bindAttachmentManager(e,"Point.Coordinate")}},i.prototype._cartesianAnnotationOverlayView=function(){return e.prototype._getAnnotationOverlayView.call(this)},i.prototype._isVisible=function(){var t=this.___parentView;return!(null!=t&&!t._isVisible())&&e.prototype._isVisible.call(this)},i.prototype.queryInterface=function(t){return"ICoordinateValues"===t&&"Point.Coordinate"===this.bindStateType?this._coordinateValue():e.prototype.queryInterface.call(this,t)},i}(t._CartesianAnnotationOverlayItemView);t._XyCoordinateValueCartesianAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(t,e,n){if(null==this.__overlayView||null==t)return null;var i=this._createItemViewBy(this.__overlayView,e,n);return null!=i&&i._bindCoordinateValue(t),i},e.prototype._createItemViewBy=function(e,n,i){var o=e._type();return"Rectangle"===o?new t._CartesianCoordinatePointRectangleAnnotationOverlayItemView(e,n,i):"Ellipse"===o?new t._CartesianCoordinatePointEllipseAnnotationOverlayItemView(e,n,i):"Image"===o?new t._CartesianCoordinatePointImageAnnotationOverlayItemView(e,n,i):"Path"===o?new t._CartesianCoordinatePointPathAnnotationOverlayItemView(e,n,i):null},e}();t._CartesianCoordinateAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(t,e,n){if(null==this.__overlayView||null==t)return null;var i=this._createItemViewBy(this.__overlayView,e,n);return null!=i&&i._bindPointView(t),i},e.prototype._createItemViewBy=function(e,n,i){var o=e._type();return"Rectangle"===o?new t._CartesianCoordinatePointRectangleAnnotationOverlayItemView(e,n,i):"Ellipse"===o?new t._CartesianCoordinatePointEllipseAnnotationOverlayItemView(e,n,i):"Image"===o?new t._CartesianCoordinatePointImageAnnotationOverlayItemView(e,n,i):"Path"===o?new t._CartesianCoordinatePointPathAnnotationOverlayItemView(e,n,i):null},e}();t._CartesianPointAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._clone=function(){var t=new i(this._cartesianAnnotationOverlayView(),this._overlayGroupView(),this._id());return null!=this._getAnnotation()&&t._updateAnnotation(this._getAnnotation()._clone()),t},Object.defineProperty(i.prototype,"height",{get:function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeExtension._toNumber(this._innerProperty("height",e.height))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeExtension._toNumber(this._innerProperty("width",e.width))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumberOrNull(this._innerProperty("angle",e.angle))},enumerable:!1,configurable:!0}),i.prototype._createAnnotation=function(){var e=new t._PositionEllipseAnnotation;return e.position=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().position,e.placement=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().placement,e},i.prototype._customizeAnnotation=function(t){var e=t;e.width=this.width,e.height=this.height,e.rotate=this.angle},i}(t._XyCoordinateValueCartesianAnnotationOverlayItemView);t._CartesianCoordinatePointEllipseAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._clone=function(){var t=new i(this._cartesianAnnotationOverlayView(),this._overlayGroupView(),this._id());return null!=this._getAnnotation()&&t._updateAnnotation(this._getAnnotation()._clone()),t},i.prototype._setInnerHeight=function(t){this.__height=t},i.prototype._setInnerWidth=function(t){this.__width=t},Object.defineProperty(i.prototype,"source",{get:function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toStringOrNull(this._innerProperty("source",e.source))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumberOrNull(this._innerProperty("height",e.height))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumberOrNull(this._innerProperty("width",e.width))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumberOrNull(this._innerProperty("angle",e.angle))},enumerable:!1,configurable:!0}),i.prototype._positionImageAnnotation=function(){return this._annotation},i.prototype._createAnnotation=function(){var e=new t._PositionImageAnnotation;return e.position=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().position,e.placement=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().placement,e},i.prototype._customizeAnnotation=function(t){t.rotate=this.angle,this._positionImageAnnotation().image=this._ownerView._getDefinition()._imageProvider.getImageInfo(this.source)},i.prototype._beforeAnnotationLayout=function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();this.__width=e.width,this.__height=e.height,t._PointViewImageOverlayLayouter._layout(this);var n=this._positionImageAnnotation();n.imageWidth=this.__width,n.imageHeight=this.__height},i}(t._XyCoordinateValueCartesianAnnotationOverlayItemView);t._CartesianCoordinatePointImageAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e._layout=function(e){var n=e._cartesianAnnotationOverlayView()._getAnnotationOverlayDefinition()._getAnnotationOverlayOption(),i=e.parent;if(i instanceof t._BarXyCartesianPointView)null==e.width&&(i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()||0!=(o=i._rectangle().width)&&e._setInnerWidth(o)),null==e.height&&i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()&&0!=(o=i._rectangle().height)&&e._setInnerHeight(o);else if(i instanceof t._FunnelCartesianPointView)null==e.width&&(i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()||e._setInnerWidth(i._getFunnelPolygon().topWidth())),null==e.height&&i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()&&e._setInnerHeight(i._getFunnelPolygon().topWidth());else if(i instanceof t._BaseSymbolCartesianPointView){var o,r=!0,l=i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;l!=t.AxisMode.Polygonal&&l!=t.AxisMode.Radial&&(n.placement===t.Placement.Auto&&i._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()&&(r=!1),n.placement!==t.Placement.Left&&n.placement!==t.Placement.Right||(r=!1)),null==e.width&&r&&0!=(o=i._rectangle().width)&&e._setInnerWidth(o),null==e.height&&(r||0!=(o=i._rectangle().height)&&e._setInnerHeight(o))}},e}();t._PointViewImageOverlayLayouter=e}(t||(t={})),t||(t={}),function(t){var e=function(t,e,n){this.name=t,this.path=e,this.join=n},i=function(i){function o(n,o,r){var l=i.call(this,n,o,r)||this;l.__path=[],l.__baseShape={Balloon:new e("Balloon",t._OverlayConstants.PathBalloon2,new t.core.Point(50,100)),Triangle:new e("Triangle",t._OverlayConstants.PathTriangle,new t.core.Point(50,100)),Needle:new e("Needle",t._OverlayConstants.PathGauge,new t.core.Point(50,0))};var a=l._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return l.angle=a.angle,l.width=a.width,l.height=a.height,l._parseOption(),l._initAnnotation(),l}return n(o,i),o.prototype._clone=function(){var t=new o(this._cartesianAnnotationOverlayView(),this._overlayGroupView(),this._id());return null!=this._getAnnotation()&&t._updateAnnotation(this._getAnnotation()._clone()),t},Object.defineProperty(o.prototype,"height",{get:function(){return this.__height},set:function(t){this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return this.__width},set:function(t){this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!1,configurable:!0}),o.prototype._path=function(){return this.__path},o.prototype._join=function(){return this.__join},o.prototype._pathsAnnotation=function(){return this._annotation},o.prototype._createAnnotation=function(){var e=new t._PathsAnnotation;return e.position=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().position,e.placement=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().placement,e},o.prototype._initAnnotation=function(){var t=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption(),e=this._pathsAnnotation();e.join=this._join(),e.paths=this._path(),e.fillType=t.fillType,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin},o.prototype._parseOption=function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption(),n=e.path;if(null!=n){var i=this.__baseShape,o=e.join;if(null!=o&&""!=o){var r=t.AnnotationLib._parseCoordinateValue(o);null!=r&&(this.__join=new t.core.Point(r.x,r.y))}for(var l=0,a=n;l<a.length;l++){var u=a[l];if(t._Util.hasKey(i,u)){var s=i[u],_=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(s.path);this.__path.push(_),null==this.__join&&(this.__join=s.join.clone())}else _=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(u),this.__path.push(_)}}},o.prototype._customizeAnnotation=function(t){var e=t;e.rotate=this.angle,e.width=this.width,e.height=this.height},o}(t._XyCoordinateValueCartesianAnnotationOverlayItemView);t._CartesianCoordinatePointPathAnnotationOverlayItemView=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._clone=function(){var t=new i(this._cartesianAnnotationOverlayView(),this._overlayGroupView(),this._id());return null!=this._getAnnotation()&&t._updateAnnotation(this._getAnnotation()._clone()),t},Object.defineProperty(i.prototype,"height",{get:function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeExtension._toNumber(this._innerProperty("height",e.height))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeExtension._toNumber(this._innerProperty("width",e.width))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){var e=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return t._AnyTypeUtility._toNumberOrNull(this._innerProperty("angle",e.angle))},enumerable:!1,configurable:!0}),i.prototype._createAnnotation=function(){var e=new t._PositionRectangleAnnotation;return e.position=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().position,e.placement=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().placement,e},i.prototype._customizeAnnotation=function(t){var e=t;e.width=this.width,e.height=this.height,e.rotate=this.angle},i}(t._XyCoordinateValueCartesianAnnotationOverlayItemView);t._CartesianCoordinatePointRectangleAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__host=t,n.__group=t._getGroupedViews().slice(),n}return n(i,e),i.prototype._type=function(){return"rectangle"},i.prototype._outter=function(){return i._calcOutterBox(this._inner(),this.__group)},i.prototype._inner=function(){return this.__host._positionTextAnnotation()._toShape()},i.prototype.rectAttachmentInfo=function(e){if(null!=e){var n=this._queryInterface(e,"IInnerAndOutterRotateRectLayouter");if(null!=n){var i=this._inner();if(null!=i){var o=n.layoutWithInnerAndOutterRotateRect(i,this._outter()),r=new t._RectangleAttachInfo;return r.leftTop=o.leftTop,r.leftBottom=o.leftBottom,r.rightTop=o.rightTop,r.rightBottom=o.rightBottom,r}}}return null},i.prototype._onAttached=function(e){e instanceof t._GroupedTextXyCoordinateValueCartesianAnnotationOverlayItemView&&this.__host._attach(e)},i._calcOutterBox=function(e,n){if(0==n.length)return e;var i=-e.angle,o=new t.Matrix;o.rotate(i);for(var r=[e.leftTop.x,e.rightTop.x,e.leftBottom.x,e.rightBottom.x],l=[e.leftTop.y,e.rightTop.y,e.leftBottom.y,e.rightBottom.y],a=0,u=n;a<u.length;a++){var s=u[a].queryInterface("IVertexes");null!=s&&(r.push.apply(r,s._xs()),l.push.apply(l,s._ys()))}var _=t._MatrixUtility._transformCurve(o,r,l);r=_._xs,l=_._ys;var p=Math.min.apply(Math,r),c=Math.min.apply(Math,l),h=Math.max.apply(Math,r)-p,f=Math.max.apply(Math,l)-c,d=new t.core.Point(p+h/2,c+f/2);return o.reset(),o.rotate(-i),d=t._MatrixUtility._transformPoint(o,d),new t._RectangleShape(d.x,d.y,h,f,e.angle)},i}(t._RectAttachmentAgent);t._CartesianCoordinatePointTextAnnotationOverlayItemViewAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createOverlayItemView=function(e,n,i){return new t._CartesianCoordinateAnnotationOverlayItemViewBuilder(this)._bulid(e,n,i)},i.prototype._buildOverlayItemViews=function(){e.prototype._buildOverlayItemViews.call(this);for(var n=0,i=this._getGroupViews();n<i.length;n++){var o=i[n],r=t.AnnotationLib._parseCoordinateValue(this._definition._getAnnotationOverlayOption().pointPath);if(null!=r){var l=this._createOverlayItemView(r,o,this._id()+this._getAnnotationOverlayItemViews().length);this._getAnnotationOverlayItemViews().push(l)}break}},i}(t._CartesianAnnotationOverlayView);t._CoordinateValueCartesianAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i)||this;return r.__hostItemView=o,r}return n(i,e),i.prototype._clone=function(){var t=new i(this._cartesianAnnotationOverlayView(),this._overlayGroupView(),this._id(),this.__hostItemView);return null!=this._getAnnotation()&&t._updateAnnotation(this._getAnnotation()._clone()),t},Object.defineProperty(i.prototype,"symbol",{get:function(){return this._rectangleBoxTextSymbolAnnotation().symbol},set:function(t){this._rectangleBoxTextSymbolAnnotation().symbol=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return t._AnyTypeUtility._toStringOrNull(this._innerProperty("text",this._option().text))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textStyle",{get:function(){var e=this._innerProperty("textStyle");if(null==e)return null;var n=new t.options._TextStyleOption;return t._Util.deepAssign(n,e),n},enumerable:!1,configurable:!0}),i.prototype._rectangleBoxTextSymbolAnnotation=function(){return this._annotation},i.prototype._option=function(){return e.prototype._getAnnotationOverlayView.call(this)._getAnnotationOverlayDefinition()._getAnnotationOverlayOption()},i.prototype._bindToHost=function(){if(null!=this.__hostItemView){var t=this.__hostItemView._hostAttachmentManager(),e=this._bindAttachmentManager(t,"Host");return e&&(this.___parentView=this.__hostItemView._getParentView()),e}return!1},i.prototype._bindCoordinateValue=function(t){this._bindToHost()},i.prototype._bindPointView=function(t){this._bindToHost()&&t._overlayItemViews().push(this)},i.prototype._createAnnotation=function(){var e=new t._RectangleBoxTextSymbolAnnotation(null,null,this._option().position,this._option().placement,this._option().textStyle.overflow,this._option().textStyle.alignment);return e.rotate=this._option().angle,e.symbol=this._option().symbol,e.fixedWidth=this._option().width,e},i.prototype.initialize=function(){e.prototype.initialize.call(this),this._rectangleBoxTextSymbolAnnotation().symbol=this._option().symbol},i.prototype._customizeAnnotation=function(e){var n=e,i=this.text;t._OverlayExpression._isExcelExpression(i)?n._text(this._parseExcelExpression(i)):n._text(t.AnnotationLib._parseTextBoundValues(this.parent,i))},i.prototype._runConditionalFormatRules=function(){e.prototype._runConditionalFormatRules.call(this);var n=this._rectangleBoxTextSymbolAnnotation();if(null!=this._proxy()){var i=this._proxy().get("symbol",!0);null!=i&&(null==i.value?n.symbol=null:t._Util.deepAssign(n.symbol,i.value))}},i.prototype._beforeAnnotationLayout=function(){this._rectangleBoxTextSymbolAnnotation().maxWidth=this._ownerView._getPlotView()._rectangle().width},i.prototype._annotationStyle=function(){return null==this.__annotationStyle&&(this.__annotationStyle=t._StyleUtility._buildStyle(null,"none",null,"#666666",0),t._OptionUtility._applyOverlayStyleOption(this.__annotationStyle,this._option().style)),this.__annotationStyle},i.prototype._customizeAnnotationStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._annotationStyle());n.textFill="#000000",t._StyleUtility._applyAllStyle(n,this.style),t._OptionUtility._applyTextStyleOption(n,this._option().textStyle),t._OptionUtility._applyTextStyleOption(n,this.textStyle),e._applyCustomStyle(n)},i.prototype.layoutWithInnerAndOutterRotateRect=function(t,e){var n=this._option();return this._layoutLogic(n.hAlign,n.vAlign,n.groupAlign,n.placement,t,e)},i.prototype._layoutLogic=function(e,n,i,o,r,l){var a=this._rectangleBoxTextSymbolAnnotation();if(null!=i)return a.hAlign=t._NativeExtension._toNonNullEnum(i,e),l.clone();var u=r.center,s=l.center,_=r.size,p=l.size,c=t.Vector.pointSub(u,s);switch(a.hAlign=e,a.vAlign=n,o){case t.Placement.Top:case t.Placement.Auto:case t.Placement.Bottom:_.height=p.height;var h=t.Vector.pointSub(r.leftTop,r.leftBottom).standard();u=t.Vector.endPoint(u,h,c.dot(h));break;case t.Placement.Left:case t.Placement.Right:_.width=p.width;var f=t.Vector.pointSub(r.leftTop,r.rightTop).standard();u=t.Vector.endPoint(u,f,c.dot(f))}return new t._RectangleShape(u.x,u.y,_.width,_.height,r.angle)},i.prototype.queryInterface=function(t){if("IInnerAndOutterRotateRectLayouter"===t)return this;var n=this._rectangleBoxTextSymbolAnnotation().queryInterface(t);return null!=n?n:e.prototype.queryInterface.call(this,t)},i}(t._XyCoordinateValueCartesianAnnotationOverlayItemView);t._GroupedTextXyCoordinateValueCartesianAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._textAnnotationOverlayDefinition=function(){return this._definition},i.prototype._createOverlayItemView=function(e,n,i){return new t._CartesianCoordinateTextAnnotationOverlayItemViewBuilder(this)._bulid(e,n,i)},i.prototype._layoutContent=function(e,n){e.beginTransform();for(var i=0,o=this._getAnnotationOverlayItemViews();i<o.length;i++){var r=o[i];r instanceof t._TextXyCoordinateValueAnnotationOverlayItemView&&r._layout(e,n)}e.restoreTransform()},i}(t._CoordinateValueCartesianAnnotationOverlayView);t._TextCoordinateCartesianAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i)||this;return r.__groupedViews=[],r.__groupName=o,r}return n(i,e),i.prototype._clone=function(){var t=new i(this._cartesianAnnotationOverlayView(),this._overlayGroupView(),this._id(),this._groupName());return null!=this._getAnnotation()&&t._updateAnnotation(this._getAnnotation()._clone()),t},Object.defineProperty(i.prototype,"text",{get:function(){return t._AnyTypeUtility._toStringOrNull(this._innerProperty("text",this.option112().text))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textStyle",{get:function(){var e=this._innerProperty("textStyle");if(null==e)return null;var n=new t.options._TextStyleOption;return t._Util.deepAssign(n,e),n},enumerable:!1,configurable:!0}),i.prototype._getGroupedViews=function(){return this.__groupedViews},i.prototype._groupName=function(){return this.__groupName},i.prototype._attach=function(t){null!=t&&-1==this.__groupedViews.indexOf(t)&&this.__groupedViews.push(t)},i.prototype._hostAttachmentManager=function(){return new t.AttachmentAgentManager(new t._CartesianCoordinatePointTextAnnotationOverlayItemViewAttachmentAgent(this))},i.prototype.option112=function(){return this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption()},i.prototype._positionTextAnnotation=function(){return this._annotation},i.prototype._createAnnotation=function(){var e=new t._PositionTextAnnotation(this.option112().textStyle.overflow,this.option112().textStyle.alignment);return e.position=this.option112().position,e.placement=this.option112().placement,e.rotate=this.option112().angle,e.fixedWidth=this.option112().width,e},i.prototype._annotationStyle=function(){return null==this.__annotationStyle&&(this.__annotationStyle=t._StyleUtility._buildStyle(null,"none",null,"#666666",0),t._OptionUtility._applyOverlayStyleOption(this.__annotationStyle,this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption().style)),this.__annotationStyle},i.prototype._customizeAnnotationStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._annotationStyle());n.textFill="#000000",t._OptionUtility._applyTextStyleOption(n,this.option112().textStyle),t._StyleUtility._applyAllStyle(n,this.style),t._OptionUtility._applyTextStyleOption(n,this.textStyle),e._applyCustomStyle(n)},i.prototype._customizeAnnotation=function(e){var n=e,i=this.text;t._OverlayExpression._isExcelExpression(i)?n.text=this._parseExcelExpression(i):n.text=t.AnnotationLib._parseTextBoundValues(this.parent,i)},i.prototype._beforeAnnotationLayout=function(){this._positionTextAnnotation().maxWidth=this._cartesianAnnotationOverlayView()._getCartesianPlotView()._rectangle().width},i.prototype._layoutContent=function(t,n){e.prototype._layoutContent.call(this,t,n),this._layoutGroup(t,n)},i.prototype._layoutGroup=function(e,n){for(var i=0,o=this.__groupedViews;i<o.length;i++)o[i]._layout(e,n);var r=this._positionTextAnnotation()._toShape();if(null!=r){var l=t._CartesianCoordinatePointTextAnnotationOverlayItemViewAttachmentAgent._calcOutterBox(r,this.__groupedViews),a=l.center,u=t._PositionRectangleAnnotation._createTemplateFrom(this._positionTextAnnotation());u.width=l.size.width,u.height=l.size.height,u._layout(e,n);var s,_,p=u._toShape(),c=new t.Vector(Math.cos(r.angle),Math.sin(r.angle)),h=t.Vector.pointSub(a,p.center),f=t.Vector.endPoint(a,c,h.dot(c));if(s=f.x-a.x,_=f.y-a.y,0!=s||0!=_){this._positionTextAnnotation()._getMatrixTransformInfo().translate(s,_);for(var d=0,y=this.__groupedViews;d<y.length;d++)y[d]._rectangleBoxTextSymbolAnnotation().__transformInfo().translate(s,_)}}},i}(t._XyCoordinateValueCartesianAnnotationOverlayItemView);t._TextXyCoordinateValueAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._findHostBy=function(e,n,i){for(var o=0,r=e._getOverlayViews();o<r.length;o++){var l=r[o];if(t._isAnnotationOverlayView(l)&&t._isCartesianAnnotationOverlayView(l)&&t._isTextCoordinateCartesianAnnotationOverlayView(l)){var a=l;if(a._textAnnotationOverlayDefinition()._textGroupOverlayOption().groupName===i)for(var u=0,s=a._getAnnotationOverlayItemViews();u<s.length;u++){var _=s[u];if(_ instanceof t._TextXyCoordinateValueAnnotationOverlayItemView&&t._CoordinateValueEqualityComparer._coordinateValueEqualityComparer._equalsWith(n,_._coordinateValue()))return _}}}return null},e.prototype._bulid=function(t,e,n){if(null==this.__overlayView||null==t)return null;var i=this._createItemViewBy(this.__overlayView,e,t,n);return null!=i&&i._bindCoordinateValue(t),i},e.prototype._createItemViewBy=function(e,n,i,o){var r=e._textAnnotationOverlayDefinition()._textGroupOverlayOption().groupName;if(null!=r){var l=this._findHostBy(e._getCartesianPlotView(),i,r);if(null!=l)return new t._GroupedTextXyCoordinateValueCartesianAnnotationOverlayItemView(e,n,o,l)}return new t._TextXyCoordinateValueAnnotationOverlayItemView(e,n,o,r)},e}();t._CartesianCoordinateTextAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(t,e,n){if(null==this.__overlayView||null==t)return null;var i=this._createItemViewBy(this.__overlayView,e,t,n);return null!=i&&i._bindPointView(t),i},e.prototype._findHostBy=function(e,n){for(var i=0,o=e._overlayItemViews();i<o.length;i++){var r=o[i];if(r instanceof t._TextXyCoordinateValueAnnotationOverlayItemView&&r._groupName()===n)return r}return null},e.prototype._createItemViewBy=function(e,n,i,o){if(null!=i&&null!=e){var r=e._textAnnotationOverlayDefinition()._textGroupOverlayOption().groupName;if(null!=r){var l=this._findHostBy(i,r);if(null!=l)return new t._GroupedTextXyCoordinateValueCartesianAnnotationOverlayItemView(e,n,o,l)}return new t._TextXyCoordinateValueAnnotationOverlayItemView(e,n,o,r)}return null},e}();t._CartesianPointTextAnnotationOverlayItemViewBuilder=e}(t||(t={})),t||(t={}),function(t){t._isTextCoordinateCartesianAnnotationOverlayView=function(t){return"function"==typeof t._textAnnotationOverlayDefinition}}(t||(t={})),t||(t={}),function(t){t._isVertexes=function(t){var e=t;return null!=e&&"function"==typeof e._xs&&"function"==typeof e._ys}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t,e){this.__xs=t.slice(),this.__ys=e.slice()}return t._pack=function(e,n){return null!=e&&null!=n?new t(e,n):null},t.prototype._xs=function(){return this.__xs.slice()},t.prototype._ys=function(){return this.__ys.slice()},t.prototype.queryInterface=function(t){return null},t}();t.Vertexes=e}(t||(t={})),t||(t={}),function(t){t._isCartesianAnnotationOverlayView=function(e){return t._isCartesianOverlayView(e)}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createOverlayItemView=function(e,n,i){return new t._CartesianPointAnnotationOverlayItemViewBuilder(this)._bulid(e,n,i)},i.prototype._buildOverlayItemViews=function(){e.prototype._buildOverlayItemViews.call(this);for(var n=0,i=this._pointViews();n<i.length;n++){var o=i[n];if(t._isCartesianPointView(o)){var r=o,l=this._getOverlayGroupView(r);this._createOverlayItemView(r,l,o._id()+this._id())}}},i.prototype._getOverlayGroupView=function(t){for(var e=0,n=this._getGroupViews();e<n.length;e++){var i=n[e];if(i._getCartesianGroupView()==t._getCartesianSeriesView()._getCartesianGroupView())return i}return null},i.prototype._isChild=function(t){return t._getOverlayView()===this?t:null},i.prototype._getAnnotationOverlayItemViews=function(){for(var e=[],n=0,i=this._pointViews();n<i.length;n++){var o=i[n];if(t._isCartesianPointView(o))for(var r=0,l=o._overlayItemViews();r<l.length;r++){var a=l[r],u=this._isChild(a);null!=u&&e.push(u)}}return e},i.prototype._pointViews=function(){var e=t.AnnotationLib._parsePointPath(this._ownerView,this._definition._getAnnotationOverlayOption().pointPath);return null==e&&(e=[]),e},i}(t._CartesianAnnotationOverlayView);t._CartesianPointAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._lineAnnotationOverlayDefinition=function(){return this._definition},i.prototype._createOverlayItemView=function(e,n){return new t._CartesianLineCoordinateAnnotationOverlayItemViewBuilder(this)._bulid(e,n)},i.prototype._buildOverlayItemViews=function(){e.prototype._buildOverlayItemViews.call(this);for(var t=0,n=this._getGroupViews();t<n.length;t++){var i=n[t],o=this._lineAnnotationOverlayDefinition()._getLineOverlayOption();if(null!=o.start&&null!=o.end){var r=this._createOverlayItemView(i,this._id()+this._getAnnotationOverlayItemViews().length);this._getAnnotationOverlayItemViews().push(r)}break}},i}(t._CartesianAnnotationOverlayView);t._CartesianLineCoordinateAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this,r=o._getAttachmentAgentManager();return o._bindAttachmentManager(r,"Line.Coordinate"),o}return n(i,e),i.prototype._setStart=function(e){var n=t.AnnotationLib._parseCoordinateValue(e);null!=n&&(this.__start=n)},i.prototype._setEnd=function(e){var n=t.AnnotationLib._parseCoordinateValue(e);null!=n&&(this.__end=n)},i.prototype._start=function(){var e=this._innerProperty("start");if(null!=e){var n=t.AnnotationLib._parseCoordinateValue(t._AnyTypeUtility._toStringOrNull(e));if(null!=n)return n}return this.__start},i.prototype._end=function(){var e=this._innerProperty("end");if(null!=e){var n=t.AnnotationLib._parseCoordinateValue(t._AnyTypeUtility._toStringOrNull(e));if(null!=n)return n}return this.__end},Object.defineProperty(i.prototype,"start",{get:function(){var t=this._start();return null!=t?t._toString():null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"end",{get:function(){var t=this._end();return null!=t?t._toString():null},enumerable:!1,configurable:!0}),i.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianCoordinateLineAttachmentAgent(this._overlayGroupView()._getCartesianGroupView()))},i.prototype._xs=function(){return null!=this._start()&&null!=this._end()?[this._start().x,this._end().x]:null},i.prototype._ys=function(){return null!=this._start()&&null!=this._end()?[this._start().y,this._end().y]:null},i.prototype.queryInterface=function(t){return"ILineCoordinateValues"===t&&"Line.Coordinate"===this.bindStateType&&null!=this._start()&&null!=this._end()?this:e.prototype.queryInterface.call(this,t)},i}(t._CartesianAnnotationOverlayItemView);t._CartesianLineCoordinateAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(t,e){if(null==this.__overlayView)return null;var n=this._createItemViewBy(this.__overlayView,t,e);return null!=n&&(n._setStart(n._parseExcelExpression(this.__overlayView._lineAnnotationOverlayDefinition()._getLineOverlayOption().start)),n._setEnd(n._parseExcelExpression(this.__overlayView._lineAnnotationOverlayDefinition()._getLineOverlayOption().end))),n},e.prototype._createItemViewBy=function(e,n,i){var o=e._type();return"Line"===o?new t._CartesianLineCoordinateLineAnnotationOverlayItemView(e,n,i):"Needle"===o?new t._CartesianLineCoordinateGaugeAnnotationOverlayItemView(e,n,i):null},e}();t._CartesianLineCoordinateAnnotationOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._clone=function(){var t=new i(this._cartesianAnnotationOverlayView(),this._overlayGroupView(),this._id());return null!=this._getAnnotation()&&t._updateAnnotation(this._getAnnotation()._clone()),t},i.prototype._createAnnotation=function(){var e=new t._LineGaugeAnnotation,n=this._ownerView._getAnnotationOverlayDefinition()._getAnnotationOverlayOption();return e.width=n.width,e.endOffset=n.endOffset,e},i}(t._CartesianLineCoordinateAnnotationOverlayItemView);t._CartesianLineCoordinateGaugeAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._clone=function(){var t=new i(this._cartesianAnnotationOverlayView(),this._overlayGroupView(),this._id());return null!=this._getAnnotation()&&t._updateAnnotation(this._getAnnotation()._clone()),t},i.prototype._createAnnotation=function(){return new t._LineAnnotation},i}(t._CartesianLineCoordinateAnnotationOverlayItemView);t._CartesianLineCoordinateLineAnnotationOverlayItemView=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e.prototype._meedleAnnotationOverlayDefinition=function(){return this._definition},e}(t._CartesianLineCoordinateAnnotationOverlayView);t._NeedleCartesianLineCoordinateAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._textAnnotationOverlayDefinition=function(){return this._definition},i.prototype._createOverlayItemView=function(e,n,i){return new t._CartesianPointTextAnnotationOverlayItemViewBuilder(this)._bulid(e,n,i)},i.prototype._layoutContent=function(e,n){e.beginTransform();for(var i=0,o=this._getAnnotationOverlayItemViews();i<o.length;i++){var r=o[i];r instanceof t._TextXyCoordinateValueAnnotationOverlayItemView&&r._layout(e,n)}e.restoreTransform()},i}(t._CartesianPointAnnotationOverlayView);t._CartesianPointTextAnnotationOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this}return n(i,e),i.prototype._buildOverlayView=function(e){if("BarLine"===this._option.type&&t._isCartesianPlotView(e)&&t._isBarCartesianPlotView(e)){var n=e;if(t._isCartesianCategoryPlotDataModel(n._getCartesianPlotDataModel()))return new t._BarLineCartesianOverlayView(n,this)}return null},i}(t._BaseOverlayDefinition);t._BarLineOverlayDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition){if(t.options._isBarLineOverlayOption(n)){var o=n;return new t._BarLineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"BarLine"===(o=n).type&&t.options._isJsonOption(n))return new t._BarLineOverlayDefinition(e,new t.options._BarLineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._BarLineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var o=i.call(this,null,n)||this;return o.__type="BarLine",o.__style=null,null!=e&&t.OptionSerializer.deserialize(o,e),o}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._LineStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"style",null),r}(e._OverlayOption),e._BarLineOverlayOption=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"BarLine"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._BarLineOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._BarLineOverlayOptionConverter=e}(t||(t={})),function(t){!function(t){t._isBarLineOverlayOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return"BarLine"===n.type&&void 0!==n.style}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._cartesianBarLineOverlayView=function(){return this._ownerView},i.prototype._layoutContent=function(t,e){},i.prototype._isNegative=function(e){var n=t.models._CartesianSupport.getRangeYValue(e);return null!=n?(null==n.upper?0:n.upper)<(null==n.lower?0:n.lower):!e._isPositive()},i.prototype._xor=function(t,e){return t!==e&&(t||e)},i.prototype._drawLine=function(e,n,i){var o=null,r=null,l=this._overlayGroupView()._getCartesianGroupView(),a=l._horizontalAxisView()._scaleModel._getReversed(),u=l._verticalAxisView()._scaleModel._getReversed();if(n instanceof t._FunnelCartesianPointView&&i instanceof t._FunnelCartesianPointView)this._drawLineInFunnel(e,n,i);else{if(n instanceof t._BarXyCartesianPointView&&i instanceof t._BarXyCartesianPointView)if(l._swapAxes()){var s=this._xor(a,this._isNegative(n))?n._rectangle().left:n._rectangle().right;o=new t.core.Point(s,u?n._rectangle().bottom:n._rectangle().top),s=this._xor(a,this._isNegative(i))?i._rectangle().left:i._rectangle().right,r=new t.core.Point(s,u?i._rectangle().top:i._rectangle().bottom)}else{var _=this._xor(u,this._isNegative(n))?n._rectangle().bottom:n._rectangle().top;o=new t.core.Point(a?n._rectangle().left:n._rectangle().right,_),_=this._xor(u,this._isNegative(i))?i._rectangle().bottom:i._rectangle().top,r=new t.core.Point(a?i._rectangle().right:i._rectangle().left,_)}else if(t._isRadialBarCartesianPointView(n)&&t._isRadialBarCartesianPointView(i)){var p=n,c=i,h=p._getDonutShape(),f=c._getDonutShape();if(null!=h&&null!=f)if(l._swapAxes()){var d=this._xor(a,this._isNegative(p))?h.startAngle:h.startAngle+h.sweepAngle,y=u?h.innerRadius:h.radius;o=p._getPointCoordOnDonutShape(d,y),d=this._xor(a,this._isNegative(c))?f.startAngle:f.startAngle+f.sweepAngle,y=u?f.radius:f.innerRadius,r=c._getPointCoordOnDonutShape(d,y)}else d=this._xor(u,this._isNegative(p))?h.startAngle:h.startAngle+h.sweepAngle,y=a?h.innerRadius:h.radius,o=p._getPointCoordOnDonutShape(d,y),d=this._xor(u,this._isNegative(c))?f.startAngle:f.startAngle+f.sweepAngle,y=a?f.radius:f.innerRadius,r=c._getPointCoordOnDonutShape(d,y)}null!=o&&null!=r&&e.drawLine(o.x,o.y,r.x,r.y)}},i.prototype._drawLineInFunnel=function(t,e,n){var i=null,o=null;null!=e._getFunnelPolygon()&&(i=e._getFunnelPolygon().rightTop),null!=n._getFunnelPolygon()&&(o=n._getFunnelPolygon().leftTop),null!=i&&null!=o&&t.drawLine(i.x,i.y,o.x,o.y)},i.prototype._drawView=function(e,n){var i=this,o=this._overlayGroupView()._getCartesianGroupView();if(!n._renderLabel){e.beginTransform();var r=o._getCartesianPlotView()._getClippingRegion();e.drawGroup(null,r,null,(function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(i._ownerView._getBarLineStyle());t._StyleUtility._applyStyle(e,n);for(var r=0,l=o._getCartesianSeriesViews();r<l.length;r++)for(var a=l[r],u=a._viewportPointViews(),s=u.length,_=0;_<s-1;_++){var p=u[_],c=u[_+1];a._getConnectedStatus(p,c)&&i._drawLine(e,p,c)}})),e.restoreTransform()}},i}(t._CartesianOverlayItemView);t._BarLineCartesianOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createDefaultStyle=function(){return t._StyleUtility._buildStrokeStyle(null,"#000000",1)},i.prototype._createOverlayItemView=function(e,n){var i=new t._BarLineCartesianOverlayItemView(this,e,n);this._itemViews().push(i)},i.prototype._buildOverlayItemViews=function(){e.prototype._buildOverlayItemViews.call(this);for(var t=0,n=this._getGroupViews();t<n.length;t++){var i=n[t];this._createOverlayItemView(i,"overlayItem")}},i.prototype.useData=function(){},i.prototype._createBarLineStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._getDefaultStyle());return t._OptionUtility._applyLineStyleOption(e,this._definition._option.style),e},i.prototype._getBarLineStyle=function(){return null==this.__cachedBarLineStyle&&(this.__cachedBarLineStyle=this._createBarLineStyle()),this.__cachedBarLineStyle},i}(t._CartesianOverlayView);t._BarLineCartesianOverlayView=e}(t||(t={})),t||(t={}),function(t){!function(t){t[t.Both=0]="Both",t[t.Plus=1]="Plus",t[t.Minus=2]="Minus"}(t.ErrorBarDirection||(t.ErrorBarDirection={}))}(t||(t={})),function(t){!function(t){t[t.StandardDeviation=0]="StandardDeviation",t[t.StandardError=1]="StandardError",t[t.Percentage=2]="Percentage",t[t.Fixed=3]="Fixed",t[t.Custom=4]="Custom"}(t.ErrorBarErrorType||(t.ErrorBarErrorType={}))}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical"}(t.ErrorBarOrientation||(t.ErrorBarOrientation={}))}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this}return n(i,e),i.prototype._buildOverlayView=function(e){if("ErrorBar"===this._option.type)if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e)){var n=new t.models._ErrorBarVaribilityCalculatorBuilder(this).build();if(null!=n)return new t._ErrorBarCartesianOverlayView(e,n,this)}return null},i.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._ErrorBarLegendItemsBuilder(this):null},i}(t._BaseOverlayDefinition);t._ErrorBarOverlayDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isErrorBarOption(n)){var o=n;return new t._ErrorBarOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ErrorBar"===(o=n).type&&t.options._isJsonOption(n))return new t._ErrorBarOverlayDefinition(e,new t.options._ErrorBarOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ErrorBarOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype.getOverlayRange=function(e,n,i,o){var r=this;void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);for(var l=new t._OverlayRange,a=this.__overlayView._isYRelated(),u=!0,s=0,_=this.__overlayView._groups();s<_.length;s++){var p=_[s],c=p._itemViews();null==e&&null==n&&null==i&&null==o||(c=c.filter((function(t){var l=t._pointView(),a=l._data(),u=l._getPlotView(),s=u._getXValue(a);if(null!=s&&!r._inRange(s,e,n))return!1;var _=u._getYValue(a);return!(null!=_.upperY&&!r._inRange(_.upperY,i,o))})));var h=p._range(c);if(null!=h){var f=h[0],d=h[1];u?(a?(l.minY=f,l.maxY=d):(l.maxX=d,l.minX=f),u=!1):a?(l.maxY=Math.max(l.maxY,d),l.minY=Math.min(l.minY,f)):(l.maxX=Math.max(l.maxX,d),l.minX=Math.min(l.minX,f))}}return l},e.prototype._inRange=function(t,e,n){return!(null!=e&&t<e||null!=n&&t>n)},e}();t._CartesianErrorBarOverlayRangePolicy=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._erroBarDefinition=function(){return e.prototype._definition.call(this)},i.prototype.buildLegendItemDataModels=function(e,n){return t._ErrorBarCartesianOverlayView,[]},i}(e._OverlayLegendItemsBuilder),e._ErrorBarLegendItemsBuilder=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__definition=t}return e.prototype._definition=function(){return this.__definition},e.prototype.build=function(){var e=this.__definition._option;switch(e.errorType){case t.ErrorBarErrorType.StandardError:return this._createStandardErrorBy(e);case t.ErrorBarErrorType.StandardDeviation:return this._createStandardDeviationBy(e);case t.ErrorBarErrorType.Percentage:return this._createPercentageBy(e);case t.ErrorBarErrorType.Fixed:return this._createFixedVariabilityBy(e);case t.ErrorBarErrorType.Custom:return this._createCustomVariabilityBy(e);default:return null}},e.prototype._createStandardErrorBy=function(e){return new t.StandardError},e.prototype._createStandardDeviationBy=function(e){var n=new t.StandardDeviation;return n.scale=e.value,n},e.prototype._createPercentageBy=function(e){var n=new t.PercentageVariability;return n.percent=e.value,n},e.prototype._createFixedVariabilityBy=function(e){var n=new t.FixedVariability;return n.offset=e.value,n},e.prototype._createCustomVariabilityBy=function(e){return new t._CustomErrorBarVariabilityCalculator(e)},e}(),e._ErrorBarVaribilityCalculatorBuilder=n}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.__slice=t,this.__itemViews=[],this.__overlayView=e,this.__overlayGroupView=n}return e.prototype._range=function(e){for(var n=[],i=0,o=e;i<o.length;i++){var r=(p=o[i])._varibility();null!=r.join&&!p._filtered&&p._attached()&&n.push(r)}if(n.length>0){for(var l=this.__overlayView._erroBarDefinition()._option.direction,a=n[0].join,u=n[0].join,s=0,_=n;s<_.length;s++){var p=_[s];l!==t.ErrorBarDirection.Minus&&(isNaN(p.plus)||null==p.join||(a=Math.min(p.join+p.plus,p.join,a),u=Math.max(p.join+p.plus,p.join,u))),l!==t.ErrorBarDirection.Plus&&(isNaN(p.minus)||null==p.join||(a=Math.min(p.join-p.minus,p.join,a),u=Math.max(p.join-p.minus,p.join,u)))}return[a,u]}return null},e.prototype._getXyPointSet=function(e){return t._CartesianPointDataExtractor.extract(this.__slice,e,!1)},e.prototype._isExtractOriginValue=function(e){return e instanceof t.PercentageVariability},e.prototype._isCustomValueType=function(e){return e instanceof t._CustomErrorBarVariabilityCalculator||e instanceof t.FixedVariability},e.prototype._itemViews=function(){return this.__itemViews},e.prototype._valueFieldFilter=function(t){var e=this.__overlayView._erroBarDefinition()._option;if(null==e.field)return!0;var n=t._getCartesianSeriesView().valueDefinition;return null!=n&&e.field.indexOf(n)>=0},e.prototype._pointDetailKeyFilter=function(e){var n=this.__overlayView._erroBarDefinition()._option,i=e._getPlotView()._getDefinition();return t._BuildInOverlayDetailKeyPolicyBuilderCollection._buildInOverlayDetailKeys()._overlayDetailKey(i._plotConfigOption.plugins,i._pluginCollection)._containsDetailKey(n.detailKey,e._getCartesianSeriesView()._getCartesianSeriesDataModel()._detailValue())},e.prototype._filter=function(t){return null!=t&&this._pointDetailKeyFilter(t)&&this._valueFieldFilter(t)},e.prototype._createOrUpdateItems=function(){var e=this.__overlayView._calculator(),n=this._getXyPointSet(this._isExtractOriginValue(e));if(null!=n){var i=this.__overlayView._isYRelated()?n.ys:n.xs;if(e instanceof t._CustomErrorBarVariabilityCalculator?this.__variabilitys=e._calculateBy(i,n.points,this.__overlayView._getCartesianPlotView()):this.__variabilitys=e._calculate(i),null!=this.__variabilitys)for(var o=this.__slice._pointViews(),r=0,l=0;l<o.length;++l){var a=o[l],u=null;l!=n.index[r]?u=t.Variability._illegal():(u=this.__variabilitys[r++],this._postProcess(u,a)),l<this.__itemViews.length&&null!=this.__itemViews[l]?this.__itemViews[l]._updateData(u):this.__itemViews.push(this._createOverlayItemView(u,a)),this.__itemViews[l]._filtered=!this._filter(a)}}},e.prototype._postProcess=function(e,n){var i=this.__overlayView._calculator();this._isCustomValueType(i)&&this._scaleForPercentage(e,n),i._replaceJoin()||(this.__overlayView._isYRelated()?e.join=t._CartesianPointDataExtractor.getAxisYValue(n,!1,!1):e.join=t.models._CartesianSupport.getX(n))},e.prototype._scaleForPercentage=function(t,e){var n=this.__overlayView._getCartesianPlotView();if(n._isPercentage()&&this.__overlayView._isYRelated()){var i=this._getClusterScale(e,n);t.setPlus(t.plus/i),t.setMinus(t.minus/i)}},e.prototype._getClusterScale=function(e,n){for(var i=t.models._CartesianSupport.getX(e),o=0,r=0,l=n._getCartesianGroupViews();r<l.length;r++)for(var a=0,u=l[r]._getCartesianSeriesViews();a<u.length;a++)for(var s=u[a],_=0,p=this._getCartesianPointFromSeries(s);_<p.length;_++){var c=p[_];t.models._CartesianSupport.getX(c)!==i||null==c.value||isNaN(c.value)||(o+=Math.abs(c.value))}return 0==o?1:o},e.prototype._getCartesianPointFromSeries=function(t){return t._getPointViews()},e.prototype._createOverlayItemView=function(e,n){var i=this.__overlayView._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;return i==t.AxisMode.Polygonal||i==t.AxisMode.Radial?new t._ErrorBarRadialCartesianOverlayItemView(this.__overlayView,this.__overlayGroupView,"overlayItem",e,n):new t._ErrorBarXyCartesianOverlayItemView(this.__overlayView,this.__overlayGroupView,"overlayItem",e,n)},e.prototype._bindPointView=function(){for(var t=0,e=this.__itemViews;t<e.length;t++)e[t]._bindPointView()},e}();t.CartesianErrorBarGroup=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;return i.__pointView=t,i.__overlayItem=n,i}return n(i,e),i.prototype._filter=function(e){var n=this.__overlayItem._overlayGroupView()._getCartesianOverlayView()._getCartesianPlotView(),i=n._getDefinition()._plotConfigOption.axisMode;return!n._swapAxes()&&(i==t.AxisMode.Polygonal||i==t.AxisMode.Radial)},i.prototype.pointAttachmentInfo=function(e){var n=this._getConnectionPoint(),i=new t.PointAttachInfo(n,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical());return this._completePrototype(i),i},i.prototype._completePrototype=function(e){var n=this.__overlayItem._plus(),i=this.__overlayItem._minus(),o=this.__overlayItem._overlayGroupView()._getCartesianGroupView()._horizontalAxisView(),r=t.Vector.angle(new t.Vector(e.point.x-o._cx,e.point.y-o._cy),t.Vector.horizon()),l=Math.sqrt((e.point.x-o._cx)*(e.point.x-o._cx)+(e.point.y-o._cy)*(e.point.y-o._cy));if(this.__overlayItem._errorBarOverlayView()._calculator()._replaceJoin())if(this.__overlayItem._errorBarOverlayView()._isYRelated()){var a=this.__overlayItem._overlayGroupView()._getCartesianGroupView()._yAxisView();r=a._scaleModel._value(this.__overlayItem._varibility().join),e.point=new t.core.Point(Math.cos(r)*l+a._cx,Math.sin(r)*l+a._cy)}else{var u=o._scaleModel._value(this.__overlayItem._varibility().join);e.point=new t.core.Point(Math.cos(r)*u+o._cx,Math.sin(r)*u+o._cy)}null==i?n instanceof t.RadErrorBarPrototype?(n.radius=l,n.start=r):n instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),n.angle=r):null==n?i instanceof t.RadErrorBarPrototype?(i.radius=l,i.start=r):i instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),i.angle=r):n instanceof t.RadErrorBarPrototype&&i instanceof t.RadErrorBarPrototype?(n.radius=l,i.radius=l,n.start=r,i.start=r):n instanceof t.RadialLineErrorBarPrototype&&i instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),i.angle=r,n.angle=r)},i.prototype._getConnectionPoint=function(){var e=this.__pointView;return t._isSymbolCartesianPointView(e)?this._getConnectionPointInSymbolPointView(e):this._getConnectionPointInBarPointView(e)},i.prototype._getConnectionPointInSymbolPointView=function(t){return t._rectangle().center},i.prototype._getConnectionPointInBarPointView=function(e){if(t._isRadialBarCartesianPointView(e)){var n=void 0,i=e,o=i._getDonutShape();if(null!=o){var r=this.__overlayItem._overlayGroupView()._getCartesianGroupView()._verticalAxisView();n=r._scaleModel._getReversed()===!i._isPositive()?o.startAngle+o.sweepAngle:o.startAngle;var l=new t.core.Point(Math.cos(n)*o.innerRadius,Math.sin(n)*o.innerRadius),a=new t.core.Point(Math.cos(n)*o.radius,Math.sin(n)*o.radius);return new t.core.Point(r._cx+(l.x+a.x)/2,r._cy+(l.y+a.y)/2)}}return null},i.prototype._onAttached=function(t){this.__pointView._overlayItemViews().push(t)},i}(t._PointAttachmentAgent);t._DonutErrorBarPointAttachmentAgent=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;return i.__pointView=t,i.__overlayItem=n,i}return n(i,e),i.prototype._filter=function(e){var n=this.__overlayItem._errorBarOverlayView()._getCartesianPlotView(),i=n._getDefinition()._plotConfigOption.axisMode;return n._swapAxes()&&(i==t.AxisMode.Polygonal||i==t.AxisMode.Radial)},i.prototype.pointAttachmentInfo=function(e){var n=this._getConnectionPoint(),i=new t.PointAttachInfo(n,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical());return this._completePrototype(i),i},i.prototype._completePrototype=function(e){var n=this.__overlayItem._plus(),i=this.__overlayItem._minus(),o=this.__overlayItem._overlayGroupView()._getCartesianGroupView()._horizontalAxisView(),r=t.Vector.angle(new t.Vector(e.point.x-o._cx,e.point.y-o._cy),t.Vector.horizon()),l=Math.sqrt((e.point.x-o._cx)*(e.point.x-o._cx)+(e.point.y-o._cy)*(e.point.y-o._cy));if(this.__overlayItem._errorBarOverlayView()._calculator()._replaceJoin())if(this.__overlayItem._errorBarOverlayView()._isYRelated()){var a=o._scaleModel._value(this.__overlayItem._varibility().join);e.point=new t.core.Point(Math.cos(r)*a+o._cx,Math.sin(r)*a+o._cy)}else{var u=this.__overlayItem._overlayGroupView()._getCartesianGroupView()._xAxisView();r=u._scaleModel._value(this.__overlayItem._varibility().join),e.point=new t.core.Point(Math.cos(r)*l+u._cx,Math.sin(r)*l+u._cy)}null==i?n instanceof t.RadErrorBarPrototype?(n.radius=l,n.start=r):n instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),n.angle=r):null==n?i instanceof t.RadErrorBarPrototype?(i.radius=l,i.start=r):i instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),i.angle=r):n instanceof t.RadErrorBarPrototype&&i instanceof t.RadErrorBarPrototype?(i.radius=l,n.radius=l,i.start=r,n.start=r):n instanceof t.RadialLineErrorBarPrototype&&i instanceof t.RadialLineErrorBarPrototype&&(o._scaleModel._getReversed()&&(e.xDir=e.xDir.reverse(),e.yDir=e.yDir.reverse()),i.angle=r,n.angle=r)},i.prototype._getConnectionPoint=function(){var e=this.__pointView;return t._isSymbolCartesianPointView(e)?this._getConnectionPointInSymbolPointView(e):this._getConnectionPointInBarPointView(e)},i.prototype._getConnectionPointInSymbolPointView=function(t){return t._rectangle().center},i.prototype._getConnectionPointInBarPointView=function(e){if(t._isRadialBarCartesianPointView(e)){var n=e,i=n._getDonutShape();if(null!=i){var o=i.startAngle+i.sweepAngle/2,r=this.__overlayItem._overlayGroupView()._getCartesianGroupView()._horizontalAxisView(),l=void 0;return(l=r._scaleModel._getReversed()===!n._isPositive()?i.radius:i.innerRadius)<.01&&(l=.01),new t.core.Point(r._cx+Math.cos(o)*l,r._cy+Math.sin(o)*l)}}return null},i.prototype._onAttached=function(t){this.__pointView._overlayItemViews().push(t)},i}(t._PointAttachmentAgent);t._PieErrorBarPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;return i.__radius=0,i.__start=0,i.__sweep=0,i.__isPlus=t,i.__hasCap=n,i}return n(i,e),i.prototype._capLen=function(){return 6},Object.defineProperty(i.prototype,"start",{get:function(){return this.__start},set:function(t){isNaN(t)||(this.__start=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sweep",{get:function(){return this.__sweep},set:function(t){isNaN(t)||(this.__sweep=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.__radius},set:function(t){!isNaN(t)&&t>=0&&(this.__radius=t)},enumerable:!1,configurable:!0}),i.prototype._box=function(){return new t.core.Rect(-this.radius,-this.radius,2*this.radius,2*this.radius)},i.prototype._junction=function(e,n){return t._MatrixUtility._transformPoint(e,new t.core.Point(Math.cos(this.start)*this.radius,Math.sin(this.start)*this.radius))},i.prototype._paths=function(){var t=[];return null!=this.__linePath&&t.push(this.__linePath),null!=this.__capPath&&t.push(this.__capPath),t},i.prototype._refresh=function(t){},i.prototype._renderRefresh=function(t){this.__linePath=this._linePath(),this.__capPath=this._capPath(),this.strokeWidth=t.strokeWidth},i.prototype._linePath=function(){return this.__isPlus?this.sweep<0?t._PathBuilder._defaultPathBuilder._buildArc(0,0,this.radius,this.start+this.sweep,-this.sweep):t._PathBuilder._defaultPathBuilder._buildArc(0,0,this.radius,this.start,this.sweep):this.sweep<0?t._PathBuilder._defaultPathBuilder._buildArc(0,0,this.radius,this.start,-this.sweep):t._PathBuilder._defaultPathBuilder._buildArc(0,0,this.radius,this.start-this.sweep,this.sweep)},i.prototype._capPath=function(){if(!this.__hasCap)return null;var e;e=this.__isPlus?this.start+this.sweep:this.start-this.sweep;var n=this.radius-this._capLen()/2,i=new t.core.Point(Math.cos(e)*n,Math.sin(e)*n);n+=this._capLen();var o=new t.core.Point(Math.cos(e)*n,Math.sin(e)*n),r=[],l=t._PathCommandBuilder._defaultPathCommandBuilder;return r.push(l._buildMoveToPathCommand(i.x,i.y)),r.push(l._buildLineToPathCommand(o.x,o.y)),t._PathBuilder._defaultPathBuilder._buildPath(r)},i.prototype._draw=function(e){null!=this.__linePath&&e.drawPath(this.__linePath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter),this.__hasCap&&e.drawPath(this.__capPath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)},i.prototype._contain=function(t){return e.prototype._containStroke.call(this,t)},i}(t._PathPrototype);t.RadErrorBarPrototype=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;return i.__angle=0,i.__len=0,i.__isPlus=t,i.__hasCap=n,i}return n(i,e),i.prototype._capLen=function(){return 6},Object.defineProperty(i.prototype,"len",{get:function(){return this.__len},set:function(t){!isNaN(t)&&t>=0&&(this.__len=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},set:function(t){isNaN(t)||(this.__angle=t)},enumerable:!1,configurable:!0}),i.prototype._box=function(){var e=this._endPoint(),n=Math.min(e.x,0),i=Math.min(e.y,0);return new t.core.Rect(n,i,Math.max(e.x,0)-n,Math.max(e.y,0)-i)},i.prototype._junction=function(e,n){return t._MatrixUtility._transformPoint(e,new t.core.Point(0,0))},i.prototype._paths=function(){var t=[];return null!=this.__linePath&&t.push(this.__linePath),null!=this.__capPath&&t.push(this.__capPath),t},i.prototype._refresh=function(t){},i.prototype._renderRefresh=function(t){this.__linePath=this._linePath(),this.__capPath=this._capPath(),this.strokeWidth=t.strokeWidth},i.prototype._linePath=function(){var e=this._endPoint(),n=[],i=t._PathCommandBuilder._defaultPathCommandBuilder;return n.push(i._buildMoveToPathCommand(0,0)),n.push(i._buildLineToPathCommand(e.x,e.y)),t._PathBuilder._defaultPathBuilder._buildPath(n)},i.prototype._capPath=function(){var e=this.len,n=new t.Vector(Math.cos(this.angle),Math.sin(this.angle));this.__isPlus||(n=n.reverse());var i=new t.core.Point(n.x*e,n.y*e),o=t.Vector.getPerp(n),r=t.Vector.endPoint(i,o,this._capLen()/2),l=t.Vector.endPoint(i,o.reverse(),this._capLen()/2),a=[],u=t._PathCommandBuilder._defaultPathCommandBuilder;return a.push(u._buildMoveToPathCommand(r.x,r.y)),a.push(u._buildLineToPathCommand(l.x,l.y)),t._PathBuilder._defaultPathBuilder._buildPath(a)},i.prototype._endPoint=function(){return this.__isPlus?new t.core.Point(Math.cos(this.angle)*this.len,Math.sin(this.angle)*this.len):new t.core.Point(-Math.cos(this.angle)*this.len,-Math.sin(this.angle)*this.len)},i.prototype._draw=function(e){null!=this.__linePath&&e.drawPath(this.__linePath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter),this.__hasCap&&e.drawPath(this.__capPath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)},i.prototype._contain=function(t){return e.prototype._containStroke.call(this,t)},i}(t._PathPrototype);t.RadialLineErrorBarPrototype=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;return i.__pointView=t,i._overlayItem=n,i}return n(i,e),i.prototype._view=function(){return this.__pointView},i.prototype._filter=function(e){var n=this._overlayItem._overlayGroupView()._getCartesianOverlayView()._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;return!(n==t.AxisMode.Polygonal||n==t.AxisMode.Radial)},i.prototype.pointAttachmentInfo=function(e){var n=t.AnnotationLib._getXYDirection(this._overlayItem._overlayGroupView()._getCartesianGroupView()),i=this._getConnectionPoint();return null==i?null:new t.PointAttachInfo(i,n.xDir,n.yDir,n.xDir,n.yDir)},i.prototype._getConnectionPoint=function(){var e=this.__pointView;return t._isSymbolCartesianPointView(e)?this._getConnectionPointInSymbolPointView(e):this._getConnectionPointInBarPointView(e)},i.prototype._getConnectionPointInSymbolPointView=function(t){return t._rectangle().center},i.prototype._getConnectionPointInBarPointView=function(e){var n=e._rectangle(),i=this._overlayItem._errorBarOverlayView()._getCartesianPlotView();return i._swapAxes()?i._reversed()===!e._isPositive()?new t.core.Point(n.right,n.top+n.height/2):new t.core.Point(n.left,n.top+n.height/2):i._reversed()===!e._isPositive()?new t.core.Point(n.left+n.width/2,n.top):new t.core.Point(n.left+n.width/2,n.bottom)},i.prototype._onAttached=function(t){this.__pointView._overlayItemViews().push(t)},i}(t._PointAttachmentAgent);t._RectangularErrorBarPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this)||this;return o.__barLen=0,o.__isYRelated=t,o.__isPlus=n,o.__hasCap=i,o}return n(i,e),i.prototype._capLen=function(){return 6},Object.defineProperty(i.prototype,"barLen",{get:function(){return this.__barLen},set:function(t){!isNaN(t)&&t>=0&&(this.__barLen=t)},enumerable:!1,configurable:!0}),i.prototype._box=function(){return this.__isYRelated?new t.core.Rect(0,0,this._capLen(),this.barLen):new t.core.Rect(0,0,this.barLen,this._capLen())},i.prototype._junction=function(e,n){return this.__isPlus?this.__isYRelated?t._MatrixUtility._transformPoint(e,new t.core.Point(0,this.barLen)):t._MatrixUtility._transformPoint(e,new t.core.Point(0,0)):this.__isYRelated?t._MatrixUtility._transformPoint(e,new t.core.Point(0,0)):t._MatrixUtility._transformPoint(e,new t.core.Point(this.barLen,0))},i.prototype._paths=function(){var t=[];return null!=this.__linePath&&t.push(this.__linePath),null!=this.__capPath&&t.push(this.__capPath),t},i.prototype._renderRefresh=function(e){var n,i,o=t._PathCommandBuilder._defaultPathCommandBuilder,r=[],l=[];this.__isPlus?this.__isYRelated?(n=0,i=0,r.push(o._buildMoveToPathCommand(0,this.barLen)),r.push(o._buildLineToPathCommand(0,0))):(n=this.barLen,i=0,r.push(o._buildMoveToPathCommand(0,0)),r.push(o._buildLineToPathCommand(n,i))):this.__isYRelated?(n=0,i=this.barLen,r.push(o._buildMoveToPathCommand(0,0)),r.push(o._buildLineToPathCommand(n,i))):(n=0,i=0,r.push(o._buildMoveToPathCommand(this.barLen,0)),r.push(o._buildLineToPathCommand(0,0))),this.__linePath=t._PathBuilder._defaultPathBuilder._buildPath(r);var a=this._capLen();this.__isYRelated?(n-=a/2,l.push(o._buildMoveToPathCommand(n,i)),l.push(o._buildLineToPathCommand(n+a,i)),this.__capPath=t._PathBuilder._defaultPathBuilder._buildPath(l)):(i-=a/2,l.push(o._buildMoveToPathCommand(n,i)),l.push(o._buildLineToPathCommand(n,i+a)),this.__capPath=t._PathBuilder._defaultPathBuilder._buildPath(l)),this.strokeWidth=e.strokeWidth},i.prototype._refresh=function(t){},i.prototype._draw=function(e){null!=this.__linePath&&e.drawPath(this.__linePath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter),this.__hasCap&&e.drawPath(this.__capPath,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)},i.prototype._contain=function(t){return e.prototype._containStroke.call(this,t)},i}(t._PathPrototype);t.RectangularErrorBarPrototype=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e.prototype._filter=function(e){return this._overlayItem._errorBarOverlayView()._calculator()._replaceJoin()&&t.prototype._filter.call(this,e)},e.prototype._getConnectionPoint=function(){var e=t.prototype._getConnectionPoint.call(this),n=this._overlayItem._errorBarOverlayView()._isYRelated(),i=this._overlayItem._getAxisBy(n)._scaleModel._value(this._overlayItem._varibility().join);return null!=e&&null!=i&&(this._overlayItem._errorBarOverlayView()._isVertical()?e.y=i:e.x=i),e},e}(t._RectangularErrorBarPointAttachmentAgent);t._RectangularReplaceJoinErrorBarPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(){function e(t){this.__option=t,this.__currentErrorValueIndex=0}return e.prototype._replaceJoin=function(){return!1},e.prototype._getValueBy=function(e,n,i){var o=this.__option;if(null!=o.errorValues){var r=o.errorValues;if(this.__currentErrorValueIndex<r.length)return i?r[this.__currentErrorValueIndex].positive:r[this.__currentErrorValueIndex++].negative}else if(null!=o.errorField){var l=n._getDefinition()._dataSchema._fields[o.errorField];if(null!=l){var a=t._DataSlicesAggregate._defaultAggregate._aggregate(e._data()._dataSlices,l,o.aggregate,1);return null==a||!t._DataValueTypeExtension._isNumber(a)||isNaN(a)?NaN:a}}return NaN},e.prototype._calculate=function(t){return null},e.prototype._calculateBy=function(e,n,i){if(null!=e&&e.length>0){var o=[];this.__currentErrorValueIndex=0;for(var r=0;r<e.length;++r){var l=null,a=n[r];l=null==e[r]||isNaN(e[r])?t.Variability._illegal():t.Variability._from(this._getValueBy(a,i,!0),this._getValueBy(a,i,!1),e[r]),o.push(l)}return o}return null},e}();t._CustomErrorBarVariabilityCalculator=e}(t||(t={})),function(t){var e=function(){function e(){this.__offset=.1}return e.prototype._replaceJoin=function(){return!1},Object.defineProperty(e.prototype,"offset",{set:function(e){if(null!=e&&e<0)throw new t.OptionError(t.ErrorCode.UnexpectedNegativeValue,e);null!=e&&(this.__offset=e)},enumerable:!1,configurable:!0}),e.prototype._calculate=function(e){if(null!=e&&e.length>0){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];null==r||isNaN(r)?n.push(t.Variability._illegal()):n.push(t.Variability._from(this.__offset,this.__offset,r))}return n}return null},e}();t.FixedVariability=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(){this.__scale=.05}return e.prototype._replaceJoin=function(){return!1},Object.defineProperty(e.prototype,"percent",{set:function(e){if(null!=e&&e<0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,e);null!=e&&(this.__scale=e)},enumerable:!1,configurable:!0}),e.prototype._calculate=function(e){if(null!=e&&e.length>0){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];if(null==r||isNaN(r))n.push(t.Variability._illegal());else{var l=Math.abs(r)*this.__scale;n.push(t.Variability._from(l,l,r))}}return n}return null},e}();t.PercentageVariability=e}(t||(t={})),function(t){var e=function(){function e(){this.__scale=1}return e.prototype._replaceJoin=function(){return!0},Object.defineProperty(e.prototype,"scale",{set:function(e){if(null!=e&&e<0)throw new t.AssertError(t.ErrorCode.UnexpectedNegativeValue,e);null!=e&&(this.__scale=e)},enumerable:!1,configurable:!0}),e.prototype._calculate=function(e){var n=e.filter((function(t){return null!=t&&!isNaN(t)}));if(null!=n&&n.length>1){for(var i=n.length,o=n.reduce((function(t,e){return t+e}),0)/i,r=n.reduce((function(t,e){return t+(e-o)*(e-o)}),0),l=Math.sqrt(r/(i-1))*this.__scale,a=[],u=0,s=e;u<s.length;u++){var _=s[u];null==_||isNaN(_)?a.push(t.Variability._illegal()):a.push(t.Variability._from(l,l,o))}return a}return null},e}();t.StandardDeviation=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._replaceJoin=function(){return!1},e.prototype._calculate=function(e){var n=e.filter((function(t){return null!=t&&!isNaN(t)}));if(null!=n&&n.length>1){for(var i=n.length,o=n.reduce((function(t,e){return t+e}),0)/i,r=n.reduce((function(t,e){return t+(e-o)*(e-o)}),0),l=Math.sqrt(r/(i-1))/Math.sqrt(i),a=[],u=0,s=e;u<s.length;u++){var _=s[u];null==_||isNaN(_)?a.push(t.Variability._illegal()):a.push(t.Variability._from(l,l,_))}return a}return null},e}();t.StandardError=e}(t||(t={})),function(t){var e=function(){function t(t,e,n){this.setPlus(t),this.setMinus(e),this.__join=n}return t._from=function(e,n,i){return isNaN(i)?null:new t(e,n,i)},t._illegal=function(){return new t(NaN,NaN,null)},Object.defineProperty(t.prototype,"plus",{get:function(){return this.__plus},enumerable:!1,configurable:!0}),t.prototype.setPlus=function(t){null==t||isNaN(t)?this.__plus=NaN:this.__plus=t},Object.defineProperty(t.prototype,"minus",{get:function(){return this.__minus},enumerable:!1,configurable:!0}),t.prototype.setMinus=function(t){null==t||isNaN(t)?this.__minus=NaN:this.__minus=t},Object.defineProperty(t.prototype,"join",{get:function(){return this.__join},set:function(t){null==t||isNaN(t)||(this.__join=t)},enumerable:!1,configurable:!0}),t}();t.Variability=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var o=i.call(this,null,n)||this;return o.__type="ErrorBar",o.__value=null,o.__errorType=t.ErrorBarErrorType.StandardError,o.__direction=t.ErrorBarDirection.Both,o.__style=null,o.__label=null,o.__endCap=!0,o.__orientation=t.ErrorBarOrientation.Auto,o.__field=null,o.__detailLevel=t.DetailLevel.Total,o.__detailKey=null,o.__aggregate=t.Aggregate.List,o.__errorField=null,o.__errorValues=null,null!=e&&t.OptionSerializer.deserialize(o,e),o}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"errorValues",{get:function(){return this.__errorValues},set:function(t){null!=t&&(this.__errorValues=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"errorField",{get:function(){return this.__errorField},set:function(t){this.__errorField!=t&&(this.__errorField=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailKey",{get:function(){return this.__detailKey},set:function(t){this.__detailKey!=t&&(this.__detailKey=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailLevel",{get:function(){return this.__detailLevel},set:function(t){this.__detailLevel!=t&&(this.__detailLevel=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.__orientation},set:function(t){this.__orientation!=t&&(this.__orientation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endCap",{get:function(){return this.__endCap},set:function(t){this.__endCap!=t&&(this.__endCap=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._OverlayStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"errorType",{get:function(){return this.__errorType},set:function(t){this.__errorType!=t&&(this.__errorType=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"direction",{get:function(){return this.__direction},set:function(t){this.__direction!=t&&(this.__direction=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.__value},set:function(t){this.__value!=t&&(this.__value=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_ErrorValueOption")],r.prototype,"errorValues",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"errorField",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate,t.Aggregate.List)],r.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._DataValueTypesConverter,!0)],r.prototype,"detailKey",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DetailLevel,t.DetailLevel.Total)],r.prototype,"detailLevel",null),o([t.JsonConverterAttribute(t._FieldNameConverter,!0)],r.prototype,"field",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ErrorBarOrientation,t.ErrorBarOrientation.Auto)],r.prototype,"orientation",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"endCap",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"label",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_OverlayStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ErrorBarErrorType,t.ErrorBarErrorType.StandardError)],r.prototype,"errorType",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ErrorBarDirection,t.ErrorBarDirection.Both)],r.prototype,"direction",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"value",null),r}(e._OverlayOption),e._ErrorBarOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__positive=null,o.__negative=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"positive",{get:function(){return this.__positive},set:function(t){null!=this.__positive&&this.__positive==t||(this.__positive=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"negative",{get:function(){return this.__negative},set:function(t){null!=this.__negative&&this.__negative==t||(this.__negative=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"positive",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"negative",null),i}(e._Option),e._ErrorValueOption=i}(t||(t={})),function(t){!function(t){t._isErrorBarOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return"ErrorBar"==n.type&&void 0!==n.style&&void 0!==n.label&&void 0!==n.endCap&&void 0!==n.errorType&&void 0!==n.direction&&void 0!==n.orientation&&void 0!==n.value&&void 0!==n.field&&void 0!==n.detailLevel&&void 0!==n.detailKey&&void 0!==n.errorValues&&void 0!==n.errorField&&void 0!==n.aggregate}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,n,i)||this;return l._filtered=!1,l.__varibility=o,l.__pointView=r,l}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.ErrorBarOverlayItem},enumerable:!1,configurable:!0}),i.prototype._varibility=function(){return this.__varibility},i.prototype._pointView=function(){return this.__pointView},i.prototype._attached=function(){return t._isCartesianPointView(this.___parentView)},i.prototype._errorBarOverlayView=function(){return this._ownerView},Object.defineProperty(i.prototype,"positive",{get:function(){return this._errorBarOverlayView()._erroBarDefinition()._option.direction===t.ErrorBarDirection.Minus?null:this._varibility().plus},set:function(t){this._varibility().setPlus(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"negative",{get:function(){return this._errorBarOverlayView()._erroBarDefinition()._option.direction===t.ErrorBarDirection.Plus?null:this._varibility().minus},set:function(t){this._varibility().setMinus(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this._errorBarOverlayView()._isVertical()?t.ErrorBarOrientation.Vertical:t.ErrorBarOrientation.Horizontal},enumerable:!1,configurable:!0}),i.prototype._updateData=function(t){this.__varibility=t},i.prototype._bindPointView=function(){if(null!=this.__pointView){this._plusAnnotation=new t._TemplateAnnotation,this._minusAnnotation=new t._TemplateAnnotation;var e=this._getAttachmentAgentManagerByView(this.__pointView),n=this._plusAnnotation._bind(new t.ProxyAttachmentAgentManager(e,this)),i=this._minusAnnotation._bind(new t.ProxyAttachmentAgentManager(e,this));null!=n&&n==i&&(n._onAttached(this),this.___parentView=this.__pointView)}},i.prototype._runConditionalFormatRules=function(){e.prototype._runConditionalFormatRules.call(this);var n=t._AnyTypeUtility._toNumberOrNull(this._innerProperty("positive",NaN));isNaN(n)&&void 0!==n||(this.positive=n);var i=t._AnyTypeUtility._toNumberOrNull(this._innerProperty("negative",NaN));isNaN(i)&&void 0!==i||(this.negative=i)},i.prototype._layoutContent=function(e,n){if(this._attached())switch(this._plusAnnotation._init(),this._minusAnnotation._init(),null!=this._varibility().join&&this._createContent(),this._errorBarOverlayView()._erroBarDefinition()._option.direction){case t.ErrorBarDirection.Plus:this._layoutAnnotation(this._plusAnnotation,e,n);break;case t.ErrorBarDirection.Minus:this._layoutAnnotation(this._minusAnnotation,e,n);break;case t.ErrorBarDirection.Both:this._layoutAnnotation(this._plusAnnotation,e,n),this._layoutAnnotation(this._minusAnnotation,e,n)}},i.prototype._layoutAnnotation=function(t,e,n){this._customizeAnnotationStyle(t),t._layout(e,n)},i.prototype._customizeAnnotationStyle=function(e){var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._errorBarOverlayView()._annotationStyle());t._StyleUtility._applyAllStyle(n,this.style),e._applyCustomStyle(n)},i.prototype._isVisible=function(){var t=this.___parentView;return!(null!=t&&!t._isVisible())&&e.prototype._isVisible.call(this)},i.prototype._drawView=function(e,n){if(this._attached()&&!this._filtered)switch(this._errorBarOverlayView()._erroBarDefinition()._option.direction){case t.ErrorBarDirection.Plus:this._renderAnnotation(this._plusAnnotation,e,n);break;case t.ErrorBarDirection.Minus:this._renderAnnotation(this._minusAnnotation,e,n);break;case t.ErrorBarDirection.Both:this._renderAnnotation(this._plusAnnotation,e,n),this._renderAnnotation(this._minusAnnotation,e,n)}},i.prototype._renderAnnotation=function(t,e,n){t._render(e,n)},i.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this._attached()&&!this._filtered&&this._isVisible()){var o,r=this._errorBarOverlayView()._erroBarDefinition()._option.direction;if((r==t.ErrorBarDirection.Both||r==t.ErrorBarDirection.Plus)&&null!=(o=this._plusAnnotation)&&o._containStroke(e)){var l=new t.HitTestResult(e,this,this,t.ElementType.OverlayItem);return null==i||null!=i&&i.predicate(l)?l:null}if((r==t.ErrorBarDirection.Both||r==t.ErrorBarDirection.Minus)&&null!=(o=this._minusAnnotation)&&o._containStroke(e))return l=new t.HitTestResult(e,this,this,t.ElementType.OverlayItem),null==i||null!=i&&i.predicate(l)?l:null}return null},i.prototype.queryInterface=function(t){return"IErrorBarOverlayItemModel"===t?this:e.prototype.queryInterface.call(this,t)},i}(t._CartesianOverlayItemView);t._ErrorBarCartesianOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,i)||this;return o.__calculator=n,o.__groups=[],o}return n(i,e),i.prototype._erroBarDefinition=function(){return this._definition},i.prototype._groups=function(){return this.__groups},i.prototype._calculator=function(){return this.__calculator},i.prototype._isVertical=function(){return this._erroBarDefinition()._option.orientation==t.ErrorBarOrientation.Auto?!this._getCartesianPlotView()._swapAxes():this._erroBarDefinition()._option.orientation===t.ErrorBarOrientation.Vertical},i.prototype._isYRelated=function(){return!this._getCartesianPlotView()._swapAxes()===this._isVertical()},i.prototype._getDataSlices=function(e){var n=this._erroBarDefinition()._option.detailLevel;return(new t._CartesianOverlayDataSlicer)._slice(e._getCartesianGroupView(),n,!1)},i.prototype._createDefaultStyle=function(){return t._StyleUtility._buildStrokeStyle(null,"#000000",1)},i.prototype._buildOverlayItemViews=function(){var n;e.prototype._buildOverlayItemViews.call(this);for(var i=[],o=0,r=this._getGroupViews();o<r.length;o++)for(var l=r[o],a=0,u=this._getDataSlices(l);a<u.length;a++){var s=u[a],_=new t.CartesianErrorBarGroup(s,this,l);this.__groups.push(_),_._createOrUpdateItems(),_._itemViews().length>0&&(i.push(_),(n=this._itemViews()).push.apply(n,_._itemViews()))}for(var p=0,c=i;p<c.length;p++)(_=c[p])._bindPointView()},i.prototype.useData=function(){for(var t=0,e=this.__groups;t<e.length;t++)e[t]._createOrUpdateItems();for(var n=0,i=this._itemViews();n<i.length;n++)i[n]._runConditionalFormatRules()},i.prototype._annotationStyle=function(){if(null==this.__annotationStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._getDefaultStyle());t._OptionUtility._applyOverlayStyleOption(e,this._erroBarDefinition()._option.style),e.fill=t._CssColor._none(),this.__annotationStyle=e}return this.__annotationStyle},Object.defineProperty(i.prototype,"overlayItems",{get:function(){return this._itemViews().slice().map((function(t){return t._toOverlayItemModel()}))},enumerable:!1,configurable:!0}),i.prototype.buildRangePolicy=function(){return new t._CartesianErrorBarOverlayRangePolicy(this)},i.prototype.queryInterface=function(t){return"IEnumerableOverlayModel"===t?this:e.prototype.queryInterface.call(this,t)},i}(t._CartesianOverlayView);t._ErrorBarCartesianOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._plus=function(){return null!=this._plusAnnotation?this._plusAnnotation._getContent():null},i.prototype._minus=function(){return null!=this._minusAnnotation?this._minusAnnotation._getContent():null},i.prototype._getAttachmentAgentManagerByView=function(e){return new t.AttachmentAgentManager(new t._DonutErrorBarPointAttachmentAgent(e,this),new t._PieErrorBarPointAttachmentAgent(e,this))},i.prototype._getVerticalAxis=function(){return this._overlayGroupView()._getCartesianGroupView()._verticalAxisView()},i.prototype._getHorizontalAxis=function(){return this._overlayGroupView()._getCartesianGroupView()._horizontalAxisView()},i.prototype._createContent=function(){isNaN(this._varibility().plus)||this._plusAnnotation._setContent(this._createContentBy(this._varibility().plus)),isNaN(this._varibility().minus)||this._minusAnnotation._setContent(this._createContentBy(-this._varibility().minus))},i.prototype._createContentBy=function(e){var n=this._errorBarOverlayView()._getCartesianPlotView(),i=this._errorBarOverlayView()._isYRelated(),o=n._swapAxes(),r=this._errorBarOverlayView()._erroBarDefinition()._option.endCap,l=this._varibility().join;if(!o===i){var a=this._getVerticalAxis(),u=a._scaleModel._value(l),s=null!=l?a._scaleModel._value(l+e):null,_=null!=u&&null!=s?s-u:null,p=null;return e>=0?(p=new t.RadErrorBarPrototype(!0,r),null!=_&&(p.sweep=_)):(p=new t.RadErrorBarPrototype(!1,r),null!=_&&(p.sweep=-_)),p}var c=this._getHorizontalAxis(),h=(p=new t.RadialLineErrorBarPrototype(e>=0,r),c._scaleModel._value(l)),f=null!=l?c._scaleModel._value(l+e):null;if(null!=h&&null!=f){var d=f-h;p.len=Math.abs(d)}return p},i}(t._ErrorBarCartesianOverlayItemView);t._ErrorBarRadialCartesianOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getAttachmentAgentManagerByView=function(e){return new t.AttachmentAgentManager(new t._RectangularReplaceJoinErrorBarPointAttachmentAgent(e,this),new t._RectangularErrorBarPointAttachmentAgent(e,this))},i.prototype._getAxisBy=function(t){var e=this._overlayGroupView()._getCartesianGroupView();return t?e._yAxisView():e._xAxisView()},i.prototype._createContent=function(){isNaN(this._varibility().plus)||this._plusAnnotation._setContent(this._createContentBy(this._varibility().plus)),isNaN(this._varibility().minus)||this._minusAnnotation._setContent(this._createContentBy(-this._varibility().minus))},i.prototype._createContentBy=function(e){var n=this._errorBarOverlayView()._erroBarDefinition()._option.endCap,i=this._errorBarOverlayView()._isYRelated(),o=this._getAxisBy(i),r=this._varibility().join,l=new t.RectangularErrorBarPrototype(i,e>=0,n),a=o._scaleModel._value(r),u=o._scaleModel._value((null==r?0:r)+e),s=(null==u?0:u)-(null==a?0:a);return l.barLen=Math.abs(s),l},i}(t._ErrorBarCartesianOverlayItemView);t._ErrorBarXyCartesianOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition)if(t.options._isReferenceBandOverlayOption(n)){if(null!=(o=n).start&&null!=o.end)return new t._ReferenceBandDefinition(e,o)}else if(t.options._isOverlayOption(n)){var o;if("ReferenceBand"===(o=n).type&&t.options._isJsonOption(n)){var r=new t.options._ReferenceBandOverlayOption(n.json);if(null!=r.start&&null!=r.end)return new t._ReferenceBandDefinition(e,r)}}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianReferenceBandOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype.getOverlayRange=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var r=new t._OverlayRange,l=this.__overlayView._referenceBandOverlayDefinition()._option,a=Math.max(this.__overlayView._start(),this.__overlayView._end()),u=Math.min(this.__overlayView._start(),this.__overlayView._end());return l.axis==t.AxisType.X?(this._inRange(a,e,n)&&(r.maxX=a),this._inRange(u,e,n)&&(r.minX=u)):(this._inRange(a,i,o)&&(r.maxY=a),this._inRange(u,i,o)&&(r.minY=u)),r},e.prototype._inRange=function(t,e,n){return!(null!=e&&t<e||null!=n&&t>n)},e}();t._CartesianReferenceBandOverlayRangePolicy=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type="ReferenceBand",r.__axis=t.AxisType.Y,r.__style=new e._DataPointStyleOption(null),r.__start=null,r.__end=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"axis",{get:function(){return this.__axis},set:function(t){this.__axis!=t&&(this.__axis=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._DataPointStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"start",{get:function(){return this.__start},set:function(t){this.__start!=t&&(this.__start=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"end",{get:function(){return this.__end},set:function(t){this.__end!=t&&(this.__end=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisType,t.AxisType.Y)],r.prototype,"axis",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"start",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"end",null),r}(e._OverlayOption),e._ReferenceBandOverlayOption=i}(t||(t={})),function(t){!function(t){t._isReferenceBandOverlayOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return"ReferenceBand"==n.type&&void 0!==n.axis&&void 0!==n.style&&void 0!==n.start&&void 0!==n.end}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this;return o._legendOverlayDefinition=new t._LegendOverlayDefinition(n,t.LegendType.Overlay),o}return n(i,e),i.prototype._buildOverlayView=function(e){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianReferenceBandOverlayView(e,this);return null},i}(t._BaseOverlayDefinition);t._ReferenceBandDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._render=function(t,n){n._renderLabel||e.prototype._render.call(this,t,n)},i.prototype._cartesianReferenceBandOverlayView=function(){return this._ownerView},i.prototype._getStrokeColor=function(){var e=this._cartesianReferenceBandOverlayView()._referenceBandOverlayDefinition()._option.style;return null!=e&&null!=e.stroke?t._OptionUtility._colorFromOption(e.stroke):this._defaultStyle().stroke},i.prototype._getFillColor=function(){return this._cartesianReferenceBandOverlayView()._fillColor()},i.prototype._getStrokeWidth=function(){var t=this._cartesianReferenceBandOverlayView()._referenceBandOverlayDefinition()._option.style;return null!=t&&null!=t.strokeWidth?t.strokeWidth.top:this._defaultStyle().strokeWidth},i.prototype._getStrokeDash=function(){var t=this._cartesianReferenceBandOverlayView()._referenceBandOverlayDefinition()._option.style;return null!=t&&null!=t.strokeDasharray&&""!=t.strokeDasharray?t.strokeDasharray:this._defaultStyle().strokeDasharray},i.prototype._getOpacity=function(){var t=this._cartesianReferenceBandOverlayView()._referenceBandOverlayDefinition()._option.style;return null!=t&&null!=t.opacity?t.opacity:this._defaultStyle().fillOpacity},i.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStrokeStyle(null,"#666666",0)),this.__defaultStyle},i}(t._CartesianOverlayItemView);t._CartesianReferenceBandOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(e,n,i){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e)){var o=this.__overlayView._getDefinition()._plotConfigOption.axisMode;return this._createItemViewBy(o,this.__overlayView,n,i)}return null},e.prototype._createItemViewBy=function(e,n,i,o){return e==t.AxisMode.Radial?new t._CartesianRadialAreaReferenceBandOverlayItemView(n,i,o):e==t.AxisMode.Polygonal?new t._CartesianPolygonalReferenceBandOverlayItemView(n,i,o):new t._CartesianAreaReferenceBandOverlayItemView(n,i,o)},e}();t._CartesianReferenceBandOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this,o=i._referenceBandOverlayDefinition()._option,r=Math.min(o.start,o.end),l=Math.max(o.start,o.end);return i.__start=r,i.__end=l,i}return n(i,e),i.prototype._referenceBandOverlayDefinition=function(){return this._definition},i.prototype._start=function(){return this.__start},i.prototype._end=function(){return this.__end},i.prototype._fillColor=function(){return this.__fillColor},i.prototype._initializeStyle=function(){var e=this._referenceBandOverlayDefinition()._option;null!=e.style&&null!=e.style.fill?this.__fillColor=t._OptionUtility._colorFromOption(e.style.fill):this.__fillColor=this._getColor()},i.prototype._buildOverlayItemViews=function(){e.prototype._buildOverlayItemViews.call(this);for(var n=new t._CartesianReferenceBandOverlayItemViewBuilder(this),i=0,o=this._getGroupViews();i<o.length;i++){var r=o[i],l=n._bulid(this._getCartesianPlotView(),r,"overlayItem");this._itemViews().push(l)}},i.prototype.useData=function(){},Object.defineProperty(i.prototype,"overlayItems",{get:function(){return this._itemViews().slice().map((function(t){return t._toOverlayItemModel()}))},enumerable:!1,configurable:!0}),i.prototype.buildRangePolicy=function(){return new t._CartesianReferenceBandOverlayRangePolicy(this)},i.prototype.queryInterface=function(t){return"IEnumerableOverlayModel"===t?this:e.prototype.queryInterface.call(this,t)},i}(t._CartesianOverlayView);t._CartesianReferenceBandOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._layoutContent=function(e,n){var i=this._cartesianReferenceBandOverlayView()._start(),o=this._cartesianReferenceBandOverlayView()._end();if(!isNaN(i)&&!isNaN(o)){var r=new t._Polyline([],[]),l=this._overlayGroupView()._getCartesianGroupView(),a=this._cartesianReferenceBandOverlayView()._referenceBandOverlayDefinition()._option,u=l._horizontalAxisView(),s=l._verticalAxisView();if(a.axis==t.AxisType.X)if(l._swapAxes()){var _=s._scaleModel._value(i),p=s._scaleModel._value(o),c=u._scaleModel._value(u._scaleModel._minimum),h=u._scaleModel._value(u._scaleModel._maximum);null!=_&&null!=p&&null!=c&&null!=h&&(r._xs.push(c),r._ys.push(_),r._xs.push(h),r._ys.push(_),r._xs.push(h),r._ys.push(p),r._xs.push(c),r._ys.push(p))}else{var f=u._scaleModel._value(i),d=u._scaleModel._value(o),y=s._scaleModel._value(s._scaleModel._minimum),g=s._scaleModel._value(s._scaleModel._maximum);null!=f&&null!=d&&null!=y&&null!=g&&(r._xs.push(f),r._ys.push(y),r._xs.push(f),r._ys.push(g),r._xs.push(d),r._ys.push(g),r._xs.push(d),r._ys.push(y))}else l._swapAxes()?(f=u._scaleModel._value(i),d=u._scaleModel._value(o),y=s._scaleModel._value(s._scaleModel._minimum),g=s._scaleModel._value(s._scaleModel._maximum),null!=f&&null!=d&&null!=y&&null!=g&&(r._xs.push(f),r._ys.push(y),r._xs.push(f),r._ys.push(g),r._xs.push(d),r._ys.push(g),r._xs.push(d),r._ys.push(y))):(_=s._scaleModel._value(i),p=s._scaleModel._value(o),c=u._scaleModel._value(u._scaleModel._minimum),h=u._scaleModel._value(u._scaleModel._maximum),null!=_&&null!=p&&null!=c&&null!=h&&(r._xs.push(c),r._ys.push(_),r._xs.push(h),r._ys.push(_),r._xs.push(h),r._ys.push(p),r._xs.push(c),r._ys.push(p)));this.___xs=r._xs,this.___ys=r._ys}},i.prototype._drawView=function(t,e){t.beginTransform();var n=this._getOpacity(),i=this._getFillColor(),o=this._getStrokeColor(),r=this._getStrokeWidth(),l=this._getStrokeDash();null!=n&&(t.fillOpacity=n),null!=i&&(t.fill=i),null!=o&&(t.stroke=o),null!=r&&(t.strokeWidth=r),null!=l&&(t.strokeDasharray=l),t.drawPolygon(this.___xs,this.___ys),t.restoreTransform()},i}(t._CartesianReferenceBandOverlayItemView);t._CartesianAreaReferenceBandOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._layoutContent=function(e,n){var i=this._cartesianReferenceBandOverlayView()._start(),o=this._cartesianReferenceBandOverlayView()._end();if(!isNaN(i)&&!isNaN(o)){var r=new t._Polyline([],[]),l=this._overlayGroupView()._getCartesianGroupView(),a=this._cartesianReferenceBandOverlayView()._referenceBandOverlayDefinition()._option,u=l._horizontalAxisView(),s=l._verticalAxisView();if(a.axis==t.AxisType.X)if(l._swapAxes()){var _=s._scaleModel._value(i),p=s._scaleModel._value(o),c=u._scaleModel._value(u._scaleModel._minimum),h=u._scaleModel._value(u._scaleModel._maximum);if(null!=_&&null!=p&&null!=c&&null!=h){var f=_,d=p,y=h,g=c;r=this._getPolygon(y,g,f,d,s._scaleModel._getReversed())}}else{var m=u._scaleModel._value(i),v=u._scaleModel._value(o),w=s._scaleModel._value(s._scaleModel._minimum),b=s._scaleModel._value(s._scaleModel._maximum);null!=m&&null!=v&&null!=w&&null!=b&&(f=w,d=b,y=v,g=m,r=this._getPolygon(y,g,f,d,s._scaleModel._getReversed()))}else l._swapAxes()?(m=u._scaleModel._value(i),v=u._scaleModel._value(o),w=s._scaleModel._value(s._scaleModel._minimum),b=s._scaleModel._value(s._scaleModel._maximum),null!=m&&null!=v&&null!=w&&null!=b&&(f=w,d=b,y=v,g=m,r=this._getPolygon(y,g,f,d,s._scaleModel._getReversed()))):(_=s._scaleModel._value(i),p=s._scaleModel._value(o),c=u._scaleModel._value(u._scaleModel._minimum),h=u._scaleModel._value(u._scaleModel._maximum),null!=_&&null!=p&&null!=c&&null!=h&&(f=_,d=p,y=h,g=c,r=this._getPolygon(y,g,f,d,s._scaleModel._getReversed())));this.___xs=r._xs,this.___ys=r._ys}},i.prototype._getPolygon=function(e,n,i,o,r){var l=this._overlayGroupView()._getCartesianGroupView();if(r){if(i<o)return new t._Polyline([],[]);var a=i;i=o,o=a}else if(i>o)return new t._Polyline([],[]);e<n&&(a=e,e=n,n=a);var u=new t._Polyline([],[]),s=l._verticalAxisView(),_=[],p=s._scaleModel._ticks().slice(),c=l._horizontalAxisView(),h=c._startAngle(),f=h+c._sweep,d=0,y=null,g=null,m=p.length-1;r&&p.reverse();for(var v=0;v<p.length;++v){var w=p[v];if((T=s._scaleModel._value(w))>i){if(null==y&&(y=v),T>=o){null==g&&(g=v-1),m=v;break}g=v,_.push(T)}else d=v}if(null==y||null!=g&&g<0)return new t._Polyline([],[]);var b=l._cx(),P=l._cy();if(n=n>0?n:0,e=Math.max(e,n),i>=h){var S=p[d];0==y&&(S=s._scaleModel._minimum);var C=s._scaleModel._value(S),V=(I=s._scaleModel._value(p[y]))-C,x=Math.cos(V/2)/Math.cos(Math.abs(I-i-V/2)),D=Math.cos(i)*x*e+b,O=Math.sin(i)*x*e+P,A=Math.cos(i)*x*n+b,L=Math.sin(i)*x*n+P;u._xs.push(D),u._ys.push(O),u._xs.unshift(A),u._ys.unshift(L)}for(v=0;v<_.length;++v){var T=_[v],M=e,E=(D=Math.cos(T)*M+b,O=Math.sin(T)*M+P,n);A=Math.cos(T)*E+b,L=Math.sin(T)*E+P,u._xs.push(D),u._ys.push(O),u._xs.unshift(A),u._ys.unshift(L)}if(o<=f){var I,B=p[m];g==p.length-1&&(B=s._scaleModel._maximum),V=(I=s._scaleModel._value(B))-(C=s._scaleModel._value(p[g])),x=Math.cos(V/2)/Math.cos(Math.abs(I-o-V/2)),D=Math.cos(o)*x*e+b,O=Math.sin(o)*x*e+P,A=Math.cos(o)*x*n+b,L=Math.sin(o)*x*n+P,u._xs.push(D),u._ys.push(O),u._xs.unshift(A),u._ys.unshift(L)}return u},i.prototype._drawView=function(t,e){t.beginTransform();var n=this._getOpacity(),i=this._getFillColor(),o=this._getStrokeColor(),r=this._getStrokeWidth(),l=this._getStrokeDash();null!=n&&(t.fillOpacity=n),null!=i&&(t.fill=i),null!=o&&(t.stroke=o),null!=r&&(t.strokeWidth=r),null!=l&&(t.strokeDasharray=l),t.drawPolygon(this.___xs,this.___ys),t.restoreTransform()},i}(t._CartesianReferenceBandOverlayItemView);t._CartesianPolygonalReferenceBandOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._layoutContent=function(e,n){var i=this._cartesianReferenceBandOverlayView()._start(),o=this._cartesianReferenceBandOverlayView()._end();if(!isNaN(i)&&!isNaN(o)){var r=0,l=0,a=0,u=0,s=this._overlayGroupView()._getCartesianGroupView(),_=this._cartesianReferenceBandOverlayView()._referenceBandOverlayDefinition()._option,p=s._horizontalAxisView(),c=s._verticalAxisView();if(_.axis==t.AxisType.X)if(s._swapAxes()){var h=c._scaleModel._value(i),f=c._scaleModel._value(o),d=p._scaleModel._value(p._scaleModel._minimum),y=p._scaleModel._value(p._scaleModel._maximum);null!=h&&null!=f&&null!=d&&null!=y&&(r=h,l=f,a=y,u=d)}else{var g=p._scaleModel._value(i),m=p._scaleModel._value(o),v=c._scaleModel._value(c._scaleModel._minimum),w=c._scaleModel._value(c._scaleModel._maximum);null!=g&&null!=m&&null!=v&&null!=w&&(u=m,a=g,r=v,l=w)}else s._swapAxes()?(g=p._scaleModel._value(i),m=p._scaleModel._value(o),null!=g&&null!=m&&(r=0,l=t._Utility._PI2,a=m,u=g)):(h=c._scaleModel._value(i),f=c._scaleModel._value(o),d=p._scaleModel._value(p._scaleModel._minimum),y=p._scaleModel._value(p._scaleModel._maximum),null!=h&&null!=f&&null!=d&&null!=y&&(u=y,a=d,r=h,l=f));this.__startAngle=r,this.__endAngle=l,this.__radius=a,this.__innerRadius=u}},i.prototype._drawView=function(t,e){t.beginTransform();var n=this._getOpacity(),i=this._getFillColor(),o=this._getStrokeColor(),r=this._getStrokeWidth(),l=this._getStrokeDash();null!=n&&(t.fillOpacity=n),null!=i&&(t.fill=i),null!=o&&(t.stroke=o),null!=r&&(t.strokeWidth=r),null!=l&&(t.strokeDasharray=l);var a=this._cartesianReferenceBandOverlayView()._getCartesianPlotView(),u=a._getCenter().x,s=a._getCenter().y,_=this.__endAngle-this.__startAngle;_<0&&(_=-_),0!=_&&(this.__radius<this.__innerRadius?t.drawDonut(u,s,this.__innerRadius,this.__radius,this.__startAngle,_):t.drawDonut(u,s,this.__radius,this.__innerRadius,this.__startAngle,_)),t.restoreTransform()},i}(t._CartesianReferenceBandOverlayItemView);t._CartesianRadialAreaReferenceBandOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isReferenceLineOverlayOption(n)){var o=n;return new t._ReferenceLineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ReferenceLine"===(o=n).type&&t.options._isJsonOption(n))return new t._ReferenceLineDefinition(e,new t.options._ReferenceLineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianReferenceLineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i,o,r){this.__context=e,this.__groupKey=n,this.__valueFieldName=null==i?"":i,this.__stringFormatting=null!=r?r:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__context._cartesianReferenceLineOverlayView()._getDefinition()._pluginCollection),this._isDateAxis(e._overlayGroupView()._getCartesianGroupView()._getCartesianPlotView(),e._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.axis)?this.__value=new Date(o):this.__value=o}return n.prototype._isDateAxis=function(e,n){for(var i=0,o=e._getCartesianPlotDataModel()._groups();i<o.length;i++){var r=o[i],l=null;if(n==t.AxisType.X?l=r._xValueDefinition():n==t.AxisType.Y&&(l=r._yValueDefinition()),null!=l){var a=t._isXFieldEncodingDefinition(l)?l:null;if(null!=a&&null!=a._getXDataFieldDefinition()&&a._getXDataFieldDefinition()._dataField._type()===t.core.DataType.Date)return!0;var u=t._isAggregateValueEncodingDefinition(l)?l:null;if(null!=u&&null!=u._getDataFieldDefinition()&&u._getDataFieldDefinition()._dataField._type()===t.core.DataType.Date)return!0;var s=t._isXyValueEncodingDefinition(l)?l:null;if(null!=s&&null!=s._getDataFieldDefinition()&&s._getDataFieldDefinition()._dataField._type()===t.core.DataType.Date)return!0}}return!1},n.prototype._getDefaultFormat=function(e){return this.__stringFormatting.defaultFormat(t.core.DataType.String,!1)},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,n,i){if(null==t)return null;if("Field"==t){if(null!=this.__valueFieldName)return new e._DataValueInfo(this.__valueFieldName,this.__stringFormatting)}else if("Group"==t){if(null!=this.__groupKey)return new e._DataValueInfo(this.__groupKey,this.__stringFormatting)}else if("Value"==t&&null!=this.__value)return new e._DataValueInfo(this.__value,this.__stringFormatting);return null},n.prototype.getIdentifierValue=function(e){return"current"==e?this.__context:e.length>8&&"current."==e.substring(0,8)&&null!=this.__context?new t._AnyValueBinding(e.substring(8))._getValue(this.__context):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}(),e._CartesianReferencelineLabelTextProxy=n}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype.getOverlayRange=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);for(var r=new t._OverlayRange,l=null,a=null,u=this.__overlayView._itemViews(),s=this.__overlayView._referenceLineOverlayDefinition()._option.axis==t.AxisType.X,_=0,p=u;_<p.length;_++){var c=p[_]._value();s&&null!=c&&!this._inRange(c,e,n)||!s&&null!=c&&!this._inRange(c,i,o)||(null==l?l=a=c:(l=Math.max(l,c),a=Math.min(a,c)))}return s?(r.maxX=l,r.minX=a):(r.maxY=l,r.minY=a),r},e.prototype._inRange=function(t,e,n){return!(null!=e&&t<e||null!=n&&t>n)},e}();t._CartesianReferenceLineOverlayRangePolicy=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t){return i.call(this,t)||this}return n(o,i),o.prototype.buildLegendItemDataModels=function(n,i){var o=[];if(i instanceof t._CartesianReferenceLineOverlayView)for(var r=i._itemViews(),l=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,n._definition._plotDefinition._pluginCollection),a=function(t){t._hasLegend()&&o.push(new e._ItemizedOverlayLegendItem(n,(function(){return t._getLegendLabel()}),t.getSymbol(),l))},u=0,s=r;u<s.length;u++)a(s[u]);return o},o}(e._OverlayLegendItemsBuilder),e._ReferenceLineOverlayLegendItemsBuilder=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__option=t._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.label,this.__referenceLine=t}return e.prototype.layout=function(t,e){var n=this.__referenceLine,i=this.__option;this._layoutLabelBy(t,n._labelView(),i.position,n.getStrokeWidth(),n._getRadius(),e)},e.prototype._layoutLabelBy=function(e,n,i,o,r,l){var a=n._measure(e,null)._size,u=new t.core.Rect(0,0,a.width,a.height),s=this.__referenceLine._overlayGroupView()._getCartesianGroupView()._getCartesianPlotView(),_=s._cx(),p=s._cy();i!=t.OverlayLabelPosition.MiddleLeft&&i!=t.OverlayLabelPosition.MiddleRight&&i!=t.OverlayLabelPosition.MiddleCenter||(i=t.OverlayLabelPosition.TopCenter);var c=0;switch(i){case t.OverlayLabelPosition.TopCenter:u.left=_-u.width/2,u.top=p-r-u.height-o/2;break;case t.OverlayLabelPosition.BottomCenter:u.left=_-u.width/2,u.top=p-r+o;break;case t.OverlayLabelPosition.TopLeft:u.left=_-r-o/2-u.width+(u.width-u.height)/2,u.top=p-u.height/2,c=3*Math.PI/2;break;case t.OverlayLabelPosition.BottomLeft:u.left=_-r+o-(u.width-u.height)/2,u.top=p-u.height/2,c=3*Math.PI/2;break;case t.OverlayLabelPosition.TopRight:u.left=_+r+o/2-(u.width-u.height)/2,u.top=p-u.height/2,c=Math.PI/2;break;case t.OverlayLabelPosition.BottomRight:u.left=_+r-u.width-o+(u.width-u.height)/2,u.top=p-u.height/2,c=Math.PI/2}n._setTextLocation(u.center),n._setTextAngle(c),n._layout(e,l,u)},e}(),e._CircleReferencelineLabelLayouter=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__option=t._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.label,this.__referenceLine=t}return e.prototype.layout=function(e,n){var i=this.__referenceLine,o=this.__option,r=i._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.axis,l=i._overlayGroupView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes(),a=i._labelView(),u=a._measure(e,null)._size,s=new t.core.Rect(0,0,u.width,u.height),_=r===t.AxisType.Y,p=o.position,c=i.getStrokeWidth(),h=i._xs(),f=i._ys();if(null!=h&&null!=f&&h.length>=2&&f.length>=2){if(_===!l){var d=Math.min(h[0],h[1]),y=Math.max(h[0],h[1]);switch(p){case t.OverlayLabelPosition.TopCenter:s.left=(d+y)/2-s.width/2,s.top=f[1]-c/2-s.height;break;case t.OverlayLabelPosition.BottomCenter:s.left=(d+y)/2-s.width/2,s.top=f[1]+c/2;break;case t.OverlayLabelPosition.TopLeft:s.left=d,s.top=f[1]-c/2-s.height;break;case t.OverlayLabelPosition.BottomLeft:s.left=d,s.top=f[1]+c/2;break;case t.OverlayLabelPosition.TopRight:s.left=y-s.width,s.top=f[1]-c/2-s.height;break;case t.OverlayLabelPosition.MiddleLeft:s.left=d,s.top=f[1]-s.height/2;break;case t.OverlayLabelPosition.MiddleRight:s.left=y-s.width,s.top=f[1]-s.height/2;break;case t.OverlayLabelPosition.MiddleCenter:s.left=(d+y)/2-s.width/2,s.top=f[1]-s.height/2;break;default:s.left=y-s.width,s.top=f[1]+c/2}}else{var g=Math.min(f[0],f[1]),m=Math.max(f[0],f[1]);switch(p){case t.OverlayLabelPosition.TopCenter:s.left=h[0]-s.width/2,s.top=g;break;case t.OverlayLabelPosition.BottomCenter:s.left=h[0]-s.width/2,s.top=m-s.height;break;case t.OverlayLabelPosition.TopLeft:s.left=h[0]-s.width-c/2,s.top=g;break;case t.OverlayLabelPosition.BottomLeft:s.left=h[0]-s.width-c/2,s.top=m-s.height;break;case t.OverlayLabelPosition.TopRight:s.left=h[0]+c/2,s.top=g;break;case t.OverlayLabelPosition.MiddleLeft:s.left=h[0]-s.width-c/2,s.top=(g+m)/2-s.height/2;break;case t.OverlayLabelPosition.MiddleRight:s.left=h[0]+c/2,s.top=(g+m)/2-s.height/2;break;case t.OverlayLabelPosition.MiddleCenter:s.left=h[0]-s.width/2,s.top=(g+m)/2-s.height/2;break;default:s.left=h[0]+c/2,s.top=m-s.height}}a._layout(e,n,s)}},e}(),e._LineReferenceLineLabelLayout=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this.__option=t._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.label,this.__referenceLine=t}return e.prototype.layout=function(e,n){var i=this.__referenceLine,o=i._overlayGroupView()._getCartesianGroupView(),r=i._labelView(),l=r._measure(e,null)._size,a=new t.core.Rect(0,0,l.width,l.height),u=this.__option.position,s=i._xs(),_=i._ys();if(null!=s&&null!=_&&s.length>=2&&_.length>=2){var p=o._horizontalAxisView(),c=o._cx(),h=o._cy(),f=p._scaleModel._value(p._scaleModel._maximum),d=new t.core.Point(0,0),y=new t.core.Point(0,0);Math.pow(Math.abs(_[0]-h),2)+Math.pow(Math.abs(s[0]-c),2)>Math.pow(Math.abs(_[1]-h),2)+Math.pow(Math.abs(s[1]-c),2)?(d.x=s[1],d.y=_[1],y.x=s[0],y.y=_[0]):(d.x=s[0],d.y=_[0],y.x=s[1],y.y=_[1]);var g=Math.abs((y.x-c)/f),m=Math.abs((y.y-h)/f),v="";switch(u!=t.OverlayLabelPosition.MiddleLeft&&u!=t.OverlayLabelPosition.MiddleRight&&u!=t.OverlayLabelPosition.MiddleCenter||(u=t.OverlayLabelPosition.TopCenter),this._quda(c,h,y)){case 1:case 3:v=u==t.OverlayLabelPosition.TopLeft||u==t.OverlayLabelPosition.TopCenter||u==t.OverlayLabelPosition.TopRight?"TopLeft":"BottomRight";break;case 2:case 4:v=u==t.OverlayLabelPosition.TopLeft||u==t.OverlayLabelPosition.TopCenter||u==t.OverlayLabelPosition.TopRight?"TopRight":"BottomLeft"}switch((f*g<.5*l.width||f*m<l.height)&&(v=(u===t.OverlayLabelPosition.TopRight||u===t.OverlayLabelPosition.BottomCenter)&&f*g<l.width?"CenterVertical":u==t.OverlayLabelPosition.TopLeft||u==t.OverlayLabelPosition.TopCenter||u==t.OverlayLabelPosition.TopRight?"Top":"Bottom"),u){case t.OverlayLabelPosition.TopCenter:case t.OverlayLabelPosition.BottomCenter:this._calcTopAndLeftByPosition((d.x+y.x)/2,(d.y+y.y)/2,v,a,g,m);break;case t.OverlayLabelPosition.TopLeft:case t.OverlayLabelPosition.BottomLeft:this._calcTopAndLeftByPosition(d.x,d.y,v,a,g,m);break;case t.OverlayLabelPosition.TopRight:case t.OverlayLabelPosition.BottomRight:this._calcTopAndLeftByPosition(y.x,y.y,v,a,g,m)}r._layout(e,n,a)}},e.prototype._quda=function(t,e,n){return n.y-e<0&&n.x-t>0?1:n.y-e<0&&n.x-t<0?2:n.y-e>0&&n.x-t<0?3:n.y-e>0&&n.x-t>0?4:0},e.prototype._calcTopAndLeftByPosition=function(t,e,n,i,o,r){var l=this.__referenceLine.getStrokeWidth()/2;"TopLeft"===n?(i.left=t-i.width-r*l,i.top=e-i.height-o*l):"BottomRight"===n?(i.left=t+r*l,i.top=e+o*l):"TopRight"===n?(i.left=t+r*l,i.top=e-i.height-o*l):"BottomLeft"===n?(i.left=t-i.width-r*l,i.top=e+o*l):"Top"===n?(i.left=t-i.width/2,i.top=e-i.height-l):"Bottom"===n?(i.left=t-i.width/2,i.top=e+l):"CenterVertical"===n&&(i.left=t-i.width/2,i.top=e-i.height/2)},e}(),e._RadialLineReferenceLineLabelLayout=n}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInReferenceLineLabelTextStylePolicyBuilders=function(){return null==i.__buildInReferenceLineLabelTextStylePolicyBuilders&&(i.__buildInReferenceLineLabelTextStylePolicyBuilders=new i([],i._pluginType)),i.__buildInReferenceLineLabelTextStylePolicyBuilders},i.prototype._convert=function(e){return t._isReferenceLineLabelTextStylePolicyBuilder(e)?e:null},i.prototype._referenceLineLabelTextStylePolicy=function(e,n){for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildReferenceLineLabelTextStylePolicy();if(null!=r)return r}return t.DefaultReferenceLineLabelTextStylePolicy._defaultReferenceLineLabelTextStylePolicy},i._pluginType="ReferenceLineLabelTextStylePolicyBuilder",i}(t._BuildInObjectCollection);t._BuildInReferenceLineLabelTextStylePolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._getTextStyle=function(e,n){var i=t._StyleUtility._buildStyle();return t._OptionUtility._applyTextStyleOption(i,n._getOverlayView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(i,n._getOverlayView()._getDefinition()._plotConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(i,e),i},e._defaultReferenceLineLabelTextStylePolicy=new e,e}();t.DefaultReferenceLineLabelTextStylePolicy=e}(t||(t={})),t||(t={}),function(t){t._isReferenceLineLabelTextStylePolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildReferenceLineLabelTextStylePolicy}}(t||(t={})),function(t){var e=function(){function e(){}return e.aggregate=function(e,n){if(null!=e&&e.length>0){var i=n.aggregate;if(null==i)return null;switch(i){case t.ReferenceLineAggregate.Sum:return t.Statics.Sum(e);case t.ReferenceLineAggregate.Max:return t.Statics.Max(e);case t.ReferenceLineAggregate.Min:return t.Statics.Min(e);case t.ReferenceLineAggregate.Average:return t.Statics.Average(e);case t.ReferenceLineAggregate.Median:return t.Statics.Median(e);case t.ReferenceLineAggregate.Count:return t.Statics.Count(e);case t.ReferenceLineAggregate.Percentile:return n.arguments.percentileType===t.PercentileType.Inclusive?t.Statics.PercentileINC(e,n.arguments.k):t.Statics.PercentileEXC(e,n.arguments.k)}}return null},e}();t._ReferenceLineAggregater=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__text=null,r.__position=t.OverlayLabelPosition.TopLeft,r.__display=!0,r.__textStyle=new e._TextStyleOption(null),r.__style=new e._StyleOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){t!=this.__text&&(this.__text=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"display",{get:function(){return this.__display},set:function(t){this.__display!=t&&(this.__display=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){t!=this.__position&&(this.__position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],r.prototype,"text",null),o([t.JsonConverterAttribute(t._BooleanConverter,!1,!0)],r.prototype,"display",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.OverlayLabelPosition,t.OverlayLabelPosition.TopLeft)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),r}(e._Option),e._ReferenceLineLabelOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__k=0,o.__percentileType=t.PercentileType.Exclusive,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"k",{get:function(){return this.__k},set:function(t){this.__k!=t&&(this.__k=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"percentileType",{get:function(){return this.__percentileType},set:function(t){this.__percentileType!=t&&(this.__percentileType=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!1,0)],i.prototype,"k",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.PercentileType,t.PercentileType.Exclusive)],i.prototype,"percentileType",null),i}(e._Option),e._ReferenceLineOverlayArgumentsOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type="ReferenceLine",r.__axis=t.AxisType.Y,r.__style=new e._DataPointStyleOption(null),r.__aggregate=null,r.__label=null,r.__value=null,r.__detailLevel=t.DetailLevel.Total,r.__field=null,r.__arguments=new e._ReferenceLineOverlayArgumentsOption(null),r.__detailKey=null,r.__legendText=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"legendText",{get:function(){return this.__legendText},set:function(t){this.__legendText!=t&&(this.__legendText=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailKey",{get:function(){return this.__detailKey},set:function(t){this.__detailKey!=t&&(this.__detailKey=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"axis",{get:function(){return this.__axis},set:function(t){this.__axis!=t&&(this.__axis=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._DataPointStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){t!=this.__aggregate&&(this.__aggregate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"value",{get:function(){return this.__value},set:function(t){t!=this.__value&&(this.__value=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this.__label},set:function(t){t!=this.__label&&(this.__label=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailLevel",{get:function(){return this.__detailLevel},set:function(t){this.__detailLevel!=t&&(this.__detailLevel=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"arguments",{get:function(){return this.__arguments},set:function(t){this.__arguments!=t&&(null==t&&(t=new e._ReferenceLineOverlayArgumentsOption),this.__arguments=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"legendText",null),o([t.JsonConverterAttribute(t._DataValueTypesConverter,!0)],r.prototype,"detailKey",null),o([t.JsonConverterAttribute(t._FieldNameConverter,!0)],r.prototype,"field",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisType,t.AxisType.Y)],r.prototype,"axis",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ReferenceLineAggregate)],r.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._OverlayLabelOptionConverter,!0)],r.prototype,"label",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DetailLevel,t.DetailLevel.Total)],r.prototype,"detailLevel",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_ReferenceLineOverlayArgumentsOption")],r.prototype,"arguments",null),r}(e._OverlayOption),e._ReferenceLineOverlayOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isReferenceLineOverlayOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return"ReferenceLine"==n.type&&void 0!==n.axis&&void 0!==n.style&&void 0!==n.aggregate&&void 0!==n.value&&void 0!==n.label&&void 0!==n.legendText&&void 0!==n.detailLevel&&void 0!==n.field&&void 0!==n.detailKey&&void 0!==n.arguments}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,n,i,o)||this;return l.__slice=r,l.__labelOption=n._referenceLineOverlayDefinition()._option.label,l.__shader=new t._OverlayShader(n),l}return n(i,e),Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),i.prototype._initializeStyle=function(){this.__shader._applyPaletteColor()},i.prototype._injectLabelLayouter=function(t){null==this.__labelLayouter&&(this.__labelLayouter=t)},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.ReferenceLineOverlayItem},enumerable:!1,configurable:!0}),i.prototype._slice=function(){return this.__slice},i.prototype._label=function(t){return null!=t&&(this.__label=t),this.__label},i.prototype._getLegendLabel=function(){return this.__legendLabel},i.prototype._setLegendText=function(t){this.__legendText=t,this._initLegendLabel(t)},i.prototype._value=function(){return this.__value},i.prototype._shape=function(){return this.___shape},i.prototype._updateData=function(t){this.__value=t,this.__label=this._generateLabel(this.__label),this.__legendLabel=this._generateLabel(this.__legendText)},i.prototype._labelView=function(){return this.__dataLabelView},i.prototype._initLegendLabel=function(t){this.__legendLabel=t},i.prototype._drawView=function(e,n){if(null!=this.__value&&!isNaN(this.__value))if(n._renderLabel)null!=this.__dataLabelView&&this.__dataLabelView._render(e,n);else{if(e.beginTransform(),t._StyleUtility._applyStyle(e,this._getStyle()),null!=this.___shape){var i=t._ShapeUtil._getShapePoints(this.___shape).map((function(t){return t.x})),o=t._ShapeUtil._getShapePoints(this.___shape).map((function(t){return t.y}));2==i.length?e.drawLine(i[0],o[0],i[1],o[1]):e.drawLines(i,o)}e.restoreTransform()}},i.prototype._layout=function(t,e){null==this.__value||isNaN(this.__value)||(this._layoutContent(t,e),this._hasDataLabel()&&null!=this.__labelLayouter&&(null==this.__dataLabelView&&(this.__dataLabelView=this._createDataLabelView()),this.__labelLayouter.layout(t,e)))},i.prototype._createDataLabelView=function(){return new t._ReferenceLineLabelView(this,this._label(),this.__labelOption.textStyle,this.__labelOption.style)},i.prototype._hasLegend=function(){return null!=this.__legendText},i.prototype._hasDataLabel=function(){return null!=this.__labelOption&&null!=this._label()&&""!=this._label()&&this.__labelOption.display},i.prototype._generateLabel=function(e){var n=e;if(null==n)return null;var i=this._slice(),o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(n),l=new t.models._CartesianReferencelineLabelTextProxy(this,i._detailKey(),i._valueField(),this.__value,this._cartesianOverlayView()._getCartesianPlotView()._stringFormatting()),a=this._ownerView._getDefinition()._plotConfigOption.plugins,u=o.evaluate(r,l,a,this._ownerView._getDefinition()._pluginCollection),s=this._toLines(u);return null!=s?s.join(""):n},i.prototype._toLines=function(e){var n=[];if(null!=e){n=e.split("\n");for(var i=0;i<n.length;i++){for(var o="",r=0,l=t.models.StringObject._parse(n[i]);r<l.length;r++)o+=l[r].value;n[i]=o}}return n},i.prototype._cartesianReferenceLineOverlayView=function(){return this._ownerView},i.prototype._getStrokeColor=function(){if(null!=this.__slice._seriesView()&&!this._hasLegend()){var e=this.__slice._seriesView();if(t._isCartesianSeriesView(e))return e.color}return this.__shader._baseColor},i.prototype.getStrokeWidth=function(){return this._getStyle().strokeWidth},i.prototype.getSymbol=function(){var e=this._getStyle();return new t._OverlayLineSymbol(e.strokeWidth,e.strokeDasharray,e.stroke)},i.prototype._getStyle=function(){var e=t._StyleUtility._buildStrokeStyle(null,null,1);return t._OptionUtility._applyDataPointStyleOption(e,this._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.style),null==e.stroke&&(e.stroke=this._getStrokeColor()),t._StyleUtility._applyAllStyle(e,this.style),e},i.prototype.queryInterface=function(t){return"IShapeModel"==t?this:e.prototype.queryInterface.call(this,t)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(t._ShapeUtil._shapeStrokeContainsPoint(this.___shape,n)){var r=new t.HitTestResult(n,this,this,t.ElementType.ReferenceLineOverlayItem);return null==o||null!=o&&o.predicate(r)?r:null}return e.prototype._hitTest.call(this,n,i,o)},i}(t._CartesianOverlayItemView);t._CartesianReferenceLineOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(e,n,i){var o=this.__overlayView._getCartesianPlotView();if(t._isTextCartesianPlotView(o))return null;if(t._isCartesianPlotView(o)){var r=this._createItemViewBy(this.__overlayView,n,i,e);if(null!=r){r._label(this._getLabelString());var l=this._getLegendString();return null!=l&&r._setLegendText(l),r}}return null},e.prototype._createItemViewBy=function(e,n,i,o){var r=e._getDefinition()._plotConfigOption.axisMode;return r==t.AxisMode.Cartesian?new t._CartesianLineReferenceLineOverlayItemView(e,n,i,o):r==t.AxisMode.Radial?this._isLine()?new t._CartesianRadialLineReferenceLineOverlayItemView(e,n,i,o):new t._CartesianRadialCircleReferenceLineOverlayItemView(e,n,i,o):this._isLine()?new t._CartesianPolygonalLineReferenceLineOverlayItemView(e,n,i,o):new t._CartesianPolygonalCircleReferenceLineOverlayItemView(e,n,i,o)},e.prototype._isLine=function(){var e=this.__overlayView._referenceLineOverlayDefinition()._option.axis,n=this.__overlayView._getDefinition()._plotConfigOption.swapAxes;return e==t.AxisType.X?n:!n},e.prototype._getLabelString=function(){var t=this.__overlayView._referenceLineOverlayDefinition()._option;return null!=t.label?t.label.text:null},e.prototype._getLegendString=function(){return this.__overlayView._referenceLineOverlayDefinition()._option.legendText},e}();t._CartesianReferenceLineOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._referenceLineOverlayDefinition=function(){return this._definition},i.prototype._shouldApplyColorFromPalette=function(){var t=this._referenceLineOverlayDefinition()._option;return!(null!=t.style&&null!=t.style.stroke||this._isGroup()&&null==t.legendText)},i.prototype._initializeStyle=function(){if(this._shouldApplyColorFromPalette())for(var t=0,e=this._itemViews();t<e.length;t++)e[t]._initializeStyle()},i.prototype._isGroup=function(){var e=this._referenceLineOverlayDefinition()._option;return null==e.value&&e.detailLevel==t.DetailLevel.Group},i.prototype._getDataSlices=function(e){var n=this._isGroup()?t.DetailLevel.Group:t.DetailLevel.Total;return(new t._CartesianOverlayDataSlicer)._slice(e._getCartesianGroupView(),n,null==this._referenceLineOverlayDefinition()._option.value)},i.prototype._buildOverlayItemViews=function(){e.prototype._buildOverlayItemViews.call(this);for(var t=0,n=this._getGroupViews();t<n.length;t++)for(var i=n[t],o=0,r=this._getDataSlices(i);o<r.length;o++){var l=r[o];this._createOverlayItemView(l,i,"overlayItem")}},i.prototype._valueFieldFilter=function(t,e){var n=this._referenceLineOverlayDefinition()._option;if(null==n.field)return!0;var i=t._valueField();return null!=i&&n.field.indexOf(i)>=0},i.prototype._sliceDetailKeyFilter=function(e){if(null!=e._seriesView()){var n=this._referenceLineOverlayDefinition()._option,i=this._ownerView._getDefinition();return t._BuildInOverlayDetailKeyPolicyBuilderCollection._buildInOverlayDetailKeys()._overlayDetailKey(i._plotConfigOption.plugins,i._pluginCollection)._containsDetailKey(n.detailKey,e._seriesView()._getCartesianSeriesDataModel()._detailValue())}return!0},i.prototype._createOverlayItemView=function(e,n,i){if(this._sliceDetailKeyFilter(e)){var o=n._getCartesianGroupView()._getCartesianGroupDataModel()._yValueDefinition();if(this._valueFieldFilter(e,o)&&e._pointViews().length>0){var r=new t._CartesianReferenceLineOverlayItemViewBuilder(this)._bulid(e,n,i);this._injectTheReferenceLine(r),this._itemViews().push(r)}}},i.prototype.useData=function(){this._initialize(),this._analysisData()},i.prototype._initialize=function(){for(var t=0,e=this._itemViews();t<e.length;t++)e[t].initialize()},i.prototype._injectTheReferenceLine=function(e){if(null!=e){var n=this._definition._plotConfigOption.plugins,i=this._definition._pluginCollection;t._BuildInReferenceLineLabelLayoutInjectorCollection.defaultBuildInReferenceLineLabelLayoutInjectors().injectReferenceLineLabelLayout(e,n,i)}},i.prototype._analysisData=function(){var e=this._referenceLineOverlayDefinition()._option;if(null==e.value)for(var n=0,i=this._itemViews();n<i.length;n++){var o=(_=i[n])._slice(),r=null,l=this._extractData(o);if(null!=(r=e.axis==t.AxisType.X?l.xs:l.ys)){r=r.filter((function(t){return null!=t}));var a=t._ReferenceLineAggregater.aggregate(r,e);_._updateData(a)}}else{a=this._toCoordinateValue(e.value,e.axis);for(var u=0,s=this._itemViews();u<s.length;u++){var _;(_=s[u])._updateData(a)}}},i.prototype._extractData=function(e){return t._CartesianPointDataExtractor.extract(e,!0,!1)},i.prototype._toCoordinateValue=function(t,e){return this.invert(this._getCartesianPlotView(),t,e)},i.prototype.invert=function(e,n,i){for(var o=n,r=0,l=e._getCartesianPlotDataModel()._groups();r<l.length;r++){var a=l[r],u=null;if(i==t.AxisType.X?u=a._x():i==t.AxisType.Y&&(u=a._y()),t._isOrdinalDimension(u))for(var s=0,_=u._dimensionValues();s<_.length;s++){var p=_[s],c=p.rawValue;if(null!=c&&t._DataValueTypeExtension._isDate(c)){var h=c,f=null;if(null!=(f=t._AnyTypeExtension._isString(n)?t._NativeExtension._parseDateByPlatform(t._AnyTypeUtility._toStringOrNull(n)):o)&&h.valueOf()==f){o=p._value();break}}else if(t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer._equalsWith(p.rawValue,t._DataValueTypeExtension._toDataValueType(o))){o=p._value();break}}else if(t._isDataFieldDimension(u)){var d=u._getDataFieldDefinition();null!=d&&d._dataField._type()===t.core.DataType.Date&&t._AnyTypeExtension._isString(n)&&(o=t._NativeExtension._parseDateByPlatform(t._AnyTypeUtility._toStringOrNull(n)))}}return"number"!=typeof o?Number(o):t._AnyTypeExtension._toNumber(o)},Object.defineProperty(i.prototype,"overlayItems",{get:function(){return this._itemViews().slice().map((function(t){return t._toOverlayItemModel()}))},enumerable:!1,configurable:!0}),i.prototype.buildRangePolicy=function(){return new t._CartesianReferenceLineOverlayRangePolicy(this)},i.prototype.queryInterface=function(t){return"IEnumerableOverlayModel"===t?this:e.prototype.queryInterface.call(this,t)},i}(t._CartesianOverlayView);t._CartesianReferenceLineOverlayView=e}(t||(t={})),function(t){t._isCartesianReferenceLineOverlayItemView=function(t){var e=t;return null!=e&&"function"==typeof e._injectLabelLayouter&&"function"==typeof e._slice&&"function"==typeof e._label&&"function"==typeof e._getLegendLabel&&"function"==typeof e._setLegendText&&"function"==typeof e._value&&"function"==typeof e._updateData&&"function"==typeof e._labelView&&"function"==typeof e._cartesianReferenceLineOverlayView&&"function"==typeof e.getStrokeWidth&&"function"==typeof e.getSymbol&&"function"==typeof e._getStyle}}(t||(t={})),function(t){t._isCartesianCircleReferenceLineOverlayItemView=function(e){return!!t._isCartesianReferenceLineOverlayItemView(e)&&null!=e&&"function"==typeof e._getRadius}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._layoutContent=function(e,n){var i=this;this.___xs=[],this.___ys=[];var o=this._overlayGroupView()._getCartesianGroupView(),r=this._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option,l=o._horizontalAxisView(),a=o._verticalAxisView(),u=o._swapAxes(),s=this._value();if(this._xor(u,r.axis===t.AxisType.X)){var _=a._scaleModel._value(a._scaleModel._maximum),p=a._scaleModel._value(a._scaleModel._minimum),c=l._scaleModel._value(s);null!=_&&null!=p&&null!=c&&(t._Utility._assignValueToArray(this.___ys,0,_,NaN),t._Utility._assignValueToArray(this.___ys,1,p,NaN),t._Utility._assignValueToArray(this.___xs,0,c,NaN),t._Utility._assignValueToArray(this.___xs,1,c,NaN))}else{var h=l._scaleModel._value(l._scaleModel._maximum),f=l._scaleModel._value(l._scaleModel._minimum),d=a._scaleModel._value(s);null!=h&&null!=f&&null!=d&&(t._Utility._assignValueToArray(this.___xs,0,h,NaN),t._Utility._assignValueToArray(this.___xs,1,f,NaN),t._Utility._assignValueToArray(this.___ys,0,d,NaN),t._Utility._assignValueToArray(this.___ys,1,d,NaN))}var y=this.___xs.map((function(e,n){return new t.core.Point(e,i.___ys[n])}));this.___shape=new t._PolylineShape(y,this.getStrokeWidth())},i.prototype._xor=function(t,e){return t!==e&&(t||e)},i}(t._CartesianReferenceLineOverlayItemView);t._CartesianLineReferenceLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getRadius=function(){return this.__radius},i.prototype._layoutContent=function(e,n){var i=this._overlayGroupView()._getCartesianGroupView(),o=i._horizontalAxisView(),r=i._verticalAxisView(),l=this._value();this.__radius=o._scaleModel._value(l);var a=this._getPolygon(r,this.__radius);if(null!=a._xs&&null!=a._ys){var u=a._xs.map((function(e,n){return new t.core.Point(e,a._ys[n])}));this.___shape=new t._PolylineShape(u,this.getStrokeWidth())}},i.prototype._getPolygon=function(e,n){if(n<0||n>e._radius)return new t._Polyline([],[]);for(var i=e._scaleModel._ticks(),o=[],r=[],l=0;l<i.length;++l){var a=i[l],u=e._scaleModel._value(a);o.push(Math.cos(u)*n+e._cx),r.push(Math.sin(u)*n+e._cy)}return new t._Polyline(o,r)},i}(t._CartesianReferenceLineOverlayItemView);t._CartesianPolygonalCircleReferenceLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._layoutContent=function(e,n){var i=this;this.___xs=[],this.___ys=[];var o=this._overlayGroupView()._getCartesianGroupView(),r=o._verticalAxisView(),l=this._value(),a=r._scaleModel._value(l);if(null!=a){var u=this._getLineInPolygonAxes(a,o._verticalAxisView(),r._scaleModel._getReversed());this.___xs=u._xs,this.___ys=u._ys}var s=this.___xs.map((function(e,n){return new t.core.Point(e,i.___ys[n])}));this.___shape=new t._PolylineShape(s,this.getStrokeWidth())},i.prototype._getLineInPolygonAxes=function(e,n,i){var o=n._startAngle(),r=o+n._sweep;if(e<o||e>r)return new t._Polyline([],[]);var l=n._scaleModel._ticks().slice(),a=0,u=l.length-1;i&&l.reverse();for(var s=0;s<l.length;++s){var _=l[s];if(n._scaleModel._value(_)>e){u=s;break}a=s}var p=[],c=[],h=n._radius,f=n._innerRadius*h,d=n._scaleModel._value(l[a]),y=n._scaleModel._value(l[u]),g=y-d,m=Math.cos(g/2)/Math.cos(Math.abs(y-e-g/2));return p.push(Math.cos(e)*m*h+n._cx),c.push(Math.sin(e)*m*h+n._cy),p.push(Math.cos(e)*m*f+n._cx),c.push(Math.sin(e)*m*f+n._cy),new t._Polyline(p,c)},i}(t._CartesianReferenceLineOverlayItemView);t._CartesianPolygonalLineReferenceLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._layoutContent=function(t,e){var n=this._overlayGroupView()._getCartesianGroupView(),i=n._horizontalAxisView(),o=n._verticalAxisView(),r=this._value();this.__radius=i._scaleModel._value(r),this.__startAngle=o._scaleModel._value(o._scaleModel._minimum),this.__sweep=o._scaleModel._value(o._scaleModel._maximum)-this.__startAngle,0!=this.__sweep&&(this.___shape=this._createPolylineShape(n._cx(),n._cy(),this.__radius,this.__startAngle,this.__sweep,this.getStrokeWidth()))},i.prototype._createPolylineShape=function(e,n,i,o,r,l,a){void 0===a&&(a=600);for(var u=[],s=o,_=r/a;s-o>=r&&(s=o+r),u.push(new t.core.Point(e+Math.cos(s)*i,n+Math.sin(s)*i)),!(s-o>=r);)s+=_;return new t._PolylineShape(u,l)},i.prototype._getRadius=function(){return this.__radius},i}(t._CartesianReferenceLineOverlayItemView);t._CartesianRadialCircleReferenceLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._layoutContent=function(e,n){var i=this;this.___xs=[],this.___ys=[];var o=this._overlayGroupView()._getCartesianGroupView(),r=o._horizontalAxisView(),l=o._verticalAxisView(),a=this._value(),u=o._cx(),s=o._cy(),_=r._scaleModel._value(r._scaleModel._maximum),p=r._scaleModel._value(r._scaleModel._minimum),c=l._scaleModel._value(a);null!=_&&null!=p&&null!=c&&(t._Utility._assignValueToArray(this.___xs,0,Math.cos(c)*_+u,NaN),t._Utility._assignValueToArray(this.___xs,1,Math.cos(c)*p+u,NaN),t._Utility._assignValueToArray(this.___ys,0,Math.sin(c)*_+s,NaN),t._Utility._assignValueToArray(this.___ys,1,Math.sin(c)*p+s,NaN));var h=this.___xs.map((function(e,n){return new t.core.Point(e,i.___ys[n])}));this.___shape=new t._PolylineShape(h,this.getStrokeWidth())},i}(t._CartesianReferenceLineOverlayItemView);t._CartesianRadialLineReferenceLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,null,t._OverlayLegendSymbolStyleBuilder._overlayLegendSymbolStyleBuilder())||this;return r.__strokeWidth=null!=n?n:1,r.__strokeDasharray=i,r.__stroke=o,r._annotationStyle=r._buildAnnotationStyle(),r}return n(i,e),i.prototype._buildAnnotationStyle=function(){var e=t._StyleUtility._buildStyle();return null!=this.__stroke&&(e.fill=this.__stroke,e.stroke=this.__stroke),null!=this.__strokeDasharray&&(e.strokeDasharray=this.__strokeDasharray),e.strokeWidth=this.__strokeWidth,e},i.prototype.render=function(e,n,i){e.beginTransform();var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!1);t._StyleUtility._applyAllStyle(e,o),e.drawLine(n.left,n.top+n.height/2,n.right,n.top+n.height/2),e.restoreTransform()},i}(t._LegendSymbolView);t._OverlayLineSymbol=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t)||this;return r.__label=n,r.__textStyle=i,r.__style=o,r}return n(i,e),i.prototype._cartesianOverlayReferenceLineItemView=function(){return this._ownerView},i.prototype._applyBackgroundStyle=function(n){e.prototype._applyBackgroundStyle.call(this,n),t._OptionUtility._applyFillOption(n,this.__style.backgroundColor)},i.prototype._applyBorderStyle=function(e){t._StyleUtility._applyStyle(e,t._ViewUtility._defaultBorderStyle()),t._OptionUtility._applyLineStyleFromStyleOption(e,this.__style)},i.prototype._textOverflow=function(){return t.TextOverflow.Clip},i.prototype._paddings=function(){var e=t._Constants.LabelPadding;return t._PaddingUtility._buildPadding(e,e,e,e)},i.prototype._textView=function(){if(null==this.__textView){var e=t._StyleUtility._buildStyle(),n=this._cartesianOverlayReferenceLineItemView()._cartesianReferenceLineOverlayView()._getDefinition(),i=n._plotConfigOption.plugins,o=n._pluginCollection,r=t._BuildInReferenceLineLabelTextStylePolicyBuilderCollection._defaultBuildInReferenceLineLabelTextStylePolicyBuilders()._referenceLineLabelTextStylePolicy(i,o)._getTextStyle(this.__textStyle,this._cartesianOverlayReferenceLineItemView());t._StyleUtility._applyAllStyle(e,r),this.__textView=new t._TextView(this,this.__label,this._textOverflow(),null,t.HAlign.Left,t.VAlign.Middle,e,null,t.HAlign.Left)}return this.__textView},i.prototype._measureInnerContent=function(t,e){return this._textView()._measure(t,e)},i.prototype._layoutInnerContent=function(t,e,n){this._textView()._layout(t,n,e)},i.prototype._renderInnerContent=function(e,n,i){var o=this._getTextAngle(),r=this._getTextLocation();if(null!=o&&0!=o&&null!=r){var l=t._MatrixUtility._buildRotateMatrix(o,r);this._textView()._transform=l}else this._textView()._transform=null;this._textView()._render(e,i)},i.prototype._getTextAngle=function(){return this.__textAngle},i.prototype._setTextAngle=function(t){this.__textAngle=t},i.prototype._getTextLocation=function(){return this.__textLocation},i.prototype._setTextLocation=function(t){this.__textLocation=t},i}(t._RectangleView);t._ReferenceLineLabelView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this;return o._legendOverlayDefinition=new t._LegendOverlayDefinition(n,t.LegendType.Overlay),o}return n(i,e),i.prototype._buildOverlayView=function(e){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianReferenceLineOverlayView(e,this);return null},i.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._ReferenceLineOverlayLegendItemsBuilder(this):null},i}(t._BaseOverlayDefinition);t._ReferenceLineDefinition=e}(t||(t={})),function(t){!function(t){t[t.Start=0]="Start",t[t.End=1]="End",t[t.Center=2]="Center"}(t.LinePlacement||(t.LinePlacement={}))}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype.getOverlayRange=function(e,n,i,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);for(var r=new t._OverlayRange,l=!0,a=this.__overlayView._itemViews(),u=0;u<a.length;++u){var s=a[u],_=s._xs(),p=s._ys();if(null!=_&&null!=p&&0!=_.length&&0!=p.length){if(_.length!=p.length)throw new t.RuntimeError(t.ErrorCode.NotEqual,_.length,p.length);for(var c=null,h=null,f=null,d=null,y=0;y<_.length;y++){var g=_[y],m=p[y];null!=e&&g<e||null!=n&&g>n||null!=i&&m<i||null!=o&&m>o||(c=null==c?g:Math.max(c,g),h=null==h?g:Math.min(h,g),f=null==f?m:Math.max(f,m),d=null==d?m:Math.min(d,m))}null!=c&&null!=h&&null!=f&&null!=d&&(l?(r.maxX=c,r.minX=h,r.minY=d,r.maxY=f,l=!1):(r.maxX=Math.max(r.maxX,c),r.minX=Math.min(r.minX,h),r.maxY=Math.max(r.maxY,f),r.minY=Math.min(r.minY,d)))}}return r},e}();t._CartesianTrendlineOverlayRangePolicy=e}(t||(t={})),function(t){var e=function(){function t(){}return t.matrix_invert=function(t){if(t.length!==t[0].length)return null;var e=0,n=0,i=0,o=t.length,r=0,l=[],a=[];for(e=0;e<o;e+=1)for(l.push(new Array),a.push(new Array),i=0;i<o;i+=1)e==i?l[e].push(1):l[e].push(0),a[e].push(t[e][i]);for(e=0;e<o;e+=1){if(0==(r=a[e][e])){for(n=e+1;n<o;n+=1)if(0!=a[n][e]){for(i=0;i<o;i++)r=a[e][i],a[e][i]=a[n][i],a[n][i]=r,r=l[e][i],l[e][i]=l[n][i],l[n][i]=r;break}if(0==(r=a[e][e]))return null}for(i=0;i<o;i++)a[e][i]=a[e][i]/r,l[e][i]=l[e][i]/r;for(n=0;n<o;n++)if(n!=e)for(r=a[n][e],i=0;i<o;i++)a[n][i]-=r*a[e][i],l[n][i]-=r*l[e][i]}return l},t.matrix_transpose=function(t){return null!=t?t[0].map((function(e,n){return t.map((function(t){return t[n]}))})):null},t.matrix_multiply=function(t,e){var n=t.length,i=t[0].length,o=e.length,r=e[0].length;if(i!==o)return null;for(var l=new Array(n),a=0;a<n;++a){l[a]=new Array(r);for(var u=0;u<r;++u){l[a][u]=0;for(var s=0;s<i;++s)l[a][u]+=t[a][s]*e[s][u]}}return l},t.correlSquare=function(t,e){if(t.length!==e.length)return null;for(var n=t.reduce((function(t,e){return t+e}))/t.length,i=e.reduce((function(t,e){return t+e}))/e.length,o=0,r=0,l=0,a=0;a<t.length;++a)o+=(t[a]-n)*(e[a]-i),r+=(t[a]-n)*(t[a]-n),l+=(e[a]-i)*(e[a]-i);return o*o/(r*l)},t}();t.LeastSquareMathLib=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t){return i.call(this,t)||this}return n(o,i),o.prototype.buildLegendItemDataModels=function(n,i){var o=[];if(i instanceof t._CartesianTrendlineOverlayView)for(var r=i._itemViews(),l=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,n._definition._plotDefinition._pluginCollection),a=function(t){null!=t._label()&&t._hasLegend()&&o.push(new e._ItemizedOverlayLegendItem(n,(function(){return t._label()}),t.getSymbol(),l))},u=0,s=r;u<s.length;u++)a(s[u]);return o},o}(e._OverlayLegendItemsBuilder),e._TrendlineLineOverlayLegendItemsBuilder=i}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInOverlayTrendlineExpressionPlugins=function(){return null==i.__buildInOverlayTrendlineExpressionPluginCollection&&(i.__buildInOverlayTrendlineExpressionPluginCollection=new i([],i._pluginType)),i.__buildInOverlayTrendlineExpressionPluginCollection},i.prototype._convert=function(e){return t._isOverlayTrendlineExpressionPlugin(e)?e:null},i.prototype._overlayTrendlineExpression=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=0,l=this._objects(i,o);r<l.length;r++){var a=l[r].item.buildTrendlineExpression(t,e,n);if(null!=a)return a}return null},i._pluginType="OverlayTrendlineExpression",i}(t._BuildInObjectCollection);t._BuildInOverlayTrendlineExpressionPluginCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.extract=function(e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var o=e._pointViews();if(null==o||0==o.length)return null;for(var r=[],l=[],a=[],u=[],s=0;s<o.length;++s){var _=o[s];if(!_._isFiltered()){var p=this.getAxisYValue(_,n,e.isLower);i?r.push(_._getXPos()):r.push(t.models._CartesianSupport.getX(_)),l.push(p),a.push(_),u.push(s)}}var c=new t.XyPoints;return c.xs=r,c.ys=l,c.points=a,c.index=u,c},e.getAxisYValue=function(e,n,i){var o=t.models._CartesianSupport.getY(e);if(null!=o)return null!=(r=t.models._CartesianSupport.getStackYValue(e._data()))?n&&null!=r.previous?(null==r.value?0:r.value)-r.previous:r.value:o.value;var r,l=t.models._CartesianSupport.getRangeYValue(e);return null!=l?null!=(r=t.models._CartesianSupport.getStackYValue(e._data()))?i?r.previous:r.value:i?l.lower:l.upper:null},e}();t._CartesianPointDataExtractor=e}(t||(t={})),t||(t={}),function(t){var e=function(){};t.XyPoints=e}(t||(t={})),function(t){var e=function(){function t(){}return t._numberToString=function(e,n,i){void 0===i&&(i=6),e<0&&i++;var o=e%1,r=e-o;0!=o&&(0==n?o=0:Math.abs(o)<Math.pow(.1,n)?0!=r&&(o=0):o=t._getSignificanceDigits(o,n));var l=(e=r+o).toString();if(l.length>i){if(0!=r){var a=r.toString();if(a.length==i)return e.toFixed(0);if(a.length<=i-1)return e.toFixed(i-1-a.length)}else{var u=e.toFixed(i-2);if(0!=Number(u))return u}return e.toExponential(1)}return l},t._getBaseLog=function(t,e){return Math.log(e)/Math.log(t)},t._getSignificanceDigits=function(e,n){if(0==e)return 0;if(e<0)return-t._getSignificanceDigits(-e,n);for(var i=Math.floor(-t._getBaseLog(10,e)),o=(e*=Math.pow(10,i)).toFixed(n),r="";i>0;)r+="0",i--;return o=o.replace(".","."+r),parseFloat(o)},t}();t.DefaultNumberExpressionPolicy=e}(t||(t={})),function(t){var e=function(){function e(t){void 0===t&&(t=""),this.__expr=t,this.__base=[],this.__append=[]}return e._plus=function(){return new e("+")},e._sub=function(){return new e("-")},e._eq=function(){return new e("=")},e._fx=function(){return new e("y")},e._addNum=function(n,i,o){var r;return void 0===o&&(o=!1),(r=n>=0?e._plus():e._sub()).append(new e(o&&1==Math.abs(n)?"":t.DefaultNumberExpressionPolicy._numberToString(Math.abs(n),i))),(new e).join(r)},e._multiplyNum=function(n,i,o){return void 0===o&&(o=!0),n>=0?new e(o&&1==n?"":t.DefaultNumberExpressionPolicy._numberToString(n,i)):e._sub().join(new e(o&&-1==n?"":t.DefaultNumberExpressionPolicy._numberToString(Math.abs(n),i)))},e._clps=function(t){return new e("(").join(t).join(new e(")"))},e._var=function(t){return new e(t)},e._sin=function(){return new e("sin")},e._cos=function(){return new e("cos")},e.prototype.box=function(){return this.__rect.clone()},e.prototype.join=function(t){return this.__base.push(t),this},e.prototype.raise=function(t){return this.__pow=t,this},e.prototype.append=function(t){return this.__append.push(t),t},e.prototype.toString=function(){var t=this.__base.map((function(t){return t.toString()})),e=this.__expr+t.join("");if(null!=this.__pow){var n=this.__pow.toString();null!=n&&""!==n&&(e+="^("+this.__pow.toString()+")")}for(var i=0,o=this.__append;i<o.length;i++)e+=" "+o[i].toString();return e},e.prototype._layout=function(e,n,i,o,r,l){var a,u=e.fontSize;e.fontSize=t._StyleUtility._scaleVisualValue(u,n),this.__fontScale=n,a=this.__expr.length<=0?new t.core.Size(0,0):e.measureSingleLineString(this.__expr),e.fontSize=u;for(var s=a.height,_=a.width,p=0,c=this.__base;p<c.length;p++){(g=c[p])._layout(e,n,i+_,o,r,l);var h=g.__rect.size;s=Math.max(s,h.height),_+=h.width}if(null!=this.__pow){this.__pow._layout(e,.75*n,i+_,o-s+r,r,l);var f=this.__pow.__rect.size;s+=Math.max(f.height-r,0),_+=f.width}for(var d=0,y=this.__append;d<y.length;d++){var g;_+=l,(g=y[d])._layout(e,n,i+_,o,r,l),h=g.__rect.size,s=Math.max(s,h.height),_+=h.width}this.__rect=new t.core.Rect(i,o-s,_,s)},e.prototype.preview=function(e,n){e.beginTransform(),t._StyleUtility._applyAllStyle(e,n),this.__style=n;var i=e.measureSingleLineString("x"),o=i.height/1.5,r=i.width/2;this._layout(e,1,0,0,o,r),e.restoreTransform()},e.prototype.translate=function(t,e){this.__rect.top+=e,this.__rect.left+=t;for(var n=0,i=this.__base;n<i.length;n++)i[n].translate(t,e);null!=this.__pow&&this.__pow.translate(t,e);for(var o=0,r=this.__append;o<r.length;o++)r[o].translate(t,e)},e.prototype.render=function(e){null!=this.__rect&&(e.beginTransform(),t._StyleUtility._applyAllStyle(e,this.__style),this._draw(e),e.restoreTransform())},e.prototype._draw=function(t){this._drawExpression(t);for(var e=0,n=this.__base;e<n.length;e++)n[e]._draw(t);null!=this.__pow&&this.__pow._draw(t);for(var i=0,o=this.__append;i<o.length;i++)o[i]._draw(t)},e.prototype._drawExpression=function(e){var n=e.fontSize;e.fontSize=t._StyleUtility._scaleVisualValue(n,this.__fontScale),e.drawSingleLineString(this.__expr,this.__rect.left,this.__rect.bottom),e.fontSize=n},e}();t.Expression=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInTrendlineExpressionTextStylePolicyBuilders=function(){return null==i.__buildInTrendlineExpressionTextStylePolicyBuilders&&(i.__buildInTrendlineExpressionTextStylePolicyBuilders=new i([],i._pluginType)),i.__buildInTrendlineExpressionTextStylePolicyBuilders},i.prototype._convert=function(e){return t._isTrendlineExpressionTextStylePolicyBuilder(e)?e:null},i.prototype._trendlineExpressionTextStylePolicy=function(e,n){for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildTrendlineExpressionTextStylePolicy();if(null!=r)return r}return t.DefaultTrendlineExpressionTextStylePolicy._defaultTrendlineExpressionTextStylePolicy},i._pluginType="TrendlineExpressionTextStylePolicyBuilder",i}(t._BuildInObjectCollection);t._BuildInTrendlineExpressionTextStylePolicyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._getTextStyle=function(e,n){var i=t._StyleUtility._buildStyle();return i.fontFamily="MathJax_Main",i.textFill="#000000",i.fontStyle=t.FontStyle.Italic,i.fontSize="14px",t._OptionUtility._applyTextStyleOption(i,e),i},e._defaultTrendlineExpressionTextStylePolicy=new e,e}();t.DefaultTrendlineExpressionTextStylePolicy=e}(t||(t={})),t||(t={}),function(t){t._isTrendlineExpressionTextStylePolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildTrendlineExpressionTextStylePolicy}}(t||(t={})),function(t){var e=function(){function t(t){this.__expression=null,this.__functions=t.slice()}return t.prototype.type=function(){return"CompositeFunction"},t.prototype.y=function(t){if(null==t||isNaN(t)||0==this.__functions.length)return null;for(var e=t,n=this.__functions.length-1;n>=0;--n)e=this.__functions[n].y(e);return e},t.prototype.setExpression=function(t){this.__expression=t},t.prototype.expression=function(){return this.__expression},t}();t._CompositeFunction=e}(t||(t={})),function(t){var e=function(){function e(t){this.intercept=t}return Object.defineProperty(e.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){"number"==typeof t&&(this.__intercept=t)},enumerable:!1,configurable:!0}),e.prototype.type=function(){return"Exponential"},e.prototype.y=function(t){return"number"!=typeof t||isNaN(t)||this.__coef.length<2?null:this.__coef[0]*Math.exp(this.__coef[1]*t)},e.prototype.setCoefficients=function(t){return null!=t&&(t=null!=this.intercept?[this.intercept,t[0]]:[Math.exp(t[0]),t[1]],!isNaN(t[0])&&!isNaN(t[1])&&(this.__coef=t.slice(),!0))},e.prototype.matrixX=function(t){var e=[];return null==this.intercept&&e.push(t.map((function(t){return 1}))),e.push(t.map((function(t){return null==t?0:t}))),e},e.prototype.matrixY=function(t){var e=[],n=t.map((function(t){return Math.log(t)}));if(null!=this.intercept){var i=Math.log(this.intercept);return e.push(n.map((function(t){return t-i}))),e}return e.push(n),e},e.prototype.expression=function(){var e=t.Expression._fx();return e.append(t.Expression._eq()).append(t.Expression._multiplyNum(this.__coef[0],3)).join(t.Expression._var("e")).raise((new t.Expression).append(t.Expression._multiplyNum(this.__coef[1],4)).join(t.Expression._var("x"))),e},e}();t._Exponential=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.order=e,this.period=n,this.__w=2*t._Utility._PI2/this.period}return Object.defineProperty(e.prototype,"order",{get:function(){return this.__order},set:function(t){"number"==typeof t&&t>0&&(this.__order=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"period",{get:function(){return null==this.__period?2*t._Utility._PI2:this.__period},set:function(t){null!=t&&t>0&&(this.__period=t)},enumerable:!1,configurable:!0}),e.prototype.type=function(){return"Fourier"},e.prototype.y=function(t){if("number"!=typeof t||isNaN(t))return null;for(var e=this.__coef[0],n=1;n<this.__coef.length;n+=2){var i=(n-1)/2+1;e+=this.__coef[n]*Math.cos(this.__w*i*t)+this.__coef[n+1]*Math.sin(this.__w*i*t)}return e},e.prototype.setCoefficients=function(t){return null!=t&&t.length>1&&!isNaN(this.__w)&&(this.__coef=t.slice(),!0)},e.prototype.matrixX=function(e){var n=[],i=this.order;(null==i||i<1)&&(i=1),n.push(e.map((function(t){return 1})));for(var o=2*t._Utility._PI2/this.period,r=1;r<=i;++r){for(var l=[],a=[],u=0,s=e;u<s.length;u++){var _=s[u],p=null==_?0:_;l.push(Math.cos(o*r*p)),a.push(Math.sin(o*r*p))}n.push(l),n.push(a)}return n},e.prototype.matrixY=function(t){var e=[];return e.push(t.map((function(t){return null==t?0:t}))),e},e.prototype.expression=function(){for(var e=t.Expression._fx(),n=e.append(t.Expression._eq()),i=1;i<this.__coef.length;i+=2){var o=(i-1)/2+1,r=o*this.__w,l=Math.min(o+1,4);n=(n=1==i?n.append(t.Expression._multiplyNum(this.__coef[i],l)):n.append(t.Expression._addNum(this.__coef[i],l,!0))).join(t.Expression._cos()).join(t.Expression._multiplyNum(r,l)).join(t.Expression._var("x")).append(t.Expression._addNum(this.__coef[i+1],l,!0)).join(t.Expression._sin()).join(t.Expression._multiplyNum(r,l)).join(t.Expression._var("x"))}return n.append(t.Expression._addNum(this.__coef[0],1,!1)),e},e}();t._Fourier=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t){this.intercept=t}return Object.defineProperty(e.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){"number"==typeof t&&(this.__intercept=t)},enumerable:!1,configurable:!0}),e.prototype.type=function(){return"Linear"},e.prototype.y=function(t){return"number"!=typeof t||isNaN(t)?null:this.__coef[0]+t*this.__coef[1]},e.prototype.setCoefficients=function(t){return null!=t&&(t=null!=this.intercept?[this.intercept,t[0]]:[t[0],t[1]],!isNaN(t[0])&&!isNaN(t[1])&&(this.__coef=t.slice(),!0))},e.prototype.matrixX=function(t){return null},e.prototype.matrixY=function(t){return null},e.prototype.expression=function(){var e=t.Expression._fx(),n=e.append(t.Expression._eq()).append(t.Expression._multiplyNum(this.__coef[1],2)).join(t.Expression._var("x"));return 0!=this.__coef[0]&&n.append(t.Expression._addNum(this.__coef[0],1,!1)),e},e}();t._Linear=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.type=function(){return"Logarithmic"},e.prototype.y=function(t){return"number"!=typeof t||isNaN(t)||t<=0?null:this.__coef[0]+this.__coef[1]*Math.log(t)},e.prototype.setCoefficients=function(t){return null!=t&&!isNaN(t[0])&&!isNaN(t[1])&&(this.__coef=t.slice(),!0)},e.prototype.matrixX=function(t){var e=[];return e.push(t.map((function(t){return 1}))),e.push(t.map((function(t){return Math.log(t)}))),e},e.prototype.matrixY=function(t){var e=[];return e.push(t.map((function(t){return null==t?0:t}))),e},e.prototype.expression=function(){var e=t.Expression._fx();return e.append(t.Expression._eq()).append(t.Expression._multiplyNum(this.__coef[1],3)).join(t.Expression._var("ln(x)")).append(t.Expression._addNum(this.__coef[0],3,!1)),e},e}();t._Logarithmic=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__coef=[],this.order=t,this.intercept=e}return Object.defineProperty(e.prototype,"order",{get:function(){return this.__order},set:function(t){"number"==typeof t&&t>0&&(this.__order=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){"number"==typeof t&&(this.__intercept=t)},enumerable:!1,configurable:!0}),e.prototype.type=function(){return"Ploynomial"},e.prototype.y=function(t){if("number"!=typeof t||isNaN(t)||0==this.__coef.length)return null;for(var e=this.__coef[0],n=1;n<this.__coef.length;++n)e+=this.__coef[n]*Math.pow(t,n);return e},e.prototype.setCoefficients=function(t){return null!=t&&(null!=this.intercept&&t.unshift(this.intercept),t.length>0&&(this.__coef=t.slice(),!0))},e.prototype.matrixX=function(t){var e=[];this.order=Math.min(t.length-1,this.order);var n=this.order;(null==n||n<1)&&(n=1),null==this.intercept&&e.push(t.map((function(t){return 1}))),e.push(t.map((function(t){return null==t?0:t})));for(var i=2;i<=n;++i){for(var o=[],r=0,l=t;r<l.length;r++){var a=l[r];o.push(Math.pow(a,i))}e.push(o)}return e},e.prototype.matrixY=function(t){var e=this,n=[];return null==this.intercept?(n.push(t.map((function(t){return null==t?0:t}))),n):(n.push(t.map((function(t){return(null==t?0:t)-e.intercept}))),n)},e.prototype.scaleX=function(t){for(var e=this.__coef.length,n=0;n<e;++n)this.__coef[n]*=Math.pow(t,n)},e.prototype.translateX=function(t){for(var e=this.__coef.length,n=1;n<e;++n)for(var i=0;i<n;++i)this.__coef[i]+=this._binomialCoef(n,i)*Math.pow(t,n-i)*this.__coef[n]},e.prototype.scaleY=function(t){for(var e=this.__coef.length,n=0;n<e;++n)this.__coef[n]*=t},e.prototype.translateY=function(t){this.__coef[0]+=t},e.prototype._binomialCoef=function(t,e){return this._factorial(t)/(this._factorial(e)*this._factorial(t-e))},e.prototype._factorial=function(t,e){return void 0===e&&(e=1),t<=1?e:(e*=t,this._factorial(t-1,e))},e.prototype.clone=function(){var t=new e(this.order,this.intercept);return t.setCoefficients(this.__coef),t},e.prototype.expression=function(){var e=t.Expression._fx(),n=e.append(t.Expression._eq()),i=this.__coef.length;i>1&&(n=n.append(t.Expression._multiplyNum(this.__coef[i-1],Math.min(i,4))).join(t.Expression._var("x")).raise(t.Expression._multiplyNum(i-1,0)));for(var o=i-2;o>0;--o)n=n.append(t.Expression._addNum(this.__coef[o],Math.min(o+1,4),!0)).join(t.Expression._var("x").raise(t.Expression._multiplyNum(o,0)));return 0!=this.__coef[0]&&n.append(t.Expression._addNum(this.__coef[0],1,!1)),e},e}();t._Polynomial=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.type=function(){return"Power"},e.prototype.setCoefficients=function(t){return null!=t&&t.length>=2&&(t=[Math.exp(t[0]),t[1]],!(isNaN(t[0])||isNaN(t[1])||0==t[0]||isNaN(t[0])||isNaN(t[1])||(this.__coef=t.slice(),0)))},e.prototype.matrixX=function(t){var e=[];return e.push(t.map((function(t){return 1}))),e.push(t.map((function(t){return Math.log(t)}))),e},e.prototype.matrixY=function(t){var e=[],n=t.map((function(t){return Math.log(t)}));return e.push(n),e},e.prototype.y=function(t){return"number"!=typeof t||isNaN(t)||t<=0||2!=this.__coef.length?null:this.__coef[0]*Math.pow(t,this.__coef[1])},e.prototype.expression=function(){var e=t.Expression._fx();return e.append(t.Expression._eq()).append(t.Expression._multiplyNum(this.__coef[0],3)).join(t.Expression._var("x").raise(t.Expression._multiplyNum(this.__coef[1],3))),e},e}();t._Power=e}(t||(t={})),function(t){var e=function(){function e(t){this.__value=t}return e.prototype.value=function(){return this.__value},e.prototype.expression=function(){if(null!=this.__value){var e=t.Expression._var("R").raise(t.Expression._multiplyNum(2,0));return e.append(t.Expression._eq()).append(t.Expression._multiplyNum(this.__value,4,!1)),e}return null},e}();t._RSquare=e}(t||(t={})),function(t){var e=function(){function e(){}return e._isLogAxis=function(e){return null!=e._getDefinition()._option.scale&&e._getDefinition()._option.scale.type===t.ValueScaleType.Logarithmic},e._getLogBase=function(t){return e._isLogAxis(t)?t._getDefinition()._option.logBase:null},e}();t._CartesianLogAxisSupport=e}(t||(t={})),function(t){var e=function(){function t(){}return t._defaultLabelAdjustmentPolicy=function(){return null==t.__defaultLabelAdjustmentPolicy&&(t.__defaultLabelAdjustmentPolicy=new t),t.__defaultLabelAdjustmentPolicy},t.prototype.adjustLabel=function(t,e,n){e.left<n.left&&t._translate(n.left-e.left,0),e.top<n.top&&t._translate(0,n.top-e.top),e.right>n.right&&t._translate(n.right-e.right,0),e.bottom>n.bottom&&t._translate(0,n.bottom-e.bottom)},t}();t._DefaultLabelAdjustmentPolicy=e}(t||(t={})),t||(t={}),function(t){t._isOverlayTrendlineExpressionPlugin=function(t){return null!=t.buildTrendlineExpression}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e,n){this.__rSquare=null,this._equation=t,this.__result=this._equation.setCoefficients(this._regress(e,n)),this.__result&&(this.__rSquare=this._calcualteRSquare(e,n))}return e.prototype.equation=function(){return this.__result?this._equation:null},e.prototype.rSquare=function(){return this.__result?new t._RSquare(this.__rSquare):null},e.prototype._calcualteRSquare=function(t,e){var n=this;if(null!=this._equation){var i=t.map((function(t){return n._equation.y(t)}));if(null!=i)return this._correlSquare(e,i)}return null},e.prototype._correlSquare=function(t,e){if(t.length!==e.length)return null;for(var n=t.map((function(t){return null==t?0:t})),i=e.map((function(t){return null==t?0:t})),o=n.reduce((function(t,e){return t+e}))/n.length,r=i.reduce((function(t,e){return t+e}))/i.length,l=0,a=0,u=0,s=0;s<n.length;++s)l+=(n[s]-o)*(i[s]-r),a+=(n[s]-o)*(n[s]-o),u+=(i[s]-r)*(i[s]-r);return l*l/(a*u)},e}();t._AbstractLinearRegression=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._regress=function(t,e){var n=this._equation.matrixX(t),i=this._equation.matrixY(e),o=this._matrix_transpose(n),r=this._matrix_invert(this._matrix_multiply(n,o));return null==r?null:this._matrix_multiply(i,this._matrix_multiply(o,r))[0]},e.prototype._matrix_multiply=function(t,e){var n=t.length,i=t[0].length,o=e.length,r=e[0].length;if(i!==o)return null;for(var l=new Array(n),a=0;a<n;++a){l[a]=new Array(r);for(var u=0;u<r;++u){l[a][u]=0;for(var s=0;s<i;++s)l[a][u]+=t[a][s]*e[s][u]}}return l},e.prototype._matrix_transpose=function(t){return null!=t?t[0].map((function(e,n){return t.map((function(t){return t[n]}))})):null},e.prototype._matrix_invert=function(t){if(t.length!==t[0].length)return null;for(var e=t.length,n=0,i=[],o=[],r=0;r<e;r+=1){i.push(new Array),o.push(new Array);for(var l=0;l<e;l+=1)r==l?i[r].push(1):i[r].push(0),o[r].push(t[r][l])}for(r=0;r<e;r+=1){if(0==(n=o[r][r])){for(var a=r+1;a<e;a+=1)if(0!=o[a][r]){for(l=0;l<e;l++)n=o[r][l],o[r][l]=o[a][l],o[a][l]=n,n=i[r][l],i[r][l]=i[a][l],i[a][l]=n;break}if(0==(n=o[r][r]))return null}for(l=0;l<e;l++)o[r][l]=o[r][l]/n,i[r][l]=i[r][l]/n;for(a=0;a<e;a++)if(a!=r)for(n=o[a][r],l=0;l<e;l++)o[a][l]-=n*o[r][l],i[a][l]-=n*i[r][l]}return i},e}(t._AbstractLinearRegression);t._OLSMultipleLinearRegression=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._regress=function(t,e){for(var n=t.map((function(t){return null==t?0:t})),i=e.map((function(t){return null==t?0:t})),o=n.length,r=0,l=0,a=0,u=0,s=0;s<o;++s)r+=n[s],l+=i[s],a+=n[s]*n[s],u+=n[s]*i[s];if(null!=this._equation.intercept){var _=(u-this._equation.intercept*r)/a;if(isNaN(_))return null;var p=[];return p.push(_),p}var c=(a*l-r*u)/(o*a-r*r);return _=(o*u-r*l)/(o*a-r*r),isNaN(c)||isNaN(_)?null:[c,_]},e}(t._AbstractLinearRegression);t._SimpleLinearRegression=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e,n){void 0===n&&(n=null),this.__function=t,this.__groupView=e,this.__max=null!=n&&n>1?n:500}return e.prototype._log=function(t,e){return Math.log(e)/Math.log(t)},e.prototype.interpolate=function(e,n){if(null==this.__groupView||null==this.__function)return new t._Polyline(e,n);var i,o=this.__groupView,r=[],l=[],a=o._xAxisView(),u=null==a._scaleModel._maximum?0:a._scaleModel._maximum,s=null==a._scaleModel._minimum?0:a._scaleModel._minimum,_=u-s,p=t._isLogAxisScale(a._scaleModel._scale),c=a._getDefinition()._option.logBase;p&&(_=this._log(c,u)-this._log(c,s));var h=o._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;i=h==t.AxisMode.Polygonal||h==t.AxisMode.Radial?this._getRadialStepBy(o,_):this._getStepBy(a,_);for(var f=e.length,d=0;d<f;++d)if(r.push(e[d]),l.push(n[d]),d<f-1){if(e[d]>e[d+1])return new t._Polyline([],[]);if(e[d]===e[d+1])continue;var y=i;if(t._isRadialAxisView(a)&&!o._swapAxes()&&(y=this._optimizeStep(i,d/f)),p){if(e[d]<=0)continue;for(var g=this._log(c,e[d+1]),m=y+this._log(c,e[d]);m<g;m+=y){var v=Math.pow(c,m);r.push(v),l.push(this.__function.y(v))}}else for(m=e[d]+y;m<e[d+1];m+=y)r.push(m),l.push(this.__function.y(m))}return new t._Polyline(r,l)},e.prototype._optimizeStep=function(t,e){return-5*t/3*e+2*t},e.prototype._getRadialStepBy=function(t,n){if(t._swapAxes()){var i=t._verticalAxisView(),o=this._getAppropriateUnitPixelInterval(i,n);return e.__pixelInterval/o}return this.__max>1?n/this.__max:null},e.prototype._getStepBy=function(t,n){var i=this._getAppropriateUnitPixelInterval(t,n),o=e.__pixelInterval/i;return this.__max>1&&n/o>this.__max&&(o=n/this.__max),o},e.prototype._getAppropriateUnitPixelInterval=function(e,n){if(e instanceof t._VerticalCircleAxisView){var i=e._radius;return i<0&&(i=1),Math.abs(e._sweep)*i/n}return t._isLineAxisView(e)?Math.abs(e._scaleModel._getRange()[1]-e._scaleModel._getRange()[0])/n:10},e.__pixelInterval=1.5,e}();t.CartesianFunctionalPointInterpolator=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){void 0===n&&(n=null),this.__function=t,this.__max=e,this.__logBase=null!=n&&n>0?n:null}return e.prototype._x=function(t){return null!=this.__logBase?Math.log(t)/Math.log(this.__logBase):t},e.prototype.interpolate=function(e,n){var i,o;if(null!=this.__logBase?(i=e.filter((function(t,e){return n[e]>0})),o=n.filter((function(t){return t>0}))):(i=e,o=n),null==this.__function||i.length>this.__max)return new t._Polyline(i,o);if(0==i.length)return new t._Polyline([],[]);for(var r=[],l=[],a=this.__max-i.length,u=this._x(i[i.length-1])-this._x(i[0]),s=0;s<i.length;++s)if(r.push(i[s]),l.push(o[s]),s<i.length-1){if(i[s]>i[s+1])return new t._Polyline([],[]);if(i[s]===i[s+1])continue;if(null!=this.__logBase&&i[s]<=0)continue;for(var _=this._x(i[s+1])-this._x(i[s]),p=_*a/u,c=_/p,h=1;h<p;++h){var f=h*c+this._x(i[s]);null!=this.__logBase&&(f=Math.pow(this.__logBase,f)),r.push(f),l.push(this.__function.y(f))}}return new t._Polyline(r,l)},e}();t.FunctionalSimpleInterpolator=e}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i,o){this.__context=e,this.__groupKey=n,this.__valueFieldName=null==i?"":i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__context._getDefinition()._pluginCollection)}return n.prototype._getDefaultFormat=function(e){return this.__stringFormatting.defaultFormat(t.core.DataType.String,!1)},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,n,i){if(null==t)return null;if("Field"==t){if(null!=this.__valueFieldName)return new e._DataValueInfo(this.__valueFieldName,this.__stringFormatting)}else if("Group"==t&&null!=this.__groupKey)return new e._DataValueInfo(this.__groupKey,this.__stringFormatting);return null},n.prototype.getIdentifierValue=function(e){return"current"==e?this.__context:e.length>8&&"current."==e.substring(0,8)&&null!=this.__context?new t._AnyValueBinding(e.substring(8))._getValue(this.__context):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}(),e._CartesianTrendlineLabelTextProxy=n}(t||(t={})),function(t){var e=function(){function t(t,e,n,i){this.max=e,this.min=t,this.mean=n,this.isInvert=i}return t.prototype.type=function(){return"LinearNormalizer"},t.from=function(e){if(null==e||0==e.length)return null;for(var n=null==e[0]?0:e[0],i=n,o=0,r=0,l=e;r<l.length;r++){var a=l[r];o+=null==a?0:a,i=Math.max(a,i),n=Math.min(a,n)}return i==n&&(i=1,n=0),new t(n,i,o/e.length,!1)},t.prototype.y=function(t){return null==t||isNaN(t)?null:this.isInvert?this._invert(t):this._forward(t)},t.prototype.inv=function(){return new t(this.min,this.max,this.mean,!this.isInvert)},t.prototype._forward=function(t){return(t-this.min)/(this.max-this.min)},t.prototype._invert=function(t){return t*(this.max-this.min)+this.min},t.prototype.expression=function(){return null},t}();t.LinearNormalizer=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.queryInterface=function(t){return null},t}();t.DiscretePointTrendline=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n._setPeriod(e),n}return n(e,t),Object.defineProperty(e.prototype,"period",{get:function(){return null==this.__period?2:this.__period},set:function(t){this._setPeriod(t)},enumerable:!1,configurable:!0}),e.prototype._setPeriod=function(t){!isNaN(t)&&null!=t&&t>1&&(this.__period=t)},e}(t.DiscretePointTrendline);t.MovingAverageTrendline=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._calc=function(e,n){if(null==e||null==n||e.length!==n.length||0==e.length)return new t._Polyline([],[]);var i=this.period;if(i>e.length-1&&(i=e.length-1),i<=0)return new t._Polyline([],[]);for(var o=[e[i-1]],r=[this._calcMa(n,i)],l=r[0],a=i;a<e.length;++a)o.push(e[a]),l+=(n[a]-l)/(a+1),r.push(l);return new t._Polyline(o,r)},i.prototype._calcMa=function(t,e){for(var n=0,i=0;i<e;++i)n+=t[i];return n/e},i}(t.MovingAverageTrendline);t.CumulativeMovingAverageTrendline=e}(t||(t={})),function(t){var e=function(e){function i(){return e.call(this,null)||this}return n(i,e),i.prototype._calc=function(e,n){if(null==e||null==n||e.length!==n.length||0==e.length)return new t._Polyline([],[]);for(var i=2/(e.length+1),o=[e[0]],r=[n[0]],l=n[0],a=1;a<e.length;++a)l=i*n[a]+(1-i)*l,o.push(e[a]),r.push(l);return new t._Polyline(o,r)},i}(t.MovingAverageTrendline);t.ExponentialMovingAverageTrendline=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._calc=function(e,n){if(null==e||null==n||e.length!==n.length||0==e.length)return new t._Polyline([],[]);var i=this.period;if(i>e.length-1&&(i=e.length-1),i<=0)return new t._Polyline([],[]);for(var o=[e[i-1]],r=[this._calcMa(n,i)],l=r[0],a=i;a<e.length;++a)o.push(e[a]),l=l+n[a]-n[a-i],r.push(l);return new t._Polyline(o,r)},i.prototype._calcMa=function(t,e){for(var n=0,i=0;i<e;++i)n+=t[i];return n},i}(t.MovingAverageTrendline);t.MovingAnnualTotalTrendline=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._calc=function(e,n){if(null==e||null==n||e.length!==n.length||0==e.length)return new t._Polyline([],[]);var i=this.period;if(i>e.length-1&&(i=e.length-1),i<=0)return new t._Polyline([],[]);for(var o=[e[i-1]],r=[this._calcMa(n,i)],l=r[0],a=i;a<e.length;++a)o.push(e[a]),l+=(n[a]-n[a-i])/i,r.push(l);return new t._Polyline(o,r)},i.prototype._calcMa=function(t,e){for(var n=0,i=0;i<e;++i)n+=t[i];return n/e},i}(t.MovingAverageTrendline);t.SimpleMovingAverageTrendline=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._calc=function(e,n){if(null==e||null==n||e.length!==n.length||0==e.length)return new t._Polyline([],[]);var i=this.period;if(i>e.length-1&&(i=e.length-1),i<=0)return new t._Polyline([],[]);for(var o=0,r=0,l=0;l<i;++l)o+=(l+1)*n[l],r+=n[l];var a=i*(i+1)/2,u=[e[i-1]],s=[o/a];for(l=i;l<e.length;++l)r+=n[l]-n[l-i],a=a+i*n[l]-r,u.push(e[l]),s.push(a/(i*(i+1)/2));return new t._Polyline(u,s)},i}(t.MovingAverageTrendline);t.WeightedMovingAverageTrendline=e}(t||(t={})),function(t){var e=function(){function t(){this._function=null,this._rSquare=null}return t.prototype._fit=function(t,e){null!=t&&null!=e&&t.length===e.length&&t.length>0&&this._internalFit(t,e)},t.prototype._getFunction=function(){return this._function},t.prototype._getRSquare=function(){return this._rSquare},t}();t._FunctionalTrendline=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this)||this;return i.__equation=new t._Exponential(n),i}return n(i,e),i.prototype._internalFit=function(e,n){if(!n.some((function(t){return null==t||t<=0}))){var i=new t._OLSMultipleLinearRegression(this.__equation,e,n);this._function=i.equation(),this._rSquare=i.rSquare()}},i}(t._FunctionalTrendline);t._ExponentialTrendline=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this)||this;return o.__equation=new t._Fourier(n,i),o}return n(i,e),i.prototype._internalFit=function(e,n){var i=new t._OLSMultipleLinearRegression(this.__equation,e,n);this._function=i.equation(),this._rSquare=i.rSquare()},i}(t._FunctionalTrendline);t._FourierTrendline=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this)||this;return i.__equation=new t._Linear(n),i}return n(i,e),i.prototype._internalFit=function(e,n){var i=new t._SimpleLinearRegression(this.__equation,e,n);this._function=i.equation(),this._rSquare=i.rSquare()},i}(t._FunctionalTrendline);t._LinearTrendline=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.__equation=new t._Logarithmic,n}return n(i,e),i.prototype._internalFit=function(e,n){if(!e.some((function(t){return null==t||t<=0}))){var i=new t._OLSMultipleLinearRegression(this.__equation,e,n);this._function=i.equation(),this._rSquare=i.rSquare()}},i}(t._FunctionalTrendline);t._LogarithmicTrendline=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this)||this;return o.__equation=new t._Polynomial(n,i),o.__intercept=i,o}return n(i,e),i.prototype._internalFit=function(e,n){var i=this;if(null==this.__intercept){this.__xNomalizer=t.LinearNormalizer.from(e),this.__yNomalizer=t.LinearNormalizer.from(n),e=e.map((function(t){return i.__xNomalizer.y(t)})),n=n.map((function(t){return i.__yNomalizer.y(t)}));var o=(a=new t._OLSMultipleLinearRegression(this.__equation,e,n)).equation();if(null!=o){var r=o.clone();r.scaleX(1/(this.__xNomalizer.max-this.__xNomalizer.min)),r.translateX(-this.__xNomalizer.min),r.scaleY(this.__yNomalizer.max-this.__yNomalizer.min),r.translateY(this.__yNomalizer.min);var l=new t._CompositeFunction([this.__yNomalizer.inv(),o,this.__xNomalizer]);l.setExpression(r.expression()),this._function=l,this._rSquare=a.rSquare()}else this._function=null,this._rSquare=null}else{var a=new t._OLSMultipleLinearRegression(this.__equation,e,n);this._function=a.equation(),this._rSquare=a.rSquare()}},i}(t._FunctionalTrendline);t._PolynomialTrendline=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.__equation=new t._Power,n}return n(i,e),i.prototype._internalFit=function(e,n){if(!e.some((function(t,e){var i=n[e];return null==t||t<=0||null==i||i<=0}))){var i=new t._OLSMultipleLinearRegression(this.__equation,e,n);this._function=i.equation(),this._rSquare=i.rSquare()}},i}(t._FunctionalTrendline);t._PowerTrendline=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this;return o._legendOverlayDefinition=new t._LegendOverlayDefinition(n,t.LegendType.Overlay),o}return n(i,e),i.prototype._buildOverlayView=function(e){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._CartesianTrendlineOverlayView(e,this);return null},i.prototype.queryInterface=function(e){return"IOverlayLegendItemsBuilder"==e?new t.models._TrendlineLineOverlayLegendItemsBuilder(this):null},i}(t._BaseOverlayDefinition);t._TrendlineDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e._visualize=function(n,i,o,r){if(void 0===r&&(r=null),null==i||null==o||i.length!==o.length)return null;var l=[],a=[],u=n._horizontalAxisView(),s=n._verticalAxisView();if(n._swapAxes()){var _=i;i=o,o=_}var p=n._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;if(p==t.AxisMode.Polygonal||p==t.AxisMode.Radial)for(var c=0;c<i.length;++c){var h=s._scaleModel._value(o[c]),f=u._scaleModel._value(i[c]);null!=h&&null!=f&&(l.push(f*Math.cos(h)+n._cx()),a.push(f*Math.sin(h)+n._cy()))}else for(c=0;c<i.length;++c){var d=u._scaleModel._value(i[c]),y=s._scaleModel._value(o[c]);null!=d&&null!=y&&(l.push(d),a.push(y))}if(null!=r){var g=r;if(g||(g=l.length<200),g)return e._createSplineCurveShape(l,a)}for(var m=[],v=0;v<l.length;v++)m.push(new t.core.Point(l[v],a[v]));return new t._PolylineShape(m,null)},e._createSplineCurveShape=function(e,n){var i=[],o=[],r=[],l=[];return t._SplineCurveShape._calculateCoefficients(e,n,i,o,r,l),new t._SplineCurveShape(e,n,i,o,r,l,null)},e}();t._CartesianTrendlineVisualizer=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__forwardPeriod=0,o.__backwardPeriod=0,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"backwardPeriod",{get:function(){return this.__backwardPeriod},set:function(t){t=this.validate(t),this.__backwardPeriod=e.prototype.validate.call(this,t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"forwardPeriod",{get:function(){return this.__forwardPeriod},set:function(t){t=this.validate(t),this.__forwardPeriod=e.prototype.validate.call(this,t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],i.prototype,"backwardPeriod",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],i.prototype,"forwardPeriod",null),i}(e._Option),e._TrendlineForecastOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__style=new e._DataPointStyleOption(null),r.__label=null,r.__field=null,r.__detailLevel=t.DetailLevel.Total,r.__detailKey=null,r.__density=null,r.__text=new e._TrendlineTextOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"text",{get:function(){return this.__text},set:function(t){this.__text!=t&&(null==t&&(t=new e._TrendlineTextOption),this.__text=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"density",{get:function(){return this.__density},set:function(t){this.__density!=t&&(this.__density=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailKey",{get:function(){return this.__detailKey},set:function(t){this.__detailKey!=t&&(this.__detailKey=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"detailLevel",{get:function(){return this.__detailLevel},set:function(t){this.__detailLevel!=t&&(this.__detailLevel=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._DataPointStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"label",{get:function(){return this.__label},set:function(t){this.__label!=t&&(this.__label=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TrendlineTextOption")],r.prototype,"text",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"density",null),o([t.JsonConverterAttribute(t._DataValueTypesConverter,!0)],r.prototype,"detailKey",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DetailLevel,t.DetailLevel.Total)],r.prototype,"detailLevel",null),o([t.JsonConverterAttribute(t._FieldNameConverter,!0)],r.prototype,"field",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"label",null),r}(e._OverlayOption),e._TrendlineOverlayOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__equation=!1,r.__rSquaredValue=!1,r.__position=t.AnnotationPosition.Center,r.__textStyle=new e._TextStyleOption(null),r.__placement=t.LinePlacement.End,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"equation",{get:function(){return this.__equation},set:function(t){this.__equation!=t&&(this.__equation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rSquaredValue",{get:function(){return this.__rSquaredValue},set:function(t){this.__rSquaredValue!=t&&(this.__rSquaredValue=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"json",{get:function(){return this.option()},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.LinePlacement,t.LinePlacement.End)],r.prototype,"placement",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationPosition,t.AnnotationPosition.Center)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"equation",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"rSquaredValue",null),o([t.JsonIgnoreAttribute()],r.prototype,"json",null),r}(e._Option),e._TrendlineTextOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isTrendlineOverlayOption=function(e){if(!t._isOverlayOption(e))return!1;var n=e;return void 0!==n.style&&void 0!==n.label&&void 0!==n.field&&void 0!==n.detailLevel&&void 0!==n.detailKey&&void 0!==n.text&&void 0!==n.density}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,n,i,o)||this;return l.__slice=r,null!=r._seriesView()&&(l.___parentView=r._seriesView()),l.__shader=new t._OverlayShader(n),l}return n(i,e),i.prototype._initializeStyle=function(){this.__shader._applyPaletteColor()},Object.defineProperty(i.prototype,"seriesName",{get:function(){if(null!=this.__slice){var t=this.__slice._detailKey();return null!=t?t+"":""}return null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.TrendLineOverlayItem},enumerable:!1,configurable:!0}),i.prototype._slice=function(){return this.__slice},i.prototype._label=function(t){return null!=t&&(this.__label=t),this.__label},i.prototype._hasLegend=function(){return null!=this.__label},i.prototype._cartesianTrendlineOverlayView=function(){return this._ownerView},i.prototype._extractData=function(e){return null==e?null:t._CartesianPointDataExtractor.extract(e,!1,!1)},i.prototype._render=function(n,i){i._renderLabel||(n.beginTransform(),t._StyleUtility._applyStyle(n,this._getStyle()),e.prototype._render.call(this,n,i),n.restoreTransform(),this._afterRender(n,i))},i.prototype._afterRender=function(t,e){},i.prototype._getStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._cartesianTrendlineOverlayView()._getDefaultStyle());return t._OptionUtility._applyDataPointStyleOption(e,this._cartesianTrendlineOverlayView()._trendlineOverlayDefinition()._option.style),null==e.stroke&&(e.stroke=this._getStrokeColor()),t._StyleUtility._applyAllStyle(e,this.style),e},i.prototype._getStrokeColor=function(){if(null!=this.__slice._seriesView()&&!this._hasLegend()){var e=this.__slice._seriesView();if(t._isCartesianSeriesView(e))return e.color}return this.__shader._baseColor},i.prototype.getSymbol=function(){var e=this._getStyle();return new t._OverlayLineSymbol(e.strokeWidth,e.strokeDasharray,e.stroke)},i.prototype.queryInterface=function(t){return"ITrendlineOverlayItemModel"===t?this:e.prototype.queryInterface.call(this,t)},i}(t._CartesianOverlayItemView);t._CartesianTrendlineOverlayItemView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__overlayView=t}return e.prototype._bulid=function(e,n,i){var o=this.__overlayView._getCartesianPlotView();if(t._isTextCartesianPlotView(o));else if(t._isCartesianPlotView(o))return this._createItemViewBy(this.__overlayView,n,e,this.__overlayView._trendlineOverlayDefinition()._option,i);return null},e.prototype._createItemViewBy=function(e,n,i,o,r){var l=o.type;return"LinearTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createLinearTrendline(o),o.forecast):"PolynomialTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createPolynomialTrendline(o),o.forecast):"ExponentialTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createExponentialTrendline(o),o.forecast):"LogarithmicTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createLogarithmicTrendline(o),o.forecast):"PowerTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createPowerTrendline(o),o.forecast):"FourierTrendline"===l?new t._CartesianFunctionalTrendlineOverlayItemView(e,n,r,i,this._createFourierTrendline(o),o.forecast):"MovingAverageTrendline"===l?new t._CartesianDiscretePointTrendlineOverlayItemView(e,n,r,i,this._createSimpleMovingAverageTrendline(o)):"CumulativeMovingAverageTrendline"===l?new t._CartesianDiscretePointTrendlineOverlayItemView(e,n,r,i,this._createCumulativeMovingAverageTrendline(o)):"ExponentialMovingAverageTrendline"===l?new t._CartesianDiscretePointTrendlineOverlayItemView(e,n,r,i,this._createExponentialMovingAverageTrendline(o)):"WeightedMovingAverageTrendline"===l?new t._CartesianDiscretePointTrendlineOverlayItemView(e,n,r,i,this._createWeightedMovingAverageTrendline(o)):"MovingAnnualTotalTrendline"===l?new t._CartesianDiscretePointTrendlineOverlayItemView(e,n,r,i,this._createMovingAnnualTotalTrendline(o)):null},e.prototype._createMovingAnnualTotalTrendline=function(e){return new t.MovingAnnualTotalTrendline(e.period)},e.prototype._createCumulativeMovingAverageTrendline=function(e){return new t.CumulativeMovingAverageTrendline(e.period)},e.prototype._createSimpleMovingAverageTrendline=function(e){return new t.SimpleMovingAverageTrendline(e.period)},e.prototype._createWeightedMovingAverageTrendline=function(e){return new t.WeightedMovingAverageTrendline(e.period)},e.prototype._createExponentialMovingAverageTrendline=function(e){return new t.ExponentialMovingAverageTrendline},e.prototype._createPowerTrendline=function(e){return new t._PowerTrendline},e.prototype._createExponentialTrendline=function(e){return new t._ExponentialTrendline(e.intercept)},e.prototype._createLinearTrendline=function(e){return new t._LinearTrendline(e.intercept)},e.prototype._createFourierTrendline=function(e){return new t._FourierTrendline(e.order)},e.prototype._createPolynomialTrendline=function(e){return new t._PolynomialTrendline(e.order,e.intercept)},e.prototype._createLogarithmicTrendline=function(e){return new t._LogarithmicTrendline},e}();t._CartesianTrendlineOverlayItemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._trendlineOverlayDefinition=function(){return this._definition},i.prototype._isGroup=function(){return this._definition._option.detailLevel==t.DetailLevel.Group},i.prototype._createDefaultStyle=function(){return t._StyleUtility._buildStrokeStyle(null,null,1)},i.prototype._shouldApplyColorFromPalette=function(){var t=this._definition._option;return!(null!=t.style&&null!=t.style.stroke||this._isGroup()&&null==t.label)},i.prototype._initializeStyle=function(){if(this._shouldApplyColorFromPalette())for(var t=0,e=this._itemViews();t<e.length;t++)e[t]._initializeStyle()},i.prototype._generateLabel=function(e){var n=this._definition._option.label;if(null==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.models._CartesianTrendlineLabelTextProxy(this,e._detailKey(),e._valueField(),this._getCartesianPlotView()._stringFormatting()),l=this._definition._plotConfigOption.plugins,a=i.evaluate(o,r,l,this._ownerView._getDefinition()._pluginCollection),u=this._toLines(a);return null!=u?u.join(""):n},i.prototype._toLines=function(e){var n=[];if(null!=e){n=e.split("\n");for(var i=0;i<n.length;i++){for(var o="",r=0,l=t.models.StringObject._parse(n[i]);r<l.length;r++)o+=l[r].value;n[i]=o}}return n},i.prototype._valueFieldFilter=function(t,e){var n=this._definition._option;if(null==n.field)return!0;var i=t._valueField();return null!=i&&n.field.indexOf(i)>=0},i.prototype._sliceDetailKeyFilter=function(e){if(null!=e._seriesView()){var n=this._definition._option,i=this._ownerView._getDefinition();return t._BuildInOverlayDetailKeyPolicyBuilderCollection._buildInOverlayDetailKeys()._overlayDetailKey(i._plotConfigOption.plugins,i._pluginCollection)._containsDetailKey(n.detailKey,e._seriesView()._getCartesianSeriesDataModel()._detailValue())}return!0},i.prototype._createOverlayItemView=function(e,n,i){if(this._sliceDetailKeyFilter(e)){var o=n._getCartesianGroupView()._getCartesianGroupDataModel()._yValueDefinition();if(this._valueFieldFilter(e,o)&&e._pointViews().length>0){var r=new t._CartesianTrendlineOverlayItemViewBuilder(this)._bulid(e,n,i);null!=r&&(r._label(this._generateLabel(e)),this._itemViews().push(r))}}},i.prototype._getDataSlices=function(e){return(new t._CartesianOverlayDataSlicer)._slice(e._getCartesianGroupView(),this._trendlineOverlayDefinition()._option.detailLevel,!0)},i.prototype._buildOverlayItemViews=function(){e.prototype._buildOverlayItemViews.call(this);for(var t=0,n=this._getGroupViews();t<n.length;t++)for(var i=n[t],o=0,r=this._getDataSlices(i);o<r.length;o++){var l=r[o];this._createOverlayItemView(l,i,"overlayItem")}},i.prototype.useData=function(){this._initialize()},i.prototype._initialize=function(){for(var t=0,e=this._itemViews();t<e.length;t++)e[t].initialize()},Object.defineProperty(i.prototype,"overlayItems",{get:function(){return this._itemViews().slice().map((function(t){return t._toOverlayItemModel()}))},enumerable:!1,configurable:!0}),i.prototype.buildRangePolicy=function(){return new t._CartesianTrendlineOverlayRangePolicy(this)},i.prototype.queryInterface=function(t){return"IEnumerableOverlayModel"===t?this:e.prototype.queryInterface.call(this,t)},i}(t._CartesianOverlayView);t._CartesianTrendlineOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,n,i,o)||this;return l.__trendLine=r,l}return n(i,e),i.prototype.initialize=function(){e.prototype.initialize.call(this),this._prepareTrendline()},i.prototype._extractData=function(e){return null==e?null:t._CartesianPointDataExtractor.extract(e,!1,!0)},i.prototype._prepareTrendline=function(){var t=this.__trendLine;if(null!=t){var e=this._extractData(this._slice());if(null!=e){var n=t._calc(e.xs,e.ys);null!=n._xs&&null!=n._ys&&(this.___xs=n._xs,this.___ys=n._ys)}}},i.prototype._layoutContent=function(e,n){null!=this.___xs&&null!=this.___ys&&(this._prepareTrendline(),this.__shape=t._CartesianTrendlineVisualizer._visualize(this._overlayGroupView()._getCartesianGroupView(),this.___xs,this.___ys,!0))},i.prototype._drawView=function(e,n){if(this._isRenderContextReady()){var i=t._ShapeUtil._getShapePoints(this.__shape).map((function(t){return t.x})),o=t._ShapeUtil._getShapePoints(this.__shape).map((function(t){return t.y}));e.drawLines(i,o)}},i.prototype._isRenderContextReady=function(){return null!=this.__shape},i.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this._isRenderContextReady()&&t._ShapeUtil._shapeStrokeContainsPoint(this.__shape,e)){var o=new t.HitTestResult(e,this,this,t.ElementType.Series);return null==i||null!=i&&i.predicate(o)?o:null}return null},i}(t._CartesianTrendlineOverlayItemView);t._CartesianDiscretePointTrendlineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l){var a=e.call(this,t,n,i,o)||this;return a.__trendLine=r,a.__forecastOption=l,a}return n(i,e),i.prototype.initialize=function(){e.prototype.initialize.call(this),this._prepareTrendline()},i.prototype._prepareTrendline=function(){var e=this,n=this.__trendLine;if(null!=n){var i=this._extractData(this._slice());if(null!=i){var o=i.xs,r=i.ys;if(n._fit(o,r),this.__function=n._getFunction(),null!=this.__function){var l=o.map((function(t){return null==t?0:t}));this.__rSquare=n._getRSquare(),l.sort((function(t,e){return t-e}));var a=l.map((function(t){return e.__function.y(t)}));this._autoForecastWithXDimension(this.__function,l,a),this._forecasting(this.__function,l,a);var u=new t.FunctionalSimpleInterpolator(this.__function,50,this._getLogBase()).interpolate(l,a);this.___xs=u._xs,this.___ys=u._ys}}}},i.prototype._autoForecastWithXDimension=function(e,n,i){for(var o=0,r=this._cartesianTrendlineOverlayView()._getCartesianPlotView()._getCartesianPlotDataModel()._groups();o<r.length;o++){var l,a=r[o]._x(),u=null,s=null;if(t.models._isLinearDimension(a)){var _=a;u=_._min(),s=_._max()}else if(t._isOrdinalDimension(a)){var p=a;u=p._indexBase(),s=p._count()}null!=u&&u<n[0]&&null!=(l=this._getApporiateBoundary(e,u))&&(n.unshift(l.x),i.unshift(l.y)),null!=s&&s>n[n.length-1]&&null!=(l=this._getApporiateBoundary(e,s))&&(n.push(l.x),i.push(l.y))}},i.prototype._forecasting=function(t,e,n){var i=e[0]-this.__forecastOption.backwardPeriod,o=e[e.length-1]+this.__forecastOption.forwardPeriod,r=this._getApporiateBoundary(t,i);null!=r&&(e.unshift(r.x),n.unshift(r.y)),null!=(r=this._getApporiateBoundary(t,o))&&(e.push(r.x),n.push(r.y))},i.prototype._getApporiateBoundary=function(e,n){(e instanceof t._Logarithmic||e instanceof t._Power)&&(n=Math.max(n,.01));var i=e.y(n);return null==i?null:new t.core.Point(n,i)},i.prototype._layoutContent=function(e,n){if(null!=this.__function){var i=new t.CartesianFunctionalPointInterpolator(this.__function,this._overlayGroupView()._getCartesianGroupView(),this._cartesianTrendlineOverlayView()._trendlineOverlayDefinition()._option.density).interpolate(this.___xs,this.___ys);this.___xs=i._xs,this.___ys=i._ys,this.__shape=t._CartesianTrendlineVisualizer._visualize(this._overlayGroupView()._getCartesianGroupView(),i._xs,i._ys)}},i.prototype._drawView=function(e,n){if(this._isRenderContextReady()){var i=t._ShapeUtil._getShapePoints(this.__shape).map((function(t){return t.x})),o=t._ShapeUtil._getShapePoints(this.__shape).map((function(t){return t.y}));e.drawLines(i,o)}},i.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianPlotCoordinatePointAttachmentAgent(this._overlayGroupView()._getCartesianGroupView()))},i.prototype._afterRender=function(e,n){if(this._isRenderContextReady()){var i=this._createExpressionsLabelView();null!=i&&(i._layout(e,t._ShapeUtil._getShapePoints(this.__shape),this.___xs,this.___ys),i._render(e,n))}},i.prototype._createExpressionsLabelView=function(){if(null!=this.__function&&null!=this.__rSquare){var e=[];this._cartesianTrendlineOverlayView()._trendlineOverlayDefinition()._option.text.equation&&e.push(this.__function.expression()),this._cartesianTrendlineOverlayView()._trendlineOverlayDefinition()._option.text.rSquaredValue&&e.push(this.__rSquare.expression());var n=this._cartesianTrendlineOverlayView()._trendlineOverlayDefinition()._option.text,i=this._cartesianOverlayView()._getCartesianPlotView()._getDefinition()._plotConfigOption.plugins,o=this._cartesianOverlayView()._getCartesianPlotView()._getDefinition()._pluginCollection,r=t._BuildInOverlayTrendlineExpressionPluginCollection._defaultBuildInOverlayTrendlineExpressionPlugins()._overlayTrendlineExpression(this,e,n,i,o);return null!=r?r:new t._ExpressionsLabelView(this,e,n)}return null},i.prototype._getLogBase=function(){var e=this._overlayGroupView()._getCartesianGroupView()._xAxisView();return t._CartesianLogAxisSupport._isLogAxis(e)?t._CartesianLogAxisSupport._getLogBase(e):null},i.prototype._isRenderContextReady=function(){return null!=this.__shape&&t._ShapeUtil._getShapePoints(this.__shape).length>1},i.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this._isRenderContextReady()&&t._ShapeUtil._shapeStrokeContainsPoint(this.__shape,e)){var o=new t.HitTestResult(e,this,this,t.ElementType.Series);return null==i||null!=i&&i.predicate(o)?o:null}return null},i}(t._CartesianTrendlineOverlayItemView);t._CartesianFunctionalTrendlineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t)||this;return o._expressions=n,o._option=i,o}return n(i,e),i.prototype._cartesianFunctionalTrendlineOverlayItemView=function(){return this._ownerView},i.prototype._translate=function(t,e){if(null!=this._rectangle){this._rectangle.left+=t,this._rectangle.top+=e;for(var n=0,i=this._expressions;n<i.length;n++){var o=i[n];null!=o&&o.translate(t,e)}}},i.prototype._shape=function(){return new t._RectangleShape(this._rectangle.center.x,this._rectangle.center.y,this._rectangle.width,this._rectangle.height,0)},Object.defineProperty(i.prototype,"expressions",{get:function(){return this._expressions},enumerable:!1,configurable:!0}),i.prototype._layout=function(e,n,i,o){null==this._rectangle&&(this._rectangle=this._calculateRectangle(e,this._expressions));var r,l,a=this._rectangle.clone(),u=this._ownerView._overlayGroupView()._getCartesianGroupView(),s=u._xAxisView(),_=a.center;if(this._option.placement==t.LinePlacement.Start)r=n[0],l=o[0];else if(this._option.placement==t.LinePlacement.Center){var p=n.length/2;r=n[Math.floor(p)],l=o[Math.floor(p)]}else r=n[n.length-1],l=o[n.length-1];var c=u._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode;if(c==t.AxisMode.Polygonal||c==t.AxisMode.Radial){var h=s;this._translate(r.x-_.x,r.y-_.y),_=this._getJoinPointInRadial(this._rectangle.clone(),new t.core.Point(h._cx,h._cy),this._option.position)}else if(u._swapAxes()){this._option.placement!=t.LinePlacement.Center&&(this._option.placement==t.LinePlacement.Start==!u._xAxisView()._scaleModel._getReversed()?_.y=a.bottom:_.y=a.top);var f=0;this._option.position==t.AnnotationPosition.Center||(f=this._option.position==t.AnnotationPosition.Outside==!u._yAxisView()._scaleModel._getReversed()?-a.width/2:a.width/2),(null==s._getAcutalOrigin()?0:s._getAcutalOrigin())>l&&(f=-f),_.x+=f}else{this._option.placement!=t.LinePlacement.Center&&(this._option.placement==t.LinePlacement.Start==!u._xAxisView()._scaleModel._getReversed()?_.x=a.left:_.x=a.right);var d=0;this._option.position==t.AnnotationPosition.Center||(d=this._option.position==t.AnnotationPosition.Outside==!u._yAxisView()._scaleModel._getReversed()?a.height/2:-a.height/2),(null==s._getAcutalOrigin()?0:s._getAcutalOrigin())>l&&(d=-d),_.y+=d}this._translate(r.x-_.x,r.y-_.y),t._DefaultLabelAdjustmentPolicy._defaultLabelAdjustmentPolicy().adjustLabel(this,this._rectangle,u._getCartesianPlotView()._getLayoutView()._getPlotAreaView()._getRectangle())},i.prototype._drawView=function(t,e){if(null!=this._rectangle)for(var n=0,i=this._expressions;n<i.length;n++){var o=i[n];null!=o&&o.render(t)}},i.prototype._calculateRectangle=function(e,n){for(var i=0,o=0,r=0,l=n;r<l.length;r++){var a=l[r];if(null!=a){a.preview(e,this._getStyle());var u=a.box();a.translate(0,o+u.height),i=Math.max(i,u.width),o+=u.height}}return this._centerAlign(this._expressions,i),new t.core.Rect(0,0,i,o)},i.prototype._getStyle=function(){var e=this._option.textStyle,n=this._cartesianFunctionalTrendlineOverlayItemView()._cartesianTrendlineOverlayView()._getDefinition(),i=n._plotConfigOption.plugins,o=n._pluginCollection;return t._BuildInTrendlineExpressionTextStylePolicyBuilderCollection._defaultBuildInTrendlineExpressionTextStylePolicyBuilders()._trendlineExpressionTextStylePolicy(i,o)._getTextStyle(e,this._cartesianFunctionalTrendlineOverlayItemView())},i.prototype._centerAlign=function(t,e){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(null!=o){var r=o.box();o.translate((e-r.width)/2,0)}}},i.prototype._getJoinPointInRadial=function(e,n,i){var o=e.center;if(i===t.AnnotationPosition.Center)return o;var r=[new t.core.Point(o.x-1,o.y-1),new t.core.Point(o.x-1,o.y),new t.core.Point(o.x-1,o.y+1),new t.core.Point(o.x,o.y+1),new t.core.Point(o.x+1,o.y+1),new t.core.Point(o.x+1,o.y),new t.core.Point(o.x+1,o.y-1),new t.core.Point(o.x,o.y-1)],l=[new t.core.Point(e.left,e.top),new t.core.Point(e.left,o.y),new t.core.Point(e.left,e.bottom),new t.core.Point(o.x,e.bottom),new t.core.Point(e.right,e.bottom),new t.core.Point(e.right,o.y),new t.core.Point(e.right,e.top),new t.core.Point(o.x,e.top)];return i===t.AnnotationPosition.Inside?l[(this._nearestPointIndex(r,n)+4)%8]:l[this._nearestPointIndex(r,n)]},i.prototype._nearestPointIndex=function(t,e){for(var n=Number.MAX_VALUE,i=0,o=0;o<t.length;++o){var r=t[o],l=(e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y);l<n&&(n=l,i=o)}return i},i}(t._BaseView);t._ExpressionsLabelView=e}(t||(t={})),function(t){t._isExpressionsLabelView=function(t){var e=t;return null!=e&&void 0!==e.expressions&&"function"==typeof e._layout&&"function"==typeof e._render}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isCumulativeMovingAverageTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"CumulativeMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._CumulativeMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CumulativeMovingAverageTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="CumulativeMovingAverageTrendline",o.__period=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.__period},set:function(t){t=this.validate(t),this.__period!=t&&(this.__period=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],i.prototype,"period",null),i}(e._TrendlineOverlayOption),e._CumulativeMovingAverageTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isCumulativeMovingAverageTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"CumulativeMovingAverageTrendline"==n.type&&void 0!==n.period}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isExponentialTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ExponentialTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._ExponentialTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ExponentialTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type="ExponentialTrendline",r.__intercept=null,r.__forecast=new e._TrendlineForecastOption,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){t=this.validate(t),this.__intercept!=t&&(this.__intercept=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TrendlineForecastOption")],r.prototype,"forecast",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._InterceptValidator,!0)],r.prototype,"intercept",null),r}(e._TrendlineOverlayOption),e._ExponentialTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isExponentialTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"ExponentialTrendline"==n.type&&void 0!==n.intercept&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isExponentialMovingAverageTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ExponentialMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._ExponentialMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ExponentialMovingAverageTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="ExponentialMovingAverageTrendline",o.__period=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.__period},set:function(t){t=this.validate(t),this.__period!=t&&(this.__period=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],i.prototype,"period",null),i}(e._TrendlineOverlayOption),e._ExponentialMovingAverageTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isExponentialMovingAverageTrendlineOverlayOption=function(e){return!!t._isTrendlineOverlayOption(e)&&"ExponentialMovingAverageTrendline"==e.type}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isFourierTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"FourierTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._FourierTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._FourierTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type="FourierTrendline",r.__order=1,r.__period=null,r.__forecast=new e._TrendlineForecastOption,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"order",{get:function(){return this.__order},set:function(t){t=this.validate(t),this.__order!=t&&(this.__order=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"period",{get:function(){return this.__period},set:function(t){t=this.validate(t),this.__period!=t&&(this.__period=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TrendlineForecastOption")],r.prototype,"forecast",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,1,!0),t.ValidatorAttribute(t._NumberValidator,!0,1,6,!0,!0)],r.prototype,"order",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],r.prototype,"period",null),r}(e._TrendlineOverlayOption),e._FourierTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isFourierTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"FourierTrendline"==n.type&&void 0!==n.period&&void 0!==n.order&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isLinearTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"LinearTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._LinearTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LinearTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type="LinearTrendline",r.__intercept=null,r.__forecast=new e._TrendlineForecastOption,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){this.__intercept!=t&&(this.__intercept=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TrendlineForecastOption")],r.prototype,"forecast",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"intercept",null),r}(e._TrendlineOverlayOption),e._LinearTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isLinearTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"LinearTrendline"==n.type&&void 0!==n.intercept&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isLogarithmicTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"LogarithmicTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._LogarithmicTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LogarithmicTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type="LogarithmicTrendline",r.__forecast=new e._TrendlineForecastOption,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TrendlineForecastOption")],r.prototype,"forecast",null),r}(e._TrendlineOverlayOption),e._LogarithmicTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isLogarithmicTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"LogarithmicTrendline"==n.type&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isMovingAnnualTotalTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"MovingAnnualTotalTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._MovingAnnualTotalTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MovingAnnualTotalTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="MovingAnnualTotalTrendline",o.__period=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.__period},set:function(t){t=this.validate(t),this.__period!=t&&(this.__period=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],i.prototype,"period",null),i}(e._TrendlineOverlayOption),e._MovingAnnualTotalTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isMovingAnnualTotalTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"MovingAnnualTotalTrendline"==n.type&&void 0!==n.period}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="MovingAverageTrendline",o.__period=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.__period},set:function(t){t=this.validate(t),this.__period!=t&&(this.__period=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],i.prototype,"period",null),i}(e._TrendlineOverlayOption),e._SimpleMovingAverageTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isSimpleMovingAverageTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"MovingAverageTrendline"==n.type&&void 0!==n.period}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isSimpleMovingAverageTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"MovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._SimpleMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SimpleMovingAverageTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type="PolynomialTrendline",r.__order=2,r.__intercept=null,r.__forecast=new e._TrendlineForecastOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"intercept",{get:function(){return this.__intercept},set:function(t){this.__intercept!=t&&(this.__intercept=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"order",{get:function(){return this.__order},set:function(t){t=this.validate(t),this.__order!=t&&(this.__order=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TrendlineForecastOption")],r.prototype,"forecast",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"intercept",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,2,!0),t.ValidatorAttribute(t._NumberValidator,!0,2,6,!0,!0)],r.prototype,"order",null),r}(e._TrendlineOverlayOption),e._PolynomialTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isPolynomialTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"PolynomialTrendline"==n.type&&void 0!==n.order&&void 0!==n.intercept&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isPolynomialTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"PolynomialTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._PolynomialTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PolynomialTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__type="PowerTrendline",r.__forecast=new e._TrendlineForecastOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"forecast",{get:function(){return this.__forecast},set:function(t){this.__forecast!=t&&(null==t&&(t=new e._TrendlineForecastOption),this.__forecast=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"type",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TrendlineForecastOption")],r.prototype,"forecast",null),r}(e._TrendlineOverlayOption),e._PowerTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isPowerTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"PowerTrendline"==n.type&&void 0!==n.forecast}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isPowerTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"PowerTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._PowerTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PowerTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="WeightedMovingAverageTrendline",o.__period=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.__period},set:function(t){t=this.validate(t),this.__period!=t&&(this.__period=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,null,!0),t.ValidatorAttribute(t._NumberValidator,!0,null,null,!1,!0)],i.prototype,"period",null),i}(e._TrendlineOverlayOption),e._WeightedMovingAverageTrendlineOverlayOption=i}(t||(t={})),function(t){!function(t){t._isWeightedMovingAverageTrendlineOverlayOption=function(e){if(!t._isTrendlineOverlayOption(e))return!1;var n=e;return"WeightedMovingAverageTrendline"==n.type&&void 0!==n.period}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t._BarCartesianPlotDefinition||e instanceof t._LineCartesianPlotDefinition||e instanceof t._ScatterCartesianPlotDefinition||e instanceof t._AreaCartesianPlotDefinition){if(t.options._isWeightedMovingAverageTrendlineOverlayOption(n)){var o=n;return new t._TrendlineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"WeightedMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t._TrendlineDefinition(e,new t.options._WeightedMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._WeightedMovingAverageTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._builders=function(){return null==i.__builders&&(i.__builders=new i([new t._DefaultWaterfallOverlayDefinitionBuilder],i._pluginType)),i.__builders},i.prototype._convert=function(e){return t._isWaterfallOverlayDefinitionBuilder(e)?e:null},i.prototype._waterfall=function(t,e,n){for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildWaterfallOverlayDefinition(t);if(null!=r)return r}return null},i._pluginType="Waterfall",i}(t._BuildInObjectCollection);t._BuildInWaterfallOverlayDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildWaterfallOverlayDefinition=function(e){return t._isWaterfallPlotDefinition(e)&&e._plotConfigOption.bar.connectorLines?new t._WaterfallConnectLineDefinition(e,e._plotConfigOption.bar.connectorLineStyle):null},e.prototype.queryInterface=function(t){return"IWaterfallOverlayDefinitionBuilder"==t?this:null},e}();t._DefaultWaterfallOverlayDefinitionBuilder=e}(t||(t={})),t||(t={}),function(t){t._isWaterfallOverlayDefinitionBuilder=function(t){return null!=t&&"function"==typeof t._buildWaterfallOverlayDefinition}}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__connectorLineStyle=new e._LineStyleOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"connectorLineStyle",{get:function(){return this.__connectorLineStyle},set:function(t){this.__connectorLineStyle!=t&&(null==t&&(t=new e._LineStyleOption),this.__connectorLineStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"connectorLineStyle",null),r}(e._OverlayOption),e._WaterfallConnectLineOverlayOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isWaterfallPointModel=function(t){return null!=t&&void 0!==t.waterfallType}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._WaterfallConnectLineOverlayView=function(){return this._ownerView},i.prototype._layoutContent=function(t,e){},i.prototype._isNegative=function(t){var e=t._data().queryInterface("INumberStackValue");if(null!=e){var n=e.value,i=e.previous;if(null==n&&(n=0),null==i&&(i=0),n<i)return!1}return!0},i.prototype._xor=function(t,e){return t!==e&&(t||e)},i.prototype._drawLine=function(e,n,i){var o=null,r=null,l=this._overlayGroupView()._getCartesianGroupView(),a=l._horizontalAxisView()._scaleModel._getReversed(),u=l._verticalAxisView()._scaleModel._getReversed();if(n instanceof t._BarXyCartesianPointView&&i instanceof t._BarXyCartesianPointView)if(l._swapAxes()){var s=this._xor(a,this._isNegative(n))?n._rectangle().right:n._rectangle().left;o=new t.core.Point(s,u?n._rectangle().top:n._rectangle().bottom),s=this._xor(a,this._isNegative(i))?i._rectangle().left:i._rectangle().right,r=new t.core.Point(s,u?i._rectangle().bottom:i._rectangle().top)}else{var _=this._xor(u,this._isNegative(n))?n._rectangle().top:n._rectangle().bottom;o=new t.core.Point(a?n._rectangle().right:n._rectangle().left,_),_=this._xor(u,this._isNegative(i))?i._rectangle().bottom:i._rectangle().top,r=new t.core.Point(a?i._rectangle().left:i._rectangle().right,_)}null!=o&&null!=r&&e.drawLine(o.x,o.y,r.x,r.y)},i.prototype._drawView=function(e,n){var i=this,o=this._overlayGroupView()._getCartesianGroupView(),r=o._getCartesianPlotView();if(!n._renderLabel){e.beginTransform();var l=o._getCartesianPlotView()._getClippingRegion();e.drawGroup(null,l,null,(function(e){var n=i._WaterfallConnectLineOverlayView()._waterfallConnectLineOverlayDefinition();t._StyleUtility._applyStyle(e,i._WaterfallConnectLineOverlayView()._getDefaultStyle()),t._OptionUtility._applyLineStyleOption(e,n._option),r._traverseCartesianGroupView((function(t,n){for(var o=0,r=t._getCartesianSeriesViews();o<r.length;o++)for(var l=r[o]._viewportPointViews(),a=l.length,u=0;u<a;u++){var s=l[u],_=u+1===l.length?null:l[u+1];null!=s&&null!=_&&s._isVisible()&&_._isVisible()&&i._drawLine(e,s,_)}}),null)})),e.restoreTransform()}},i}(t._CartesianOverlayItemView);t._WaterfallConnectLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._waterfallConnectLineOverlayDefinition=function(){return this._definition},i.prototype._createOverlayItemView=function(e,n){var i=new t._WaterfallConnectLineOverlayItemView(this,e,n);this._itemViews().push(i)},i.prototype._createDefaultStyle=function(){return t._StyleUtility._buildStrokeStyle(null,"#000000",1)},i.prototype._buildOverlayItemViews=function(){e.prototype._buildOverlayItemViews.call(this);for(var t=0,n=this._getGroupViews();t<n.length;t++){var i=n[t];this._createOverlayItemView(i,"overlayItem")}},i.prototype.useData=function(){},i}(t._CartesianOverlayView);t._WaterfallConnectLineOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),i.prototype._buildOverlayView=function(e){return t._isBarCartesianPlotView(e)?new t._WaterfallConnectLineOverlayView(e,this):null},i}(t._BaseOverlayDefinition);t._WaterfallConnectLineDefinition=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,l,a,u,s){void 0===a&&(a=null),void 0===u&&(u=null),void 0===s&&(s=null);var _=e.call(this,n,i,o,l,null!=a?a:new t._CartesianPlotDataBuilder,null==u?new t._CartesianEncodingsDefinitionBuilder:u,s)||this;return null!=o.encodings&&_._buildEncodings(),_._visualViewOrderComparer=new r(_),_}return n(i,e),i.prototype._isStack=function(){var e=this._detailDefinitions();return!(null==e||e.length<=0)&&t._isStackGroupDetailEncodingDefintion(e[0])},i.prototype._valueDefinitions=function(){return this.__valueDefinitions},i.prototype._detailDefinitions=function(){return this.__detailDefinitions},i.prototype._createEmptyEncodingsDefinition=function(){return new t._CartesianEncodingsDefinition(null,[],[],null,null,null,null,null,[],[])},i.prototype._buildEncodings=function(){var e=this._encodingsDefinition;this.__valueDefinitions=[];var n=e._valueEncodingDefinitions;if(null!=n&&n.length>0)if(null!=e._getCategoryEncodingDefinition())this.__valueDefinitions=n;else{for(var i=[],o=[],r=0,l=n;r<l.length;r++){var a=l[r];t._isXyStyleValueEncodingDefinition(a)?i.push(a):o.push(a)}i.length>0?this.__valueDefinitions=i:this.__valueDefinitions=o}if(this.__detailDefinitions=[],null!=e._detailEncodingDefinitions&&e._detailEncodingDefinitions.length>0)for(var u=0,s=e._detailEncodingDefinitions;u<s.length;u++){var _=s[u];if(t._isSingleDataFieldDetailEncodingDefinition(_)){var p=_;this.__detailDefinitions.push(p)}}},i.prototype._isMirror=function(){return(this._plotConfigOption.axisMode==t.AxisMode.Cartesian||1!=this._plotConfigOption.swapAxes)&&this._encodingsDefinition._detailEncodingDefinitions.filter((function(e){return e._group==t.Group.Mirror})).length>0&&null!=this._encodingsDefinition._getCategoryEncodingDefinition()},i.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return this._isMirror()?e==t.AxisMode.Radial?"MirrorCartesianRadial":e==t.AxisMode.Polygonal?"MirrorCartesianPolygonal":"MirrorCartesianXy":e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},i.prototype._getDataModelType=function(){return"Cartesian"},i}(t._BasePlotDefinition);t._BaseCartesianPlotDefinition=e;var i=function(){function e(){}return e.prototype._compare=function(e,n){if(e==n)return 0;if(t._isCartesianSeriesView(e)&&t._isCartesianPointView(n))return-1;if(t._isCartesianPointView(e)&&t._isCartesianSeriesView(n))return 1;if(t._isCartesianSeriesView(e)&&t._isCartesianSeriesView(n)){var i=e,o=n;return i._isSelected()&&!o._isSelected()?1:!i._isSelected()&&o._isSelected()?-1:i._getCartesianSeriesDataModel()._index()-o._getCartesianSeriesDataModel()._index()}if(e instanceof t._CartesianPointView&&n instanceof t._CartesianPointView){var r=e._data(),l=n._data();return e._isSelected()&&!n._isSelected()?1:!e._isSelected()&&n._isSelected()?-1:r._getSeries()._index()==l._getSeries()._index()?r._getSeries().points().indexOf(r)-l._getSeries().points().indexOf(l):r._getSeries()._index()-l._getSeries()._index()}return 0},e._stackVisualViewOrderComparer=new e,e}(),o=function(){function e(){}return e.prototype._compare=function(e,n){return t._isCartesianSeriesView(e)&&n instanceof t._CartesianPointView?this._compareView(e,n):e instanceof t._CartesianPointView&&t._isCartesianSeriesView(n)?-this._compareView(n,e):t._isCartesianSeriesView(e)&&t._isCartesianSeriesView(n)?this._compareSeriesView(e,n):e instanceof t._CartesianPointView&&n instanceof t._CartesianPointView?this._comparePointView(e,n):0},e.prototype._comparePointView=function(t,e){return t._getCartesianSeriesView()!=e._getCartesianSeriesView()?this._compareSeriesView(t._getCartesianSeriesView(),e._getCartesianSeriesView()):t._isSelected()&&!e._isSelected()?1:!t._isSelected()&&e._isSelected()?-1:t._index()-e._index()},e.prototype._compareSeriesView=function(t,e){return t._isSelected()&&!e._isSelected()?1:!t._isSelected()&&e._isSelected()?-1:t._getCartesianSeriesDataModel()._index()-e._getCartesianSeriesDataModel()._index()},e.prototype._compareView=function(t,e){if(e._getCartesianSeriesView()==t)return-1;var n=this._compareSeriesView(t,e._getCartesianSeriesView());return 0!=n?n:-1},e._clusterVisualViewOrderComparer=new e,e}(),r=function(){function e(e){this.__visualViewOrderComparers=[];var n=e._hoverBehaviorPolicy._visualViewOrderComparer;null!=n&&this.__visualViewOrderComparers.push(n),e._dvConfigOption.selectionMode!=t.SelectionMode.None||e._isStack()?this.__visualViewOrderComparers.push(i._stackVisualViewOrderComparer):this.__visualViewOrderComparers.push(o._clusterVisualViewOrderComparer)}return e.prototype._compare=function(t,e){for(var n=0,i=this.__visualViewOrderComparers;n<i.length;n++){var o=i[n]._compare(t,e);if(0!=o)return o}return 0},e}()}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l){var a=e.call(this,i)||this;return a.__plot=t,a.__group=n,a.__xValue=o,a.__yValues=r,a.__dimValues={},a.__detailPoint=l,a._generateValues(),a._generateItem(),a._isNullOrNaN=!1,a.__waterfallType="Normal",a}return n(i,e),i.prototype._plot=function(){return this.__plot},i.prototype._getSeries=function(){return this.__series},i.prototype._setSeries=function(t){this.__series=t},i.prototype._group=function(){return this.__group},i.prototype._valueDefinition=function(){return this._group()._yValueDefinition()},Object.defineProperty(i.prototype,"xDimensionValue",{get:function(){return this.__xValue},enumerable:!1,configurable:!0}),i.prototype._yValues=function(){return this.__yValues},i.prototype._detailValue=function(){return this.__detailPoint},i.prototype._detail=function(){return null==this.__detailPoint?null:this.__detailPoint._key()},i.prototype._percentageCategory=function(){if(null!=this.xDimensionValue){var t=this._plot()._totalValueByCategoryValue(this);return 0!=t?Math.abs(this._value())/t:0}return null},i.prototype._percentageDetail=function(){if(null!=this._detailValue()){var t=this._plot()._totalValueByDetailsValue(this);return 0!=t?Math.abs(this._value())/t:0}return null},i.prototype._percentagePlot=function(){var t=this._plot()._totalValue(this);return 0!=t?Math.abs(this._value())/t:0},i.prototype._setDimValue=function(t,e){this.__dimValues[t]=e},i.prototype._getDimValue=function(t){return this.__dimValues[t]},i.prototype._setWaterfallPointType=function(t){this.__waterfallType=t},i.prototype._getWaterfallPointType=function(){return this.__waterfallType},i.prototype._resetLayout=function(){this.__dimValues={}},i.prototype._onFilteredChanged=function(t){var e=this._group()._x(),n=this._group()._y();this._addOrDeleteDimensionValue(e,this.__xValue,t);for(var i=0,o=this._yValues();i<o.length;i++){var r=o[i];this._addOrDeleteDimensionValue(n,r,t)}},i.prototype._addOrDeleteDimensionValue=function(e,n,i){if(t.models._isLinearDimension(e)){var o=e;i?t._isValueModifiableDimension(o)&&o._removeValue(n)&&this._resetLinearDimensionMinMax(o):(t._isValueModifiableDimension(o)&&o._addValue(n),this._resetLinearDimensionMinMax(o))}},i.prototype._resetLinearDimensionMinMax=function(t){t._setMin(null),t._setMax(null)},i.prototype._generateValues=function(){},i.prototype._generateItem=function(){if(null!=this.__xValue){var e=this._plot()._cartesianPlotDefinition(),n=e._valueDefinitions(),i=e._encodingsDefinition._getCartesianCategoryEncodingDefinition();if(null!=i){var o=i._hierarchicalGroupingDefinitions[0]._dataFieldDefinition._dataField._name;this._item()[o]=this.__xValue.rawValue}else if(null!=n&&0!=n.length)for(var r=0,l=n;r<l.length;r++){var a=l[r];if(t._isXyStyleValueEncodingDefinition(a)){var u=a._getXFieldEncodingDefinition();null!=u&&(this._item()[u._getXDataFieldDefinition()._dataField._name]=this.__xValue.rawValue)}}}},Object.defineProperty(i.prototype,"key",{get:function(){return this._detail()},enumerable:!1,configurable:!0}),i}(t._PointDataModel);t._ValuePointDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,l)||this;return a.__plot=e,a.__seriesList=[],a.__points=[],a.__x=n,a.__y=i,a.__xDefinition=o,a.__valueDefinition=r,a}return n(e,t),e.prototype._plot=function(){return this.__plot},e.prototype._seriesList=function(){return this.__seriesList},e.prototype._filteredSeriesList=function(){return this.__seriesList.filter((function(t){return!t._filtered}))},e.prototype._points=function(){return this.__points},e.prototype._x=function(){return this.__x},e.prototype._y=function(){return this.__y},e.prototype._xValueDefinition=function(){return null==this.__xDefinition?null:this.__xDefinition},e.prototype._yValueDefinition=function(){return this.__valueDefinition},e.prototype.queryInterface=function(t){return null},e}(t._DataModel);t._CartesianGroupDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u){var s=t.call(this,e,n,i,o,r,l)||this;return s._mirrorGroup=null,s.__mirrorDetailValue=a,s.__isForwardDirection=u,s}return n(e,t),e.prototype._mirrorDimension=function(){return this.__mirrorDetailValue},e.prototype._isForwardDirection=function(){return this.__isForwardDirection},e}(t._CartesianGroupDataModel);t._CartesianMirrorGroupDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.___groups=[],i.___seriesList=[],i.___points=[],i.__totalValue={},i.__totalValueByDetails={},i.__totalValueByCategory={},i}return n(i,e),i.prototype._cartesianPlotDefinition=function(){return this._definition()},i.prototype._points=function(){for(var t=[],e=0,n=this._groups();e<n.length;e++)for(var i=0,o=n[e]._seriesList();i<o.length;i++)for(var r=0,l=o[i].points();r<l.length;r++){var a=l[r];null!=a&&t.push(a)}return t},i.prototype._groups=function(){return this.___groups},i.prototype._seriesList=function(){return this.___seriesList},i.prototype._createGroup=function(e,n,i,o,r){return new t._CartesianGroupDataModel(this,e,n,i,o,r)},i.prototype._createSeries=function(e,n,i){return new t._CartesianSeriesDataModel(this,e,n,i)},i.prototype._totalValue=function(t){var e=this._groups().indexOf(t._group());if(null==this.__totalValue[e]){this.__totalValue[e]=0;for(var n=0,i=this._points();n<i.length;n++){var o=i[n];o._group()==t._group()&&(this.__totalValue[e]=this.__totalValue[e]+Math.abs(o._value()))}}return this.__totalValue[e]},i.prototype._totalValueByDetailsValue=function(e){var n=this._groups().indexOf(e._group());null==this.__totalValueByDetails[n]&&(this.__totalValueByDetails[n]={});var i=this.__totalValueByDetails[n],o=e._detailValue(),r=-1;if(null!=o)for(var l=0;l<this._seriesList().length;l++){var a=this._seriesList()[l];if(null!=a._detailValue()&&t._DetailValueEqualityComparer._detailValueEqualityComparer._equalsWith(o,a._detailValue())){r=l;break}}if(null==i[r]){i[r]=0;for(var u=0,s=this._points();u<s.length;u++){var _=s[u];(null!=_._detailValue()&&null!=o&&t._DetailValueEqualityComparer._detailValueEqualityComparer._equalsWith(_._detailValue(),o)||null==_._detailValue()&&null==o)&&(i[r]=i[r]+Math.abs(_._value()))}}return i[r]},i.prototype._totalValueByCategoryValue=function(e){var n=this._groups().indexOf(e._group());null==this.__totalValueByCategory[n]&&(this.__totalValueByCategory[n]={});var i=this.__totalValueByCategory[n],o=e._group()._x(),r=e.xDimensionValue,l=o._dimensionValues().indexOf(r);if(null==i[l]){i[l]=0;for(var a=0,u=this._points();a<u.length;a++){var s=u[a];e._group()==s._group()&&(s.xDimensionValue==r||s.xDimensionValue instanceof t.models._ZeroDimensionValue&&r instanceof t.models._ZeroDimensionValue)&&(i[l]=i[l]+Math.abs(s._value()))}}return i[l]},i.prototype._createXDimension=function(e,n){var i=new t.models._DimensionBuilder,o=this._definition()._axisOptions.filter((function(e){return e.type==t.AxisType.X})),r=this._cartesianPlotDefinition()._detailDefinitions();return i.build(e,r,o.length>0?o[0]:null,n)},i.prototype._createYDimension=function(e,n){var i=new t.models._DimensionBuilder,o=this._definition()._axisOptions.filter((function(e){return e.type==t.AxisType.Y})),r=this._cartesianPlotDefinition()._detailDefinitions();return i.build(e,r,o.length>0?o[0]:null,n)},i.prototype._excludeNullsFilterSeriesList=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e],o=i._detailValue();if(null!=o&&0==i._points().length)i._filtered=!0;else if(null!=o&&o._definition()._excludeNulls&&i._isNulls()){i._filtered=!0;for(var r=0,l=i.points();r<l.length;r++)l[r]._filtered=!0}}},i.prototype._canCreatePoint=function(t,e){return null!=t&&e.length>0},i.prototype._createPoint=function(e,n,i,o,r){if(!this._canCreatePoint(i,o))return null;var l=e._yValueDefinition();if(null!=l){if(null!=(t._isRangeValueEncodingDefinition(l)?l:null)){var a=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition()._pluginCollection);return new t._RangeValuePointDataModel(this,e,n,i,o,r,a)}if(null!=(t._isAggregateValueEncodingDefinition(l)?l:null))return new t._XyValuePointDataModel(this,e,n,i,o,r);if(null!=(t._isXyValueEncodingDefinition(l)?l:null))return new t._XyValuePointDataModel(this,e,n,i,o,r)}return null},i}(t._PlotDataModel);t._CartesianPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,o)||this;return r.__group=n,r.__detailValue=i,r.__points=[],r.__seriesStyle=r._findSeriesStyle(t._definition()._plotConfigOption.seriesStyles),r}return n(i,e),i.prototype._points=function(){return this.points()},i.prototype.points=function(){return this.__points},i.prototype.plot=function(){return e.prototype._plot.call(this)},i.prototype._valueDefinition=function(){return this._group()._yValueDefinition()},i.prototype._detailValue=function(){return this.__detailValue},i.prototype._group=function(){return this.__group},i.prototype._detail=function(){return null==this.__detailValue?null:this.__detailValue._key()},i.prototype._index=function(){if(null==this.__index)for(var t=this.plot()._seriesList(),e=0;e<t.length;e++)if(t[e]==this){this.__index=e;break}return this.__index},i.prototype._isNulls=function(){for(var t=0,e=this.points();t<e.length;t++)if(null!=e[t]._value())return!1;return!0},i.prototype._containsNull=function(){for(var t=0,e=this.points();t<e.length;t++)if(null==e[t]._value())return!0;return!1},i.prototype._seriesStyle=function(){return this.__seriesStyle},i.prototype._findSeriesStyle=function(e){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(null!=this._valueDefinition()&&this._valueDefinition()._getIdentifier()==o.valueField&&null!=this._detailValue()&&t._OptionUtility._isDataEqualsConfigData(this._detailValue()._key(),o.key))return t.options._SeriesStyleOptionCloneMarker._seriesStyleOptionCloneMarker._cloneOf(o)}return null},i.prototype._getGradientColorScale=function(){return this.__gradientColorScale},i.prototype._setGradientColorScale=function(t){this.__gradientColorScale=t},i.prototype._symbols=function(){var t=this._plot()._definition()._plotConfigOption.symbols,e=this._seriesStyle();return null!=e&&null!=e.symbols&&(t=e.symbols),t},Object.defineProperty(i.prototype,"key",{get:function(){return null!=this.__detailValue?this.__detailValue._key():null},enumerable:!1,configurable:!0}),i}(t._SeriesDataModel);t._CartesianSeriesDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o._categoryEncodingDefinition=i,o._categoryDimension=null,o._categoryModels=[],o}return n(i,e),Object.defineProperty(i.prototype,"categoryModels",{get:function(){return this._categoryModels},enumerable:!1,configurable:!0}),i.prototype._findMirrorDetailEncodingDefinition=function(){var e=this._cartesianPlotDefinition()._detailDefinitions().filter((function(e){return e._group==t.Group.Mirror}));return e.length>0?e[0]:null},i.prototype._createCartesianGroupDataModels=function(t,e){var n=this._createXDimension(this._categoryEncodingDefinition,t);this._categoryDimension=n;var i=e._valueDefinitions(),o=this._findMirrorDetailEncodingDefinition();return null!=o?this._createMirrorCartesianGroupDataModels(t,o,i,this._categoryEncodingDefinition,n):this._createDefaultCartesianGroupDataModels(t,i,this._categoryEncodingDefinition,n)},i.prototype._createDefaultCartesianGroupDataModels=function(t,e,n,i){for(var o=[],r=0,l=e;r<l.length;r++){var a=l[r],u=this._createYDimension(a,this._dataSlices);o.push(this._createGroup(i,u,n,a,t))}return o},i.prototype._createMirrorCartesianGroupDataModels=function(e,n,i,o,r){for(var l=this._queryMirrorGroupings(e,n),a=[],u=new t._DetailValue(n,l.length>0?l[0].key:null),s=new t._DetailValue(n,l.length>1?l[1].key:null),_=0,p=i;_<p.length;_++){var c=p[_],h=this._createMirrorCartesianGroupDataModel(l.length>0?l[0]._dataSlices:e._dataSource._slice(0,0),u,o,c,r,!1),f=this._createMirrorCartesianGroupDataModel(l.length>1?l[1]._dataSlices:e._dataSource._slice(0,0),s,o,c,r,!0);h._mirrorGroup=f,f._mirrorGroup=h,a.push(h),a.push(f)}return a},i.prototype._createMirrorCartesianGroupDataModel=function(e,n,i,o,r,l){var a=this._createYDimension(o,e);return new t._CartesianMirrorGroupDataModel(this,r,a,i,o,e,n,l)},i.prototype._initialize=function(){var t,e=this._createCartesianGroupDataModels(this._dataSlices,this._cartesianPlotDefinition());this._createGroupSeriesList(e),this.___groups=e,this.___points=this._createPoints(e),this.___seriesList=[];for(var n=0,i=e;n<i.length;n++){var o=i[n];this._relevanceSeriesList(this.___points,o._seriesList()),this._excludeNullsFilterSeriesList(o._seriesList()),(t=this.___seriesList).push.apply(t,o._filteredSeriesList())}},i.prototype._createCategoryModels=function(){for(var e=this._cartesianPlotDefinition()._getEncodingsDefinition()._getCategoryEncodingDefinition(),n=e._hierarchicalGroupingDefinitions.slice(),i=new t._DataSlicesSorter(e._dataSliceSortDefinition,n[0]._dataFieldDefinition)._sort(this._dataSlices),o=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(i,null),r=[],l=0,a=n.reverse();l<a.length;l++){var u=a[l];r.push(new t.QueryGroupByOption(new t._GroupingDefinition(u._dataFieldDefinition,e._sortDefinition,u._filter)))}var s=o.groupBy(r).query().groups,_=[];return t._TreeNodeUtility._traverseGrouping(s,null,0,(function(e,n,i){var o=new t._DimensionValueGroup(n.key,n._dataSlices,e);return null!=e?e.children.push(o):_.push(o),o})),_},i.prototype._createGroupSeriesList=function(e){var n=this,i=this._cartesianPlotDefinition()._detailDefinitions().filter((function(e){return e._group!=t.Group.Mirror}));if(null!=i&&i.length>0){var o=i[0],r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(this._dataSlices,null),l=[];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(o._dataFieldDefinition,o._sortDefinition)));var a=r.groupBy(l).query().groups;t._TreeNodeUtility._traverseDFS(a,(function(i,r){for(var l=0,a=e;l<a.length;l++){var u=a[l],s=n._createSeries(u,new t._DetailValue(o,i.key),i._dataSlices);u._seriesList().push(s)}}))}else for(var u=0,s=e;u<s.length;u++){var _=s[u],p=this._createSeries(_,null,_._dataSlices);null!=p&&_._seriesList().push(p)}},i.prototype._relevanceSeriesList=function(e,n){for(var i=0,o=e;i<o.length;i++)for(var r=o[i],l=0,a=n;l<a.length;l++){var u=a[l];r._group()==u._group()&&(null!=r._detailValue()&&null!=u._detailValue()&&t._DetailValueEqualityComparer._detailValueEqualityComparer._equalsWith(r._detailValue(),u._detailValue())||null==r._detailValue()&&null==u._detailValue())&&(u.points().push(r),r._setSeries(u))}},i.prototype._createPoints=function(e){var n=this,i=this._cartesianPlotDefinition()._detailDefinitions().filter((function(e){return e._group!=t.Group.Mirror})),o=[];t._TreeNodeUtility._traverseDFS(this._categoryDimension._dimensionValueGroups(),(function(t,e){0==t.children.length&&o.push(t)}));for(var r=[],l=function(e){var l=e._y(),u=!!t._isCartesianMirrorGroupDataModel(e),s=e._yValueDefinition(),_=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(s);if(null==_)return"continue";for(var p=function(o){var p,c=u?t._DataSlicesUtility._intersection(o._dataSlices,e._dataSlices):o._dataSlices,h=o._dimensionValues().length>0?o._dimensionValues()[0]:null,f=[];if(null!=i&&i.length>0)for(var d=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(c,null),y=function(i){var o=[];o.push(new t.QueryGroupByOption(new t._GroupingDefinition(i._dataFieldDefinition,i._sortDefinition)));var r=d.groupBy(o).query().groups;t._TreeNodeUtility._traverseDFS(r,(function(o,r){var a=_._buildDimensionValues(o._dataSlices,l,s),u=n._createPoint(e,o._dataSlices,h,a,new t._DetailValue(i,o.key));null!=u&&f.push(u)}))},g=0,m=i;g<m.length;g++)y(m[g]);else{var v=_._buildDimensionValues(c,l,s),w=a._createPoint(e,c,h,v,null);null!=w&&f.push(w)}r.push.apply(r,f),(p=e._points()).push.apply(p,f)},c=0,h=o;c<h.length;c++)p(h[c])},a=this,u=0,s=e;u<s.length;u++)l(s[u]);return r},i.prototype._addNullDataPointModels=function(){if(null!=this._categoryDimension&&t._isDataFieldDimension(this._categoryDimension))for(var e=0,n=this._groups();e<n.length;e++)for(var i=n[e],o=0,r=i._seriesList();o<r.length;o++){var l=r[o],a=i._x()._dimensionValues(),u=i._y();if(!t._isOrdinalDimension(u))for(var s=0;s<a.length;++s){var _=l.points();if(s>=_.length||s<_.length&&(null==_[s]||_[s].xDimensionValue!==a[s])){var p=this._addNullDataPoint(i,a[s],u,l._detailValue());null!=p&&(p._setSeries(l),_.splice(s,0,p))}}}},i.prototype._addNullDataPoint=function(e,n,i,o){var r=[];r.push(new t._DimensionValue(null));var l=e._yValueDefinition();null!=l&&null!=(t._isRangeValueEncodingDefinition(l)?l:null)&&r.push(new t._DimensionValue(null));for(var a=t._isValueModifiableDimension(i),u=0,s=r;u<s.length;u++){var _=s[u];if(!a)throw new t.RuntimeError(t.ErrorCode.MethodNotImplemented);i._addValue(_)}return this._createPoint(e,this._dataSlices._dataSource._slice(0,0),n,r,o)},i.prototype._queryMirrorGroupings=function(e,n){var i=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),o=[];return o.push(new t.QueryGroupByOption(new t._GroupingDefinition(n._dataFieldDefinition,n._sortDefinition))),i.groupBy(o).query().groups},i}(t._CartesianPlotDataModel);t._CartesianCategoryPlotDataModel=e}(t||(t={})),function(t){t._isCartesianCategoryPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._addNullDataPointModels&&void 0!==e.categoryModels}}(t||(t={})),function(t){t._isCartesianGroupDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._x&&"function"==typeof e._y&&"function"==typeof e._seriesList&&"function"==typeof e._filteredSeriesList&&"function"==typeof e._points&&"function"==typeof e._yValueDefinition}}(t||(t={})),t||(t={}),function(t){t._isCartesianMirrorGroupDataModel=function(t){var e=t;return null!=e&&void 0!==e._mirrorGroup&&"function"==typeof e._mirrorDimension&&"function"==typeof e._isForwardDirection}}(t||(t={})),t||(t={}),function(t){t._isCartesianPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._seriesList&&"function"==typeof e._cartesianPlotDefinition&&"function"==typeof e._groups&&"function"==typeof e._totalValueByCategoryValue&&"function"==typeof e._totalValueByDetailsValue&&"function"==typeof e._totalValue&&"function"==typeof e._createPoint}}(t||(t={})),function(t){t._isCartesianPointDataModel=function(t){var e=t;return null!=e&&void 0!==e.xDimensionValue&&void 0!==e._isNullOrNaN&&"function"==typeof e._value&&"function"==typeof e._valueDefinition&&"function"==typeof e._group&&"function"==typeof e._detail&&"function"==typeof e._detailValue&&"function"==typeof e._setSeries&&"function"==typeof e._setDimValue&&"function"==typeof e._percentageCategory&&"function"==typeof e._percentageDetail&&"function"==typeof e._percentagePlot&&"function"==typeof e._plot&&"function"==typeof e._resetLayout}}(t||(t={})),t||(t={}),function(t){t._isCartesianSeriesDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._valueDefinition&&"function"==typeof e._detailValue&&"function"==typeof e._getGradientColorScale&&"function"==typeof e._setGradientColorScale&&"function"==typeof e._seriesStyle&&"function"==typeof e._detail&&"function"==typeof e.points&&"function"==typeof e._group&&"function"==typeof e._index&&"function"==typeof e._isNulls&&"function"==typeof e.plot&&"function"==typeof e._symbols}}(t||(t={})),t||(t={}),function(t){t._isRangeValuePointDataModel=function(t){var e=t;return null!=e&&void 0!==e.upperDimensionValue&&void 0!==e.lowerDimensionValue&&void 0!==e.lower&&void 0!==e.upper}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i,o,r,l,a){var u=e.call(this,t,n,i,o,r,l)||this;return u.__stringFormatting=a,u}return n(i,e),Object.defineProperty(i.prototype,"upperDimensionValue",{get:function(){return this.__upperDimensionValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lowerDimensionValue",{get:function(){return this.__lowerDimensionValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lower",{get:function(){return this.__lowerDimensionValue.rawValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"upper",{get:function(){return this.__upperDimensionValue.rawValue},enumerable:!1,configurable:!0}),i.prototype._value=function(){return(null==this.__upper?0:this.__upper)-(null==this.__lower?0:this.__lower)},i.prototype._getLower=function(){return this.__lower},i.prototype._setLower=function(t){this.__lower=t,null!=this.__lowerDimensionValue&&this.__lowerDimensionValue._updatevalue(t)},i.prototype._displayLower=function(){var t=this._getDimValue("previous");return null!=t?t:this._getLower()},i.prototype._getUpper=function(){return this.__upper},i.prototype._setUpper=function(t){this.__upper=t,null!=this.__upperDimensionValue&&this.__upperDimensionValue._updatevalue(t)},i.prototype._displayUpper=function(){var t=this._getDimValue("percentage");if(null!=t)return t;var e=this._getDimValue("stack");if(null!=e)return e;var n=this._getDimValue("cluster");return null!=n?n:this._getUpper()},i.prototype._setDimValue=function(t,n){e.prototype._setDimValue.call(this,t,n),"cluster"==t||"stack"==t||"percentage"==t?null!=this.__upperDimensionValue&&this.__upperDimensionValue._updatevalue(n):"previous"==t&&null!=this.__lowerDimensionValue&&this.__lowerDimensionValue._updatevalue(n)},i.prototype._generateValues=function(){e.prototype._generateValues.call(this),this._yValues().length>1?(this.__lowerDimensionValue=this._yValues()[0],this.__upperDimensionValue=this._yValues()[1],this.__lower=this.__lowerDimensionValue._value(),this.__upper=this.__upperDimensionValue._value()):(this.__lowerDimensionValue=null,this.__upperDimensionValue=null,this.__lower=null,this.__upper=null)},i.prototype._generateItem=function(){e.prototype._generateItem.call(this);var n=this._group()._yValueDefinition();if(null!=n){var i=t._isRangeValueEncodingDefinition(n)?n:null;if(null!=i){var o=this._item();o[i._lowerFieldDefinition._dataField._name]=this.__lowerDimensionValue.rawValue,o[i._upperFieldDefinition._dataField._name]=this.__upperDimensionValue.rawValue}}},i.prototype.queryInterface=function(n){return"INumberStackValue"==n?new t.models._NumberStackValueInfo(this._displayUpper(),this._displayLower()):"INumberRangeValue"==n?new t.models._NumberRangeValueInfo(this._getLower(),this._getUpper(),this.__stringFormatting):e.prototype.queryInterface.call(this,n)},i}(t._ValuePointDataModel);t._RangeValuePointDataModel=e}(t||(t={})),function(t){t._isXyValuePointDataModel=function(t){return null!=t&&void 0!==t.yDimensionValue}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._value=function(){return this.__value},Object.defineProperty(i.prototype,"yDimensionValue",{get:function(){return this.__yDimensionValue},enumerable:!1,configurable:!0}),i.prototype._getYValue=function(){return this.__value},i.prototype._setYValue=function(t){this.__value=t,null!=this.__yDimensionValue&&this.__yDimensionValue._updatevalue(t)},i.prototype._displayValue=function(){var t=this._getDimValue("percentage");if(null!=t)return t;var e=this._getDimValue("stack");if(null!=e)return e;var n=this._getDimValue("cluster");return null!=n?n:this._getYValue()},i.prototype._setDimValue=function(t,n){e.prototype._setDimValue.call(this,t,n),"cluster"!=t&&"stack"!=t&&"percentage"!=t||null!=this.__yDimensionValue&&this.__yDimensionValue._updatevalue(n)},i.prototype._generateValues=function(){e.prototype._generateValues.call(this),this._yValues().length>0?(this.__yDimensionValue=this._yValues()[0],this.__value=this.__yDimensionValue._value()):(this.__yDimensionValue=null,this.__value=null)},i.prototype._generateItem=function(){e.prototype._generateItem.call(this);var n=this._group()._yValueDefinition();if(null!=n&&null!=this.__yDimensionValue){var i=null;(t._isAggregateValueEncodingDefinition(n)||t._isXyValueEncodingDefinition(n))&&(i=n._getDataFieldDefinition()._dataField._name),this._item()[i]=this.__yDimensionValue.rawValue}},i.prototype.queryInterface=function(n){return"INumberStackValue"==n?new t.models._NumberStackValueInfo(this._displayValue(),this._getDimValue("previous")):"INumberValue"==n?new t.models._NumberValueInfo(this._getYValue()):e.prototype.queryInterface.call(this,n)},i}(t._ValuePointDataModel);t._XyValuePointDataModel=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createGroups=function(){for(var t=[],e=this._cartesianPlotDefinition()._valueDefinitions(),n=this._createXDimension(null,this._dataSlices),i=0,o=e;i<o.length;i++){var r=o[i],l=this._createYDimension(r,this._dataSlices);t.push(this._createGroup(n,l,null,r,this._dataSlices))}return t},i.prototype._initialize=function(){var t,e=this._createGroups();this._createGroupSeriesList(e),this.___groups=e,this.___points=this._createPoints(e),this.___seriesList=[];for(var n=0,i=e;n<i.length;n++){var o=i[n];this._excludeNullsFilterSeriesList(o._seriesList()),(t=this.___seriesList).push.apply(t,o._filteredSeriesList())}},i.prototype._createGroupSeriesList=function(e){var n=this,i=this._cartesianPlotDefinition()._detailDefinitions().filter((function(e){return e._group!=t.Group.Mirror}));if(null!=i&&i.length>0){var o=i[0],r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(this._dataSlices,null),l=[];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(o._dataFieldDefinition,o._sortDefinition)));var a=r.groupBy(l).query().groups;t._TreeNodeUtility._traverseDFS(a,(function(i,r){for(var l=0,a=e;l<a.length;l++){var u=a[l],s=n._createSeries(u,new t._DetailValue(o,i.key),i._dataSlices);u._seriesList().push(s)}}))}else for(var u=0,s=e;u<s.length;u++){var _=s[u],p=this._createSeries(_,null,_._dataSlices);null!=p&&_._seriesList().push(p)}},i.prototype._createPoints=function(e){for(var n=this,i=[],o=function(e){var o=e._y(),l=e._filteredSeriesList(),a=e._yValueDefinition(),u=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(a);if(null==u)return"continue";for(var s=new t.models._ZeroDimensionValue,_=function(l){var _=!1;if(t._isAggregateValueEncodingDefinition(a)&&a._getAggregate()==t.Aggregate.List&&(_=!0),_)l._dataSlices.forEach((function(t){var r=u._buildDimensionValues(t,o,a),_=n._createPoint(e,t,s,r,l._detailValue());null!=_&&(i.push(_),_._setSeries(l),l.points().push(_),e._points().push(_))}));else{var p=u._buildDimensionValues(l._dataSlices,o,a),c=r._createPoint(e,l._dataSlices,s,p,l._detailValue());null!=c&&(i.push(c),c._setSeries(l),l.points().push(c),e._points().push(c))}},p=0,c=l;p<c.length;p++)_(c[p])},r=this,l=0,a=e;l<a.length;l++)o(a[l]);return i},i}(t._CartesianPlotDataModel);t._CartesianSingleValuePlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createGroups=function(){for(var t=[],e=0,n=this._cartesianPlotDefinition()._valueDefinitions();e<n.length;e++){var i=n[e],o=this._getXFieldDimensionDefinition(i),r=this._createXDimension(o,this._dataSlices),l=this._createYDimension(i,this._dataSlices);t.push(this._createGroup(r,l,o,i,this._dataSlices))}return t},i.prototype._initialize=function(){var t,e=this._createGroups();this._createGroupSeriesList(e),this.___groups=e,this.___points=this._createPoints(e),this.___seriesList=[];for(var n=0,i=e;n<i.length;n++){var o=i[n];this._excludeNullsFilterSeriesList(o._seriesList()),(t=this.___seriesList).push.apply(t,o._filteredSeriesList())}},i.prototype._createGroupSeriesList=function(e){var n=this,i=this._cartesianPlotDefinition()._detailDefinitions().filter((function(e){return e._group!=t.Group.Mirror}));if(null!=i&&i.length>0){var o=i[0],r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(this._dataSlices,null),l=[];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(o._dataFieldDefinition,o._sortDefinition)));var a=r.groupBy(l).query().groups;t._TreeNodeUtility._traverseDFS(a,(function(i,r){for(var l=0,a=e;l<a.length;l++){var u=a[l],s=n._createSeries(u,new t._DetailValue(o,i.key),i._dataSlices);u._seriesList().push(s)}}))}else for(var u=0,s=e;u<s.length;u++){var _=s[u],p=this._createSeries(_,null,_._dataSlices);null!=p&&_._seriesList().push(p)}},i.prototype._createPoints=function(e){for(var n=this,i=[],o=function(e){var o=e._x(),r=e._y(),l=e._filteredSeriesList(),a=e._xValueDefinition(),u=e._yValueDefinition(),s=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(u);if(null==s)return"continue";if(t._isXFieldEncodingDefinition(a)){var _=a,p=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(_);if(null==p)return"continue";for(var c=function(t){t._dataSlices.forEach((function(l){var a=p._buildDimensionValues(l,o,_);if(1==a.length){var c=s._buildDimensionValues(l,r,u),h=n._createPoint(e,l,a[0],c,t._detailValue());null!=h&&(h._setSeries(t),i.push(h),t.points().push(h),e._points().push(h))}}))},h=0,f=l;h<f.length;h++)c(f[h])}},r=0,l=e;r<l.length;r++)o(l[r]);return i},i.prototype._getXFieldDimensionDefinition=function(e){return t._isXyStyleValueEncodingDefinition(e)?e._getXFieldEncodingDefinition():null},i}(t._CartesianPlotDataModel);t._CartesianXyPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u,s,_){var p=t.call(this,e,o,r,l,a,u,s,_)||this;return p._detailEncodingDefinitions=n,p._valueEncodingDefinitions=i,p}return n(e,t),e.prototype._getCartesianCategoryEncodingDefinition=function(){return this._categoryEncodingDefinition},e._emptyEncodingsDefinition=new e(null,[],[],null,null,null,null,null,[],[]),e}(t._EncodingsDefinition);t._CartesianEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=null);var o=e.call(this)||this;return o._adopter=new t.models.CartesianLegendAdopter,o._categoryEncodingDefinitionBuilder=null==n?t._CartesianCategoryEncodingDefinitionBuilder._categoryEncodingDefinitionBuilder:n,o._detailEncodingDefinitionListBuilder=null==i?t._CartesianDetailEncodingDefinitionListBuilder._detailEncodingDefinitionListBuilder:i,o}return n(i,e),i.prototype._buildEncodingDefinitions=function(t,n,i){i._categoryEncodingDefinition=null==this._categoryEncodingDefinitionBuilder?null:this._categoryEncodingDefinitionBuilder._buildCategoryEncodingDefinition(t,n.category),i._detailEncodingDefinitions=this._createDetailEncodingDefinitions(t,n.details,i),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},i.prototype._createEncodingsDefinitionContext=function(){return new t._CartesianEncodingsDefinitionContext},i.prototype._createEncodingsDefinition=function(e){return new t._CartesianEncodingsDefinition(e._categoryEncodingDefinition,e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},i.prototype._createValueEncodingDefinitions=function(t,e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createValueEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},i.prototype._createValueEncodingDefinition=function(e,n,i){var o=null;return null==i._categoryEncodingDefinition&&null!=(o=t._XyValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n))||null!=(o=new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n))||null!=(o=t._NumberRangeValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n))||null!=(o=t._DateRangeValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n))?o:null},i.prototype._createDetailEncodingDefinitions=function(t,e,n){return this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,e)},i.prototype._createColorLegendEncodingDefinition=function(n,i,o){var r=e.prototype._createColorLegendEncodingDefinition.call(this,n,i,o);return null!=r?r:new t._EmptyLegendDefinition(n,t.LegendType.Color,new t.models._CartesianEmptyColorLegendBuilder(n))},i}(t._EncodingsDefinitionBuilder);t._CartesianEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return n(e,t),e}(t._EncodingsDefinitionContext);t._CartesianEncodingsDefinitionContext=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){var l=t.call(this,e,n,i,o,r)||this;return l.__identifier=null,l}return n(e,t),e.prototype._getIdentifier=function(){if(null==this.__identifier){var t=this._dataFieldDefinitions.map((function(t){return t._dataField._name}));this.__identifier=t.join("-")}return this.__identifier},e.prototype._getExcludeNullsFilter=function(){return null},e.prototype._getLabel=function(){return this._dataFieldDefinitions[0]._label},e}(t._HierarchicalCategoryEncodingDefinition);t._CartesianCategoryEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCategoryEncodingDefinition=function(e,n){if(null==n.field)return null;var i=t._HierarchicalDataFieldDefinitionListBuilder._dataFieldDefinitionListBuilder._buildHierarchicalDataFieldDefinitionList(n,e._dataSchema);if(i.length>0){var o=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(n.sort,e._dataSchema,i[0]._dataField._name),r=null,l=null;return n.onlySortBeforeGrouping?(l=o,r=null):(r=o,l=null),new t._CartesianCategoryEncodingDefinition(e,i,n.excludeNulls,r,l)}return null},e._categoryEncodingDefinitionBuilder=new e,e}();t._CartesianCategoryEncodingDefinitionBuilder=e}(t||(t={})),function(t){t._isCartesianCategoryEncodingDefinition=function(e){return null!=e&&t._isHierarchicalCategoryEncodingDefinition(e)}}(t||(t={})),function(t){var e=function(e){function i(){return e.call(this,[t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0)||this}return n(i,e),i.prototype._buildDetailEncodingDefinitions=function(e,n){var i=[];if(null!=n&&n.length>0)for(var o=0,r=n;o<r.length;o++){var l=r[o],a=this._buildDetailEncodingDefinition(e,l);if(null!=a&&t._isSingleDataFieldDetailEncodingDefinition(a)){var u=a;t._isClusterGroupDetailEncodingDefintion(u)||t._isStackGroupDetailEncodingDefintion(u)?i.some((function(e){return t._isClusterGroupDetailEncodingDefintion(e)||t._isStackGroupDetailEncodingDefintion(e)}))||i.push(u):t._isMirrorGroupDetailEncodingDefintion(u)?i.some((function(e){return t._isMirrorGroupDetailEncodingDefintion(e)}))||i.unshift(u):i.push(u)}}return i},i._detailEncodingDefinitionListBuilder=new i,i}(t._DetailEncodingDefinitionListBuilder);t._CartesianDetailEncodingDefinitionListBuilder=e}(t||(t={})),t||(t={}),function(t){t._isCartesianEncodingsDefinitionContext=function(t){var e=t;return null==e?null:void 0!==e._categoryEncodingDefinition&&void 0!==e._detailEncodingDefinitions&&void 0!==e._valueEncodingDefinitions}}(t||(t={})),function(t){t._isCartesianPlotDefinition=function(t){var e=t;return void 0!==e._detailDefinitions&&void 0!==e._valueDefinitions}}(t||(t={})),function(t){var e=function(){function t(){}return t._toCartesianSeriesModel=function(t){return null!=t.queryInterface("ICartesianSeriesModel")?t:null},t._toCartesianPointModel=function(t){return null!=t.queryInterface("ICartesianPointModel")?t:null},t}();t._CartesianPlotViewModelUtility=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i._dataModel=n,i._seriesViews=i._createCartesianSeriesViews(n),i}return n(i,e),i.prototype._axisMode=function(){return this._ownerView._getDefinition()._plotConfigOption.axisMode},i.prototype._createCartesianSeriesViews=function(t){for(var e=[],n=0,i=t._filteredSeriesList();n<i.length;n++){var o=i[n],r=this._createCartesianSeriesView(o);null!=r&&e.push(r)}return e},i.prototype._horizontalAxisView=function(){return this.___horizontalAxisView},i.prototype._verticalAxisView=function(){return this.___verticalAxisView},i.prototype._xAxisView=function(){return this._ownerView._swapAxes()?this._verticalAxisView():this._horizontalAxisView()},i.prototype._yAxisView=function(){return this._ownerView._swapAxes()?this._horizontalAxisView():this._verticalAxisView()},i.prototype._getXOffset=function(){return this._ownerView._getXOffset()},i.prototype._getYOffset=function(){return this._ownerView._getYOffset()},i.prototype._swapAxes=function(){return this._ownerView._swapAxes()},i.prototype._reversed=function(){return this._ownerView._reversed()},i.prototype._cx=function(){return this._ownerView._cx()},i.prototype._cy=function(){return this._ownerView._cy()},i.prototype._isPercentage=function(){return this._ownerView._isPercentage()},i.prototype._isStack=function(){return this._ownerView._isStack()},i.prototype._attachCoordinateSystem=function(e){var n=this._ownerView._getLayoutView()._coordinateSystemView(this._ownerView._getDefinition().coordinateSystemDefinition);if(null!=n&&t._isCartesianCoordinateSystemView(n)){var i=n,o=t._Util.find(e,(function(e){return e.type==t.AxisType.X})),r=t._Util.find(e,(function(e){return e.type==t.AxisType.Y}));if(null==o)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);if(null==r)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);var l=this._getCartesianPlotView()._getDefinition(),a=t._isCartesianMirrorGroupDataModel(this._dataModel)?this._dataModel._isForwardDirection():null,u=i._attachAxisView(o,l,a),s=i._attachAxisView(r,l,a);null!=u&&(u._getDefinition()._orientation==t.Orientation.Horizontal?this.___horizontalAxisView=u:u._getDefinition()._orientation==t.Orientation.Vertical&&(this.___verticalAxisView=u)),null!=s&&(s._getDefinition()._orientation==t.Orientation.Horizontal?this.___horizontalAxisView=s:s._getDefinition()._orientation==t.Orientation.Vertical&&(this.___verticalAxisView=s));var _=this._swapAxes(),p=_?this._dataModel._y():this._dataModel._x(),c=_?this._dataModel._x():this._dataModel._y();if(null!=this.___horizontalAxisView)if(t._isCartesianMirrorGroupDataModel(this._dataModel)&&this._axisMode()==t.AxisMode.Cartesian){var h=this._dataModel,f=_?h._mirrorGroup._y():h._mirrorGroup._x();(d=this.___horizontalAxisView)._applyDimension(this,p),d._setIsForwardDirection(h._isForwardDirection()),d._applyDimension(this._getCartesianGroupView(h._mirrorGroup),f)}else this.___horizontalAxisView._applyDimension(this,p);if(null!=this.___verticalAxisView)if(t._isCartesianMirrorGroupDataModel(this._dataModel)&&this._axisMode()!=t.AxisMode.Cartesian&&!_){h=this._dataModel;var d,y=_?h._mirrorGroup._x():h._mirrorGroup._y();null!=(d=this.___verticalAxisView)&&(d._applyDimension(this,c),d._setIsForwardDirection(h._isForwardDirection()),d._applyDimension(this._getCartesianGroupView(h._mirrorGroup),y))}else this.___verticalAxisView._applyDimension(this,c)}},i.prototype._getCartesianGroupView=function(t){if(t==this._dataModel)return this;for(var e=0,n=this._ownerView._getCartesianGroupViews();e<n.length;e++){var i=n[e];if(i._getCartesianGroupDataModel()==t)return i}return null},i.prototype._getYValue=function(e){var n=null,i=null,o=e.queryInterface("INumberStackValue");return null!=o?(n=o.previous,i=o.value,new t._YValueRange(n,i)):new t._YValueRange(n,i)},i.prototype._getXValue=function(e){var n=this._xAxisView();if(null!=n&&t._isTimeAxisScale(n._scaleModel._scale)){var i=e.xDimensionValue.rawValue;if(null!=i&&i instanceof Date)return n._scaleModel._getActualValue(i.valueOf())}return e.xDimensionValue._value()},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._layoutContent=function(t,e,n){this._layoutSeriesViews(t,e,n)},i.prototype._layoutSeriesViews=function(t,e,n){for(var i=this._ownerView._visualViews,o=0,r=this._seriesViews;o<r.length;o++){var l=r[o];i.indexOf(l)<0&&i.push(l),l._layout(t,e,n)}},i.prototype._initAxis=function(){var e=this._horizontalAxisView(),n=this._verticalAxisView();t._isPolygonalAxisView(e)&&e._setOtherAxisView(n);var i=this._xAxisView(),o=this._yAxisView();this._axisMode()!=t.AxisMode.Polygonal&&this._axisMode()!=t.AxisMode.Radial||(i._setStartAngleDegree(this._ownerView._startAngle()),i._sweep=this._ownerView._sweep()*Math.PI/180,i._innerRadius=this._ownerView._innerRadius(),o._setStartAngleDegree(this._ownerView._startAngle()),o._sweep=this._ownerView._sweep()*Math.PI/180,o._innerRadius=this._ownerView._innerRadius()),this._initAxisDomainPadding();var r=null!=i?i._scaleModel._maximum:null,l=null!=i?i._scaleModel._minimum:null,a=null!=o?o._scaleModel._maximum:null,u=null!=o?o._scaleModel._minimum:null;this._clippingPointViews(l,r,u,a)},i.prototype._initAxisDomainPadding=function(){var t=this._xAxisView(),e=t._scaleModel._getDomainPadding();null!=e&&this._ownerView._xMinPadding()>e[0]&&(e[0]=this._ownerView._xMinPadding()),null!=e&&this._ownerView._xMaxPadding()>e[1]&&(e[1]=this._ownerView._xMaxPadding()),null!=e&&t._scaleModel._setDomainPadding(e)},i.prototype._clippingPointViews=function(e,n,i,o){for(var r=0,l=this._seriesViews;r<l.length;r++)for(var a=0,u=l[r]._getPointViews();a<u.length;a++){var s=u[a];if(t._isCartesianPointView(s)){var _=s;this._resetOutOfRangeFlag(_);var p=_._data(),c=_._yValues(),h=c.length>0?c[0]:null,f=c.length>1?c[1]:null;if(null!=f&&!isNaN(f)&&(null!=o&&f>o||null!=i&&f<i))_.valueIsOutOfAxesRange=!0;else if(null!=h&&!isNaN(h)&&(null!=o&&h>o||null!=i&&h<i))_.valueIsOutOfAxesRange=!0;else{var d=this._getXValue(p);null!=d&&!isNaN(d)&&(null!=n&&d>n||null!=e&&d<e)&&(_.valueIsOutOfAxesRange=!0)}}}},i.prototype._resetOutOfRangeFlag=function(t){t.valueIsOutOfAxesRange=!1},i.prototype._getCartesianGroupDataModel=function(){return this._dataModel},i.prototype._getCartesianPlotView=function(){return this._ownerView},i.prototype._getCartesianSeriesViewCount=function(){return this._seriesViews.length},i.prototype._traverseCartesianSeriesView=function(t,e){for(var n=0,i=this._seriesViews;n<i.length;n++)t(i[n],e)},i.prototype._hasSelectedPointView=function(){for(var t=0,e=this._seriesViews;t<e.length;t++)if(e[t]._hasSelectedPointView())return!0;return!1},i.prototype._getCartesianSeriesViews=function(){return this._seriesViews},i}(t._BaseView);t._BaseCartesianGroupView=e}(t||(t={})),function(t){t._isCartesianGroupView=function(t){var e=t;return null!=e&&"function"==typeof e._getCartesianGroupDataModel&&"function"==typeof e._getXOffset&&"function"==typeof e._getYOffset&&"function"==typeof e._swapAxes&&"function"==typeof e._reversed&&"function"==typeof e._cx&&"function"==typeof e._cy&&"function"==typeof e._isPercentage&&"function"==typeof e._isStack&&"function"==typeof e._getCartesianPlotView&&"function"==typeof e._getCartesianSeriesViews&&"function"==typeof e._xAxisView&&"function"==typeof e._yAxisView&&"function"==typeof e._attachCoordinateSystem&&"function"==typeof e._getYValue&&"function"==typeof e._getXValue&&"function"==typeof e._initAxis&&"function"==typeof e._horizontalAxisView&&"function"==typeof e._verticalAxisView}}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,o)||this;return r.__minDistanceCalc=!1,r.__stringFormatting=null,r._pointViews=[],r._visualViews=[],r.__minDistanceInDimensionValues=null,r.__baseLineValue=null,r.__xOffset=null,r.__yOffset=null,r._addNullDataPointModels(),r._processDataPointModels(),r._groupViews=r._createCartesianGroupViews(o),r._pointViewLayouter=t._BuildInPointViewLayoutBuilderCollection._defaultBuildInPointViewLayoutBuilders()._viewLayout(r,r._getDefinition()._plotConfigOption.plugins,r._getDefinition()._pluginCollection),r._createPointViews(),r}return n(i,e),i.prototype._getClippingMode=function(){return this._definition._plotConfigOption.clippingMode},i.prototype._createCartesianGroupViews=function(t){for(var e=[],n=0,i=t._groups();n<i.length;n++){var o=i[n],r=this._createCartesianGroupView(o);null!=r&&e.push(r)}return e},i.prototype._cartesianCoordinateSystemView=function(){return this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition)},i.prototype._getDataLabelsRender=function(){return new t._CartesianDataLabelsRender(this)},i.prototype._axisMode=function(){return this._definition._plotConfigOption.axisMode},i.prototype._getXOffset=function(){if(null==this.__xOffset){var t=this._definition._plotConfigOption.offset;if(t.length>0&&null!=t[0]){var e=t[0].value;e>1?e=1:e<-1&&(e=-1),this.__xOffset=e}}return this.__xOffset},i.prototype._getYOffset=function(){if(null==this.__yOffset){var t=this._definition._plotConfigOption.offset;t.length>1&&null!=t[1]&&(this.__yOffset=t[1].value)}return this.__yOffset},i.prototype._xMinPadding=function(){return this._xPadding()},i.prototype._xMaxPadding=function(){return this._xPadding()},i.prototype._xPadding=function(){return 0},i.prototype._swapAxes=function(){return this._definition._plotConfigOption.swapAxes},i.prototype._reversed=function(){return this._yAxisView()._scaleModel._getReversed()},i.prototype._minDistanceInDimensionValues=function(){return null!=this.__minDistanceInDimensionValues||this.__minDistanceCalc||(this.__minDistanceInDimensionValues=this._calculateMinDistanceInValues(),this.__minDistanceCalc=!0),this.__minDistanceInDimensionValues},i.prototype._yOrigin=function(){var t=this._xAxisView(),e=this._yAxisView(),n=t._getDefinition()._option.origin,i=0,o=e._scaleModel._scale,r=null!=o?o._valueRange():null,l=null!=r?r._min:null,a=null!=r?r._max:null;return null!=n&&n>=(null==l?0:l)&&n<=(null==a?0:a)?i=n:null!=a&&a<0?i=a:null!=l&&l>0&&(i=l),i},i.prototype._xOrigin=function(){var t=this._xAxisView(),e=this._yAxisView()._getDefinition()._option.origin,n=0,i=t._scaleModel._scale,o=null!=i?i._valueRange():null,r=null!=o?o._min:null,l=null!=o?o._max:null;return null!=e&&e>=(null==r?0:r)&&e<=(null==l?0:l)?n=e:null!=l&&l<0?n=l:null!=r&&r>0&&(n=r),n},i.prototype._getBaseLineValue=function(){if(null!=this.__baseLineValue)return this.__baseLineValue;var t=this._yAxisView(),e=0;if(this._isPercentage()||this._isStack()){var n=t._scaleModel._scale._valueRange();e=null!=n._max&&n._max<0?n._max:null!=n._min&&n._min>0?n._min:0}else e=this._yOrigin();return this.__baseLineValue=e,this.__baseLineValue},i.prototype._xAxisDirection=function(t,e){void 0===e&&(e=null);var n=this._xAxisView()._scaleModel._getReversed(),i=this._xPositive(t,e);return n&&(i=!i),i?1:-1},i.prototype._yAxisDirection=function(t,e){void 0===e&&(e=null);var n=this._yAxisView()._scaleModel._getReversed(),i=this._yPositive(t,e);return n&&(i=!i),i?1:-1},i.prototype._yPositive=function(t,e){var n=!0,i=this._getBaseLineValue(),o=e;if(null==o){var r=t._data().queryInterface("INumberStackValue");null!=r&&(o=r.value)}return(null==o?0:o)<i&&(n=!1),n},i.prototype._xPositive=function(t,e){void 0===e&&(e=null);var n=!0,i=this._xOrigin();return(null!=e?e:t._getXPos())<i&&(n=!1),n},i.prototype._attachCoordinateSystem=function(e){for(var n=0,i=this._groupViews;n<i.length;n++){var o=i[n];o._attachCoordinateSystem(e),this.__horizontalAxisView=o._horizontalAxisView(),this.__verticalAxisView=o._verticalAxisView()}var r=this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition);if(null!=r&&t._isCartesianCoordinateSystemView(r)){var l=r,a=t._Util.find(e,(function(e){return e.type==t.AxisType.X})),u=t._Util.find(e,(function(e){return e.type==t.AxisType.Y}));if(null==a)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);if(null==u)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);var s=this._swapAxes()?u:a,_=this._swapAxes()?a:u;null==this.__horizontalAxisView&&(this.__horizontalAxisView=l._attachAxisView(s,this._getDefinition())),null==this.__verticalAxisView&&(this.__verticalAxisView=l._attachAxisView(_,this._getDefinition()))}},i.prototype._addNullDataPointModels=function(){t._isCartesianCategoryPlotDataModel(this._dataModel)&&this._dataModel._addNullDataPointModels()},i.prototype._processDataPointModels=function(){for(var e=this._showNulls(),n=this._showNaNs(),i=0,o=this._dataModel._groups();i<o.length;i++)for(var r=0,l=o[i]._seriesList();r<l.length;r++)for(var a=0,u=l[r].points();a<u.length;a++){var s=u[a];if(s instanceof t._XyValuePointDataModel){var _=s._getYValue();null==_&&(e==t.ShowNulls.Zeros?s._setYValue(0):s._isNullOrNaN=!0),isNaN(_)&&(n==t.ShowNulls.Zeros?s._setYValue(0):s._isNullOrNaN=!0)}else if(s instanceof t._RangeValuePointDataModel){var p=s._getUpper();null==p&&(e==t.ShowNulls.Zeros?s._setUpper(0):s._isNullOrNaN=!0),isNaN(p)&&(n==t.ShowNulls.Zeros?s._setUpper(0):s._isNullOrNaN=!0);var c=s._getLower();null==c&&(e==t.ShowNulls.Zeros?s._setLower(0):s._isNullOrNaN=!0),isNaN(c)&&(n==t.ShowNulls.Zeros?s._setLower(0):s._isNullOrNaN=!0)}}},i.prototype._createPointViews=function(){for(var t=0,e=this._groupViews;t<e.length;t++)for(var n=0,i=e[t]._getCartesianSeriesViews();n<i.length;n++)for(var o=i[n],r=0,l=o._getCartesianSeriesDataModel().points();r<l.length;r++){var a=l[r],u=this._createCartesianPointView(o,a);null!=u&&(this._pointViews.push(u),u._setIndex(o._getPointViews().length),o._getPointViews().push(u))}},i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this._visualViews.length=0,this.__baseLineValue=null,this._layoutGroupViews(t,n,i)},i.prototype._getLayoutShapes=function(){var e=[];if(this._isAxisClipping())return e;for(var n=0,i=this._getOverlayViews();n<i.length;n++){var o=i[n].queryInterface("IBoxBounded");if(null!=o){var r=o.box();e.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(r))}}return e},i.prototype._actionConditionalFormat=function(){(new t.models._CartesianConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},i.prototype._beforeAttachCoordinateSystem=function(){e.prototype._beforeAttachCoordinateSystem.call(this),this._layoutStack()},i.prototype._afterAttachCoordinateSystem=function(){this._isPercentage()&&this._layoutPercentage(),e.prototype._afterAttachCoordinateSystem.call(this),this._applyOverlayDimension(),this._expandAxis()},i.prototype._isExpandAxis=function(e){return this._axisMode()==t.AxisMode.Polygonal||this._axisMode()==t.AxisMode.Radial},i.prototype._expandAxis=function(){var t=this._verticalAxisView();null!=t&&t._setExpand(this._isExpandAxis(t))},i.prototype._applyOverlayDimension=function(){for(var e=this._xAxisView(),n=this._yAxisView(),i=0,o=this._getOverlayViews();i<o.length;i++){var r=o[i];if(t._isOverlayRangeBuilder(r)&&null!=r){var l=r.buildRangePolicy();if(null!=l){var a=l.getOverlayRange();if(null!=a){var u=a.minX,s=a.maxX,_=a.minY,p=a.maxY,c=new t.models._OverlayDimension(u,s);null!=e&&e._applyDimension(r,c);var h=new t.models._OverlayDimension(_,p);null!=n&&n._applyDimension(r,h)}}}}},i.prototype._getPlotLayout=function(){var e=this._definition._plotConfigOption.plugins,n=this._definition._pluginCollection;return t._BuildInCartesianPlotLayoutBuilderCollection.defaultBuildInCartesianPlotLayoutBuilders()._cartesianPlotLayout(this,e,n)},i.prototype._layoutStack=function(){this._getPlotLayout()._layout(this)},i.prototype._layoutPercentage=function(){this._getPlotLayout()._percentagewise(this)},i.prototype._layoutGroupViews=function(t,e,n){for(var i=0,o=this._groupViews;i<o.length;i++)o[i]._layout(t,e,n)},i.prototype._showNulls=function(){return this._definition._plotConfigOption.showNulls},i.prototype._showNaNs=function(){return this._definition._plotConfigOption.showNaNs},i.prototype._innerRadius=function(){var t=this._definition._plotConfigOption.innerRadius;return null!=t?t:0},i.prototype._sweep=function(){return this._definition._plotConfigOption.sweep},i.prototype._startAngle=function(){return this._definition._plotConfigOption.startAngle},i.prototype._calculateMinDistanceInValues=function(){var e=this._xAxisView();if(null!=e){var n=e._scaleModel._getBaseValue();if(null!=n)return n}for(var i=[],o=0,r=this._getCartesianPlotDataModel()._groups();o<r.length;o++){var l=r[o];if(!t._isOrdinalDimension(l._x()))for(var a=0,u=l._seriesList();a<u.length;a++)for(var s=0,_=u[a].points();s<_.length;s++){var p=_[s],c=this._getXValue(p);if(null!=c){var h=c;i.indexOf(h)<0&&i.push(h)}}}i.sort((function(t,e){return t-e}));for(var f=null,d=0;d<i.length-1;d++){var y=Math.abs(i[d+1]-i[d]);(null==f||f>y)&&(f=y)}return f},i.prototype._getYValue=function(e){var n=null,i=null,o=e.queryInterface("INumberStackValue");return null!=o?(n=o.previous,i=o.value,new t._YValueRange(n,i)):new t._YValueRange(n,i)},i.prototype._getXValue=function(e){var n=this._xAxisView();if(null!=n&&t._isTimeAxisScale(n._scaleModel._scale)){var i=e.xDimensionValue.rawValue;if(null!=i&&i instanceof Date)return n._scaleModel._getActualValue(i.valueOf())}return e.xDimensionValue._value()},i.prototype._horizontalAxisView=function(){return this.__horizontalAxisView},i.prototype._verticalAxisView=function(){return this.__verticalAxisView},i.prototype._xAxisView=function(){return this._swapAxes()?this._verticalAxisView():this._horizontalAxisView()},i.prototype._yAxisView=function(){return this._swapAxes()?this._horizontalAxisView():this._verticalAxisView()},i.prototype._getCenter=function(){return this.__center},i.prototype._setCenter=function(t){this.__center=t},i.prototype._cx=function(){return this._axisMode()!=t.AxisMode.Polygonal&&this._axisMode()!=t.AxisMode.Radial||null==this._getCenter()?this._rectangle().left+this._rectangle().width/2:this._getCenter().x},i.prototype._cy=function(){return this._axisMode()!=t.AxisMode.Polygonal&&this._axisMode()!=t.AxisMode.Radial||null==this._getCenter()?this._rectangle().top+this._rectangle().height/2:this._getCenter().y},i.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;var o=!0;if(this._getClippingMode()==t.ClippingMode.Clip||this._isAxisClipping())if(this._axisMode()==t.AxisMode.Cartesian){var r=this._getCartesianOutlineRectangle();o=null!=r&&r.contains(e)}else{var l=this._getRadialOutlinePath();o=(new t._PathUtil).contain(l,e.x,e.y)}if(o)for(var a=this._visualViews.length-1;a>=0;--a){var u=this._visualViews[a]._hitTest(e,n,i);if(null!=u)return u}return null},i.prototype._applyOverlayRangePadding=function(t){for(var e=this._xAxisView()._scaleModel._getRangePadding(),n=this._yAxisView()._scaleModel._getRangePadding(),i=0,o=this._getOverlayViews();i<o.length;i++){var r=o[i].queryInterface("IAxialPaddingConsumer");if(null!=r){r._preparePadding(t);var l=r._xRangePadding();null!=l&&(e[0]=Math.min(e[0],l[0]),e[1]=Math.max(e[1],l[1])),null!=(l=r._yRangePadding())&&(n[0]=Math.min(n[0],l[0]),n[1]=Math.max(n[1],l[1]))}}this._xAxisView()._scaleModel._setRangePadding(e),this._yAxisView()._scaleModel._setRangePadding(n)},i.prototype._initAxis=function(){for(var t=0,e=this._groupViews;t<e.length;t++)e[t]._initAxis()},i.prototype._initAxisScale=function(t){var e=this._xAxisView(),n=this._yAxisView();e._scaleModel._setRangePadding([0,0]),n._scaleModel._setRangePadding([0,0]),this._applyOverlayRangePadding(t),this._analysisFitRangePadding()},i.prototype._analysisFitRangePadding=function(){if(this._axisMode()==t.AxisMode.Cartesian&&this._getClippingMode()==t.ClippingMode.Fit){var e=this._xAxisView(),n=this._yAxisView(),i=e._scaleModel._getDomainPadding(),o=e._scaleModel._getReversed(),r=n._scaleModel._getReversed();e._scaleModel._setDomainPadding([0,0]),e._scaleModel._setReversed(!1),n._scaleModel._setReversed(!1);var l=e._scaleModel._getRange(),a=n._scaleModel._getRange(),u=l.slice(),s=a.slice();this._swapAxes()&&(l.reverse(),a.reverse(),e._scaleModel._setRange(l),n._scaleModel._setRange(a));for(var _,p=e._scaleModel._scale._valueRange(),c=n._scaleModel._scale._valueRange(),h=null==p._max?0:p._max,f=null==p._min?0:p._min,d=null==c._max?0:c._max,y=null==c._min?0:c._min,g=h-f,m=d-y,v=0,w=0,b=0,P=0,S=NaN,C=NaN,V=NaN,x=NaN,D=NaN,O=NaN,A=NaN,L=NaN,T=0,M=0,E=0,I=0,B=0,R=this._pointViews;B<R.length;B++){var k=R[B];if(!k.valueIsOutOfAxesRange){var N=k._data(),F=k.size,U=k._getStyleSymbolSize(),z=.5*(F=null==F?U:U*F);if(l[0]!==l[1]){var j=null==this._getXValue(N)?0:this._getXValue(N),W=null==e._scaleModel._value(j)?0:e._scaleModel._value(j),G=j-f,H=h-j,q=W-l[0],J=l[1]-W;z-q>T&&(S=G,D=z,T=z-q),z-J>M&&(C=H,O=z,M=z-J)}var X=NaN,Y=NaN,Z=NaN,K=NaN;if(a[0]!==a[1])if(N instanceof t._XyValuePointDataModel){var Q=null==N._displayValue()?0:N._displayValue(),$=null==(tt=n._scaleModel._value(N._displayValue()))?0:tt;X=Q-y,Y=d-Q,Z=a[0]-$,K=$-a[1]}else if(N instanceof t._RangeValuePointDataModel){var tt;$=null==(tt=n._scaleModel._value(Math.max(N._displayLower(),N._displayUpper())))?0:tt,X=Math.max(N._displayLower(),N._displayUpper())-y,Y=d-Math.max(N._displayLower(),N._displayUpper()),Z=a[0]-$,K=$-a[1]}z-Z>E&&(V=X,A=z,E=z-Z),z-K>I&&(x=Y,L=z,I=z-K)}}if(0!=T&&0!=M)(et=(g*D*(g-C)-((_=Math.abs(l[1]-l[0]))*(g-C)-g*O+_*C)*S)/((g-S)*(g-C)-S*C))>v&&(v=et),(et=(g*O*(g-S)-(_*(g-S)-g*D+_*S)*C)/((g-S)*(g-C)-S*C))>w&&(w=et);else if(0!=T)(et=D-Math.abs(l[1]-l[0])*S/g)>v&&(v=et);else if(0!=M){var et;(et=O-Math.abs(l[1]-l[0])*C/g)>w&&(w=et)}if(0!=E&&0!=I)(nt=(m*A*(m-x)-((_=Math.abs(a[0]-a[1]))*(m-x)-m*L+_*x)*V)/((m-V)*(m-x)-V*x))>b&&(b=nt),(nt=(m*L*(m-V)-(_*(m-V)-m*A+_*V)*x)/((m-V)*(m-x)-V*x))>P&&(P=nt);else if(0!=E)(nt=A-Math.abs(a[0]-a[1])*V/m)>b&&(b=nt);else if(0!=I){var nt;(nt=L-Math.abs(a[0]-a[1])*x/m)>P&&(P=nt)}var it=e._scaleModel._getRangePadding();null!=it&&v>it[0]&&(it[0]=v),null!=it&&w>it[1]&&(it[1]=w),e._scaleModel._setRangePadding(it);var ot=n._scaleModel._getRangePadding();null!=ot&&b>ot[0]&&(ot[0]=b),null!=ot&&P>ot[1]&&(ot[1]=P),n._scaleModel._setRangePadding(ot),e._scaleModel._setDomainPadding(i),e._scaleModel._setReversed(o),n._scaleModel._setReversed(r),e._scaleModel._setRange(u),n._scaleModel._setRange(s)}},i.prototype._getClippingRegion=function(){return this._getClipping()},i.prototype._getOutlineRectangle=function(){if(!this._isAxisClipping())return null;if(this._axisMode()==t.AxisMode.Cartesian)return this._getCartesianOutlineRectangle();var e=this._getRadialOutlinePath();return null!=e?t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(e):null},i.prototype._getCartesianOutlineRectangle=function(){for(var e=null,n=0,i=this._groupViews;n<i.length;n++){var o=i[n],r=o._horizontalAxisView(),l=o._verticalAxisView(),a=new t.core.Rect(r._rectangle().left,l._rectangle().top,r._rectangle().width,l._rectangle().height);e=null!=e?t._RectangleUtility._unionOfRectangles(a,e):a}return this._getClippingMode()!=t.ClippingMode.Clip?this._getModifiedOutlineRectangle(e):e},i.prototype._getRadialOutlinePath=function(){var e=this._horizontalAxisView();if(t._isRadialAxisView(e)){var n=e,i=n._innerRadius*n._radius,o=n._radius,r=n._startAngle(),l=n._sweep,a=n._cx,u=n._cy;return t._PathBuilder._defaultPathBuilder._buildDonutSegment(a,u,o,i,r,l)}return null},i.prototype._getModifiedOutlineRectangle=function(e){for(var n=this._rectangle(),i=0,o=this._pointViews;i<o.length;i++){var r=o[i];if(r._isVisible()){var l=r._getOutlineRectangle();!r.valueIsOutOfAxesRange&&l.intersectsWith(n)&&(e=t._RectangleUtility._unionOfRectangles(e,l))}}return e},i.prototype._isAxisClipping=function(){var e=this._horizontalAxisView(),n=this._verticalAxisView(),i=!1;null==e||null==e._getDefinition()._option.max&&null==e._getDefinition()._option.min||(i=!0),null==n||null==n._getDefinition()._option.max&&null==n._getDefinition()._option.min||(i=!0);for(var o=!1,r=0,l=this._pointViews;r<l.length;r++){var a=l[r];if(a._dataScaleFilteredType==t._DataScaleFilteredType.FilterIn&&(i=!0),a.valueIsOutOfAxesRange&&(o=!0),i&&o)return!0}return o&&i},i.prototype._getClipping=function(){var e=null;if(this._getClippingMode()==t.ClippingMode.Clip||this._isAxisClipping())if(this._axisMode()==t.AxisMode.Cartesian){var n=this._getCartesianOutlineRectangle();null!=n&&(e=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(n.left,n.top,n.width,n.height))}else{var i=this._getRadialOutlinePath();e=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(i)}return e},i.prototype._drawView=function(t,e){this._displayablePipeLine._flush(t,e)},i.prototype._draw=function(t,e){for(var n=this,i=0,o=this._groupViews;i<o.length;i++)for(var r=0,l=o[i]._getCartesianSeriesViews();r<l.length;r++)l[r]._renderBackground(t,e);for(var a=0,u=this._pointViews;a<u.length;a++)u[a]._renderBackground(t,e);var s=this._visualViews;s.sort((function(t,e){return n._definition._visualViewOrderComparer._compare(t,e)}));for(var _=0;_<s.length;++_)s[_]._render(t,e)},i.prototype.queryInterface=function(t){return"ICartesianPlotModel"==t?this:e.prototype.queryInterface.call(this,t)},i.prototype._isPercentage=function(){var e=this._yAxisView();return null!=e&&null!=e._getDefinition()._option.scale&&e._getDefinition()._option.scale.type==t.ValueScaleType.Percentage},i.prototype._isStack=function(){return this._definition._isStack()},i.prototype._stringFormatting=function(){return null==this.__stringFormatting&&(this.__stringFormatting=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._pluginCollection)),this.__stringFormatting},i.prototype._getCartesianPlotDefinition=function(){return this._definition},i.prototype._getCartesianPlotDataModel=function(){return this._dataModel},i.prototype._traverseCartesianGroupView=function(t,e){for(var n=0,i=this._groupViews;n<i.length;n++)t(i[n],e)},i.prototype._getCartesianGroupViews=function(){return this._groupViews},i.prototype.showSymbol=function(){return t._NativeExtension._toNonNullBoolean(this._definition._plotConfigOption.symbols,!1)},i.prototype._getPointViews=function(){return this._pointViews},i.prototype._hasSelectedPointView=function(){for(var t=0,e=this._groupViews;t<e.length;t++)if(e[t]._hasSelectedPointView())return!0;return!1},Object.defineProperty(i.prototype,"seriesList",{get:function(){for(var e=[],n=0,i=this._groupViews;n<i.length;n++)for(var o=0,r=i[n]._getCartesianSeriesViews();o<r.length;o++){var l=r[o],a=t._CartesianPlotViewModelUtility._toCartesianSeriesModel(l);null!=a&&e.push(a)}return e},enumerable:!1,configurable:!0}),i}(t._BasePlotView);t._BaseCartesianPlotView=e}(t||(t={})),function(t){var e=function(){function t(){}return t._calculateSeriesViewCount=function(t){var e=new n;return t._traverseCartesianGroupView((function(t,e){e._seriesViewCount+=t._getCartesianSeriesViewCount()}),e),e._seriesViewCount},t}();t._CartesianPlotViewUtility=e;var n=function(){this._seriesViewCount=0}}(t||(t={})),function(t){t._isCartesianPlotView=function(t){var e=t;return null!=e&&void 0!==e._visualViews&&"function"==typeof e._getXOffset&&"function"==typeof e._getYOffset&&"function"==typeof e._xMinPadding&&"function"==typeof e._xMaxPadding&&"function"==typeof e._swapAxes&&"function"==typeof e._reversed&&"function"==typeof e._minDistanceInDimensionValues&&"function"==typeof e._getCartesianPlotDefinition&&"function"==typeof e._getBaseLineValue&&"function"==typeof e._xAxisDirection&&"function"==typeof e._yAxisDirection&&"function"==typeof e._yPositive&&"function"==typeof e._getLayoutShapes&&"function"==typeof e._showNulls&&"function"==typeof e._showNaNs&&"function"==typeof e._innerRadius&&"function"==typeof e._sweep&&"function"==typeof e._startAngle&&"function"==typeof e._getYValue&&"function"==typeof e._getXValue&&"function"==typeof e._setCenter&&"function"==typeof e._cx&&"function"==typeof e._cy&&"function"==typeof e._initAxis&&"function"==typeof e._initAxisScale&&"function"==typeof e._getOutlineRectangle&&"function"==typeof e._isPercentage&&"function"==typeof e._isStack&&"function"==typeof e._stringFormatting&&"function"==typeof e.showSymbol}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isCartesianPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._calculateColor=function(t){var e=t.color;return null==e&&(e=t._getCartesianSeriesView().color),null==e&&(e=t._getPlotView()._getDefinition()._paletteColorProvider._defaultColor()),e},i}(t._PointColorBuilder);t._CartesianPointColorBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.call(this,n,null==i?new t._CartesianPointColorBuilder:i)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isCartesianPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._applyDataPointStyle=function(e,n){t._OptionUtility._applyStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style),this._applyDataPointStyleOption(e,n._getPlotView()._getDefinition()._plotConfigOption.style),this._applyDataPointStyleOption(e,n._data()._getSeries()._seriesStyle()),this._applyDataPointStyleOption(e,n._getCartesianSeriesView()._internalStyle()),this._applyDataPointStyleOption(e,n._internalStyle())},i}(t._PointStyleBuilder);t._CartesianPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,null==o?new t._CartesianPointStyleBuilder:o)||this;return r.__overlayItemViews=[],r.valueIsOutOfAxesRange=!1,r.__index=-1,r._dataScaleFilteredType=null,r.__offset=null,r}return n(i,e),i.prototype._getCartesianPlotView=function(){return this._getCartesianGroupView()._getCartesianPlotView()},i.prototype._getCartesianGroupView=function(){return this._getCartesianSeriesView()._getCartesianGroupView()},i.prototype._createIdentityContent=function(){var e=this._data(),n="",i=e.xDimensionValue;if(t._isOrdinalDimensionValue(i))for(var o=i._hierarchicalKeys,r=o.length,l=0;l<r;l++)null!=o[l]&&(n+=o[l].toString(),l<r-1&&(n+="-"));else n+=this._getCartesianPlotView()._getPointViews().indexOf(this).toString();if(null!=this._getCartesianGroupView()){var a=this._getCartesianGroupView()._getCartesianGroupDataModel();t._isCartesianMirrorGroupDataModel(a)&&(n+=a._mirrorDimension()._key())}n+=e.xDimensionValue.rawValue,n+=e._detail();var u=e._valueDefinition();if(n+=u._getIdentifier(),t._isAggregateValueEncodingDefinition(u)){var s=u._getAggregate();null!=s&&(n+=t._CastExtension.toAggregateString(s))}else if(t._isXyValueEncodingDefinition(u)){var _=u;n+=t._CastExtension.toAggregateString(_._getAggregate())}return t._Util.HashCode(n)},i.prototype._index=function(){return this.__index},i.prototype._setIndex=function(t){this.__index=t},Object.defineProperty(i.prototype,"text",{get:function(){return null==this.__textOption&&(this.__textOption=this._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(this._getPlotView()._dataPointDataLabelOption())),this.__textOption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!1,configurable:!0}),i.prototype._createDataLabelContent=function(){var e=this._data()._plot()._cartesianPlotDefinition()._encodingsDefinition._textEncodingDefinitions,n=null;if(null!=e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e)),null==n||""==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.models._CartesianDataLabelTextProxy(this,e,this._getCartesianPlotView()._stringFormatting()),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,u=i.evaluate(o,r,l,a),s=this._toLines(u);return null!=s&&s.length>0?new t.models._DataLabelContent(s,this):null},i.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},i.prototype._defaultDataLabelTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("; ")},i.prototype._createTooltipHtmlContent=function(e){var n=this._data()._plot()._cartesianPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions,i=null;null!=n&&n.length>0&&null==(i=this._customTooltipTemplate(e))&&(i=this._defaultTooltipTemplate(n));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t.models._CartesianTextProxy(this,n,this._getCartesianPlotView()._stringFormatting()),a=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,s=o.evaluate(r,l,a,u);return this._toHtml(s)},i.prototype._customTooltipTemplate=function(t){return null!=t&&"DataPoint"==t.scope&&null!=t.template&&t.template.length>0?t.template:null},i.prototype._defaultTooltipTemplate=function(e){var n=[],i=[],o=this._getCartesianPlotView()._getCartesianPlotDefinition()._encodingsDefinition._getCartesianCategoryEncodingDefinition();null!=o&&(n.push("{xField.name}: {xField.value}"),i.push(o._hierarchicalGroupingDefinitions[0]._dataFieldDefinition._dataField._name));var r=this._data()._detailValue();null!=r&&(n.push("{detailFields.name}: {detailFields.value}"),i.push(r._definition()._dataFieldDefinition._dataField._name));for(var l=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},a=0,u=e;a<u.length;a++)l(u[a]);return n.join("\n")},i.prototype._createStyleModel=function(){var e=new t.models._DataPointStyleOptionModel(this._getDefinition()._plotConfigOption.style),n=this._data()._getSeries();return e._merge(n._seriesStyle()),e},i.prototype._getXPos=function(){return null==this.__xPos?this._data().xDimensionValue._value():this.__xPos},i.prototype._setXPos=function(t){this.__xPos=t},i.prototype._overlayItemViews=function(){return this.__overlayItemViews},i.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianPointViewRectangleAttachmentAgent(this))},i.prototype._reversed=function(){return this._getPlotView()._reversed()},i.prototype._tracker=function(){for(var t=[],e=0,n=this._getDefinition()._plotConfigOption.trackers;e<n.length;e++){var i=n[e],o=this._getTrackerWithOption(i);null!=o&&t.push(o)}return t},i.prototype._getTrackerWithOption=function(e){if(e.type==t.TrackerType.Area);else if(e.type==t.TrackerType.CrossY){var n=this._getCartesianGroupView(),i=n._xAxisView();if(t._isLineAxisView(i)){var o=i,r=new t.core.Point(0,0),l=new t.core.Point(0,0);if(n._swapAxes()){var a=this._rectangle().top+this._rectangle().height/2;r=new t.core.Point(o._plotRect().left,a),l=new t.core.Point(o._plotRect().right,a)}else{var u=this._rectangle().left+this._rectangle().width/2;r=new t.core.Point(u,o._plotRect().top),l=new t.core.Point(u,o._plotRect().bottom)}return new t.models._CartesianTrackLine(e,r,l,this._rectangle())}}return null},i.prototype._queryRelatedViewModel=function(e,n){var i=new t.core.Point(e,n);return this.contains(i)?this:null},i.prototype._shape=function(){return new t._RectangleShape(this._rectangle().center.x,this._rectangle().center.y,this._rectangle().width,this._rectangle().height,0)},i.prototype._backgroundColor=function(t){var e=this._getStyleBackgroundColor();if(t.hasSelectionInPlotArea)if(this._isSelected()){var n=this._getSelectedStyleBackgroundColor();null!=n&&(e=n);var i=t.apiSelectedStyle;null!=i&&null!=i.backgroundColor&&(e=i.backgroundColor)}else{var o=this._getUnselectedStyleBackgroundColor();null!=o&&(e=o)}return e},i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this.___backgroundShape=null},i.prototype._buildCartesianBackgroundShape=function(){var e=this._getCartesianGroupView()._xAxisView(),n=this._getCartesianGroupView()._yAxisView(),i=this._getCartesianPlotView()._minDistanceInDimensionValues(),o=null!=i?i:1,r=this._data(),l=this._getCartesianGroupView()._getXValue(r),a=Math.max((null!=l?l:0)-.5*o,e._scaleModel._minimum),u=Math.min((null!=l?l:0)+.5*o,e._scaleModel._maximum),s=null,_=null,p=null,c=null;return this._getCartesianGroupView()._swapAxes()?(s=n._scaleModel._value(n._scaleModel._minimum),_=n._scaleModel._value(n._scaleModel._maximum),p=e._scaleModel._value(a),c=e._scaleModel._value(u)):(s=e._scaleModel._value(a),_=e._scaleModel._value(u),p=n._scaleModel._value(n._scaleModel._minimum),c=n._scaleModel._value(n._scaleModel._maximum)),null!=s&&null!=_&&null!=p&&null!=c?new t._RectangleShape((s+_)/2,(p+c)/2,Math.abs(_-s),Math.abs(c-p),0):null},i.prototype._buildRadialBackgroundShape=function(){var e=this._getCartesianGroupView()._xAxisView(),n=this._getCartesianGroupView()._yAxisView(),i=this._getCartesianPlotView()._minDistanceInDimensionValues(),o=null!=i?i:1,r=this._data(),l=this._getCartesianGroupView()._getXValue(r);if(t._isRadialAxisView(e)&&t._isRadialAxisView(n)){var a=e,u=n,s=new t.core.Point(u._cx,u._cy);if(this._getCartesianGroupView()._swapAxes()){var _=u._scaleModel._value(u._scaleModel._maximum),p=u._scaleModel._value(u._scaleModel._minimum),c=a._scaleModel._value(Math.max((null!=l?l:0)-.5*o,a._scaleModel._minimum)),h=null==_?0:_,f=null==p?0:p,d=(null==(y=a._scaleModel._value(Math.min((null!=l?l:0)+.5*o,a._scaleModel._maximum)))?0:y)-(g=null==c?0:c);return new t._DonutShape(s,h,f,g,d)}h=null==(y=a._scaleModel._value(Math.min((null!=l?l:0)+a._getRadiusOffset()+.5*o,a._scaleModel._maximum)))?0:y,f=null==(c=a._scaleModel._value(Math.max((null!=l?l:0)+a._getRadiusOffset()-.5*o,a._scaleModel._minimum)))?0:c;var y,g=u._startAngle();return d=u._sweep,new t._DonutShape(s,h,f,g,d)}return null},i.prototype._renderBackground=function(e,n){if(this._displayBackground()){var i=this.backgroundColor,o=this._backgroundColor(n);if(null!=o||null!=i){var r=this._backgroundShape();if(null!=r){e.beginTransform(),null!=i&&(e.fill=i),null!=o&&t._OptionUtility._applyFillOption(e,o);var l=this._getStyleBorderRadius();if(r instanceof t._RectangleShape)null!=(a=t._PathUtility._buildRectangleWithBorderRadius(r.center.x-r.size.width/2,r.center.y-r.size.height/2,r.size.width,r.size.height,l))?e.drawPath(a,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawRect(r.center.x-r.size.width/2,r.center.y-r.size.height/2,r.size.width,r.size.height,null);else if(r instanceof t._DonutShape){var a;null!=(a=t._PathUtility._buildDonutSegmentWithBorderRadius(r.center.x,r.center.y,r.radius,r.innerRadius,r.startAngle,r.sweepAngle,l))?e.drawPath(a,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(r.center.x,r.center.y,r.radius,r.innerRadius,r.startAngle,r.sweepAngle,null)}e.restoreTransform()}}}},i.prototype._displayBackground=function(){return!this._isFiltered()&&this._dataScaleFilteredType!=t._DataScaleFilteredType.FilterOut&&this._dataScaleFilteredType!=t._DataScaleFilteredType.Empty},i.prototype._isPositive=function(){return this._getPlotView()._yPositive(this)},i.prototype._getStyleSymbolSize=function(){var t=this._internalStyle();if(null!=t&&null!=t.symbolSize)return t.symbolSize;var e=this._data()._getSeries();return null!=(t=this._getCartesianSeriesView()._internalStyle())&&null!=t.symbolSize||null!=(t=e._seriesStyle())&&null!=t.symbolSize||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.symbolSize?t.symbolSize:10},i.prototype._getStyleSymbolShape=function(){var t=this._internalStyle();if(null!=t&&null!=t.symbolSize&&""!=t.symbolShape)return t.symbolShape;var e=this._data()._getSeries();return null!=(t=this._getCartesianSeriesView()._internalStyle())&&null!=t.symbolShape&&""!=t.symbolShape||null!=(t=e._seriesStyle())&&null!=t.symbolShape&&""!=t.symbolShape||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.symbolShape&&""!=t.symbolShape?t.symbolShape:null},i.prototype._getStyleBackgroundColor=function(){var t=this._internalStyle();if(null!=t&&null!=t.backgroundColor)return t.backgroundColor;var e=this._data()._getSeries();return null!=(t=this._getCartesianSeriesView()._internalStyle())&&null!=t.backgroundColor||null!=(t=e._seriesStyle())&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.backgroundColor?t.backgroundColor:null},i.prototype._getStyleBorderRadius=function(){var t=this._internalStyle();if(null!=t&&null!=t.borderRadius)return t.borderRadius;var e=this._data()._getSeries();return null!=(t=this._getCartesianSeriesView()._internalStyle())&&null!=t.borderRadius||null!=(t=e._seriesStyle())&&null!=t.borderRadius||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.borderRadius?t.borderRadius:null},i.prototype._getStyleStrokeWidth=function(){var t=this._internalStyle();if(null!=t&&null!=t.strokeWidth)return t.strokeWidth;var e=this._data()._getSeries();return null!=(t=this._getCartesianSeriesView()._internalStyle())&&null!=t.strokeWidth||null!=(t=e._seriesStyle())&&null!=t.strokeWidth||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.strokeWidth?t.strokeWidth:null},i.prototype._pointsRect=function(){return this._rectangle()},i.prototype._onFilteredChanged=function(t){var e=this._data(),n=e._group()._x(),i=e._group()._y();this._addOrDeleteDimensionValue(n,e.xDimensionValue,t);for(var o=0,r=e._yValues();o<r.length;o++){var l=r[o];this._addOrDeleteDimensionValue(i,l,t)}},i.prototype._addOrDeleteDimensionValue=function(e,n,i){if(t.models._isLinearDimension(e)){var o=e;i?t._isValueModifiableDimension(o)&&o._removeValue(n)&&this._resetLinearDimensionMinMax(o):(t._isValueModifiableDimension(o)&&o._addValue(n),this._resetLinearDimensionMinMax(o))}},i.prototype._resetLinearDimensionMinMax=function(t){t._setMin(null),t._setMax(null)},i.prototype._getCartesianPointDataModel=function(){return this._data()},i.prototype._getCartesianSeriesView=function(){return this._ownerView},i.prototype.showSymbol=function(){var e=this._data();return t._NativeExtension._toNonNullBoolean(e._getSeries()._symbols(),this._getCartesianPlotView().showSymbol())},i.prototype._yValues=function(){var t=this._getCartesianGroupView()._getYValue(this._data()),e=[t.upperY];return null!=t.lowerY&&e.push(t.lowerY),e},i.prototype._getOutlineRectangle=function(){return this._rectangle()},i.prototype._getPlotView=function(){return this._ownerView._getCartesianGroupView()._getCartesianPlotView()},i.prototype._isFiltered=function(){return e.prototype._isFiltered.call(this)||this._getCartesianPointDataModel()._isNullOrNaN},i.prototype._getPointPathPropertyValue=function(t){var e=this._data()._item(),n=this._getCartesianPlotView()._getCartesianPlotDefinition();if(null!=n._detailDefinitions()&&n._detailDefinitions().length>0){var i=n._detailDefinitions()[0]._dataFieldDefinition._dataField._name,o=this._data();e[i]=o._detail()}return e[t]},i.prototype._isVisible=function(){return(null==this._dataScaleFilteredType||this._dataScaleFilteredType==t._DataScaleFilteredType.FilterIn)&&e.prototype._isVisible.call(this)},Object.defineProperty(i.prototype,"waterfallType",{get:function(){return this._data()._getWaterfallPointType()},set:function(t){var e=this._data();e._getWaterfallPointType()!=t&&(e._setWaterfallPointType(t),this._getPlotView()._getLayoutView()._getPlotAreaView()._isDataDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valueDefinition",{get:function(){return this._data()._valueDefinition()._getIdentifier()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"detail",{get:function(){return this._data()._detail()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dimension",{get:function(){return this._data().xDimensionValue.rawValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._data()._value()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"series",{get:function(){return t.models._isSeriesModel(this._ownerView)?this._ownerView:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"index",{get:function(){return this._index()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"previous",{get:function(){var e=this.index;return e>0?t._CartesianPlotViewModelUtility._toCartesianPointModel(this._getCartesianSeriesView()._getCartesianPointViews()[e-1]):null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"next",{get:function(){var e=this.index;return e<this._getCartesianSeriesView()._getCartesianPointViews().length-1?t._CartesianPlotViewModelUtility._toCartesianPointModel(this._getCartesianSeriesView()._getCartesianPointViews()[e+1]):null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMax",{get:function(){var e=t.models._CartesianSupport.getY(this);if(this._isFiltered()||null==e)return!1;var n=null==e.value?0:e.value;return!this._getCartesianSeriesView()._getPointViews().some((function(e){var i=e,o=t.models._CartesianSupport.getY(i);return!i._isFiltered()&&null!=o&&(null==o.value?0:o.value)>n}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMin",{get:function(){var e=t.models._CartesianSupport.getY(this);if(this._isFiltered()||null==e)return!1;var n=null==e.value?0:e.value;return!this._getCartesianSeriesView()._getPointViews().some((function(e){var i=e,o=t.models._CartesianSupport.getY(i);return!i._isFiltered()&&null!=o&&(null==o.value?0:o.value)<n}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._getCartesianSeriesView()},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"ISeriesPointViewModel"==t||"ICartesianPointModel"==t||"IWaterfallPointModel"==t||"IQueryShowTooltipModel"==t?this:e.prototype.queryInterface.call(this,t)},o([t.deprecated("offset",null)],i.prototype,"offset",null),i}(t._BasePointView);t._CartesianPointView=e}(t||(t={})),function(t){!function(t){t[t.FilterIn=0]="FilterIn",t[t.FilterOut=1]="FilterOut",t[t.Empty=2]="Empty"}(t._DataScaleFilteredType||(t._DataScaleFilteredType={}))}(t||(t={})),function(t){t._isCartesianPointView=function(e){if(null==e)return!1;if(!t._isPointView(e))return!1;var n=e;return void 0!==n.valueIsOutOfAxesRange&&void 0!==n.value&&void 0!==n.index&&void 0!==n.dimension&&void 0!==n.size&&void 0!==n._dataScaleFilteredType&&"function"==typeof n._getXPos&&"function"==typeof n._setXPos&&"function"==typeof n._overlayItemViews&&"function"==typeof n._reversed&&"function"==typeof n._tracker&&"function"==typeof n._queryRelatedViewModel&&"function"==typeof n._renderBackground&&"function"==typeof n._isPositive&&"function"==typeof n._getStyleBorderRadius&&"function"==typeof n.showSymbol&&"function"==typeof n._getCartesianSeriesView&&"function"==typeof n._index&&"function"==typeof n._yValues&&"function"==typeof n._getOutlineRectangle}}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,null==o?new t._CartesianPointStyleBuilder(!0):o)||this;return r.__drawablePipeline=new t.DisplayablePipeLine(r),r.__defaultShape="Dot",r}return n(i,e),Object.defineProperty(i.prototype,"defaultShape",{get:function(){return this.__defaultShape},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},i.prototype._createSymbolDefinition=function(){var e=this._getCartesianPlotView()._getCartesianPlotDefinition(),n=null,i=e._encodingsDefinition._getShapeEncodingDefinition();i instanceof t._SingleDataFieldLegendEncodingDefinition&&(n=t._DataSlicesAggregate._defaultAggregate._aggregate(this._data()._dataSlices,i._fieldDefinition()._dataField,i._aggregate()));var o=this._getStyleSymbolShape(),r=this.shape,l=this.defaultShape;return t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(e._getSymbolDefinitionProviderList(),n,o,r,l)},i.prototype._getXs=function(){return null==this._xs&&this._refreshXY(),this._xs},i.prototype._getYs=function(){return null==this._ys&&this._refreshXY(),this._ys},i.prototype._refreshXY=function(){var e=t._Util.createPtsFromRect(this._rectangle(),20);this._setXs(e._xs),this._setYs(e._ys)},i.prototype._draw=function(e,n){this.showSymbol()&&this._renderSymbol(e,t._RectangleUtility._scaleRectangle(this._rectangle(),this._scale),n)},i.prototype._symbolDefinition=function(){return null!=this.__symbolDefinition&&null==this._internalStyle()||(this.__symbolDefinition=this._createSymbolDefinition()),this.__symbolDefinition},i.prototype._symbol=function(){return this.__symbol},i.prototype._renderSymbol=function(t,e,n){var i=this._calculateStyle(n);this._applyDataPointExternalStyle(i);var o=this._getSymbolRectangle(e);this.__symbol=this._symbolDefinition().createSymbol(o,i),this.__symbol.render(t,n)},i.prototype._getSymbolRectangle=function(t){var e=t.clone(),n=t.width<t.height?t.width:t.height;return t.width>t.height?e.left=t.left+(t.width-t.height)/2:t.height>t.width&&(e.top=t.top+(t.height-t.width)/2),e.height=n,e.width=n,e},i.prototype._contains=function(t){return null!=this.__symbol?this.__symbol.contains(t):this._rectangle().contains(t)},i.prototype._cutOff=function(){return!1},i.prototype._yValues=function(){return[this._getCartesianGroupView()._getYValue(this._data()).upperY]},i.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this.__drawablePipeline.contains(e)){var o=this._pointLayoutListView(),r=null==o?null:o._hitTest(e,n,i);return null!=r?r:(r=new t.HitTestResult(e,this,this,t.ElementType.DataPoint),null==i||null!=i&&i.predicate(r)?r:null)}return null},i.prototype._drawView=function(t,e){t.beginTransform(),this.__drawablePipeline._flush(t,e),t.restoreTransform()},i.prototype._calculateStyle=function(t){var n=e.prototype._calculateStyle.call(this,t);return this._applyDataPointExternalStyle(n),n},i.prototype._update=function(t){this._updateRectangle(t)},i.prototype._boundRectangle=function(){var n=e.prototype._boundRectangle.call(this);return null==n||this.showSymbol()||(n=new t.core.Rect(n.center.x,n.center.y,0,0)),n},i.prototype._isVisible=function(){return!this.valueIsOutOfAxesRange&&e.prototype._isVisible.call(this)},i}(t._CartesianPointView);t._BaseSymbolCartesianPointView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianRadialSymbolPointViewPointAttachmentAgent(this))},i.prototype._getTrackerWithOption=function(t){return this._getRadialTrackerWithOption(t)},i.prototype._getRadialTrackerWithOption=function(e){var n=this._getCartesianGroupView(),i=n._xAxisView(),o=n._yAxisView(),r=this._data(),l=n._getXValue(r),a=n._getYValue(r),u=i._scaleModel._value(l),s=o._scaleModel._value(a.upperY),_=null==u?0:u,p=null==s?0:s,c=i._startAngle(),h=i._sweep,f=n._getCartesianPlotView()._getCenter();if(e.type==t.TrackerType.CrossX){if(n._swapAxes()){var d=p;return new t.models._RadialTrackLine(e,f.x,f.y,d,c,h,this._shape())}var y=this._calculatePoint(i._innerRadius*i._radius,f,p),g=this._calculatePoint(i._radius,f,p);return new t.models._TrackStraightLine(e,y,g,this._shape())}return e.type==t.TrackerType.CrossY?n._swapAxes()?(y=this._calculatePoint(i._innerRadius*i._radius,f,_),g=this._calculatePoint(i._radius,f,_),new t.models._TrackStraightLine(e,y,g,this._shape())):(d=_,new t.models._RadialTrackLine(e,f.x,f.y,d,c,h,this._shape())):null},i.prototype._calculatePoint=function(e,n,i){var o=n.x+Math.cos(i)*e,r=n.y+Math.sin(i)*e;return new t.core.Point(o,r)},i.prototype._backgroundShape=function(){if(null==this.___backgroundShape){var e=this._getCartesianGroupView()._xAxisView(),n=this._getCartesianGroupView()._yAxisView(),i=this._getCartesianPlotView()._minDistanceInDimensionValues(),o=null!=i?i:1,r=this._data(),l=this._getCartesianGroupView()._getXValue(r);if(t._isRadialAxisView(e)&&t._isRadialAxisView(n)){var a=e,u=n,s=new t.core.Point(u._cx,u._cy);if(this._getCartesianGroupView()._swapAxes()){var _=u._scaleModel._value(u._scaleModel._maximum),p=u._scaleModel._value(u._scaleModel._minimum),c=a._scaleModel._value(Math.max((null!=l?l:0)-.5*o,e._scaleModel._minimum)),h=a._scaleModel._value(Math.min((null!=l?l:0)+.5*o,e._scaleModel._maximum)),f=null==_?0:_,d=null==p?0:p,y=(null==h?0:h)-(b=null==c?0:c);this.___backgroundShape=new t._DonutShape(s,f,d,b,y)}else{var g=a._scaleModel._value(Math.min((null!=l?l:0)+a._getRadiusOffset()+.5*o,a._scaleModel._maximum)),m=a._scaleModel._value(Math.max((null!=l?l:0)+a._getRadiusOffset()-.5*o,a._scaleModel._minimum)),v=u._startAngle(),w=u._sweep,b=(f=null==g?0:g,d=null==m?0:m,null==v?0:v);y=null==w?0:w,this.___backgroundShape=new t._DonutShape(s,f,d,b,y)}}}return this.___backgroundShape},i.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._getCartesianGroupView(),l=r._xAxisView(),a=r._yAxisView(),u=this._data(),s=r._getXValue(u),_=r._getYValue(u),p=l._scaleModel._value(s),c=a._scaleModel._value(_.upperY);if(null==p||isNaN(p)||null==c||isNaN(c))this._visible=!1;else{if(r._swapAxes()){var h=p;p=c,c=h}var f=this.size,d=this._getStyleSymbolSize(),y=null==f?d:d*f,g=Math.cos(c)*p+r._cx(),m=Math.sin(c)*p+r._cy();this._updateRectangle(new t.core.Rect(g-y/2,m-y/2,y,y)),r._getCartesianPlotView()._visualViews.push(this),this._visible=!0}},i.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._RadialSymbolDataLabelView(this,n,e):null},i}(t._BaseSymbolCartesianPointView);t._RadialSymbolCartesianPointView=e}(t||(t={})),function(t){t._isSymbolCartesianPointView=function(e){var n=e;return null!=n&&!!t._isSymbolPointView(n)&&"function"==typeof n._renderSymbol}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._PolygonalSymbolDataLabelView(this,n,e):null},i}(t._RadialSymbolCartesianPointView);t._PolygonalSymbolCartesianPointView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianSymbolPointViewAutoPointAttachmentAgent(this),new t._CartesianSymbolPointViewRectangleAttachmentAgent(this))},i.prototype._getTrackerWithOption=function(t){return this._getCartsianTrackerWithOption(t)},i.prototype._getCartsianTrackerWithOption=function(n){var i=this._getCartesianGroupView()._xAxisView();if(n.type==t.TrackerType.CrossX){var o=new t.core.Point(0,0),r=new t.core.Point(0,0);if(this._getCartesianGroupView()._swapAxes()){var l=this._rectangle().right-this._rectangle().width/2;o=new t.core.Point(l,i._plotRect().top),r=new t.core.Point(l,i._plotRect().bottom)}else{var a=this._rectangle().top+this._rectangle().height/2;o=new t.core.Point(i._plotRect().left,a),r=new t.core.Point(i._plotRect().right,a)}return new t.models._CartesianTrackLine(n,o,r,this._rectangle())}return e.prototype._getTrackerWithOption.call(this,n)},i.prototype._backgroundShape=function(){if(null==this.___backgroundShape){var e=this._getCartesianGroupView()._xAxisView(),n=this._getCartesianGroupView()._yAxisView(),i=this._getCartesianPlotView()._minDistanceInDimensionValues(),o=null!=i?i:1,r=this._data(),l=this._getCartesianGroupView()._getXValue(r),a=n._scaleModel._minimum,u=n._scaleModel._maximum;if(t._isOrdinalAxisScale(n._scaleModel._scale)){var s=this._getCartesianGroupView()._getYValue(r).upperY;null==s||isNaN(s)||(a=Math.max(s-.5,n._scaleModel._minimum),u=Math.min(s+.5,n._scaleModel._maximum))}var _,p,c,h,f,d=Math.max((null!=l?l:0)-.5*o,e._scaleModel._minimum),y=Math.min((null!=l?l:0)+.5*o,e._scaleModel._maximum),g=void 0,m=void 0,v=void 0;this._getCartesianGroupView()._swapAxes()?(g=null==(h=n._scaleModel._value(a))?0:h,m=null==(f=n._scaleModel._value(u))?0:f,_=null==(p=e._scaleModel._value(d))?0:p,v=null==(c=e._scaleModel._value(y))?0:c):(g=null==(p=e._scaleModel._value(d))?0:p,m=null==(c=e._scaleModel._value(y))?0:c,_=null==(h=n._scaleModel._value(a))?0:h,v=null==(f=n._scaleModel._value(u))?0:f),this.___backgroundShape=new t._RectangleShape((g+m)/2,(_+v)/2,Math.abs(m-g),Math.abs(v-_),0)}return this.___backgroundShape},i.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._getCartesianGroupView(),l=r._xAxisView(),a=r._yAxisView(),u=this._data(),s=r._getXValue(u),_=r._getYValue(u),p=l._scaleModel._value(s),c=a._scaleModel._value(_.upperY);if(null==p||isNaN(p)||null==c||isNaN(c))this._visible=!1;else{if(r._swapAxes()){var h=p;p=c,c=h}var f=this.size,d=this._getStyleSymbolSize(),y=null==f?d:d*f;this._updateRectangle(new t.core.Rect(p-y/2,c-y/2,y,y)),r._getCartesianPlotView()._visualViews.push(this),this._visible=!0}},i.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._CartesianSymbolDataLabelView(this,n,e):null},i.prototype._isVisible=function(){return!this.valueIsOutOfAxesRange&&e.prototype._isVisible.call(this)},i}(t._BaseSymbolCartesianPointView);t._XySymbolCartesianPointView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__cachedIdentityContent=null,i}return n(i,e),i.prototype._getCartesianPlotView=function(){return this._getCartesianGroupView()._getCartesianPlotView()},i.prototype._getIdentityContent=function(){return this._createIdentityContent()},i.prototype._createIdentityContent=function(){if(null!=this.__cachedIdentityContent)return this.__cachedIdentityContent;var e=this._getCartesianSeriesDataModel(),n="";if(null!=this._getCartesianGroupView()){var i=this._getCartesianGroupView()._getCartesianGroupDataModel();t._isCartesianMirrorGroupDataModel(i)&&(n+=i._mirrorDimension()._key())}n+=e._detail();var o=e._group()._x();if(null!=o&&t._isDataFieldDimension(o)){var r=e._group()._xValueDefinition();t._isCartesianCategoryEncodingDefinition(r)?n+=r._hierarchicalGroupingDefinitions.map((function(t){return t._dataFieldDefinition._dataField._name})).join(">"):t._isXFieldEncodingDefinition(r)&&(n+=r._getXDataFieldDefinition()._dataField._name)}var l=e._valueDefinition();if(n+=l._getIdentifier(),t._isAggregateValueEncodingDefinition(l)){var a=l._getAggregate();null!=a&&(n+=t._CastExtension.toAggregateString(a))}else if(t._isXyValueEncodingDefinition(l)){var u=l;n+=t._CastExtension.toAggregateString(u._getAggregate())}return this.__cachedIdentityContent=t._Util.HashCode(""+n),this.__cachedIdentityContent},i.prototype._getPlotView=function(){return this._ownerView._getCartesianPlotView()},Object.defineProperty(i.prototype,"axisX",{get:function(){return this._ownerView._xAxisView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"axisY",{get:function(){return this._ownerView._yAxisView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valueDefinition",{get:function(){return this._getCartesianSeriesDataModel()._valueDefinition()._getIdentifier()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"detail",{get:function(){var t=this._getCartesianSeriesDataModel()._detailValue();return null==t?null:t._key()},enumerable:!1,configurable:!0}),i.prototype._getBackgroundShape=function(){return this.__backgroundShape},i.prototype._setBackgroundShape=function(t){this.__backgroundShape=t},i.prototype._createStyleModel=function(){var e=this,n=new t.models._DataPointStyleOptionModel(this._getCartesianSeriesDataModel()._seriesStyle());return n.propertyChanged=function(i,o){if(null!=o)for(var r=0,l=e._pointViews;r<l.length;r++){var a=l[r].style;null!=a&&t._NativeExtension.setPropertyValue(a,o,t._NativeExtension.getPropertyValue(n,o))}},n},i.prototype._layoutContent=function(t,e,n){this._updateRectangle(e.clone()),this._layoutPointViews(t,e,n)},i.prototype._layoutPointViews=function(t,e,n){for(var i=0,o=this._viewportPointViews();i<o.length;i++)o[i]._layout(t,e,n)},i.prototype._renderBackground=function(e,n){var i=this._getBackgroundShape(),o=this._getStyleBackgroundColor();if(null!=i&&null!=o){e.beginTransform(),t._OptionUtility._applyFillOption(e,o);var r=this._getBackgroundShape();r instanceof t._RectangleShape?e.drawRect(r.center.x-r.size.width/2,r.center.y-r.size.height/2,r.size.width,r.size.height):r instanceof t._DonutShape&&e.drawDonut(r.center.x,r.center.y,r.radius,r.innerRadius,r.startAngle,r.sweepAngle),e.restoreTransform()}},i.prototype._defaultStyle=function(){return t._ViewUtility._defaultStyle()},i.prototype._applyColor=function(t){},i.prototype._applyDataPointStyle=function(e,n){t._OptionUtility._applyStyleOption(e,this._getDefinition()._dvConfigOption.style),t._OptionUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.style),t._OptionUtility._applyDataPointStyleOption(e,this._getCartesianSeriesDataModel()._seriesStyle()),t._OptionUtility._applyDataPointStyleOption(e,this._internalStyle())},i.prototype._applyDataPointStyleContext=function(e,n){n.hasSelectionInPlotArea&&(this._isSelected()?(t._OptionUtility._applyDataPointStyleOption(e,this._getDefinition()._dvConfigOption.selectedStyle),t._OptionUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.selectedStyle),t._OptionUtility._applyDataPointStyleOption(e,this._internalSelectedStyle()),null!=n.apiSelectedStyle&&t._OptionUtility._applyDataPointStyleOption(e,n.apiSelectedStyle)):(t._OptionUtility._applyDataPointStyleOption(e,this._getDefinition()._dvConfigOption.unselectedStyle),t._OptionUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.unselectedStyle),t._OptionUtility._applyDataPointStyleOption(e,this._internalUnselectedStyle()))),this._isHover()&&t._OptionUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.hoverStyle)},i.prototype._applyStyle=function(e,n){t._StyleUtility._applyStyle(e,this._defaultStyle()),this._applyColor(e),this._applyDataPointStyle(e,n),this._applyDataPointStyleContext(e,n)},i.prototype._getStyleBackgroundColor=function(){var t=this._internalStyle();return null!=t&&null!=t.backgroundColor||null!=(t=this._getCartesianSeriesDataModel()._seriesStyle())&&null!=t.backgroundColor||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.backgroundColor?t.backgroundColor:null},i.prototype._filterPointViews=function(){return this._getCartesianPointViews().filter((function(t){return!t._isFiltered()}))},i.prototype._viewportPointViews=function(){return this._filterPointViews().filter((function(e){return e._dataScaleFilteredType!=t._DataScaleFilteredType.FilterOut}))},i.prototype._canAppendPointView=function(){var t=this._viewportPointViews();if(t.length>2){var e=t[0],n=t[t.length-1];return this._getConnectedStatus(n,e)}return!0},i.prototype._getConnectedStatus=function(e,n){var i=this._ownerView._getCartesianPlotView(),o=i._showNulls(),r=i._showNaNs(),l=e.index,a=n.index;if(l>=0&&a>=0){var u=this._pointViews[l],s=this._pointViews[a];if(u._dataScaleFilteredType==t._DataScaleFilteredType.Empty||s._dataScaleFilteredType==t._DataScaleFilteredType.Empty)return!1;if(l+1==a||l==this._pointViews.length-1&&0==a)return!0;var _=[];if(l<=a)for(var p=l+1;p<a;++p)_.push(p);else{for(p=l+1;p<this._pointViews.length;++p)_.push(p);for(p=0;p<a;++p)_.push(p)}for(var c=0,h=_;c<h.length;c++){p=h[c];var f=this._pointViews[p];if(f._dataScaleFilteredType==t._DataScaleFilteredType.Empty)return!1;var d=f._data(),y=i._getYValue(d);if(null==y.upperY&&o==t.ShowNulls.Gaps)return!1;if(isNaN(y.upperY)&&r==t.ShowNulls.Gaps)return!1;if(null!=d.queryInterface("INumberRangeValue")){if(null==y.lowerY&&o==t.ShowNulls.Gaps)return!1;if(isNaN(y.lowerY)&&r==t.ShowNulls.Gaps)return!1}}return!0}return!1},i.prototype._isVisible=function(){return!this._isFiltered()&&e.prototype._isVisible.call(this)},i.prototype._getCartesianSeriesDataModel=function(){return this._dataModel},i.prototype._getCartesianGroupView=function(){return this._ownerView},i.prototype._getCartesianPointViews=function(){return this._pointViews},i.prototype._hasSelectedPointView=function(){for(var t=0,e=this._pointViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},i.prototype.queryInterface=function(t){return"ICartesianSeriesModel"==t?this:e.prototype.queryInterface.call(this,t)},i._getDataPointAxisValue=function(e,n,i){if(null==e||null==n)return null;var o=i._getCartesianGroupView(),r=o._getCartesianPlotView()._getDefinition()._plotConfigOption,l=r.axisMode,a=r.swapAxes,u=o._xAxisView(),s=o._yAxisView(),_=u._scaleModel._value(e),p=s._scaleModel._value(n);if(null==_||isNaN(_)||null==p||isNaN(p))return null;var c=t._NativeExtension._toNonNullNumber(_,0),h=t._NativeExtension._toNonNullNumber(p,0);if(a){var f=c;c=h,h=f}if(l==t.AxisMode.Polygonal||l==t.AxisMode.Radial){var d=Math.cos(h)*c+o._cx(),y=Math.sin(h)*c+o._cy();return new t.core.Point(d,y)}return new t.core.Point(c,h)},i}(t._BaseSeriesView);t._BaseCartesianSeriesView=e}(t||(t={})),function(t){t._isCartesianSeriesView=function(t){var e=t;return null!=e&&"function"==typeof e._getCartesianSeriesDataModel&&"function"==typeof e._getCartesianGroupView&&"function"==typeof e._getBackgroundShape&&"function"==typeof e._setBackgroundShape&&"function"==typeof e._renderBackground&&"function"==typeof e._getStyleBackgroundColor&&"function"==typeof e._filterPointViews&&"function"==typeof e._canAppendPointView&&"function"==typeof e._getConnectedStatus&&"function"==typeof e._getIdentityContent}}(t||(t={})),t||(t={}),function(t){t._isLineAreaSeriesConfig=function(e){var n=e;return null!=n&&t._isSeriesConfig(n)&&void 0!==n.lineAspect}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t,e){this._prev=t,this._next=e}return t.prototype.equalsWith=function(t){return null!=t&&this._prev==t._prev&&this._next==t._next},t}();t._ShapeSegment=e}(t||(t={})),function(t){var e=function(e){function o(n,o,r,l,a,u){return void 0===l&&(l=null),void 0===a&&(a=null),void 0===u&&(u=null),e.call(this,n,o,r,null==l?new i:l,null,null,null==u?new t._AreaCartesianLegendSymbolViewBuilder(!0,!1):u)||this}return n(o,e),o}(t._BaseCartesianPlotDefinition);t._AreaCartesianPlotDefinition=e;var i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e&&t._isCartesianPlotDataModel(o)?new t._AreaCartesianPlotView(n,i,o):null},n}()}(t||(t={})),function(t){var e=function(){function e(){this.name="Area",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Area"===n.type?new t._AreaCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AreaCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;return i.__lowerLine=t,i.__upperLine=n,i}return n(i,e),i.prototype._contains=function(t){return!1},i.prototype._xs=function(){var t=this.__upperLine.map((function(t){return t.x})),e=this.__lowerLine.map((function(t){return t.x}));return t.concat(e.reverse())},i.prototype._ys=function(){var t=this.__upperLine.map((function(t){return t.y})),e=this.__lowerLine.map((function(t){return t.y}));return t.concat(e.reverse())},i.prototype.upperXs=function(){return this.__upperLine.map((function(t){return t.x}))},i.prototype.upperYs=function(){return this.__upperLine.map((function(t){return t.y}))},i.prototype.lowerXs=function(){return this.__lowerLine.map((function(t){return t.x}))},i.prototype.lowerYs=function(){return this.__lowerLine.map((function(t){return t.y}))},i.prototype._lowerLine=function(){return this.__lowerLine},i.prototype._upperLine=function(){return this.__upperLine},Object.defineProperty(i.prototype,"type",{get:function(){return"Area"},enumerable:!1,configurable:!0}),i.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(e instanceof i){var n=e;return t._PointEqualityComparer._pointArrayEqualityComparer._equalsWith(n.__lowerLine,this.__lowerLine)&&t._PointEqualityComparer._pointArrayEqualityComparer._equalsWith(n.__upperLine,this.__upperLine)}return!1},i.prototype.clone=function(){for(var t=[],e=0,n=this._lowerLine();e<n.length;e++){var o=n[e];t.push(o.clone())}for(var r=[],l=0,a=this._upperLine();l<a.length;l++)o=a[l],r.push(o.clone());return new i(t,r)},i}(t._BaseShape);t._AreaShape=e}(t||(t={})),function(t){var e=function(){function e(e){this.__points=[new t.core.Point(-Number.MAX_VALUE,e),new t.core.Point(Number.MAX_VALUE,e)]}return e.prototype._points=function(){return this.__points},e.prototype._takeSegment=function(e,n){for(var i=this._points(),o=[],r=!1,l=0;l<i.length;l++){var a=i[l];if(r);else if(a.x<e);else if(a.x==e){var u=null;l<i.length-1&&(u=i[l+1]),(null==u||u.x>e)&&o.push(a.clone())}else if(e<a.x&&a.x<n){if(o.length<=0){var s=null;if(l>0&&(s=i[l-1]),null!=s&&s.x<e)o.push(new t.core.Point(e,(a.y-s.y)/(a.x-s.x)*(e-s.x)+s.y));else if(i.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray)}o.push(a.clone())}else if(a.x==n){if(o.length<=0)if(s=null,l>0&&(s=i[l-1]),null!=s&&s.x<e)o.push(new t.core.Point(e,(a.y-s.y)/(a.x-s.x)*(e-s.x)+s.y));else if(i.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray);var _=null;l>0&&(_=i[l-1]),(null==_||_.x<n)&&(o.push(a.clone()),r=!0)}else if(n<a.x){if(o.length<=0)if(s=null,l>0&&(s=i[l-1]),null!=s&&s.x<e)o.push(new t.core.Point(e,(a.y-s.y)/(a.x-s.x)*(e-s.x)+s.y));else if(i.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray);if(_=null,l>0&&(_=i[l-1]),null!=_&&_.x<n)o.push(new t.core.Point(n,(a.y-_.y)/(a.x-_.x)*(n-_.x)+_.y)),r=!0;else if(i.length<=0)throw new t.AssertError(t.ErrorCode.UnexpectedEmptyArray)}}return o},e.prototype._mergeSegment=function(e){if(!(e.length<=0)){for(var n=[],i=this._points(),o=!1,r=!0,l=e[0],a=e[e.length-1],u=0;u<i.length;u++){var s=i[u];if(s.x<l.x)n.push(s.clone());else if(s.x==l.x)o||(s.y!=l.y&&n.push(s.clone()),n.push.apply(n,e),o=!0);else if(!o&&l.x<s.x){var _=null;u>0&&(_=i[u-1]),null!=_&&_.x<l.x&&n.push(new t.core.Point(l.x,(s.y-_.y)/(s.x-_.x)*(l.x-_.x)+_.y)),n.push.apply(n,e),o=!0}if(o&&s.x==a.x){if(r){var p=null;u<i.length-1&&(p=i[u+1]),null!=p&&p.x!=a.x&&(s.y!=a.y&&n.push(s.clone()),r=!1)}}else o&&a.x<s.x&&(r&&(_=null,u>0&&(_=i[u-1]),null!=_&&_.x<a.x&&n.push(new t.core.Point(a.x,(s.y-_.y)/(s.x-_.x)*(a.x-_.x)+_.y)),r=!1),n.push(s.clone()))}this.__points=n}},e}();t._BaseLine=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=null!=e._plotConfigOption.symbols&&e._plotConfigOption.symbols,i=new t._CartesianAreaLegendSymbolView(n);return i._setPlotDefinition(e),i},i}(t._LegendSymbolViewBuilder);t._AreaCartesianLegendSymbolViewBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createCartesianSeriesView=function(e){return new t._AreaCartesianSeriesView(this,e)},i.prototype._yOrigin=function(){var t=this._xAxisView(),e=this._yAxisView(),n=t._getDefinition()._option.origin,i=0,o=e._scaleModel._minimum,r=e._scaleModel._maximum;return null!=n&&n>=(null==o?0:o)&&n<=(null==r?0:r)?i=n:null!=r&&r<0?i=r:null!=o&&o>0&&(i=o),i},i.prototype._layoutSeriesViews=function(n,i,o){var r=this._yAxisView()._scaleModel._scale._valueRange(),l=Math.max(r._min,this._yOrigin());this._axisMode()!=t.AxisMode.Cartesian&&(l=r._min),o._areaBaseLine=new t._BaseLine(l),e.prototype._layoutSeriesViews.call(this,n,i,o),o._areaBaseLine=null},i}(t._BaseCartesianGroupView);t._AreaCartesianGroupView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._createCartesianGroupView=function(e){return new t._AreaCartesianGroupView(this,e)},i.prototype._getDataLabelsRender=function(){return new t._CartesianSymbolDataLabelsRender(this)},i.prototype._showNulls=function(){return this._isStack()?t.ShowNulls.Zeros:e.prototype._showNulls.call(this)},i.prototype._showNaNs=function(){return this._isStack()?t.ShowNulls.Zeros:e.prototype._showNaNs.call(this)},i.prototype._analysisFitRangePadding=function(){this.showSymbol()&&e.prototype._analysisFitRangePadding.call(this)},i.prototype._createCartesianPointView=function(e,n){var i=this._definition._plotConfigOption.axisMode;return i==t.AxisMode.Cartesian?new t._XySymbolCartesianPointView(e,n,null):i==t.AxisMode.Radial?new t._RadialSymbolCartesianPointView(e,n,null):new t._PolygonalSymbolCartesianPointView(e,n,null)},i.prototype._getModifiedOutlineRectangle=function(t){return this.showSymbol()?e.prototype._getModifiedOutlineRectangle.call(this,t):t},i}(t._BaseCartesianPlotView);t._AreaCartesianPlotView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i)||this;return o.__lineAspect=null,o.__seriesShapes=[],o.__shapePointViews=[],o.__drawablePipeLine=new t.DisplayablePipeLine(o),o}return n(i,e),Object.defineProperty(i.prototype,"lineAspect",{get:function(){return null==this.__lineAspect?this._getDefinition()._plotConfigOption.lineAspect:this.__lineAspect},set:function(t){this.__lineAspect=t},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IDisplayablePipeLine"==t?this.__drawablePipeLine:e.prototype.queryInterface.call(this,t)},i.prototype._renderAreaShapes=function(t,e,n){this._applyStyle(t,e);for(var i=0,o=n;i<o.length;i++){var r=o[i];if(this._getShapeHasNegativeRange(r))for(var l=this._splitAreaToPolygon(r),a=this._getShapeStyleFlags(r),u=0;u<l.length;u++)t.beginTransform(),e._altStyle=!1,u<a.length&&a[u]<0&&null!=this._getDefinition()._plotConfigOption.altStyle&&(e._altStyle=!0),this._applyStyle(t,e),e._altStyle=!1,t.strokeWidth=0,t.drawPolygon(l[u].points.map((function(t){return t.x})),l[u].points.map((function(t){return t.y}))),t.restoreTransform();else t.beginTransform(),t.strokeWidth=0,t.drawPolygon(r._xs(),r._ys()),t.restoreTransform();this._renderSeriesBorder(t,r)}},i.prototype._draw=function(t,e){this._renderAreaShapes(t,e,this._getSeriesShapes())},i.prototype._contains=function(e){for(var n=!0,i=0,o=this.__seriesShapes;i<o.length;i++){var r=o[i];t._ShapeUtil._shapeContainsPoint(r,e)||(n=!1)}return n},i.prototype._cutOff=function(){return!1},i.prototype._shapes=function(){for(var t=[],e=0,n=this.__seriesShapes;e<n.length;e++){var i=n[e];t.push(i.clone())}return t},i.prototype._getShapePointViews=function(){return this.__shapePointViews},i.prototype._setShapePointViews=function(t){this.__shapePointViews=t},i.prototype._swapAxes=function(){return this._ownerView._getCartesianPlotView()._swapAxes()},i.prototype._getSeriesShapes=function(){return this.__seriesShapes},i.prototype._setSeriesShapes=function(e){this.__seriesShapes=e.map((function(e){return e instanceof t._AreaShape?e:null}))},i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this.__seriesShapes=this._createAreaShapes(this._viewportPointViews());var o=i._areaBaseLine;this._layoutAreaShapes(this._getCartesianSeriesDataModel(),o)},i.prototype._applyColor=function(e){var n=this._getCartesianSeriesDataModel(),i=this._ownerView._getCartesianPlotView(),o=this._getDefinition()._paletteColorProvider._defaultColor();if(null!=o&&(e.fill=o,e.stroke=o),null!=n._getGradientColorScale()){for(var r=-Number.MAX_VALUE,l=Number.MAX_VALUE,a=0,u=this._pointViews;a<u.length;a++){var s=u[a]._data(),_=i._getYValue(s);null==_.upperY||isNaN(_.upperY)||(_.upperY>r&&(r=_.upperY),_.upperY<l&&(l=_.upperY)),null==_.lowerY||isNaN(_.lowerY)||(_.lowerY>r&&(r=_.lowerY),_.lowerY<l&&(l=_.lowerY))}var p=this._calculateStartAndEndValue(l,r,this._ownerView._yAxisView()),c=p[0],h=p[1];e.fill=new t._LinearGradientColor(360,n._getGradientColorScale()._calculateColorStopsOfRange(c,h))}else{var f=this.color;null!=f&&(e.fill=f,e.stroke=f)}},i.prototype._calculateStartAndEndValue=function(t,e,n){var i=n._scaleModel._minimum,o=n._scaleModel._maximum;return i>=0&&t>i?t=i:o<=0&&e<o?e=o:e>0&&t>0?t=0:e<0&&t<0&&(e=0),[t,e]},i.prototype._splitAreaToPolygon=function(e){var n=[];if(null==e)return n;for(var i=e._upperLine(),o=e._lowerLine(),r=0,l=0,a=null,u=0;u<i.length-1;u++)for(var s=0;s<o.length-1;s++){var _=i[u],p=i[u+1],c=o[s],h=o[s+1],f=t._AlgorithmUtils._getCrossPoint(_,p,c,h);if(null!=f&&!f.equalsWith(_)&&!f.equalsWith(c)){var d=[];null!=a&&d.push(a);for(var y=r;y<=u;y++)d.push(i[y]);d.push(f);for(var g=s;g>=l;g--)d.push(o[g]);n.push(new t._PolygonShape(d)),r=u+1,l=s+1,a=f}}var m=[];for(null!=a&&m.push(a),y=r;y<i.length;y++)m.push(i[y]);for(g=o.length-1;g>=l;g--)m.push(o[g]);return n.push(new t._PolygonShape(m)),n},i.prototype._getShapeHasNegativeRange=function(e){var n=this.__seriesShapes.indexOf(e);if(0<=n&&n<this.__shapePointViews.length&&null!=this.__shapePointViews[n]&&this.__shapePointViews[n].length>0)for(var i=0,o=this.__shapePointViews[n];i<o.length;i++){var r=o[i]._data();if(r instanceof t._RangeValuePointDataModel&&(null==r._displayLower()?0:r._displayLower())>(null==r._displayUpper()?0:r._displayUpper()))return!0}return!1},i.prototype._getShapeStyleFlags=function(e){var n=[],i=this.__seriesShapes.indexOf(e);if(0<=i&&i<this.__shapePointViews.length&&null!=this.__shapePointViews[i]&&this.__shapePointViews[i].length>0)for(var o=0,r=this.__shapePointViews[i];o<r.length;o++){var l=r[o]._data();if(l instanceof t._RangeValuePointDataModel){var a=null==l._displayLower()?0:l._displayLower(),u=null==l._displayUpper()?0:l._displayUpper();a<u?n.push(1):a>u?n.push(-1):n.push(0)}}var s=[];0!=n[0]&&s.push(n[0]);for(var _=1;_<n.length;_++)0!=n[_]&&n[_]!=n[_-1]&&s.push(n[_]);return s},i.prototype._applyDataPointStyle=function(e,n){t._OptionUtility._applyStyleOption(e,this._getDefinition()._dvConfigOption.style),n._altStyle&&null!=this._getDefinition()._plotConfigOption.altStyle?t._OptionUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.altStyle):t._OptionUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.style),t._OptionUtility._applyDataPointStyleOption(e,this._getCartesianSeriesDataModel()._seriesStyle()),t._OptionUtility._applyDataPointStyleOption(e,this._internalStyle())},i.prototype._drawView=function(t,e){t.beginTransform(),this.__drawablePipeLine._flush(t,e),t.restoreTransform()},i.prototype._getStyleStrokeWidth=function(){var t=this._internalStyle();return null!=t&&null!=t.strokeWidth||null!=(t=this._getCartesianSeriesDataModel()._seriesStyle())&&null!=t.strokeWidth||null!=(t=this._getDefinition()._plotConfigOption.style)&&null!=t.strokeWidth?t.strokeWidth:null},i.prototype._renderSeriesBorder=function(e,n){var i=this._ownerView._getCartesianPlotView();if(i._getDefinition()._plotConfigOption.axisMode==t.AxisMode.Cartesian){var o=i._swapAxes()?n.lowerYs():n.lowerXs();if(o.every((function(t,e){return 0==e||t==o[e-1]})))return}var r=this._getStyleStrokeWidth();if(null==r||null!=r&&r.top==r.right&&r.top==r.bottom&&r.top==r.left)0!=e.strokeWidth&&(e.beginTransform(),e.fill=t._CssColor._none(),e.drawPolygon(n._xs(),n._ys()),e.restoreTransform());else{if(null!=r&&r.top>0&&(e.strokeWidth=r.top,e.drawLines(n.upperXs(),n.upperYs())),null!=r&&r.bottom>0&&(e.strokeWidth=r.bottom,e.drawLines(n.lowerXs(),n.lowerYs())),null!=r&&r.left>0){e.strokeWidth=r.left;var l=n.lowerXs().length>0&&n.upperXs().length>0?[n.lowerXs()[0],n.upperXs()[0]]:[],a=n.lowerYs().length>0&&n.upperYs().length>0?[n.lowerYs()[0],n.upperYs()[0]]:[];l.length>0&&a.length>0&&e.drawLines(l,a)}null!=r&&r.right>0&&(e.strokeWidth=r.right,l=n.lowerXs().length>0&&n.upperXs().length>0?[n.lowerXs()[n.lowerXs().length-1],n.upperXs()[n.upperXs().length-1]]:[],a=n.lowerYs().length>0&&n.upperYs().length>0?[n.lowerYs()[n.lowerYs().length-1],n.upperYs()[n.upperYs().length-1]]:[],l.length>0&&a.length>0&&e.drawLines(l,a))}},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rectangle();if(null!=r&&r.contains(n))for(var l=0,a=this.__seriesShapes;l<a.length;l++){var u=a[l];if(t._Util.IsPointInPolygon2(n,u._xs(),u._ys())){var s=new t.HitTestResult(n,this,this,t.ElementType.Series);return null==o||null!=o&&o.predicate(s)?s:null}}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._isGapPointView=function(e){return e._dataScaleFilteredType==t._DataScaleFilteredType.Empty},i.prototype._createAreaShapes=function(e){if(e.length<=0)return[];var n=this._ownerView._getCartesianPlotView(),i=n._getDefinition()._plotConfigOption.axisMode,o=0;this.__shapePointViews=[];var r=[],l=[],a=[];e=e.slice(),i!=t.AxisMode.Cartesian&&t._isCategoryDimension(this._dataModel._group()._x())&&!n._isStack()&&this._canAppendPointView()&&e.push(e[0]);for(var u=e.length,s=0;s<u;s++){var _=e[s],p=_._data(),c=n._getXValue(p);if(null!=c&&!this._isGapPointView(_)){this.__shapePointViews.length===o?this.__shapePointViews.push(new Array):null==this.__shapePointViews[o]&&(this.__shapePointViews[o]=[]),this.__shapePointViews[o].push(_);var h=n._getYValue(p);if(null==h.upperY||isNaN(h.upperY)||l.push(new t.core.Point(c,h.upperY)),null==h.lowerY||isNaN(h.lowerY)||a.push(new t.core.Point(c,h.lowerY)),s==u-1)break;var f=e[s+1];this._getConnectedStatus(_,f)||(t._isXyValuePointDataModel(p)?(this._isGapPointView(f)?r.push(new t._AreaShape(a,l)):r.push(new t._AreaShape([],l)),o++,a=[],l=[]):t._isRangeValuePointDataModel(p)&&(r.push(new t._AreaShape(a,l)),o++,a=[],l=[]))}}return r.push(new t._AreaShape(a,l)),r},i.prototype._layoutAreaShapes=function(e,n){for(var i=this._ownerView,o=this._ownerView._getCartesianPlotView()._getDefinition()._plotConfigOption.axisMode,r=t._isCategoryDimension(e._group()._x()),l=i._xAxisView(),a=i._yAxisView(),u=this.lineAspect,s=0,_=this.__seriesShapes;s<_.length;s++){var p=_[s];if(p._upperLine().length>0&&0==p._lowerLine().length){if(o==t.AxisMode.Cartesian||r&&!p._upperLine()[p._upperLine().length-1].equalsWith(p._upperLine()[0]))for(var c=0,h=n._takeSegment(p.upperXs()[0],p.upperXs()[p.upperXs().length-1]);c<h.length;c++){var f=h[c];p._lowerLine().push(f)}o!=t.AxisMode.Cartesian&&r&&!i._isStack()&&p._lowerLine().length>0&&p._lowerLine().push(p._lowerLine()[0].clone());var d=e._detailValue();null!=d&&t._isStackGroupDetailEncodingDefintion(d._definition())&&n._mergeSegment(p._upperLine().map((function(t){return t.clone()})))}for(var y=p.clone(),g=0,m=p._upperLine();g<m.length;g++){var v=m[g];if(!this._convert(i,o,l,a,v)){this._visible=!1;break}}for(var w=0,b=p._lowerLine();w<b.length;w++)if(v=b[w],!this._convert(i,o,l,a,v)){this._visible=!1;break}this._updateShapeByLineAspect(u,p,y)}},i.prototype._convert=function(e,n,i,o,r){var l=i._scaleModel._value(r.x),a=o._scaleModel._value(r.y);if(null==l||isNaN(l)||null==a||isNaN(a))return!1;if(this._swapAxes()){var u=l;l=a,a=u}if(n==t.AxisMode.Polygonal||n==t.AxisMode.Radial){var s=null==l?0:l;r.x=Math.cos(a)*s+e._cx(),r.y=Math.sin(a)*s+e._cy()}else r.x=l,r.y=a;return!0},i.prototype._updateShapeByLineAspect=function(t,e,n){var i=e._lowerLine(),o=n._lowerLine(),r=this._getLineAspectPoints(t,i,o);if(null!=r&&r.length>0&&i!=r){i.length=0;for(var l=0,a=r;l<a.length;l++){var u=a[l];i.push(u)}}var s=e._upperLine(),_=n._upperLine(),p=this._getLineAspectPoints(t,s,_);if(null!=p&&p.length>0&&s!=p){s.length=0;for(var c=0,h=p;c<h.length;c++)u=h[c],s.push(u)}},i.prototype._getLineAspectPoints=function(e,n,i){return e==t.LineAspect.Default?n:e==t.LineAspect.Spline?this._getSplinePoints(n):e==t.LineAspect.BezierCurve?this._getBezierPoints(n):e==t.LineAspect.StepLeft?this._getStepLeftLinePoints(i):e==t.LineAspect.StepCenter?this._getStepCenterLinePoints(i):e==t.LineAspect.StepRight?this._getStepRightLinePoints(i):null},i.prototype._getSplinePoints=function(e){var n=e.map((function(t){return t.x})),i=e.map((function(t){return t.y})),o=[],r=[],l=[],a=[];return t._SplineCurveShape._calculateCoefficients(n,i,o,r,l,a),new t._SplineCurveShape(n,i,o,r,l,a,null)._getPoints()},i.prototype._getBezierPoints=function(e){var n=e.map((function(t){return t.x})),i=e.map((function(t){return t.y})),o=[];return t._BezierCurveShape._calculateControlPoints(n,i,o),new t._BezierCurveShape(n,i,o,null)._getPoints()},i.prototype._getStepLeftLinePoints=function(e){var n=this;return t._StepShapesUtility._interpolatePointDataValues(e,t.LineAspect.StepLeft,!1).map((function(e){return t._BaseCartesianSeriesView._getDataPointAxisValue(e.x,e.y,n)}))},i.prototype._getStepCenterLinePoints=function(e){var n=this;return t._StepShapesUtility._interpolatePointDataValues(e,t.LineAspect.StepCenter,!1).map((function(e){return t._BaseCartesianSeriesView._getDataPointAxisValue(e.x,e.y,n)}))},i.prototype._getStepRightLinePoints=function(e){var n=this;return t._StepShapesUtility._interpolatePointDataValues(e,t.LineAspect.StepRight,!1).map((function(e){return t._BaseCartesianSeriesView._getDataPointAxisValue(e.x,e.y,n)}))},i.prototype.queryRelatedTooltipViewModel=function(e,n){return this.contains(new t.core.Point(e,n))?this:null},i.prototype.contains=function(e){for(var n=0,i=this.__seriesShapes;n<i.length;n++){var o=i[n];if(t._Util.IsPointInPolygon2(e,o._xs(),o._ys()))return!0}return!1},i.prototype._tooltipContent=function(){return null},i.prototype._findSegment=function(e){var n=this;if(this._getPlotView()._getDefinition()._plotConfigOption.axisMode!=t.AxisMode.Cartesian){if((u=this._viewportPointViews()).length<2)return null;var i=this._ownerView._verticalAxisView(),o=this._getCartesianGroupView()._cx(),r=this._getCartesianGroupView()._cy(),l=this._calculateAngle(o,r,e),a=u.map((function(t){return n._calculateRadian(i,t)}));for(s=0;s<a.length-1;++s)if(_=a[s],p=a[s+1],null!=_&&null!=p&&_<=l&&l<p)return new t._ShapeSegment(u[s],u[s+1]);return new t._ShapeSegment(u[u.length-1],u[0])}for(var u=this._viewportPointViews(),s=0;s<u.length-1;++s){var _=this._calculatePostion(u[s]),p=this._calculatePostion(u[s+1]);if(this._swapAxes()){if(_.y<=e.y&&e.y<p.y)return new t._ShapeSegment(u[s],u[s+1])}else if(_.x<=e.x&&e.x<p.x)return new t._ShapeSegment(u[s],u[s+1])}return null},i.prototype._calculatePostion=function(e){var n=this._getCartesianGroupView(),i=e._data(),o=n._getXValue(i),r=n._getYValue(i);return t._BaseCartesianSeriesView._getDataPointAxisValue(o,r.upperY,this)},i.prototype._calculateRadian=function(t,e){var n=this._getCartesianGroupView(),i=e._data(),o=this._swapAxes()?n._getXValue(i):n._getYValue(i).upperY;return t._scaleModel._value(o)},i.prototype._calculateAngle=function(t,e,n){var i=(Math.atan2(e-n.y,n.x-t)+2*Math.PI)%(2*Math.PI);return i<Math.PI/2?2*Math.PI-i:4*Math.PI-i},i}(t._BaseCartesianSeriesView);t._AreaCartesianSeriesView=e}(t||(t={})),function(t){t._isAreaCartesianSeriesView=function(t){var e=t;return null!=e&&"function"==typeof e._shapes&&"function"==typeof e._setShapePointViews&&"function"==typeof e._swapAxes&&"function"==typeof e._setSeriesShapes&&"function"==typeof e._renderAreaShapes&&"function"==typeof e._findSegment}}(t||(t={})),function(t){var e=function(e){function o(n,o,r,l,a){return void 0===l&&(l=null),void 0===a&&(a=null),e.call(this,n,o,r,null==l?new i:l,null,null,null==a?new t._BarCartesianLegendSymbolViewBuilder(!1,!1):a)||this}return n(o,e),o}(t._BaseCartesianPlotDefinition);t._BarCartesianPlotDefinition=e;var i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e&&t._isCartesianPlotDataModel(o)?new t._BarCartesianPlotView(n,i,o):null},n}()}(t||(t={})),function(t){var e=function(){function e(){this.name="Bar",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Bar"===n.type?new t._BarCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._BarCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(e){this.__ownerView=e,this.__clusterGroups=new t._Map}return e._barExtension=function(t){if(null!=t){var n=t._barExtension;return null==n&&(t._barExtension=n=new e(t)),n}return null},e.prototype._clusterCount=function(t){return this.__clusterGroups._has(t)?this.__clusterGroups._get(t)._size:0},e.prototype._cluster=function(){var t=0;if(this.__clusterGroups._size>0)for(var e=0,n=this.__clusterGroups._keys;e<n.length;e++){var i=n[e];t+=this.__clusterGroups._get(i)._size}return t},e.prototype._resetClusterGroups=function(){this.__clusterGroups._clear();for(var e=0,n=this.__ownerView._getPlotListView()._getPlotViews();e<n.length;e++){var i=n[e];t._isBarCartesianPlotView(i)&&i._resetClusterGroups(this.__clusterGroups)}},e.prototype.showSymbol=function(){return!1},e}();t._BarExtension=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=new t._CartesianBarLegendSymbol;return n._setPlotDefinition(e),n},i}(t._LegendSymbolViewBuilder);t._BarCartesianLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.buildBarWidthOption=function(t,e){return null==e||isNaN(e)?.7:(e>1&&(e=1),e<0&&(e=0),e)},t._policy=new t,t}();t._BuildInBarWidthOptionPolicy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInBarWidthOptionPolicyBuilders=function(){return null==i.__buildInBarWidthOptionPolicyBuilders&&(i.__buildInBarWidthOptionPolicyBuilders=new i([],i._pluginType)),i.__buildInBarWidthOptionPolicyBuilders},i.prototype._convert=function(e){return t._isBarWidthOptionPolicyBuilder(e)?e:null},i.prototype._barWidthOptionPolicy=function(e,n){void 0===n&&(n=null);for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item.buildBarWidthOptionPolicy();if(null!=r)return r}return t._BuildInBarWidthOptionPolicy._policy},i._pluginType="BarWidthOptionPolicy",i}(t._BuildInObjectCollection);t._BuildInBarWidthOptionPolicyBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isBarWidthOptionPolicyBuilder=function(t){return"function"==typeof t.buildBarWidthOptionPolicy}}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInClusterKeyBuilders=function(){return null==i.__buildInClusterKeyBuilders&&(i.__buildInClusterKeyBuilders=new i([new t._DefaultClusterKeyBuilder],i._pluginType)),i.__buildInClusterKeyBuilders},i.prototype._convert=function(e){return t._isClusterKeyBuilder(e)?e:null},i.prototype._clusterKeyBuilders=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),this._objects(t,e).map((function(t){return t.item}))},i._pluginType="ClusterKeyBuilder",i}(t._BuildInObjectCollection);t._BuildInClusterKeyBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildClusterKey=function(e,n,i){var o=e._getCartesianPlotDefinition()._valueDefinitions().indexOf(n._valueDefinition()),r=e._getDefinition()._plotOption.name+"_"+n._valueDefinition()._getIdentifier()+"_"+o,l=n._group();if(t._isCartesianMirrorGroupDataModel(l)){var a=l;i!=t.AxisMode.Cartesian&&e._swapAxes()&&(r+="_"+(null!=a._mirrorDimension()._key()?a._mirrorDimension()._key().toString():"null"))}return null!=n._detailValue()&&t._isClusterGroupDetailEncodingDefintion(n._detailValue()._definition())&&(r+="_"+typeof n._detail()+"_"+(null!=n._detail()?n._detail().toString():"null")),r},e.prototype.queryInterface=function(t){return"IClusterKeyBuilder"===t?this:null},e}();t._DefaultClusterKeyBuilder=e}(t||(t={})),function(t){t._isClusterKeyBuilder=function(t){return null!=t&&"function"==typeof t._buildClusterKey}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._defaultBuildInPointViewLayoutBuilders=function(){return null==i.__buildInPointViewLayoutBuilders&&(i.__buildInPointViewLayoutBuilders=new i([new t._DefaultBarRectangleDataPointViewLayout,new t._DefaultBarDonutDataPointViewLayout],t._BuildInViewLayoutBuilderCollection._pluginType)),i.__buildInPointViewLayoutBuilders},i}(t._BuildInViewLayoutBuilderCollection);t._BuildInPointViewLayoutBuilderCollection=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.layout=function(t,e){return t},t.prototype.queryInterface=function(t){return"IBarDonutDataPointViewLayout"===t?this:null},t}();t._BaseBarDonutDataPointViewLayout=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.buildViewLayout=function(e){var n=t._PlotViewModelUtility._toPlotView(e);return t._isBarCartesianPlotView(n)&&n._isRadialBar()?this:null},i.prototype.queryInterface=function(t){return"IViewLayoutBuilder"===t?this:e.prototype.queryInterface.call(this,t)},i}(t._BaseBarDonutDataPointViewLayout);t._DefaultBarDonutDataPointViewLayout=e}(t||(t={})),function(t){t._isBarDonutDataPointViewLayout=function(t){return null!=t&&"function"==typeof t.layout}}(t||(t={})),t||(t={}),function(t){var e=function(){function t(){}return t.prototype.layout=function(t,e){return t},t.prototype.queryInterface=function(t){return"IBarRectangleDataPointViewLayout"===t?this:null},t}();t._BaseBarRectangleDataPointViewLayout=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.buildViewLayout=function(e){var n=t._PlotViewModelUtility._toPlotView(e);return t._isBarCartesianPlotView(n)&&n._isRectangleBar()?this:null},i.prototype.queryInterface=function(t){return"IViewLayoutBuilder"===t?this:e.prototype.queryInterface.call(this,t)},i}(t._BaseBarRectangleDataPointViewLayout);t._DefaultBarRectangleDataPointViewLayout=e}(t||(t={})),function(t){t._isBarRectangleDataPointViewLayout=function(t){return null!=t&&"function"==typeof t.layout}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createCartesianSeriesView=function(e){return new t._BarCartesianSeriesView(this,e)},i}(t._BaseCartesianGroupView);t._BarCartesianGroupView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o.__barWidth=null,o.__barBottom=null,o.__barTop=null,o.__barOverlap=null,o.__stackedValueCached=null,o.__pointSpacePolicy=null,o}return n(i,e),i.prototype._createCartesianGroupView=function(e){return new t._BarCartesianGroupView(this,e)},i.prototype._getDataLabelsRender=function(){return this._definition._plotConfigOption.axisMode==t.AxisMode.Cartesian?new t._CartesianBarDataLabelsRender(this):new t._RadialBarDataLabelsRender(this._dataPointDataLabelOption().overlappingLabels)},i.prototype._getPointSpacePolicy=function(){return this.__pointSpacePolicy},i.prototype._plotBarOption=function(){return this._definition._plotConfigOption.bar},i.prototype._globalBarOption=function(){return this._definition._dvConfigOption.bar},i.prototype._barWidth=function(){if(null!=this.__barWidth)return this.__barWidth;var e=!this._isFunnel()||this._isFunnel()&&this._globalBarOption().funnelType==t.FunnelType.Default?Math.max(this._barBottom(),this._barTop()):null;null==this._plotBarOption().width||isNaN(this._plotBarOption().width)?null==this._globalBarOption().width||isNaN(this._globalBarOption().width)||(e=Math.max(this._globalBarOption().width,e)):e=Math.max(this._plotBarOption().width,e);var n=t._BuildInBarWidthOptionPolicyBuilderCollection._defaultBuildInBarWidthOptionPolicyBuilders()._barWidthOptionPolicy(this._definition._plotConfigOption.plugins,this._definition._pluginCollection);return this.__barWidth=n.buildBarWidthOption(this,e),this.__barWidth},i.prototype._barBottom=function(){if(null!=this.__barBottom)return this.__barBottom;var t=this._plotBarOption().bottomWidth;return null==t&&(t=this._globalBarOption().bottomWidth),null==t&&(t=this._plotBarOption().width),null==t&&(t=this._globalBarOption().width),null==t||isNaN(t)?this.__barBottom=.7:(t>1&&(t=1),t<0&&(t=0),this.__barBottom=t),this.__barBottom},i.prototype._barTop=function(){if(null!=this.__barTop)return this.__barTop;var t=this._plotBarOption().topWidth;return null==t&&(t=this._globalBarOption().topWidth),null==t&&(t=this._plotBarOption().width),null==t&&(t=this._globalBarOption().width),null==t||isNaN(t)?this.__barTop=.7:(t>1&&(t=1),t<0&&(t=0),this.__barTop=t),this.__barTop},i.prototype._neckHeight=function(){var t=this._plotBarOption().neckHeight;return null==t&&(t=this._globalBarOption().neckHeight),null==t||isNaN(t)?0:t},i.prototype._barOverlap=function(){if(null!=this.__barOverlap)return this.__barOverlap;var t=this._plotBarOption().overlap;return null==t&&(t=this._globalBarOption().overlap),null==t||isNaN(t)?this.__barOverlap=0:(t>1&&(t=1),t<-1&&(t=-1),this.__barOverlap=t),this.__barOverlap},i.prototype._resetClusterGroups=function(t){this._analysisClusterGroups(t)},i.prototype._analysisClusterGroups=function(e){for(var n=this,i=this._definition._plotConfigOption.plugins,o=this._definition._pluginCollection,r=t._BuildInClusterKeyBuilderCollection._defaultBuildInClusterKeyBuilders()._clusterKeyBuilders(i,o),l=function(t,e){for(var i=0,o=r;i<o.length;i++){var l=o[i]._buildClusterKey(t,e,n._definition._plotConfigOption.axisMode);if(null!=l)return l}return null},a=0,u=this._groupViews;a<u.length;a++)for(var s=0,_=u[a]._getCartesianSeriesViews();s<_.length;s++){var p=_[s];if(!p._isFiltered()){var c=p._getCartesianSeriesDataModel(),h=c._valueDefinition();if(null==h||!h._excludeNulls||!c._isNulls()){var f=this._getCluster(c),d=null;e._has(f)?d=e._get(f):(d=new t._Map,e._set(f,d));var y=l(this,c);if(null!=y){var g=void 0;d._has(y)?g=d._get(y):(g=d._size,d._set(y,g));var m=p;m._setCluster(f),m._setBarIndexInCluster(g)}}}}},i.prototype._getCluster=function(e){var n=null,i=this._plotBarOption().groups;if(null!=i&&i.length>0&&null!=e._valueDefinition())for(var o=e._valueDefinition()._getIdentifier(),r=0,l=i;r<l.length;r++){var a=l[r];if(o==a.valueField&&null!=e._detailValue()&&t._OptionUtility._isDataEqualsConfigData(e._detailValue()._key(),a.key)){n=a.cluster;break}if(o==a.valueField&&null==e._detailValue()&&null==a.key){n=a.cluster;break}}return null==n?"":n},i.prototype.__getClusterWidth=function(e){var n=this._plotBarOption().groups;if(null==n)return null;if(null!=e._valueDefinition())for(var i=e._valueDefinition()._getIdentifier(),o=0,r=n;o<r.length;o++){var l=r[o];if(i==l.valueField&&null!=e._detailValue()&&t._OptionUtility._isDataEqualsConfigData(e._detailValue()._key(),l.key))return l.width;if(i==l.valueField&&null==e._detailValue()&&null==l.key)return l.width}return null},i.prototype._prepareDataLabelOverlay=function(){var n=this._dataPointDataLabelOption();this._isRadialBar()||n.overlappingLabels!==t.OverlappingLabels.Auto||(n.overlappingLabels=t.OverlappingLabels.Show),e.prototype._prepareDataLabelOverlay.call(this)},i.prototype._isRadialBar=function(){return this._axisMode()==t.AxisMode.Polygonal||this._axisMode()==t.AxisMode.Radial},i.prototype._isRectangleBar=function(){return!this._isRadialBar()&&!this._isFunnel()},i.prototype._isExpandAxis=function(n){if(this._axisMode()==t.AxisMode.Radial&&this._swapAxes()){if(null!=n._getDefinition()._option.scale&&n._getDefinition()._option.scale.type==t.ValueScaleType.Ordinal)return!1;if(t._isCartesianCategoryPlotDataModel(this._dataModel))return!1;for(var i=0,o=this._definition._valueDefinitions();i<o.length;i++){var r=o[i],l=t._isXyValueEncodingDefinition(r)?r:null;if(null!=l){var a=l._getXFieldEncodingDefinition();if(t._isStringDataField(a._getXDataFieldDefinition()._dataField)||t._isBooleanDataField(a._getXDataFieldDefinition()._dataField))return!1}}}return e.prototype._isExpandAxis.call(this,n)},i.prototype._xPadding=function(){if(t._isCartesianCategoryPlotDataModel(this._dataModel)){if(this._axisMode()==t.AxisMode.Cartesian)return.5;if(this._axisMode()==t.AxisMode.Radial&&this._swapAxes())return.5;if(!this._swapAxes())return.5}for(var n=0,i=this._definition._valueDefinitions();n<i.length;n++){var o=i[n],r=t._isXyValueEncodingDefinition(o)?o:null;if(null!=r){var l=r._getXFieldEncodingDefinition()._getXDataFieldDefinition()._dataField;if(this._axisMode()==t.AxisMode.Cartesian||this._axisMode()==t.AxisMode.Radial||this._axisMode()==t.AxisMode.Polygonal&&!this._swapAxes()){if(null!=this._xAxisView()&&t._isOrdinalAxisScale(this._xAxisView()._scaleModel._scale))return.5;if(t._isNumberDataField(l)||t._isDateDataField(l)){var a=this._minDistanceInDimensionValues();return null==a?.5:.5*a}}}}return e.prototype._xPadding.call(this)},i.prototype._analysisFitRangePadding=function(){},i.prototype._afterAttachCoordinateSystem=function(){e.prototype._afterAttachCoordinateSystem.call(this),this._percentageDimension()},i.prototype._percentageDimension=function(){if(this._isPercentage())for(var e=0,n=this._dataModel._groups();e<n.length;e++){var i=n[e]._y();if(t.models._isLinearDimension(i)){var o=i,r=o._min();null!=r&&r>0&&o._setMin(0);var l=o._max();null!=l&&l<0&&o._setMax(0)}}},i.prototype._createOverlayViews=function(){var n=e.prototype._createOverlayViews.call(this),i=this._getDefinition()._plotConfigOption.plugins,o=this._getDefinition()._pluginCollection,r=t._BuildInWaterfallOverlayDefinitionBuilderCollection._builders()._waterfall(this._getDefinition(),i,o);if(null!=r){var l=r._buildOverlayView(this);null!=l&&n.push(l)}return n},i.prototype._createCartesianPointView=function(e,n){if(this._isRadialBar())return this._createRadialBarPointView(e,n);if(this._isFunnel()){var i=this._globalBarOption().funnelType;if(i==t.FunnelType.Default&&this._barBottom()!=this._barTop())return this._createFunnelPointView(e,n);if(i==t.FunnelType.EqualBar)return this._createEqualBarFunnelPointView(e,n);if(i==t.FunnelType.Bar)return this._createBarFunnelPointView(e,n)}return this._createBarPointView(e,n)},i.prototype._createBarPointView=function(e,n){return n instanceof t._RangeValuePointDataModel?new t._RangeBarCartesianPointView(e,n,this._pointViewLayouter,null):new t._BarXyCartesianPointView(e,n,this._pointViewLayouter,null)},i.prototype._createRadialBarPointView=function(e,n){return this._definition._plotConfigOption.axisMode==t.AxisMode.Polygonal?new t._PolygonalBarCartesianPointView(e,n,this._pointViewLayouter,null):new t._BarRadialCartesianPointView(e,n,this._pointViewLayouter,null)},i.prototype._createFunnelPointView=function(e,n){return new t._FunnelCartesianPointView(e,n,null)},i.prototype._createEqualBarFunnelPointView=function(e,n){return new t._EqualBarFunnelCartesianPointView(e,n,null)},i.prototype._createBarFunnelPointView=function(e,n){return new t._BarFunnelPointView(e,n,null)},i.prototype._isFunnel=function(){var e=this._globalBarOption().funnelType;return e==t.FunnelType.Default&&this._barBottom()!=this._barTop()||e==t.FunnelType.EqualBar||e==t.FunnelType.Bar},i.prototype._isPie=function(){if(this._axisMode()!=t.AxisMode.Polygonal&&this._axisMode()!=t.AxisMode.Radial)return!1;for(var e=!1,n=0,i=this._dataModel._groups();n<i.length;n++){var o=i[n],r=this._swapAxes()?o._y():o._x();null==(this._swapAxes()?o._yValueDefinition():o._xValueDefinition())?e=!0:(t._isCategoryDimension(r)||t._isOrdinalDimension(r))&&(e=r._count()<=1||e)}return!!e&&1==t._BarExtension._barExtension(this._cartesianCoordinateSystemView())._cluster()},i.prototype._getBarPointViewRender=function(){return null==this.__barPointViewRender&&(this.__barPointViewRender=t._BuildInViewRenderBuilderCollection._defaultBuildInViewRenderBuilders()._viewRender("Point",this,this._definition._plotOption.config.plugins,this._definition._pluginCollection)),this.__barPointViewRender},i.prototype._getWidth=function(e,n){if(t._CartesianPlotViewUtility._calculateSeriesViewCount(this)<=0)return null;var i=this._minDistanceInDimensionValues();return null==i&&(i=1),i*n/(e+this._barOverlap()-this._barOverlap()*e)},i.prototype._initAxis=function(){if(e.prototype._initAxis.call(this),(this._axisMode()==t.AxisMode.Polygonal||this._axisMode()==t.AxisMode.Radial)&&!this._swapAxes()){for(var n=NaN,i=t._BarExtension._barExtension(this._cartesianCoordinateSystemView()),o=0,r=this._groupViews;o<r.length;o++)for(var l=0,a=r[o]._getCartesianSeriesViews();l<a.length;l++){var u=a[l],s=this._horizontalAxisView();if(null==s||!t._isLogAxisScale(s._scaleModel._scale)){var _=u._getCluster(),p=this.__getClusterWidth(u._getCartesianSeriesDataModel());(isNaN(p)||null==p)&&(p=this._barWidth());var c=this._getWidth(i._clusterCount(_),p),h=this._getWidth(i._clusterCount(_),1);if(null!=c&&null!=h){var f=(c-h)/2;(isNaN(n)||n<f)&&(n=f)}}}if(!isNaN(n))for(var d=0,y=this._groupViews;d<y.length;d++){var g=y[d]._horizontalAxisView();n<g._getRadiusOffset()&&g._setRadiusOffset(n)}}},i.prototype._xAxisDirection=function(t,n){if(!this._isPie())return e.prototype._xAxisDirection.call(this,t,n);var i=this._xAxisView()._scaleModel._getReversed(),o=!0,r=this._xOrigin();return(null!=n?n:t._getXPos())<=r&&(o=!1),i&&(o=!o),o?1:-1},i.prototype._getStackedValueByPoint=function(e){var n=this;null==this.__stackedValueCached&&(this.__stackedValueCached=new t._Map,this._traverseCartesianGroupView((function(e,i){for(var o=0,r=e._getCartesianSeriesViews();o<r.length;o++){var l=r[o],a=l._getCartesianSeriesDataModel(),u=a._valueDefinition();if(null==u||!u._excludeNulls||!a._isNulls()){var s=l._getBarIndexInCluster(),_=n.__stackedValueCached._get(s);null==_&&(_=new t._Map,n.__stackedValueCached._set(s,_));for(var p=0,c=a.points();p<c.length;p++){var h,f=c[p],d=f.xDimensionValue._value(),y=null;if(null!=d&&(null==(y=_._get(d))&&(y=[],_._set(d,y)),null!=f.queryInterface("INumberValue")&&null!=(h=f.queryInterface("INumberStackValue"))&&y.push(h.value),null!=f.queryInterface("INumberRangeValue")&&null!=(h=f.queryInterface("INumberStackValue")))){var g=null==h.value?0:h.value,m=null==h.previous?0:h.previous;y.push(g-m)}}}}}),null));var i=e._getCartesianSeriesView()._getBarIndexInCluster(),o=e._data().xDimensionValue._value(),r=this.__stackedValueCached._get(i);return null!=r&&null!=o?r._get(o):null},i.prototype._layoutContent=function(n,i,o){var r=this._definition._plotConfigOption.plugins,l=this._definition._pluginCollection;this.__pointSpacePolicy=t._BuildInPointSpacePolicyBuilderCollection._buildInPointSpacePolicyBuilders()._pointSpacePolicy(this,r,l),e.prototype._layoutContent.call(this,n,i,o)},i}(t._BaseCartesianPlotView);t._BarCartesianPlotView=e}(t||(t={})),function(t){t._isBarCartesianPlotView=function(e){if(!t._isCartesianPlotView(e))return!1;var n=e;return"function"==typeof n._isPie&&"function"==typeof n._isRadialBar&&"function"==typeof n._isRectangleBar&&"function"==typeof n._isFunnel&&"function"==typeof n._resetClusterGroups&&"function"==typeof n._analysisClusterGroups&&"function"==typeof n._getStackedValueByPoint&&"function"==typeof n._getBarPointViewRender&&"function"==typeof n._getPointSpacePolicy}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isBarCartesianPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._applyDataPointStyle=function(e,n){t._OptionUtility._applyStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style),this._applyDataPointStyleOption(e,this._barDataPointStyle(n)),this._applyDataPointStyleOption(e,n._data()._getSeries()._seriesStyle()),this._applyDataPointStyleOption(e,n._getCartesianSeriesView()._internalStyle()),this._applyDataPointStyleOption(e,n._internalStyle())},i.prototype._barDataPointStyle=function(t){return null!=t._getPlotView()._getDefinition()._plotConfigOption.altStyle&&t._isAlternate()?t._getPlotView()._getDefinition()._plotConfigOption.altStyle:t._getPlotView()._getDefinition()._plotConfigOption.style},i}(t._CartesianPointStyleBuilder);t._BarCartesianPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,null==o?new t._BarCartesianPointStyleBuilder:o)||this;return r.__drawablePipeline=new t.DisplayablePipeLine(r),r}return n(i,e),i.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},i.prototype._isAlternate=function(){var t,e=this._getPlotView(),n=this._data();return null!=n.queryInterface("INumberValue")&&null!=(t=n.queryInterface("INumberStackValue"))&&(null==t.value?0:t.value)<e._getBaseLineValue()||null!=n.queryInterface("INumberRangeValue")&&null!=(t=n.queryInterface("INumberStackValue"))&&(null==t.value?0:t.value)<(null==t.previous?0:t.previous)},i.prototype._getBarDataPointStyle=function(){return null!=this._getDefinition()._plotConfigOption.altStyle&&this._isAlternate()?this._getDefinition()._plotConfigOption.altStyle:this._getDefinition()._plotConfigOption.style},i.prototype._createStyleModel=function(){var e=new t.models._DataPointStyleOptionModel(this._getBarDataPointStyle()),n=this._data()._getSeries();return e._merge(n._seriesStyle()),e},i.prototype._draw=function(t,e){},i.prototype._contains=function(t){return!1},i.prototype._tracker=function(){for(var t=[],e=0,n=this._getDefinition()._plotConfigOption.trackers;e<n.length;e++){var i=n[e],o=this._getTrackersWithOption(i);null!=o&&o.length>0&&o.forEach((function(e){t.push(e)}))}return t},i.prototype._getTrackersWithOption=function(n){var i=this._rectangle();if(n.type==t.TrackerType.CrossX){var o=this._getCartesianGroupView(),r=o._xAxisView();if(t._isLineAxisView(r)){var l=r,a=this._data();if(t._isXyValuePointDataModel(a)){if(this._isAlternate())return this._isAlternate()?(u=new t.core.Point(0,0),s=new t.core.Point(0,0),o._swapAxes()?(_=i.left,u=new t.core.Point(_,l._plotRect().top),s=new t.core.Point(_,l._plotRect().bottom)):(p=i.bottom,u=new t.core.Point(l._plotRect().left,p),s=new t.core.Point(l._plotRect().right,p)),[new t.models._CartesianTrackLine(n,u,s,i)]):(u=new t.core.Point(0,0),s=new t.core.Point(0,0),o._swapAxes()?(_=i.right,u=new t.core.Point(_,l._plotRect().top),s=new t.core.Point(_,l._plotRect().bottom)):(p=i.top,u=new t.core.Point(l._plotRect().left,p),s=new t.core.Point(l._plotRect().right,p)),[new t.models._CartesianTrackLine(n,u,s,i)]);var u=new t.core.Point(0,0),s=new t.core.Point(0,0);if(o._swapAxes()){var _=i.right;u=new t.core.Point(_,l._plotRect().top),s=new t.core.Point(_,l._plotRect().bottom)}else{var p=i.top;u=new t.core.Point(l._plotRect().left,p),s=new t.core.Point(l._plotRect().right,p)}return[new t.models._CartesianTrackLine(n,u,s,i)]}if(t._isRangeValuePointDataModel(a)){var c=new t.core.Point(0,0),h=new t.core.Point(0,0),f=new t.core.Point(0,0),d=new t.core.Point(0,0),y=null,g=null;if(o._swapAxes()){y=new t.core.Rect(i.left+i.width/2,i.top,i.width/2,i.height),g=new t.core.Rect(i.left,i.top,i.width/2,i.height);var m=i.right,v=i.left;c=new t.core.Point(m,l._plotRect().top),h=new t.core.Point(m,l._plotRect().bottom),f=new t.core.Point(v,l._plotRect().top),d=new t.core.Point(v,l._plotRect().bottom)}else{y=new t.core.Rect(i.left,i.top,i.width,i.height/2),g=new t.core.Rect(i.left,i.top+i.height/2,i.width,i.height/2);var w=i.top,b=i.bottom;c=new t.core.Point(l._plotRect().left,w),h=new t.core.Point(l._plotRect().right,w),f=new t.core.Point(l._plotRect().left,b),d=new t.core.Point(l._plotRect().right,b)}return[new t.models._CartesianTrackLine(n,c,h,y),new t.models._CartesianTrackLine(n,f,d,g)]}}}return null!=e.prototype._getTrackerWithOption.call(this,n)?[e.prototype._getTrackerWithOption.call(this,n)]:null},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(this.__drawablePipeline.contains(n)){var r=new t.HitTestResult(n,this,this,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(r)?r:null}return t._isFunnelCartesianPointView(this)?null:e.prototype._hitTest.call(this,n,i,o)},i.prototype._cutOff=function(){return!1},i.prototype._getBarWidth=function(){return this._getPlotView()._barWidth()},i.prototype._getXValues=function(e,n){var i=this._getPlotView(),o=this._getCartesianGroupView(),r=o._getXValue(e),l=new t._DataDomain(NaN,NaN),a=this._getCartesianSeriesView(),u=a._getCluster(),s=t._BarExtension._barExtension(i._cartesianCoordinateSystemView()),_=i.__getClusterWidth(e._getSeries());(isNaN(_)||null==_)&&(_=this._getBarWidth());var p=i._getWidth(s._clusterCount(u),_);if(null==p)return l;var c=a._getBarIndexInCluster(),h=0,f=s._clusterCount(u);if(f>1){var d=i._minDistanceInDimensionValues();null==d&&(d=1),h=.5*(p-d*_)+(p+(d*_-p*f)/(f-1))*c}if(null==r){if(t._isLogAxisScale(o._xAxisView()._scaleModel._scale))return l;r=0}return null!=n?(l._min=r+h-p*n*.5,l._max=r+h+p*n*.5):(l._min=r+h-.5*p,l._max=r+h+.5*p),l},i.prototype._isBaseLinePoint=function(){var t=this._data(),e=this._getYValues(t),n=this._getCartesianPlotView();return e._min==n._getBaseLineValue()},i.prototype._getYValues=function(e){var n=this._getPlotView(),i=n._getYValue(e);return t._isXyValuePointDataModel(e)&&(null==i.lowerY||isNaN(i.lowerY))&&(i.lowerY=n._getBaseLineValue()),new t._DataDomain(i.lowerY,i.upperY)},i.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i),this._applyDataPointExternalStyle(e),this.__drawablePipeline._flush(e,n),e.restoreTransform()},i.prototype.showSymbol=function(){return!1},i}(t._CartesianPointView);t._BaseBarCartesianPointView=e}(t||(t={})),function(t){var e=function(e){function o(t,n,i){return e.call(this,t,n,i)||this}return n(o,e),o.prototype._shape=function(){return null!=this.__funnelPolygon?new t._PolygonShape(this.__funnelPolygon.points):e.prototype._shape.call(this)},o.prototype._getFunnelPolygon=function(){return this.__funnelPolygon},o.prototype._setFunnelPolygon=function(t){this.__funnelPolygon=t},o.prototype._contains=function(e){return t._Util.IsPointInPolygon2(e,this._getXs(),this._getYs())},o.prototype._draw=function(t,n){e.prototype._draw.call(this,t,n);var i=this._getFunnelPolygon();if(null!=i){var o=this._getStrokeWidth(n);null==o||null!=o&&o.top==o.right&&o.top==o.bottom&&o.top==o.left?t.drawPolygon(this._getXs(),this._getYs()):(t.beginTransform(),t.strokeWidth=0,t.drawPolygon(this._getXs(),this._getYs()),t.restoreTransform(),this._renderPolygonBorder(t,i,o))}},o.prototype._getStrokeWidth=function(t){var e=this._getStyleStrokeWidth();if(t.hasSelectionInPlotArea)if(this._isSelected()){var n=this._getSelectedStyleStrokeWidth();null!=n&&(e=n);var i=t.apiSelectedStyle;null!=i&&null!=i.strokeWidth&&(e=i.strokeWidth)}else{var o=this._getUnselectedStyleStrokeWidth();null!=o&&(e=o)}return this._isHover()&&null!=this._getDefinition()._plotConfigOption.hoverStyle.strokeWidth&&(e=this._getDefinition()._plotConfigOption.hoverStyle.strokeWidth),e},o.prototype._renderPolygonBorder=function(t,e,n){var i=this._getPlotView()._swapAxes(),o=this._reversed(),r=this._isPositive();null!=e&&null!=n&&(n.top>0&&(t.strokeWidth=n.top,t.drawLine(e.leftTop.x,e.leftTop.y,e.rightTop.x,e.rightTop.y)),n.bottom>0&&(t.strokeWidth=n.bottom,t.drawLine(e.leftBottom.x,e.leftBottom.y,e.rightBottom.x,e.rightBottom.y)),n.left>0&&(t.strokeWidth=n.left,i?o==r?(t.drawLine(e.leftTop.x,e.leftTop.y,e.leftNeck.x,e.leftNeck.y),t.drawLine(e.leftNeck.x,e.leftNeck.y,e.leftBottom.x,e.leftBottom.y)):(t.drawLine(e.rightTop.x,e.rightTop.y,e.rightNeck.x,e.rightNeck.y),t.drawLine(e.rightNeck.x,e.rightNeck.y,e.rightBottom.x,e.rightBottom.y)):o==r?(t.drawLine(e.rightTop.x,e.rightTop.y,e.rightNeck.x,e.rightNeck.y),t.drawLine(e.rightNeck.x,e.rightNeck.y,e.rightBottom.x,e.rightBottom.y)):(t.drawLine(e.leftTop.x,e.leftTop.y,e.leftNeck.x,e.leftNeck.y),t.drawLine(e.leftNeck.x,e.leftNeck.y,e.leftBottom.x,e.leftBottom.y))),n.right>0&&(t.strokeWidth=n.right,i?o==r?(t.drawLine(e.rightTop.x,e.rightTop.y,e.rightNeck.x,e.rightNeck.y),t.drawLine(e.rightNeck.x,e.rightNeck.y,e.rightBottom.x,e.rightBottom.y)):(t.drawLine(e.leftTop.x,e.leftTop.y,e.leftNeck.x,e.leftNeck.y),t.drawLine(e.leftNeck.x,e.leftNeck.y,e.leftBottom.x,e.leftBottom.y)):o==r?(t.drawLine(e.leftTop.x,e.leftTop.y,e.leftNeck.x,e.leftNeck.y),t.drawLine(e.leftNeck.x,e.leftNeck.y,e.leftBottom.x,e.leftBottom.y)):(t.drawLine(e.rightTop.x,e.rightTop.y,e.rightNeck.x,e.rightNeck.y),t.drawLine(e.rightNeck.x,e.rightNeck.y,e.rightBottom.x,e.rightBottom.y))))},o.prototype._refresh=function(){null!=this._getFunnelPolygon()&&(this._setXs(this._getFunnelPolygon().xs),this._setYs(this._getFunnelPolygon().ys),this._updateRectangle(this._getFunnelPolygon()._rectangle()))},o.prototype._getBarWidth=function(){var t=this._getPlotView();return Math.max(t._barBottom(),t._barTop())},o.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._data(),l=this._getXValues(r),a=this._getYValues(r);if(null==l._min||null==l._max||null==a._min||null==a._max||isNaN(l._min)||isNaN(l._max)||isNaN(a._min)||isNaN(a._max))this._visible=!1;else{var u=t._NativeExtension._toNonNullNumber(l._min,0),s=t._NativeExtension._toNonNullNumber(l._max,0);this._setXPos(u+(s-u)/2);var _=this._getCartesianGroupView(),p=this._getPlotView(),c=_._xAxisView(),h=_._yAxisView(),f=p.__getClusterWidth(r._getSeries());(isNaN(f)||null==f)&&(f=this._getBarWidth());var d=(a._max-a._min)*p._neckHeight()+a._min,y=p._barTop()/f,g=p._barBottom()/f,m=this._getXValues(r,y),v=this._getXValues(r,g);if(_._isStack()){var w=p._getBaseLineValue(),b=p._getStackedValueByPoint(this),P=a._max>=a._min?Math.max.apply(Math,b):Math.min.apply(Math,b);d=(P-w)*p._neckHeight()+w;var S=(null==m._max?0:m._max)-(null==m._min?0:m._min),C=(null==v._max?0:v._max)-(null==v._min?0:v._min),V=.5*(S-C)/(P-d),x=a._max;if(Math.abs(x)>Math.abs(d)&&Math.abs(x)<Math.abs(P)){var D=S>C?((x-d)*V*2+C)/S:((x-d)*V*2+C)/C;m=this._getXValues(r,D)}else Math.abs(x)<=Math.abs(d)&&(m=this._getXValues(r,g));x=a._min,Math.abs(x)>Math.abs(d)&&Math.abs(x)<Math.abs(P)&&(D=S>C?((x-d)*V*2+C)/S:((x-d)*V*2+C)/C,v=this._getXValues(r,D))}var O=c._scaleModel._value(Math.min(m._max,m._min)),A=c._scaleModel._value(Math.max(m._max,m._min)),L=c._scaleModel._value(Math.min(v._max,v._min)),T=c._scaleModel._value(Math.max(v._max,v._min)),M=L,E=T,I=h._scaleModel._value(a._max),B=h._scaleModel._value(a._min),R=h._scaleModel._value(d),k=d>Math.min(a._min,a._max)&&d<Math.max(a._min,a._max),N=p._barBottom()>p._barTop()?T-L:A-O,F=this._getXOffset(_,N),U=this._getYOffset(_),z=_._swapAxes()?new t.core.Point(I+U,O+F):new t.core.Point(O+F,I+U),j=_._swapAxes()?new t.core.Point(I+U,A+F):new t.core.Point(A+F,I+U),W=_._swapAxes()?new t.core.Point(R+U,M+F):new t.core.Point(M+F,R+U),G=_._swapAxes()?new t.core.Point(R+U,E+F):new t.core.Point(E+F,R+U),H=_._swapAxes()?new t.core.Point(B+U,L+F):new t.core.Point(L+F,B+U),q=_._swapAxes()?new t.core.Point(B+U,T+F):new t.core.Point(T+F,B+U),J=k?new t._FunnelPolygon(z,j,G,q,H,W):new t._FunnelPolygon(z,j,j,q,H,z);this._setFunnelPolygon(J),this._refresh(),_._getCartesianPlotView()._visualViews.push(this),this._visible=!0}},o.prototype._getXOffset=function(t,e){var n=null==this.xOffset?t._getXOffset():this.xOffset;return(null==n||isNaN(n))&&(n=0),n*e},o.prototype._getYOffset=function(t){var e=null==this.yOffset?t._getYOffset():this.yOffset;return(null==e||isNaN(e))&&(e=0),e},o.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._FunnelPointViewRectangleAttachmentAgent(this))},o.prototype._selectionAdorner=function(){return new i(this)},o.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._FunnelBarDataLabelView(this,n,e):null},o.prototype._backgroundShape=function(){return null==this.___backgroundShape&&(this.___backgroundShape=this._buildCartesianBackgroundShape()),this.___backgroundShape},o}(t._BaseBarCartesianPointView);t._FunnelCartesianPointView=e;var i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._createPoints=function(e){for(var n=e._getXs(),i=e._getYs(),o=Math.min(n.length,i.length),r=[],l=function(e){var o=new t.core.Point(n[e],i[e]);r.some((function(t){return t.x==o.x&&t.y==o.y}))||r.push(o)},a=0;a<o;a++)l(a);return r},i}(t._PointAdorner)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._getBarWidth=function(){return this._getPlotView()._barWidth()},i.prototype._getYValues=function(e){var n=this._getCartesianGroupView(),i=n._getYValue(e);if(t._isXyValuePointDataModel(e)&&(null==i.lowerY||isNaN(i.lowerY))){var o=n._yAxisView();i.lowerY=Math.max(0,o._scaleModel._minimum)}return new t._DataDomain(i.lowerY,i.upperY)},i.prototype._layoutContent=function(e,n,i){var o=this._data(),r=this._getXValues(o),l=this._getYValues(o);if(!(null==r._min||null==r._max||null==l._min||null==l._max||isNaN(r._min)||isNaN(r._max)||isNaN(l._min)||isNaN(l._max))){var a=t._NativeExtension._toNonNullNumber(r._min,0),u=t._NativeExtension._toNonNullNumber(r._max,0),s=t._NativeExtension._toNonNullNumber(l._min,0),_=t._NativeExtension._toNonNullNumber(l._max,0);this._setXPos(a+(u-a)/2);for(var p=this._getCartesianGroupView(),c=p._xAxisView(),h=p._yAxisView(),f=0,d=0,y=this._data()._getSeries().points();d<y.length;d++){var g=y[d],m=this._getYValues(g),v=null==m._max?0:m._max,w=null==m._min?0:m._min;v-w>f&&(f=v-w)}var b=h._scaleModel._scale._valueRange(),P=null==b._max?0:b._max,S=null==b._min?0:b._min,C=.5*(P-S)+S,V=.5*(_-s)*(0!=f?(P-S)/f:1);if(V>0){var x=C+V,D=C-V,O=h._scaleModel._value(x),A=h._scaleModel._value(D),L=c._scaleModel._value(u),T=c._scaleModel._value(a),M=this._getXOffset(p,L-T),E=this._getYOffset(p),I=p._swapAxes()?new t.core.Point(O+E,T+M):new t.core.Point(T+M,O+E),B=p._swapAxes()?new t.core.Point(O+E,L+M):new t.core.Point(L+M,O+E),R=p._swapAxes()?new t.core.Point(A+E,T+M):new t.core.Point(T+M,A+E),k=p._swapAxes()?new t.core.Point(A+E,L+M):new t.core.Point(L+M,A+E),N=new t._FunnelPolygon(I,B,B,k,R,I);return this._setFunnelPolygon(N),this._refresh(),p._getCartesianPlotView()._visualViews.push(this),void(this._visible=!0)}}this._visible=!1},i}(t._FunnelCartesianPointView);t._BarFunnelPointView=e}(t||(t={})),function(t){t._isBarFunnelPointView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getBarWidth=function(){return this._getPlotView()._barWidth()},i.prototype._layoutContent=function(e,n,i){for(var o=this._data(),r=this._getCartesianPlotView()._getCartesianPlotDataModel(),l=null,a=0;a<r._points().length&&o!=r._points()[a];a++)l=r._points()[a];var u=this._getXValues(o),s=this._getYValues(o);if(!(null==u._min||null==u._max||null==s._min||null==s._max||isNaN(u._min)||isNaN(u._max)||isNaN(s._min)||isNaN(s._max))){var _=t._NativeExtension._toNonNullNumber(u._min,0),p=t._NativeExtension._toNonNullNumber(u._max,0);this._setXPos(_+(p-_)/2);var c=this._getCartesianGroupView(),h=c._xAxisView(),f=c._yAxisView(),d=null==f._scaleModel._maximum?0:f._scaleModel._maximum,y=null==f._scaleModel._minimum?0:f._scaleModel._minimum,g=.5*(d-y)+y,m=.5*((null==s._max?0:s._max)-(null==s._min?0:s._min));if(m>0){var v=g+m,w=g-m,b=f._scaleModel._value(v),P=f._scaleModel._value(w),S=b,C=P;if(null!=l){var V=this._getYValues(l),x=null==V._max?0:V._max,D=null==V._min?0:V._min,O=g+.5*(x-D),A=g-.5*(x-D),L=f._scaleModel._value(O),T=f._scaleModel._value(A);S=null==L?0:L,C=null==T?0:T}var M=h._scaleModel._value(u._max),E=h._scaleModel._value(u._min),I=this._getXOffset(c,M-E),B=this._getYOffset(c),R=c._swapAxes()?new t.core.Point(S+B,E+I):new t.core.Point(E+I,S+B),k=c._swapAxes()?new t.core.Point(b+B,M+I):new t.core.Point(M+I,b+B),N=c._swapAxes()?new t.core.Point(C+B,E+I):new t.core.Point(E+I,C+B),F=c._swapAxes()?new t.core.Point(P+B,M+I):new t.core.Point(M+I,P+B),U=new t._FunnelPolygon(R,k,k,F,N,R);return this._setFunnelPolygon(U),this._refresh(),c._getCartesianPlotView()._visualViews.push(this),void(this._visible=!0)}}this._visible=!1},i.prototype._isBaseLinePoint=function(){return!1},i}(t._FunnelCartesianPointView);t._EqualBarFunnelCartesianPointView=e}(t||(t={})),function(t){t._isFunnelCartesianPointView=function(t){var e=t;return null!=e&&"function"==typeof e._setFunnelPolygon&&"function"==typeof e._isBaseLinePoint&&"function"==typeof e._getFunnelPolygon&&"function"==typeof e._refresh}}(t||(t={})),function(t){t._isBarCartesianPointView=function(t){return null!=t&&"function"==typeof t._isAlternate}}(t||(t={})),function(t){var e=function(e){function o(n,i,o,r){var l=e.call(this,n,i,r)||this;return l.__center=new t.core.Point(0,0),l.__radius=0,l.__innerRadius=0,l.__startAngle=0,l.__sweep=0,l.__needRefresh=!1,l.__dataPointViewLayout=o,l.__shape=null,l.__shapePath=null,l.__shapePathCalculateCallback=l._getShapePathCalculateCallback(),l}return n(o,e),o.prototype._getDonutShape=function(){return this.__needRefresh&&this._calculateShapeInfo(),null==this.__shape&&(this.__shape=new t._DonutShape(this.__center.clone(),this.__radius,this.__innerRadius,this.__startAngle,this.__sweep)),this._isEmptyShape(this.__shape)?null:this.__shape},o.prototype._getPointCoordOnDonutShape=function(e,n){var i=this._getPlotView()._getPointSpacePolicy();if(null!=i)return i._getPointCoordOnDonutShapeWithSpace(e,n,this.__center.x,this.__center.y,this.__radius,this.__innerRadius,this.__startAngle,this.__sweep);var o=this._getDonutShape();return null==o?null:new t.core.Point(o.center.x+Math.cos(e)*n,o.center.y+Math.sin(e)*n)},o.prototype._checkDonutShapeContains=function(t,e,n,i,o,r){var l=t.x-e.x,a=t.y-e.y,u=l*l+a*a;if(u>=i*i&&u<=n*n){var s=90*r/Math.PI,_=this._clampAngle(180*o/Math.PI+s),p=180*Math.atan2(a,l)/Math.PI,c=this._clampAngle(_-p);if(Math.abs(c)<=s)return!0}return!1},o.prototype._renderRadialBar=function(e,n,i,o,r,l,a,u){var s=u(),_=this._getCartesianPlotView()._getDefinition()._plotConfigOption.gradientFillDirection;if(null!=_&&_!=t.GradientFillDirection.Default&&e.fill instanceof t._RadialGradientColor){var p=e.fill;e.beginTransform();var c=t._ColorStopUtility._calcColorStopWithRadius(p.colorStops,_==t.GradientFillDirection.InnerRadius?r:0,o),h=new t.core.Point(.5,.5),f=new t._RadialGradientColor(h,.5,h,.5,c),d=e.fillOpacity;if(e.fill=f,e.fillOpacity=d,o==r&&a>=t._Utility._PI2)e.drawDonut(i.x,i.y,o,r,l,a,null);else{var y=null;if(null!=s)y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(s);else{var g=t._PathBuilder._defaultPathBuilder._buildDonutSegment(i.x,i.y,o,r,l,a);y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(g)}e.beginTransform(),e.stroke=t._CssColor._none(),e.drawEllipse(i.x,i.y,o,o,y),e.restoreTransform(),e.fill=t._CssColor._none(),null!=s?e.drawPath(s,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(i.x,i.y,o,r,l,a,null)}e.restoreTransform()}else null!=s?e.drawPath(s,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(i.x,i.y,o,r,l,a,null)},o.prototype._isEmptyShape=function(t){return null==t.center&&0==t.radius&&0==t.innerRadius&&0==t.startAngle&&0==t.sweepAngle},o.prototype._getShapePathCalculateCallback=function(){var t=this;return function(){return t.__needRefresh&&t._calculateShapeInfo(),t.__shapePath}},o.prototype._shape=function(){var e=this._getDonutShape();return null==e?null:new t._DonutShape(e.center.clone(),e.radius,e.innerRadius,e.startAngle,e.sweepAngle)},o.prototype._getCenter=function(){return this.__center},o.prototype._setCenter=function(t){null!=t&&(null==this.__center||this.__center.equalsWith(t)||(this.__needRefresh=!0),this.__center=t.clone())},o.prototype._getRadius=function(){return this.__radius},o.prototype._setRadius=function(t){null!=t&&(this.__radius!=t&&(this.__needRefresh=!0),this.__radius=t)},o.prototype._getInnerRadius=function(){return this.__innerRadius},o.prototype._setInnerRadius=function(t){null!=t&&(t<0&&(t=0),this.__innerRadius!=t&&(this.__needRefresh=!0),this.__innerRadius=t)},o.prototype._getStartAngle=function(){return this.__startAngle},o.prototype._setStartAngle=function(t){null!=t&&(this.__startAngle!=t&&(this.__needRefresh=!0),this.__startAngle=t)},o.prototype._getSweep=function(){return this.__sweep},o.prototype._setSweep=function(t){null!=t&&(this.__sweep!=t&&(this.__needRefresh=!0),this.__sweep=t)},o.prototype._contains=function(t){var e=this._getDonutShape();if(null!=e){var n=e.center,i=e.radius,o=e.innerRadius,r=e.startAngle,l=e.sweepAngle;return this._checkDonutShapeContains(t,n,i,o,r,l)}return!1},o.prototype._clampAngle=function(t){var e=(t+180)%360-180;return e<-180&&(e+=360),e},o.prototype._draw=function(t,n){e.prototype._draw.call(this,t,n);var i=this.__center,o=this.__radius*((this._scale-1)/2+1),r=this.__innerRadius*(1-(this._scale-1)/2),l=this.__startAngle,a=this.__sweep;this._renderRadialBar(t,n,i,o,r,l,a,this.__shapePathCalculateCallback)},o.prototype._getXs=function(){return(null==this._xs||this.__needRefresh)&&this._refreshXY(),this._xs},o.prototype._getYs=function(){return(null==this._ys||this.__needRefresh)&&this._refreshXY(),this._ys},o.prototype._refreshXY=function(){var t=this._createRadialBarPointViewPts();this._setXs(t._xs),this._setYs(t._ys),this.__needRefresh=!1},o.prototype._createRadialBarPointViewPts=function(){var e=this._getShapePath(this.__shapePathCalculateCallback);if(null!=e){var n=this._getPathCommandTypeWeights();return t._PathUtility._createPtsFromPath(e,200,n)}return t._Util.createPtsFromRadialBar(this.__startAngle,this.__sweep+this.__startAngle,this.__radius,this.__innerRadius,this.__center,200)},o.prototype._getShapePath=function(t){return t()},o.prototype._getPathCommandTypeWeights=function(){var e=new t._Map;return e._set(t.PathCommandType.MoveTo,0),e._set(t.PathCommandType.LineTo,1),e._set(t.PathCommandType.CurveTo,1),e._set(t.PathCommandType.QuadraticCurveTo,5),e._set(t.PathCommandType.Arc,1),e._set(t.PathCommandType.Close,0),e},o.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._data(),l=this._getXValues(r),a=this._getYValues(r),u=this._getCartesianGroupView(),s=this._getPlotView(),_=u._xAxisView(),p=u._yAxisView(),c=_._scaleModel._value(l._min),h=_._scaleModel._value(l._max),f=p._scaleModel._value(a._min),d=p._scaleModel._value(a._max);if(null==c||null==h||null==f||null==d||isNaN(c)||isNaN(h)||isNaN(f)||isNaN(d))this._visible=!1;else{if(null!=l._min&&null!=l._max){var y=t._NativeExtension._toNonNullNumber(l._min,0),g=t._NativeExtension._toNonNullNumber(l._max,0);this._setXPos(y+(g-y)/2)}var m=Math.min(c,h),v=Math.max(c,h),w=Math.min(f,d),b=Math.max(f,d);if(u._swapAxes()){var P=w,S=b;w=m,b=v,m=P,v=S}var C=v-m,V=b-w;u._swapAxes()||C<1&&(C=1);var x=null==this.radialOffset?u._getXOffset():this.radialOffset;(null==x||isNaN(x))&&(x=0);var D=u._cx()+x*Math.cos(w+V/2)*C,O=u._cy()+x*Math.sin(w+V/2)*C,A=s._isPie(),L=u._getXOffset();null!=L&&!isNaN(L)&&L>0&&A&&(C*=1-L);var T=new t._DonutShape(new t.core.Point(D,O),m+C,m,w,V);u._swapAxes()||a._max==a._min&&null!=a._min&&0==V&&(T=this.__dataPointViewLayout.layout(T,u._swapAxes()),D=u._cx()+x*Math.cos(w+T.sweepAngle/2)*C,O=u._cy()+x*Math.sin(w+T.sweepAngle/2)*C),this.__center=new t.core.Point(D,O),this.__radius=m+C,this.__innerRadius=m<0?0:m,this.__startAngle=w,this.__sweep=T.sweepAngle,this._calculateShapeInfo(),u._getCartesianPlotView()._visualViews.push(this),this._visible=!0}},o.prototype._calculateShapeInfo=function(){var t=this._getPlotView()._getPointSpacePolicy(),e=this._getDefinition()._dvConfigOption.bar.borderRadius;this.__shape=this._buildDonutShape(t),this.__shapePath=this._buildRadialBarShapePath(t,e)},o.prototype._buildDonutShape=function(e){return null!=e?e._getDonutShapeWithSpace(this.__center.x,this.__center.y,this.__radius,this.__innerRadius,this.__startAngle,this.__sweep):new t._DonutShape(this.__center.clone(),this.__radius,this.__innerRadius,this.__startAngle,this.__sweep)},o.prototype._buildRadialBarShapePath=function(e,n){var i=null;return null!=e&&(i=e._buildDonutSegmentWithSpace(this.__center.x,this.__center.y,this.__radius,this.__innerRadius,this.__startAngle,this.__sweep,n)),null==i&&(i=t._PathUtility._buildDonutSegmentWithBorderRadius(this.__center.x,this.__center.y,this.__radius,this.__innerRadius,this.__startAngle,this.__sweep,n)),i},o.prototype._getXValues=function(e,n){var i=this._getPlotView(),o=i._getXValue(e),r=new t._DataDomain(NaN,NaN),l=this._getCartesianSeriesView(),a=l._getCluster(),u=t._BarExtension._barExtension(i._cartesianCoordinateSystemView()),s=i.__getClusterWidth(e._getSeries());(isNaN(s)||null==s)&&(s=this._getBarWidth());var _=i._getWidth(u._clusterCount(a),s),p=i._getWidth(u._clusterCount(a),1);if(null==_||null==p)return r;var c=l._getBarIndexInCluster(),h=0,f=u._clusterCount(a);if(f>1){var d=i._minDistanceInDimensionValues();null==d&&(d=1),h=.5*(_-d*s)+(_+(d*s-_*f)/(f-1))*c}return null==o&&(o=0),i._swapAxes()?(r._min=this._getMinXValue(o,h,_,s),r._max=this._getMaxXValue(o,h,_,s)):(r._min=o+h-.5*p,r._max=o+h+.5*(_-(p-_))),r},o.prototype._getMinXValue=function(t,e,n,i){return t-.5*(1-i)+e-.5*n},o.prototype._getMaxXValue=function(t,e,n,i){return t-.5*(1-i)+e+.5*n},o.prototype._tracker=function(){for(var t=[],e=0,n=this._getDefinition()._plotConfigOption.trackers;e<n.length;e++){var i=n[e],o=this._getTrackersWithOption(i);null!=o&&o.length>0&&o.forEach((function(e){t.push(e)}))}return t},o.prototype._getTrackersWithOption=function(e){var n=this._shape(),i=this._getCartesianGroupView(),o=i._xAxisView(),r=o._innerRadius*o._radius,l=o._radius;if(e.type==t.TrackerType.Area);else{if(e.type==t.TrackerType.CrossY){if(i._swapAxes()){var a=this.__startAngle+this.__sweep/2-3*Math.PI/2,u=this._calculatePoint(r,a),s=this._calculatePoint(l,a);return[new t.models._TrackStraightLine(e,u,s,n)]}var _=this.__innerRadius+(this.__radius-this.__innerRadius)/2;return[new t.models._RadialTrackLine(e,this.__center.x,this.__center.y,_,o._startAngle(),o._sweep,n)]}if(e.type==t.TrackerType.CrossX){var p=this._data();if(t._isXyValuePointDataModel(p))return this._isAlternate()?i._swapAxes()?(_=this.__innerRadius,[new t.models._RadialTrackLine(e,this.__center.x,this.__center.y,_,o._startAngle(),o._sweep,n)]):(u=this._calculatePoint(r,this.__startAngle),s=this._calculatePoint(l,this.__startAngle),[new t.models._TrackStraightLine(e,u,s,n)]):i._swapAxes()?(_=this.__radius,[new t.models._RadialTrackLine(e,this.__center.x,this.__center.y,_,o._startAngle(),o._sweep,n)]):(a=this.__startAngle+this.__sweep-3*Math.PI/2,u=this._calculatePoint(r,a),s=this._calculatePoint(l,a),[new t.models._TrackStraightLine(e,u,s,n)]);if(t._isRangeValuePointDataModel(p)){var c=null,h=null;if(i._swapAxes())return c=new t._DonutShape(this.__center,this.__radius,this.__innerRadius+(this.__radius-this.__innerRadius)/2,this.__startAngle,this.__sweep),h=new t._DonutShape(this.__center,this.__radius-(this.__radius-this.__innerRadius)/2,this.__innerRadius,this.__startAngle,this.__sweep),[new t.models._RadialTrackLine(e,this.__center.x,this.__center.y,this.__radius,o._startAngle(),o._sweep,c),new t.models._RadialTrackLine(e,this.__center.x,this.__center.y,this.__innerRadius,o._startAngle(),o._sweep,h)];a=this.__startAngle+this.__sweep-3*Math.PI/2,c=new t._DonutShape(this.__center,this.__radius,this.__innerRadius,this.__startAngle+this.__sweep/2,this.__sweep/2),h=new t._DonutShape(this.__center,this.__radius,this.__innerRadius,this.__startAngle,this.__sweep/2),u=this._calculatePoint(r,a),s=this._calculatePoint(l,a);var f=this._calculatePoint(r,this.__startAngle-3*Math.PI/2),d=this._calculatePoint(l,this.__startAngle-3*Math.PI/2);return[new t.models._TrackStraightLine(e,u,s,c),new t.models._TrackStraightLine(e,f,d,h)]}}}return null},o.prototype._calculatePoint=function(e,n){var i=this.__center.x+Math.sin(n)*e,o=this.__center.y-Math.cos(n)*e;return new t.core.Point(i,o)},o.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._CartesianRadialBarPointViewAttachmentAgent(this))},o.prototype._selectionAdorner=function(){return new i(this)},o.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._RadialBarDataLabelView(this,n,e):null},o.prototype._backgroundShape=function(){return null==this.___backgroundShape&&(this.___backgroundShape=this._buildRadialBackgroundShape()),this.___backgroundShape},o.prototype.queryInterface=function(t){return"IBarRadialCartesianPointView"===t||"IRadialCartesianPointModel"==t||"IBarRadialCartesianPointShapeView"===t?this:e.prototype.queryInterface.call(this,t)},o}(t._BaseBarCartesianPointView);t._BarRadialCartesianPointView=e;var i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._createPoints=function(e){var n=e._getPlotView()._getPointSpacePolicy();if(null!=n){var i=e._getCenter(),o=e._getRadius(),r=e._getInnerRadius(),l=e._getStartAngle(),a=e._getSweep();return n._getDonutShapePointsWithSpace(i.x,i.y,o,r,l,a)}var u=e._getDonutShape(),s=u.center,_=u.radius,p=u.innerRadius,c=u.startAngle,h=u.sweepAngle;0==h&&(h=1);var f=1;h>4?f=3:h>2&&(f=2);for(var d=[],y=0;y<=f;y++){var g=c+y/f*h;d.push(new t.core.Point(s.x+Math.cos(g)*_,s.y+Math.sin(g)*_))}if(0===p)d.push(s.clone());else for(y=0;y<=f;y++)g=c+y/f*h,d.push(new t.core.Point(s.x+Math.cos(g)*p,s.y+Math.sin(g)*p));return d},i}(t._PointAdorner)}(t||(t={})),function(t){t._isRadialBarCartesianPointView=function(e){if(null==e)return!1;if(!t._isRadialPointView(e)||!t._isBarCartesianPointView(e))return!1;var n=e;return"function"==typeof n._getDonutShape&&"function"==typeof n._getPointCoordOnDonutShape&&"function"==typeof n._checkDonutShapeContains&&"function"==typeof n._renderRadialBar}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getMinXValue=function(t,e,n,i){return t+e-.5*n},i.prototype._getMaxXValue=function(t,e,n,i){return t+e+.5*n},i.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._PolygonalBarDataLabelView(this,n,e):null},i}(t._BarRadialCartesianPointView);t._PolygonalBarCartesianPointView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__dataPointViewLayout=i,r}return n(i,e),i.prototype._contains=function(t){var e=this._rectangle();return null!=e&&e.contains(t)},i.prototype._draw=function(t,n){e.prototype._draw.call(this,t,n),this._getPlotView()._getBarPointViewRender()._render(this,t,n)},i.prototype._getXs=function(){return null==this._xs&&this._refreshXY(),this._xs},i.prototype._getYs=function(){return null==this._ys&&this._refreshXY(),this._ys},i.prototype._getStrokeWidth=function(t){var e=this._getStyleStrokeWidth();if(t.hasSelectionInPlotArea)if(this._isSelected()){var n=this._getSelectedStyleStrokeWidth();null!=n&&(e=n);var i=t.apiSelectedStyle;null!=i&&null!=i.strokeWidth&&(e=i.strokeWidth)}else{var o=this._getUnselectedStyleStrokeWidth();null!=o&&(e=o)}return this._isHover()&&null!=this._getDefinition()._plotConfigOption.hoverStyle.strokeWidth&&(e=this._getDefinition()._plotConfigOption.hoverStyle.strokeWidth),e},i.prototype._refreshXY=function(){var e,n=this._getDefinition()._dvConfigOption.bar.borderRadius;e=null!=t._PathUtility._buildRectangleWithBorderRadius(this._rectangle().left,this._rectangle().top,this._rectangle().width,this._rectangle().height,n)?t.shapes._BorderRadiusExtension._createPtsFromBorderRadiusRect(this._rectangle().left,this._rectangle().top,this._rectangle().width,this._rectangle().height,n,200):t._Util.createPtsFromRect(this._rectangle(),200),this._setXs(e._xs),this._setYs(e._ys)},i.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._data(),l=this._getXValues(r),a=this._getYValues(r),u=this._getCartesianGroupView(),s=u._xAxisView(),_=u._yAxisView(),p=s._scaleModel._value(l._min),c=s._scaleModel._value(l._max),h=_._scaleModel._value(a._min),f=_._scaleModel._value(a._max);if(null==p||null==c||null==h||null==f||isNaN(p)||isNaN(c)||isNaN(h)||isNaN(f))this._visible=!1;else{if(null!=l._min&&null!=l._max){var d=t._NativeExtension._toNonNullNumber(l._min,0),y=t._NativeExtension._toNonNullNumber(l._max,0);this._setXPos(d+(y-d)/2)}var g=Math.min(p,c),m=Math.max(p,c),v=Math.min(h,f),w=m-g;w<1&&(w=1);var b=Math.max(h,f)-v,P=u._swapAxes()?new t.core.Rect(v,g,b,w):new t.core.Rect(g,v,w,b);a._max==a._min&&null!=a._min&&b<1&&(P=this.__dataPointViewLayout.layout(P,u._swapAxes()));var S=this._getXOffset(u,w),C=this._getYOffset(u);P.offset(u._swapAxes()?C:S,u._swapAxes()?S:C),this._updateRectangle(P),u._getCartesianPlotView()._visualViews.push(this),this._visible=!0}},i.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._BarPointViewRectangleAttachmentAgent(this))},i.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._CartesianBarDataLabelView(this,n,e):null},i.prototype._isVisible=function(){if(this.valueIsOutOfAxesRange){var t=this._rectangle(),n=this._getCartesianPlotView()._rectangle();if(!t.intersectsWith(n))return!1}return e.prototype._isVisible.call(this)},i.prototype._getXOffset=function(t,e){var n=null==this.xOffset?t._getXOffset():this.xOffset;return(null==n||isNaN(n))&&(n=0),n*e},i.prototype._getYOffset=function(t){var e=null==this.yOffset?t._getYOffset():this.yOffset;return(null==e||isNaN(e))&&(e=0),e},i.prototype._backgroundShape=function(){return null==this.___backgroundShape&&(this.___backgroundShape=this._buildCartesianBackgroundShape()),this.___backgroundShape},i}(t._BaseBarCartesianPointView);t._BarXyCartesianPointView=e}(t||(t={})),function(t){t._isBarXyCartesianPointView=function(e){if(null==e)return!1;if(!t._isCartesianPointView(e))return!1;var n=e;return"function"==typeof n._isBaseLinePoint&&"function"==typeof n._getStrokeWidth}}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return n(e,t),Object.defineProperty(e.prototype,"lower",{get:function(){return this._data().lower},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"upper",{get:function(){return this._data().upper},enumerable:!1,configurable:!0}),e.prototype.queryInterface=function(e){return"ICartesianRangePointModel"==e?this:t.prototype.queryInterface.call(this,e)},e}(t._BarXyCartesianPointView);t._RangeBarCartesianPointView=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.__barIndexInCluster=0,i.__cluster="",i}return n(e,t),e.prototype._layoutContent=function(e,n,i){t.prototype._layoutContent.call(this,e,n,i)},e.prototype._getBarIndexInCluster=function(){return this.__barIndexInCluster},e.prototype._setBarIndexInCluster=function(t){this.__barIndexInCluster=t},e.prototype._getCluster=function(){return this.__cluster},e.prototype._setCluster=function(t){this.__cluster=t},e}(t._BaseCartesianSeriesView);t._BarCartesianSeriesView=e}(t||(t={})),function(t){t._isBarCartesianSeriesView=function(t){return null!=t&&"function"==typeof t._getBarIndexInCluster}}(t||(t={})),function(t){var e=function(e){function o(n,o,r){return e.call(this,n,o,r,new i,new t._CartesianPlotDataBuilder,new t._CartesianEncodingsDefinitionBuilder,null)||this}return n(o,e),o}(t._BaseCartesianPlotDefinition);t._EmptyCartesianPlotDefinition=e;var i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e&&t._isCartesianPlotDataModel(o)?new t._EmptyCartesianPlotView(n,i,o):null},n}()}(t||(t={})),function(t){var e=function(){function e(){this.name="Empty",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildPlotDefinition=function(e,n,i){return"Empty"===n.type?new t._EmptyCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._EmptyCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype._createCartesianGroupView=function(t){return null},e.prototype._createCartesianPointView=function(t,e){return null},e}(t._BaseCartesianPlotView);t._EmptyCartesianPlotView=e}(t||(t={})),function(t){var e=function(e){function o(n,o,r,l,a,u){return void 0===l&&(l=null),void 0===a&&(a=null),void 0===u&&(u=null),e.call(this,n,o,r,null==l?new i:l,null,null==a?new t._LineScatterCartesianEncodingsDefinitionBuilder:a,null==u?new t._LineCartesianLegendSymbolViewBuilder(!0,!1):u)||this}return n(o,e),o}(t._BaseCartesianPlotDefinition);t._LineCartesianPlotDefinition=e;var i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e&&t._isCartesianPlotDataModel(o)?new t._LineCartesianPlotView(n,i,o):null},n}()}(t||(t={})),function(t){var e=function(){function e(){this.name="Line",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Line"===n.type?new t._LineCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=null!=e._plotConfigOption.symbols&&e._plotConfigOption.symbols,i=new t._CartesianLineLegendSymbolView(n);return i._setPlotDefinition(e),i},i}(t._LegendSymbolViewBuilder);t._LineCartesianLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createValueEncodingDefinition=function(t,e,n){if(null==n._categoryEncodingDefinition){var i=this._createXyValueEncodingDefinition(t,e,n);if(null!=i)return i}return this._createAggregateValueEncodingDefinition(t,e,n)},i.prototype._createXyValueEncodingDefinition=function(e,n,i){return t._XyValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n)},i.prototype._createAggregateValueEncodingDefinition=function(e,n,i){return new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n)},i}(t._CartesianEncodingsDefinitionBuilder);t._LineScatterCartesianEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLineShapeViews=function(e){for(var n=[],i=e,o=this._calculatePointSplitedIndexesByStyle(i),r=this._buildSplitedLineShapes(i,o),l=0,a=0,u=0;u<r.length;u++){a=u<o.length?o[u]:i.length-1;var s=e.slice(l,a+1),_=i[a]._internalStyle(),p=t._StyleUtility._buildStyle();t._OptionUtility._applyDataPointStyleOption(p,_),n.push(new t._LineShapeView(r[u],s,p)),l=a}return n},e.prototype._calculatePointSplitedIndexesByStyle=function(e){var n=e.length;if(n<=1)return[];for(var i=[],o=1;o<n-1;o++){var r=e[o].style,l=e[o+1].style;t._OptionUtility._areDataPointStyleOptionLineStyleEquals(r,l)||i.push(o)}return i},e}();t._LineShapeViewsBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;return i.__pointViewDataValueCallback=t,i.__pointValueToAxisValueCallback=n,i}return n(i,e),i.prototype._buildSplitedLineShapes=function(e,n){var i=this.__pointViewDataValueCallback,o=this.__pointValueToAxisValueCallback,r=e.map((function(t){return i(t)})),l=r.map((function(t){return o(t)})),a=t._StepShapesUtility._interpolatePointDataValuesAsSegment(r,this._getLineAspect(),!1).map((function(t){return t.map((function(t){return o(t)}))}));return this._splitPolylineToShapes(a,l,n)},i.prototype._splitPolylineToShapes=function(e,n,i){var o=[],r=i.slice();r.unshift(0),r.push(e.length);for(var l=0;l<r.length-1;++l){for(var a=e.slice(r[l],r[l+1]),u=[],s=0;s<a.length;++s)for(var _=a[s],p=0;p<_.length-1;++p)u.push(_[p]);if(a.length>0){var c=a[a.length-1];c.length>0&&u.push(c[c.length-1])}o.push(new t._StepLineShape(u,a,null))}return o},i}(t._LineShapeViewsBuilder);t._StepLineShapeViewsBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__pointViewToAxisValueCallback=t,n}return n(i,e),i.prototype._buildSplitedLineShapes=function(e,n){var i=this.__pointViewToAxisValueCallback,o=e.map((function(t){return i(t)})),r=(o=o.filter((function(t){return null!=t}))).map((function(t){return t.x})),l=o.map((function(t){return t.y})),a=[];return t._BezierCurveShape._calculateControlPoints(r,l,a),this._splitBezierToShapes(n,r,l,a)},i.prototype._splitBezierToShapes=function(e,n,i,o){for(var r=[],l=Math.min(n.length,i.length),a=0,u=0;u<l;u++)if(e.indexOf(u)>=0){var s=n.slice(a,u+1),_=i.slice(a,u+1),p=o.slice(a,u);r.push(new t._BezierCurveShape(s,_,p,null)),a=u}var c=n.slice(a,l),h=i.slice(a,l),f=o.slice(a,l-1);return r.push(new t._BezierCurveShape(c,h,f,null)),r},i}(t._LineShapeViewsBuilder);t._BezierShapeViewsBuilder=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e,n){this._shape=t,this.__symbolPointViews=e,this.__style=n}return t.prototype._getSymbolPointViews=function(){return this.__symbolPointViews},t.prototype._getLineShapeStyle=function(){return this.__style},t}();t._LineShapeView=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__pointViewToAxisValueCallback=t,n}return n(i,e),i.prototype._buildSplitedLineShapes=function(t,e){var n=this.__pointViewToAxisValueCallback,i=t.map((function(t){return n(t)}));return i=i.filter((function(t){return null!=t})),this._splinePolylineToShapes(i,e)},i.prototype._splinePolylineToShapes=function(e,n){for(var i=[],o=this._splitLinePointValues(e,n),r=0;r<o.length;r++)i.push(new t._PolylineShape(o[r],null));return i},i.prototype._splitLinePointValues=function(t,e){for(var n=[],i=0,o=0;o<t.length;o++)null!=t[o]&&e.indexOf(o)>=0&&(n.push(t.slice(i,o+1)),i=o);return n.push(t.slice(i,t.length)),n},i}(t._LineShapeViewsBuilder);t._PolylineShapeViewsBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__pointViewToAxisValueCallback=t,n}return n(i,e),i.prototype._buildSplitedLineShapes=function(e,n){var i=this.__pointViewToAxisValueCallback,o=e.map((function(t){return i(t)})),r=(o=o.filter((function(t){return null!=t}))).map((function(t){return t.x})),l=o.map((function(t){return t.y})),a=[],u=[],s=[],_=[];return t._SplineCurveShape._calculateCoefficients(r,l,a,u,s,_),this._splitSplineToShapes(n,r,l,a,u,s,_)},i.prototype._splitSplineToShapes=function(e,n,i,o,r,l,a){for(var u=[],s=Math.min(n.length,i.length),_=0,p=0;p<s;p++)if(e.indexOf(p)>=0){var c=n.slice(_,p+1),h=i.slice(_,p+1),f=o.slice(_,p),d=r.slice(_,p),y=l.slice(_,p),g=a.slice(_,p);u.push(new t._SplineCurveShape(c,h,f,d,y,g,null)),_=p}var m=n.slice(_,s),v=i.slice(_,s),w=o.slice(_,s-1),b=r.slice(_,s-1),P=l.slice(_,s-1),S=a.slice(_,s-1);return u.push(new t._SplineCurveShape(m,v,w,b,P,S,null)),u},i}(t._LineShapeViewsBuilder);t._SplineShapeViewsBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getLineAspect=function(){return t.LineAspect.StepCenter},i}(t._StepLineShapeViewsBuilder);t._StepCenterLineShapeViewsBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getLineAspect=function(){return t.LineAspect.StepLeft},i}(t._StepLineShapeViewsBuilder);t._StepLeftLineShapeViewsBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getLineAspect=function(){return t.LineAspect.StepRight},i}(t._StepLineShapeViewsBuilder);t._StepRightLineShapeViewsBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._interpolatePointDataValues=function(t,e,n){for(var i=this._interpolatePointDataValuesAsSegment(t,e,n),o=[],r=0;r<i.length;++r)for(var l=i[r],a=0;a<l.length-1;++a)o.push(l[a]);if(i.length>0){var u=i[i.length-1];u.length>0&&o.push(u[u.length-1])}return o},e._interpolatePointDataValuesAsSegment=function(e,n,i){if((e=e.filter((function(t){return null!=t}))).length>1){if(i&&n==t.LineAspect.StepLeft||!i&&n==t.LineAspect.StepRight){for(var o=[],r=[],l=0;l<e.length-1;l++)r.push(e[l]),r.push(new t.core.Point(e[l+1].x,e[l].y)),r.push(e[l+1]),o.push(r),r=[];return o}if(i&&n==t.LineAspect.StepRight||!i&&n==t.LineAspect.StepLeft){for(o=[],r=[],l=0;l<e.length-1;l++)r.push(e[l]),r.push(new t.core.Point(e[l].x,e[l+1].y)),r.push(e[l+1]),o.push(r),r=[];return o}if(i&&n==t.LineAspect.StepCenter){for(o=[],r=[],l=0;l<e.length-1;l++){r.push(e[l]);var a=e[l].y+(e[l+1].y-e[l].y)/2;r.push(new t.core.Point(e[l].x,a)),r.push(new t.core.Point(e[l+1].x,a)),r.push(e[l+1]),o.push(r),r=[]}return o}if(!i&&n==t.LineAspect.StepCenter){for(o=[],r=[],l=0;l<e.length-1;l++){r.push(e[l]);var u=e[l].x+(e[l+1].x-e[l].x)/2;r.push(new t.core.Point(u,e[l].y)),r.push(new t.core.Point(u,e[l+1].y)),r.push(e[l+1]),o.push(r),r=[]}return o}}var s=[];return s.push(e),s},e}();t._StepShapesUtility=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createCartesianSeriesView=function(e){return new t._LineCartesianSeriesView(this,e)},i}(t._BaseCartesianGroupView);t._LineCartesianGroupView=e}(t||(t={})),function(t){t._isLineCartesianPlotView=function(e){return null!=e&&e instanceof t._LineCartesianPlotView}}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._createCartesianGroupView=function(e){return new t._LineCartesianGroupView(this,e)},i.prototype._getDataLabelsRender=function(){return new t._CartesianSymbolDataLabelsRender(this)},i.prototype._showNulls=function(){return this._isStack()?t.ShowNulls.Zeros:e.prototype._showNulls.call(this)},i.prototype._showNaNs=function(){return this._isStack()?t.ShowNulls.Zeros:e.prototype._showNaNs.call(this)},i.prototype._analysisFitRangePadding=function(){this.showSymbol()&&e.prototype._analysisFitRangePadding.call(this)},i.prototype._createCartesianPointView=function(e,n){var i=this._definition._plotConfigOption.axisMode;return i==t.AxisMode.Cartesian?new t._XySymbolCartesianPointView(e,n,null):i==t.AxisMode.Radial?new t._RadialSymbolCartesianPointView(e,n,null):new t._PolygonalSymbolCartesianPointView(e,n,null)},i.prototype._layoutGroupViews=function(t,n,i){for(var o=0,r=this._groupViews;o<r.length;o++)for(var l=0,a=r[o]._getCartesianSeriesViews();l<a.length;l++){var u=a[l];this._visualViews.push(u)}e.prototype._layoutGroupViews.call(this,t,n,i)},i.prototype._xPadding=function(){if(t._isCartesianCategoryPlotDataModel(this._dataModel)){if(this._axisMode()==t.AxisMode.Cartesian)return.5;if(!this._swapAxes())return.5}return e.prototype._xPadding.call(this)},i.prototype._getModifiedOutlineRectangle=function(t){return this.showSymbol()?e.prototype._getModifiedOutlineRectangle.call(this,t):t},i}(t._BaseCartesianPlotView);t._LineCartesianPlotView=e}(t||(t={})),function(t){t._isLineCartesianSeriesView=function(t){var e=t;return null!=e&&"function"==typeof e._shapes&&"function"==typeof e._setShapePointViews&&"function"==typeof e._swapAxes&&"function"==typeof e._setSeriesShapes&&"function"==typeof e._renderLineShapes&&"function"==typeof e._findSegment}}(t||(t={})),function(t){var e=function(e){function o(n,o){var r=e.call(this,n,o)||this;return r.__lineAspect=null,r.__seriesShapes=[],r.__seriesShapeStyles=[],r.__shapePointViews=[],r.__drawablePipeLine=new t.DisplayablePipeLine(r),r.__lineShapesWithStyleBuilder=new i(r),r}return n(o,e),Object.defineProperty(o.prototype,"lineAspect",{get:function(){return null==this.__lineAspect?this._getDefinition()._plotConfigOption.lineAspect:this.__lineAspect},set:function(t){this.__lineAspect=t},enumerable:!1,configurable:!0}),o.prototype.queryInterface=function(t){return"IDisplayablePipeLine"==t?this.__drawablePipeLine:e.prototype.queryInterface.call(this,t)},o.prototype._renderLineShapes=function(e,n,i){var o=this;t._StyleUtility._applyStyle(e,this._defaultStyle()),this._applyColor(e),this._applyDataPointStyle(e,n),e.fill=t._CssColor._none(),i.forEach((function(i,r){e.beginTransform(),o._applyLineShapeStyle(e,o.__seriesShapeStyles[r]),o._applyDataPointStyleContext(e,n);var l=t._ShapeUtil._getShapePoints(i).filter((function(t){return null!=t}));if(l.length>1){var a=l.map((function(t){return t.x})),u=l.map((function(t){return t.y}));l[0].equalsWith(l[l.length-1])?e.drawPolygon(a,u):e.drawLines(a,u)}e.restoreTransform()}))},o.prototype._draw=function(t,e){this._renderLineShapes(t,e,this.__seriesShapes)},o.prototype._contains=function(e){for(var n=!0,i=0,o=this.__seriesShapes;i<o.length;i++){var r=o[i];t._ShapeUtil._shapeContainsPoint(r,e)||(n=!1)}return n},o.prototype._cutOff=function(){return!1},o.prototype._shapes=function(){for(var t=[],e=0,n=this.__seriesShapes;e<n.length;e++){var i=n[e];t.push(i.clone())}return t},o.prototype._getShapePointViews=function(){return this.__shapePointViews},o.prototype._setShapePointViews=function(t){this.__shapePointViews=t},o.prototype._swapAxes=function(){return this._ownerView._getCartesianPlotView()._swapAxes()},o.prototype._getSeriesShapes=function(){return this.__seriesShapes},o.prototype._setSeriesShapes=function(e){this.__seriesShapes=e.map((function(e){return t.shapes._isPolylineShape(e)?e:null}))},o.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this._generateLineShapes()},o.prototype._applyColor=function(e){var n=this._getCartesianSeriesDataModel(),i=this._ownerView._getCartesianPlotView(),o=this._getDefinition()._paletteColorProvider._defaultColor();null!=o&&(e.stroke=o);var r=this.color;if(null!=r&&(e.stroke=r),null!=n._getGradientColorScale()){for(var l=-Number.MAX_VALUE,a=Number.MAX_VALUE,u=0,s=this._pointViews;u<s.length;u++){var _=s[u]._data(),p=i._getYValue(_);null==p.upperY||isNaN(p.upperY)||(p.upperY>l&&(l=p.upperY),p.upperY<a&&(a=p.upperY))}e.stroke=new t._LinearGradientColor(360,n._getGradientColorScale()._calculateColorStopsOfRange(a,l))}},o.prototype._drawView=function(t,e){t.beginTransform(),this.__drawablePipeLine._flush(t,e),t.restoreTransform()},o.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rectangle();if(null!=r&&r.contains(n)&&null!=this.__seriesShapes)for(var l=0,a=this.__seriesShapes;l<a.length;l++){var u=a[l];if(null!=u&&t._ShapeUtil._shapeStrokeContainsPoint(u,n)){var s=new t.HitTestResult(n,this,this,t.ElementType.Series);return null==o||null!=o&&o.predicate(s)?s:null}}return e.prototype._hitTest.call(this,n,i,o)},o.prototype._createShapePointViews=function(e){if(e.length<=0)return[];e=e.slice(),this._isClosed()&&e.push(e[0]);for(var n=[],i=e.length,o=0,r=0;r<i;r++){var l=e[r],a=l._data();if(null!=this._ownerView._getCartesianPlotView()._getXValue(a)&&l._dataScaleFilteredType!=t._DataScaleFilteredType.Empty&&(n.length==o&&n.push(new Array),n[o].push(l),r<i-1)){var u=e[r+1];this._getConnectedStatus(l,u)||o++}}return n},o.prototype._generateLineShapes=function(){var t=this,e=this._createShapePointViews(this._viewportPointViews());this.__shapePointViews=[],this.__seriesShapes=[],this.__seriesShapeStyles=[];for(var n=this.lineAspect,i=0;i<e.length;i++){var o=e[i];this.__lineShapesWithStyleBuilder._buildLineShapes(o,n).forEach((function(e){var n=e._getSymbolPointViews();t.__shapePointViews.push(n),t.__seriesShapes.push(e._shape),t.__seriesShapeStyles.push(e._getLineShapeStyle())}))}},o.prototype._isClosed=function(){var e=this._ownerView._getCartesianPlotView();return!(e._getDefinition()._plotConfigOption.axisMode==t.AxisMode.Cartesian||!t._isCategoryDimension(this._dataModel._group()._x())||e._isStack()||!this._canAppendPointView())},o.prototype._applyLineShapeStyle=function(t,e){null!=e.strokeWidth&&(t.strokeWidth=e.strokeWidth),null!=e.strokeOpacity&&(t.strokeOpacity=e.strokeOpacity),null!=e.stroke&&(t.stroke=e.stroke),null!=e.strokeDasharray&&(t.strokeDasharray=e.strokeDasharray)},o.prototype.queryRelatedTooltipViewModel=function(e,n){return this.contains(new t.core.Point(e,n))?this:null},o.prototype.contains=function(e){for(var n=0,i=this.__seriesShapes;n<i.length;n++){var o=i[n];if(null!=o&&t._ShapeUtil._shapeStrokeContainsPoint(o,e))return!0}return!1},o.prototype._tooltipContent=function(){return null},o.prototype._findSegment=function(e){for(var n=0,i=0;i<this.__seriesShapes.length;++i){var o=this.__seriesShapes[i];if(t._isSegmentHittestShape(o)){var r=o,l=r._hittest(e);if(-1!=l){var a=this._viewportPointViews(),u=a[n+l],s=a[(n+l+1)%a.length];return new t._ShapeSegment(u,s)}if(n+=r._segmentLength,i+1<this.__seriesShapes.length){var _=this.__seriesShapes[i+1];if(t._isSegmentHittestShape(_)){var p=_;r._isConnect(p)||n++}}}}return null},o}(t._BaseCartesianSeriesView);t._LineCartesianSeriesView=e;var i=function(){function e(t){this.__seriesView=t,this.__dataPointAxisValueCallback=null,this.__dataPointValueCallback=null,this.__dataPointValueToAxisValueCallback=null}return e.prototype._buildLineShapes=function(e,n){return n==t.LineAspect.Spline?new t._SplineShapeViewsBuilder(this._dataPointAxisValueCallback())._buildLineShapeViews(e):n==t.LineAspect.BezierCurve?new t._BezierShapeViewsBuilder(this._dataPointAxisValueCallback())._buildLineShapeViews(e):n==t.LineAspect.StepLeft?new t._StepLeftLineShapeViewsBuilder(this._dataPointValueCallback(),this._dataPointValueToAxisValueCallback())._buildLineShapeViews(e):n==t.LineAspect.StepCenter?new t._StepCenterLineShapeViewsBuilder(this._dataPointValueCallback(),this._dataPointValueToAxisValueCallback())._buildLineShapeViews(e):n==t.LineAspect.StepRight?new t._StepRightLineShapeViewsBuilder(this._dataPointValueCallback(),this._dataPointValueToAxisValueCallback())._buildLineShapeViews(e):new t._PolylineShapeViewsBuilder(this._dataPointAxisValueCallback())._buildLineShapeViews(e)},e.prototype._dataPointAxisValueCallback=function(){var e=this;return null==this.__dataPointAxisValueCallback&&(this.__dataPointAxisValueCallback=function(n){var i=e.__seriesView._getCartesianGroupView()._getCartesianPlotView(),o=n._data(),r=i._getXValue(o),l=i._getYValue(o);return null==l.upperY||isNaN(l.upperY)?null:t._BaseCartesianSeriesView._getDataPointAxisValue(r,l.upperY,e.__seriesView)}),this.__dataPointAxisValueCallback},e.prototype._dataPointValueCallback=function(){var e=this;return null==this.__dataPointValueCallback&&(this.__dataPointValueCallback=function(n){var i=e.__seriesView._getCartesianGroupView()._getCartesianPlotView(),o=n._data(),r=i._getXValue(o),l=i._getYValue(o);return null==l.upperY||isNaN(l.upperY)?null:new t.core.Point(r,l.upperY)}),this.__dataPointValueCallback},e.prototype._dataPointValueToAxisValueCallback=function(){var e=this;return null==this.__dataPointValueToAxisValueCallback&&(this.__dataPointValueToAxisValueCallback=function(n){return null==n?null:t._BaseCartesianSeriesView._getDataPointAxisValue(n.x,n.y,e.__seriesView)}),this.__dataPointValueToAxisValueCallback},e}()}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=new t._CartesianScatterLegendSymbolView;return n._setPlotDefinition(e),n},i}(t._LegendSymbolViewBuilder);t._ScatterCartesianLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(e){function o(n,o,r,l,a,u){return void 0===l&&(l=null),void 0===a&&(a=null),void 0===u&&(u=null),e.call(this,n,o,r,null==l?new i:l,null,null==a?new t._LineScatterCartesianEncodingsDefinitionBuilder:a,null==u?new t._ScatterCartesianLegendSymbolViewBuilder(!0,!0):u)||this}return n(o,e),o}(t._BaseCartesianPlotDefinition);t._ScatterCartesianPlotDefinition=e;var i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e&&t._isCartesianPlotDataModel(o)?new t._ScatterCartesianPlotView(n,i,o):null},n}()}(t||(t={})),function(t){var e=function(){function e(){this.name="Scatter",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Scatter"===n.type?new t._ScatterCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createCartesianSeriesView=function(e){return new t._ScatterCartesianSeriesView(this,e)},i}(t._BaseCartesianGroupView);t._ScatterCartesianGroupView=e}(t||(t={})),function(t){t._isScatterCartesianPlotView=function(e){return null!=e&&e instanceof t._ScatterCartesianPlotView}}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._createCartesianGroupView=function(e){return new t._ScatterCartesianGroupView(this,e)},i.prototype._createCartesianPointView=function(e,n){var i=this._definition._plotConfigOption.axisMode;return i==t.AxisMode.Cartesian?new t._XySymbolCartesianPointView(e,n,null):i==t.AxisMode.Radial?new t._RadialSymbolCartesianPointView(e,n,null):new t._PolygonalSymbolCartesianPointView(e,n,null)},i.prototype._getDataLabelsRender=function(){return new t._CartesianSymbolDataLabelsRender(this)},i.prototype._xPadding=function(){if(t._isCartesianCategoryPlotDataModel(this._dataModel)){if(this._axisMode()==t.AxisMode.Cartesian)return.5;if(!this._swapAxes())return.5}return e.prototype._xPadding.call(this)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=e.prototype._hitTest.call(this,n,i,o);if(null!=r)return r;for(var l=0;l<this._pointViews.length;++l){var a=this._pointViews[l]._backgroundShape();if(null!=a&&t._ShapeUtil._shapeContainsPoint(a,n)){var u=this._pointViews[l];if(null!=u.backgroundColor){var s=new t.HitTestResult(n,u,u,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(s)?s:null}}}return null},i.prototype.showSymbol=function(){return t._NativeExtension._toNonNullBoolean(this._definition._plotConfigOption.symbols,!0)},i}(t._BaseCartesianPlotView);t._ScatterCartesianPlotView=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._BaseCartesianSeriesView);t._ScatterCartesianSeriesView=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._buildCategoryEncodingDefinition=function(e,n){var i=t.prototype._buildCategoryEncodingDefinition.call(this,e,n);return null!=i&&1==i._hierarchicalGroupingDefinitions.length?i:null},e._categoryEncodingDefinitionBuilder=new e,e}(t._CartesianCategoryEncodingDefinitionBuilder),i=function(i){function o(){var n=i.call(this,e._categoryEncodingDefinitionBuilder,new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0))||this;return n._adopter=new t.models.CartesianLegendAdopter,n}return n(o,i),o.prototype._createValueEncodingDefinitions=function(t,e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createValueEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},o.prototype._createValueEncodingDefinition=function(e,n,i){if(null==i._categoryEncodingDefinition){var o=t._XyValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n);if(null!=o)return o}var r=new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n);return null!=r?r:null},o.prototype._createTextContentEncodingDefinitions=function(t,e,n){return[]},o}(t._CartesianEncodingsDefinitionBuilder);t._TextEncodingsDefinitionBuilder=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=null!=e._plotConfigOption.symbols&&e._plotConfigOption.symbols,i=new t._TextLegendSymbolView(n);return i._setPlotDefinition(e),i},i}(t._LegendSymbolViewBuilder);t._TextLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(e){function o(n,o,r,l,a,u){return void 0===l&&(l=null),void 0===a&&(a=null),void 0===u&&(u=null),e.call(this,n,o,r,null==l?new i:l,null,null==a?new t._TextEncodingsDefinitionBuilder:a,null==u?new t._TextLegendSymbolViewBuilder(!1,!1):u)||this}return n(o,e),o.prototype._getCoordinateSystemType=function(){return this._isMirror()?t._MirrorTextCategoriesCoordinateSystemDefinition._type:t._TextCategoriesCoordinateSystemDefinition._type},o}(t._BaseCartesianPlotDefinition);t._TextCartesianPlotDefinition=e;var i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e&&t._isCartesianPlotDataModel(o)?new t._TextCartesianPlotView(n,i,o):null},n}()}(t||(t={})),function(t){var e=function(){function e(){this.name="Text",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Text"===n.type?new t._TextCartesianPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextCartesianPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createCartesianSeriesView=function(e){return new t._TextCartesianSeriesView(this,e)},i.prototype._attachCoordinateSystem=function(e){var n=this._ownerView._getLayoutView()._coordinateSystemView(this._ownerView._getDefinition().coordinateSystemDefinition);if(null!=n&&t._isTextCategoriesCoordinateSystemView(n)){var i=n,o=t._Util.find(e,(function(e){return e.type==t.AxisType.X}));if(null==o)throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue);this.___horizontalAxisView=i._attachAxisView(o,this._getCartesianPlotView()._getDefinition()),null!=this.___horizontalAxisView&&this.___horizontalAxisView._applyDimension(this,this._dataModel._x())}},i}(t._BaseCartesianGroupView);t._TextCartesianGroupView=e}(t||(t={})),function(t){t._isTextCartesianPlotView=function(t){return null!=t&&"function"==typeof t._getBackgroundRectangle}}(t||(t={})),function(t){var e=function(e){function r(n,i,o){var r=e.call(this,n,i,o)||this;return r.__textSpace=5,r.__backgroundRectangle=t.core.Rect.ReadOnlyRect,r}return n(r,e),r.prototype._createCartesianGroupView=function(e){return new t._TextCartesianGroupView(this,e)},r.prototype._setBackgroundRectangle=function(t){this.__backgroundRectangle=t},r.prototype._swapAxes=function(){return!1},r.prototype._initAxis=function(){var t=this._horizontalAxisView();null!=t&&t._scaleModel._setDomainPadding([.5,.5])},r.prototype._actionConditionalFormat=function(){e.prototype._actionConditionalFormat.call(this),(new t.models._TextConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},r.prototype._layoutContent=function(e,n,r){this._visualViews.length=0;var l=this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition);if(null!=l&&t._isTextCategoriesCoordinateSystemView(l)){for(var a=this._horizontalAxisView(),u=[],s=0,_=this._groupViews;s<_.length;s++)for(var p=_[s],c=function(e){var n=e._getCartesianSeriesDataModel()._detailValue(),r=null!=n?n._definition()._group:t.Group.Cluster,l=void 0,a=t._NativeExtension._findIndex(u,(function(t){return t.group==r}));-1==a?(l=new i(h._minWidthInValues(),r,[]),u.push(l)):l=u[a];for(var s=function(e){var n=e,i=e._data().xDimensionValue,r=void 0,a=t._NativeExtension._findIndex(l.dimensionValueWithPoints,(function(t){return t.dimensionValue==i}));-1==a?(r=new o(i,[n],[]),l.dimensionValueWithPoints.push(r)):(r=l.dimensionValueWithPoints[a]).pointViews.push(n)},_=0,p=e._getPointViews();_<p.length;_++)s(p[_])},h=this,f=0,d=p._getCartesianSeriesViews();f<d.length;f++)c(d[f]);for(var y=0,g=0,m=u;g<m.length;g++)for(var v=0,w=(A=m[g]).dimensionValueWithPoints;v<w.length;v++){for(var b=0,P=0,S=(M=w[v]).pointViews;P<S.length;P++){var C=(j=S[P])._measure(e,new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE))._size;A.group==t.Group.Stack?b+=C.height:b=Math.max(b,C.height),M.pointSizes.push(C)}y=Math.max(y,b)}var V=n.clone();V.top+=(V.height-y)/2,V.height=y;for(var x=null==this._getYOffset()?0:this._getYOffset(),D=0,O=u;D<O.length;D++)for(var A,L=0,T=(A=O[D]).dimensionValueWithPoints;L<T.length;L++){var M;if(!((M=T[L]).pointViews.length<=0)){var E=M.pointViews[0],I=a._scaleModel._value(E._getXValue(E._data()));if(null!=I&&!isNaN(I)){var B=new t.core.Point(I,V.bottom);if(A.group==t.Group.Stack)for(var R=M.pointViews,k=0;k<R.length;k++){var N=null==(j=R[k]).yOffset?x:j.yOffset;C=M.pointSizes[k],j._layout(e,new t.core.Rect(B.x-C.width/2,B.y-C.height-N,C.width,C.height),r),B.y-=C.height,this._visualViews.push(j)}else{var F=0,U=0;for(R=M.pointViews,k=0;k<R.length;k++)F+=(C=M.pointSizes[k]).width,U=Math.max(U,C.height);F+=(M.pointViews.length-1)*this.__textSpace;var z=B.x-F/2;for(k=0;k<R.length;k++){var j;N=null==(j=R[k]).yOffset?x:j.yOffset,C=M.pointSizes[k],j._layout(e,new t.core.Rect(z,B.y-U+(U-C.height)/2-N,C.width,C.height),r),z+=C.width+this.__textSpace,this._visualViews.push(j)}}}}}this._updateRectangle(V),this._setBackgroundRectangle(n)}},r.prototype._drawView=function(e,n){e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._dataPointDataLabelOption().textStyle);for(var i=0,o=this._pointViews;i<o.length;i++)o[i]._render(e,n);e.restoreTransform()},r.prototype._minWidthInValues=function(){for(var t=NaN,e=null,n=0,i=this._groupViews;n<i.length;n++)for(var o=0,r=i[n]._getCartesianSeriesViews();o<r.length;o++)for(var l=0,a=r[o]._getPointViews();l<a.length;l++){var u=a[l],s=NaN,_=u._getXValue(u._data()),p=null==_?0:_;if(null==e){var c=null==this._horizontalAxisView()._scaleModel._minimum?0:this._horizontalAxisView()._scaleModel._minimum;p>c&&(s=2*(p-c))}else{var h=e._getXValue(e._data()),f=null==h?0:h;s=Math.abs(p-f)}!isNaN(s)&&(isNaN(t)||t>s)&&(t=s),e=u}return t},r.prototype._createCartesianPointView=function(e,n){var i=n._group()._yValueDefinition();return null!=i&&null!=(t._isRangeValueEncodingDefinition(i)?i:null)?null:new t._TextCartesianPointView(e,n,null)},r.prototype._addNullDataPointModels=function(){},r.prototype._getPointViews=function(){for(var t=[],e=0,n=this._groupViews;e<n.length;e++)for(var i=0,o=n[e]._getCartesianSeriesViews();i<o.length;i++){var r=o[i];t.push.apply(t,r._getPointViews())}return t},r.prototype._getTextCartesianGroupViews=function(){return this._groupViews},r.prototype._getBackgroundRectangle=function(){return this.__backgroundRectangle},r}(t._BaseCartesianPlotView);t._TextCartesianPlotView=e;var i=function(t,e,n){this.minWidthInValues=t,this.group=e,this.dimensionValueWithPoints=n},o=function(t,e,n){this.dimensionValue=t,this.pointViews=e,this.pointSizes=n}}(t||(t={})),function(t){t._isTextCartesianPointView=function(t){return null!=t&&"function"==typeof t._textContent}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isTextCartesianPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._calculateColor=function(e){var n=e.color;return null==n&&(n=e._getCartesianSeriesView().color),null==n&&(n=t._CssColor._defaultStyleColor()),n},i}(t._CartesianPointColorBuilder);t._TextCartesianPointColorBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.call(this,n,null==i?new t._TextCartesianPointColorBuilder:i)||this}return n(i,e),i.prototype._buildSelectedPointStyle=function(n,i){var o=this._toPointView(n),r=e.prototype._buildSelectedPointStyle.call(this,o,i);return t._OptionUtility._applyTextStyleOption(r,o._getPlotView()._getDefinition()._dvConfigOption.selectedTextStyle),t._OptionUtility._applyTextStyleOption(r,o._getPlotView()._getDefinition()._plotConfigOption.selectedTextStyle),r},i.prototype._buildUnselectedPointStyle=function(n){var i=this._toPointView(n),o=e.prototype._buildUnselectedPointStyle.call(this,i);return t._OptionUtility._applyTextStyleOption(o,i._getPlotView()._getDefinition()._dvConfigOption.unselectedTextStyle),t._OptionUtility._applyTextStyleOption(o,i._getPlotView()._getDefinition()._plotConfigOption.unselectedTextStyle),o},i.prototype._toPointView=function(e){if(t._isTextCartesianPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._applyColor=function(n,i,o){e.prototype._applyColor.call(this,n,i,o),o._getPlotView().showSymbol()||(i instanceof t._CssColor?n.textFill=i.color:i instanceof t._LinearGradientColor?i.colorStops.length>0&&(n.textFill=i.colorStops[0].color):i instanceof t._RadialGradientColor&&i.colorStops.length>0&&(n.textFill=i.colorStops[0].color))},i.prototype._applyDataPointStyle=function(n,i){e.prototype._applyDataPointStyle.call(this,n,i),t._OptionUtility._applyTextStyleOption(n,i._getPlotView()._dataPointDataLabelOption().textStyle),t._OptionUtility._applyTextStyleOption(n,i.text.textStyle);var o=i.size;null!=o&&(n.fontSize=this._calcFontSize(n,o))},i.prototype._calcFontSize=function(e,n){var i=t._TextLegendSymbolView.__baseFontSize;return null!=e.fontSize&&(i=parseFloat(e.fontSize)),(i+2*n).toString()},i}(t._CartesianPointStyleBuilder);t._TextCartesianPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,null==o?new t._TextCartesianPointStyleBuilder(null!=n._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._plotOption.config.symbols&&n._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._plotOption.config.symbols):o)||this;return r.__defaultShape="Box",r}return n(i,e),i.prototype._clone=function(){var e=new i(this._getCartesianSeriesView(),this._data(),null);return t.CartesianPointViewClone.cloneBaseInfo(e,this),e.cloneId(this),e._textContent(this._textContent()),e},Object.defineProperty(i.prototype,"defaultShape",{get:function(){return this.__defaultShape},enumerable:!1,configurable:!0}),i.prototype._textContent=function(t){return null!=t&&(this.__textContent=t),this.__textContent},Object.defineProperty(i.prototype,"parent",{get:function(){return this._getCartesianSeriesView()},enumerable:!1,configurable:!0}),i.prototype._getAttachmentAgentManager=function(){return new t.AttachmentAgentManager(new t._TextPointViewRectangleOverlayItemViewAttachmentAgent(this,this._overlayItemViews()))},i.prototype._symbolDefinition=function(){return null==this.__symbolDefinition&&(this.__symbolDefinition=this._createSymbolDefinition()),this.__symbolDefinition},i.prototype._symbol=function(){return this.__symbol},i.prototype._createSymbolDefinition=function(){var e=this._getPlotView();if(e.showSymbol()){var n=e._getCartesianPlotDefinition(),i=null,o=n._encodingsDefinition._getShapeEncodingDefinition();o instanceof t._SingleDataFieldLegendEncodingDefinition&&(i=t._DataSlicesAggregate._defaultAggregate._aggregate(this._data()._dataSlices,o._fieldDefinition()._dataField,o._aggregate()));var r=this._getStyleSymbolShape(),l=this.shape,a=this.defaultShape;return t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(n._getSymbolDefinitionProviderList(),i,r,l,a)}return null},i.prototype._getXValue=function(e){var n=this._getPlotView()._horizontalAxisView()._scaleModel._scale;if(t._isOrdinalAxisScale(n))return e.xDimensionValue._value();if(t._isLinearAxisScale(n)||t._isLogAxisScale(n)){if("number"==typeof(i=e.xDimensionValue.rawValue))return i}else if(t._isTimeAxisScale(n)){var i;if(null!=(i=e.xDimensionValue.rawValue)&&i instanceof Date)return i.valueOf()}return null},i.prototype._format=function(){var e=this._data()._valueDefinition();if(null!=e){var n=null;if((t._isAggregateValueEncodingDefinition(e)||t._isXyValueEncodingDefinition(e))&&(n=e._getDataFieldDefinition()),null!=n&&null!=n._format)return n._format}return null},i.prototype._title=function(){return this._createTextContent().text},i.prototype._createTextContent=function(){var e=this._data()._value(),n=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._getCartesianPlotView()._getDefinition()._pluginCollection);return new t._TextNumbericContent(e,this._format(),n)},i.prototype._backgroundShape=function(){if(null==this.___backgroundShape){var e=this._getPlotView(),n=e._horizontalAxisView(),i=e._getBackgroundRectangle(),o=this._getXValue(this._data()),r=n._scaleModel._value(Math.max((null!=o?o:0)-.5,n._scaleModel._minimum)),l=n._scaleModel._value(Math.min((null!=o?o:0)+.5,n._scaleModel._maximum)),a=null==r?0:r,u=null==l?0:l,s=i.top,_=i.bottom;this.___backgroundShape=new t._RectangleShape((a+u)/2,(s+_)/2,Math.abs(u-a),Math.abs(_-s),0)}return this.___backgroundShape},i.prototype._measure=function(e,n){e.beginTransform();var o=this._calculateStyle(new t._RenderContext);t._StyleUtility._applyAllStyle(e,o),this._applyDataPointExternalStyle(e);var r=e.measureSingleLineString(this._title()),l=null!=this._symbolDefinition()?this._calculateSymbolSize(r):new t.core.Size(0,0);return e.restoreTransform(),new t._RectangleViewMetricsResult(new t.core.Size(l.width+r.width+(l.width>0?i.__symbolSpace:0),Math.max(l.height,r.height)))},i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this._updateRectangle(n),this._textContent(this._createTextContent())},i.prototype._renderBackground=function(e,n){if(!this._isFiltered()){var i=this._backgroundColor(n);if(null!=i){var o=this._backgroundShape();null!=o&&(e.beginTransform(),t._OptionUtility._applyFillOption(e,i),o instanceof t._RectangleShape&&e.drawRect(o.center.x-o.size.width/2,o.center.y-o.size.height/2,o.size.width,o.size.height),e.restoreTransform())}}},i.prototype._renderSymbol=function(e,n,i){e.beginTransform();var o=t._StyleUtility._buildStyle(),r=this._pointStyleBuilder._pointColorBuilder._buildColor(this);t._StyleUtility._applyFill(o,r),t._StyleUtility._applyStroke(o,r),t._StyleUtility._applyStyle(o,this._calculateStyle(i)),null!=this._externalStyle&&(null!=this._externalStyle.fill&&t._StyleUtility._applyFill(o,this._externalStyle.fill),null!=this._externalStyle.stroke&&t._StyleUtility._applyStroke(o,this._externalStyle.stroke));var l=this._getSymbolRectangle(n);this.__symbol=this._symbolDefinition().createSymbol(l,o),this.__symbol.render(e,i),e.restoreTransform()},i.prototype._getSymbolRectangle=function(t){var e=t.clone(),n=t.width<t.height?t.width:t.height;return t.width>t.height?e.left=t.left+(t.width-t.height)/2:t.height>t.width&&(e.top=t.top+(t.height-t.width)/2),e.height=n,e.width=n,e},i.prototype._drawView=function(e,n){e.beginTransform();var o=this._calculateStyle(n);t._StyleUtility._applyAllStyle(e,o),this._applyDataPointExternalStyle(e);var r=this._rectangle().clone();if(null!=this._symbolDefinition()){var l=e.measureSingleLineString(this._textContent().text),a=this._calculateSymbolSize(l);this._renderSymbol(e,new t.core.Rect(r.left,r.top+(l.height-a.height)/2,r.width-l.width,a.height),n),r.left+=a.width+i.__symbolSpace,r.width-=a.width}this._isHover()&&(r=t._RectangleUtility._scaleRectangle(r,this._scale)),e.drawMultiLineString(this._textContent().text,r,t.TextOverflow.Clip,t.HAlign.Center),e.restoreTransform()},i.prototype._calculateSymbolSize=function(e){var n=16;return e.height>0&&(n=.7*e.height),n=n*this._getStyleSymbolSize()/10,new t.core.Size(n,n)},i.prototype._applyDataPointExternalStyle=function(n){e.prototype._applyDataPointExternalStyle.call(this,n),null!=this._externalStyle&&(null!=this._externalStyle.fill&&t.models._isCssColor(n.fill)&&(n.textFill=n.fill.color),null!=this._externalStyle.fillOpacity&&(n.textOpacity=n.fillOpacity))},i.prototype._isVisible=function(){return!this.valueIsOutOfAxesRange&&e.prototype._isVisible.call(this)},i.__symbolSpace=5,i}(t._CartesianPointView);t._TextCartesianPointView=e}(t||(t={})),function(t){t._isTextCartesianSeriesView=function(t){return!1}}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseCartesianSeriesView);t._TextCartesianSeriesView=e}(t||(t={})),function(t){t._isWaterfallPlotDefinition=function(t){return null!=t&&"function"==typeof t._getWaterfallOption}}(t||(t={})),function(t){t._isWaterfallPlotView=function(t){return null!=t&&"function"==typeof t._getWaterfallPlotDefinition}}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype._getWaterfallPlotDefinition=function(){return this._definition},e.prototype._isRectangleBar=function(){return!this._isRadialBar()},e.prototype._createCartesianPointView=function(t,e){return this._isRadialBar()?this._createRadialBarPointView(t,e):this._createBarPointView(t,e)},e}(t._BarCartesianPlotView);t._WaterfallPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,o,r,l){return void 0===r&&(r=null),void 0===l&&(l=null),t.call(this,e,n,o,null==r?new i:r,l)||this}return n(e,t),e.prototype._getWaterfallOption=function(){return this._plotOption.config.bar.waterfall},e}(t._BarCartesianPlotDefinition);t._WaterfallPlotDefinition=e;var i=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){return t._isWaterfallPlotDefinition(n)&&t._isCartesianPlotDataModel(i)?new t._WaterfallPlotView(e,n,i):null},e}()}(t||(t={})),function(t){var e=function(){function e(){this.name="Waterfall",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildPlotDefinition=function(e,n,i){var o=e._findDataSchema(n.data);return"Bar"===n.type&&this._isWaterfall(n,o)?new t._WaterfallPlotDefinition(e,o,n):null},e.prototype._isWaterfall=function(t,e){if(null==t.config.bar.waterfall)return!1;var n=t.encodings.category;return!!this._canBuildCategoryEncodingDefinition(n,e)&&!this._canBuildRangeValueEncodingDefinition(t.encodings.values)},e.prototype._canBuildCategoryEncodingDefinition=function(e,n){return null!=e.field&&0!=t._HierarchicalDataFieldDefinitionListBuilder._dataFieldDefinitionListBuilder._buildHierarchicalDataFieldDefinitionList(e,n).length},e.prototype._canBuildRangeValueEncodingDefinition=function(t){for(var e=0,n=t;e<n.length;e++)if("IRangeFieldValueEncodingOption"==n[e].type)return!0;return!1},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._WaterfallPlotDefinitionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this,t)||this;return n.__width=0,n.__height=0,n}return n(i,e),i.prototype._trapezoidLegendView=function(){return this._legendView()},i.prototype._getTextStyle=function(){var e=t._StyleUtility._buildStyle();return t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._option.textStyle),e},i.prototype._measure=function(e,n){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._getTextStyle());var i=e.measureSingleLineString("A").height;e.restoreTransform();var o=this._orientation(),r=.6*i*3,l=5*i;return this.__width=r,this.__height=l,o==t.Orientation.Vertical?new t._RectangleViewMetricsResult(new t.core.Size(this.__width,this.__height)):new t._RectangleViewMetricsResult(new t.core.Size(this.__height,this.__width))},i.prototype._layoutInnerContent=function(e,n,i){this.__shape=t._TrapezoidShape._from(n.center,this.__width,this.__width/3,this.__height,90)._inverse(),this._orientation()==t.Orientation.Horizontal&&this.__shape._rotate(-90)},i.prototype._renderInnerContent=function(e,n,i){if(null!=this.__shape){e.beginTransform();var o=t._StyleUtility._buildStyle(),r=this._getColor();o.stroke=r,o.fill=r,t._StyleUtility._applyStyle(e,o);var l=this.__shape._points(),a=l.map((function(t){return t.x})),u=l.map((function(t){return t.y}));e.drawPolygon(a,u),e.restoreTransform()}},i.prototype._getColor=function(){if(null!=this._trapezoidLegendView()._iconColor()){var e=this._trapezoidLegendView()._iconColor();if(null!=e)return e}return t._CssColor._defaultStyleColor()},i}(t._LegendContentView);t._TrapezoidLegendContentView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n,n._option,n._kind())||this;return i.__data=n,i}return n(i,e),i.prototype._data=function(){return this.__data},i.prototype._title=function(){var e=null!=this._option?t._AnyTypeUtility._toStringOrNull(this._option.title):null;return null==e?this._data()._labelBuilder._build():e},i.prototype._iconColor=function(){var e=this._option.style.iconColor;return null!=e||null!=(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.style.iconColor)||null!=(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.style.iconColor)?t._OptionUtility._colorFromOption(e):null},i.prototype._createContentView=function(){return new t._TrapezoidLegendContentView(this)},i.prototype._renderLegendContent=function(t,e){this._contentView()._render(t,e)},i}(t._LegendView);t._TrapezoidLegendView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this)||this;return r.__leftTop=t,r.__rightTop=n,r.__rightBottom=i,r.__leftBottom=o,r}return n(i,e),i._from=function(e,n,o,r,l){var a=e.y-r/2,u=e.y+r/2,s=e.x-n/2,_=new t.core.Point(s,u),p=new t.core.Point(s+n,u),c=new t.core.Point(0,0),h=new t.core.Point(0,0);if(c.y=a,h.y=a,l>0&&l<90){var f=r/Math.tan(l*Math.PI/180);c.x=s+f,h.x=s+f+o}else if(90==l)c.x=s,h.x=s+o;else{if(!(l>90&&l<180))throw new t.RuntimeError(t.ErrorCode.UnexpectedValue);f=r*Math.tan((l-90)*Math.PI/180),c.x=s-f,h.x=s-f+o}return new i(c,h,p,_)},Object.defineProperty(i.prototype,"type",{get:function(){return"Trapezoid"},enumerable:!1,configurable:!0}),i.prototype._points=function(){return[this.__leftTop,this.__rightTop,this.__rightBottom,this.__leftBottom]},i.prototype._center=function(){return new t.core.Point((this.__leftTop.x+this.__rightTop.x)/2,(this.__leftTop.y+this.__leftBottom.y)/2)},i.prototype._inverse=function(){var t=this.__leftTop.x;return this.__leftTop.x=this.__leftBottom.x,this.__leftBottom.x=t,t=this.__rightTop.x,this.__rightTop.x=this.__rightBottom.x,this.__rightBottom.x=t,this},i.prototype._rotate=function(e){var n=new t.Matrix;n.rotate(e*Math.PI/180,this._center());var i=t._MatrixUtility._transformPoints(n,this._points());return this.__leftTop=i[0],this.__rightTop=i[1],this.__rightBottom=i[2],this.__leftBottom=i[3],this},i.prototype._contains=function(e){for(var n=this._points(),i=0;i<n.length;++i){var o=n[i],r=n[(i+1)%n.length],l=new t.Vector2d(r.x-o.x,r.y-o.y),a=new t.Vector2d(e.x-o.x,e.y-o.y);if(l.cross(a)<0)return!1}return!0},i.prototype.equalsWith=function(e){if(null==e)return!1;if(this==e)return!0;if(e instanceof i){var n=[this.__leftTop,this.__rightTop,this.__rightBottom,this.__leftBottom],o=[e.__leftTop,e.__rightTop,e.__rightBottom,e.__leftBottom];return t._PointEqualityComparer._pointArrayEqualityComparer._equalsWith(n,o)}return!1},i.prototype.clone=function(){return new i(this.__leftTop.clone(),this.__rightTop.clone(),this.__rightBottom.clone(),this.__leftBottom.clone())},i}(t._BaseShape);t._TrapezoidShape=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="ScatterCartesianTrapezoidLegendView",this.type=t._BuildInLegendViewBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendView=function(e,n){if(n._getAvailable()&&t._LegendUtility._isType(n,t.LegendType.Size)&&t._isItemizedLegendDataModel(n)){var i=n;if(i._items().length>0&&i._getDefinition()._plotDefinition instanceof t._ScatterCartesianPlotDefinition)return new t._TrapezoidLegendView(e,i)}return null},e.prototype.queryInterface=function(t){return"ILegendViewBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.ScatterCartesianTrapezoidLegendViewPlugin=n}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,o)||this;return a.__value=null,a.__name=e,a.parent=n,a.children=[],a.__fieldValueDimensionDefinition=i,a.key=r.rawValue,a.__yValue=l,null!=l&&a._calcValue(l),a}return n(e,t),e.prototype._name=function(){return this.__name},e.prototype._value=function(){return this.__value},e.prototype._calcValue=function(t){this.__yValue=t,null!=this.__yValue&&(null!=this.__fieldValueDimensionDefinition&&(this._item()[this.__fieldValueDimensionDefinition._getDataFieldDefinition()._dataField._name]=this.__yValue.rawValue),this.__value=this.__yValue._value())},e.prototype._levelValue=function(t){var e=0;if(t>this._depth())for(var n=0,i=this.children;n<i.length;n++)e+=i[n]._levelValue(t);else t==this._depth()&&null!=this._value()&&(e=this._value());return e},e}(t._PointDataModel);t._BaseHierarchicalPointDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.dataFieldDefinition=n,i}return n(e,t),e}(t._DimensionValue);t._HierarchicalDimensionValue=e}(t||(t={})),function(t){var e=function(e){function o(n,i){var o=e.call(this,n,i)||this;o.__root=o._createPoints(n);var r=o._hierarchicalPlotDefinition()._detailDefinition();if(null!=o.__root&&null!=r&&null==r._sortDefinition&&null==r._dataSliceSortDefinition){var l=[o.__root];t._TreeNodeUtility._traverseDFS(l,(function(t,e){t.children.sort((function(t,e){var n=e._value(),i=t._value();return null==n&&(n=0),null==i&&(i=0),n-i}))}))}return o}return n(o,e),o.prototype._points=function(){return this._hierarchicalPoints(this._root())},o.prototype._root=function(){return this.__root},o.prototype._hierarchicalPlotDefinition=function(){return this._definition()},o.prototype._hierarchicalPoints=function(t){if(null==t)return[];for(var e=[t],n=0,i=t.children;n<i.length;n++){var o=i[n];null!=o&&e.push.apply(e,this._hierarchicalPoints(o))}return e},o.prototype._createPoints=function(e){var n=this,i=this._hierarchicalPlotDefinition(),o=i._valueDefinition();if(null==o||0==e._length)return null;var r=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(o);if(null==r)return null;var l=new t._RootHierarchicalPointDataModel(this,"",null,o,e,new t._HierarchicalDimensionValue(null,null),this._generateValue(e,o,r)),a=i._detailDefinition();if(null!=a&&a._dataFieldDefinitions.length>0){e=new t._DataSlicesSorter(a._dataSliceSortDefinition,a._dataFieldDefinitions[0])._sort(e);for(var u=a._dataFieldDefinitions,s=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),_=[],p=0,c=u;p<c.length;p++){var h=c[p];_.push(new t.QueryGroupByOption(new t._GroupingDefinition(h,a._sortDefinition)))}var f=s.groupBy(_).query().groups;t._TreeNodeUtility._traverseGrouping(f,l,0,(function(e,l,a){var s=!0;if(0==a&&(s=!1),s&&null==l.key)return null;if(null!=e){var _=new t._HierarchicalDimensionValue(l.key,u[a]),p=n._generateName(i,_),c=n._generateValue(l._dataSlices,o,r),h=new t._HierarchicalPointDataModel(p,e,o,l._dataSlices,_,c);return e.children.push(h),h}return null}))}return l},o.prototype._generateName=function(e,n){var i=n.rawValue,o=null;if(t._isHierarchicalDimensionValue(n)){var r=n,l=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._pluginCollection);if(null!=r&&null!=l){var a=r.dataFieldDefinition._format;o=l.format(a,i)}else o=null==i?"null":i.toString()}else o=null==i?"null":i.toString();return o},o.prototype._generateValue=function(e,n,o){var r=new t._DataSlicesKeysFilter(new i,[n._getDataFieldDefinition()._dataField._name]),l=o._buildDimensionValues(r._filter(e),null,n);return 1!=l.length?null:l[0]},o}(t._PlotDataModel);t._HierarchicalPlotDataModel=e;var i=function(){function e(){}return e.prototype.filter=function(e,n){var i=t._DataItemExtension._dataValue(e,n);return!t._DataValueTypeExtension._isNumber(i)||t._DataValueTypeExtension._toNumber(i)>=0},e.prototype.queryInterface=function(t){return null},e}()}(t||(t={})),function(t){t._isBaseHierarchicalPointDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._path&&"function"==typeof e._root&&void 0!==e.children&&"function"==typeof e._depth&&"function"==typeof e._value&&void 0!==e.key&&"function"==typeof e._percentageDetail&&"function"==typeof e._percentageLevel&&"function"==typeof e._percentagePlot&&"function"==typeof e._levelValue&&"function"==typeof e._calcValue&&"function"==typeof e._valueDefinition&&"function"==typeof e._name}}(t||(t={})),t||(t={}),function(t){t._isHierarchicalDimensionValue=function(t){return null!=t.dataFieldDefinition}}(t||(t={})),function(t){t._isHierarchicalPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._hierarchicalPlotDefinition&&"function"==typeof e._root}}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l){return e.call(this,t,n,i,o,r,l)||this}return n(i,e),i.prototype._path=function(){if(null==this.__path){var t=[];t.push.apply(t,this.parent._path()),t.push(null==this.key?"null":this.key.toString()),this.__path=t}return this.__path},i.prototype._valueDefinition=function(){return this._root()._plot()._hierarchicalPlotDefinition()._valueDefinition()._getIdentifier()},i.prototype._depth=function(){return this._getParent()._depth()+1},i.prototype._getParent=function(){return this.parent},i.prototype._root=function(){var e=this._getParent();return e instanceof i?e._root():e instanceof t._RootHierarchicalPointDataModel?e:null},i.prototype._percentageDetail=function(){var t=this._value(),e=this._getParent()._value();return null==t&&(t=0),null==e&&(e=0),Math.abs(t/e)},i.prototype._percentageLevel=function(){var t=this._value();return null==t&&(t=0),Math.abs(t/this._root()._levelValue(this._depth()))},i.prototype._percentagePlot=function(){var t=this._value(),e=this._root()._value();return null==t&&(t=0),null==e&&(e=0),Math.abs(t/e)},i}(t._BaseHierarchicalPointDataModel);t._HierarchicalPointDataModel=e}(t||(t={})),t||(t={}),function(t){t._isRootHierarchicalPointDataModel=function(t){return null!=t&&"function"==typeof t._plot}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i,o,r,l,a){var u=e.call(this,n,i,o,r,l,a)||this;return u.__plot=t,u}return n(i,e),i.prototype._path=function(){return[]},i.prototype._valueDefinition=function(){return this._plot()._hierarchicalPlotDefinition()._valueDefinition()._getIdentifier()},i.prototype._depth=function(){return 0},i.prototype._percentageDetail=function(){return 1},i.prototype._percentageLevel=function(){return 1},i.prototype._percentagePlot=function(){return 1},i.prototype._root=function(){return this},i.prototype._plot=function(){return this.__plot},i.prototype._style=function(){return null==this.__style&&(this.__style=t.options._DataPointStyleOptionCloneMaker._dataPointStyleOptionCloneMaker._cloneOf(this._plot()._definition()._plotConfigOption.style)),this.__style},i}(t._BaseHierarchicalPointDataModel);t._RootHierarchicalPointDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u,s){var _=t.call(this,null,i,o,r,l,a,u,s)||this;return _._detailEncodingDefinitions=e,_._valueEncodingDefinitions=n,_}return n(e,t),e}(t._EncodingsDefinition);t._HierarchicalEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._HierarchicalDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0),n}return n(i,e),i.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},i.prototype._createEncodingsDefinitionContext=function(){return new t._HierarchicalEncodingsDefinitionContext},i.prototype._createEncodingsDefinition=function(e){return new t._HierarchicalEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},i.prototype._createValueEncodingDefinitions=function(t,e,n){var i=[];if(null!=e&&e.length>0){var o=this._createValueEncodingDefinition(t,e[0],n);null!=o&&i.push(o)}return i},i.prototype._createValueEncodingDefinition=function(e,n,i){return new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n)},i.prototype._createShapeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createSizeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createBackgroundColorLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createLightnessLegendEncodingDefinition=function(t,e,n){return null},i}(t._EncodingsDefinitionBuilder);t._HierarchicalEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return n(e,t),e}(t._EncodingsDefinitionContext);t._HierarchicalEncodingsDefinitionContext=e}(t||(t={})),t||(t={}),t||(t={}),function(t){!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._applyGroupConditionFormattingRule=function(t,e){},e.prototype._applyPointConditionFormattingRule=function(t,e){if(null!=t){var n=t._getRootPointView();null!=n&&this._applyHierarchicalPointConditionFormattingRule(n,e)}},e.prototype._applyHierarchicalPointConditionFormattingRule=function(t,e){if(null!=t){e.evaluate(t);for(var n=0,i=t._children;n<i.length;n++){var o=i[n];this._applyHierarchicalPointConditionFormattingRule(o,e)}}},e}(t._ConditionalFormattingRuleRunner);t._HierarchicalConditionalFormattingRuleRunner=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=new t._BoxLegendSymbolView;return n._setPlotDefinition(e),n},i}(t._LegendSymbolViewBuilder);t._HierarchicalLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(n,i,o,r,l,a){void 0===l&&(l=null),void 0===a&&(a=null);var u=e.call(this,n,i,o,r,new t._HierarchicalPlotDataBuilder,null==l?new t._HierarchicalEncodingsDefinitionBuilder:l,null==a?new t._HierarchicalLegendSymbolViewBuilder(!1,!1):a)||this;return null!=o.encodings&&u._buildEncodings(),u}return n(i,e),i.prototype._valueDefinition=function(){return this.__valueDefinition},i.prototype._detailDefinition=function(){return this.__detailDefinition},i.prototype._createEmptyEncodingsDefinition=function(){return new t._HierarchicalEncodingsDefinition([],[],null,null,null,null,null,[],[])},i.prototype._buildEncodings=function(){var e=this._encodingsDefinition;if(null!=e._valueEncodingDefinitions&&e._valueEncodingDefinitions.length>0){var n=e._valueEncodingDefinitions[0];t._isAggregateValueEncodingDefinition(n)&&(this.__valueDefinition=n)}if(null!=e._detailEncodingDefinitions&&e._detailEncodingDefinitions.length>0){var i=e._detailEncodingDefinitions[0];t._isHierarchicalDetailEncodingDefinition(i)&&(this.__detailDefinition=i)}},i.prototype.queryInterface=function(t){return e.prototype.queryInterface.call(this,t)},i.prototype._getDataModelType=function(){return"Hierarchy"},i}(t._BasePlotDefinition),e._HierarchicalPlotDefinition=i}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._children=[],o._pointViews=[],o._createPointViews(),o}return n(i,e),i.prototype._traverse=function(t,e,n){e(t,n);for(var i=0,o=t._children;i<o.length;i++){var r=o[i];this._traverse(r,e,n)}},i.prototype._actionConditionalFormat=function(){(new t.models._HierarchicalConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},i.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=0,o=this._children;i<o.length;i++){var r=o[i]._hitTest(t,e,n);if(null!=r)return r}return null},i.prototype._createPointViews=function(){var t=this._dataModel._root();if(null!=t&&(this._rootPointView=this._createPointView(null,t),null!=this._rootPointView))for(var e=0,n=t.children;e<n.length;e++){var i=n[e];this._createChildPointView(this._rootPointView,i)}},i.prototype._createChildPointView=function(t,e){var n=this._createPointView(t,e);this._pointViews.push(n),this._children.push(n),t._children.push(n);for(var i=0,o=e.children;i<o.length;i++){var r=o[i];this._createChildPointView(n,r)}},i.prototype._containsSelectedPointView=function(t){if(t._isSelected())return!0;for(var e=0,n=t._children;e<n.length;e++){var i=n[e];if(this._containsSelectedPointView(i))return!0}return!1},i.prototype._getHierarchicalPlotDefinition=function(){return this._definition},i.prototype._getHierarchicalPlotDataModel=function(){return this._dataModel},i.prototype._getRootPointView=function(){return this._rootPointView},i.prototype._getPointViews=function(){return this._pointViews},i.prototype._hasSelectedPointView=function(){return null!=this._rootPointView&&this._containsSelectedPointView(this._rootPointView)},Object.defineProperty(i.prototype,"root",{get:function(){return null!=this._rootPointView?t._HierarchicalViewModelUtility._toHierarchicalPointModel(this._rootPointView):null},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IHierarchicalPlotModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._BasePlotView);t._HierarchicalPlotView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,i,o)||this;return r._parentPointView=n,r._children=[],r}return n(i,e),i.prototype._createIdentityContent=function(){var e=this._hierarchicalData(),n=t._Util.HashCode(this._prefix(this)+" "+e._path().join("/"));return t._Util.HashCode(n)},i.prototype._prefix=function(t){var e=t._data()._root()._plot()._hierarchicalPlotDefinition();return null!=e._detailDefinition()?e._detailDefinition()._dataFieldDefinitions.slice(0,t.depth).map((function(t){return t._dataField._name})).join(">"):""},i.prototype._hierarchicalPlotView=function(){return this._getPlotView()},i.prototype._hierarchicalData=function(){return this._data()},i.prototype._value=function(){return this._data()._value()},Object.defineProperty(i.prototype,"text",{get:function(){return null==this.__textOption&&(this.__textOption=this._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(this._getPlotView()._dataPointDataLabelOption())),this.__textOption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!1,configurable:!0}),i.prototype._createDataLabelContent=function(){var e=this._hierarchicalPlotView()._getHierarchicalPlotDefinition()._encodingsDefinition._textEncodingDefinitions,n=null;if(null!=e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e)),null==n||""==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.models._HierarchicalTextProxy(this,e),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,u=i.evaluate(o,r,l,a),s=this._toLines(u);return null!=s&&s.length>0?new t.models._DataLabelContent(s,this):null},i.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},i.prototype._defaultDataLabelTemplate=function(e){var n=[],i=[],o=this._hierarchicalPlotView()._getHierarchicalPlotDefinition()._detailDefinition();if(null!=o){var r=o._dataFieldDefinitions;if(null!=r&&r.length>0)for(var l=this._data()._depth(),a=0;a<r.length;a++){var u=r[a];a<l&&(n=["{detailFields["+a+"].value}"]),i.push(u._dataField._name)}}for(var s=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},_=0,p=e;_<p.length;_++)s(p[_]);return n.join("; ")},i.prototype._createTooltipHtmlContent=function(e){var n=this._hierarchicalPlotView()._getHierarchicalPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions,i=null;null!=n&&n.length>0&&null==(i=this._customTooltipTemplate(e))&&(i=this._defaultTooltipTemplate(n));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t.models._HierarchicalTextProxy(this,n),a=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,s=o.evaluate(r,l,a,u);return this._toHtml(s)},i.prototype._defaultTooltipTemplate=function(e){var n=[],i=[],o=this._hierarchicalPlotView()._getHierarchicalPlotDefinition()._detailDefinition();if(null!=o){var r=o._dataFieldDefinitions;if(null!=r&&r.length>0)for(var l=this._data()._depth(),a=0;a<r.length;a++){var u=r[a],s="detailFields["+a.toString()+"]";a<l&&n.push("{"+s+".name}: {"+s+".value}"),i.push(u._dataField._name)}}for(var _=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},p=0,c=e;p<c.length;p++)_(c[p]);return n.join("\n")},Object.defineProperty(i.prototype,"parent",{get:function(){return null==this._parentPointView?this._getPlotView():this._parentPointView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valueDefinition",{get:function(){return this._data()._valueDefinition()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"detail",{get:function(){return this._data().key},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._data()._name()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"depth",{get:function(){return this._data()._depth()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),i.prototype._getPlotView=function(){return this._ownerView},i.prototype.queryInterface=function(t){return"IHierarchicalPointModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._BasePointView);t._HierarchicalPointView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n,i){void 0===i&&(i=null),this.__pointView=e,this.__contentEncodingDefinitions=n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__pointView._hierarchicalPlotView()._getDefinition()._pluginCollection)}return n.prototype._getDefaultFormat=function(e){var n;return"PercentageDetail"==(n=e instanceof t._TokenSyntaxExpression?e.token:e.syntaxExpression)||"PercentageLevel"==n||"PercentagePlot"==n?this.__stringFormatting.defaultFormat(t.core.DataType.Number,!0):null},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,e,n){return null==t?null:"PercentageDetail"==t?this._getPercentageDetailProperty(e):"PercentageLevel"==t?this._getPercentageLevelProperty(e):"PercentagePlot"==t?this._getPercentagePlotProperty(e):"valueField"==t?this._getValueFieldProperty(e):"detailFields"==t?this._getDetailFieldsProperty(e,n):this._getTokenProperty(t,e)},n.prototype._getPercentageDetailProperty=function(t){return"name"==t?new e._DataValueInfo("PercentageDetail",this.__stringFormatting):"value"==t?new e._DataValueInfo(this.__pointView._hierarchicalData()._percentageDetail(),this.__stringFormatting):null},n.prototype._getPercentageLevelProperty=function(t){return"name"==t?new e._DataValueInfo("PercentageLevel",this.__stringFormatting):"value"==t?new e._DataValueInfo(this.__pointView._hierarchicalData()._percentageLevel(),this.__stringFormatting):null},n.prototype._getPercentagePlotProperty=function(t){return"name"==t?new e._DataValueInfo("PercentagePlot",this.__stringFormatting):"value"==t?new e._DataValueInfo(this.__pointView._hierarchicalData()._percentagePlot(),this.__stringFormatting):null},n.prototype._getValueFieldProperty=function(n){var i=this.__pointView._hierarchicalPlotView()._getHierarchicalPlotDefinition()._valueDefinition();if("name"==n){var o=i._getDataFieldDefinition()._dataField._name;return null!=o?new e._DataValueInfo(o,this.__stringFormatting):null}if("value"==n){var r=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._hierarchicalData()._dataSlices,i._getDataFieldDefinition()._dataField,i._getAggregate());return null!=r?new e._DataValueInfo(r,this.__stringFormatting):null}if("aggregate"==n){var l=i._getAggregate();if(null!=l){var a=t._CastExtension.toAggregateString(l);if(null!=a)return new e._DataValueInfo(a,this.__stringFormatting)}return null}return null},n.prototype._getDetailFieldsProperty=function(n,i){var o=this.__pointView._hierarchicalPlotView()._getHierarchicalPlotDefinition()._detailDefinition();if(null!=o){var r=o._dataFieldDefinitions;if(null!=r&&r.length>0){var l=this.__pointView._hierarchicalData()._depth();if(l>0){var a=null;if(null==i?a=r[l-1]:i<l&&(a=r[i]),null!=a){if("name"==n){var u=a._label;return null!=u?new e._DataValueInfo(u,this.__stringFormatting):null}if("value"==n){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._hierarchicalData()._dataSlices,a._dataField,t.Aggregate.List);return null!=s?new e._DataValueInfo(s,this.__stringFormatting):null}}}}}return null},n.prototype._getTokenProperty=function(e,n){for(var i=0,o=this.__contentEncodingDefinitions;i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e)return this._fromContentDefinition(l,n)}}return null},n.prototype._fromContentDefinition=function(n,i){var o=this.__pointView._hierarchicalPlotView()._getHierarchicalPlotDefinition()._detailDefinition();if(null!=o){var r=o._dataFieldDefinitions;if(null!=r&&r.length>0)for(var l=this.__pointView._hierarchicalData()._depth(),a=0;a<r.length;a++)if(r[a]._dataField.equalsWith(n._dataFieldDefinition._dataField)){if(a<l){if("name"==i){var u=n._dataFieldDefinition._label;return null!=u?new e._DataValueInfo(u,this.__stringFormatting):null}var s,_;if("value"==i)return null!=(s=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._hierarchicalData()._dataSlices,n._dataFieldDefinition._dataField,n._aggregate))?new e._DataValueInfo(s,this.__stringFormatting):null;if("aggregate"==i)return null!=(_=t._CastExtension.toAggregateString(n._aggregate))?new e._DataValueInfo(_,this.__stringFormatting):null}return null}}if("name"==i){var p=n._dataFieldDefinition._label;return null!=p?new e._DataValueInfo(p,this.__stringFormatting):null}return"value"==i?null!=(s=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._hierarchicalData()._dataSlices,n._dataFieldDefinition._dataField,n._aggregate))?new e._DataValueInfo(s,this.__stringFormatting):null:"aggregate"==i&&null!=(_=t._CastExtension.toAggregateString(n._aggregate))?new e._DataValueInfo(_,this.__stringFormatting):null},n.prototype.getIdentifierValue=function(e){return"current"==e?this.__pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__pointView?new t._AnyValueBinding(e.substring(8))._getValue(this.__pointView):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}(),e._HierarchicalTextProxy=n}(t||(t={})),function(t){t._isHierarchicalPlotDefinition=function(t){var e=t;return null!=e&&"function"==typeof e._detailDefinition&&"function"==typeof e._valueDefinition}}(t||(t={})),t||(t={}),function(t){t._isHierarchicalPlotView=function(t){return"function"==typeof t._getRootPointView}}(t||(t={})),function(t){t._isHierarchicalPointView=function(t){var e=t;return null!=e&&void 0!==e._children&&void 0!==e._parentPointView&&"function"==typeof e._value}}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,"Default","",o)||this;return r._dataFieldDefinitions=i,r}return n(i,e),i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isHierarchicalLegendEncodingDefinition(n)){var i=n;return t._DataFieldDefinitionEqualityComparer._dataFieldDefinitionArrayEqualityComparer._equalsWith(this._dataFieldDefinitions,i._dataFieldDefinitions)}return!1},i}(t._LegendEncodingDefinition);t._HierarchicalLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="HierarchicalLegend",n.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,n.priority=1,n}return n(i,e),i.prototype._buildLegendDefinition=function(e,n,i,o,r){if(e instanceof t.models._HierarchicalPlotDefinition){var l=this._legendType(n);if(null==l)return null;var a=l;if(a==t.LegendType.Color){if(null!=n.field){for(var u=[],s=t._EscapedCharacterStringUtility._split(n.field,">"),_=null!=n.label?n.label.split(","):[],p=0;p<s.length;p++){var c=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(s[p],e._dataSchema,p<_.length?_[p]:null);null!=c&&u.push(c)}if(u.length>0)return new t._HierarchicalLegendEncodingDefinition(e,a,u,new t.models._HierarchicalColorLegendBuilder)}return new t._HierarchicalLegendEncodingDefinition(e,t.LegendType.Color,null,new t.models._HierarchicalColorLegendBuilder)}}return null},i.prototype.queryInterface=function(t){return"ILegendEncodingDefinitionBuilder"==t||"IPlugin"==t?this:null},i._defaultPlugin=new i,i}(t._LegendEncodingDefinitionBuilder);t._HierarchicalLegendEncodingDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isHierarchicalLegendEncodingDefinition=function(e){return!!t._isLegendDefinition(e)&&null!=e._dataFieldDefinitions}}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildLegendDataModel=function(n,i){if(n instanceof t._HierarchicalLegendEncodingDefinition&&n._plotDefinition instanceof e._HierarchicalPlotDefinition){var o=i._getOption(n._plotDefinition._plotOption.name,n._legendType),r=n;return new t._HierarchicalDataPointItemizedLegendDataModel(r,o)}return null},n}(),e._HierarchicalColorLegendBuilder=n}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,o)||this;return r.__scaleTreeRoot=new t.models.HierachicalLegendScaleTreeNode(null),r}return n(i,e),i.prototype._buildLegendValue=function(e){return t._isBaseHierarchicalPointDataModel(e)?e._path():[]},i.prototype._setUp=function(){var e=this._definition._plotDefinition;if(t._isHierarchicalPlotDefinition(e)){var n=e;if(null!=n._valueDefinition()&&null!=n._detailDefinition()){var i=this._getColorableLayer(n);this.__start=i[0],this.__end=i[i.length-1],this.__layers=i;for(var o=this._plotAreaView._getDefinition()._plotAreaOption.plugins,r=this._plotAreaView._getDefinition()._pluginCollection,l=0,a=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,o,r)._getPointViews(this._plotAreaView,this._legend);l<a.length;l++){var u=a[l];u instanceof t._HierarchicalPointView&&(this._initScaleTree(u,this.__end),this._checkIn(u))}this._createItems(this.__scaleTreeRoot,[])}var s=n._encodingsDefinition._getColorEncodingDefinition();s instanceof t._HierarchicalLegendEncodingDefinition&&null==s._dataFieldDefinitions&&this._legend._setAvailable(!1)}},i.prototype._initScaleTree=function(e,n){var i=[];this._getPath(e,i);for(var o=0,r=i;o<r.length;o++){var l=r[o];t.models.HierachicalLegendScaleTreeNode.fit(this.__scaleTreeRoot,l,n)}},i.prototype._getPath=function(e,n){var i=e._children;0===i.length&&n.push(e._hierarchicalData()._path());for(var o=0,r=i;o<r.length;o++){var l=r[o];l instanceof t._HierarchicalPointView&&this._getPath(l,n)}},i.prototype._checkIn=function(e){var n=this.__scaleTreeRoot.findChildByPath(e._hierarchicalData()._path());null!=n&&(null==n.label&&(n.label=e.name),n.points.push(e));for(var i=0,o=e.children;i<o.length;i++){var r=o[i];r instanceof t._HierarchicalPointView&&this._checkIn(r)}},i.prototype._createItems=function(e,n){for(var i=this._legend.__items,o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._plotDefinition._pluginCollection),r=0,l=e.children;r<l.length;r++){var a=l[r];if(n.push(a.key),a.level==this.__start){var u=t._ItemizedHierarchicalPointLegendItemDataModel._generateKey(n),s=this._legend._dataPointKeysMap._get(u);if(null==s){s=[],this._legend._dataPointKeysMap._set(u,s);var _=new t._ItemizedHierarchicalPointLegendItemDataModel(this._legend,a.key,a.label,n,o);_._setSymbol(this._getLegendSymbol()),i.push(_)}s.push.apply(s,a.points)}else this._createItems(a,n);n.pop()}},i.prototype._apply=function(){t._LegendUtility._isType(this._legend,t.LegendType.Color)&&this._applyColor(),this._sortItemsBySorter(this._plotAreaView)},i.prototype._applyColor=function(){this.__scaleTreeRoot.color=this._getColor(this._plotAreaView,!1),this._applyColorToPoint(this.__scaleTreeRoot,this.__start,this.__end)},i.prototype._findItemByPoint=function(e,n){if(null==n)return null;var i=this._buildLegendValue(n._data());if(i.length>0){var o=e._items();if(0==o.length)return null;for(var r=[],l=0,a=i;l<a.length;l++){var u=a[l];if("string"==typeof u){var s=u;r.push(s)}}for(var _=0,p=o;_<p.length;_++){var c=p[_];if(c instanceof t._ItemizedHierarchicalPointLegendItemDataModel){var h=this.__start+1;if(t._StringEqualityComparer._stringArrayEqualityComparer._equalsWith(r.slice(0,h),c._path))return c}}}return null},i.prototype._applyColorToPoint=function(t,e,n){for(var i=t.level+1,o=t.children,r=0;r<o.length;++r){var l=o[r],a=null;if(t.level<e){null!=l.key&&(a=this._getColorProvider()._colorWithValue(l.key)),null==a&&(a=this._getColor(this._plotAreaView,!0));var u=this._findItemByPoint(this._legend,l.points[0]);null!=u&&null==u._color()&&u._updateColor(a)}else a=this.__layers.indexOf(i)>=0?this._tintColor(t.color,r+1,o.length+1):t.color;l.color=a;for(var s=0,_=l.points;s<_.length;s++)_[s]._updateLegendColor(a);this._applyColorToPoint(l,e,n)}},i.prototype._getColorableLayer=function(t){var e,n=t._detailDefinition()._dataFieldDefinitions.map((function(t){return t._dataField._name})),i=this._definition;if((e=null!=i._dataFieldDefinitions?i._dataFieldDefinitions.map((function(t){return t._dataField._name})):[n[0]]).length<=0)return[];if(1==e.length){var o=n.indexOf(e[0]);return o<0&&(o=0),[o]}for(var r=0,l=[],a=0;a<n.length&&(n[a]!==e[r]||(l.push(a),++r!==e.length));++a);return l},i.prototype._getColor=function(t,e){return this._getColorIterator(t)._next(e)},i.prototype._tintColor=function(e,n,i){return t.models._isCssColor(e)||t.models._isLinearGradientColor(e)||t.models._isRadialGradientColor(e)?t._ColorUtility._buildColorByTint(e,n/i):e},i}(t._ItemizedLegendInitializer);t._HierarchicalLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HierarchicalLegendInitializer",this.type=t._BuildInLegendInitializerBuilderCollection._pluginType,this.priority=0}return e.prototype._buildLegendInitializer=function(e,n){var i=n._getDefinition();return i instanceof t._HierarchicalLegendEncodingDefinition&&n instanceof t._HierarchicalDataPointItemizedLegendDataModel?new t._HierarchicalLegendInitializer(e,n,i):null},e.prototype.queryInterface=function(t){return"ILegendInitializerBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._HierarchicalLegendInitializerBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){var e=function(){function t(t){this.points=[],this.children=[],this.parent=t,null!=t?(this.parent.children.push(this),this.level=t.level+1):this.level=-1}return t.prototype.findChildByPath=function(t){for(var e=this,n=0;n<t.length;++n){var i=e._findChild(t[n]);if(null==i)return e;e=i}return e},t.prototype._findChild=function(t){for(var e=0,n=this.children;e<n.length;e++){var i=n[e];if(t===i.key)return i}return null},t.fit=function(e,n,i){for(var o=0;o<n.length&&!(o>i);++o){var r=e._findChild(n[o]);null==r&&((r=new t(e)).key=n[o]),e=r}},t}();t.HierachicalLegendScaleTreeNode=e}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._DataPointItemizedLegendDataModel);t._HierarchicalDataPointItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,i,r)||this;return l._path=o.slice(),l}return n(i,e),i.prototype._dataPointKey=function(){return i._generateKey(this._path)},i._generateKey=function(t){return t.join("-")},i.prototype._traverse=function(t,e,n){e(t,n);for(var i=0,o=t._children;i<o.length;i++){var r=o[i];this._traverse(r,e,n)}},i.prototype._getRelatedPointViews=function(n){for(var i=e.prototype._getRelatedPointViews.call(this,n),o=[],r=0,l=i;r<l.length;r++){var a=l[r];t._isHierarchicalPointView(a)&&this._traverse(a,(function(t,e){o.push(t)}),null)}return o},i}(t._ItemizedPointLegendItemDataModel);t._ItemizedHierarchicalPointLegendItemDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._HierarchicalPlotDataModel(n,e)},e}();t._HierarchicalPlotDataBuilder=e}(t||(t={})),function(t){var e=function(){function t(){}return t._toHierarchicalPointModel=function(t){return null!=t.queryInterface("IHierarchicalPointModel")?t:null},t}();t._HierarchicalViewModelUtility=e}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(){function e(){this.name="HierarchicalLegendDataPoint",this.type=t._BuildInLegendDataPointsPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildDataPointsPolicy=function(e){return e instanceof t._HierarchicalDataPointItemizedLegendDataModel?this:null},e.prototype._getPointViews=function(e,n){for(var i=[],o=0,r=n._findRelatedPlotViews(e);o<r.length;o++){var l=r[o];if(t._isHierarchicalPlotView(l)){var a=l._getRootPointView();if(null!=a)for(var u=0,s=a._children;u<s.length;u++){var _=s[u];i.push(_)}}}return i},e.prototype.queryInterface=function(t){return"ILegendDataPointsPolicy"==t||"ILegendDataPointsPolicyBuilder"==t?this:null},e._defaultPlugin=new e,e}();t._HierarchicalLegendDataPointsPolicyPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){!function(e){var i=function(e){function i(t,n,i,r){return void 0===r&&(r=null),e.call(this,t,n,i,null==r?new o:r)||this}return n(i,e),i.prototype._getType=function(){return"Sunburst"},i.prototype._getCoordinateSystemType=function(){return t._XyCoordinateSystemDefinition._type},i}(e._HierarchicalPlotDefinition);e._SunburstPlotDefinition=i;var o=function(){function e(){}return e.prototype._buildPlotView=function(e,n,o){if(n instanceof i&&t._isHierarchicalPlotDataModel(o)&&(n._plotConfigOption.axisMode==t.AxisMode.Polygonal||n._plotConfigOption.axisMode==t.AxisMode.Radial)){var r=n._detailDefinition();if(null!=r&&null!=r._dataFieldDefinitions&&r._dataFieldDefinitions.length>1)return new t._SunburstPlotView(e,n,o)}return null},e}()}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Sunburst",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildPlotDefinition=function(e,n,i){if("Bar"===n.type&&(n.config.axisMode==t.AxisMode.Polygonal||n.config.axisMode==t.AxisMode.Radial)){var o=new t.models._SunburstPlotDefinition(e,e._findDataSchema(n.data),n);return null!=o._detailDefinition()&&null!=o._detailDefinition()._dataFieldDefinitions&&o._detailDefinition()._dataFieldDefinitions.length>1?o:null}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInSunburstPlotViewLayoutBuilderCollection=function(){return null==i.__BuildInSunburstPlotViewLayoutBuilderCollection&&(i.__BuildInSunburstPlotViewLayoutBuilderCollection=new i([new t._DefaultSunburstPlotViewLayoutBuilder],i._pluginType)),i.__BuildInSunburstPlotViewLayoutBuilderCollection},i.prototype._convert=function(e){return t._isSunburstPlotViewLayoutBuilder(e)?e:null},i.prototype._sunburstPlotViewLayout=function(e,n,i){void 0===i&&(i=null);for(var o=0,r=this._objects(n,i);o<r.length;o++){var l=r[o],a=l.item._buildPlotViewLayout(e,l.option);if(null!=a)return a}throw new t.AssertError(t.ErrorCode.AssertPrompt)},i._pluginType="SunburstPlotViewLayout",i}(t._BuildInObjectCollection);t._BuildInSunburstPlotViewLayoutBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._getRadialRectangle=function(e,n,i,o,r){for(var l=[],a=t._Utility._toFixed(i+o,16,!0),u=[],s=i;s<a;s+=Math.PI/180)u.push(t._Utility._toFixed(s,16,!0));u.push(a);for(var _=0,p=u;_<p.length;_++){s=p[_];var c=Math.cos(s),h=Math.sin(s);(b=e.clone()).x+=n*c,b.y+=n*h,l.push(b);var f=e.clone();f.x+=r*c,f.y+=r*h,l.push(f)}for(var d=NaN,y=NaN,g=NaN,m=NaN,v=0,w=l;v<w.length;v++){var b=w[v];d=isNaN(d)?b.x:Math.min(b.x,d),g=isNaN(g)?b.x:Math.max(b.x,g),y=isNaN(y)?b.y:Math.min(b.y,y),m=isNaN(m)?b.y:Math.max(b.y,m)}return new t.core.Rect(d,y,g-d,m-y)},e.prototype._getShapes=function(t,e){if(null!=t)for(var n=0,i=t._children;n<i.length;n++){var o=i[n],r=o;if(r._isVisible()){var l=this._getRadialRectangle(r._getCenter(),r._getRadius(),r._getStartAngle(),r._getSweep(),r._getInnerRadius());e.push(l),this._getShapes(o,e)}}},e.prototype._layoutShapesRect=function(e,n,i,o,r,l,a,u,s,_){(new t.SunburstLayout).covert(l,o.x,o.y,a,u,s*r,r,_,e);var p=[];this._getShapes(l,p);for(var c=null,h=0,f=p;h<f.length;h++){var d=f[h];c=null!=c?t._RectangleUtility._unionOfRectangles(c,d.clone()):d.clone()}return null==c&&(c=n.clone()),c},e.prototype._searchBestRadius=function(t,e,n,i,o,r,l,a,u,s,_){for(var p=o,c=null,h=o,f=r;h<=f;)if(p=(f-h)/2+h,(c=this._layoutShapesRect(t,e,n,i,p,l,a,u,s,_)).width>e.width||c.height>e.height)f=p-.1;else{if(!(c.width<e.width&&c.height<e.height))break;h=p+.1}return[p,c]},e.prototype._makeCenter=function(t,e,n,i,o){var r=Math.abs(e+n);e>Math.abs(n)?t.x-=.5*r:t.x+=.5*r;var l=Math.abs(i+o);return i>Math.abs(o)?t.y-=.5*l:t.y+=.5*l,t},e.prototype._layout=function(e,n,i,o,r,l,a,u){var s=new t.core.Point(n.left+n.width/2,n.top+n.height/2),_=1e3,p=n.clone(),c=this._getRadialRectangle(s,_,r,l,a*_),h=Math.min(p.width/c.width,p.height/c.height)*_,f=this._searchBestRadius(e,p,i,s,0,h,o,r,l,a,u);_=f[0];var d=f[1];if(null!=d){s=new t.core.Point(s.x-d.left,s.y-d.top);var y=this._layoutShapesRect(e,p,i,s,_,o,r,l,a,u);if(null!=y){var g=y.left-p.left,m=y.right-p.right,v=y.top-p.top,w=y.bottom-p.bottom;s=this._makeCenter(s,g,m,v,w)}}(new t.SunburstLayout).covert(o,s.x,s.y,r,l,a*_,_,u,e)},e}();t._DefaultSunburstPlotViewLayout=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.queryInterface=function(t){return"ISunburstPlotViewLayoutBuilder"===t?this:null},e.prototype._buildPlotViewLayout=function(e,n){return t._isSunburstPlotView(e)?new t._DefaultSunburstPlotViewLayout:null},e}();t._DefaultSunburstPlotViewLayoutBuilder=e}(t||(t={})),function(t){t._isSunburstPlotView=function(t){return"function"==typeof t._getRootSunburstPointView}}(t||(t={})),t||(t={}),function(t){t._isSunburstPlotViewLayoutBuilder=function(t){return null!=t&&null!=t._buildPlotViewLayout}}(t||(t={})),function(t){var e=function(){function e(t){this.__radius=t}return e.prototype._layout=function(e,n,i,o,r,l,a,u){var s=new t.core.Point(n.left+n.width/2,n.top+n.height/2),_=Math.min(n.width/2,n.height/2)*this.__radius;(new t.SunburstLayout).covert(o,s.x,s.y,r,l,a*_,_,u,e)},e}();t._SunburstPlotViewLayout=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="SunburstPlotViewLayout",this.type=t._BuildInSunburstPlotViewLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype._buildPlotViewLayout=function(e,n){if(t._isSunburstPlotView(e)){var i=null!=n?n.arguments:null,o=t.options._isSunburstPlotViewLayoutPluginArgumentsOption(i)?i:new t.options._SunburstPlotViewLayoutPluginArgumentsOption(null!=i?i.option():null);return new t._SunburstPlotViewLayout(o.radius)}return null},e.prototype.queryInterface=function(t){return"ISunburstPlotViewLayoutBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._SunburstPlotViewLayoutPlugin=n}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__radius=.9,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"radius",{get:function(){return this.__radius},set:function(t){t=this.validate(t),this.__radius!=t&&(this.__radius=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,.9),t.ValidatorAttribute(t._NumberValidator,!0,0,1)],i.prototype,"radius",null),i}(e._Option),e._SunburstPlotViewLayoutPluginArgumentsOption=i}(t||(t={})),function(t){!function(t){t._isSunburstPlotViewLayoutPluginArgumentsOption=function(t){return null!=t&&void 0!==t.radius}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function t(t,e,n,i,o,r,l,a,u){this.vs=t.filter((function(t){return t._isVisible()})),this.startAngle=i,this.__endAngle=o,this.innerRadius=r,this.radius=l,this.depth=a,this.cx=e,this.cy=n,this._calcSum(u)}return t.prototype._calcSum=function(t){for(var e=0,n=0;n<this.vs.length;++n){var i=this.vs[n]._value();null==i&&(i=0),e+=i}this.sum=Math.max(e,t)},Object.defineProperty(t.prototype,"sweep",{get:function(){return this.__endAngle-this.startAngle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.radius-this.innerRadius},enumerable:!1,configurable:!0}),t}(),n=function(){function n(){}return n.prototype.covert=function(t,n,i,o,r,l,a,u,s){null==u&&(u=0);var _=u*(a-l),p=(a-l-_)/(this._calcDeep(t._children)+1-1),c=new e(t._children,n,i,o,o+r,l,l+p,0,t._value());this._layoutItems(c,s,_,p,this._calPercentagedAngle(c))},n.prototype._calcDeep=function(t){if(null!=t&&t.length>0){for(var e=0,n=0;n<t.length;n++){var i=this._calcDeep(t[n]._children);e<i&&(e=i)}return++e}return 0},n.prototype._layoutItems=function(n,i,o,r,l){for(var a=n.startAngle,u=0;u<n.vs.length;++u){var s=n.vs[u],_=s._value();null==_&&(_=0);var p=_*l,c=n.cx,h=n.cy;if(0==n.depth&&(c=n.cx+o*Math.cos(a+p/2),h=n.cy+o*Math.sin(a+p/2)),s.layout(new t.core.Point(c,h),n.radius,n.innerRadius,a,p),null!=s.children&&s.children.length>0){var f=new e(s._children,c,h,a,a+p,n.radius,n.radius+r,n.depth+1,s._value());this._layoutItems(f,i,o,r,this._calPercentagedAngle(f))}a+=p}},n.prototype._calPercentagedAngle=function(t){return 0==t.sum?0:t.sweep/t.sum},n}();t.SunburstLayout=n}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,o)||this,l=r._getDefinition()._pluginCollection;return r.__pointVisibilityPolity=t._BuildInPointVisibilityPolicyBuilderCollection._buildInPointVisibilityPolicyBuilders().pointVisibilityPolicy(r,[],l),r}return n(i,e),i.prototype._createPointView=function(e,n){return new t._SunburstPointView(this,e,n,null,this.__pointVisibilityPolity)},i.prototype._createPointViews=function(){e.prototype._createPointViews.call(this),this._children.reverse(),this._pointViews.reverse()},i.prototype._getDataLabelsRender=function(){return new t._SunburstDataLabelsRender(this)},i.prototype._getOffset=function(){if(null==this.__offset){var t=this._definition._plotConfigOption.offset;if(t.length>0&&null!=t[0]){var e=t[0].value;e>1?e=1:e<-1&&(e=-1),this.__offset=e}}return this.__offset},i.prototype._innerRadius=function(){var t=this._definition._plotConfigOption.innerRadius;return null!=t?t:0},i.prototype._sweep=function(){return this._definition._plotConfigOption.sweep*Math.PI/180},i.prototype._startAngle=function(){return this._definition._plotConfigOption.startAngle*Math.PI/180+3*Math.PI/2},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=this._rectangle();if(null!=o&&o.contains(t))for(var r=0,l=this._children;r<l.length;r++){var a=l[r]._hitTest(t,n,i);if(null!=a)return a}return e.prototype._hitTest.call(this,t,n,i)},i.prototype._layoutContent=function(n,i,o){var r=this._rootPointView;if(null!=r){n.beginTransform(),t._OptionUtility._applyDataPointStyleOption(n,this._definition._plotConfigOption.style),t._OptionUtility._applyTextStyleOption(n,this._definition._plotConfigOption.textStyle);var l=t._BuildInSunburstPlotViewLayoutBuilderCollection._defaultBuildInSunburstPlotViewLayoutBuilderCollection()._sunburstPlotViewLayout(this,this._definition._plotConfigOption.plugins,this._definition._pluginCollection);null!=l&&l._layout(n,i,o,r,this._startAngle(),this._sweep(),this._innerRadius(),this._getOffset()),n.restoreTransform(),e.prototype._layoutContent.call(this,n,i,o)}},i.prototype._getRootSunburstPointView=function(){return this._rootPointView},i.prototype._draw=function(e,n){e.beginTransform(),t._OptionUtility._applyDataPointStyleOption(e,this._definition._plotConfigOption.style),t._OptionUtility._applyTextStyleOption(e,this._definition._plotConfigOption.textStyle);for(var i=[],o=[],r=[],l=0;l<this._children.length;++l){var a=this._children[l];a._isHover()&&this._definition._hoverBehaviorPolicy._changeVisualViewOrder?i.push(a):a._floated&&this._definition._hoverBehaviorPolicy._changeVisualViewOrder?o.push(a):a._isSelected()?r.push(a):a._render(e,n)}r.forEach((function(t){t._render(e,n)})),o.forEach((function(t){t._render(e,n)})),i.forEach((function(t){t._render(e,n)})),e.restoreTransform()},i}(t._HierarchicalPlotView);t._SunburstPlotView=e}(t||(t={})),function(t){t._isSunburstPointView=function(e){if(null==e)return!1;if(!t._isHierarchicalPointView(e))return!1;var n=e;return"function"==typeof n._getCenter&&"function"==typeof n._setCenter&&"function"==typeof n._getRadius&&"function"==typeof n._setRadius&&"function"==typeof n._getInnerRadius&&"function"==typeof n._setInnerRadius&&"function"==typeof n._getStartAngle&&"function"==typeof n._setStartAngle&&"function"==typeof n._getSweep&&"function"==typeof n._setSweep&&"function"==typeof n._clone}}(t||(t={})),function(t){var e=function(e){function r(n,i,o,r,l){var a=e.call(this,n,i,o,r)||this;return a.__drawablePipeline=new t.DisplayablePipeLine(a),a.__pointVisibilityPolity=l,a}return n(r,e),r.prototype._shape=function(){return new t._DonutShape(this.__center,this.__radius,this.__innerRadius,this.__startAngle,this.__sweep)},r.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},r.prototype._clone=function(){var t=new r(this._getPlotView(),null,this._hierarchicalData(),null,this.__pointVisibilityPolity);return t._setXs(this._getXs().slice()),t._setYs(this._getYs().slice()),t._visible=this._visible,t._setCenter(this._getCenter().clone()),t._setInnerRadius(this._getInnerRadius()),t._setRadius(this._getRadius()),t._setStartAngle(this._getStartAngle()),t._setSweep(this._getSweep()),t},r.prototype._getCenter=function(){return this.__center},r.prototype._setCenter=function(t){this.__center=t},r.prototype._getRadius=function(){return this.__radius},r.prototype._setRadius=function(t){null!=t&&(this.__radius=t)},r.prototype._getInnerRadius=function(){return this.__innerRadius},r.prototype._setInnerRadius=function(t){null!=t&&(this.__innerRadius=t)},r.prototype._getStartAngle=function(){return this.__startAngle},r.prototype._setStartAngle=function(t){null!=t&&(this.__startAngle=t)},r.prototype._getSweep=function(){return this.__sweep},r.prototype._setSweep=function(t){null!=t&&(this.__sweep=t)},r.prototype._refresh=function(){var e=t._Util.createPtsFromRadialBar(this.__startAngle,this.__sweep+this.__startAngle,this.__radius,this.__innerRadius,this.__center,200);this._setXs(e._xs),this._setYs(e._ys)},r.prototype._selectionAdorner=function(){return new o(this)},r.prototype.layout=function(t,e,n,i,o){this.__center=t,this.__radius=e,this.__innerRadius=n,this.__startAngle=i,this.__sweep=o,this._refresh()},r.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i),this._applyDataPointExternalStyle(e),this.__drawablePipeline._flush(e,n),e.restoreTransform()},r.prototype._draw=function(e,n){var i=this._getCenter().x,o=this._getCenter().y,r=this._getRadius()*((this._scale-1)/2+1),l=this._getInnerRadius()*(1-(this._scale-1)/2),a=this._getStartAngle(),u=this._getSweep(),s=t._PathUtility._buildDonutSegmentWithBorderRadius(i,o,r,l,a,u,null),_=this._getDefinition()._plotConfigOption.gradientFillDirection;if(null!=_&&_!=t.GradientFillDirection.Default&&e.fill instanceof t._RadialGradientColor){e.beginTransform();var p=e.fill,c=t._ColorStopUtility._calcColorStopWithRadius(p.colorStops,_==t.GradientFillDirection.InnerRadius?l:0,r),h=new t.core.Point(.5,.5),f=new t._RadialGradientColor(h,.5,h,.5,c),d=e.fillOpacity;if(e.fill=f,e.fillOpacity=d,r==l&&u>=t._Utility._PI2)e.drawDonut(i,o,r,l,a,u,null);else{var y=null;if(null!=s)y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(s);else{var g=t._PathBuilder._defaultPathBuilder._buildDonutSegment(i,o,r,l,a,u);y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(g)}e.beginTransform(),e.stroke=t._CssColor._none(),e.drawEllipse(i,o,r,r,y),e.restoreTransform(),e.fill=t._CssColor._none(),null!=s?e.drawPath(s,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(i,o,r,l,a,u,null)}e.restoreTransform()}else null!=s?e.drawPath(s,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(this._getCenter().x,this._getCenter().y,this._getRadius(),this._getInnerRadius()*(1-(this._scale-1)/2),this._getStartAngle(),this._getSweep(),null)},r.prototype._contains=function(t){var e=t.x-this._getCenter().x,n=t.y-this._getCenter().y,o=e*e+n*n,r=this._getInnerRadius()*this._getInnerRadius(),l=this._getRadius()*this._getRadius();if(o>=r&&o<=l){var a=90*this._getSweep()/Math.PI,u=i.clampAngle(180*this._getStartAngle()/Math.PI+a),s=180*Math.atan2(n,e)/Math.PI,_=i.clampAngle(u-s);if(Math.abs(_)<=a)return!0}return!1},r.prototype._cutOff=function(){return!1},r.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._SunburstDataLabelView(this,n,e):null},r.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(this._isVisible()&&this.__drawablePipeline.contains(n)){var r=new t.HitTestResult(n,this,this,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(r)?r:null}return e.prototype._hitTest.call(this,n,i,o)},r.prototype._isVisible=function(){if(null==this.__pointVisibilityPolity||this.__pointVisibilityPolity._shouldVisible(this)){for(var t=this._parentPointView;null!=t;){if(!t._isVisible())return!1;t=t._parentPointView}return e.prototype._isVisible.call(this)}return!1},r}(t._HierarchicalPointView);t._SunburstPointView=e;var i=function(){function t(){}return t.clampAngle=function(t){var e=(t+180)%360-180;return e<-180&&(e+=360),e},t.isRectOverlap=function(t,e){return null!=t&&null!=e&&!(t.left>e.right||t.top>e.bottom||e.left>t.right||e.top>t.bottom)},t}(),o=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._createPoints=function(e){var n=e._getStartAngle(),i=e._getSweep();0==i&&(i=1);var o=i;i>4?o=i/3:i>2&&(o=i/2);for(var r=e._getCenter(),l=e._getRadius(),a=[],u=n;u<=n+i;u+=o)a.push(new t.core.Point(r.x+Math.cos(u)*l,r.y+Math.sin(u)*l));if(0===(l=e._getInnerRadius()))a.push(e._getCenter().clone());else for(u=n;u<=n+i;u+=o)a.push(new t.core.Point(r.x+Math.cos(u)*l,r.y+Math.sin(u)*l));return a},i}(t._PointAdorner)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._sunburstPointView=function(){return this._ownerView},i.prototype._calcTextAutoPositionBy=function(e,n,i,o,r,l,a){if(e!=t.TextPosition.Auto)return e;var u=n.x+Math.cos(i)*(l+o),s=n.y+Math.sin(i)*(l+o);return u>n.x?u+=r.width:u<n.x&&(u-=r.width),s>n.y?s+=r.height:s<n.y&&(s-=r.height),u<a.left||u>a.right||s<a.top||s>a.bottom?t.TextPosition.Inside:t.TextPosition.Outside},i.prototype._layoutContent=function(e,n,i){var o=this._sunburstPointView(),r=o._getPlotView();o._rectangle();var l=r._getLayoutView()._dataLabelsRectangle(),a=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,u=this.__option.offset,s=null,_=null,p=this._position(),c=o._getCenter(),h=o._getStartAngle()+o._getSweep()/2;if(p==t.TextPosition.Center){var f=o._getInnerRadius()+(o._getRadius()-o._getInnerRadius())/2;_=(s=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f)).clone(),this._setTextAngle(h),this._setTextLocation(new t.core.Point(_.x,_.y)),this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height))}else f=o._getRadius(),p==t.TextPosition.Auto&&(p=this._calcTextAutoPositionBy(p,c,h,f,a,u,l)),s=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f),p==t.TextPosition.Inside?(f-=u,(_=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f)).x>c.x?_.y>c.y?this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y,a.width,a.height)):this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y-a.height/2,a.width,a.height)):_.x<c.x?_.y>c.y?this._textView()._layout(e,i,new t.core.Rect(_.x,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(e,i,new t.core.Rect(_.x,_.y,a.width,a.height)):this._textView()._layout(e,i,new t.core.Rect(_.x,_.y-a.height/2,a.width,a.height)):_.y>c.y?this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y-a.height,a.width,a.height)):_.y<c.y?this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y,a.width,a.height)):this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height))):(f+=u,(_=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f)).x>c.x?(_.x+a.width>l.right&&(_.x=l.right-a.width),_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(e,i,new t.core.Rect(_.x,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(e,i,new t.core.Rect(_.x,_.y-a.height,a.width,a.height))):this._textView()._layout(e,i,new t.core.Rect(_.x,_.y-a.height/2,a.width,a.height))):_.x<c.x?(_.x-a.width<l.left&&(_.x=l.left+a.width),_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y-a.height,a.width,a.height))):this._textView()._layout(e,i,new t.core.Rect(_.x-a.width,_.y-a.height/2,a.width,a.height))):_.y>c.y?(_.y+a.height>l.bottom&&(_.y=l.bottom-a.height),this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y,a.width,a.height))):_.y<c.y?(_.y-a.height<l.top&&(_.y=l.top+a.height),this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y-a.height,a.width,a.height))):this._textView()._layout(e,i,new t.core.Rect(_.x-a.width/2,_.y-a.height/2,a.width,a.height)));this._linePosition()==t.LinePosition.Center?(f=o._getInnerRadius()+(o._getRadius()-o._getInnerRadius())/2,this._startPoint=new t.core.Point(c.x+Math.cos(h)*f,c.y+Math.sin(h)*f)):this._startPoint=s,this._endPoint=_},i.prototype._isVisible=function(){var t=this._sunburstPointView()._data()._value();return null==t&&(t=0),!(t<=0)&&e.prototype._isVisible.call(this)},i}(t._PointDataLabelView);t._SunburstDataLabelView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstPointVisibilityPolicy",this.type=t._BuildInPointVisibilityPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._shouldVisible=function(e){if(e instanceof t._SunburstPointView){var n=e._data();return!(null!=n&&n._depth()>1&&null==n.key)&&e._visible}return e._visible},e.prototype._buildPointVisibilityPolicy=function(e){return t._isHierarchicalPlotView(e)&&t._isSunburstPlotView(e)?this:null},e.prototype.queryInterface=function(t){return"IPointVisibilityPolicyBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstPointVisibilityPolicyPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isTreeMapPlotView=function(t){var e=t;return"function"==typeof e._getRootTreeMapPointView&&"function"==typeof e._getPointSpacePolicy}}(t||(t={})),function(t){t._isTreeMapPointView=function(t){var e=t;return null!=e&&void 0!==e._rectInfo&&void 0!==e._hiddenHeader&&void 0!==e._internalShape&&"function"==typeof e._calcShape&&"function"==typeof e._isLeaf&&"function"==typeof e._haveHeader&&"function"==typeof e._calcHeaderRectBy&&"function"==typeof e._labelView}}(t||(t={})),t||(t={}),function(t){var e=function(){},i=function(i){function o(e,n){var o=i.call(this,e)||this;return o.__rectangle=t.core.Rect.ReadOnlyRect,o.__label=null,o.__label=n,o}return n(o,i),o.prototype._rectangle=function(){return this.__rectangle},o.prototype._updateRectangle=function(t){this.__rectangle=t},Object.defineProperty(o.prototype,"parent",{get:function(){return this._treeMapPointView()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"type",{get:function(){return t.ElementType.DataPointLabel},enumerable:!1,configurable:!0}),o.prototype.queryInterface=function(t){return"IDataLabelModel"==t?this:i.prototype.queryInterface.call(this,t)},Object.defineProperty(o.prototype,"text",{get:function(){return this.__label},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!1,configurable:!0}),o.prototype._treeMapPointView=function(){return this._ownerView},o.prototype._measureSize=function(t,e){var n=this.__label;t.beginTransform(),this._applyTextStyle(t);var i=t.measureSingleLineString(n);return i.width>e&&(n=this._getTextByMaxLength(t,n,e-15),i=t.measureSingleLineString(n)),t.restoreTransform(),i},o.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},o.prototype._layoutContent=function(t,e,n){},o.prototype._applyTextStyle=function(e){if(null!=this._treeMapPointView()){var n=this._treeMapPointView()._getPlotView();t._OptionUtility._applyTextStyleOption(e,n._getDefinition()._plotConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._treeMapPointView().text.textStyle)}},o.prototype._getLabel=function(){return this.__label},o.prototype._setLabel=function(t){this.__label=t},o.prototype.renderByPointRect=function(e,n){if(this._isVisible()&&!(n.width<=0||n.height<=0)){e.beginTransform(),this._applyTextStyle(e);var i=this._calcLabelDrawInfoByRect(e,n,!0);if(null!=i){this._updateRectangle(i.rect);var o=i.rect.top<n.top?t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(n.left,n.top,n.width,n.height):null;e.drawGroup(t._CssClassName._label,o,null,(function(e){e.drawMultiLineString(i.label,i.rect,t.TextOverflow.Clip,t.HAlign.Left)}))}e.restoreTransform()}},o.prototype._calcLabelDrawInfoByRect=function(n,i,o){var r=new e;if(o){_=this._getLabel();for(var l=new t.core.Size(0,0),a=_.split("\n"),u=0;u<a.length;++u){var s=n.measureSingleLineString(a[u]);s.width>i.width&&(a[u]=this._getTextByMaxLength(n,a[u],i.width-15),s=n.measureSingleLineString(_)),l.height+=s.height}r.rect=new t.core.Rect(i.left+t._Constants.LabelPadding,i.bottom-l.height-t._Constants.LabelPadding,i.width-t._Constants.LabelPadding,l.height),r.label=a.join("\n")}else{var _=this._getLabel(),p=n.measureSingleLineString(_);p.width>i.width&&(_=this._getTextByMaxLength(n,_,i.width-15),p=n.measureSingleLineString(_)),r.rect=new t.core.Rect(i.left,i.top+(i.height-p.height)/2,i.width,p.height),r.label=_.split("\n").join()}return r},o.prototype.renderByHeaderRect=function(e,n){if(this._isVisible()){e.beginTransform(),this._applyTextStyle(e);var i=this._calcLabelDrawInfoByRect(e,n,!1);null!=i&&(this._updateRectangle(i.rect),e.drawGroup(t._CssClassName._label,null,null,(function(e){e.drawMultiLineString(i.label,i.rect,t.TextOverflow.Clip,t.HAlign.Center)}))),e.restoreTransform()}},o.prototype._getTextByMaxLength=function(t,e,n){for(var i=t.measureSingleLineString(e);i.width>n&&e.length>0;)e=e.substr(0,e.length-1),i=t.measureSingleLineString(e);return e},o}(t._BaseView);t._TreeMapLabelView=i}(t||(t={})),function(t){!function(e){var i=function(e){function i(t,n,i,r){return void 0===r&&(r=null),e.call(this,t,n,i,null==r?new o:r)||this}return n(i,e),i.prototype._getType=function(){return"TreeMap"},i.prototype._getCoordinateSystemType=function(){return t._XyCoordinateSystemDefinition._type},i}(e._HierarchicalPlotDefinition);e._TreeMapPlotDefinition=i;var o=function(){function e(){}return e.prototype._buildPlotView=function(e,n,o){return n instanceof i&&t._isHierarchicalPlotDataModel(o)?new t._TreeMapPlotView(e,n,o):null},e}()}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,o)||this,l=r._definition._plotConfigOption.plugins,a=r._definition._pluginCollection;return r.__pointSpacePolicy=t._BuildInPointSpacePolicyBuilderCollection._buildInPointSpacePolicyBuilders()._pointSpacePolicy(r,l,a),r}return n(i,e),i.prototype._createPointView=function(e,n){return new t._TreeMapPointView(this,e,n,null)},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=this._rectangle();if(null!=o&&o.contains(t)){var r=void 0,l=this._rootPointView;if(null!=l&&null!=(r=l._hitTest(t,n,i)))return r}return e.prototype._hitTest.call(this,t,n,i)},i.prototype._layoutContent=function(n,i,o){var r=this._rootPointView;null!=r&&(n.beginTransform(),t._OptionUtility._applyDataPointStyleOption(n,this._definition._plotConfigOption.style),t._OptionUtility._applyTextStyleOption(n,this._definition._plotConfigOption.textStyle),this._children.splice(0,this._children.length),r.layout(n,i,o,null),n.restoreTransform(),e.prototype._layoutContent.call(this,n,i,o))},i.prototype._getRootTreeMapPointView=function(){return this._rootPointView},i.prototype._getPointSpacePolicy=function(){return this.__pointSpacePolicy},i.prototype._draw=function(e,n){var i=this._rootPointView;if(null!=i){e.beginTransform(),t._OptionUtility._applyDataPointStyleOption(e,this._definition._plotConfigOption.style),t._OptionUtility._applyTextStyleOption(e,this._definition._plotConfigOption.textStyle);var o=[],r=[],l=[];this._traverse(i,(function(t,e){if(t._isSelected())r.push(t);else if(t._isHover())o.push(t);else if(t._floated)return void l.push(t)}),null),n._ignored=!0,i._render(e,n),n._ignored=!1;for(var a=0,u=l;a<u.length;a++)u[a]._render(e,n);for(var s=0,_=r;s<_.length;s++)_[s]._render(e,n);for(var p=0,c=o;p<c.length;p++)c[p]._render(e,n);e.restoreTransform()}},i}(t._HierarchicalPlotView);t._TreeMapPlotView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,n,i,o,r)||this;return l.__title=null,l.__isLeaf=!1,l._headerHeight=0,l._hiddenHeader=!1,l._internalShape=new t._RectangleShape(0,0,0,0,0),l._rectInfo=new t.core.Rect(0,0,0,0),l._labelStyle=new t.options._StyleOption(null),l.__drawablePipeline=new t.DisplayablePipeLine(l),l}return n(i,e),i.prototype._shape=function(){return null!=this._internalShape?this._internalShape.clone():this._internalShape},Object.defineProperty(i.prototype,"dataLabel",{get:function(){return this._labelView()},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},i.prototype._clone=function(){var t=new i(this._hierarchicalPlotView(),null,this._hierarchicalData(),null);return t._internalShape=this._internalShape.clone(),t._visible=this._visible,t},i.prototype._isLeaf=function(){return this.__isLeaf},i.prototype._labelView=function(){if(null==this.__labelView){var e=this._getLabel();null!=e&&""!==e&&(this.__labelView=new t._TreeMapLabelView(this,e))}return this.__labelView},i.prototype._rectangle=function(){return new t.core.Rect(this._internalShape.center.x-.5*this._internalShape.size.width,this._internalShape.center.y-.5*this._internalShape.size.height,this._internalShape.size.width,this._internalShape.size.height)},i.prototype._slice=function(e,n,i,o){for(var r=[],l=0,a=0,u=i;u<o.length;++u){var s=o[u]._data(),_=0,p=0;if(e.height<e.width){if(_=(l+=Math.abs(s._value()))*n/e.height,p=Math.abs(o[i]._data()._value())*n/_,0!=a){var c=p>_?p/_:_/p;if(!(Math.abs(c-1)<Math.abs(a-1)))break;a=c,r.length=0}else a=p>_?p/_:_/p;r.length=0;for(var h=i;h<=u;h++){var f=void 0,d=Math.abs(o[h]._data()._value())*n/_;f=h===i?new t.core.Rect(e.left,e.top,_,p):new t.core.Rect(r[h-i-1].left,r[h-i-1].bottom,_,d),r.push(f)}}else{if(p=(l+=Math.abs(s._value()))*n/e.width,_=Math.abs(o[i]._data()._value())*n/p,0!=a){if(c=p>_?p/_:_/p,!(Math.abs(c-1)<Math.abs(a-1)))break;a=c,r.length=0}else a=p>_?p/_:_/p;for(r.length=0,h=i;h<=u;h++){f=void 0;var y=Math.abs(o[h]._data()._value())*n/p;f=h===i?new t.core.Rect(e.left,e.top,_,p):new t.core.Rect(r[h-i-1].right,r[h-i-1].top,y,p),r.push(f)}}}return r},i.prototype._haveChild=function(){return this._children.length>0},i.prototype._haveHeader=function(){return null!=this._getLabel()&&""!==this._getLabel()&&this._haveChild()},i.prototype._calcHeaderHeight=function(t){return 1.5*t.height},i.prototype._calcHeaderRectBy=function(t){var e=t.clone();return e.height=0==this._rectInfo.height?0:this._headerHeight*e.height/this._rectInfo.height,e},i.prototype.layout=function(e,n,i,o){var r=this._getLayoutRect(n,o);this._rectInfo=r.clone(),this._internalShape=t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(r),this.__isLeaf=!this._haveChild();var l=this._getDefinition()._pluginCollection,a=t._BuildInPointVisibilityPolicyBuilderCollection._buildInPointVisibilityPolicyBuilders().pointVisibilityPolicy(this._getPlotView(),[],l);if(a._shouldVisible(this)){if(this._hierarchicalPlotView()._children.push(this),this._haveChild()){this._children.sort((function(t,e){var n=t._data()._value(),i=e._data()._value();return(null==i?0:i)-(null==n?0:n)}));var u=r.clone();if(this._haveHeader()){var s=this._getLabel();this._labelView()._setLabel(s);var _=this._labelView()._measureSize(e,r.width);this._headerHeight=this._calcHeaderHeight(_),this._hiddenHeader=this._headerHeight>r.height,u=new t.core.Rect(r.left,r.top+this._headerHeight,r.width,r.height-this._headerHeight)}if(this._hiddenHeader&&(this.__isLeaf=!0),!this.__isLeaf){for(var p=[],c=0,h=0,f=this._children;h<f.length;h++){var d=f[h];if(a._shouldVisible(d)){p.push(d);var y=d._data()._value();null==y&&(y=0),c+=y}else d._visible=!1}c<=0?(this.__isLeaf=!0,this._haveHeader()&&(this._hiddenHeader=!0)):this._layouChildren(e,i,p,u,c)}}}else this._visible=!1},i.prototype._layouChildren=function(e,n,i,o,r){for(var l=o.clone(),a=l.width*l.height/r,u=0;u<i.length&&!t._Util.isNil(l);){for(var s=this._slice(l,a,u,i),_=0,p=s;_<p.length;_++){var c=p[_];i[u].layout(e,c,n,o),u++}var h=t._RectangleUtility._unionOfRectangles.apply(t._RectangleUtility,s);l=this._clipRect(h,l)}},i.prototype._clipRect=function(e,n){return Math.abs(e.width-n.width)<=1e-4?new t.core.Rect(e.left,e.bottom,e.width,n.bottom-e.bottom):new t.core.Rect(e.right,e.top,n.right-e.right,e.height)},i.prototype._getLayoutRect=function(t,e){var n=this._getPlotView()._getPointSpacePolicy();return null!=n?n._calcTreeMapPointLayoutRectangleWithSpace(t,e):t},i.prototype._getLabel=function(){if(null==this.__title){var e=this._hierarchicalPlotView()._getHierarchicalPlotDefinition()._encodingsDefinition._textEncodingDefinitions,n=null;null!=e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e));var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.models._HierarchicalTextProxy(this,e),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,u=i.evaluate(o,r,l,a);this.__title=this._toLines(u).join("\n")}return this.__title},i.prototype._setLabel=function(t){this.__title=t},i.prototype._beginContext=function(t){this._isHover()&&this._haveHeader()&&(t._hovered=!0),t.hasSelectionInPlotArea&&(this._isSelected()||t.selected)&&(t.selected=!0)},i.prototype._endContext=function(t){this._haveHeader()&&this._isHover()&&(t._hovered=!1),this._isSelected()&&(t.selected=!1)},i.prototype._draw=function(t,e){this._beginContext(e);var n=this._getPlotView();this._isHover()||null==n._getRootTreeMapPointView()||null==this._parentPointView||this._calcShape(),this._drawInternal(t,e,this._rectangle()),this._endContext(e)},i.prototype._drawInternal=function(e,n,i,o){if(void 0===o&&(o=!0),this._isLeaf()){if(!this._isVisible())return;t._StyleUtility._applyAllStyle(e,this._getDrawingStyle(n,o)),e.drawRect(i.left,i.top,i.width,i.height),null!=this._labelView()&&this._labelView().renderByPointRect(e,i)}else{if(this._haveHeader()&&!this._hiddenHeader){t._StyleUtility._applyAllStyle(e,this._getDrawingStyle(n,o));var r=this._calcHeaderRectBy(i);e.beginTransform(),e.stroke=new t._CssColor("none"),e.drawRect(r.left,r.top,r.width,r.height),e.restoreTransform(),e.beginTransform(),e.fill=new t._CssColor("none"),e.drawRect(i.left,i.top,i.width,i.height),e.restoreTransform(),null!=this._labelView()&&this._labelView().renderByHeaderRect(e,r)}for(var l=0,a=this._children;l<a.length;l++)a[l]._render(e,n)}},i.prototype._contains=function(e){return null!=this._internalShape&&t._ShapeUtil._shapeContainsPoint(this._internalShape,e)},i.prototype._cutOff=function(){return!1},i.prototype._drawView=function(t,e){null!=this._data()._root()&&this._isVisible()&&(e._ignored&&(this._isSelected()||this._isHover()||this._floated)||(t.beginTransform(),this.__drawablePipeline._flush(t,e),t.restoreTransform()))},i.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(!this.__drawablePipeline.contains(e))return null;for(var o,r=0,l=this._children;r<l.length;r++)if(null!=(o=l[r]._hitTest(e,n,i)))return o;var a=new t.HitTestResult(e,this,this,t.ElementType.DataPoint);return null==i||null!=i&&i.predicate(a)?a:null},i.prototype._calcShape=function(){var e=this._parentPointView,n=e._rectInfo,i=e._rectangle(),o=this._rectInfo.width*i.width/n.width,r=this._rectInfo.height*i.height/n.height,l=(this._rectInfo.top-n.top)*i.height/n.height+i.top,a=(this._rectInfo.left-n.left)*i.width/n.width+i.left+.5*o,u=l+.5*r;return isNaN(o)||isNaN(r)||(this._internalShape=new t._RectangleShape(a,u,o,r,0)),this._internalShape},i.prototype._getDrawingStyle=function(e,n){void 0===n&&(n=!0);var i=this._calculateStyle(e);return n&&t._StyleUtility._applyAllStyle(i,this._externalStyle),i},i}(t._HierarchicalPointView);t._TreeMapPointView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMap",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"TreeMap"===n.type?new t.models._TreeMapPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapPointVisibilityPolicyPlugin",this.type=t._BuildInPointVisibilityPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._areaVisible=function(e){for(var n=e._parentPointView,i=n._rectInfo,o=n._headerHeight,r=new t.core.Rect(i.left,i.top+o,i.width,i.height-o),l=0,a=0,u=n._children;a<u.length;a++){var s=u[a];if(s._visible){var _=s._data()._value();null==_&&(_=0),l+=_}}var p=r.height*r.width/l,c=e._value();return null==c&&(c=0),c*p>=3},e.prototype._shouldVisible=function(e){if(e instanceof t._TreeMapPointView){var n=e;if(!n._visible)return!1;var i=n._data();return!(null==i._value()||i._value()<0)&&(null==n._parentPointView||this._areaVisible(n))}return e._visible},e.prototype._buildPointVisibilityPolicy=function(e){return t._isHierarchicalPlotView(e)&&t._isTreeMapPlotView(e)?this:null},e.prototype.queryInterface=function(t){return"IPointVisibilityPolicyBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapPointVisibilityPolicyPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createXDimension=function(n,i){var o=new t.financial.models._StockDimensionBuilder,r=this._definition()._axisOptions.filter((function(e){return e.type==t.AxisType.X})),l=this._cartesianPlotDefinition()._detailDefinitions(),a=o.build(n,l,r.length>0?r[0]:null,i);return null!=a?a:e.prototype._createXDimension.call(this,n,i)},i.prototype._createYDimension=function(n,i){var o=new t.financial.models._StockDimensionBuilder,r=this._definition()._axisOptions.filter((function(e){return e.type==t.AxisType.Y})),l=this._cartesianPlotDefinition()._detailDefinitions(),a=o.build(n,l,r.length>0?r[0]:null,i);return null!=a?a:e.prototype._createYDimension.call(this,n,i)},i.prototype._createPoint=function(e,n,i,o,r){if(!this._canCreatePoint(i,o))return null;var l=e._yValueDefinition();if(null!=l&&null!=(t.financial.models._isHlocStockValueEncodingDefinition(l)?l:null)){var a=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition()._pluginCollection);return new t._StockValuePointDataModel(this,e,n,i,o,r,a)}return null},i}(t._CartesianCategoryPlotDataModel);t._StockCartesianCategoryPlotDataModel=e}(t||(t={})),function(t){t._isStockValuePointDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._high&&"function"==typeof e._low&&"function"==typeof e._open&&"function"==typeof e._close}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i,o,r,l,a){var u=e.call(this,t,n,i,o,r,l)||this;return u.__stringFormatting=a,u}return n(i,e),i.prototype._value=function(){return this.__value},i.prototype._high=function(){return this.__highDimensionValue._value()},i.prototype._low=function(){return this.__lowDimensionValue._value()},i.prototype._open=function(){return this.__openDimensionValue._value()},i.prototype._close=function(){return this.__closeDimensionValue._value()},i.prototype._generateValues=function(){if(e.prototype._generateValues.call(this),this._yValues().length<4)throw new t.RuntimeError(t.ErrorCode.InvalidArgument,this._yValues().length);this.__highDimensionValue=this._yValues()[0],this.__lowDimensionValue=this._yValues()[1],this.__openDimensionValue=this._yValues()[2],this.__closeDimensionValue=this._yValues()[3];var n=this._high(),i=this._low();isNaN(n)||null==n||isNaN(i)||null==i?this.__value=null:this.__value=n-i},i.prototype._generateItem=function(){e.prototype._generateItem.call(this);var t=this._item();t.high=this._high(),t.low=this._low(),t.open=this._open(),t.close=this._close()},i.prototype.queryInterface=function(n){return"IHLOCValue"==n?new t.financial.models._HLOCValueInfo(this._high(),this._low(),this._open(),this._close(),this.__stringFormatting):e.prototype.queryInterface.call(this,n)},i}(t._ValuePointDataModel);t._StockValuePointDataModel=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createXDimension=function(n,i){var o=new t.financial.models._StockDimensionBuilder,r=this._definition()._axisOptions.filter((function(e){return e.type==t.AxisType.X})),l=this._cartesianPlotDefinition()._detailDefinitions(),a=o.build(n,l,r.length>0?r[0]:null,i);return null!=a?a:e.prototype._createXDimension.call(this,n,i)},i.prototype._createYDimension=function(n,i){var o=new t.financial.models._StockDimensionBuilder,r=this._definition()._axisOptions.filter((function(e){return e.type==t.AxisType.Y})),l=this._cartesianPlotDefinition()._detailDefinitions(),a=o.build(n,l,r.length>0?r[0]:null,i);return null!=a?a:e.prototype._createYDimension.call(this,n,i)},i.prototype._createPoint=function(e,n,i,o,r){if(!this._canCreatePoint(i,o))return null;var l=e._yValueDefinition();if(null!=l&&t.financial.models._isHlocStockValueEncodingDefinition(l)){var a=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition()._pluginCollection);return new t._StockValuePointDataModel(this,e,n,i,o,r,a)}return null},i}(t._CartesianXyPlotDataModel);t._StockCartesianXyPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildCategoryEncodingDefinition=function(n,i){var o=e.prototype._buildCategoryEncodingDefinition.call(this,n,i);if(null!=o){var r=null,l=o._hierarchicalGroupingDefinitions;if(l.length>0&&(r=l[0]._dataFieldDefinition),null!=r){if(t._isDateDataField(r._dataField))return o;if(t._isStringDataField(r._dataField))return o}return null}return null},i._categoryEncodingDefinitionBuilder=new i,i}(t._CartesianCategoryEncodingDefinitionBuilder);t._StockCategoryEncodingDefinitionBuilder=e}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function e(){}return e.prototype.build=function(e,n,i,o){var r=(new t._StockValueDimensionBuilder).build(e,n,i,o);return null!=r?r:null},e}();t._StockDimensionBuilder=e}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype.build=function(n,i,o,r){if(null==n)return null;if(e._isHlocStockValueEncodingDefinition(n)){var l=n,a=[l._highFieldDefinition,l._lowFieldDefinition,l._openFieldDefinition,l._closeFieldDefinition].filter((function(t){return null!=t}));return new t.models._LinearMultiDataFieldsDimension(a,t.ValueScaleType.Linear)}if(e._isTransactionStockValueEncodingDefinition(n)){var u=n;return new t.models._LinearDataFieldDimension(u._transactionDataFieldDefinition,t.ValueScaleType.Linear)}return null},n.prototype.queryInterface=function(t){return"IDimensionBuilder"==t?this:null},n}();e._StockValueDimensionBuilder=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this,t._StockCategoryEncodingDefinitionBuilder._categoryEncodingDefinitionBuilder,null)||this;return n._adopter=new t.models.CartesianLegendAdopter,n}return n(i,e),i.prototype._createValueEncodingDefinition=function(e,n,i){var o=null;if(null!=i._categoryEncodingDefinition){if(null!=(o=t.financial.models._HlocStockValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n)))return o}else{if(null!=(o=t.financial.models._XyHlocStockValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n)))return o;if(null!=(o=t.financial.models._TransactionStockValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n)))return o}return null},i.prototype._createDetailEncodingDefinitions=function(t,e,n){return[]},i.prototype._createTooltipContentEncodingDefinition=function(t,e,n){return null},i.prototype._createShapeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createSizeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createLightnessLegendEncodingDefinition=function(t,e,n){return null},i}(t._CartesianEncodingsDefinitionBuilder);t._StockEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e;!function(e){var i=function(i){function o(t,e,n,o,r,l){var a=i.call(this,t,l,null)||this;return a.__identifier=null,a.__label=null,a._highFieldDefinition=e,a._lowFieldDefinition=n,a._openFieldDefinition=o,a._closeFieldDefinition=r,a}return n(o,i),o.prototype._buildLabel=function(t,e,n,i){var o=[];return null!=this._highFieldDefinition&&o.push(this._highFieldDefinition._label),null!=this._lowFieldDefinition&&o.push(this._lowFieldDefinition._label),null!=this._openFieldDefinition&&o.push(this._openFieldDefinition._label),null!=this._closeFieldDefinition&&o.push(this._closeFieldDefinition._label),o.join("-")},o.prototype._areNumberDataFieldEquals=function(t,e){return t==e||null!=t&&null!=e&&t.equalsWith(e)},o.prototype._getIdentifier=function(){if(null==this.__identifier){var t=[];null!=this._highFieldDefinition&&t.push(this._highFieldDefinition._dataField._name),null!=this._lowFieldDefinition&&t.push(this._lowFieldDefinition._dataField._name),null!=this._openFieldDefinition&&t.push(this._openFieldDefinition._dataField._name),null!=this._closeFieldDefinition&&t.push(this._closeFieldDefinition._dataField._name),this.__identifier=t.join("-")}return this.__identifier},o.prototype._getLabel=function(){return null==this.__label&&(this.__label=this._buildLabel(this._highFieldDefinition,this._lowFieldDefinition,this._openFieldDefinition,this._closeFieldDefinition)),this.__label},o.prototype._getExcludeNullsFilter=function(){return this._excludeNulls?t._BuildInFieldFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null},o.prototype.equalsWith=function(t){if(this==t)return!0;if(!i.prototype.equalsWith.call(this,t))return!1;if(e._isHlocStockValueEncodingDefinition(t)){var n=t;if(null!=n)return this._areNumberDataFieldEquals(this._highFieldDefinition,n._highFieldDefinition)&&this._areNumberDataFieldEquals(this._lowFieldDefinition,n._lowFieldDefinition)&&this._areNumberDataFieldEquals(this._openFieldDefinition,n._openFieldDefinition)&&this._areNumberDataFieldEquals(this._closeFieldDefinition,n._closeFieldDefinition)}return!1},o}(t._ValueEncodingDefinition);e._HlocStockValueEncodingDefinition=i}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype._buildValueEncodingDefinition=function(n,i){if(null!=i&&"IFieldsValueEncodingOption"==i.type){for(var o=i,r=null,l=null,a=null,u=null,s=0,_=t._EscapedCharacterStringUtility._split(o.field,",");s<_.length;s++){var p=_[s];null==r&&null!=(r=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(p,n._dataSchema,null))||null==l&&null!=(l=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(p,n._dataSchema,null))||null==a&&null!=(a=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(p,n._dataSchema,null))||null!=u||(u=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(p,n._dataSchema,null))}if(null!=r&&null!=l)return new e._HlocStockValueEncodingDefinition(n,null==r?null:r,null==l?null:l,null==a?null:a,null==u?null:u,o.excludeNulls)}else if(null!=i&&"IStockFieldValueEncodingOption"==i.type){var c=i;return r=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c.field.high,n._dataSchema,null),l=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c.field.low,n._dataSchema,null),a=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c.field.open,n._dataSchema,null),u=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c.field.close,n._dataSchema,null),new e._HlocStockValueEncodingDefinition(n,null==r?null:r,null==l?null:l,null==a?null:a,null==u?null:u,c.excludeNulls)}return null},n._valueEncodingDefinitionBuilder=new n,n}();e._HlocStockValueEncodingDefinitionBuilder=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){t._isHlocStockValueEncodingDefinition=function(t){var e=t;return null!=e&&void 0!==e._highFieldDefinition&&void 0!==e._lowFieldDefinition&&void 0!==e._openFieldDefinition&&void 0!==e._closeFieldDefinition}}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createDataFieldDefinition=function(e,n,i){if(t._isDateDataField(e)){var o=e;return new t._DateDataFieldDefinition(o,n,i)}return t._isStringDataField(e)?new t._DataFieldDefinition(e,n,i):null},i._stockXDataFieldDefinitionBuilder=new i,i}(t._DataFieldDefinitionBuilder);t._StockXDataFieldDefinitionBuilder=e}(t||(t={})),function(t){var e;!function(e){e._isTransactionStockValueEncodingDefinition=function(e){var n=e;return null!=n&&t._isValueEncodingDefinition(n)&&void 0!==n._transactionDataFieldDefinition}}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var i=function(i){function o(t,e,n){var o=i.call(this,t,n,null)||this;return o._transactionDataFieldDefinition=e,o}return n(o,i),o.prototype._getIdentifier=function(){return this._transactionDataFieldDefinition._dataField._name},o.prototype._getLabel=function(){return this._transactionDataFieldDefinition._label},o.prototype._getExcludeNullsFilter=function(){return this._excludeNulls?t._BuildInFieldFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,this._plotDefinition._pluginCollection):null},o.prototype.equalsWith=function(t){if(this==t)return!0;if(!i.prototype.equalsWith.call(this,t))return!1;if(e._isTransactionStockValueEncodingDefinition(t)){var n=t;if(null!=n)return this._transactionDataFieldDefinition.equalsWith(n._transactionDataFieldDefinition)}return!1},o}(t._ValueEncodingDefinition);e._TransactionStockValueEncodingDefinition=i}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype._buildValueEncodingDefinition=function(n,i){if(null!=i&&"IFieldsValueEncodingOption"==i.type){for(var o=i,r=null,l=null,a=0,u=t._EscapedCharacterStringUtility._split(o.field,",");a<u.length;a++){var s=u[a];null==r&&null!=(r=t._DateDataFieldDefinitionBuilder._dateDataFieldDefinitionBuilder._buildDataFieldDefinition(s,n._dataSchema,null))||null!=l||(l=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(s,n._dataSchema,null))}if(null!=l&&t._isNumberDataFieldDefinition(l)&&null!=r)return new e._TransactionStockValueEncodingDefinition(n,l,o.excludeNulls)}return null},n._valueEncodingDefinitionBuilder=new n,n}();e._TransactionStockValueEncodingDefinitionBuilder=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var i=function(e){function i(t,n,i,o,r,l,a){var u=e.call(this,t,i,o,r,l,a)||this;return u.__xFieldDefinition=n,u}return n(i,e),i.prototype._getXFieldEncodingDefinition=function(){return this.__xFieldDefinition},i.prototype.equalsWith=function(n){if(this==n)return!0;if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isXyStyleValueEncodingDefinition(n)){var i=n;if(null!=i)return this._getXFieldEncodingDefinition().equalsWith(i._getXFieldEncodingDefinition())}return!1},i}(e._HlocStockValueEncodingDefinition);e._XyHlocStockValueEncodingDefinition=i}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n.prototype._buildValueEncodingDefinition=function(n,i){if(null!=i&&"IFieldsValueEncodingOption"==i.type){for(var o=i,r=null,l=null,a=null,u=null,s=null,_=0,p=t._EscapedCharacterStringUtility._split(o.field,",");_<p.length;_++){var c=p[_];null==r&&(r=t._StockXDataFieldDefinitionBuilder._stockXDataFieldDefinitionBuilder._buildDataFieldDefinition(c,n._dataSchema,null)),null==l&&null!=(l=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c,n._dataSchema,null))||null==a&&null!=(a=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c,n._dataSchema,null))||null==u&&null!=(u=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c,n._dataSchema,null))||null!=s||(s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(c,n._dataSchema,null))}if(null!=r&&null!=l&&null!=a){var h=new t._XFieldEncodingDefinition(n,r,null,o.excludeNulls);return new e._XyHlocStockValueEncodingDefinition(n,h,null==l?null:l,null==a?null:a,null==u?null:u,null==s?null:s,!!o.excludeNulls)}}else if(null!=i&&"IStockFieldValueEncodingOption"==i.type){var f=i;if(l=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(f.field.high,n._dataSchema,null),a=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(f.field.low,n._dataSchema,null),u=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(f.field.open,n._dataSchema,null),s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(f.field.close,n._dataSchema,null),null!=(r=t._StockXDataFieldDefinitionBuilder._stockXDataFieldDefinitionBuilder._buildDataFieldDefinition(f.field.x,n._dataSchema,null)))return h=new t._XFieldEncodingDefinition(n,r,null,!!f.excludeNulls),new e._XyHlocStockValueEncodingDefinition(n,h,null==l?null:l,null==a?null:a,null==u?null:u,null==s?null:s,f.excludeNulls)}return null},n._valueEncodingDefinitionBuilder=new n,n}();e._XyHlocStockValueEncodingDefinitionBuilder=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(){function e(){}return e._stockLegendSymbolStyleBuilder=function(){return null==e.__stockLegendSymbolStyleBuilder&&(e.__stockLegendSymbolStyleBuilder=new e),e.__stockLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);null!=r&&(o.stroke=r);var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),u=e._getUnselectedStyle(),s=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,s),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(u,p),t._OptionUtility._applyDataPointStyleOption(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?t._OptionUtility._applyDataPointStyleOption(o,a):e._legendItemView().relatedModels().length>0&&t._OptionUtility._applyDataPointStyleOption(o,u));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(o,c._filteredOutSymbolStyle),o},e}(),e._StockLegendSymbolStyleBuilder=n}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.__constValuesName="VALUESNAME",n.name="StockLegend",n.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,n.priority=2,n}return n(i,e),i.prototype._getFieldNames=function(e){for(var n=t._EscapedCharacterStringUtility._split(e,">"),i=0;i<n.length;i++){var o=t._EscapedCharacterStringUtility._trim(n[i]);n[i]=t._EscapedCharacterStringUtility._normalize(o)}return n},i.prototype._getFieldDefinitions=function(e,n,i,o){var r=e;if(null!=r&&r.length>0){var l=n.filter((function(e){if(t._isSingleDataFieldDetailEncodingDefinition(e)){var n=e;return-1!=r.indexOf(n._dataFieldDefinition._dataField._name)}return!1})).map((function(t){return t._dataFieldDefinition}));if(null!=i&&t._isHierarchicalCategoryEncodingDefinition(i))for(var a=0,u=i._hierarchicalGroupingDefinitions;a<u.length;a++){var s=u[a];-1!=r.indexOf(s._dataFieldDefinition._dataField._name)&&l.push(s._dataFieldDefinition)}else for(var _=0,p=o;_<p.length;_++){var c=p[_];if(t._isXyValueEncodingDefinition(c)){var h=c._getXFieldEncodingDefinition();if(null!=h&&null!=h._getXDataFieldDefinition()&&-1!=r.indexOf(h._getXDataFieldDefinition()._dataField._name)){l.push(h._getXDataFieldDefinition());break}}}return l}return null},i.prototype._buildLegendDefinition=function(e,n,i,o,r){if(e instanceof t.financial.models._BaseStockPlotDefinition){var l=this._legendType(n);if(null==l)return null;var a=l;if(a==t.LegendType.Color&&t._isCartesianEncodingsDefinitionContext(o)){if(null!=n.field){var u=n,s=o,_=this._getFieldNames(n.field),p=s._detailEncodingDefinitions,c=s._categoryEncodingDefinition,h=s._valueEncodingDefinitions;if(_.length>0&&_[0]===this.__constValuesName){_.shift();var f=this._getFieldDefinitions(_,p,c,h),d=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(u.sort,e._dataSchema,null);return null!=f&&f.length>0?new t._ValuesNameLegendEncodingDefinition(e,h,f,d,new t.models._ValuesNameLegendBuilder(i)):new t._ValuesNameLegendEncodingDefinition(e,h,[],d,new t.models._ValuesNameLegendBuilder(i))}}return new t._EmptyLegendDefinition(e,a,new t.models._CartesianEmptyColorLegendBuilder(e))}}return null},i.prototype.queryInterface=function(t){return"ILegendEncodingDefinitionBuilder"==t||"IPlugin"==t?this:null},i._defaultPlugin=new i,i}(t._LegendEncodingDefinitionBuilder);t._StockLegendEncodingDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(i){function o(){return i.call(this,t._DefaultLegendSymbolColorBuilder._defaultLegendSymbolColorBuilder(),e._StockLegendSymbolStyleBuilder._stockLegendSymbolStyleBuilder())||this}return n(o,i),o.prototype._applyOther=function(){t._CartesianLegendSymbolLib._applySeriesStyle(this)},o.prototype.render=function(e,n,i){e.beginTransform();var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!1);e.strokeWidth=1,t._StyleUtility._applyStyle(e,o),e.drawLine(n.left,n.top+n.height/2,n.right,n.top+n.height/2),e.restoreTransform()},o}(t._LegendSymbolView),e._StockLegendSymbolView=i}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(i){function o(){return null!==i&&i.apply(this,arguments)||this}return n(o,i),o.prototype._sliceValues=function(n,i,o,r){var l=[];if(r&&e.models._isHlocStockValueEncodingDefinition(o)){var a=n;l.push(new t._CartesianOverlayDataSlice(a.filter((function(t){return!isNaN(t.high)})),"high",i)),l.push(new t._CartesianOverlayDataSlice(a.filter((function(t){return!isNaN(t.low)})),"low",i)),l.push(new t._CartesianOverlayDataSlice(a.filter((function(t){return!isNaN(t.open)})),"open",i)),l.push(new t._CartesianOverlayDataSlice(a.filter((function(t){return!isNaN(t.close)})),"close",i))}else l.push(new t._CartesianOverlayDataSlice(n,o._getIdentifier(),i,!1));return l},o}(t._CartesianOverlayDataSlicer),e._StockOverlayDataSlicer=i}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(){function e(){}return e.extract=function(e,n,i){var o=n._pointViews();if(null==o||0==o.length)return null;for(var r=[],l=[],a=[],u=0,s=o;u<s.length;u++){var _=s[u];if(!_._isFiltered()){var p=this._getValue(e,_,i);null!=p&&(r.push(t.models._CartesianSupport.getX(_)),l.push(p),a.push(_))}}var c=new t.XyPoints;return c.xs=r,c.ys=l,c.points=a,c},e._getValue=function(e,n,i){var o=null;return"high"===i?o=n.high:"low"===i?o=n.low:"open"===i?o=n.open:"close"===i&&(o=n.close),null==o&&e._showNulls()==t.ShowNulls.Zeros&&(o=0),o},e}(),e._StockPointDataExtractor=n}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(e,n,i){this.__context=e,this.__valueFieldName=null==n?"":n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__context._getDefinition()._pluginCollection)}return e.prototype._getDefaultFormat=function(e){return this.__stringFormatting.defaultFormat(t.core.DataType.String,!1)},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(e,n,i){return null==e?null:"Field"==e&&null!=this.__valueFieldName?new t.models._DataValueInfo(this.__valueFieldName,this.__stringFormatting):null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__context:e.length>8&&"current."==e.substring(0,8)&&null!=this.__context?new t._AnyValueBinding(e.substring(8))._getValue(this.__context):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();e._StockTrendlineLabelTextProxy=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e,i,o;e=t.financial||(t.financial={}),i=e.models||(e.models={}),o=function(i){function o(t,e){return i.call(this,t,e)||this}return n(o,i),o.prototype._buildOverlayView=function(n){return t._isStockPlotView(n)?new e._StockTrendlineOverlayView(n,this):null},o}(t._TrendlineDefinition),i._StockTrendlineOverlayDefinition=o}(t||(t={})),function(t){var e,n;e=t.financial||(t.financial={}),n=function(){function n(){}return n.prototype._bulid=function(e,n,i,o){var r=e._getCartesianPlotView();if(t._isTextCartesianPlotView(r));else if(t._isStockPlotView(r))return this._createItemViewBy(e,n,i,e._trendlineOverlayDefinition()._option,o);return null},n.prototype._createItemViewBy=function(t,n,i,o,r){var l=o.type;return"LinearTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createLinearTrendline(o),o.forecast):"PolynomialTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createPolynomialTrendline(o),o.forecast):"ExponentialTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createExponentialTrendline(o),o.forecast):"LogarithmicTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createLogarithmicTrendline(o),o.forecast):"PowerTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createPowerTrendline(o),o.forecast):"FourierTrendline"===l?new e._StockFunctionalTrendlineOverlayItemView(t,n,r,i,this._createFourierTrendline(o),o.forecast):"MovingAverageTrendline"===l?new e._StockDiscretePointTrendlineOverlayItemView(t,n,r,i,this._createSimpleMovingAverageTrendline(o)):"CumulativeMovingAverageTrendline"===l?new e._StockDiscretePointTrendlineOverlayItemView(t,n,r,i,this._createCumulativeMovingAverageTrendline(o)):"ExponentialMovingAverageTrendline"===l?new e._StockDiscretePointTrendlineOverlayItemView(t,n,r,i,this._createExponentialMovingAverageTrendline(o)):"WeightedMovingAverageTrendline"===l?new e._StockDiscretePointTrendlineOverlayItemView(t,n,r,i,this._createWeightedMovingAverageTrendline(o)):"MovingAnnualTotalTrendline"===l?new e._StockDiscretePointTrendlineOverlayItemView(t,n,r,i,this._createMovingAnnualTotalTrendline(o)):null},n.prototype._createMovingAnnualTotalTrendline=function(e){return new t.MovingAnnualTotalTrendline(e.period)},n.prototype._createCumulativeMovingAverageTrendline=function(e){return new t.CumulativeMovingAverageTrendline(e.period)},n.prototype._createSimpleMovingAverageTrendline=function(e){return new t.SimpleMovingAverageTrendline(e.period)},n.prototype._createWeightedMovingAverageTrendline=function(e){return new t.WeightedMovingAverageTrendline(e.period)},n.prototype._createExponentialMovingAverageTrendline=function(e){return new t.ExponentialMovingAverageTrendline},n.prototype._createPowerTrendline=function(e){return new t._PowerTrendline},n.prototype._createExponentialTrendline=function(e){return new t._ExponentialTrendline(e.intercept)},n.prototype._createLinearTrendline=function(e){return new t._LinearTrendline(e.intercept)},n.prototype._createFourierTrendline=function(e){return new t._FourierTrendline(e.order)},n.prototype._createPolynomialTrendline=function(e){return new t._PolynomialTrendline(e.order,e.intercept)},n.prototype._createLogarithmicTrendline=function(e){return new t._LogarithmicTrendline},n}(),e._StockTrendlineOverlayItemViewBuilder=n}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(i){function o(t,e){return i.call(this,t,e)||this}return n(o,i),o.prototype._shouldApplyColorFromPalette=function(){var t=this._definition._option;return(null==t.style||null==t.style.stroke)&&null!=t.label},o.prototype._getDataSlices=function(n){return(new e._StockOverlayDataSlicer)._slice(n._getCartesianGroupView(),t.DetailLevel.Group,!0)},o.prototype._createOverlayItemView=function(t,n,i){var o=n._getCartesianGroupView()._getCartesianGroupDataModel()._yValueDefinition();if(this._valueFieldFilter(t,o)&&t._pointViews().length>0){var r=(new e._StockTrendlineOverlayItemViewBuilder)._bulid(this,n,t,i);null!=r&&(r._label(this._generateLabel(t)),this._itemViews().push(r))}},o.prototype._valueFieldFilter=function(t,e){var n=t._valueField(),i=this._definition._option;if(null!=n){if(null==i.field){if(this._isCompoundValueField(n))return!0;var o=e;return this._getValueFields(o).indexOf(n)>=0}return i.field.indexOf(n)>=0}return!1},o.prototype._isCompoundValueField=function(t){return!!/-/.test(t)},o.prototype._getValueFields=function(t){var e=[];return null!=t._highFieldDefinition&&e.push("high"),null!=t._lowFieldDefinition&&e.push("low"),null!=t._openFieldDefinition&&e.push("open"),null!=t._closeFieldDefinition&&e.push("close"),e},o.prototype._generateLabel=function(n){var i=this._definition._option.label;if(null==i)return null;var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new e.models._StockTrendlineLabelTextProxy(this,n._valueField(),this._getCartesianPlotView()._stringFormatting()),a=this._ownerView._getDefinition()._plotConfigOption.plugins,u=o.evaluate(r,l,a,this._ownerView._getDefinition()._pluginCollection),s=this._toLines(u);return null!=s?s.join(""):i},o}(t._CartesianTrendlineOverlayView),e._StockTrendlineOverlayView=i}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return n(i,t),i.prototype._extractData=function(t){return e._StockPointDataExtractor.extract(this._cartesianTrendlineOverlayView()._getCartesianPlotView(),t,t._valueField())},i}(t._CartesianDiscretePointTrendlineOverlayItemView),e._StockDiscretePointTrendlineOverlayItemView=i}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return n(i,t),i.prototype._extractData=function(t){return e._StockPointDataExtractor.extract(this._cartesianTrendlineOverlayView()._getCartesianPlotView(),t,t._valueField())},i}(t._CartesianFunctionalTrendlineOverlayItemView),e._StockFunctionalTrendlineOverlayItemView=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createCategoryData=function(e,n,i){return new t._StockCartesianCategoryPlotDataModel(i,e,n)},i.prototype._createSingleValueData=function(t,e){return null},i.prototype._createXyData=function(e,n){return new t._StockCartesianXyPlotDataModel(n,e)},i}(t._CartesianPlotDataBuilder);t._StockPlotDataBuilder=e}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(e,n,i){this._pointView=e,this.__contentDefinitions=n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._pointView._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getDefinition()._pluginCollection)}return n.prototype._point=function(){if(null==this._pointView._data())throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);return this._pointView._data()},n.prototype._contentDefinitions=function(){return this.__contentDefinitions},n.prototype._getDefaultFormat=function(t){return null},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,e,n){return null==t?null:"date"==t?this._getDateProperty(e):"high"==t?this._getHighProperty(e):"low"==t?this._getLowProperty(e):"open"==t?this._getOpenProperty(e):"close"==t?this._getCloseProperty(e):"xField"==t?this._getXFieldProperty(e):"categoryField"==t?this._getCategoryFieldProperty(e,n):"valueField"==t?this._getValueFieldProperty(e):this._getTokenProperty(t,e)},n.prototype._getDateProperty=function(e){if("name"==e)return new t.models._DataValueInfo("date",this.__stringFormatting);if("value"==e){var n=this._point().xDimensionValue.rawValue;return null!=n?new t.models._DataValueInfo(n,this.__stringFormatting):null}return null},n.prototype._getHighProperty=function(e){if("name"==e)return new t.models._DataValueInfo("high",this.__stringFormatting);if("value"==e){var n=this._point()._high();return null!=n?new t.models._DataValueInfo(n,this.__stringFormatting):null}return null},n.prototype._getLowProperty=function(e){if("name"==e)return new t.models._DataValueInfo("low",this.__stringFormatting);if("value"==e){var n=this._point()._low();return null!=n?new t.models._DataValueInfo(n,this.__stringFormatting):null}return null},n.prototype._getValueFieldProperty=function(n){var i=this._point()._getSeries()._group()._yValueDefinition();if("name"==n){if(null!=i){var o=i._getLabel();return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}return null}var r=null;if(e._isHlocStockValueEncodingDefinition(i)){var l=i;r=this._toHLOCStockItem(l,this._point()._dataSlices)}else if(e._isTransactionStockValueEncodingDefinition(i)){var a=i;r=this._toTransactionStockItem(a,this._point()._dataSlices)}if(null!=r){if("value"==n)return new e._HLOCValueInfo(r.high,r.low,r.open,r.close,this.__stringFormatting);var u=t._DataValueTypeExtension._toDataValueType(new t._AnyValueBinding(n)._getValue(r));if(null!=u)return new t.models._DataValueInfo(u,this.__stringFormatting)}return null},n.prototype._toTransactionStockItem=function(n,i){var o=NaN,r=NaN,l=NaN,a=NaN;if(null!=n._transactionDataFieldDefinition)for(var u=0,s=i.list();u<s.length;u++){var _=s[u],p=t._DataSlicesAggregate._defaultAggregate._aggregate(_,n._transactionDataFieldDefinition._dataField,t.Aggregate.List);isNaN(l)&&null!=p&&(l=p),null!=p&&(a=p),null!=p&&(isNaN(o)||o<p)&&(o=p),null!=p&&(isNaN(r)||r>p)&&(r=p)}return new e._HLOCValueInfo(o,r,l,a,null)},n.prototype._toHLOCStockItem=function(n,i){for(var o=NaN,r=NaN,l=NaN,a=NaN,u=0,s=i.list();u<s.length;u++){var _=s[u];if(null!=n._openFieldDefinition){var p=t._DataSlicesAggregate._defaultAggregate._aggregate(_,n._openFieldDefinition.numberDataField(),t.Aggregate.List);isNaN(l)&&null!=p&&(l=p)}null!=n._closeFieldDefinition&&null!=(p=t._DataSlicesAggregate._defaultAggregate._aggregate(_,n._closeFieldDefinition.numberDataField(),t.Aggregate.List))&&(a=p),null!=n._highFieldDefinition&&null!=(p=t._DataSlicesAggregate._defaultAggregate._aggregate(_,n._highFieldDefinition.numberDataField(),t.Aggregate.List))&&(isNaN(o)||o<p)&&(o=p),null!=n._lowFieldDefinition&&null!=(p=t._DataSlicesAggregate._defaultAggregate._aggregate(_,n._lowFieldDefinition.numberDataField(),t.Aggregate.List))&&(isNaN(r)||r>p)&&(r=p)}return new e._HLOCValueInfo(o,r,l,a,null)},n.prototype._getXFieldProperty=function(e){if("name"==e){var n=this._point()._getSeries()._group()._xValueDefinition();if(null!=n){var i=n._getLabel();return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}return null}if("value"==e){var o=this._point().xDimensionValue.rawValue;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}return null},n.prototype._getCategoryFieldProperty=function(e,n){var i=this._point()._getSeries()._group()._xValueDefinition();if(null!=i&&t._isCartesianCategoryEncodingDefinition(i)&&(null==n&&(n=0),t._isCartesianCategoryEncodingDefinition(i))){var o=i._dataFieldDefinitions;if(null!=o&&n>=0&&n<o.length){if("name"==e){var r=o[n]._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}if("value"==e){var l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,o[n]._dataField,t.Aggregate.List);return null!=l?new t.models._DataValueInfo(l,this.__stringFormatting):null}}}return null},n.prototype._getOpenProperty=function(e){if("name"==e)return new t.models._DataValueInfo("open",this.__stringFormatting);if("value"==e){var n=this._point()._open();return null!=n?new t.models._DataValueInfo(n,this.__stringFormatting):null}return null},n.prototype._getCloseProperty=function(e){if("name"==e)return new t.models._DataValueInfo("close",this.__stringFormatting);if("value"==e){var n=this._point()._close();return null!=n?new t.models._DataValueInfo(n,this.__stringFormatting):null}return null},n.prototype._getTokenProperty=function(e,n){for(var i=0,o=this._contentDefinitions();i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e){if("name"==n){var a=l._dataFieldDefinition._label;return null!=a?new t.models._DataValueInfo(a,this.__stringFormatting):null}if("value"==n){var u=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l._dataFieldDefinition._dataField,l._aggregate);return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}if("aggregate"==n){var s=t._CastExtension.toAggregateString(l._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}}}}return null},n.prototype.getIdentifierValue=function(e){return"current"==e?this._pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this._pointView?new t._AnyValueBinding(e.substring(8))._getValue(this._pointView):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}();e._StockTextProxy=n}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype._getDefaultFormat=function(e){return null!=this._pointView.text.format&&null!=this._pointView.text.format.value?this._pointView.text.format.value:t.prototype._getDefaultFormat.call(this,e)},e.prototype._getDefaultFormatType=function(){return null!=this._pointView.text.format&&null!=this._pointView.text.format.type?this._pointView.text.format.type:null},e}(t._StockTextProxy);t._StockDataLabelTextProxy=e}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e;!function(e){var i=function(e){function i(t,n,i,o,r){var l=e.call(this)||this;return l.__high=t,l.__low=n,l.__open=i,l.__close=o,l.__stringFormatting=r,l}return n(i,e),Object.defineProperty(i.prototype,"value",{get:function(){return new i(this.__high,this.__low,this.__open,this.__close,null)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"high",{get:function(){return this.__high},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"low",{get:function(){return this.__low},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this.__open},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"close",{get:function(){return this.__close},enumerable:!1,configurable:!0}),i.prototype._toString=function(e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),null!=this.__stringFormatting)return null==e&&(e=this.__stringFormatting.defaultFormat(t.core.DataType.Date,!1)),this.__stringFormatting.format(e,this.__high,n)+", "+this.__stringFormatting.format(e,this.__low,n)+", "+this.__stringFormatting.format(e,this.__open,n)+", "+this.__stringFormatting.format(e,this.__close,n);var i="";return i+=null!=this.__high?this.__high.toString():"",i+=", ",i+=null!=this.__low?this.__low.toString():"",i+=", ",i+=null!=this.__open?this.__open.toString():"",(i+=", ")+(null!=this.__close?this.__close.toString():"")},i}(t.models._ValueInfo);e._HLOCValueInfo=i}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){t._isHLOCValue=function(t){var e=t;return null!=e&&void 0!==e.value&&void 0!==e.high&&void 0!==e.low&&void 0!==e.open&&void 0!==e.close}}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){!function(t){t._isStockPlotModel=function(t){return!1}}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){!function(t){t._isStockPointModel=function(t){var e=t;return null!=e&&void 0!==e.high&&void 0!==e.low&&void 0!==e.open&&void 0!==e.close}}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){!function(t){t._isStockValuePointModel=function(t){var e=t;return null!=e&&void 0!==e.high&&void 0!==e.low&&void 0!==e.open&&void 0!==e.close}}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e;!function(e){var i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__high=null,o.__low=null,o.__open=null,o.__close=null,o.__x=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"high",{get:function(){return this.__high},set:function(t){this.__high!=t&&(this.__high=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"low",{get:function(){return this.__low},set:function(t){null!=this.__low&&this.__low==t||(this.__low=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this.__open},set:function(t){this.__open!=t&&(this.__open=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"close",{get:function(){return this.__close},set:function(t){this.__close!=t&&(this.__close=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.__x},set:function(t){this.__x!=t&&(this.__x=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"high",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"low",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"open",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"close",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"x",null),i}(t.options._Option);e._StockFieldOption=i}((e=t.financial||(t.financial={})).options||(e.options={}))}(t||(t={})),function(t){var e;!function(e){var i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__field=null,o.__aggregate=null,o.__excludeNulls=!1,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return"IStockFieldValueEncodingOption"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"field",{get:function(){return this.__field},set:function(t){this.__field!=t&&(this.__field=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"aggregate",{get:function(){return this.__aggregate},set:function(t){this.__aggregate!=t&&(this.__aggregate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"excludeNulls",{get:function(){return this.__excludeNulls},set:function(t){this.__excludeNulls!=t&&(this.__excludeNulls=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StockFieldOption")],i.prototype,"field",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Aggregate)],i.prototype,"aggregate",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],i.prototype,"excludeNulls",null),i}(t.options._ValueEncodingOption);e._StockFieldValueEncodingOption=i}((e=t.financial||(t.financial={})).options||(e.options={}))}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function n(){}return n._fromEncodingOption=function(t){for(var e=t.values,i=e.length-1;i>=0;i--){var o=e[i];if(null==o.type&&null!=o.option()){var r=n._toValueEncodingOption(o.option());null!=r?e[i]=r:e.splice(i,1)}}return e},n._toValueEncodingOption=function(n){if(t._JsonElementUtility._isNull(n))return null;var i,o=n;return t._JsonElementUtility._isObject(o)&&t._JsonElementUtility._hasProperty(o,"field")&&t._JsonElementUtility._isString(t._JsonElementUtility._getProperty(o,"field"))?null!=(i=new t.options._FieldsValueEncodingOption(o)).field?i:null:t._JsonElementUtility._isObject(o)&&t._JsonElementUtility._hasProperty(o,"field")&&t._JsonElementUtility._isObject(t._JsonElementUtility._getProperty(o,"field"))&&null!=(i=new e._StockFieldValueEncodingOption(o)).field?i:null},n}();e._StockValueEncodingOptionExtension=n}((e=t.financial||(t.financial={})).options||(e.options={}))}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=new t.financial._StockLegendSymbolView;return n._setPlotDefinition(e),n},i}(t._LegendSymbolViewBuilder);t._StockLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isCumulativeMovingAverageTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"CumulativeMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._CumulativeMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CumulativeMovingAverageStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="HLOCValueBuilder",this.type=t._BuildInDimensionValueBuilderCollection._pluginType,this.priority=0}return e.prototype.queryInterface=function(t){return"IDimensionValueBuilder"==t||"IPlugin"==t?this:null},e.prototype._buildDimensionBuilder=function(e){return t.financial.models._isHlocStockValueEncodingDefinition(e)?this:null},e.prototype._buildDimensionValues=function(e,n,i){if(t.financial.models._isHlocStockValueEncodingDefinition(i)){var o=i,r=[],l=o._highFieldDefinition,a=o._lowFieldDefinition,u=o._openFieldDefinition,s=o._closeFieldDefinition,_=[];if(null!=l&&_.push(l._dataField._name),null!=a&&_.push(a._dataField._name),null!=u&&_.push(u._dataField._name),null!=s&&_.push(s._dataField._name),(e=new t._DataSlicesKeysFilter(o._getExcludeNullsFilter(),_)._filter(e))._length<=0)return r;var p=null!=l?t._DataSlicesAggregate._defaultAggregate._aggregate(e,l._dataField,t.Aggregate.List):null,c=new t._DimensionValue(p);r.push(c);var h=null!=a?t._DataSlicesAggregate._defaultAggregate._aggregate(e,a._dataField,t.Aggregate.List):null,f=new t._DimensionValue(h);r.push(f);var d=null!=u?t._DataSlicesAggregate._defaultAggregate._aggregate(e,u._dataField,t.Aggregate.List):null,y=new t._DimensionValue(d);r.push(y);var g=null!=s?t._DataSlicesAggregate._defaultAggregate._aggregate(e,s._dataField,t.Aggregate.List):null,m=new t._DimensionValue(g);if(r.push(m),!t._isValueModifiableDimension(n))throw new t.AssertError(t.ErrorCode.MethodNotImplemented);var v=n;return v._addValue(c),v._addValue(f),v._addValue(y),v._addValue(m),r}return null},e._defaultPlugin=new e,e}();t._HlocValueDefinitionDimensionValuePlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="TransactionStockValueBuilder",this.type=t._BuildInDimensionValueBuilderCollection._pluginType,this.priority=0}return e.prototype.queryInterface=function(t){return"IDimensionValueBuilder"==t||"IPlugin"==t?this:null},e.prototype._buildDimensionBuilder=function(e){return t.financial.models._isTransactionStockValueEncodingDefinition(e)?this:null},e.prototype._buildDimensionValues=function(e,n,i){if(t.financial.models._isTransactionStockValueEncodingDefinition(i)){var o=i,r=[],l=NaN,a=NaN,u=NaN,s=NaN;if(null!=o._transactionDataFieldDefinition)for(var _=0,p=e.list();_<p.length;_++){var c=p[_],h=t._DataSlicesAggregate._defaultAggregate._aggregate(c,o._transactionDataFieldDefinition._dataField,t.Aggregate.List);isNaN(u)&&null!=h&&(u=h),null!=h&&(s=h),null!=h&&(isNaN(l)||l<h)&&(l=h),null!=h&&(isNaN(a)||a>h)&&(a=h)}var f=new t._DimensionValue(l);r.push(f);var d=new t._DimensionValue(a);r.push(d);var y=new t._DimensionValue(u);r.push(y);var g=new t._DimensionValue(s);if(r.push(g),!t._isValueModifiableDimension(n))throw new t.AssertError(t.ErrorCode.MethodNotImplemented);var m=n;return m._addValue(f),m._addValue(d),m._addValue(y),m._addValue(g),r}return null},e._defaultPlugin=new e,e}();t._TransactionStockValueDefinitionDimensionValuePlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isExponentialMovingAverageTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ExponentialMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._ExponentialMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ExponentialMovingAverageStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isExponentialTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ExponentialTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._ExponentialTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ExponentialStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isFourierTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"FourierTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._FourierTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._FourierStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isLinearTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"LinearTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._LinearTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LinearStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isLogarithmicTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"LogarithmicTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._LogarithmicTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LogarithmicStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isMovingAnnualTotalTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"MovingAnnualTotalTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._MovingAnnualTotalTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MovingAnnualTotalStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e;!function(e){var i=function(e){function i(n,i,o,r,l,a){return void 0===l&&(l=null),void 0===a&&(a=null),e.call(this,n,i,o,r,new t._StockPlotDataBuilder,null==l?new t._StockEncodingsDefinitionBuilder:l,null==a?new t._StockLegendSymbolViewBuilder(!0,!1):a)||this}return n(i,e),i.prototype._getCoordinateSystemType=function(){return"CartesianXy"},i}(t._BaseCartesianPlotDefinition);e._BaseStockPlotDefinition=i}((e=t.financial||(t.financial={})).models||(e.models={}))}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._prepareDataLabelOverlay=function(){var n=this._dataPointDataLabelOption();n.overlappingLabels===t.OverlappingLabels.Auto&&(n.overlappingLabels=t.OverlappingLabels.Show),e.prototype._prepareDataLabelOverlay.call(this)},Object.defineProperty(i.prototype,"radial",{get:function(){return!1},enumerable:!1,configurable:!0}),i.prototype._barWidth=function(){var t=this._definition._dvConfigOption.bar.width;return null==t||isNaN(t)?.7:(t>1&&(t=1),t<0&&(t=0),t)},i.prototype._xPadding=function(){if(t._isCartesianCategoryPlotDataModel(this._dataModel))return.5;for(var n=0,i=this._definition._valueDefinitions();n<i.length;n++){var o=i[n];if(t._isXyStyleValueEncodingDefinition(o)){var r=o._getXFieldEncodingDefinition();if(null!=r){var l=r._getXDataFieldDefinition();if(null!=l){var a=l._dataField;if(t._isDateDataField(a)){var u=this._minDistanceInDimensionValues();return null==u?.5:.5*u}}}return.5}}return e.prototype._xPadding.call(this)},i.prototype._addNullDataPointModels=function(){},i.prototype._getModifiedOutlineRectangle=function(e){for(var n=this._rectangle(),i=0,o=this._pointViews;i<o.length;i++){var r=o[i];if(t._isStockPointView(r)){var l=r;if(!l._isVisible())continue;var a=l._getOutlineRectangle();l.valueIsOutOfAxesRange&&a.intersectsWith(n)&&(e=t._RectangleUtility._unionOfRectangles(e,a))}}return e},i}(t._BaseCartesianPlotView),e._BaseStockPlotView=i}(t||(t={})),function(t){t._isStockPlotView=function(e){return null!=e&&e instanceof t.financial._BaseStockPlotView}}(t||(t={})),function(t){t._isStockPointView=function(t){return null!=t&&"function"==typeof t._isAlternate}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isCartesianPointView(e)&&t._isStockPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._buildDefaultStyle=function(){return t._StyleUtility._buildStyle(null,null,null,"green",1)},i.prototype._applyDataPointStyle=function(e,n){t._OptionUtility._applyStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style),this._applyDataPointStyleOption(e,this._stockDataPointStyle(n)),n._isAlternate()&&null==n._getPlotView()._getDefinition()._plotConfigOption.altStyle&&t._StyleUtility._applyFill(e,t._CssColor._none()),this._applyDataPointStyleOption(e,n._data()._getSeries()._seriesStyle()),this._applyDataPointStyleOption(e,n._getCartesianSeriesView()._internalStyle()),this._applyDataPointStyleOption(e,n._internalStyle())},i.prototype._stockDataPointStyle=function(t){return t._isAlternate()&&null!=t._getPlotView()._getDefinition()._plotConfigOption.altStyle?t._getPlotView()._getDefinition()._plotConfigOption.altStyle:t._getPlotView()._getDefinition()._plotConfigOption.style},i}(t._CartesianPointStyleBuilder);t._StockPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){return e.call(this,n,i,null==o?new t._StockPointStyleBuilder:o)||this}return n(i,e),Object.defineProperty(i.prototype,"high",{get:function(){return this._data()._high()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"low",{get:function(){return this._data()._low()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this._data()._open()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"close",{get:function(){return this._data()._close()},enumerable:!1,configurable:!0}),i.prototype._yValues=function(){var t=this._data();return[t._high(),t._low(),t._open(),t._close()]},Object.defineProperty(i.prototype,"isMax",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMin",{get:function(){return!1},enumerable:!1,configurable:!0}),i.prototype._isAlternate=function(){var t=this._data(),e=t._open(),n=t._close();return null!=e&&null!=n&&e<n},i.prototype._getStockDataPointStyle=function(){return this._isAlternate()&&null!=this._getDefinition()._plotConfigOption.altStyle?this._getDefinition()._plotConfigOption.altStyle:this._getDefinition()._plotConfigOption.style},i.prototype._createStyleModel=function(){var e=new t.models._DataPointStyleOptionModel(this._getStockDataPointStyle());this._isAlternate()&&null==this._getDefinition()._plotConfigOption.altStyle&&(e.fill=null);var n=this._data()._getSeries();return e._merge(n._seriesStyle()),e},i.prototype._createDataLabelContent=function(){var e=this._data()._getSeries().plot()._cartesianPlotDefinition()._encodingsDefinition._textEncodingDefinitions,n=null;if(null!=e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e)),null==n||""==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.financial.models._StockDataLabelTextProxy(this,e,this._getCartesianPlotView()._stringFormatting()),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,u=i.evaluate(o,r,l,a),s=this._toLines(u);return null!=s&&s.length>0?new t.models._DataLabelContent(s,this):null},i.prototype._createTooltipHtmlContent=function(e){var n=this._data()._getSeries().plot()._cartesianPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions,i=null;null!=n&&n.length>0&&null==(i=this._customTooltipTemplate(e))&&(i=this._defaultTooltipTemplate(n));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t.financial.models._StockTextProxy(this,n,this._getCartesianPlotView()._stringFormatting()),a=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,s=o.evaluate(r,l,a,u);return this._toHtml(s)},i.prototype._defaultTooltipTemplate=function(e){var n=[],i=[];n.push("{date.name}: {date.value}");for(var o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},i.prototype._backgroundShape=function(){return null==this.___backgroundShape&&(this.___backgroundShape=this._buildCartesianBackgroundShape()),this.___backgroundShape},i.prototype._update=function(t){this._updateRectangle(t)},i.prototype.queryInterface=function(t){return"IStockValuePointModel"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._CartesianPointView);t._StockPointView=e}(t||(t={})),function(t){!function(t){!function(t){var e=function(e){function i(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null==r?new t._CandlestickPlotViewBuilder:r)||this}return n(i,e),i}(t._BaseStockPlotDefinition);t._CandlestickPlotDefinition=e}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="Candlestick",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Candlestick"===n.type?(n.encodings.values=t.financial.options._StockValueEncodingOptionExtension._fromEncodingOption(n.encodings),new t.financial.models._CandlestickPlotDefinition(e,e._findDataSchema(n.data),n)):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CandlestickPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._candlestickPointView=function(){return this._ownerView},i.prototype._defaultStrokeColor=function(){var t=this._candlestickPointView()._legendColor;return null==t&&(t=this._candlestickPointView()._getCartesianSeriesView().color),t},i.prototype._layoutByPositionAndPlacement=function(e,n,i,o,r,l,a){var u=this._candlestickPointView(),s=u._rectangle(),_=u._getTopLineStart(),p=u._getBottomLineStart(),c=u._getTopLineEnd(),h=u._getBottomLineEnd(),f=new t.core.Point((c.x+h.x)/2,(c.y+h.y)/2),d=f.clone(),y=f.clone(),g=f.clone();if(i==t.TextPosition.Center)g.x+l.width/2>a.right?g.x=a.right-l.width/2:g.x-l.width/2<a.left&&(g.x=a.left+l.width/2);else{var m=i==t.TextPosition.Inside;switch(r<0&&(r=-r),o){case t.Placement.Auto:case t.Placement.Top:case t.Placement.Bottom:var v=o==t.Placement.Auto||o==t.Placement.Top;v?(y.y=_.y,d.y=_.y):(y.y=p.y,d.y=p.y),v===m?(d.y+=r,d.y+l.height>a.bottom&&(d.y=a.bottom-l.height),g.y=d.y+l.height/2):(d.y-=r,d.y-l.height<a.top&&(d.y=a.top+l.height),g.y=d.y-l.height/2);break;case t.Placement.Left:case t.Placement.Right:var w=o===t.Placement.Left;w?(y.x=f.x-s.width/2,d.x=y.x):(y.x=f.x+s.width/2,d.x=y.x),m===w?(d.x+=r,d.x+l.width>a.right&&(d.x=a.right-l.width),g.x=d.x+l.width/2):(d.x-=r,d.x-l.width<a.left&&(d.x=a.left+l.width),g.x=d.x-l.width/2)}}this._startPoint=y,this._endPoint=d,this._textView()._layout(e,n,new t.core.Rect(g.x-l.width/2,g.y-l.height/2,l.width,l.height))},i.prototype._calcTextAutoPositionBy=function(e,n,i,o,r,l){if(e===t.TextPosition.Center)return t.TextPosition.Center;if(e!==t.TextPosition.Auto)return e===t.TextPosition.Inside?r<0?t.TextPosition.Outside:t.TextPosition.Inside:r<0?t.TextPosition.Inside:t.TextPosition.Outside;var a=r<0;r<0&&(r=-r);var u=this._candlestickPointView()._getTopLineStart(),s=i.center;switch(n){case t.Placement.Auto:case t.Placement.Top:return a?u.y+r+l.height>o.bottom?t.TextPosition.Outside:t.TextPosition.Inside:u.y-r-l.height<o.top?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Bottom:return a?u.y-r-l.height<o.top?t.TextPosition.Outside:t.TextPosition.Inside:u.y+r+l.height>o.bottom?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Left:return a?s.x+r+l.width>o.right?t.TextPosition.Outside:t.TextPosition.Inside:s.x-r-l.width<o.left?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Right:return a?s.x-r-l.width<o.left?t.TextPosition.Outside:t.TextPosition.Inside:s.x+r+l.width>o.right?t.TextPosition.Inside:t.TextPosition.Outside;default:return t.TextPosition.Auto}},i.prototype._isPointVisible=function(){var t=this._candlestickPointView(),e=t._getTopLineStart(),n=t._getBottomLineStart();return null!=e&&null!=n},i.prototype._layoutContent=function(e,n,i){if(this._isPointVisible()){var o=this._candlestickPointView()._getPlotView();n=this._candlestickPointView()._rectangle();var r=o._getLayoutView()._dataLabelsRectangle(),l=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,a=this.__option.offset,u=this._position(),s=this.__option.placement,_=this._calcTextAutoPositionBy(u,s,n,o._rectangle(),a,l);this._layoutByPositionAndPlacement(e,i,_,s,a,l,r)}else this._visible=!1},i}(t._PointDataLabelView),e._CandlestickDataLabelView=i}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createCartesianSeriesView=function(e){return new t._CandlestickSeriesView(this,e)},i}(t._BaseCartesianGroupView);t._CandlestickGroupView=e}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._createCartesianGroupView=function(e){return new t._CandlestickGroupView(this,e)},i.prototype._createCartesianPointView=function(e,n){return new t._CandlestickPointView(e,n,null)},i}(e._BaseStockPlotView),e._CandlestickPlotView=i}(t||(t={})),function(t){!function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e._CandlestickPlotDefinition?new t._CandlestickPlotView(n,i,o):null},n}(),e._CandlestickPlotViewBuilder=n}(t.financial||(t.financial={}))}(t||(t={})),function(t){t._isCandlestickPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function o(n,i,o){var r=e.call(this,n,i,o)||this;return r.__hittestRects=[],r.__drawablePipeline=new t.DisplayablePipeLine(r),r}return n(o,e),o.prototype._selectionAdorner=function(){return new i(this)},o.prototype._getTopLineStart=function(){return this.__topLineStart},o.prototype._setTopLineStart=function(t){this.__topLineStart=null==t?null:t.clone()},o.prototype._getTopLineEnd=function(){return this.__topLineEndLocation},o.prototype._setTopLineEnd=function(t){this.__topLineEndLocation=null==t?null:t.clone()},o.prototype._getBottomLineStart=function(){return this.__bottomLineStartLocation},o.prototype._setBottomLineStart=function(t){this.__bottomLineStartLocation=null==t?null:t.clone()},o.prototype._getBottomLineEnd=function(){return this.__bottomLineEndLocation},o.prototype._setBottomLineEnd=function(t){this.__bottomLineEndLocation=null==t?null:t.clone()},o.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._data(),l=r._high(),a=r._low(),u=r._open(),s=r._close(),_=this._getPlotView(),p=_._xAxisView(),c=_._yAxisView(),h=null!=_._minDistanceInDimensionValues()?_._minDistanceInDimensionValues():1,f=_._getXValue(r);if(null!=f){var d=f-.5*h*_._barWidth(),y=d+h*_._barWidth(),g=p._scaleModel._value(d),m=p._scaleModel._value(y);if(null!=g&&null!=m&&!isNaN(g)&&!isNaN(m)){var v=((d=g)+(y=m))/2,w=c._scaleModel._value(l),b=c._scaleModel._value(a),P=c._scaleModel._value(u),S=c._scaleModel._value(s),C=null!=w?w:NaN,V=null!=b?b:NaN,x=null!=P?P:NaN,D=null!=S?S:NaN,O=d<y?d:y,A=[x,D],L=(A=A.filter((function(t){return!isNaN(t)}))).length>0?Math.min.apply(Math,A):NaN,T=A.length>0?Math.max.apply(Math,A):NaN;isNaN(L)&&isNaN(T)&&(isNaN(C)||isNaN(V)?isNaN(C)?isNaN(V)||(L=T=V):L=T=C:L=T=(C+V)/2),isNaN(v)||isNaN(L)||(isNaN(C)?this._setTopLineStart(new t.core.Point(v,L)):this._setTopLineStart(new t.core.Point(v,C)),this._setTopLineEnd(new t.core.Point(v,L))),isNaN(v)||isNaN(T)||(isNaN(V)?this._setBottomLineStart(new t.core.Point(v,T)):this._setBottomLineStart(new t.core.Point(v,V)),this._setBottomLineEnd(new t.core.Point(v,T))),isNaN(v)||isNaN(x)||isNaN(D)||isNaN(y)||isNaN(d)?isNaN(v)||isNaN(x)||isNaN(y)||isNaN(d)?isNaN(v)||isNaN(D)||isNaN(y)||isNaN(d)||this._updateRectangle(new t.core.Rect(O,D,Math.abs(y-d),0)):this._updateRectangle(new t.core.Rect(O,x,Math.abs(y-d),0)):this._updateRectangle(new t.core.Rect(O,L,Math.abs(y-d),Math.abs(D-x))),this._refresh(),_._visualViews.push(this)}}},o.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i),this._applyDataPointExternalStyle(e),this.__drawablePipeline._flush(e,n),e.restoreTransform()},o.prototype._draw=function(t,e){null!=this.__topLineStart&&null!=this.__topLineEndLocation&&(this.__topLineStart.equalsWith(this.__topLineEndLocation)?this.__topLineStart.y!=this._rectangle().top&&t.drawLine(this.__topLineStart.x,this.__topLineStart.y,this.__topLineEndLocation.x,this.__topLineEndLocation.y+1):t.drawLine(this.__topLineStart.x,this.__topLineStart.y,this.__topLineEndLocation.x,this.__topLineEndLocation.y)),null!=this.__bottomLineStartLocation&&null!=this.__bottomLineEndLocation&&(this.__bottomLineStartLocation.equalsWith(this.__bottomLineEndLocation)?this.__bottomLineStartLocation.y!=this._rectangle().bottom&&t.drawLine(this.__bottomLineStartLocation.x,this.__bottomLineStartLocation.y,this.__bottomLineEndLocation.x,this.__bottomLineEndLocation.y+1):t.drawLine(this.__bottomLineStartLocation.x,this.__bottomLineStartLocation.y,this.__bottomLineEndLocation.x,this.__bottomLineEndLocation.y)),0!=this._rectangle().height?t.drawRect(this._rectangle().left,this._rectangle().top,this._rectangle().width,this._rectangle().height):t.drawLine(this._rectangle().left,this._rectangle().top,this._rectangle().left+this._rectangle().width,this._rectangle().top)},o.prototype._contains=function(t){for(var e=0,n=this.__hittestRects;e<n.length;e++)if(n[e].contains(t))return!0;return!1},o.prototype._cutOff=function(){return!1},o.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;for(var r=0;r<this.__hittestRects.length;++r){var l=this.__hittestRects[r];if(null!=l&&l.contains(n)){var a=this._data(),u=a._open(),s=a._close(),_=(null==u?0:u)>(null==s?0:s),p=null;switch(r){case 0:p="high";break;case 1:p=_?"open":"close";break;case 2:p=_?"close":"open";break;case 3:p="low"}var c=new t.HitTestResult(n,this,this,t.ElementType.DataPoint,p);return null==o||null!=o&&o.predicate(c)?c:null}}return e.prototype._hitTest.call(this,n,i,o)},o.prototype._tracker=function(){var t=[];this._refresh();for(var e=0,n=this._getDefinition()._plotConfigOption.trackers;e<n.length;e++){var i=n[e],o=this._getTrackersWithOption(i);null!=o&&o.length>0&&o.forEach((function(e){t.push(e)}))}return t},o.prototype._getTrackersWithOption=function(e){var n=this._getPlotView()._xAxisView();if(t._isLineAxisView(n)){if(e.type==t.TrackerType.CrossX)return this._crossXTrackLine(e);if(e.type==t.TrackerType.CrossY)return this._crossYTrackLine(e)}return null},o.prototype._crossXTrackLine=function(t){var e,n,i,r;return this._getPlotView()._swapAxes()?(e=this._crossTrackLine(this.__hittestRects[0],t,this.__hittestRects[0].right+o.__padding),n=this._crossTrackLine(this.__hittestRects[3],t,this.__hittestRects[3].left-o.__padding),i=this._crossTrackLine(this.__hittestRects[1],t,this.__hittestRects[1].right),r=this._crossTrackLine(this.__hittestRects[2],t,this.__hittestRects[2].left)):(e=this._crossTrackLine(this.__hittestRects[0],t,this.__hittestRects[0].top+o.__padding),n=this._crossTrackLine(this.__hittestRects[3],t,this.__hittestRects[3].bottom-o.__padding),i=this._crossTrackLine(this.__hittestRects[1],t,this.__hittestRects[1].top),r=this._crossTrackLine(this.__hittestRects[2],t,this.__hittestRects[2].bottom)),[e,n,i,r].filter((function(t){return null!=t}))},o.prototype._crossYTrackLine=function(e){var n=this.__totalHittestRect,i=this._getPlotView(),o=i._xAxisView(),r=[],l=new t.core.Point(0,0),a=new t.core.Point(0,0);if(i._swapAxes()){var u=n.top+n.height/2;l=new t.core.Point(o._plotRect().left,u),a=new t.core.Point(o._plotRect().right,u)}else{var s=n.left+n.width/2;l=new t.core.Point(s,o._plotRect().top),a=new t.core.Point(s,o._plotRect().bottom)}return r.push(new t.models._CartesianTrackLine(e,l,a,n)),r},o.prototype._crossTrackLine=function(e,n,i){var o=this._getPlotView(),r=o._xAxisView(),l=new t.core.Point(0,0),a=new t.core.Point(0,0);return o._swapAxes()?(l=new t.core.Point(i,r._plotRect().top),a=new t.core.Point(i,r._plotRect().bottom)):(l=new t.core.Point(r._plotRect().left,i),a=new t.core.Point(r._plotRect().right,i)),new t.models._CartesianTrackLine(n,l,a,e)},o.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t.financial._CandlestickDataLabelView(this,n,e):null},o.prototype._refresh=function(){var e=this._rectangle(),n=!1,i=e.top,r=e.bottom,l=i,a=e.top+e.height/2,u=e.bottom,s=[],_=[];if(null!=this.__topLineStart&&null!=this.__topLineEndLocation&&(s.push(this.__topLineStart.y,this.__topLineEndLocation.y),_.push(this.__topLineStart.y,this.__topLineEndLocation.y)),null!=this.__bottomLineStartLocation&&null!=this.__bottomLineEndLocation&&(s.push(this.__bottomLineEndLocation.y,this.__bottomLineStartLocation.y),_.push(this.__bottomLineEndLocation.y,this.__bottomLineStartLocation.y)),0==e.height&&0==e.width&&0==e.top&&0==e.left){if(n=!0,null==this.__topLineStart||null==this.__topLineEndLocation||null==this.__bottomLineStartLocation||null==this.__bottomLineEndLocation)return void(this.__hittestRects=[]);var p=new t.core.Rect(this.__topLineStart.x-o.__padding,0,2*o.__padding,0);this.__hittestRects=[p.clone(),p.clone(),p.clone(),p.clone()],l=a=u=Math.min.apply(Math,s)+Math.abs(Math.max.apply(Math,_)-Math.min.apply(Math,s))/2}else this.__hittestRects=[e.clone(),e.clone(),e.clone(),e.clone()];n||(s.push(e.top),_.push(e.bottom)),i=Math.min.apply(Math,s)-o.__padding,r=Math.max.apply(Math,_)+o.__padding,this.__hittestRects[0].top=i,this.__hittestRects[0].height=l-i,this.__hittestRects[1].top=l,this.__hittestRects[1].height=a-l,this.__hittestRects[2].top=a,this.__hittestRects[2].height=u-a,this.__hittestRects[3].top=u,this.__hittestRects[3].height=r-u;var c=r-i;this.__totalHittestRect=new t.core.Rect(e.left,i,e.width,c)},o.prototype._getOutlineRectangle=function(){var e=this._rectangle(),n=e.left,i=e.top,o=e.right,r=e.bottom,l=this.__topLineStart,a=this.__topLineEndLocation;null!=l&&null!=a&&(n=Math.min(n,l.x,a.x),i=Math.min(i,l.y,a.y),o=Math.max(o,l.x,a.x),r=Math.max(r,l.y,a.y));var u=this.__bottomLineStartLocation,s=this.__bottomLineEndLocation;return null!=u&&null!=s&&(n=Math.min(n,u.x,s.x),i=Math.min(i,u.y,s.y),o=Math.max(o,u.x,s.x),r=Math.max(r,u.y,s.y)),new t.core.Rect(n,i,o-n,r-i)},o.prototype.queryInterface=function(t){return"IStockValuePointModel"==t?this:"IDisplayablePipeLine"==t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},o.__padding=10,o}(t._StockPointView);t._CandlestickPointView=e;var i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._createPoints=function(e){var n=e.additionalKind,i=e._rectangle(),o=[];if(null!=i){var r=null==e.open?0:e.open,l=null==e.close?0:e.close;null!=n&&"open"!=n||(r>l?(o.push(new t.core.Point(i.left,i.top)),o.push(new t.core.Point(i.right,i.top))):(o.push(new t.core.Point(i.right,i.bottom)),o.push(new t.core.Point(i.left,i.bottom)))),null!=n&&"close"!=n||(r>l?(o.push(new t.core.Point(i.right,i.bottom)),o.push(new t.core.Point(i.left,i.bottom))):(o.push(new t.core.Point(i.left,i.top)),o.push(new t.core.Point(i.right,i.top))))}var a=e._getTopLineStart(),u=e._getTopLineEnd();null!=a&&null!=u&&(null!=n&&"high"!=n||o.push(a.clone()));var s=e._getBottomLineStart(),_=e._getBottomLineEnd();return null!=s&&null!=_&&(null!=n&&"low"!=n||o.push(s.clone())),o},i}(t._PointAdorner)}(t||(t={})),function(t){t._isCandlestickPointView=function(t){var e=t;return null!=e&&"function"==typeof e._getTopLineStart&&"function"==typeof e._getTopLineEnd&&"function"==typeof e._getBottomLineStart&&"function"==typeof e._getBottomLineEnd}}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseCartesianSeriesView);t._CandlestickSeriesView=e}(t||(t={})),function(t){!function(t){!function(t){var e=function(e){function i(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null==r?new t._HlocPlotViewBuilder:r)||this}return n(i,e),i}(t._BaseStockPlotDefinition);t._HlocPlotDefinition=e}(t.models||(t.models={}))}(t.financial||(t.financial={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="HighLowOpenClose",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"HighLowOpenClose"===n.type?(n.encodings.values=t.financial.options._StockValueEncodingOptionExtension._fromEncodingOption(n.encodings),new t.financial.models._HlocPlotDefinition(e,e._findDataSchema(n.data),n)):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._HlocPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._hlocPointView=function(){return this._ownerView},i.prototype._defaultStrokeColor=function(){var t=this._hlocPointView()._legendColor;return null==t&&(t=this._hlocPointView()._getCartesianSeriesView().color),t},i.prototype._layoutByPositionAndPlacement=function(e,n,i,o,r,l,a){var u=this._hlocPointView()._rectangle(),s=this._hlocPointView()._highLowStart(),_=this._hlocPointView()._highLowEnd(),p=u.center,c=u.center,h=u.center;if(i==t.TextPosition.Center)h.x+l.width/2>a.right?h.x=a.right-l.width/2:h.x-l.width/2<a.left&&(h.x=a.left+l.width/2);else{var f=i==t.TextPosition.Inside;switch(r<0&&(r=-r),o){case t.Placement.Auto:case t.Placement.Top:case t.Placement.Bottom:var d=o==t.Placement.Auto||o==t.Placement.Top;d?(c.y=s.y,p.y=s.y):(c.y=_.y,p.y=_.y),d===f?(p.y+=r,p.y+l.height>a.bottom&&(p.y=a.bottom-l.height),h.y=p.y+l.height/2):(p.y-=r,p.y-l.height<a.top&&(p.y=a.top+l.height),h.y=p.y-l.height/2);break;case t.Placement.Left:case t.Placement.Right:var y=o===t.Placement.Left;y?(c.x=u.left,p.x=c.x,null!=this._hlocPointView()._openStart()&&(c.y=this._hlocPointView()._openStart().y,p.y=c.y,h.y=c.y)):(c.x=u.right,p.x=c.x,null!=this._hlocPointView()._closeStart()&&(c.y=this._hlocPointView()._closeStart().y,p.y=c.y,h.y=c.y)),f===y?(p.x+=r,p.x+l.width>a.right&&(p.x=a.right-l.width),h.x=p.x+l.width/2):(p.x-=r,p.x-l.width<a.left&&(p.x=a.left+l.width),h.x=p.x-l.width/2)}}this._startPoint=c,this._endPoint=p,this._textView()._layout(e,n,new t.core.Rect(h.x-l.width/2,h.y-l.height/2,l.width,l.height))},i.prototype._calcPositionBy=function(e,n,i,o,r,l){if(e===t.TextPosition.Center)return t.TextPosition.Center;if(e!==t.TextPosition.Auto)return e===t.TextPosition.Inside?r<0?t.TextPosition.Outside:t.TextPosition.Inside:r<0?t.TextPosition.Inside:t.TextPosition.Outside;var a=r<0;r<0&&(r=-r);var u=this._hlocPointView()._highLowStart(),s=i.center;switch(n){case t.Placement.Auto:case t.Placement.Top:return a?u.y+r+l.height>o.bottom?t.TextPosition.Outside:t.TextPosition.Inside:u.y-r-l.height<o.top?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Bottom:return a?u.y-r-l.height<o.top?t.TextPosition.Outside:t.TextPosition.Inside:u.y+r+l.height>o.bottom?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Left:return a?s.x+r+l.width>o.right?t.TextPosition.Outside:t.TextPosition.Inside:s.x-r-l.width<o.left?t.TextPosition.Inside:t.TextPosition.Outside;case t.Placement.Right:return a?s.x-r-l.width<o.left?t.TextPosition.Outside:t.TextPosition.Inside:s.x+r+l.width>o.right?t.TextPosition.Inside:t.TextPosition.Outside;default:return t.TextPosition.Auto}},i.prototype._isPointVisible=function(){var t=this._hlocPointView(),e=t._highLowStart(),n=t._highLowEnd();return null!=e&&null!=n},i.prototype._layoutContent=function(e,n,i){if(this._isPointVisible()){var o=this._hlocPointView()._getPlotView();n=this._hlocPointView()._rectangle();var r=o._getLayoutView()._dataLabelsRectangle(),l=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,a=this.__option.offset,u=this._position(),s=this.__option.placement,_=this._calcPositionBy(u,s,n,o._rectangle(),a,l);this._layoutByPositionAndPlacement(e,i,_,s,a,l,r)}else this._visible=!1},i}(t._PointDataLabelView),e._HlocDataLabelView=i}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createCartesianSeriesView=function(e){return new t._HlocSeriesView(this,e)},i}(t._BaseCartesianGroupView);t._HlocGroupView=e}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._createCartesianGroupView=function(e){return new t._HlocGroupView(this,e)},i.prototype._createCartesianPointView=function(e,n){return new t._HlocPointView(e,n,null)},i}(e._BaseStockPlotView),e._HlocPlotView=i}(t||(t={})),function(t){!function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e._HlocPlotDefinition?new t._HlocPlotView(n,i,o):null},n}(),e._HlocPlotViewBuilder=n}(t.financial||(t.financial={}))}(t||(t={})),function(t){t._isHlocPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._createPoints=function(t){var e=[];return null!=t._highLowStart()&&e.push(t._highLowStart().clone()),null!=t._openStart()&&e.push(t._openStart().clone()),null!=t._closeEnd()&&e.push(t._closeEnd().clone()),null!=t._highLowEnd()&&e.push(t._highLowEnd().clone()),e},e}(t._PointAdorner),i=function(i){function o(e,n,o){var r=i.call(this,e,n,o)||this;return r.__drawablePipeline=new t.DisplayablePipeLine(r),r}return n(o,i),o.prototype._highLowStart=function(){return this.__highLowStart},o.prototype._setHighLowStart=function(t){this.__highLowStart=null==t?null:t.clone()},o.prototype._highLowEnd=function(){return this.__highLowEnd},o.prototype._setHighLowEnd=function(t){this.__highLowEnd=null==t?null:t.clone()},o.prototype._openStart=function(){return this.__openStart},o.prototype._setOpenStart=function(t){this.__openStart=null==t?null:t.clone()},o.prototype._openEnd=function(){return this.__openEnd},o.prototype._setOpenEnd=function(t){this.__openEnd=null==t?null:t.clone()},o.prototype._closeStart=function(){return this.__closeStart},o.prototype._setCloseStart=function(t){this.__closeStart=null==t?null:t.clone()},o.prototype._closeEnd=function(){return this.__closeEnd},o.prototype._setCloseEnd=function(t){this.__closeEnd=null==t?null:t.clone()},o.prototype._hlocPlotView=function(){return this._getPlotView()},o.prototype._selectionAdorner=function(){return new e(this)},o.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i),this._applyDataPointExternalStyle(e),this.__drawablePipeline._flush(e,n),e.restoreTransform()},o.prototype._draw=function(t,e){var n=this._highLowStart();null!=n&&null!=this.__highLowEnd&&t.drawLine(n.x,n.y,this.__highLowEnd.x,this.__highLowEnd.y),null!=this.__openStart&&null!=this.__openEnd&&(this.__openStart.equalsWith(this.__openEnd)||t.drawLine(this.__openStart.x,this.__openStart.y,this.__openEnd.x,this.__openEnd.y)),null!=this.__closeStart&&null!=this.__closeEnd&&(this.__closeStart.equalsWith(this.__closeEnd)||t.drawLine(this.__closeStart.x,this.__closeStart.y,this.__closeEnd.x,this.__closeEnd.y))},o.prototype._contains=function(t){for(var e=0,n=this.__hittestRects;e<n.length;e++)if(n[e].contains(t))return!0;return!1},o.prototype._cutOff=function(){return!1},o.prototype._hitTest=function(e,n,o){if(this._zLevel!=n)return null;for(var r=0;r<this.__hittestRects.length;++r){var l=this.__hittestRects[r];if(null!=l&&l.contains(e)){var a=null;switch(r){case 0:a="high";break;case 1:a="open";break;case 2:a="close";break;case 3:a="low";break;case 4:a=null}var u=new t.HitTestResult(e,this,this,t.ElementType.DataPoint,a);return null==o||null!=o&&o.predicate(u)?u:null}}return i.prototype._hitTest.call(this,e,n,o)},o.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t.financial._HlocDataLabelView(this,n,e):null},o.prototype._layoutContent=function(e,n,o){i.prototype._layoutContent.call(this,e,n,o);var r=this._data(),l=r._high(),a=r._low(),u=r._open(),s=r._close(),_=this._hlocPlotView(),p=null!=_._minDistanceInDimensionValues()?_._minDistanceInDimensionValues():1,c=_._xAxisView(),h=_._yAxisView(),f=_._getXValue(r);if(null!=f){var d=f-.5*p*_._barWidth(),y=d+p*_._barWidth(),g=c._scaleModel._value(d),m=c._scaleModel._value(y);if(null!=g&&null!=m&&!isNaN(g)&&!isNaN(m)){var v=((d=g)+(y=m))/2,w=h._scaleModel._value(l),b=h._scaleModel._value(a),P=h._scaleModel._value(u),S=h._scaleModel._value(s),C=null!=P?P:NaN,V=null!=S?S:NaN,x=[null!=w?w:NaN,null!=b?b:NaN,C,V],D=(x=x.filter((function(t){return!isNaN(t)}))).length>0?Math.min.apply(Math,x):NaN,O=x.length>0?Math.max.apply(Math,x):NaN;isNaN(v)||isNaN(D)||(this.__highLowStart=new t.core.Point(v,D)),isNaN(v)||isNaN(O)||(this.__highLowEnd=new t.core.Point(v,O)),isNaN(v)||isNaN(C)||isNaN(C)||(this.__openStart=new t.core.Point(v-Math.abs(y-d)/2,C),this.__openEnd=new t.core.Point(v,C)),isNaN(v)||isNaN(V)||isNaN(y)||isNaN(d)||(this.__closeStart=new t.core.Point(v,V),this.__closeEnd=new t.core.Point(v+Math.abs(y-d)/2,V)),this._refresh(),_._visualViews.push(this)}}},o.prototype._tracker=function(){for(var t=[],e=0,n=this._getDefinition()._plotConfigOption.trackers;e<n.length;e++){var i=n[e],o=this._getTrackersWithOption(i);null!=o&&o.length>0&&o.forEach((function(e){t.push(e)}))}return t},o.prototype._getTrackersWithOption=function(e){var n=this._getPlotView()._xAxisView();if(t._isLineAxisView(n)){if(e.type==t.TrackerType.CrossX)return this._crossXTrackLine(e);if(e.type==t.TrackerType.CrossY)return[this._crossYTrackLine(e)]}return null},o.prototype._crossXTrackLine=function(e){var n=this._getPlotView(),i=n._xAxisView(),r=[],l=null,a=null,u=null,s=null,_=this._highLowStart();if(null!=this.__openStart){var p=o.__padding,c=this.__openStart.y;null!=this.__closeEnd&&(this.__closeEnd.y>this.__openStart.y||(c=this.__closeEnd.y+Math.abs(this.__closeEnd.y-this.__openStart.y)/2),p=Math.abs(this.__closeEnd.y-this.__openStart.y)/2),u=new t.core.Rect(this.__openStart.x,c,this._rectangle().width,p);var h=new t.core.Point(0,0),f=new t.core.Point(0,0);if(n._swapAxes()){var d=u.right;h=new t.core.Point(d,i._plotRect().top),f=new t.core.Point(d,i._plotRect().bottom)}else{var y=this.__openStart.y;h=new t.core.Point(i._plotRect().left,y),f=new t.core.Point(i._plotRect().right,y)}r.push(new t.models._CartesianTrackLine(e,h,f,u))}if(null!=this.__closeEnd){p=o.__padding;var g=this.__closeEnd.y;null!=this.__openStart&&(this.__closeEnd.y>this.__openStart.y?(g=u.bottom,p=Math.abs(this.__closeEnd.y-this.__openStart.y)/2):p=Math.abs(this.__closeEnd.y-this.__openStart.y)/2),s=new t.core.Rect(this.__closeEnd.x-this._rectangle().width,g,this._rectangle().width,p),h=new t.core.Point(0,0),f=new t.core.Point(0,0),n._swapAxes()?(d=s.right,h=new t.core.Point(d,i._plotRect().top),f=new t.core.Point(d,i._plotRect().bottom)):(y=this.__closeEnd.y,h=new t.core.Point(i._plotRect().left,y),f=new t.core.Point(i._plotRect().right,y)),r.push(new t.models._CartesianTrackLine(e,h,f,s))}if(null!=_){var m=this._rectangle().top+this._rectangle().height/2;null==u&&null==s||(m=null!=u&&null!=s?Math.min(u.top,s.top):null==u?s.top:u.top),p=Math.abs(_.y-o.__padding-m),l=new t.core.Rect(this._rectangle().left,_.y-o.__padding,this._rectangle().width,p),h=new t.core.Point(0,0),f=new t.core.Point(0,0),n._swapAxes()?(d=l.right,h=new t.core.Point(d,i._plotRect().top),f=new t.core.Point(d,i._plotRect().bottom)):(y=_.y,h=new t.core.Point(i._plotRect().left,y),f=new t.core.Point(i._plotRect().right,y)),r.push(new t.models._CartesianTrackLine(e,h,f,l))}if(null!=this.__highLowEnd){var v=this._rectangle().top+this._rectangle().height/2,w=null==u?0:u.bottom,b=null==s?0:s.bottom,P=Math.max(w,b);0==P&&(P=v),p=this._rectangle().height-Math.abs(this._rectangle().top-P),a=new t.core.Rect(this._rectangle().left,P,this._rectangle().width,p),h=new t.core.Point(0,0),f=new t.core.Point(0,0),n._swapAxes()?(d=a.right,h=new t.core.Point(d,i._plotRect().top),f=new t.core.Point(d,i._plotRect().bottom)):(y=this.__highLowEnd.y,h=new t.core.Point(i._plotRect().left,y),f=new t.core.Point(i._plotRect().right,y)),r.push(new t.models._CartesianTrackLine(e,h,f,a))}return r},o.prototype._crossYTrackLine=function(e){var n=this._getPlotView(),i=n._xAxisView(),r=this._rectangle().clone();r.top=r.top-o.__padding,r.height=r.height+o.__padding;var l=new t.core.Point(0,0),a=new t.core.Point(0,0);if(n._swapAxes()){var u=r.top+r.height/2;l=new t.core.Point(i._plotRect().left,u),a=new t.core.Point(i._plotRect().right,u)}else{var s=this._hlocShapeType(),_=r.left+r.width/2;"open"==s?_=r.left:"close"==s&&(_=r.left+r.width),l=new t.core.Point(_,i._plotRect().top),a=new t.core.Point(_,i._plotRect().bottom)}return new t.models._CartesianTrackLine(e,l,a,r)},o.prototype._hlocShapeType=function(){var t=this._data(),e=t._open(),n=t._close(),i=this._getPlotView()._verticalAxisView(),o=null==e||isNaN(e)?NaN:i._scaleModel._value(e),r=null==n||isNaN(n)?NaN:i._scaleModel._value(n);return isNaN(o)&&!isNaN(r)?"open":isNaN(r)&&!isNaN(o)?"close":"both"},o.prototype._refresh=function(){var e=[null!=this.__highLowStart?this.__highLowStart.x:null,null!=this.__highLowEnd?this.__highLowEnd.x:null,null!=this.__openEnd?this.__openEnd.x:null,null!=this.__openStart?this.__openStart.x:null,null!=this.__closeEnd?this.__closeEnd.x:null,null!=this.__closeStart?this.__closeStart.x:null],n=[null!=this.__highLowStart?this.__highLowStart.y:null,null!=this.__highLowEnd?this.__highLowEnd.y:null,null!=this.__openEnd?this.__openEnd.y:null,null!=this.__openStart?this.__openStart.y:null,null!=this.__closeEnd?this.__closeEnd.y:null,null!=this.__closeStart?this.__closeStart.y:null];if(e=e.filter((function(t){return null!=t})),n=n.filter((function(t){return null!=t})),e.length>0&&n.length>0){var i=Math.min.apply(Math,e),r=Math.min.apply(Math,n),l=Math.max.apply(Math,e),a=Math.max.apply(Math,n);this._updateRectangle(new t.core.Rect(i,r,l-i,a-r))}this.__hittestRects=[];var u=this._highLowStart();if(null!=u){var s=new t.core.Rect(u.x-o.__padding,u.y-o.__padding,2*o.__padding,2*o.__padding);t._Utility._assignValueToArray(this.__hittestRects,0,s,null)}null!=this.__openStart&&(s=new t.core.Rect(this.__openStart.x,this.__openStart.y-o.__padding,this._rectangle().width/2,2*o.__padding),t._Utility._assignValueToArray(this.__hittestRects,1,s,null)),null!=this.__closeEnd&&(s=new t.core.Rect(this.__closeEnd.x-this._rectangle().width/2,this.__closeEnd.y-o.__padding,this._rectangle().width/2,2*o.__padding),t._Utility._assignValueToArray(this.__hittestRects,2,s,null)),null!=this.__highLowEnd&&(s=new t.core.Rect(this.__highLowEnd.x-o.__padding,this.__highLowEnd.y-o.__padding,2*o.__padding,2*o.__padding),t._Utility._assignValueToArray(this.__hittestRects,3,s,null)),null!=this.__highLowStart&&null!=this.__highLowEnd&&(s=new t.core.Rect(this.__highLowStart.x-o.__padding,this.__highLowStart.y-o.__padding,2*o.__padding,this.__highLowEnd.y-this.__highLowStart.y+2*o.__padding),t._Utility._assignValueToArray(this.__hittestRects,4,s,null))},o.prototype.queryInterface=function(t){return"IStockValuePointModel"==t?this:"IDisplayablePipeLine"==t?this.__drawablePipeline:i.prototype.queryInterface.call(this,t)},o.__padding=10,o}(t._StockPointView);t._HlocPointView=i}(t||(t={})),function(t){t._isHlocPointView=function(t){var e=t;return null!=e&&"function"==typeof e._highLowStart&&"function"==typeof e._highLowEnd&&"function"==typeof e._openStart&&"function"==typeof e._openEnd&&"function"==typeof e._closeStart&&"function"==typeof e._closeEnd}}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseCartesianSeriesView);t._HlocSeriesView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isPolynomialTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"PolynomialTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._PolynomialTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PolynomialStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isPowerTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"PowerTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._PowerTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._PowerStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isSimpleMovingAverageTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"MovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._SimpleMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SimpleMovingAverageStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.financial||(t.financial={}),i=function(i){function o(t,e){return i.call(this,t,e)||this}return n(o,i),o.prototype._shouldApplyColorFromPalette=function(){var t=this._referenceLineOverlayDefinition()._option;return(null==t.style||null==t.style.stroke)&&null!=t.legendText},o.prototype._getDataSlices=function(n){return(new e._StockOverlayDataSlicer)._slice(n._getCartesianGroupView(),t.DetailLevel.Group,null==this._referenceLineOverlayDefinition()._option.value)},o.prototype._extractData=function(t){return e._StockPointDataExtractor.extract(this._getCartesianPlotView(),t,t._valueField())},o.prototype._sliceDetailKeyFilter=function(t){return!0},o.prototype._valueFieldFilter=function(t,e){var n=t._valueField(),i=this._referenceLineOverlayDefinition()._option;if(null!=n){if(null==i.field){if(this._isCompoundValueField(n))return!0;var o=e;return this._getValueFields(o).indexOf(n)>=0}return i.field.indexOf(n)>=0}return!1},o.prototype._isCompoundValueField=function(t){return!!/-/.test(t)},o.prototype._getValueFields=function(t){var e=[];return null!=t._highFieldDefinition&&e.push("high"),null!=t._lowFieldDefinition&&e.push("low"),null!=t._openFieldDefinition&&e.push("open"),null!=t._closeFieldDefinition&&e.push("close"),e},o}(t._CartesianReferenceLineOverlayView),e._StockReferenceLineOverlayView=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildOverlayView=function(e){return t._isStockPlotView(e)?new t.financial._StockReferenceLineOverlayView(e,this):null},i}(t._ReferenceLineDefinition);t._StockReferenceLineDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isReferenceLineOverlayOption(n)){var o=n;return new t._StockReferenceLineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ReferenceLine"===(o=n).type&&t.options._isJsonOption(n))return new t._StockReferenceLineDefinition(e,new t.options._ReferenceLineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockReferenceLineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(e instanceof t.financial.models._BaseStockPlotDefinition){if(t.options._isWeightedMovingAverageTrendlineOverlayOption(n)){var o=n;return new t.financial.models._StockTrendlineOverlayDefinition(e,o)}if(t.options._isOverlayOption(n)&&"WeightedMovingAverageTrendline"===(o=n).type&&t.options._isJsonOption(n))return new t.financial.models._StockTrendlineOverlayDefinition(e,new t.options._WeightedMovingAverageTrendlineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._WeightedMovingAverageStockTrendlineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._getCoordinateSystemType=function(){return"Geography"},i.prototype._createEmptyEncodingsDefinition=function(){return new t._MapEncodingsDefinition([],[],null,null,null,null,null,[],[])},i.prototype._getDataModelType=function(){return"Geography"},i}(t._BasePlotDefinition);t._BaseGeographyPlotDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l,a){void 0===a&&(a=null);var u=e.call(this,t,n,i,o,r,l,a)||this;return u.__valueDefinition=null,u.__detailDefinition=null,null!=i.encodings&&u._buildEncodings(),u}return n(i,e),i.prototype._getValueEncodingDefinition=function(){return this.__valueDefinition},i.prototype._getDetailEncodingDefinition=function(){return this.__detailDefinition},i.prototype._buildEncodings=function(){if(this._encodingsDefinition._valueEncodingDefinitions.length>0){var e=this._encodingsDefinition._valueEncodingDefinitions[0];t._isAggregateValueEncodingDefinition(e)&&(this.__valueDefinition=e)}if(this._encodingsDefinition._detailEncodingDefinitions.length>0){var n=this._encodingsDefinition._detailEncodingDefinitions[0];t._isSingleDataFieldDetailEncodingDefinition(n)&&(this.__detailDefinition=n)}},i}(t._BaseGeographyPlotDefinition);t._DataValueMapPlotDefinition=e}(t||(t={})),t||(t={}),function(t){t._isGeographyPlotDefinition=function(t){return"Geography"===t._getCoordinateSystemType()}}(t||(t={})),function(t){var e=function(e){function i(n,o,r){return e.call(this,n,i._type,o,r,t._GeographyCoordinateSystemViewBuilder._viewBuilder)||this}return n(i,e),i._type="Geography",i}(t._BaseCoordinateSystemDefinition);t._GeographyCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.___points=[],i}return n(e,t),Object.defineProperty(e.prototype,"points",{get:function(){return this.___points},enumerable:!1,configurable:!0}),e.prototype._points=function(){return this.___points},e.prototype._mapPlotDefinition=function(){return this._definition()},e}(t._PlotDataModel);t._BaseMapPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,n)||this;return i.__plot=e,i}return n(e,t),e.prototype._plot=function(){return this.__plot},e}(t._PointDataModel);t._BaseMapPointDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this,o=i._detailedMapPlotDefinition()._getDetailEncodingDefinition();return null!=o&&(i.___points=i._createPoints(i._dataSlices,o)),i}return n(i,e),i.prototype._detailedMapPlotDefinition=function(){return this._definition()},Object.defineProperty(i.prototype,"points",{get:function(){return this._points()},enumerable:!1,configurable:!0}),i.prototype._createPoints=function(e,n){var i=this,o=[];if(null!=n){var r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),l=[];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(n._dataFieldDefinition,n._sortDefinition)));var a=r.groupBy(l).query().groups;t._TreeNodeUtility._traverseDFS(a,(function(e,r){var l=i._createPoint(e._dataSlices,new t._DetailValue(n,e.key),e.key);o.push(l)}))}return o},i.prototype._createPoint=function(e,n,i){var o=null;return"string"==typeof i&&(o=new t.map.models._IdentifyGeographicLocation(i)),new t._DetailedMapPointDataModel(this,n,o,e)},i}(t._BaseMapPlotDataModel);t._DetailedMapPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e,o)||this;return r.__detailValue=n,r.__location=i,r}return n(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return this.__detailValue._key()},enumerable:!1,configurable:!0}),e.prototype._location=function(){return this.__location},e.prototype._plot=function(){return t.prototype._plot.call(this)},e.prototype._detailValue=function(){return this.__detailValue},e}(t._BaseMapPointDataModel);t._DetailedMapPointDataModel=e}(t||(t={})),function(t){t._isBaseMapPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._mapPlotDefinition&&"function"==typeof e._points}}(t||(t={})),t||(t={}),function(t){t._isBaseMapPointDataModel=function(t){return null!=t&&"function"==typeof t._plot}}(t||(t={})),t||(t={}),function(t){t._isDetailedMapPlotDataModel=function(t){return null!=t&&"function"==typeof t._createPoint}}(t||(t={})),t||(t={}),function(t){t._isDetailedMapPointDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._location&&"function"==typeof e._detailValue}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this,o=i._scatterLatLongMapPlotDefinition()._valueDefinition();return null!=o&&(i.___points=i._createPoints(t,o)),i}return n(i,e),i.prototype._scatterLatLongMapPlotDefinition=function(){return this._definition()},Object.defineProperty(i.prototype,"points",{get:function(){return this._points()},enumerable:!1,configurable:!0}),i.prototype._createPoints=function(e,n){var i=this,o=[];return e.forEach((function(e){o.push(new t._LatLongMapPointDataNodel(i,e))})),o},i}(t._BaseMapPlotDataModel);t._LatLongMapPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__longitude=null,i.__latitude=null,i._parseItems(n),i}return n(i,e),i.prototype._setLongitude=function(t){null!=t&&!isNaN(t)&&t<=180&&t>=-180&&(this.__longitude=t)},i.prototype._setLatitude=function(t){null!=t&&!isNaN(t)&&t<=90&&t>=-90&&(this.__latitude=t)},i.prototype._parseItems=function(e){e._length>0&&(this._setLatitude(t._DataSlicesAggregate._defaultAggregate._aggregate(e,this._latLongMapPlot()._scatterLatLongMapPlotDefinition()._valueDefinition()._latitudeDefinition.numberDataField(),t.Aggregate.List)),this._setLongitude(t._DataSlicesAggregate._defaultAggregate._aggregate(e,this._latLongMapPlot()._scatterLatLongMapPlotDefinition()._valueDefinition()._longitudeDefinition.numberDataField(),t.Aggregate.List)))},i.prototype._getLatitude=function(){return this.__latitude},i.prototype._getLongitude=function(){return this.__longitude},i.prototype._latLongMapPlot=function(){return e.prototype._plot.call(this)},i}(t._BaseMapPointDataModel);t._LatLongMapPointDataNodel=e}(t||(t={})),function(t){t._isMapPlotDataModel=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isMapPointDataModel=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createPoint=function(e,n,i){var o=null;return"string"==typeof i&&(o=new t.map.models._IdentifyGeographicLocation(i)),new t._MapPointDataModel(this,n,o,e)},i}(t._DetailedMapPlotDataModel);t._MapPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return n(e,t),e.prototype._plot=function(){return t.prototype._plot.call(this)},e}(t._DetailedMapPointDataModel);t._MapPointDataModel=e}(t||(t={})),function(t){t._isScatterDetailedMapPlotDataModel=function(t){return null!=t&&"function"==typeof t._getDataValueMapPlotDefinition}}(t||(t={})),t||(t={}),function(t){t._isScatterDetailedMapPointDataModel=function(t){return null!=t&&"function"==typeof t._scatterDetailedMapPlot}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._getDataValueMapPlotDefinition=function(){return this._definition()},i.prototype._createPoint=function(e,n,i){var o=null;return"string"==typeof i&&(o=new t.map.models._IdentifyGeographicLocation(i)),new t._ScatterDetailedMapPointDataModel(this,n,o,e)},i}(t._DetailedMapPlotDataModel);t._ScatterDetailedMapPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return n(e,t),e.prototype._scatterDetailedMapPlot=function(){return t.prototype._plot.call(this)},e}(t._DetailedMapPointDataModel);t._ScatterDetailedMapPointDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t.map._GeographyCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._GeographyCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=new t.map.models._MapLegendSymbolView;return n._setPlotDefinition(e),n},i}(t._LegendSymbolViewBuilder);t._MapLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e,i;e=t.map||(t.map={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isGeographyPointView(e)&&t._isMapPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._calculateColor=function(t){return t.color},i}(t._PointColorBuilder),e._MapPointColorBuilder=i}(t||(t={})),function(t){var e,i;e=t.map||(t.map={}),i=function(i){function o(t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),i.call(this,t,null==n?new e._MapPointColorBuilder:n)||this}return n(o,i),o.prototype._toPointView=function(e){if(t._isGeographyPointView(e)&&t._isMapPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},o.prototype._buildDefaultStyle=function(){return t._StyleUtility._buildStyle(null,null,null,null,1)},o}(t._PointStyleBuilder),e._MapPointStyleBuilder=i}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u,s){var _=t.call(this,null,i,o,r,l,a,u,s)||this;return _._detailEncodingDefinitions=e,_._valueEncodingDefinitions=n,_}return n(e,t),e}(t._EncodingsDefinition);t._MapEncodingsDefinition=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return n(e,t),e}(t._EncodingsDefinitionContext);t._MapEncodingsDefinitionContext=e}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function e(t){this.__featureCollection=null,this.__option=t}return Object.defineProperty(e.prototype,"option",{get:function(){return this.__option},enumerable:!1,configurable:!0}),e.prototype._features=function(){return null==this.__featureCollection&&this._analyseGeoData(),null!=this.__featureCollection?this.__featureCollection._features:[]},e.prototype._analyseGeoData=function(){var e=this.__option.geojson;if(null!=e){var n=new t._GeoJSONDeserializer(this.__option.propertyName);this.__featureCollection=n.deserialize(e)}},e}();t._GeographicSource=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e,n,i;e=t.map||(t.map={}),n=e.models||(e.models={}),i=function(){function i(t){this.__propertyName=null!=t?t:"name"}return i.prototype.deserialize=function(n){if(null!=n)switch(t._AnyTypeExtension._toEnumValueOrNull(n.type,e.GeoType)){case e.GeoType.GeometryCollection:return this.deserializeGeometryCollection(n);case e.GeoType.Feature:return this.deserializeFeature(n);case e.GeoType.FeatureCollection:return this.deserializeFeatureCollection(n);default:return this.deserializeGeometry(n)}return null},i.prototype.deserializeFeatureCollection=function(t){var i=new n._GeoFeatureCollection,o=t.features;if(null!=o&&o instanceof Array)for(var r=0,l=o;r<l.length;r++){var a=l[r];null==a.type&&(a.type=e.GeoType[e.GeoType.Feature]);var u=this.deserialize(a);null!=u&&i._features.push(u)}return i},i.prototype.deserializeFeature=function(t){var e=t.properties,i=this.deserialize(t.geometry);return new n._GeoFeature(e,i,this.__propertyName)},i.prototype.deserializeGeometryCollection=function(t){var e=new n._GeometryCollection,i=t.geometries;if(null!=i&&i instanceof Array)for(var o=0,r=i;o<r.length;o++){var l=r[o],a=this.deserialize(l);null!=a&&e.geometrys.push(a)}return e},i.prototype.deserializeGeometry=function(i){var o=i.coordinates;switch(t._AnyTypeExtension._toEnumValueOrNull(i.type,e.GeoType)){case e.GeoType.Point:return n._GeometryFactory._createGeoPoint(o);case e.GeoType.MultiPoint:return n._GeometryFactory._createGeoMultiPoint(o);case e.GeoType.LineString:return n._GeometryFactory._createGeoLineString(o);case e.GeoType.MultiLineString:return n._GeometryFactory._createGeoMultiLineString(o);case e.GeoType.Polygon:return n._GeometryFactory._createGeoPolygon(o);case e.GeoType.MultiPolygon:return n._GeometryFactory._createGeoMultiPolygon(o)}return null},i}(),n._GeoJSONDeserializer=i}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){this.bounds=t};t._GeometryBBox=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(e,n,i){this.__name=null,this.__geometry=n,this.__properties=e,this.__propertyName=i,this._type=t.GeoType.Feature}return Object.defineProperty(e.prototype,"properties",{get:function(){return this.__properties},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geometry",{get:function(){return this.__geometry},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return null==this.__name&&null!=this.__properties&&null!=this.__propertyName&&(this.__name=this.__properties[this.__propertyName],null==this.__name&&(this.__name=this.__properties[this.__propertyName.toLocaleUpperCase()])),this.__name},enumerable:!1,configurable:!0}),e}(),e._GeoFeature=n}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){var e,n;e=t.models||(t.models={}),n=function(){this._type=t.GeoType.FeatureCollection,this._features=[]},e._GeoFeatureCollection=n}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function e(){}return Object.defineProperty(e.prototype,"bbox",{get:function(){return new t._GeometryBBox(this._computeEnvelope())},enumerable:!1,configurable:!0}),e}();t._Geometry=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){this.coordinates=t};t._GeoLinearRing=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(n){var i=e.call(this)||this;return i._type=t.GeoType.LineString,i.coordinates=n,i}return n(i,e),Object.defineProperty(i.prototype,"shapes",{get:function(){return[]},enumerable:!1,configurable:!0}),i.prototype._computeEnvelope=function(){return null},i.prototype.reset=function(){},i.prototype.foward=function(t){},i.prototype.clipping=function(t){},i.prototype.transform=function(t,e,n){},i}(e._Geometry),e._GeoLineString=i}(t.map||(t.map={}))}(t||(t={})),function(t){var e,i,o;e=t.map||(t.map={}),i=e.models||(e.models={}),o=function(i){function o(){var t=i.call(this)||this;return t.__geometrys=[],t._type=e.GeoType.GeometryCollection,t}return n(o,i),Object.defineProperty(o.prototype,"geometrys",{get:function(){return this.__geometrys},enumerable:!1,configurable:!0}),o.prototype._computeEnvelope=function(){for(var e=null,n=0,i=this.geometrys;n<i.length;n++){var o=i[n].bbox.bounds;null==e?e=o:null!=o&&(e=t._RectangleUtility._unionOfRectangles(e,o))}return e},Object.defineProperty(o.prototype,"shapes",{get:function(){for(var t=[],e=0,n=this.geometrys;e<n.length;e++){var i=n[e];t.push.apply(t,i.shapes)}return t},enumerable:!1,configurable:!0}),o.prototype.reset=function(){for(var t=0,e=this.geometrys;t<e.length;t++)e[t].reset()},o.prototype.foward=function(t){for(var e=0,n=this.geometrys;e<n.length;e++)n[e].foward(t)},o.prototype.clipping=function(t){for(var e=0,n=this.geometrys;e<n.length;e++)n[e].clipping(t)},o.prototype.transform=function(t,e,n){for(var i=0,o=this.geometrys;i<o.length;i++)o[i].transform(t,e,n)},o}(i._Geometry),i._GeometryCollection=o}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function e(){}return e._createGeoPoint=function(e){return null!=e&&e instanceof Array?new t._GeoPoint(e):null},e._createGeoMultiPoint=function(e){var n=[];if(null!=e&&e instanceof Array)for(var i=0,o=e;i<o.length;i++){var r=o[i],l=this._createGeoPoint(r);null!=l&&n.push(l)}return new t._GeoMultiPoint(n)},e._createGeoLineString=function(e){return null!=e&&e instanceof Array?new t._GeoLineString(e):null},e._createGeoMultiLineString=function(e){var n=[];if(null!=e&&e instanceof Array)for(var i=0,o=e;i<o.length;i++){var r=o[i],l=this._createGeoLineString(r);null!=l&&n.push(l)}return new t._GeoMultiLineString(n)},e._createGeoPolygon=function(e){return null!=e&&e instanceof Array?new t._GeoPolygon(e):null},e._createGeoMultiPolygon=function(e){var n=[];if(null!=e&&e instanceof Array)for(var i=0,o=e;i<o.length;i++){var r=o[i],l=this._createGeoPolygon(r);null!=l&&n.push(l)}return new t._GeoMultiPolygon(n)},e}();t._GeometryFactory=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e,i,o;e=t.map||(t.map={}),i=e.models||(e.models={}),o=function(i){function o(t){var n=i.call(this)||this;return n._type=e.GeoType.MultiLineString,n.coordinates=t,n}return n(o,i),Object.defineProperty(o.prototype,"shapes",{get:function(){for(var t=[],e=0,n=this.coordinates;e<n.length;e++){var i=n[e];t.push.apply(t,i.shapes)}return t},enumerable:!1,configurable:!0}),o.prototype._computeEnvelope=function(){for(var e=null,n=0,i=this.coordinates;n<i.length;n++){var o=i[n].bbox.bounds;null==e?e=o:null!=o&&(e=t._RectangleUtility._unionOfRectangles(e,o))}return e},o.prototype.reset=function(){for(var t=0,e=this.coordinates;t<e.length;t++)e[t].reset()},o.prototype.foward=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].foward(t)},o.prototype.clipping=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].clipping(t)},o.prototype.transform=function(t,e,n){for(var i=0,o=this.coordinates;i<o.length;i++)o[i].transform(t,e,n)},o}(i._Geometry),i._GeoMultiLineString=o}(t||(t={})),function(t){var e,i,o;e=t.map||(t.map={}),i=e.models||(e.models={}),o=function(i){function o(t){var n=i.call(this)||this;return n._type=e.GeoType.MultiPoint,n.coordinates=t,n}return n(o,i),Object.defineProperty(o.prototype,"shapes",{get:function(){for(var t=[],e=0,n=this.coordinates;e<n.length;e++){var i=n[e];t.push.apply(t,i.shapes)}return t},enumerable:!1,configurable:!0}),o.prototype._computeEnvelope=function(){for(var e=null,n=0,i=this.coordinates;n<i.length;n++){var o=i[n].bbox.bounds;null==e?e=o:null!=o&&(e=t._RectangleUtility._unionOfRectangles(e,o))}return e},o.prototype.reset=function(){for(var t=0,e=this.coordinates;t<e.length;t++)e[t].reset()},o.prototype.foward=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].foward(t)},o.prototype.clipping=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].clipping(t)},o.prototype.transform=function(t,e,n){for(var i=0,o=this.coordinates;i<o.length;i++)o[i].transform(t,e,n)},o}(i._Geometry),i._GeoMultiPoint=o}(t||(t={})),function(t){var e,i,o;e=t.map||(t.map={}),i=e.models||(e.models={}),o=function(i){function o(t){var n=i.call(this)||this;return n._type=e.GeoType.MultiPolygon,n.coordinates=t,n}return n(o,i),Object.defineProperty(o.prototype,"shapes",{get:function(){for(var t=[],e=0,n=this.coordinates;e<n.length;e++){var i=n[e];t.push.apply(t,i.shapes)}return t},enumerable:!1,configurable:!0}),o.prototype._computeEnvelope=function(){for(var e=null,n=0,i=this.coordinates;n<i.length;n++){var o=i[n].bbox.bounds;null==e?e=o:null!=o&&(e=t._RectangleUtility._unionOfRectangles(e,o))}return e},o.prototype.reset=function(){for(var t=0,e=this.coordinates;t<e.length;t++)e[t].reset()},o.prototype.foward=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].foward(t)},o.prototype.clipping=function(t){for(var e=0,n=this.coordinates;e<n.length;e++)n[e].clipping(t)},o.prototype.transform=function(t,e,n){for(var i=0,o=this.coordinates;i<o.length;i++)o[i].transform(t,e,n)},o}(i._Geometry),i._GeoMultiPolygon=o}(t||(t={})),function(t){!function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(n){var i=e.call(this)||this;return i._type=t.GeoType.Point,i.coordinates=n,i}return n(i,e),Object.defineProperty(i.prototype,"shapes",{get:function(){return[]},enumerable:!1,configurable:!0}),i.prototype._computeEnvelope=function(){return null},i.prototype.reset=function(){},i.prototype.foward=function(t){},i.prototype.clipping=function(t){},i.prototype.transform=function(t,e,n){},i}(e._Geometry),e._GeoPoint=i}(t.map||(t.map={}))}(t||(t={})),function(t){var e,i,o;e=t.map||(t.map={}),i=e.models||(e.models={}),o=function(o){function r(t){var n=o.call(this)||this;return n._type=e.GeoType.Polygon,n.__coordinatesProjection=null,n.__coordinates=t,n}return n(r,o),Object.defineProperty(r.prototype,"coordinates",{get:function(){return null!=this.__coordinatesProjection?this.__coordinatesProjection:this.__coordinates},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shapes",{get:function(){var e=this.coordinates,n=[];if(e.length>1){for(var o=t._PathCommandBuilder._defaultPathCommandBuilder,r=[],l=[],a=function(e){var n=[];e.forEach((function(e,i){0==i?r.push(o._buildMoveToPathCommand(e[0],e[1])):i==e.length-1?r.push(o._buildClosePathCommand()):r.push(o._buildLineToPathCommand(e[0],e[1])),n.push(new t.core.Point(e[0],e[1]))})),l.push(new t._PolygonShape(n))},u=0,s=e;u<s.length;u++)a(f=s[u]);var _=t._PathBuilder._defaultPathBuilder._buildPath(r);n.push(new i._GeoPathShape(_,l))}else if(1==e.length){for(var p=[],c=0,h=e[0];c<h.length;c++){var f=h[c];p.push(new t.core.Point(f[0],f[1]))}n.push(new i._GeoPolygonShape(new t._PolygonShape(p)))}return n},enumerable:!1,configurable:!0}),r.prototype.reset=function(){this.__coordinatesProjection=null},r.prototype.foward=function(t){null==this.__coordinatesProjection&&(this.__coordinatesProjection=[]);for(var e=0,n=this.__coordinates;e<n.length;e++){for(var i=[],o=0,r=n[e];o<r.length;o++){var l=r[o];l instanceof Array&&2===l.length&&i.push(t(l[0],l[1]))}this.__coordinatesProjection.push(i)}},r.prototype.clipping=function(t){null!=this.__coordinatesProjection&&(this.__coordinatesProjection=t._clipPolygons(this.__coordinatesProjection))},r.prototype.transform=function(t,e,n){if(null!=this.__coordinatesProjection)for(var i=0,o=this.__coordinatesProjection;i<o.length;i++)for(var r=0,l=o[i];r<l.length;r++){var a=l[r];a[0]=a[0]*t+e,a[1]=a[1]*t+n}},r.prototype._computeEnvelope=function(){for(var e=!0,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,l=0,a=this.coordinates;l<a.length;l++)for(var u=0,s=a[l];u<s.length;u++){var _=s[u];_ instanceof Array&&2===_.length&&(e=!1,o=Math.min(_[0],o),n=Math.max(_[0],n),r=Math.min(_[1],r),i=Math.max(_[1],i))}return e?null:new t.core.Rect(o,r,n-o,i-r)},r}(i._Geometry),i._GeoPolygon=o}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){this.line=t,this.type="Line"};t._GeoLineShape=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t,e){this.path=t,this.polygons=e,this.type="Path"};t._GeoPathShape=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){this.point=t,this.type="Point"};t._GeoPointShape=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){this.polygon=t,this.type="Polygon"};t._GeoPolygonShape=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(){}return e.prototype._apply=function(t,e){for(var n=0,i=e._findRelatedPlotViews(t);n<i.length;n++){var o=i[n];this._useForPlot(e,o)}},e.prototype._useForPlot=function(e,n){t._isDataPointItemizedLegendDataModel(e)?this._useItemizedPointLegend(n,e):t._isLinearLegendDataModel(e)?this._useLinearColorPointLegend(n,e):e instanceof t._LightnessLegendDataModel&&this._useLightnessLegend(n,e)},e.prototype._useLinearColorPointLegend=function(e,n){t._LegendUtility._isType(n,t.LegendType.Color)&&e._traversePointView((function(t,e){t._updateLegendColor(n._getColorByPoint(t))}),null)},e.prototype._useItemizedPointLegend=function(e,n){for(var i=t._LegendUtility._isType(n,t.LegendType.Color),o=t._LegendUtility._isType(n,t.LegendType.Shape),r=t._LegendUtility._isType(n,t.LegendType.Size),l=0,a=n._items();l<a.length;l++){var u=a[l];if(u instanceof t._ItemizedPointLegendItemDataModel){var s=n._dataPointKeysMap._get(u._dataPointKey());if(null!=s)for(var _=0,p=s;_<p.length;_++){var c=p[_];i&&c._updateLegendColor(u._color()),o&&c._updateLegendShape(u._shape),r&&c._updateLegendSize(u._size)}}}},e.prototype._useLightnessLegend=function(e,n){t._LegendUtility._isType(n,t.LegendType.Lightness)&&e._traversePointView((function(t,e){var i=n._getLightnessByPoint(t);null!=i&&t._updateLegendLightness(i)}),null)},e}();e._MapLegendAdopter=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(){function e(){}return e._mapLegendSymbolStyleBuilder=function(){return null==e.__mapLegendSymbolStyleBuilder&&(e.__mapLegendSymbolStyleBuilder=new e),e.__mapLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle();o.stroke=new t._CssColor("#000000"),o.strokeWidth=.5;var r=e._colorBuilder._buildLegendSymbolColor(e);null!=r&&(o.fill=r);var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),u=e._getUnselectedStyle(),s=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,s),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(u,p),i?t._OptionUtility._applyDataPointSymbolStyleOption(o,l):t._OptionUtility._applyDataPointStyleOption(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?i?t._OptionUtility._applyDataPointSymbolStyleOption(o,a):t._OptionUtility._applyDataPointStyleOption(o,a):e._legendItemView().relatedModels().length>0&&(i?t._OptionUtility._applyDataPointSymbolStyleOption(o,u):t._OptionUtility._applyDataPointStyleOption(o,u)));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(o,c._filteredOutSymbolStyle),o},e}();t._MapLegendSymbolStyleBuilder=e}(t||(t={})),function(t){var e;!function(e){var i=function(e){function i(){return e.call(this,t._DefaultLegendSymbolColorBuilder._defaultLegendSymbolColorBuilder(),t._MapLegendSymbolStyleBuilder._mapLegendSymbolStyleBuilder())||this}return n(i,e),i.prototype.render=function(e,n,i){var o=this._styleBuilder._buildLegendSymbolStyle(this,i,!1),r=this._legendItemView()._data,l=r instanceof t.models._ItemizedValuePointLegendItem?r.value:null,a=this._getStyleSymbolShape(),u=this._shape,s=this._getDefaultShape(this._getPlotDefinition()),_=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(this._getPlotDefinition()._getSymbolDefinitionProviderList(),l,a,u,s);if(null!=_){var p=this._getSymbolRectangle(n);_.createSymbol(p,o).render(e,i)}},i}(t._LegendSymbolView);e._MapLegendSymbolView=i}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._LatLongMapPlotDataModel(n,e)},e}();t._LatLongMapPlotDataBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._MapPlotDataModel(n,e)},e}();t._MapPlotDataBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._ScatterDetailedMapPlotDataModel(n,e)},e}();t._ScatterMapPlotDataBuilder=e}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function t(t){this.__longitude=NaN,this.__latitude=NaN,this.__identify=t}return Object.defineProperty(t.prototype,"identify",{get:function(){return this.__identify},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){if(isNaN(this.__longitude)){var t=this._calculateLocation(this.identify);this.__longitude=t.longitude,this.__latitude=t.latitude}return this.__longitude},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"latitude",{get:function(){if(isNaN(this.__latitude)){var t=this._calculateLocation(this.identify);this.__longitude=t.longitude,this.__latitude=t.latitude}return this.__latitude},enumerable:!1,configurable:!0}),t.prototype._calculateLocation=function(t){return{longitude:null,latitude:null}},t}();t._IdentifyGeographicLocation=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){if(void 0===o&&(o=null),this.__pointView=e,null==n)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);this.__point=n,this.__contentDefinitions=i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__pointView._getMapPlotView()._getDefinition()._pluginCollection)}return e.prototype._point=function(){return this.__point},e.prototype._contentDefinitions=function(){return this.__contentDefinitions},e.prototype._getDefaultFormat=function(t){return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(t,e,n){if(void 0===n&&(n=null),null==t)return null;switch(t){case"detailFields":return this._getDetailFieldsProperty(e);case"colorField":return this._getColorFieldProperty(e);default:return this._getTokenProperty(t,e)}},e.prototype._getDetailFieldsProperty=function(e){var n=this._point()._detailValue();if(null!=n&&null!=n._definition()){if("name"==e){var i=n._definition()._dataFieldDefinition._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=n._key();return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}}return null},e.prototype._getColorFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._getEncodingsDefinition()._getColorEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}else if(n instanceof t._NumbericLegendEncodingDefinition){if("name"==e){var o=n._fieldDefinition()._label;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}else if(n instanceof t._BinItemizedRangeLegendEncodingDefinition){if("name"==e){var r=n._fieldDefinition()._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}var l,a,u;if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}return null},e.prototype._getTokenProperty=function(e,n){for(var i=0,o=this._contentDefinitions();i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e){if("name"==n){var a=l._dataFieldDefinition._label;return null!=a?new t.models._DataValueInfo(a,this.__stringFormatting):null}if("value"==n){var u=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l._dataFieldDefinition._dataField,l._aggregate);return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}if("aggregate"==n){var s=t._CastExtension.toAggregateString(l._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}}}}return null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__pointView?new t._AnyValueBinding(e.substring(8))._getValue(this.__pointView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();t._MapTextProxy=e}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(e,n,i,o){if(void 0===o&&(o=null),this.__pointView=e,null==n)throw new t.OptionError(t.ErrorCode.UnexpectedNullValue);this.__point=n,this.__contentDefinitions=i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__pointView._getGeographyPlotView()._getDefinition()._pluginCollection)}return e.prototype._point=function(){return this.__point},e.prototype._contentDefinitions=function(){return this.__contentDefinitions},e.prototype._getDefaultFormat=function(t){return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(t,e,n){if(void 0===n&&(n=null),null==t)return null;switch(t){case"valueField":return this._getValueFieldProperty(e);case"detailFields":return this._getDetailFieldsProperty(e);case"colorField":return this._getColorFieldProperty(e);case"shapeField":return this._getShapeFieldProperty(e);case"sizeField":return this._getSizeFieldProperty(e);default:return this._getTokenProperty(t,e)}},e.prototype._getValueFieldProperty=function(e){var n=this._point()._scatterDetailedMapPlot()._getDataValueMapPlotDefinition()._getValueEncodingDefinition();if(null!=n){if("name"==e){var i=n._getLabel();return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._getDataFieldDefinition()._dataField,n._getAggregate());return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("aggregate"==e){var r=n._getAggregate();if(null!=r){var l=t._CastExtension.toAggregateString(r);if(null!=l)return new t.models._DataValueInfo(l,this.__stringFormatting)}return null}}return null},e.prototype._getDetailFieldsProperty=function(e){var n=this._point()._detailValue();if(null!=n&&null!=n._definition()){if("name"==e){var i=n._definition()._dataFieldDefinition._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=n._key();return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}}return null},e.prototype._getColorFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._getEncodingsDefinition()._getColorEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}else if(n instanceof t._NumbericLegendEncodingDefinition){if("name"==e){var o=n._fieldDefinition()._label;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}else if(n instanceof t._BinItemizedRangeLegendEncodingDefinition){if("name"==e){var r=n._fieldDefinition()._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}var l,a,u;if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}return null},e.prototype._getShapeFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._getEncodingsDefinition()._getShapeEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("aggregate"==e){var r=t._CastExtension.toAggregateString(n._aggregate());return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}}return null},e.prototype._getSizeFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._getEncodingsDefinition()._getSizeEncodingDefinition();if(n instanceof t._ItemizedRangeLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("aggregate"==e){var r=t._CastExtension.toAggregateString(n._aggregate());return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}}return null},e.prototype._getTokenProperty=function(e,n){for(var i=0,o=this._contentDefinitions();i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e){if("name"==n){var a=l._dataFieldDefinition._label;return null!=a?new t.models._DataValueInfo(a,this.__stringFormatting):null}if("value"==n){var u=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l._dataFieldDefinition._dataField,l._aggregate);return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}if("aggregate"==n){var s=t._CastExtension.toAggregateString(l._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}}}}return null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__pointView?new t._AnyValueBinding(e.substring(8))._getValue(this.__pointView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();e._ScatterDetailedMapTextProxy=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(e,n,i,o){if(void 0===o&&(o=null),this.__pointView=e,null==n)throw new t.AssertError(t.ErrorCode.UnexpectedValue);this.__point=n,this.__contentDefinitions=i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__pointView._getGeographyPlotView()._getDefinition()._pluginCollection)}return e.prototype._point=function(){return this.__point},e.prototype._contentDefinitions=function(){return this.__contentDefinitions},e.prototype._getDefaultFormat=function(t){return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(t,e,n){if(void 0===n&&(n=null),null==t)return null;switch(t){case"longitude":case"long":return this._getLongitudeProperty(e);case"latitude":case"lat":return this._getLatitudeProperty(e);case"colorField":return this._getColorFieldProperty(e);case"shapeField":return this._getShapeFieldProperty(e);case"sizeField":return this._getSizeFieldProperty(e);default:return this._getTokenProperty(t,e)}},e.prototype._getLongitudeProperty=function(e){var n=this._point()._latLongMapPlot()._scatterLatLongMapPlotDefinition()._valueDefinition();if(t._isLatLongMapValueEncodingDefinition(n)){var i=n;if("name"==e){var o=i._longitudeDefinition._label;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("value"==e){var r=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,i._longitudeDefinition._dataField,t.Aggregate.List);return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}}return null},e.prototype._getLatitudeProperty=function(e){var n=this._point()._latLongMapPlot()._scatterLatLongMapPlotDefinition()._valueDefinition();if(t._isLatLongMapValueEncodingDefinition(n)){var i=n;if("name"==e){var o=i._latitudeDefinition._label;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("value"==e){var r=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,i._latitudeDefinition._dataField,t.Aggregate.List);return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}}return null},e.prototype._getColorFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._getEncodingsDefinition()._getColorEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}else if(n instanceof t._NumbericLegendEncodingDefinition){if("name"==e){var o=n._fieldDefinition()._label;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}else if(n instanceof t._BinItemizedRangeLegendEncodingDefinition){if("name"==e){var r=n._fieldDefinition()._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}var l,a,u;if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}return null},e.prototype._getShapeFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._getEncodingsDefinition()._getShapeEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("aggregate"==e){var r=t._CastExtension.toAggregateString(n._aggregate());return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}}return null},e.prototype._getSizeFieldProperty=function(e){var n=this._point()._plot()._mapPlotDefinition()._getEncodingsDefinition()._getSizeEncodingDefinition();if(n instanceof t._ItemizedRangeLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate());return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("aggregate"==e){var r=t._CastExtension.toAggregateString(n._aggregate());return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}}return null},e.prototype._getTokenProperty=function(e,n){for(var i=0,o=this._contentDefinitions();i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e){if("name"==n){var a=l._dataFieldDefinition._label;return null!=a?new t.models._DataValueInfo(a,this.__stringFormatting):null}if("value"==n){var u=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l._dataFieldDefinition._dataField,l._aggregate);return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}if("aggregate"==n){var s=t._CastExtension.toAggregateString(l._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}}}}return null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__pointView?new t._AnyValueBinding(e.substring(8))._getValue(this.__pointView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();e._LatLongMapTextProxy=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){function n(t,e){var n={_foward:function(n,i){var o=t._foward(n,i);return e._foward(o[0],o[1])},_invert:null};return t._invert&&e._invert&&(n._invert=function(n,i){var o=e._invert(n,i);return o&&t._invert(o[0],o[1])}),n}var i=function(){function e(e){this.__translate=new t.core.Point(0,0),this.__k=150,this.__δλ=0,this.__δφ=0,this.__δγ=0,this.__λ=0,this.__φ=0,this.__project=e,this._reset()}return e.prototype._δx=function(){return this.__δx},e.prototype._δy=function(){return this.__δy},e.prototype.getMapProjection=function(){return this.__project},e.prototype.rotateProject=function(){return this.__rotateProject},e.prototype.project=function(t,e){return this.__rotateProject._foward(t,e)},e.prototype._project=function(t,n){var i=this.project(t*e.__radian,n*e.__radian);return[i[0]*this.__k+this.__δx,this.__δy-i[1]*this.__k]},e.prototype._clipper=function(){return this.__project.getCilpper(this)},e.prototype._adviser=function(){return this.__project.getAdviser(this)},e.prototype._getScale=function(){return this.__k},e.prototype._setScale=function(t){isNaN(t),this.__k=t,this._reset()},e.prototype._getTranslate=function(){return this.__translate.clone()},e.prototype._setTranslate=function(t){this.__translate=t.clone(),this._reset()},e.prototype._getCenter=function(){return[this.__λ*e.__degree,this.__φ*e.__degree]},e.prototype._setCenter=function(t){this.__λ=t[0]%360*e.__radian,this.__φ=t[1]%360*e.__radian,this._reset()},e.prototype._getRotate=function(){return[this.__δλ*e.__degree,this.__δφ*e.__degree,this.__δγ*e.__degree]},e.prototype._setRotate=function(t){this.__δλ=t[0]%360*e.__radian,this.__δφ=t.length>1?t[1]%360*e.__radian:0,this.__δγ=t.length>2?t[2]%360*e.__radian:0,this._reset()},e.prototype.invert=function(t,n){var i=this.__rotateProject._invert((t-this.__δx)/this.__k,(this.__δy-n)/this.__k);return i&&[i[0]*e.__degree,i[1]*e.__degree]},e.prototype._reset=function(){this.__rotateProject=n(this._geoRotation(this.__δλ,this.__δφ,this.__δγ),this.__project);var t=this.__project._foward(this.__λ,this.__φ);this.__δx=this.__translate.x-t[0]*this.__k,this.__δy=this.__translate.y+t[1]*this.__k},e.prototype._geoForwardRotationλ=function(t){var n=2*e.__pi;return function(i,o){return[(i+=t)>e.__pi?i-n:i<-e.__pi?i+n:i,o]}},e.prototype._geoRotationλ=function(t){return{_foward:this._geoForwardRotationλ(t),_invert:this._geoForwardRotationλ(-t)}},e.prototype._geoRotationφγ=function(t,n){var i=Math.cos(t),o=Math.sin(t),r=Math.cos(n),l=Math.sin(n);function a(t){return t>1?e.__pi/2:t<-1?-e.__pi/2:Math.asin(t)}return{_foward:function(t,e){var n=Math.cos(e),u=Math.cos(t)*n,s=Math.sin(t)*n,_=Math.sin(e),p=_*i+u*o;return[Math.atan2(s*r-p*l,u*i-_*o),a(p*r+s*l)]},_invert:function(t,e){var n=Math.cos(e),u=Math.cos(t)*n,s=Math.sin(t)*n,_=Math.sin(e),p=_*r-s*l;return[Math.atan2(s*r+_*l,u*i+p*o),a(p*i-u*o)]}}},e.prototype._geoRotation=function(t,i,o){return t?i||o?n(this._geoRotationλ(t),this._geoRotationφγ(i,o)):this._geoRotationλ(t):i||o?this._geoRotationφγ(i,o):{_foward:function(t,n){var i=2*e.__pi;return[t>e.__pi?t-i:t<-e.__pi?t+i:t,n]},_invert:function(t,e){return[t,e]}}},e.__degree=180/Math.PI,e.__radian=Math.PI/180,e.__pi=Math.PI,e}();e.GeoProjection=i}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function e(){}return e.prototype.getCilpper=function(e){return new t.MapClipper(e)},e.prototype.getAdviser=function(e){return new t.ProjectionAdviser(e)},e}();t.MapProjection=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(e){function i(t,n){var i=e.call(this)||this;function o(t){return t>1?Math.PI/2:t<-1?-Math.PI/2:Math.asin(t)}return i.__sinφ0=Math.sin(t),i.__n=(i.__sinφ0+Math.sin(n))/2,i.__c=1+i.__sinφ0*(2*i.__n-i.__sinφ0),i.__ρ0=Math.sqrt(i.__c)/i.__n,i._foward=function(t,e){var n=Math.sqrt(this.__c-2*this.__n*Math.sin(e))/this.__n;return[n*Math.sin(t*=this.__n),this.__ρ0-n*Math.cos(t)]},i._invert=function(t,e){var n=this.__ρ0-e;return[Math.atan2(t,n)/this.__n,o((this.__c-(t*t+n*n)*this.__n*this.__n)/(2*this.__n))]},i}return n(i,e),i.prototype.getAdviser=function(e){return new t.AlbersAdviser(e)},i.from=function(t,e){if(isNaN(t)||isNaN(e))return null;var n=Math.PI/180;return new i(t*n,e*n)},i}(t.MapProjection);t.AlbersMapProjection=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInMapProjectionBuilders=function(){return null==i.__buildInMapProjectionBuilders&&(i.__buildInMapProjectionBuilders=new i([],i._pluginType)),i.__buildInMapProjectionBuilders},i.prototype._convert=function(e){return t.map._isMapProjectionBuilder(e)?e:null},i.prototype._mapProjection=function(t,e,n){for(var i=0,o=this._objects(e,n);i<o.length;i++){var r=o[i].item._buildMapProjection(t);if(null!=r)return r}return null},i._pluginType="MapProjection",i}(t._BuildInObjectCollection);t._BuildInMapProjectionBuilderCollection=e}(t||(t={})),function(t){!function(t){t._isMapProjectionBuilder=function(t){return null!=t._buildMapProjection}}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._foward=function(t,e){return[t,Math.log(Math.tan(Math.PI/4+e/2))]},t._invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Math.PI/2]},t}return n(i,e),i.prototype.getAdviser=function(e){return new t.MercatorAdviser(e)},i.prototype.getCilpper=function(e){return new t.MercatorCliper(e)},i.from=function(){return new i},i}(t.MapProjection);t.MercatorMapProjection=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e;!function(e){var n=function(){function n(){this.__lower48=this._createLower48(),this.__alaska=this._createAlaska(),this.__hawaii=this._createHawaii(),this.__puertoRico=this._createPuertoRico(),this._setScale(950)}return n.prototype._lower48Project=function(t,e){return this.__lower48._project(t,e)},n.prototype._project=function(t,e){return e>50?this.__alaska._project(t,e):t<-140?this.__hawaii._project(t,e):e<-21?this.__puertoRico._project(t,e):this.__lower48._project(t,e)},n.prototype._getScale=function(){return this.__lower48._getScale()},n.prototype._setScale=function(t){this.__lower48._setScale(t),this.__alaska._setScale(.35*t),this.__hawaii._setScale(t),this.__puertoRico._setScale(t),this._setTranslate(this.__lower48._getTranslate().clone())},n.prototype._getTranslate=function(){return this.__lower48._getTranslate().clone()},n.prototype._setTranslate=function(e){var n=this.__lower48._getScale();this.__lower48._setTranslate(e),this.__alaska._setTranslate(new t.core.Point(e.x-.307*n,e.y+.201*n)),this.__hawaii._setTranslate(new t.core.Point(e.x-.205*n,e.y+.212*n)),this.__puertoRico._setTranslate(new t.core.Point(e.x+.35*n,e.y+.224*n))},n.prototype.invert=function(t,e){return this.__lower48.invert(t,e)},n.prototype._clipper=function(){return new e.MapClipper(this.__lower48)},n.prototype._adviser=function(){return new e.AlbersUsaAdviser(this.__lower48)},n.prototype._createLower48=function(){var t=new e.GeoProjection(e.AlbersMapProjection.from(29.5,45.5));return t._setRotate([96,0]),t._setCenter([-.6,37.8]),t},n.prototype._createAlaska=function(){var t=new e.GeoProjection(e.AlbersMapProjection.from(55,65));return t._setRotate([154,0]),t._setCenter([-2,58.5]),t},n.prototype._createHawaii=function(){var t=new e.GeoProjection(e.AlbersMapProjection.from(8,18));return t._setRotate([157,0]),t._setCenter([-3,19.9]),t},n.prototype._createPuertoRico=function(){var t=new e.GeoProjection(e.AlbersMapProjection.from(8,18));return t._setRotate([66,0]),t._setCenter([0,18]),t},n}();e.AlbersUsaGeoProjection=n}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function t(t){this.__projection=t,this.reset()}return t.prototype.reset=function(){},t.prototype._longPercision=function(){return.4},t.prototype._latPercision=function(){return.25},t.prototype.geoProjection=function(){return this.__projection},t.prototype.mathProjection=function(){return this.__projection.getMapProjection()},t.prototype._outline=function(){return null},t.prototype._boxBound=function(){return null},t.prototype._graticuleLines=function(t,e){for(var n=[],i=this._getLongitudeRange(),o=this._getLatitudeRange(),r=i[0];r<i[1];r+=t){for(var l=[],a=o[0];a<o[1];a+=this._latPercision())l.push(this.__projection._project(r,a));n.push(l)}for(a=o[0];a<o[1];a+=e){l=[];for(var u=i[0];u<i[1];u+=this._longPercision())l.push(this.__projection._project(u,a));n.push(l)}return this.geoProjection()._clipper()._clipLines(n)},t.prototype._getLongitudeRange=function(){return[-180,180]},t.prototype._getLatitudeRange=function(){var t=1e-6;return[-90+t,90-t]},t}();t.ProjectionAdviser=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.mathProjection=function(){return e.prototype.mathProjection.call(this)},i.prototype._outline=function(t){var e=this;return this._sampleOriginOutline(5).map((function(t){return e._projectMapToGeo(t[0],t[1])}))},i.prototype._boxBound=function(){var e=this._outline(15),n=e.map((function(t){return t[0]})),i=e.map((function(t){return t[1]})),o=Math.min.apply(Math,n),r=Math.min.apply(Math,i),l=Math.max.apply(Math,n)-o,a=Math.max.apply(Math,i)-r;return new t.core.Rect(o,r,l,a)},i.prototype._sampleOriginOutline=function(t){for(var e=[-180,180],n=[],i=e[0];;i+=t){if(i>=e[1]){n.push(e[1]);break}n.push(i)}return n.map((function(t){return[t,90]})).concat(n.reverse().map((function(t){return[t,-90]}))).concat([[-180,90]])},i.prototype._projectMapToGeo=function(t,e){var n=Math.PI/180,i=this.geoProjection(),o=this.mathProjection(),r=i._getScale(),l=o._foward(t*n,e*n);return[l[0]*r+i._δx(),i._δy()-l[1]*r]},i}(e.ProjectionAdviser);e.AlbersAdviser=i}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._outline=function(){var t=this;return this._sampleOriginOutline(10).map((function(e){return t.geoProjection()._project(e[0],e[1])}))},e.prototype._sampleOriginOutline=function(t){for(var e=[-125,-66.5],n=[],i=e[0];;i+=t){if(i>=e[1]){n.push(e[1]);break}n.push(i)}return n.map((function(t){return[t,22.5]})).concat(n.reverse().map((function(t){return[t,49.5]}))).concat([[-125,22.5]])},e}(t.AlbersAdviser);t.AlbersUsaAdviser=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.mathProjection=function(){return e.prototype.mathProjection.call(this)},i.prototype._outline=function(){var t=this;return this._sampleOriginOutline().map((function(e){return t._projectMapToGeo(e[0],e[1])}))},i.prototype._getLatitudeRange=function(){return[-85,85]},i.prototype._boxBound=function(){var e=this._outline(),n=e.map((function(t){return t[0]})),i=e.map((function(t){return t[1]})),o=Math.min.apply(Math,n),r=Math.min.apply(Math,i),l=Math.max.apply(Math,n)-o,a=Math.max.apply(Math,i)-r;return new t.core.Rect(o,r,l,a)},i.prototype._sampleOriginOutline=function(){return[[-180,85],[180,85],[180,-85],[-180,-85],[-180,85]]},i.prototype._projectMapToGeo=function(t,e){var n=Math.PI/180,i=this.geoProjection(),o=this.mathProjection(),r=i._getScale(),l=o._foward(t*n,e*n);return[l[0]*r+i._δx(),i._δy()-l[1]*r]},i}(e.ProjectionAdviser);e.MercatorAdviser=i}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(){function t(t){this.__projection=t,this.reset()}return t.prototype.reset=function(){},t.prototype.geoProjection=function(){return this.__projection},t.prototype.mathProjection=function(){return this.__projection.getMapProjection()},t.prototype._clipLines=function(t){return t},t.prototype._clipPolygons=function(t){return t},t}();t.MapClipper=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.mathProjection=function(){return t.prototype.mathProjection.call(this)},e.prototype._clipLines=function(t){var e=this.geoProjection()._adviser(),n=this._getK()*(e._longPercision()/.1);if(n<1e-6)return t;for(var i=[],o=0,r=t;o<r.length;o++){var l=r[o];i.push.apply(i,this._clipLine(l,n,null,!0))}return t.push.apply(t,i),t},e.prototype._getK=function(){return this.geoProjection()._getScale()},e.prototype._clipLine=function(t,e,n,i){var o=[];t.length>1&&!i&&o.push(t);for(var r=0;r<t.length;++r){var l=t[r];if(!this._distanceFilter(n,l,e)){o.push.apply(o,this._clipLine(t.splice(r),e,l));break}n=l}return o},e.prototype._distanceFilter=function(t,e,n){return null==t||(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])<n},e.prototype._clipPolygons=function(t){var e=this._getK();if(e<1e-6)return t;for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i],l=this._clipPolygon(r,e,null,0);if(1===l.length){for(var a=-45,u=this._clipPolygon(l[0],e,null,a);1===u.length&&a>-180;)a-=45,u=this._clipPolygon(u[0],e,null,a);if(1===u.length)for(a=45,u=this._clipPolygon(l[0],e,null,a);1===u.length&&a<180;)a+=45,u=this._clipPolygon(u[0],e,null,a);l=u}n.push.apply(n,l)}return this._removeSuspectPolygons(n,2*e)},e.prototype._removeSuspectPolygons=function(t,e){for(var n=null,i=t.length,o=0;o<i;++o){for(var r=t[o],l=0,a=r.length;l<a;++l){var u=r[l];if(!this._distanceFilter(n,u,e)){t[o--]=t[--i];break}n=u}n=null}return i<t.length&&t.splice(i),t},e.prototype._clipPolygon=function(t,e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=0),t.length<3||i<=-180||i>=180)return[t];for(var o=[],r=[],l=this._isLonLs(t[0],i),a=0,u=t.length;a<u;++a){var s=t[a];this._distanceFilter(n,s,e)||(l=this._isLonLs(s,i)),l?r.push(s):o.push(s),n=s}var _=[];return r.length>1&&_.push(r),o.length>1&&_.push(o),_},e.prototype._isLonLs=function(t,e){var n=180/Math.PI;return this._projectInvert(t[0],t[1])[0]*n<e},e.prototype._projectInvert=function(t,e){var n=this.geoProjection(),i=this.mathProjection(),o=n._getScale();return i._invert((t-n._δx())/o,(n._δy()-e)/o)},e}(t.MapClipper);t.AlbersMapCliper=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._clipPolygons=function(t){var e=this._getK();if(e<1e-6)return t;for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i];n.push.apply(n,this._clipPolygon(r,e,null))}return n},e.prototype._clipPolygon=function(t,e,n){if(t.length<3)return[t];var i=[],o=[],r=[],l=this._pointAttachState(t[0]),a=1;0===l&&(a=3);for(var u=0,s=t.length;u<s;++u){var _=t[u];if(!this._distanceFilter(n,_,e)){var p=this._pointAttachState(_);0===p?a=3:0===l?(l=p,a=1):a=p===l?1:2}switch(a){case 1:i.push(_);break;case 2:o.push(_);break;case 3:r.push(_)}n=_}var c=[];return o.length>1&&c.push(o),i.length>1&&c.push(i),r.length>1&&c.push(r),c},e.prototype._pointAttachState=function(t){var e=180/Math.PI,n=this._projectInvert(t[0],t[1])[0]*e;return n>90?1:n<-90?-1:0},e}(t.AlbersMapCliper);t.AlbersUsaClipper=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.models||(t.models={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.mathProjection=function(){return t.prototype.mathProjection.call(this)},e.prototype.reset=function(){this.__k=.5*this._dis2(this._projectMapToGeo(-180,0),this._projectMapToGeo(180,0))},e.prototype._dis2=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},e.prototype._projectMapToGeo=function(t,e){var n=Math.PI/180,i=this.geoProjection(),o=this.mathProjection(),r=i._getScale(),l=o._foward(t*n,e*n);return[l[0]*r+i._δx(),i._δy()-l[1]*r]},e.prototype._clipLines=function(t){var e=this.__k;if(e<1e-6)return t;for(var n=[],i=this.geoProjection()._adviser()._boxBound(),o=0,r=t;o<r.length;o++){var l=r[o];n.push.apply(n,this._clipLine(l,i,e))}return n},e.prototype._clipLine=function(t,e,n){var i=[];if(t.length<1)return i;for(var o=0,r=this._pointOutbox(t[0],e),l=0;l<t.length;++l){var a=t[l];r?this._pointOutbox(a,e)||(r=!1,o=l):this._pointOutbox(a,e)&&(i.push(t.slice(o,l)),r=!0)}r||(0===o?i.push(t):i.push(t.slice(o)));for(var u=0,s=i;u<s.length;u++){var _=s[u];i.push.apply(i,this._clipInnerLine(_,n,null,!0))}return i},e.prototype._pointOutbox=function(t,e){return t[0]<e.left||t[0]>e.right||t[1]<e.top||t[1]>e.bottom},e.prototype._clipInnerLine=function(t,e,n,i){var o=[];t.length>1&&!i&&o.push(t);for(var r=0;r<t.length;++r){var l=t[r];if(!this._distanceFilter(n,l,e)){o.push(t.splice(r));break}n=l}return o},e.prototype._distanceFilter=function(t,e,n){return null==t||(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])<n},e.prototype._clipPolygons=function(t){var e=this.__k;if(e<1e-6)return t;for(var n=[],i=this.geoProjection()._adviser()._boxBound(),o=0,r=t;o<r.length;o++){var l=r[o];n.push.apply(n,this._clipPolygon(l,e,i))}return this._removeSuspectPolygons(n,2*e)},e.prototype._removeSuspectPolygons=function(t,e){for(var n=null,i=t.length,o=0;o<i;++o){for(var r=t[o],l=0,a=r.length;l<a;++l){var u=r[l];if(!this._distanceFilter(n,u,e)){t[o--]=t[--i];break}n=u}n=null}return i<t.length&&t.splice(i),t},e.prototype._regularPoint=function(t,e){t[0]<e.left&&(t[0]=e.left),t[0]>e.right&&(t[0]=e.right),t[1]<e.top&&(t[1]=e.top),t[1]>e.bottom&&(t[1]=e.bottom)},e.prototype._clipPolygon=function(t,e,n,i){if(void 0===i&&(i=null),t.length<3)return[t];for(var o=[],r=[],l=!1,a=0,u=t.length;a<u;++a){var s=t[a];this._distanceFilter(i,s,e)||(l=!l),l?r.push(s):o.push(s),this._regularPoint(s,n),i=s}var _=[];return r.length>1&&_.push(r),o.length>1&&_.push(o),_},e}(t.MapClipper);t.MercatorCliper=e}(t.models||(t.models={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e=function(){function t(){this.__d=""}return t.prototype._d=function(){return this.__d},t.prototype._reset=function(){this.__d=""},t.prototype._lineStart=function(t,e){this.__d+="M"+t.toString()+" "+e.toString()},t.prototype._line=function(t,e){this.__d+="L"+t.toString()+" "+e.toString()},t.prototype._close=function(){this.__d+="Z"},t.prototype._join=function(t){this.__d+=t._d()},t.polygonXY=function(e,n){var i=!0,o=new t;if(!(e&&e.length&&n&&n.length))return o;for(var r=0,l=e.length;r<l;++r)i?(o._lineStart(e[r],n[r]),i=!1):o._line(e[r],n[r]);return o._close(),o},t.polygon=function(e){var n=!0,i=new t;if(null==e)return i;for(var o=0,r=e.length;o<r;++o){var l=e[o];n?(i._lineStart(l[0],l[1]),n=!1):i._line(l[0],l[1])}return i._close(),i},t.lines=function(e){if(null==e)return null;if(e.length<=0)return null;for(var n=new t,i=0,o=e.length;i<o;++i){var r=e[i];n._join(this.line(r))}return n},t.line=function(e){var n=!0,i=new t;if(null==e)return i;for(var o=0,r=e.length;o<r;++o){var l=e[o];n?(i._lineStart(l[0],l[1]),n=!1):i._line(l[0],l[1])}return i},t}();t._GeoPath=e}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(){function n(e,n){this.__rectangle=t.core.Rect.ReadOnlyRect,this.__shapeViews=[],this.__translate=new t.core.Point(0,0),this.__zoom=1,this.__viewPortGroupElement=null,this._dλ=10,this._dφ=10,this._showGraticule=!1,this.__plotView=e,this.__source=n,this._init()}return n.prototype._rectangle=function(){return this.__rectangle},n.prototype._updateRectangle=function(t){this.__rectangle=t},n.prototype._plotView=function(){return this.__plotView},n.prototype._step=function(t,e){isNaN(t)||isNaN(e)||(this._dλ=t,this._dφ=e)},Object.defineProperty(n.prototype,"zoom",{get:function(){return this.__zoom},set:function(t){isNaN(t)||t<=0||(this.__zoom=t)},enumerable:!1,configurable:!0}),n.prototype._getTranslate=function(){return this.__translate},n.prototype._setTranslate=function(t){this.__translate=t.clone()},n.prototype._source=function(){return this.__source},n.prototype._shapeViews=function(){return this.__shapeViews},n.prototype._init=function(){if(this._source()){var t=this._source().option;t.translate&&this._setTranslate(t.translate),this.zoom=t.zoom,null!=t.option()&&t.option().step&&this._step(t.option().step[0],t.option().step[1]),t.showGraticule&&(this._showGraticule=!0)}},n.prototype._layout=function(t){this._init(),this._updateRectangle(t),null!=this._source()&&this._prepareShapeViews(this.zoom,this.__translate.x,this.__translate.y)},n.prototype._prepareShapeViews=function(t,n,i){if(null!=this.__source){this.__shapeViews.length=0;for(var o=0,r=this._source()._features();o<r.length;o++){var l=r[o];l.geometry.transform(t,n,i),l.geometry.clipping(this._getClipper());var a=new e._GeographicShapeView(this,l);this.__shapeViews.push(a)}}},n.prototype._beforeRender=function(t,e){},n.prototype._isShapeViewInPlotView=function(e){for(var n=0,i=this._plotView()._getPointViews();n<i.length;n++){var o=i[n];if(t._isGeographyPointView(o)&&t._isMapPointView(o)&&null!=o&&o._getShapeView()==e)return!0}return!1},n.prototype._render=function(t,e){var n=this;if(!e._renderLabel){var i=this._rectangle();this.__viewPortGroupElement=t.createGroup("viewport",null,null,i,i.width,i.height,0,0,(function(t){n._beforeRender(t,e);for(var i=0,o=n._shapeViews();i<o.length;i++){var r=o[i];n._isShapeViewInPlotView(r)||r._render(t,e)}})),null==this.__viewPortGroupElement&&t.drawGroup("viewport",null,null,(function(t){n._beforeRender(t,e);for(var i=0,o=n._shapeViews();i<o.length;i++){var r=o[i];n._isShapeViewInPlotView(r)||r._render(t,e)}}))}},n}(),e.BaseViewPort=n}(t||(t={})),function(t){var e,i;e=t.map||(t.map={}),i=function(i){function o(t,e){return i.call(this,t,e)||this}return n(o,i),o.prototype._getFoward=function(){var t=this;return function(e,n){return t.__projection._project(e,n)}},o.prototype._getInvert=function(){var t=this;return function(e,n){return t.__projection.invert(e,n)}},o.prototype._init=function(){if(this._source()){i.prototype._init.call(this);var n=this._source().option;this.__projection=new e.models.AlbersUsaGeoProjection,this.__vAlign=n.vAlign,this.__hAlign=n.hAlign,this.__hAlign=null==this.__hAlign?t.HAlign.Center:n.hAlign,this.__vAlign=null==this.__vAlign?t.VAlign.Middle:n.vAlign}},o.prototype._getClipper=function(){return this.__projection._clipper()},o.prototype._getAdviser=function(){return this.__projection._adviser()},o.prototype._layout=function(e){if(this._init(),this._updateRectangle(e),null!=this._source()){for(var n=null,i=0,o=this._source()._features();i<o.length;i++){var r=o[i];r.geometry.reset(),r.geometry.foward(this._getFoward()),null==n?n=r.geometry.bbox.bounds:null!=r.geometry.bbox.bounds&&(n=t._RectangleUtility._unionOfRectangles(n,r.geometry.bbox.bounds))}var l=1;null!=n&&isFinite(n.width)?l=this._calcScale(n,e):(n=this.__projection._adviser()._boxBound(),l=this.zoom);var a=this._calcTranslateBy(l,n,e),u=this.__projection._getScale();this.__projection._setScale(u*l),this.__projection._setTranslate(new t.core.Point(a[0],a[1])),this._prepareShapeViews(l,a[0],a[1])}},o.prototype._calcScale=function(t,e){var n=1*e.width/t.width,i=1*e.height/t.height;return Math.min(n,i)*this.zoom},o.prototype._calcTranslateBy=function(e,n,i){var o=this._getTranslate(),r=new t.Matrix,l=this._getJunction(this.__hAlign,this.__vAlign,n),a=this._getJunction(this.__hAlign,this.__vAlign,i);return r.scale(e,e),l=t._MatrixUtility._transformPoint(r,l),[a.x-l.x+o.x,a.y-l.y+o.y]},o.prototype._getJunction=function(e,n,i){var o=i.center;switch(e){case t.HAlign.Left:o.x=i.left;break;case t.HAlign.Right:o.x=i.right}switch(n){case t.VAlign.Top:o.y=i.top;break;case t.VAlign.Bottom:o.y=i.bottom}return o},o.prototype._beforeRender=function(t,e){this._showGraticule&&this._drawGraticule(t,e)},o.prototype._drawGraticule=function(t,n){new e.Graticule(this._getAdviser(),this._dλ,this._dφ).render(t,this._rectangle())},o}(e.BaseViewPort),e.AlbersUsaViewPort=i}(t||(t={})),function(t){var e,i;e=t.map||(t.map={}),i=function(i){function o(t,e){return i.call(this,t,e)||this}return n(o,i),o.prototype._getFoward=function(){var t=this;return function(e,n){return t.__projection._project(e,n)}},o.prototype._getInvert=function(){var t=this;return function(e,n){return t.__projection.invert(e,n)}},o.prototype._init=function(){if(this._source()){i.prototype._init.call(this),this.__vAlign=this.__hAlign=null;var n=this._source().option;this.__projection=new e.models.GeoProjection(this._mapProjection(n)),n.center?this.__projection._setCenter([n.center.x,n.center.y]):(this.__hAlign=null==n.hAlign?t.HAlign.Center:n.hAlign,this.__vAlign=null==n.vAlign?t.VAlign.Middle:n.vAlign),n.rotate3d&&this.__projection._setRotate([n.rotate3d.x,n.rotate3d.y,n.rotate3d.z])}},o.prototype._getClipper=function(){return this.__projection._clipper()},o.prototype._getAdviser=function(){return this.__projection._adviser()},o.prototype._layout=function(e){if(this._init(),this._updateRectangle(e),null!=this._source()){for(var n=null,i=0,o=this._source()._features();i<o.length;i++){var r=o[i];r.geometry.reset(),r.geometry.foward(this._getFoward()),null==n?n=r.geometry.bbox.bounds:null!=r.geometry.bbox.bounds&&(n=t._RectangleUtility._unionOfRectangles(n,r.geometry.bbox.bounds))}var l=this.__projection._adviser()._boxBound(),a=1;null!=n&&isFinite(n.width)?(n=t._RectangleUtility._intersectionOfRectangle(n,l),a=this._calcScale(n,e)):(n=l,a=this.zoom);var u=this._calcTranslateBy(a,n,e),s=this.__projection._getScale();this.__projection._setScale(s*a),this.__projection._setTranslate(new t.core.Point(u[0],u[1])),this._prepareShapeViews(a,u[0],u[1])}},o.prototype._calcScale=function(t,e){var n=1*e.width/t.width,i=1*e.height/t.height;return Math.min(n,i)*this.zoom},o.prototype._calcTranslateBy=function(e,n,i){var o,r,l=this._getTranslate();if(null!=this.__vAlign&&null!=this.__hAlign){var a=new t.Matrix,u=this._getJunction(this.__hAlign,this.__vAlign,n),s=this._getJunction(this.__hAlign,this.__vAlign,i);a.scale(e,e),u=t._MatrixUtility._transformPoint(a,u),o=s.x-u.x+l.x,r=s.y-u.y+l.y}else o=i.center.x+l.x,r=i.center.y+l.y;return[o,r]},o.prototype._getJunction=function(e,n,i){var o=i.center;switch(e){case t.HAlign.Left:o.x=i.left;break;case t.HAlign.Right:o.x=i.right}switch(n){case t.VAlign.Top:o.y=i.top;break;case t.VAlign.Bottom:o.y=i.bottom}return o},o.prototype._beforeRender=function(t,e){this._showGraticule&&this._drawGraticule(t,e)},o.prototype._drawGraticule=function(t,n){new e.Graticule(this._getAdviser(),this._dλ,this._dφ).render(t,this._rectangle())},o.prototype._mapProjection=function(e){var n=this._plotView()._getDefinition()._pluginCollection,i=t._BuildInMapProjectionBuilderCollection._defaultBuildInMapProjectionBuilders()._mapProjection(e,[],n);if(null!=i)return i;throw new t.RuntimeError(t.ErrorCode.UnexpectedNullValue,i)},o}(e.BaseViewPort),e.GeoViewPort=i}(t||(t={})),function(t){var e,n;e=t.map||(t.map={}),n=function(){function e(t,e,n){this.__dλ=10,this.__dφ=10,this.__adviser=t,this._step(e,n)}return e.prototype._applyStyle=function(t){this.__style=t},e.prototype._step=function(t,e){isNaN(t)||isNaN(e)||(this.__dλ=t,this.__dφ=e)},e.prototype._gettGraticuleLines=function(t){return t._graticuleLines(this.__dλ,this.__dφ)},e.prototype.render=function(e,n){if(void 0===n&&(n=null),this.__adviser){e.beginTransform();var i=null==this.__style?t._StyleCloneMaker._styleCloneMaker._cloneOf(this._defaultGraticuleStyle()):this.__style;t._StyleUtility._applyAllStyle(e,i);var o=this._gettGraticuleLines(this.__adviser);if(null!=n){for(var r=[],l=0,a=o;l<a.length;l++){var u=a[l];r.push.apply(r,this._clipLine(u,n))}o=r}var s=t._GeoPath.lines(o);if(null!=s){var _=s._d(),p=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(_);e.drawPath(p,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)}e.restoreTransform()}},e.prototype._clipLine=function(t,e){var n=[];if(t.length<1)return n;for(var i=0,o=this._pointOutbox(t[0],e),r=0;r<t.length;++r){var l=t[r];o?this._pointOutbox(l,e)||(o=!1,i=r):this._pointOutbox(l,e)&&(n.push(t.slice(i,r)),o=!0)}return o||(0===i?n.push(t):n.push(t.slice(i))),n},e.prototype._pointOutbox=function(t,e){return t[0]<e.left||t[0]>e.right||t[1]<e.top||t[1]>e.bottom},e.prototype._defaultGraticuleStyle=function(){return null==e.__defaultStyle&&(e.__defaultStyle=t._StyleUtility._buildStyle(null,"none",.5,"#777",.5)),e.__defaultStyle},e}(),e.Graticule=n}(t||(t={})),function(t){t.map||(t.map={})}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.build=function(t,e){return this._createViewPortBy(t,e)},e._createViewPortBy=function(e,n){return n.option.projection==t.ProjectionType.AlbersUsa?new t.AlbersUsaViewPort(e,n):new t.GeoViewPort(e,n)},e}();t.MapViewPortBuilder=e}(t.map||(t.map={}))}(t||(t={})),function(t){var e;!function(e){var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._applyGroupConditionFormattingRule=function(t,e){},e.prototype._applyPointConditionFormattingRule=function(t,e){null!=t&&t._traversePointView((function(t,n){e.evaluate(t)}),null)},e}(t.models._ConditionalFormattingRuleRunner);e._MapConditionalFormattingRuleRunner=i}((e=t.map||(t.map={})).models||(e.models={}))}(t||(t={})),function(t){var e,i;e=t.map||(t.map={}),i=function(i){function o(n,o){var r=i.call(this,n._plotView())||this;r.__hover=!1,r._externalStyle=null,r.__viewPort=n,r.feature=o,r.__geoShapes=r.feature.geometry.shapes;for(var l=[],a=Number.NEGATIVE_INFINITY,u=0,s=r.__geoShapes;u<s.length;u++)if((y=s[u])instanceof e.models._GeoPolygonShape)(c=t._Util._polygonArea(y.polygon.points))>a&&(a=c,l=y.polygon.points);else if(y instanceof e.models._GeoPathShape)for(var _=0,p=y.polygons;_<p.length;_++){var c,h=p[_];(c=t._Util._polygonArea(h.points))>a&&(a=c,l=h.points)}if(l.length<=0)return r._visible=!1,r;r.__center=t._Util._getCenterOfGravityPoint(l),r.__xss=[],r.__yss=[];for(var f=0,d=r.__geoShapes;f<d.length;f++){var y;if((y=d[f])instanceof e.models._GeoPolygonShape)r.__xss.push(y.polygon.points.map((function(t){return t.x}))),r.__yss.push(y.polygon.points.map((function(t){return t.y})));else if(y instanceof e.models._GeoPathShape)for(var g=0,m=y.polygons;g<m.length;g++)h=m[g],r.__xss.push(h.points.map((function(t){return t.x}))),r.__yss.push(h.points.map((function(t){return t.y})))}return r}return n(o,i),o.prototype._getStyle=function(){return this.__style},o.prototype._setStyle=function(t){this.__style=t},o.prototype._getSelectionStyle=function(){return this.__selectionStyle},o.prototype._setSelectionStyle=function(t){this.__selectionStyle=t},o.prototype._getHoverStyle=function(){return this.__hoverStyle},o.prototype._setHoverStyle=function(t){this.__hoverStyle=t},o.prototype._color=function(){return this.__color},o.prototype._updateColor=function(t){this.__color!=t&&(this.__color=t)},o.prototype._xss=function(){return this.__xss},o.prototype._yss=function(){return this.__yss},o.prototype._defaultStyle=function(){return null==o.__defaultStyle&&(o.__defaultStyle=t._StyleCloneMaker._styleCloneMaker._cloneOf(t._ViewUtility._defaultLineStyle()),t._StyleUtility._applyFill(o.__defaultStyle,new t._CssColor("#ffffff")),t._StyleUtility._applyStroke(o.__defaultStyle,new t._CssColor("#000000")),o.__defaultStyle.strokeWidth=.5),o.__defaultStyle},o.prototype._center=function(){return this.__center},o.prototype._drawView=function(n,i){n.beginTransform(),t._StyleUtility._applyStyle(n,this._defaultStyle()),t._OptionUtility._applyDataPointStyleOption(n,this.__viewPort._source().option.style);var o=this._color();null!=o&&(n.fill=o),t._OptionUtility._applyDataPointStyleOption(n,this._getStyle()),i.hasSelectionInPlotArea&&t._OptionUtility._applyDataPointStyleOption(n,this._getSelectionStyle()),this._isHover()&&t._OptionUtility._applyDataPointStyleOption(n,this._getHoverStyle()),t._StyleUtility._applyAllStyle(n,this._externalStyle);for(var r=0,l=this.__geoShapes;r<l.length;r++){var a=l[r];if(a instanceof e.models._GeoPathShape)n.drawPath(a.path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter);else if(a instanceof e.models._GeoPolygonShape){var u=a.polygon.points.map((function(t){return t.x})),s=a.polygon.points.map((function(t){return t.y}));n.drawPolygon(u,s)}}n.restoreTransform()},o.prototype._hitTest=function(e,n,o){if(this._zLevel!=n)return null;for(var r=0;r<this.__xss.length;++r){var l=this.__xss[r],a=this.__yss[r];if(t._Util.IsPointInPolygon2(e,l,a)){var u=new t.HitTestResult(e,null,this,null);return null==o||null!=o&&o.predicate(u)?u:null}}return i.prototype._hitTest.call(this,e,n,o)},o.prototype._isHover=function(){return this.__hover},o.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t)},o}(t._BaseView),e._GeographicShapeView=i}(t||(t={})),function(t){var e,i;e=t.map||(t.map={}),i=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__shapeViews=[],i}return n(i,e),i.prototype._viewPort=function(t){return null!=t&&(this.__viewPort=t),this.__viewPort},i.prototype._scale=function(e,n){if(this.__viewPort&&null!=e&&null!=n){var i=this._viewPort()._getFoward()(e,n);return isNaN(i[0])||isNaN(i[1])?null:new t.core.Point(i[0],i[1])}return null},i.prototype._invert=function(e,n){if(this.__viewPort){var i=this._viewPort()._getInvert()(e,n);return isNaN(i[0])||isNaN(i[1])?null:new t.core.Point(i[0],i[1])}return null},i.prototype._shapeViews=function(){return this.__shapeViews},i.prototype._getClassName=function(){return"gcdv-geography-coordinate-system"},i.prototype._createPlotListView=function(){return new t._PlotListView(this)},i.prototype._layoutContent=function(t,n,i){this._updateRectangle(n),n.width>0&&n.height>0&&null!=this.__viewPort&&this._viewPort()._layout(n),e.prototype._layoutContent.call(this,t,n,i)},i.prototype._renderChildren=function(t,n){!n._renderLabel&&this.__viewPort&&this.__viewPort._render(t,n),e.prototype._renderChildren.call(this,t,n)},i}(t._ZoomableCoordinateSystemView),e._GeographyCoordinateSystemView=i}(t||(t={})),function(t){t.map||(t.map={})}(t||(t={})),function(t){t.map||(t.map={})}(t||(t={})),function(t){var e,i;e=t.map||(t.map={}),i=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._symbolMapPointView=function(){return this._ownerView},i.prototype._layoutContent=function(e,n,i){var o=this._symbolMapPointView(),r=o._getGeographyPlotView();n=o._rectangle();var l=r._getLayoutView()._dataLabelsRectangle(),a=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,u=n.center.clone(),s=u.clone();s.x+a.width/2>l.right&&(s.x=l.right-a.width/2),s.x-a.width/2<l.left&&(s.x=l.left+a.width/2),s.y+a.height/2>l.bottom&&(s.y=l.bottom-a.height/2),s.y-a.height/2<l.top&&(s.y=l.top+a.height/2),this._textView()._layout(e,i,new t.core.Rect(s.x-a.width/2,s.y-a.height/2,a.width,a.height)),this._startPoint=u,this._endPoint=s},i}(t._PointDataLabelView),e._SymbolGeographyPointDataLabelView=i}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._visualViews=[],o._pointViews=[],o}return n(i,e),i.prototype._actionConditionalFormat=function(){(new t.map.models._MapConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},i.prototype._createPointViews=function(){for(var t=0,e=this._dataModel._points();t<e.length;t++){var n=e[t],i=this._createPointView(n);null!=i&&this._pointViews.push(i)}},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=0,r=this._visualViews;o<r.length;o++){var l=r[o]._hitTest(t,n,i);if(null!=l)return l}return e.prototype._hitTest.call(this,t,n,i)},i.prototype._getGeographyDefinition=function(){return this._definition},i.prototype._geographyCoordinateSystemView=function(){return this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition)},i.prototype._getPointViews=function(){return this._pointViews},i.prototype._hasSelectedPointView=function(){for(var t=0,e=this._pointViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},i}(t._BasePlotView);t._BaseGeographyPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e}(t._BaseGeographyPlotView);t._DetailedMapPlotView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o.__location=null,o.__textOption=o._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(o._getPlotView()._dataPointDataLabelOption()),o}return n(i,e),Object.defineProperty(i.prototype,"text",{get:function(){return this.__textOption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!1,configurable:!0}),i.prototype._getLocation=function(){return null==this.__location?null:this.__location.clone()},i.prototype._setLocation=function(t){this.__location=t},i.prototype._getGeographyDefinition=function(){return this._ownerView._getGeographyDefinition()},i.prototype._createIdentityContent=function(){var e=this._ownerView._getPointViews().indexOf(this).toString();return t._Util.HashCode("point"+e)},i.prototype._shape=function(){return new t._RectangleShape(this._rectangle().center.x,this._rectangle().center.y,this._rectangle().width,this._rectangle().height,0)},i.prototype._getGeographyPlotView=function(){return this._ownerView},i.prototype._getPlotView=function(){return this._ownerView},Object.defineProperty(i.prototype,"parent",{get:function(){return this._getPlotView()},enumerable:!1,configurable:!0}),i}(t._BasePointView);t._BaseGeographyPointView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,o)||this;return r.__defaultShape="Dot",r.__drawablePipeline=new t.DisplayablePipeLine(r),r}return n(i,e),i.prototype._layoutContent=function(e,n,i){var o=this._getLocation();if(o){var r=this.size,l=this._getStyleSymbolSize();null==(r=null==r?l:l*r)&&(r=10);var a=o;this._updateRectangle(new t.core.Rect(a.x-r/2,a.y-r/2,r,r)),this._visible=!0}else this._visible=!1},i.prototype._symbolDefinition=function(){return null!=this.__symbolDefinition&&null==this._internalStyle()||(this.__symbolDefinition=this._createSymbolDefinition()),this.__symbolDefinition},i.prototype._symbol=function(){return this.__symbol},i.prototype._drawView=function(t,e){t.beginTransform(),this.__drawablePipeline._flush(t,e),t.restoreTransform()},i.prototype._draw=function(e,n){this._renderSymbol1(e,t._RectangleUtility._scaleRectangle(this._rectangle(),this._scale),n)},i.prototype._renderSymbol1=function(t,e,n){var i=this._calculateStyle(n);this._applyDataPointExternalStyle(i);var o=this._getSymbolRectangle(e);this.__symbol=this._symbolDefinition().createSymbol(o,i),this.__symbol.render(t,n)},i.prototype._getSymbolRectangle=function(t){var e=t.clone(),n=t.width<t.height?t.width:t.height;return t.width>t.height?e.left=t.left+(t.width-t.height)/2:t.height>t.width&&(e.top=t.top+(t.height-t.width)/2),e.height=n,e.width=n,e},i.prototype._contains=function(t){return null!=this.__symbol?this.__symbol.contains(t):this._rectangle().contains(t)},i.prototype._cutOff=function(){return!1},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(this.__drawablePipeline.contains(n)){var r=this._pointLayoutListView(),l=null==r?null:r._hitTest(n,i,o);return null!=l?l:(l=new t.HitTestResult(n,this,this,t.ElementType.DataPoint),null==o||null!=o&&o.predicate(l)?l:null)}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t.map._SymbolGeographyPointDataLabelView(this,n,e):null},i.prototype._defaultDataLabelTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("; ")},i.prototype._customTooltipTemplate=function(t){return null!=t&&"DataPoint"==t.scope&&null!=t.template&&t.template.length>0?t.template:null},i.prototype._defaultTooltipTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},i.prototype._pointsRect=function(){return this._rectangle()},Object.defineProperty(i.prototype,"defaultShape",{get:function(){return this.__defaultShape},enumerable:!1,configurable:!0}),i.prototype._createSymbolDefinition=function(){var e=this._getGeographyDefinition(),n=null,i=e._getEncodingsDefinition()._getShapeEncodingDefinition();i instanceof t._SingleDataFieldLegendEncodingDefinition&&(n=t._DataSlicesAggregate._defaultAggregate._aggregate(this._data()._dataSlices,i._fieldDefinition()._dataField,i._aggregate()));var o=this._getStyleSymbolShape(),r=this.shape,l=this.defaultShape;return t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(e._getSymbolDefinitionProviderList(),n,o,r,l)},i.prototype.queryInterface=function(t){return"IDisplayablePipeLine"===t?this.__drawablePipeline:e.prototype.queryInterface.call(this,t)},i}(t._BaseGeographyPointView);t._BaseSymbolGeographyPointView=e}(t||(t={})),function(t){t._isGeographyPointView=function(t){return"function"==typeof t._getGeographyPlotView}}(t||(t={})),function(t){t._isSymbolGeographyPointView=function(e){return t._isSymbolPointView(e)}}(t||(t={})),function(t){!function(t){!function(t){t[t.Point=0]="Point",t[t.MultiPoint=1]="MultiPoint",t[t.LineString=2]="LineString",t[t.MultiLineString=3]="MultiLineString",t[t.Polygon=4]="Polygon",t[t.MultiPolygon=5]="MultiPolygon",t[t.GeometryCollection=6]="GeometryCollection",t[t.Feature=7]="Feature",t[t.FeatureCollection=8]="FeatureCollection"}(t.GeoType||(t.GeoType={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){!function(t){t[t.Mercator=0]="Mercator",t[t.Albers=1]="Albers",t[t.AlbersUsa=2]="AlbersUsa"}(t.ProjectionType||(t.ProjectionType={}))}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.map||(t.map={}))}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e,i,r;e=t.map||(t.map={}),i=e.options||(e.options={}),r=function(r){function l(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=r.call(this,null,i)||this;return o.__center=null,o.__geojson=null,o.__translate=null,o.__zoom=null,o.__projection=e.ProjectionType.Mercator,o.__hAlign=null,o.__vAlign=null,o.__style=new t.options._DataPointStyleOption(null),o.__parallels=null,o.__rotate3d=null,o.__showGraticule=null,o.__propertyName=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(l,r),Object.defineProperty(l.prototype,"propertyName",{get:function(){return this.__propertyName},set:function(t){t!=this.__propertyName&&(this.__propertyName=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showGraticule",{get:function(){return this.__showGraticule},set:function(t){null!=t&&t!=this.__showGraticule&&(this.__showGraticule=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parallels",{get:function(){return this.__parallels},set:function(e){!t._JsonElementUtility._isNull(e)&&t._JsonElementUtility._isArray(e)&&2===t._JsonElementUtility._getAsArray(e).length&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[0])&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[1])&&(this.__parallels=new t.core.Point(t._JsonElementUtility._getAsArray(e)[0],t._JsonElementUtility._getAsArray(e)[1]))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"geojson",{get:function(){return this.__geojson},set:function(t){null!=t&&t!=this.__geojson&&(this.__geojson=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"center",{get:function(){return this.__center},set:function(e){!t._JsonElementUtility._isNull(e)&&t._JsonElementUtility._isArray(e)&&2===t._JsonElementUtility._getAsArray(e).length&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[0])&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[1])&&(this.__center=new t.core.Point(t._JsonElementUtility._getAsArray(e)[0],t._JsonElementUtility._getAsArray(e)[1]))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"rotate3d",{get:function(){return this.__rotate3d},set:function(e){if(!t._JsonElementUtility._isNull(e)&&t._JsonElementUtility._isArray(e)){var n=t._JsonElementUtility._getAsArray(e);1!==n.length||isNaN(n[0])?2!==n.length||isNaN(n[0])||isNaN(n[1])?3!==n.length||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||(this.__rotate3d=new i._Rotate3DOption(n[0],n[1],n[2])):this.__rotate3d=new i._Rotate3DOption(n[0],n[1],0):this.__rotate3d=new i._Rotate3DOption(n[0],0,0)}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"translate",{get:function(){return this.__translate},set:function(e){!t._JsonElementUtility._isNull(e)&&t._JsonElementUtility._isArray(e)&&2===t._JsonElementUtility._getAsArray(e).length&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[0])&&t._JsonElementUtility._isNumber(t._JsonElementUtility._getAsArray(e)[1])&&(this.__translate=new t.core.Point(t._JsonElementUtility._getAsArray(e)[0],t._JsonElementUtility._getAsArray(e)[1]))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"zoom",{get:function(){return this.__zoom},set:function(t){null!=t&&t!=this.__zoom&&(this.__zoom=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"projection",{get:function(){return this.__projection},set:function(t){null!=this.__projection&&this.__projection==t||(this.__projection=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){null!=this.__hAlign&&this.__hAlign==t||(this.__hAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){null!=this.__vAlign&&this.__vAlign==t||(this.__vAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"style",{get:function(){return this.__style},set:function(e){this.__style!==e&&(null==e&&(e=new t.options._DataPointStyleOption),this.__style=e)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],l.prototype,"propertyName",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,e.ProjectionType,e.ProjectionType.Mercator)],l.prototype,"projection",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],l.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],l.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],l.prototype,"style",null),l}(t.options._Option),i._MapConfigOption=r}(t||(t={})),function(t){!function(t){!function(t){var e=function(t,e,n){this.x=t,this.y=e,this.z=n};t._Rotate3DOption=e}(t.options||(t.options={}))}(t.map||(t.map={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="MapProjection",this.type=t._BuildInMapProjectionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildMapProjection=function(e){if(e.projection===t.map.ProjectionType.Albers){var n=0,i=60;return e.parallels&&(n=e.parallels.x,i=e.parallels.y),t.map.models.AlbersMapProjection.from(n,i)}return null},e.prototype.queryInterface=function(t){return"IMapProjectionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AlbersMapProjectionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._GeographyCoordinateSystemDefinition._type?new t._GeographyCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GeographyCoordinateSystemPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildOverlayDefinition=function(e,n,i){if(t._isGeographyPlotDefinition(e)){if(t.map.options._isGeoPathOverlayOption(n)){var o=n;return new t._GeographyPathDefinition(e,o)}if(t.options._isOverlayOption(n)&&"Path"===(o=n).type&&t.options._isJsonOption(n))return new t._GeographyPathDefinition(e,new t.map.options._GeoPathOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GeoPathOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.map||(t.map={}),i=function(e){function i(t,n){var i=e.call(this)||this;return i.__plot=t,i.__option=n,i}return n(i,e),i.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this.__plot,this.__option)},i.prototype._getPointInfo=function(e,n){var i=e._geographyCoordinateSystemView()._scale(n.location[0],n.location[1]);return null==i?null:new t.PointAttachInfo(i,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical().reverse())},i}(t._PointAttachmentAgent),e._GeoPathOverlayPointAttachmentAgent=i}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i,t._NativeExtension._toNonNullEnum(i.display,t.OverlayDisplay.Front))||this;return o._legendOverlayDefinition=new t._LegendOverlayDefinition(n,t.LegendType.Overlay),o}return n(i,e),i.prototype._buildOverlayView=function(e){return null!=this._option.path&&null!=this._option.location&&t._isMapPlotView(e)?new t.map._GeographyPathOverlayView(e,this):null},i.prototype.queryInterface=function(t){return null},i}(t._BaseOverlayDefinition);t._GeographyPathDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i){var o=e.call(this)||this;o.__paths=[];for(var r=0,l=n;r<l.length;r++){var a=l[r];o.__paths.push(t._PathBuilder._defaultPathBuilder._buildPathFromExpression(a))}return o.__bbox=i,o.__matrix=new t.Matrix,o}return n(i,e),i.prototype._box=function(){var e=t._MatrixUtility._transformPoint(this.__matrix,new t.core.Point(this.__bbox.right,this.__bbox.bottom));return new t.core.Rect(0,0,e.x,e.y)},i.prototype._junction=function(e,n){var i=t._MatrixUtility._transformPoint(this.__matrix,new t.core.Point(this.__bbox.left,this.__bbox.top));return t._MatrixUtility._transformPoint(e,i)},i._from=function(t){var e=i._getBoundingBoxOfPath(t);return null==e?null:new i(t,e)},i.prototype.setSize=function(t,e){var n=this.__bbox;(null==t||isNaN(t)||t<=0)&&(t=n.width),(null==e||isNaN(e)||e<=0)&&(e=n.height);var i=t/n.width,o=e/n.height;this.__matrix.reset(),this.__matrix.scale(i,o)},i._getBoundingBoxOfPath=function(e){for(var n=null,i=0,o=e;i<o.length;i++){var r=o[i],l=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(r),a=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(l);n=null==n?a:t._RectangleUtility._unionOfRectangles(n,a)}return n},i.prototype._paths=function(){return this.__paths},i.prototype._refresh=function(t){},i.prototype._renderRefresh=function(t){this.strokeWidth=t.strokeWidth},i.prototype._draw=function(e){var n=this;e.drawGroup(null,null,this.__matrix,(function(e){for(var i=0,o=n.__paths;i<o.length;i++){var r=o[i];e.drawPath(r,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)}}))},i.prototype._contain=function(n){return n=t._MatrixUtility._transformPoint(this.__matrix.invert(),n),e.prototype._contain.call(this,n)},i.prototype._containStroke=function(n){return n=t._MatrixUtility._transformPoint(this.__matrix.invert(),n),e.prototype._containStroke.call(this,n)},i}(t._PathPrototype);t.GeoPathShape=e}(t||(t={})),function(t){var e,i;e=t.map||(t.map={}),i=function(i){function o(t,e){return i.call(this,t,e)||this}return n(o,i),o.prototype._createDefaultStyle=function(){return t._StyleUtility._buildStrokeStyle(null,null,1)},o.prototype._baseColor=function(){return null==this.__baseColor?t._CssColor._defaultStyleColor():this.__baseColor},o.prototype._applyPaletteColor=function(){this.__baseColor=this._getColor()},o.prototype._initializeStyle=function(){this._shouldApplyColorFromPalette()&&this._applyPaletteColor()},o.prototype._shouldApplyColorFromPalette=function(){var t=this._definition._option;return null==t.style||null==t.style.stroke||null==t.style.fill},o.prototype._mapPlotView=function(){return this._ownerView},o.prototype._buildOverlayItemViews=function(){this.__templateAnnotation=this._createAnnotation()},o.prototype.useData=function(){},o.prototype._createAnnotation=function(){var n=this._definition._option,i=t.GeoPathShape._from(n.path);if(null==i)return null;var o=new t._TemplateAnnotation;o._setContent(i),o._bindAttachmentAgent(new e._GeoPathOverlayPointAttachmentAgent(this._mapPlotView(),n));var r=t.AnnotationLib._parseCoordinateValue(n.offset);return null!=r&&(o.xOffset=r.x,o.yOffset=r.y),o},o.prototype._annotationStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._getDefaultStyle());return e.fill=this._baseColor(),e.stroke=this._baseColor(),t._OptionUtility._applyOverlayStyleOption(e,this._definition._option.style),e},o.prototype._initContent=function(){var e=this._definition._option,n=this.__templateAnnotation._getContent(),i=Math.min(this._ownerView._getLayoutView()._rectangle().width,this._ownerView._getLayoutView()._rectangle().height),o=null;null!=e.width&&(e.width.type==t.ValueOptionType.Percentage?o=e.width.value*i:e.width.type==t.ValueOptionType.Pixel&&(o=e.width.value));var r=null;null!=e.height&&(e.height.type==t.ValueOptionType.Percentage?r=e.height.value*i:e.height.type==t.ValueOptionType.Pixel&&(r=e.height.value)),n.setSize(o,r)},o.prototype._layoutContent=function(t,e){t.beginTransform(),null!=this.__templateAnnotation&&(this._initContent(),this.__templateAnnotation._applyCustomStyle(this._annotationStyle()),this.__templateAnnotation._layout(t,e)),t.restoreTransform()},o.prototype._drawView=function(t,e){null!=this.__templateAnnotation&&this.__templateAnnotation._render(t,e)},o.prototype.box=function(){if(null!=this.__templateAnnotation){var t=this.__templateAnnotation.queryInterface("IBoxBounded");if(null!=t)return t.box()}return null},o.prototype.queryInterface=function(e){return"IBoxBounded"===e?t.BoxBounded._pack(this):i.prototype.queryInterface.call(this,e)},o}(t._BaseOverlayView),e._GeographyPathOverlayView=i}(t||(t={})),function(t){var e;!function(e){var i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type="Path",o.__width=null,o.__height=null,o.__path=[],o.__style=new t.options._OverlayStyleOption(null),o.__location=[],o.__offset=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offset",{get:function(){return this.__offset},set:function(t){null!=this.__offset&&this.__offset==t||(this.__offset=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.__path},set:function(t){this.__path=[],null!=t&&(this.__path=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this.__style},set:function(e){this.__style!=e&&(null==e&&(e=new t.options._OverlayStyleOption),this.__style=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"location",{get:function(){return this.__location},set:function(e){if(this.__location=[],t._JsonElementUtility._isNull(e))throw new t.RuntimeError(t.ErrorCode.FormatInvalid);if(t._JsonElementUtility._isArray(e)&&2!=e.length)throw new t.RuntimeError(t.ErrorCode.FormatInvalid);null!=e&&(this.__location=e.slice())},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"offset",null),o([t.JsonConverterAttribute(t._ArrayConverter,!0,"string")],i.prototype,"path",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],i.prototype,"height",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_OverlayStyleOption")],i.prototype,"style",null),o([t.JsonConverterAttribute(t._ArrayConverter,!0,"number")],i.prototype,"location",null),i}(t.options._OverlayOption);e._GeoPathOverlayOption=i,e._isGeoPathOverlayOption=function(e){return!!t.options._isOverlayOption(e)&&e instanceof i}}((e=t.map||(t.map={})).options||(e.options={}))}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){if(!e.prototype.canConvert.call(this,n,i,o))return!1;if(t._JsonElementUtility._hasProperty(i,"type")&&t._JsonElementUtility._hasProperty(i,"location")){var r=t._JsonElementUtility._getProperty(i,"type");if(t._JsonElementUtility._isString(r)&&"Path"===t._JsonElementUtility._getAsString(r))return!0}return!1},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.map.options._GeoPathOverlayOption,e,n):(this._processError(e),null)},i}(t._OverlayOptionConverter);t._GeoPathOverlayOptionConverter=e}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.map||(t.map={}))}(t||(t={})),function(t){var e,i;e=t.plugins||(t.plugins={}),i=function(e){function i(){var n=e.call(this)||this;return n.name="ScatterMapLightnessLegend",n.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,n.priority=1,n}return n(i,e),i.prototype._buildLegendDefinition=function(e,n,i,o,r){if(e instanceof t._DataValueMapPlotDefinition||e instanceof t._LatLongMapPlotDefinition){var l=this._legendType(n);if(null==l)return null;var a=l;if(a==t.LegendType.Lightness&&null!=n.field){var u=n,s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(u.field,e._dataSchema,u.label);if(null!=s&&t._isNumberDataFieldDefinition(s)){var _=null!=r?r.arguments:null,p=t.options._isLightnessLegendArgumentsOption(_)?_:new t.options._LightnessLegendArgumentsOption(null!=_?_.option():null);return new t._NumbericLegendEncodingDefinition(e,a,"Lightness",s,t._NativeExtension._toNonNullEnum(u.aggregate,t.Aggregate.List),null,new t._LightnessLegendDataModelBuilder(i,p))}}}return null},i.prototype.queryInterface=function(t){return"ILegendEncodingDefinitionBuilder"==t||"IPlugin"==t?this:null},i.defaultPlugin=new i,i}(t._LegendEncodingDefinitionBuilder),e.ScatterMapLightnessLegendPlugin=i}(t||(t={})),function(t){var e=function(e){function o(n,o,r,l,a){return void 0===l&&(l=null),void 0===a&&(a=null),e.call(this,n,o,r,new i,new t._MapPlotDataBuilder,null==l?new t._MapEncodingsDefinitionBuilder:l,null==a?new t._MapLegendSymbolViewBuilder:a)||this}return n(o,e),o}(t._DataValueMapPlotDefinition);t._MapPlotDefinition=e;var i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e?new t._MapPlotView(n,i,o):null},n}()}(t||(t={})),function(t){var e=function(){function e(){this.name="Map",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Map"===n.type?new t._MapPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MapPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n._adopter=new t.map.models._MapLegendAdopter,n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0),n}return n(i,e),i.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},i.prototype._createEncodingsDefinitionContext=function(){return new t._MapEncodingsDefinitionContext},i.prototype._createEncodingsDefinition=function(e){return new t._MapEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},i.prototype._createValueEncodingDefinitions=function(t,e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createValueEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},i.prototype._createValueEncodingDefinition=function(t,e,n){return null},i.prototype._createShapeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createSizeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createBackgroundColorLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createLightnessLegendEncodingDefinition=function(t,e,n){return null},i}(t._EncodingsDefinitionBuilder);t._MapEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._mapPointView=function(){return this._ownerView},i.prototype._layoutContent=function(e,n,i){var o=this._mapPointView(),r=o._getGeographyPlotView(),l=o._getShapeView();if(null!=l){var a=r._getLayoutView()._dataLabelsRectangle(),u=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,s=l._center(),_=s.clone();_.x+u.width/2>a.right&&(_.x=a.right-u.width/2),_.x-u.width/2<a.left&&(_.x=a.left+u.width/2),_.y+u.height/2>a.bottom&&(_.y=a.bottom-u.height/2),_.y-u.height/2<a.top&&(_.y=a.top+u.height/2),this._textView()._layout(e,i,new t.core.Rect(_.x-u.width/2,_.y-u.height/2,u.width,u.height)),this._startPoint=s,this._endPoint=_}},i}(t._PointDataLabelView);t._MapPointDataLabelView=e}(t||(t={})),function(t){t._isMapPlotView=function(e){return null!=e&&e instanceof t._MapPlotView}}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._attachCoordinateSystemViewPort(),o._createPointViews(),o}return n(i,e),i.prototype._mapPlotDefinition=function(){return this._definition},i.prototype._createPointView=function(e){return new t._MapPointView(this,e,null)},i.prototype._layoutContent=function(t,e,n){this._visualViews.length=0;for(var i=0,o=this._pointViews;i<o.length;i++){var r=o[i];this._visualViews.push(r),r._layout(t,null,n)}},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=0,r=this._pointViews;o<r.length;o++){var l=r[o]._hitTest(t,n,i);if(null!=l)return l}return e.prototype._hitTest.call(this,t,n,i)},i.prototype._draw=function(t,e){for(var n=0,i=this._pointViews;n<i.length;n++)i[n]._render(t,e)},i.prototype._attachCoordinateSystemViewPort=function(){var e=this._definition._plotConfigOption.option(),n=new t.map.options._MapConfigOption(null==e?null:e.map),i=new t.map.models._GeographicSource(n),o=t.map.MapViewPortBuilder.build(this,i);this._geographyCoordinateSystemView()._viewPort(o)},i}(t._DetailedMapPlotView);t._MapPlotView=e}(t||(t={})),function(t){t._isMapPointView=function(t){var e=t;return"function"==typeof e._shape&&"function"==typeof e._getShapeView&&"function"==typeof e._xss&&"function"==typeof e._yss}}(t||(t={})),function(t){var e=function(e){function o(n,i,o){var r=e.call(this,n,i,null==o?new t.map._MapPointStyleBuilder:o)||this;return r.__shapeView=null,r}return n(o,e),o.prototype._onHoverChanged=function(){var t=this._getShapeView();null!=t&&t._updateHover(this._isHover())},o.prototype._onSelectedChanged=function(){var e=this._getShapeView();if(null!=e)if(this._isSelected()){var n=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.selectedStyle);n._merge(this._getDefinition()._plotConfigOption.selectedStyle),e._setSelectionStyle(n)}else{var i=new t.models._DataPointSelectionStyleOptionModel(this._getDefinition()._dvConfigOption.unselectedStyle);i._merge(this._getDefinition()._plotConfigOption.unselectedStyle),e._setSelectionStyle(i)}},o.prototype._shape=function(){for(var e=this._xss(),n=this._yss(),i=[],o=Math.min(e.length,n.length),r=0;r<o;r++)for(var l=e[r],a=n[r],u=Math.min(l.length,a.length),s=0;s<u;s++)i.push(new t.core.Point(l[s],a[s]));return new t._PolygonShape(i)},Object.defineProperty(o.prototype,"location",{get:function(){return this._data()._location()},enumerable:!1,configurable:!0}),o.prototype._getShapeView=function(){return this.__shapeView},o.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t._MapPointDataLabelView(this,n,e):null},o.prototype._findShapeView=function(t){for(var e=this._data(),n=0,i=t._viewPort()._shapeViews();n<i.length;n++){var o=i[n];if(null!=e._location()&&e._location().identify==o.feature.name)return o}return null},o.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i);var o=this._getGeographyPlotView(),r=this._findShapeView(o._geographyCoordinateSystemView());null!=r&&(this._setLocation(r._center().clone()),this.__shapeView=r)},o.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getShapeView();if(null!=r){var l=r._hitTest(n,i,null);if(null!=l){var a=new t.HitTestResult(l.point,this,this,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(a)?a:null}}return e.prototype._hitTest.call(this,n,i,o)},o.prototype._drawView=function(t,n){e.prototype._drawView.call(this,t,n);var i=this._getShapeView();null!=i&&(i._updateColor(this.color),i._setStyle(this.style),i._setHoverStyle(this._getDefinition()._plotConfigOption.hoverStyle),this._isSelected()?i._setSelectionStyle(this.selectedStyle):i._setSelectionStyle(this.unselectedStyle),i._render(t,n))},o.prototype._xss=function(){return this._getShapeView()._xss()},o.prototype._yss=function(){return this._getShapeView()._yss()},o.prototype._selectionAdorner=function(){return new i(this)},o.prototype._createDataLabelContent=function(){var e=this._data()._plot()._mapPlotDefinition()._getEncodingsDefinition()._textEncodingDefinitions,n=null;if(e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e)),null==n||""==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t._MapTextProxy(this,this._data(),e),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,u=i.evaluate(o,r,l,a),s=this._toLines(u);return null!=s&&s.length>0?new t.models._DataLabelContent(s,this):null},o.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},o.prototype._defaultDataLabelTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("; ")},o.prototype._createTooltipHtmlContent=function(e){var n=this._data()._plot()._mapPlotDefinition()._getEncodingsDefinition()._tooltipEncodingDefinitions,i=null;n&&n.length>0&&null==(i=this._customTooltipTemplate(e))&&(i=this._defaultTooltipTemplate(n));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t._MapTextProxy(this,this._data(),n),a=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,s=o.evaluate(r,l,a,u);return this._toHtml(s)},o.prototype._customTooltipTemplate=function(t){return null!=t&&"DataPoint"==t.scope&&null!=t.template&&t.template.length>0?t.template:null},o.prototype._defaultTooltipTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},o.prototype._getMapPlotView=function(){return this._ownerView},o}(t._BaseGeographyPointView);t._MapPointView=e;var i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._createPoints=function(e){for(var n,i,o,r,l,a,u,s,_=e._xss(),p=e._yss(),c=Math.min(_.length,p.length),h=0;h<c;++h)for(var f=_[h],d=p[h],y=0;y<f.length;++y)(null==n||n>f[y])&&(n=f[y],l=d[y]),(null==i||i<f[y])&&(i=f[y],a=d[y]),(null==o||o>d[y])&&(o=d[y],u=f[y]),(null==r||r<d[y])&&(r=d[y],s=f[y]);var g=[];return g.push(new t.core.Point(n,l)),g.push(new t.core.Point(i,a)),g.push(new t.core.Point(u,o)),g.push(new t.core.Point(s,r)),g},i}(t._PointAdorner)}(t||(t={})),function(t){var e=function(){function e(){this.name="MapProjection",this.type=t._BuildInMapProjectionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildMapProjection=function(e){return e.projection===t.map.ProjectionType.Mercator?t.map.models.MercatorMapProjection.from():null},e.prototype.queryInterface=function(t){return"IMapProjectionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._MercatorMapProjectionPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n._adopter=new t.map.models._MapLegendAdopter,n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0),n}return n(i,e),i.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},i.prototype._createEncodingsDefinitionContext=function(){return new t._MapEncodingsDefinitionContext},i.prototype._createEncodingsDefinition=function(e){return new t._MapEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},i.prototype._createValueEncodingDefinitions=function(t,e,n){var i=[];if(null!=e&&e.length>0){var o=this._createValueEncodingDefinition(t,e[0],n);null!=o&&i.push(o)}return i},i.prototype._createValueEncodingDefinition=function(e,n,i){return new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n)},i}(t._EncodingsDefinitionBuilder);t._ScatterMapEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function o(n,o,r,l){return void 0===l&&(l=null),e.call(this,n,o,r,new i,new t._ScatterMapPlotDataBuilder,null==l?new t._ScatterMapEncodingsDefinitionBuilder:l)||this}return n(o,e),o}(t._DataValueMapPlotDefinition);t._ScatterMapPlotDefinition=e;var i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e?new t._ScatterMapPlotView(n,i,o):null},n}()}(t||(t={})),function(t){var e=function(){function e(){this.name="Scatter",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildPlotDefinition=function(e,n,i){if("Scatter"===n.type)for(var o=0,r=i._coordinateSystemDefinitions;o<r.length;o++)if(r[o]._type==t._GeographyCoordinateSystemDefinition._type)return new t._ScatterMapPlotDefinition(e,e._findDataSchema(n.data),n);return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterMapPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._createPointViews(),o}return n(i,e),i.prototype._createPointView=function(e){return new t._ScatterMapPointView(this,e,null)},i.prototype._layoutContent=function(t,n,i){this._visualViews.length=0;for(var o=0,r=this._pointViews;o<r.length;o++){var l=r[o];this._visualViews.push(l),l._layout(t,null,i)}e.prototype._layoutContent.call(this,t,n,i)},i.prototype._drawView=function(n,i){null!=this._definition._dvConfigOption.selectionMode&&this._definition._dvConfigOption.selectionMode!=t.SelectionMode.None&&t._Util.sort(this._visualViews,(function(e,n){if(e==n)return!1;if(t._isSelectingView(e))return e._isSelected();throw new t.RuntimeError(t.ErrorCode.Unknown)})),e.prototype._drawView.call(this,n,i)},i.prototype._draw=function(t,e){for(var n=0;n<this._visualViews.length;++n)this._visualViews[n]._render(t,e)},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=this._visualViews.length-1;o>=0;--o){var r=this._visualViews[o]._hitTest(t,n,i);if(null!=r)return r}return e.prototype._hitTest.call(this,t,n,i)},i}(t._DetailedMapPlotView);t._ScatterMapPlotView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i,o){return e.call(this,n,i,null==o?new t._PointStyleBuilder(!0):o)||this}return n(i,e),Object.defineProperty(i.prototype,"location",{get:function(){return this._data()._location()},enumerable:!1,configurable:!0}),i.prototype._updateLocation=function(t){for(var e=this._data(),n=0,i=t._viewPort()._shapeViews();n<i.length;n++){var o=i[n];if(null!=e._location()&&e._location().identify==o.feature.name){this._setLocation(o._center().clone());break}}},i.prototype._layoutContent=function(t,n,i){var o=this._ownerView;this._updateLocation(o._geographyCoordinateSystemView()),e.prototype._layoutContent.call(this,t,n,i)},i.prototype._createDataLabelContent=function(){var e=this._data()._plot()._mapPlotDefinition()._getEncodingsDefinition()._textEncodingDefinitions,n=null;if(e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e)),null==n||""==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.map.models._ScatterDetailedMapTextProxy(this,this._data(),e),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,u=i.evaluate(o,r,l,a),s=this._toLines(u);return null!=s&&s.length>0?new t.models._DataLabelContent(s,this):null},i.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},i.prototype._createTooltipHtmlContent=function(e){var n=this._data()._plot()._mapPlotDefinition()._getEncodingsDefinition()._tooltipEncodingDefinitions,i=null;n&&n.length>0&&null==(i=this._customTooltipTemplate(e))&&(i=this._defaultTooltipTemplate(n));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t.map.models._ScatterDetailedMapTextProxy(this,this._data(),n),a=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,s=o.evaluate(r,l,a,u);return this._toHtml(s)},i}(t._BaseSymbolGeographyPointView);t._ScatterMapPointView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function o(n,o,r,l){void 0===l&&(l=null);var a=e.call(this,n,o,r,new i,new t._LatLongMapPlotDataBuilder,null==l?new t._LatLongMapEncodingsDefinitionBuilder:l)||this;return null!=r.encodings&&a._buildEncodings(),a}return n(o,e),o.prototype._valueDefinition=function(){return this.__valueDefinition},o.prototype._buildEncodings=function(){if(this._encodingsDefinition._valueEncodingDefinitions.length>0){var e=this._encodingsDefinition._valueEncodingDefinitions[0];t._isLatLongMapValueEncodingDefinition(e)&&(this.__valueDefinition=e)}},o}(t._BaseGeographyPlotDefinition);t._LatLongMapPlotDefinition=e;var i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return i instanceof e?new t._LatLongMapPlotView(n,i,o):null},n}()}(t||(t={})),function(t){var e=function(){function e(){this.name="Scatter",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildPlotDefinition=function(e,n,i){if("Scatter"===n.type)for(var o=0,r=i._coordinateSystemDefinitions;o<r.length;o++)if(r[o]._type==t._GeographyCoordinateSystemDefinition._type){var l=new t._LatLongMapPlotDefinition(e,e._findDataSchema(n.data),n);if(null!=l._valueDefinition())return l}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LatLongMapPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n._adopter=new t.map.models._MapLegendAdopter,n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0),n}return n(i,e),i.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},i.prototype._createEncodingsDefinitionContext=function(){return new t._MapEncodingsDefinitionContext},i.prototype._createEncodingsDefinition=function(e){return new t._MapEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},i.prototype._createValueEncodingDefinition=function(e,n,i){return new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,n)},i.prototype._createValueEncodingDefinitions=function(e,n,i){var o=[];if(null!=n&&n.length>0){var r=t._LatLongMapValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n[0]);null!=r&&o.push(r)}return o},i}(t._EncodingsDefinitionBuilder);t._LatLongMapEncodingsDefinitionBuilder=e}(t||(t={})),function(t){t._isLatLongMapValueEncodingDefinition=function(t){var e=t;return null!=e&&void 0!==e._longitudeDefinition&&void 0!==e._latitudeDefinition}}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,null)||this;return r._longitudeDefinition=i,r._latitudeDefinition=o,r}return n(i,e),i.prototype._getIdentifier=function(){return this._latitudeDefinition._dataField._name},i.prototype._getLabel=function(){return this._latitudeDefinition._label},i.prototype.equalsWith=function(n){if(this==n)return!0;if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isLatLongMapValueEncodingDefinition(n)){var i=n;if(null!=i)return this._longitudeDefinition.equalsWith(i._longitudeDefinition)&&this._latitudeDefinition.equalsWith(i._latitudeDefinition)}return!1},i}(t._ValueEncodingDefinition);t._LatLongMapValueEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildValueEncodingDefinition=function(e,n){if(null!=n&&"IFieldsValueEncodingOption"==n.type){var i=n,o=i.field;if(null==o)return null;if("string"==typeof o){var r=t._EscapedCharacterStringUtility._split(o,","),l=null!=i.label?i.label.split(","):[];if(r.length>1){var a=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(r[0],e._dataSchema,l.length>0?l[0]:null),u=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(r[1],e._dataSchema,l.length>1?l[1]:null);if(null!=a&&t._isNumberDataFieldDefinition(a)&&null!=u&&t._isNumberDataFieldDefinition(u))return new t._LatLongMapValueEncodingDefinition(e,!0,a,u)}}}return null},e._valueEncodingDefinitionBuilder=new e,e}();t._LatLongMapValueEncodingDefinitionBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._createPointViews(),o}return n(i,e),i.prototype._createPointView=function(e){return new t._LatLongMapPointView(this,e,null)},i.prototype._layoutContent=function(t,n,i){this._visualViews.length=0;for(var o=0,r=this._pointViews;o<r.length;o++){var l=r[o];this._visualViews.push(l),l._layout(t,null,i)}e.prototype._layoutContent.call(this,t,n,i)},i.prototype._draw=function(e,n){null!=this._definition._dvConfigOption.selectionMode&&this._definition._dvConfigOption.selectionMode!=t.SelectionMode.None&&t._Util.sort(this._visualViews,(function(e,n){if(e==n)return!1;if(t._isSelectingView(e))return e._isSelected();throw new t.RuntimeError(t.ErrorCode.Unknown)}));for(var i=0;i<this._visualViews.length;++i)this._visualViews[i]._render(e,n)},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=this._visualViews.length-1;o>=0;--o){var r=this._visualViews[o]._hitTest(t,n,i);if(null!=r)return r}return e.prototype._hitTest.call(this,t,n,i)},i}(t._BaseGeographyPlotView);t._LatLongMapPlotView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i,o){return e.call(this,n,i,null==o?new t._PointStyleBuilder(!0):o)||this}return n(i,e),i.prototype._latLongMapPointDataModel=function(){return this._data()},i.prototype._layoutContent=function(t,n,i){this._updateLocation(this._data()),e.prototype._layoutContent.call(this,t,n,i)},i.prototype._updateLocation=function(t){var e=this._ownerView._geographyCoordinateSystemView()._scale(t._getLongitude(),t._getLatitude());e&&this._setLocation(e)},i.prototype._createDataLabelContent=function(){var e=this._latLongMapPointDataModel()._plot()._mapPlotDefinition()._getEncodingsDefinition()._textEncodingDefinitions,n=null;if(e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e)),null==n||""==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t.map.models._LatLongMapTextProxy(this,this._latLongMapPointDataModel(),e),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,u=i.evaluate(o,r,l,a),s=this._toLines(u);return null!=s&&s.length>0?new t.models._DataLabelContent(s,this):null},i.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},i.prototype._createTooltipHtmlContent=function(e){var n=this._data()._plot()._mapPlotDefinition()._getEncodingsDefinition()._tooltipEncodingDefinitions,i=null;n&&n.length>0&&null==(i=this._customTooltipTemplate(e))&&(i=this._defaultTooltipTemplate(n));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t.map.models._LatLongMapTextProxy(this,this._data(),n),a=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,s=o.evaluate(r,l,a,u);return this._toHtml(s)},i}(t._BaseSymbolGeographyPointView);t._LatLongMapPointView=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="ScatterMapTrapezoidLegendView",this.type=t._BuildInLegendViewBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendView=function(e,n){return n._getAvailable()&&t._LegendUtility._isType(n,t.LegendType.Size)&&t._isItemizedLegendDataModel(n)&&n._items().length>0&&(n._getDefinition()._plotDefinition instanceof t._ScatterMapPlotDefinition||n._getDefinition()._plotDefinition instanceof t._LatLongMapPlotDefinition)?new t._TrapezoidLegendView(e,n):null},e.prototype.queryInterface=function(t){return"ILegendViewBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.ScatterMapTrapezoidLegendViewPlugin=n}(t||(t={})),function(t){var e,n,i;e=t.graph||(t.graph={}),n=e.models||(e.models={}),i=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isGraphPlotDefinition(i)?new e._GraphPlotView(n,i,o):null},n}(),n._GraphPlotViewBuilder=i}(t||(t={})),function(t){var e=function(e){function i(n,o,r){return e.call(this,n,i._type,o,r,t._GraphCoordinateSystemViewBuilder._viewBuilder)||this}return n(i,e),i._type="Graph",i}(t._BaseCoordinateSystemDefinition);t._GraphCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__viewports=[],i}return n(i,e),i.prototype.rectangle=function(){return this._rectangle().clone()},i.prototype.matrix=function(){return this._getMatrixOfSpace01(null).values.slice()},i.prototype._getMatrixOfSpace01=function(t){for(var e,n=0,i=this.__viewports;n<i.length;n++){var o=i[n];if(o._spaceName()==t){e=o;break}}if(null==e)return null;var r=e._spaces()[0]._matrix();if(null==r)return null;if(null!=this._transform){var l=this._transform.clone();return l.transform(r),l}return r},i.prototype._addSpace=function(e){if(null!=e&&!e._isEmpty()){for(var n=0,i=this.__viewports;n<i.length;n++)if(i[n]._addSpace(e))return;var o=new t.graph._GraphViewPort(this,e._name);o._addSpace(e),this.__viewports.push(o)}},i.prototype._setViewPortOfSpace=function(e,n,i,o,r){var l;t._AnyTypeExtension._toNumber(e),t._AnyTypeExtension._toNumber(n),t._AnyTypeExtension._toNumber(i),t._AnyTypeExtension._toNumber(o);for(var a=0,u=this.__viewports;a<u.length;a++){var s=u[a];if(s._spaceName()==r){l=s;break}}null!=l&&(l.customizedXExtent=[e,e+i],l.customizedYExtent=[n,n+o])},i.prototype._layoutContent=function(t,n,i){this._updateRectangle(n);for(var o=0,r=this.__viewports;o<r.length;o++)r[o]._refresh();e.prototype._layoutContent.call(this,t,n,i)},i.prototype._createPlotListView=function(){return new t._PlotListView(this)},i.prototype.queryInterface=function(t){return"IGraphCoordinateSystem"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._ZoomableCoordinateSystemView);t._GraphCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._GraphCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._GraphCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(t,e){this.__spaces=[],this.__coordinateSystemView=t,this.__spaceName=e}return e.prototype._spaces=function(){return this.__spaces},e.prototype._addSpace=function(t){return t._name==this.__spaceName&&(this.__spaces.push(t),!0)},e.prototype._cotentRectange=function(){return this.__contentRectange},e.prototype._spaceName=function(){return this.__spaceName},e.prototype._refresh=function(){var t=this.customizedXExtent;if(null==t){t=[Number.MAX_VALUE,-Number.MAX_VALUE];for(var e=0,n=this.__spaces;e<n.length;e++){var i=n[e];t[0]=Math.min(t[0],i._xExtent[0]),t[1]=Math.max(t[1],i._xExtent[1])}}var o=this.customizedYExtent;if(null==o){o=[Number.MAX_VALUE,-Number.MAX_VALUE];for(var r=0,l=this.__spaces;r<l.length;r++)i=l[r],o[0]=Math.min(o[0],i._yExtent[0]),o[1]=Math.max(o[1],i._yExtent[1])}this._refreshSpaceBy(t,o)},e.prototype._refreshSpaceBy=function(e,n){var i=this.__coordinateSystemView._rectangle(),o=i.width/(e[1]-e[0]),r=i.height/(n[1]-n[0]),l=Math.min(o,r),a=[(e[1]+e[0])/2,(n[1]+n[0])/2],u=i.center,s=new t.Matrix;s.translate(u.x-a[0],u.y-a[1]),t._MatrixUtility._scaleAt(s,l,l,new t.core.Point(a[0],a[1]));for(var _=0,p=this.__spaces;_<p.length;_++)p[_]._transform(s);var c=(e[1]-e[0])*l,h=(n[1]-n[0])*l;this.__contentRectange=new t.core.Rect(u.x-c/2,u.y-h/2,c,h)},e}(),e._GraphViewPort=n}(t||(t={})),function(t){!function(t){t._isGraphCoordinateSystem=function(t){return null!=t&&"function"==typeof t.matrix}}(t.graph||(t.graph={}))}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;i.__points=[];var o=i._graphPlotDefinition()._detailDefinition();return null!=o&&(i.__points=i._createPoints(i._dataSlices,o)),i}return n(i,e),i.prototype._points=function(){return this.__points},i.prototype._graphPlotDefinition=function(){return this._definition()},i.prototype._createPoints=function(e,n){var i=this,o=[];if(null!=n){var r=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),l=[];l.push(new t.QueryGroupByOption(new t._GroupingDefinition(n._dataFieldDefinition,n._sortDefinition)));var a=r.groupBy(l).query().groups;t._TreeNodeUtility._traverseDFS(a,(function(e,r){var l=i._createPoint(e._dataSlices,new t._DetailValue(n,e.key));o.push(l)}))}return o},i.prototype._createPoint=function(e,n){return new t._GraphPointDataModel(this,n,e)},i}(t._PlotDataModel);t._GraphPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,i)||this;return o.__plot=e,o.__detailValue=n,o}return n(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return this.__detailValue._key()},enumerable:!1,configurable:!0}),e.prototype._identification=function(){return this.__detailValue._key()},e.prototype._detailValue=function(){return this.__detailValue},e.prototype._plot=function(){return this.__plot},e}(t._PointDataModel);t._GraphPointDataModel=e}(t||(t={})),t||(t={}),function(t){t._isGraphPointDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._detailValue&&"function"==typeof e._plot&&"function"==typeof e._identification}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u,s){var _=t.call(this,null,i,o,r,l,a,u,s)||this;return _._detailEncodingDefinitions=e,_._valueEncodingDefinitions=n,_}return n(e,t),e}(t._EncodingsDefinition);t._GraphEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n._adopter=new t.graph.models._GraphLegendAdopter,n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!0),n}return n(i,e),i.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},i.prototype._createEncodingsDefinitionContext=function(){return new t._GraphEncodingsDefinitionContext},i.prototype._createEncodingsDefinition=function(e){return new t._GraphEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},i.prototype._createValueEncodingDefinitions=function(t,e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createValueEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},i.prototype._createValueEncodingDefinition=function(t,e,n){return null},i.prototype._createShapeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createSizeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createBackgroundColorLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createLightnessLegendEncodingDefinition=function(t,e,n){return null},i}(t._EncodingsDefinitionBuilder);t._GraphEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return n(e,t),e}(t._EncodingsDefinitionContext);t._GraphEncodingsDefinitionContext=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function n(){}return n._build=function(i){if(null!=i){if("path"==i.type){var o=i,r=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(o.value);return new e._GraphPathShape(r)}if("ellipse"==i.type){var l=i,a=l.rx,u=l.ry;if(!t._AnyTypeExtension._isNumber(a)||a<=0||!t._AnyTypeExtension._isNumber(u)||u<=0)return null;var s=l.center;return null==s&&(s=[0,0]),n._isPoint(s,!1)?new e._GraphEllipseShape(s[0],s[1],a,u):null}if("rect"==i.type){var _=i,p=_.width,c=_.height;if(!t._AnyTypeExtension._isNumber(p)||p<=0||!t._AnyTypeExtension._isNumber(c)||c<=0)return null;var h=_.position;return null==h&&(h=[0,0]),n._isPoint(h,!1)?new e._GraphRectangleShape(h[0],h[1],p,c):null}}return null},n._isPoint=function(e,n){return void 0===n&&(n=!1),!(!n&&null==e||Array.isArray(e)&&2!=e.length||!t._AnyTypeExtension._isNumber(e[0])||!t._AnyTypeExtension._isNumber(e[1]))},n}(),e._GraphShapeBuilder=n}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function n(t){this._json=t,this._shapes=this._createShapes(t.shapes)}return n.prototype._customStyle=function(){return this.__customStyle},n.prototype._applyCustomStyle=function(t){this.__customStyle=t},n.prototype._identification=function(){return null==this._json.properties?null:this._json.properties.name},n.prototype._center=function(){var e=null;if(null!=this._json.properties){var n=this._json.properties.center;if(null!=n){if(!Array.isArray(n))throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,n);if(!n.every((function(t){return"number"==typeof t})))throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,n);var i=n[0],o=n[1];if(null==i||null==o)throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,n);e=new t.core.Point(i,o)}}if(null==e){var r=this._xExtent(),l=this._yExtent();e=new t.core.Point((r[1]+r[0])/2,(l[1]+l[0])/2)}return isNaN(e.x)||isNaN(e.y)?null:e},n.prototype._xExtent=function(){for(var t=[Number.MAX_VALUE,-Number.MAX_VALUE],e=0,n=this._shapes.map((function(t){return t._bbox}));e<n.length;e++){var i=n[e];t[0]=Math.min(t[0],i.left),t[1]=Math.max(t[1],i.right)}return t},n.prototype._yExtent=function(){for(var t=[Number.MAX_VALUE,-Number.MAX_VALUE],e=0,n=this._shapes.map((function(t){return t._bbox}));e<n.length;e++){var i=n[e];t[0]=Math.min(t[0],i.top),t[1]=Math.max(t[1],i.bottom)}return t},n.prototype._isEmpty=function(){return null==this._shapes||0==this._shapes.length},n.prototype._createShapes=function(t){if(null==t)return null;for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i],l=e._GraphShapeBuilder._build(r);null!=l&&null!=l._bbox&&n.push(l)}return n},n.prototype._renderShapes=function(t){for(var e=0,n=this._shapes;e<n.length;e++)n[e]._draw(t)},n.prototype._draw=function(e){var n=this;this._isEmpty()||(e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._customStyle()),null!=this._matrix?e.drawGroup(null,null,this._matrix,(function(t){n._renderShapes(t)})):this._renderShapes(e),e.restoreTransform())},n.prototype._contain=function(t,e){if(this._isEmpty())return!1;for(var n=0,i=this._shapes;n<i.length;n++)if(i[n]._contain(t,e))return!0;return!1},n}(),e._GraphElement=n}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(e,n,i,o){this.__center=[e,n],this.__rx=i,this.__ry=o,this._bbox=new t.core.Rect(e-i,n-o,2*i,2*o)}return e.prototype._contain=function(t,e){var n=this._bbox;return!(t<n.left||t>n.right||e<n.top||e>n.bottom)&&Math.pow(t-this.__center[0],2)/(this.__rx*this.__rx)+Math.pow(e-this.__center[1],2)/(this.__ry*this.__ry)<=1},e.prototype._draw=function(t){t.drawEllipse(this.__center[0],this.__center[1],this.__rx,this.__ry,null)},e}(),e._GraphEllipseShape=n}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(e){this.__path=e,this._bbox=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(e)}return e.prototype._contain=function(e,n){var i=this._bbox;return!(e<i.left||e>i.right||n<i.top||n>i.bottom||!(new t._PathUtil).contain(this.__path,e,n))},e.prototype._draw=function(e){null!=this.__path&&e.drawPath(this.__path,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)},e}(),e._GraphPathShape=n}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(e,n,i,o){this.__pos=[e,n],this.__width=i,this.__height=o,this._bbox=new t.core.Rect(e,n,i,o)}return e.prototype._contain=function(t,e){var n=this._bbox;return!(t<n.left||t>n.right||e<n.top||e>n.bottom)},e.prototype._draw=function(e){var n=[],i=t._PathCommandBuilder._defaultPathCommandBuilder;n.push(i._buildMoveToPathCommand(this.__pos[0],this.__pos[1])),n.push(i._buildLineToPathCommand(this.__pos[0]+this.__width,this.__pos[1])),n.push(i._buildLineToPathCommand(this.__pos[0]+this.__width,this.__pos[1]+this.__height)),n.push(i._buildLineToPathCommand(this.__pos[0],this.__pos[1]+this.__height)),n.push(i._buildClosePathCommand());var o=t._PathBuilder._defaultPathBuilder._buildPath(n);e.drawPath(o,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter)},e}(),e._GraphRectangleShape=n}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(){}return e.prototype._defaultStyle=function(){return null},e.prototype._customStyle=function(){return this.__customStyle},e.prototype._applyCustomStyle=function(t){this.__customStyle=t,this.__style=null},e.prototype.IStyle=function(){if(null==this.__style){var e=this._defaultStyle()?this._defaultStyle():t._StyleUtility._buildStyle();t._StyleUtility._applyAllStyle(e,this._customStyle()),this.__style=e}return this.__style},e}(),e._GraphShape=n}(t||(t={})),function(t){var e,n;e=t.graph||(t.graph={}),n=function(){function e(t){this._xExtent=[Number.MAX_VALUE,-Number.MAX_VALUE],this._yExtent=[Number.MAX_VALUE,-Number.MAX_VALUE],this.__elements=[],this._name=t}return e.prototype._updateExtent=function(t){var e=t._xExtent(),n=t._yExtent();this._xExtent[0]=Math.min(this._xExtent[0],e[0]),this._xExtent[1]=Math.max(this._xExtent[1],e[1]),this._yExtent[0]=Math.min(this._yExtent[0],n[0]),this._yExtent[1]=Math.max(this._yExtent[1],n[1])},e.prototype._isEmpty=function(){return 0==this.__elements.length},e.prototype._addElement=function(t){null!=t&&(this._updateExtent(t),this.__elements.push(t),t._space=this)},e.prototype._elements=function(){return this.__elements},e.prototype._transform=function(t){null!=t&&(this.__matrix=t,this.__inv=t.invert())},e.prototype._matrix=function(){return this.__matrix},e.prototype._invert=function(e,n,i){null!=this.__matrix&&t._MatrixUtility._transformCoordinatePoint(this.__inv,e,n,i)},e}(),e._GraphSpace=n}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){void 0===r&&(r=null);var l=e.call(this,n,i,o,new t.graph.models._GraphPlotViewBuilder,new t._GraphPlotDataBuilder,null==r?new t._GraphEncodingsDefinitionBuilder:r,new t._GraphLegendSymbolViewBuilder)||this;return null!=o.encodings&&l._buildEncodings(),l}return n(i,e),i.prototype._getCoordinateSystemType=function(){return"Graph"},i.prototype._detailDefinition=function(){return this.__detailDefinition},i.prototype._defaultShapeStyle=function(){return null==this.__defaultShapeStyle&&(this.__defaultShapeStyle=t._StyleUtility._buildStyle(null,"none",null,"#000000",1,null,!1)),this.__defaultShapeStyle},i.prototype._createEmptyEncodingsDefinition=function(){return new t._GraphEncodingsDefinition([],[],null,null,null,null,null,[],[])},i.prototype._buildEncodings=function(){if(this._encodingsDefinition._detailEncodingDefinitions.length>0){var e=this._encodingsDefinition._detailEncodingDefinitions[0];t._isSingleDataFieldDetailEncodingDefinition(e)&&(this.__detailDefinition=e)}},i.prototype._getDataModelType=function(){return"Graph"},i}(t._BasePlotDefinition);t._GraphPlotDefinition=e}(t||(t={})),function(t){var e,i;e=t.graph||(t.graph={}),i=function(i){function o(t,e,n){var o=i.call(this,t,e,n)||this;return o._children=[],o._pointViews=[],o._attachCoordinateSystemViewPort(),o._createPointViews(),o}return n(o,i),o.prototype._createPointViews=function(){for(var t=0,e=this._dataModel._points();t<e.length;t++){var n=e[t],i=this._createPointView(n);null!=i&&this._pointViews.push(i)}},o.prototype._actionConditionalFormat=function(){(new e.models._GraphConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},o.prototype._graphCoordinateSystemView=function(){return this._getLayoutView()._coordinateSystemView(this._definition.coordinateSystemDefinition)},o.prototype._graphPointViews=function(){return this._pointViews},o.prototype._space=function(){return this.__space},o.prototype._createPointView=function(e){return new t._GraphPointView(this,e,null)},o.prototype._layoutContent=function(t,e,n){i.prototype._layoutContent.call(this,t,e,n),this._children=[];for(var o=0,r=this._pointViews;o<r.length;o++){var l=r[o];this._children.push(l),l._layout(t,null,n)}},o.prototype._hitTest=function(e,n,o){if(this._zLevel!=n)return null;if(null!=this._space()){var r=[e.x,e.y];if(this._space()._invert(r[0],r[1],r),r[0]>=this._space()._xExtent[0]&&r[0]<this._space()._xExtent[1]&&r[1]>=this._space()._yExtent[0]&&r[1]<this._space()._yExtent[1])for(var l=this.__space._elements(),a=l.length-1;a>=0;--a){var u=l[a];if(u._contain(r[0],r[1])){var s=this._findPointView(u);if(null!=s){var _=new t.HitTestResult(e,s,this,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(_)?_:null}}}}for(var p=0,c=this._children;p<c.length;p++)if(null!=(_=c[p]._hitTest(e,n,o)))return _;return i.prototype._hitTest.call(this,e,n,o)},o.prototype._findPointView=function(t){for(var e=0,n=this._graphPointViews();e<n.length;e++){var i=n[e];if(t==i._element())return i}return null},o.prototype._draw=function(e,n){var i=this;if(!n._renderLabel&&null!=this.__space){for(var o=this._getShapeStyle(),r=0,l=this.__space._elements();r<l.length;r++)l[r]._applyCustomStyle(o);for(var a=0,u=this._graphPointViews();a<u.length;a++)u[a]._beforeRender(e,n);e.drawGroup(null,null,this.__space._matrix(),(function(o){try{null!=i.__backgroundImage&&e.drawImage(i.__backgroundImage,0,0,i.__backgroundImage.width,i.__backgroundImage.height);for(var r=0,l=i.__space._elements();r<l.length;r++){var a=l[r],u=i._findPointView(a);null!=u?u._render(o,n):a._draw(o)}}catch(e){throw new t.OptionError(t.ErrorCode.WrongGraphJson)}}));for(var s=0,_=this._graphPointViews();s<_.length;s++)_[s]._afterRender(e,n)}},o.prototype._defaultShapeStyle=function(){return this._definition._defaultShapeStyle()},o.prototype._getShapeStyle=function(){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._defaultShapeStyle());return t._OptionUtility._applyStyleOption(e,this._definition._dvConfigOption.style),t._OptionUtility._applyDataPointStyleOption(e,this._definition._plotConfigOption.style),e},o.prototype.queryInterface=function(t){return"IGraphCoordinateSystem"==t?this._graphCoordinateSystemView():i.prototype.queryInterface.call(this,t)},o.prototype._attachCoordinateSystemViewPort=function(){var n=new e.options._GraphConfigOption(this._definition._plotConfigOption.option()),i=null;try{i=this._createGraphSpace(n.graphJson)}catch(e){throw new t.OptionError(t.ErrorCode.WrongGraphJson,n.graphJson)}if(null!=i){this.__space=i,this._graphCoordinateSystemView()._addSpace(this.__space);var o=n.viewport;null!=o&&this._graphCoordinateSystemView()._setViewPortOfSpace(o[0],o[1],o[2],o[3],this.__space._name),this.__backgroundImage=this._createBackgroundImage(this)}},o.prototype._createGraphSpace=function(t){var n=new e._GraphSpace(t.spaceName);if(!Array.isArray(t.elements))throw new Error("graphJson.elements is not iterable");for(var i=0,o=t.elements;i<o.length;i++){var r=o[i];if(null!=r.shapes&&!Array.isArray(r.shapes))throw new Error("graphJson.shapes is not iterable");var l=new e._GraphElement(r);l._isEmpty()||n._addElement(l)}return n._isEmpty()?null:n},o.prototype._createBackgroundImage=function(e){var n=t._BuildInBackgroundImagePolicyBuilderCollection._buildInBackgroundImagePolicyBuilders()._backgroundImagePolicy(e,e._getDefinition()._plotConfigOption.plugins,e._getDefinition()._pluginCollection);return null!=n?n._buildBackgroundImage(this,e._getDefinition()._imageProvider):null},o.prototype._getPointViews=function(){return this._pointViews},o.prototype._hasSelectedPointView=function(){for(var t=0,e=this._pointViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},o}(t._BasePlotView),e._GraphPlotView=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isGraphPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._calculateColor=function(t){return t.color},i}(t._PointColorBuilder);t._GraphPointColorBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.call(this,n,null==i?new t._GraphPointColorBuilder:i)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isGraphPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._buildDefaultStyle=function(){return t._StyleUtility._buildStyle(null,"none",null,"#000000",1,null,!1)},i.prototype._applyColor=function(t,e,n){t.fill=e},i}(t._PointStyleBuilder);t._GraphPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,null==o?new t._GraphPointStyleBuilder:o)||this;return r.__element=r._findElementBy(n._space(),i._identification()),r}return n(i,e),i.prototype._createIdentityContent=function(){var e=this._data()._identification(),n=t._Util.HashCode(null!=e?e.toString():"null");return t._Util.HashCode(n)},i.prototype._element=function(){return this.__element},i.prototype._center=function(){return this.__center},Object.defineProperty(i.prototype,"text",{get:function(){return null==this.__textOption&&(this.__textOption=this._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(this._getPlotView()._dataPointDataLabelOption())),this.__textOption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!1,configurable:!0}),i.prototype._createDataLabelView=function(e){var n=this._dataLabel();return null!=n?new t.graph._GraphDataLabelView(this,n,e):null},i.prototype._createDataLabelContent=function(){var e,n=this._data()._plot()._graphPlotDefinition()._encodingsDefinition._textEncodingDefinitions;if(n&&n.length>0&&null==(e=this._customDataLabelTemplate())&&(e=this._defaultDataLabelTemplate(n)),null==e||""==e)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(e),r=new t.graph.models._GraphTextProxy(this,this._data(),n),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,u=i.evaluate(o,r,l,a),s=this._toLines(u);return null!=s&&s.length>0?new t.models._DataLabelContent(s,this):null},i.prototype._customDataLabelTemplate=function(){var t=this.text;return null!=t&&null!=t.template?t.template:null},i.prototype._defaultDataLabelTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!1)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("; ")},i.prototype._createTooltipHtmlContent=function(e){var n,i=this._data()._plot()._graphPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions;i&&i.length>0&&null==(n=this._customTooltipTemplate(e))&&(n=this._defaultTooltipTemplate(i));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(n),l=new t.graph.models._GraphTextProxy(this,this._data(),i),a=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,s=o.evaluate(r,l,a,u);return this._toHtml(s)},i.prototype._customTooltipTemplate=function(t){return null!=t&&"DataPoint"==t.scope&&null!=t.template&&t.template.length>0?t.template:null},i.prototype._defaultTooltipTemplate=function(e){for(var n=[],i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),null!=this.__element&&(this.__center=this.__element._center(),this._scale=1)},i.prototype._beforeRender=function(e,n){if(null!=this.__element)if(1!=this._scale){var i=new t.Matrix,o=this._element()._center();t._MatrixUtility._scaleAt(i,this._scale,this._scale,o),this._element()._matrix=i}else this._element()._matrix=null},i.prototype._drawView=function(t,n){e.prototype._drawView.call(this,t,n),this._applyStyleToElement(n),this._element()._draw(t)},i.prototype._afterRender=function(t,e){},Object.defineProperty(i.prototype,"parent",{get:function(){return this._getPlotView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"identification",{get:function(){return this._data()._identification()},enumerable:!1,configurable:!0}),i.prototype._graphPlotView=function(){return this._getPlotView()},i.prototype._applyStyleToElement=function(t){if(null!=this.__element){var e=this._calculateStyle(t);this._applyDataPointExternalStyle(e),this.__element._applyCustomStyle(e)}},i.prototype._findElementBy=function(e,n){if(null==e)return null;for(var i=0,o=e._elements();i<o.length;i++){var r=o[i];if(t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer._equalsWith(r._identification(),n))return r}return null},i.prototype._shape=function(){return new t._RectangleShape(this._rectangle().center.x,this._rectangle().center.y,this._rectangle().width,this._rectangle().height,0)},i.prototype._getPlotView=function(){return this._ownerView},i.prototype._isVisible=function(){var t=this;return null!=this.__element&&!!this._graphPlotView()._space()._elements().some((function(e){return e==t.__element}))&&e.prototype._isVisible.call(this)},i}(t._BasePointView);t._GraphPointView=e}(t||(t={})),function(t){t._isGraphPlotDefinition=function(t){var e=t;return null!=e&&void 0!==e._encodingsDefinition&&"function"==typeof e._defaultShapeStyle&&"function"==typeof e._detailDefinition}}(t||(t={})),function(t){t._isGraphPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){t._isGraphPointView=function(t){var e=t;return"function"==typeof e._element&&"function"==typeof e._center&&"function"==typeof e._graphPlotView}}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(){}return e.prototype._apply=function(t,e){for(var n=0,i=e._findRelatedPlotViews(t);n<i.length;n++){var o=i[n];this._useForPlot(e,o)}},e.prototype._useForPlot=function(e,n){t._isDataPointItemizedLegendDataModel(e)?this._useItemizedPointLegend(n,e):t._isLinearLegendDataModel(e)&&this._useLinearColorPointLegend(n,e)},e.prototype._useLinearColorPointLegend=function(e,n){t._LegendUtility._isType(n,t.LegendType.Color)&&e._traversePointView((function(t,e){t._updateLegendColor(n._getColorByPoint(t))}),null)},e.prototype._useItemizedPointLegend=function(e,n){for(var i=t._LegendUtility._isType(n,t.LegendType.Color),o=t._LegendUtility._isType(n,t.LegendType.Shape),r=t._LegendUtility._isType(n,t.LegendType.Size),l=0,a=n._items();l<a.length;l++){var u=a[l];if(u instanceof t._ItemizedPointLegendItemDataModel){var s=n._dataPointKeysMap._get(u._dataPointKey());if(null!=s)for(var _=0,p=s;_<p.length;_++){var c=p[_];i&&c._updateLegendColor(u._color()),o&&c._updateLegendShape(u._shape),r&&c._updateLegendSize(u._size)}}}},e}();e._GraphLegendAdopter=n}((e=t.graph||(t.graph={})).models||(e.models={}))}(t||(t={})),function(t){var e=function(){function e(){}return e._graphLegendSymbolStyleBuilder=function(){return null==e.__graphLegendSymbolStyleBuilder&&(e.__graphLegendSymbolStyleBuilder=new e),e.__graphLegendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);null!=r&&(o.fill=r,o.stroke=r);var l=e._getDataPointStyleOption(),a=e._getSelectedStyle(),u=e._getUnselectedStyle(),s=t._LegendUtility._getRelatedPointViewsStyle(e),_=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),p=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(l,s),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(u,p),t._OptionUtility._applyDataPointStyleOption(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?t._OptionUtility._applyDataPointStyleOption(o,a):e._legendItemView().relatedModels().length>0&&t._OptionUtility._applyDataPointStyleOption(o,u));var c=e._legendItemView();return c._data._filtered&&t._StyleUtility._applyStyle(o,c._filteredOutSymbolStyle),o},e}();t._GraphLegendSymbolStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return e.call(this,t._DefaultLegendSymbolColorBuilder._defaultLegendSymbolColorBuilder(),t._GraphLegendSymbolStyleBuilder._graphLegendSymbolStyleBuilder())||this}return n(i,e),i}(t._LegendSymbolView);t._GraphLegendSymbolView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=new t._GraphLegendSymbolView;return n._setPlotDefinition(e),n},i}(t._LegendSymbolViewBuilder);t._GraphLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._GraphPlotDataModel(n,e)},e}();t._GraphPlotDataBuilder=e}(t||(t={})),function(t){var e;!function(e){var n=function(){function e(e,n,i,o){if(void 0===o&&(o=null),this.__pointView=e,null==n)throw new t.AssertError(t.ErrorCode.UnexpectedNullValue);this.__point=n,this.__contentDefinitions=i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this.__pointView._graphPlotView()._getDefinition()._pluginCollection)}return e.prototype._point=function(){return this.__point},e.prototype._contentDefinitions=function(){return this.__contentDefinitions},e.prototype._getDefaultFormat=function(t){return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(t,e,n){if(void 0===n&&(n=null),null==t)return null;switch(t){case"detailFields":return this._getDetailFieldsProperty(e);case"colorField":return this._getColorFieldProperty(e);default:return this._getTokenProperty(t,e)}},e.prototype._getDetailFieldsProperty=function(e){var n=this._point()._detailValue();if(null!=n&&null!=n._definition()){if("name"==e){var i=n._definition()._dataFieldDefinition._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e){var o=n._key();return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}}return null},e.prototype._getColorFieldProperty=function(e){var n=this._point()._plot()._graphPlotDefinition()._encodingsDefinition._getColorEncodingDefinition();if(n instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==e){var i=n._fieldDefinition()._label;return null!=i?new t.models._DataValueInfo(i,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(this.__pointView.color):null}else if(n instanceof t._NumbericLegendEncodingDefinition){if("name"==e){var o=n._fieldDefinition()._label;return null!=o?new t.models._DataValueInfo(o,this.__stringFormatting):null}if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}else if(n instanceof t._BinItemizedRangeLegendEncodingDefinition){if("name"==e){var r=n._fieldDefinition()._label;return null!=r?new t.models._DataValueInfo(r,this.__stringFormatting):null}var l,a,u;if("value"==e)return null!=(l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,n._fieldDefinition()._dataField,n._aggregate()))?new t.models._DataValueInfo(l,this.__stringFormatting):null;if("aggregate"==e)return null!=(a=t._CastExtension.toAggregateString(n._aggregate()))?new t.models._DataValueInfo(a,this.__stringFormatting):null;if("color"==e)return null!=(u=this.__pointView.color)?new t.models._ColorValueInfo(u):null}return null},e.prototype._getTokenProperty=function(e,n){for(var i=0,o=this._contentDefinitions();i<o.length;i++){var r=o[i];if(t._isAggregateContentEncodingDefinition(r)){var l=r;if(l._dataFieldDefinition._dataField._name==e){if("name"==n){var a=l._dataFieldDefinition._label;return null!=a?new t.models._DataValueInfo(a,this.__stringFormatting):null}if("value"==n){var u=t._DataSlicesAggregate._defaultAggregate._aggregate(this._point()._dataSlices,l._dataFieldDefinition._dataField,l._aggregate);return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}if("aggregate"==n){var s=t._CastExtension.toAggregateString(l._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}}}}return null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__pointView?new t._AnyValueBinding(e.substring(8))._getValue(this.__pointView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();e._GraphTextProxy=n}((e=t.graph||(t.graph={})).models||(e.models={}))}(t||(t={})),function(t){var e;!function(e){var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._applyGroupConditionFormattingRule=function(t,e){},e.prototype._applyPointConditionFormattingRule=function(t,e){null!=t&&t._traversePointView((function(t,n){e.evaluate(t)}),null)},e}(t.models._ConditionalFormattingRuleRunner);e._GraphConditionalFormattingRuleRunner=i}((e=t.graph||(t.graph={})).models||(e.models={}))}(t||(t={})),function(t){var e,i;e=t.graph||(t.graph={}),i=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._graphPointView=function(){return this._ownerView},i.prototype._layoutContent=function(e,n,i){var o=this._graphPointView(),r=o._center();if(null!=o._element()&&null!=r){var l=this._measure(e,new t.core.Size(this.maxWidth,Number.MAX_VALUE))._size,a=t._MatrixUtility._transformPoint(o._element()._space._matrix(),r),u=a.clone();this._textView()._layout(e,i,new t.core.Rect(u.x-l.width/2,u.y-l.height/2,l.width,l.height)),this._startPoint=a,this._endPoint=u}else this._visible=!1},i}(t._PointDataLabelView),e._GraphDataLabelView=i}(t||(t={})),function(t){var e;!function(e){var i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__graphJson=null,o.__style=new t.options._DataPointStyleOption(null),o.__viewport=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"viewport",{get:function(){return this.__viewport},set:function(t){null!=(t=this.validate(t))&&t==this.__viewport||(this.__viewport=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"graphJson",{get:function(){return this.__graphJson},set:function(t){null!=t&&t!=this.__graphJson&&(this.__graphJson=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this.__style},set:function(e){this.__style!==e&&(null==e&&(e=new t.options._DataPointStyleOption),this.__style=e)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ViewportOptionConverter,!0),t.ValidatorAttribute(t._ViewportOptionValidator,!0)],i.prototype,"viewport",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],i.prototype,"style",null),i}(t.options._Option);e._GraphConfigOption=i}((e=t.graph||(t.graph={})).options||(e.options={}))}(t||(t={})),function(t){!function(t){t.options||(t.options={})}(t.graph||(t.graph={}))}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){t.graph||(t.graph={})}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._GraphCoordinateSystemDefinition._type?new t._GraphCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphCoordinateSystemPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Map",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildPlotDefinition=function(e,n){if("Map"===n.type){var i=new t.graph.options._GraphConfigOption(n.config.option());if(null!=i.graphJson&&"Graph"===i.graphJson.type)return new t._GraphPlotDefinition(e,e._findDataSchema(n.data),n)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n)||this;return r.__rectangle=t.core.Rect.ReadOnlyRect,r.__axisLabelViews=[],r.__option=i,r.__scale=o,r}return n(i,e),i.prototype._plotView=function(){return this._ownerView},i.prototype._rectangle=function(){return this.__rectangle},i.prototype._updateRectangle=function(t){this.__rectangle=t},i.prototype._scale=function(){return this.__scale},i.prototype._option=function(){return this.__option},i.prototype._format=function(){return null!=this._option().format?this._option().format.value:null},i.prototype._axisLabelViews=function(){return this.__axisLabelViews},i.prototype._styleClassName=function(){return null},i.prototype._defaultLineStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._defaultMajorTickStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._defaultMinorTickStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._majorTickSize=function(){return this._option().majorTickSize},i.prototype._minorTickSize=function(){return this._option().minorTickSize},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._layoutContent=function(e,n,i){var o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(this._option().plugins,this._plotView()._getDefinition()._pluginCollection),r=this._format(),l=this._option();e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultMajorTickStyle()),t._OptionUtility._applyLineStyleOption(e,l.majorTickStyle);var a=this._scale();this.__axisLabelViews=[];for(var u=0,s=a.ticks();u<s.length;u++){var _=s[u],p=o.format(r,_),c=this._createAxisLabelView(p,_);null!=c&&this._axisLabelViews().push(c)}e.restoreTransform()},i.prototype._drawView=function(t,e){var n=this;t.beginTransform();var i=this._styleClassName();null!=i&&i.length>0?t.drawGroup(this._styleClassName(),null,null,(function(t){n._renderAxis(t,e)})):this._renderAxis(t,e),t.restoreTransform()},i.prototype._renderAxis=function(t,e){},i.prototype._createAxisLabelView=function(e,n){return new t._ParallelAxisLabelView(this,e,n)},i}(t._BaseView);t._AxisView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,new t._LinearAxisScale(new t._BaseLinearAxisScalePolicy,null))||this;return r.__yClassName="gcdv-axis-y",r.__dimension=o,r}return n(i,e),i.prototype._dimension=function(){return this.__dimension},i.prototype._parallelPlotView=function(){return this._ownerView},i.prototype._format=function(){var e=null!=this._option().format?this._option().format.value:null;return null!=e?e:t._isDataFieldDimension(this.__dimension)?this.__dimension._getDataFieldDefinition()._format:null},i.prototype._styleClassName=function(){return this.__yClassName},i.prototype._toLocation=function(t){return null},i.prototype._initScale=function(){var e=this._scale(),n=this._dimension(),o=null,r=null;if(t.models._isLinearDimension(n)){var l=n;o=l._min(),r=l._max()}var a=this._option().min;null!=a&&a.type==t.ValueOptionType.Number&&(o=a.value);var u=this._option().max;null!=u&&u.type==t.ValueOptionType.Number&&(r=u.value);var s,_=null==o?0:o;s=(o=_-((null==r?0:r)-_)*i.__minimumSpace)>0?[o,r]:[0,r],e._setDomain(s)},i.__minimumSpace=.25,i}(t._AxisView);t._ParallelAxisView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n)||this;return r.__rectangle=t.core.Rect.ReadOnlyRect,r.__title=i,r.__tick=o,r}return n(i,e),i.prototype._rectangle=function(){return this.__rectangle},i.prototype._updateRectangle=function(t){this.__rectangle=t},i.prototype._title=function(){return this.__title},i.prototype._tick=function(){return this.__tick},i.prototype._axisView=function(){return this._ownerView},i}(t._BaseView);t._ParallelAxisLabelView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._RadialParallelAxisViewBuilder)||this}return n(i,e),i}(t._AxisDefinition);t._RadialParallelAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ParallelRadialAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._buildAxisDefinition=function(e,n,i){return n._getCoordinateSystemType()===t._XyCoordinateSystemDefinition._type&&t._isParallelPlotDefinition(n)?new t._RadialParallelAxisDefinition(e,i,t.Orientation.Vertical):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultParallelRadialAxisDefinitionBuilder=new e,e}();t._RadialParallelAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultParallelRadialAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype.buildAxisView=function(t,e){return null},t.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},t}();t._RadialParallelAxisViewBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o.__degree=0,o}return n(i,e),i.prototype._getLocation=function(){return this.__location},i.prototype._setLocation=function(t){this.__location=t},i.prototype._getCenter=function(){return this.__center},i.prototype._setCenter=function(t){this.__center=t},i.prototype._getDegree=function(){return this.__degree},i.prototype._setDegree=function(t){this.__degree=t},i.prototype._drawView=function(e,n){var i=this._axisView()._option(),o=this._getLocation();if(i.labels!=t.AxisPosition.None&&null!=o){e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,i.labelStyle);var r=t._MatrixUtility._buildRotateMatrix(t._Util.degree2Rad(this._getDegree()),this._getCenter());e.drawSingleLineString(this._title(),o.x,o.y,null,r),e.restoreTransform()}},i}(t._ParallelAxisLabelView);t._RadialParallelAxisLabelView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._toLocation=function(e){var n=this._scale().value(e);if(null!=n&&!isNaN(n)){var i=this._axisDegree()*Math.PI/180,o=new t.core.Size(Math.cos(i),Math.sin(i));return new t.core.Point(this._center.x+n*o.width,this._center.y+n*o.height)}return null},i.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o);var r=this._option(),l=this._scale(),a=this._axisDegree()*Math.PI/180,u=new t.core.Size(Math.cos(a),Math.sin(a)),s=this._majorTickSize(),_=s*u.height,p=s*u.width;n.beginTransform(),t._StyleUtility._applyStyle(n,this._defaultMajorTickStyle()),t._OptionUtility._applyLineStyleOption(n,r.majorTickStyle);for(var c=0,h=this._axisLabelViews();c<h.length;c++){var f=h[c],d=l.value(f._tick());if(null!=d&&!isNaN(d)){var y=n.measureSingleLineString(f._title()),g=this._calculateMajorLabelLocation(r,u,_,p,d,y),m=g[0],v=g[1],w=g[2];f._setLocation(m),f._setCenter(v),f._setDegree(w)}}n.restoreTransform()},i.prototype._createAxisLabelView=function(e,n){return new t._RadialParallelAxisLabelView(this,e,n)},i.prototype._axisDegree=function(){var t=this._plotView()._getDefinition()._plotConfigOption.startAngle+this._degree-180;return t<0?t=t%360+360:t%=360,t},i.prototype._initScale=function(){e.prototype._initScale.call(this);var t=this._scale(),n=[0,this._radius];t._setRange(n)},i.prototype._renderAxis=function(e,n){var i=this._axisDegree()*Math.PI/180,o=new t.core.Size(Math.cos(i),Math.sin(i));this._renderAxisLine(e,o);for(var r=this._majorTickSize(),l=r*o.height,a=r*o.width,u=this._scale(),s=0,_=u.ticks();s<_.length;s++){var p=_[s],c=u.value(p);null==c||isNaN(c)||this._drawMajorTick(e,c,l,a,o)}for(var h=0,f=this._axisLabelViews();h<f.length;h++)f[h]._render(e,n)},i.prototype._renderAxisLine=function(e,n){var i=this._option();i.axisLine&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultLineStyle()),t._OptionUtility._applyLineStyleOption(e,i.lineStyle),e.drawLine(this._center.x,this._center.y,this._center.x+this._radius*n.width,this._center.y+this._radius*n.height),e.restoreTransform())},i.prototype._drawMajorTick=function(e,n,i,o,r){var l=this._option();if(l.majorTicks!=t.TickMark.None){e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultMajorTickStyle()),t._OptionUtility._applyLineStyleOption(e,l.majorTickStyle);var a=this._calculateMajorTickLocation(l,r,i,o,n),u=a[0],s=a[1];e.drawLine(u.x,u.y,s.x,s.y),e.restoreTransform()}},i.prototype._calculateMajorTickLocation=function(e,n,i,o,r){var l=new t.core.Point(this._center.x+r*n.width,this._center.y+r*n.height);return e.majorTicks==t.TickMark.Cross?[new t.core.Point(l.x+i/2,l.y-o/2),new t.core.Point(l.x-i/2,l.y+o/2)]:e.majorTicks==t.TickMark.Outside?[new t.core.Point(l.x+i,l.y-o),l]:e.majorTicks==t.TickMark.Inside?[l,new t.core.Point(l.x-i,l.y+o)]:[l,l]},i.prototype._calculateMajorLabelLocation=function(e,n,i,o,r,l){var a=this._calculateMajorTickLocation(e,n,i,o,r)[0],u=e.labelAngle,s=null!=u&&u.length>0?Math.round(u[0]):0,_=this._axisDegree();if(0==s){var p=void 0;return _>=270?(_-=270,p=new t.core.Point(a.x+l.width/2*n.height,a.y-l.width/2*n.width)):_>=180?(_-=180,p=new t.core.Point(a.x+l.height/2*n.height,a.y-l.height/2*n.width)):_>=90?(_-=90,p=new t.core.Point(a.x+l.width/2*n.height,a.y-l.width/2*n.width)):p=new t.core.Point(a.x+l.height/2*n.height,a.y-l.height/2*n.width),[new t.core.Point(p.x-l.width/2,p.y+l.height/2),p,_]}s>0?_+=s:_=_+180+s;var c=l.height*Math.cos(s*Math.PI/180)/2*Math.cos(_*Math.PI/180-Math.PI/2),h=l.height*Math.cos(s*Math.PI/180)/2*Math.sin(_*Math.PI/180-Math.PI/2);return p=new t.core.Point(a.x+c,a.y+h),_<0?_=_%360+360:_%=360,_>270?[new t.core.Point(p.x,p.y+l.height/2),p,_]:_>180||_>90?[new t.core.Point(p.x,p.y+l.height/2),p,_-180]:[new t.core.Point(p.x,p.y+l.height/2),p,_]},i}(t._ParallelAxisView);t._RadialParallelAxisView=e}(t||(t={})),function(t){t._isParallelAxisView=function(t){var e=t;return null!=e&&"function"==typeof e._getCategoryValue&&"function"==typeof e._setCategoryValue}}(t||(t={})),function(t){t._isParallelCoordinateSystemView=function(t){var e=t;return null!=e&&"function"==typeof e._getYAxisViews&&"function"==typeof e._attachAxisView}}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this)||this;return o.__dataFieldDefinition=t,o.__categoryValue=n,o.__linearDimensionProxy=i,o}return n(i,e),i.prototype._dimensionValues=function(){return this.__linearDimensionProxy._dimensionValues()},i.prototype._min=function(){return this.__linearDimensionProxy._min()},i.prototype._max=function(){return this.__linearDimensionProxy._max()},i.prototype._setMin=function(t){this.__linearDimensionProxy._setMin(t)},i.prototype._setMax=function(t){this.__linearDimensionProxy._setMax(t)},i.prototype._scaleType=function(){return this.__linearDimensionProxy._scaleType()},i.prototype._addValue=function(e){if(!t._isValueModifiableDimension(this.__linearDimensionProxy))throw new t.RuntimeError(t.ErrorCode.OperationIsNotPermitted);this.__linearDimensionProxy._addValue(e)},i.prototype._removeValue=function(e){if(t._isValueModifiableDimension(this.__linearDimensionProxy))return this.__linearDimensionProxy._removeValue(e);throw new t.RuntimeError(t.ErrorCode.OperationIsNotPermitted)},i.prototype._getCategoryValue=function(){return this.__categoryValue},i.prototype._getDataFieldDefinition=function(){return this.__dataFieldDefinition},i}(t._Dimension);t._LinearParallelDataFieldDimension=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this)||this;return o.__dataFieldDefinition=e,o.__categoryValue=n,o.__ordinalDimensionProxy=i,o}return n(e,t),e.prototype._dimensionValues=function(){return this.__ordinalDimensionProxy._dimensionValues()},e.prototype._dimensionValueGroups1=function(){return this.__ordinalDimensionProxy._dimensionValueGroups1()},e.prototype._indexBase=function(){return this.__ordinalDimensionProxy._indexBase()},e.prototype._count=function(){return this.__ordinalDimensionProxy._count()},e.prototype._getCategoryValue=function(){return this.__categoryValue},e.prototype._getDataFieldDefinition=function(){return this.__dataFieldDefinition},e}(t._Dimension);t._OrdinalParallelDataFieldDimension=e}(t||(t={})),function(t){t._isParallelPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._getParallelPlotDefinition&&"function"==typeof e._getSeriesList&&"function"==typeof e._getDimensions}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(t,e){var n=this._createData(t,e);return n._initialize(),n},e.prototype._createData=function(e,n){return new t._ParallelPlotDataModel(n,e)},e}();t._ParallelPlotDataBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n,i)||this,r=o._getParallelPlotDefinition()._getValueDefinitions();if(null!=r&&1==r.length){var l=r[0];o.__dimensions=o._createDimensions(l);var a=void 0,u=o._getParallelPlotDefinition()._getDetailDefinitions();if(1==u.length){var s=u[0];if(t._isSingleDataFieldDetailEncodingDefinition(s)){var _=s;a=o._createSeriesList(n,l,_)}else a=[]}else a=0==u.length?o._createSeriesList(n,l,null):[];o.__seriesList=a;for(var p=0,c=a;p<c.length;p++)for(var h=0,f=c[p]._getParallelPoints();h<f.length;h++){var d=f[h],y=d._getDimension(),g=d._getValue()._value();null==g||isNaN(g)||t._isValueModifiableDimension(y)&&y._addValue(new t._DimensionValue(g))}}else o.__dimensions=[],o.__seriesList=[];return o}return n(i,e),i.prototype._points=function(){for(var t=[],e=0,n=this._getSeriesList();e<n.length;e++)for(var i=0,o=n[e]._getParallelPoints();i<o.length;i++){var r=o[i];null!=r&&t.push(r)}return t},i.prototype._getDimensions=function(){return this.__dimensions},i.prototype._getSeriesList=function(){return this.__seriesList},i.prototype._getParallelPlotDefinition=function(){return this._definition()},i.prototype._createDimensions=function(e){if(null==e)return null;var n=[];if(t.models._isParallelValueEncodingDefinition(e))for(var i=e._getFieldDefinitions(),o=new t.models._DimensionBuilder,r=this._definition(),l=r._axisOptions.filter((function(e){return e.type==t.AxisType.Y})),a=0;a<i.length;a++){var u=new t._AggregateValueEncodingDefinition(r,i[a],e._sortDefinition,e._excludeNulls,t.Aggregate.List),s=a<l.length?l[a]:null,_=o.build(u,[],s,this._dataSlices),p=t._DataValueTypeExtension._toDataValueType(i[a]._dataField._name);if(t.models._isLinearDimension(_))n.push(new t._LinearParallelDataFieldDimension(i[a],p,_));else{if(!t._isOrdinalDimension(_))throw new t.RuntimeError(t.ErrorCode.UnexpectedValue,_);n.push(new t._OrdinalParallelDataFieldDimension(i[a],p,_))}}return n},i.prototype._createSeriesList=function(e,n,i){var o=this,r=[];if(null!=i){var l=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),a=[];a.push(new t.QueryGroupByOption(new t._GroupingDefinition(i._dataFieldDefinition,i._sortDefinition)));var u=l.groupBy(a).query().groups;t._TreeNodeUtility._traverseDFS(u,(function(e,l){var a=o._createSeries(e._dataSlices,n,new t._DetailValue(i,e.key));null==a||i._excludeNulls&&a._isNulls()||r.push(a)}))}else e.forEach((function(t){var e=o._createSeries(t,n,null);null!=e&&r.push(e)}));return r},i.prototype._createSeries=function(e,n,i){return null==i&&t.models._isParallelValueEncodingDefinition(n)?new t._ParallelSeriesDataModel(this,e,n,i):null},i}(t._PlotDataModel);t._ParallelPlotDataModel=e}(t||(t={})),function(t){t._isParallelPointDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._getDimension&&"function"==typeof e._getSeries&&"function"==typeof e._getValue}}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n)||this;return r.__series=e,r.__dimension=i,r.__yValue=o,r}return n(e,t),e.prototype._getSeries=function(){return this.__series},e.prototype._getDimension=function(){return this.__dimension},e.prototype._getValue=function(){return this.__yValue},e}(t._PointDataModel);t._ParallelPointDataModel=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._applyGroupConditionFormattingRule=function(e,n){if(t._isParallelPlotView(e))for(var i=0,o=e._getParallelSeriesViews();i<o.length;i++){var r=o[i];n.evaluate(r)}},i.prototype._applyPointConditionFormattingRule=function(e,n){if(t._isParallelPlotView(e))for(var i=0,o=e._getPointViews();i<o.length;i++){var r=o[i];n.evaluate(r)}},i}(t.models._ConditionalFormattingRuleRunner);t._ParallelConditionalFormattingRuleRunner=e}(t||(t={})),function(t){t._isParallelSeriesDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._getValueDefinition&&"function"==typeof e._getParallelPoints&&"function"==typeof e._isNulls&&"function"==typeof e._getParallelPlot}}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n)||this;return r.__detailValue=o,r.__parallelPlot=t,r.__valueDefinition=i,r.__points=r._createPoints(n),r}return n(i,e),Object.defineProperty(i.prototype,"key",{get:function(){return null!=this.__detailValue?this.__detailValue._key():null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Series},enumerable:!1,configurable:!0}),i.prototype._getParallelPlot=function(){return this.__parallelPlot},i.prototype._getParallelPoints=function(){return this.__points},i.prototype._isNulls=function(){for(var t=0,e=this._getParallelPoints();t<e.length;t++)if(null!=e[t]._getValue()._value())return!1;return!0},i.prototype._getValueDefinition=function(){return this.__valueDefinition},i.prototype._getDetailValue=function(){return this.__detailValue},i.prototype._createPoints=function(e){for(var n=[],i=0,o=this._getParallelPlot()._getDimensions();i<o.length;i++){var r=o[i];if(t._isDataFieldDimension(r)){var l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._dataSlices,r._getDataFieldDefinition()._dataField,t.Aggregate.List),a=new t._DimensionValue(l);if(t._isOrdinalDimension(r))for(var u=0,s=r._dimensionValues();u<s.length;u++){var _=s[u];if(t._DataValueTypeExtension._equalsWith(_.rawValue,l)){a=_;break}}var p=this._createPoint(e,r,a);null!=p&&n.push(p)}}return n},i.prototype._createPoint=function(e,n,i){return new t._ParallelPointDataModel(this,e,n,i)},i.prototype._points=function(){return this.__points},i.prototype.queryInterface=function(t){return null},i}(t._SeriesDataModel);t._ParallelSeriesDataModel=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(n,i,o,r,l){return e.call(this,n,t.LegendType.Color,"Default",i,o,r,l)||this}return n(i,e),i.prototype.equalsWith=function(n){return this==n||!(!t._isNumbericLegendEncodingDefinition(n)||n._legendType!=t.LegendType.Color)&&e.prototype.equalsWith.call(this,n)},i}(t._NumbericLegendEncodingDefinition);t._ItemizedNumbericColorLegendEncodingDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="ItemizedNumbericLegend",n.type=t._BuildInLegendDefinitionBuilderCollection._pluginType,n.priority=1,n}return n(i,e),i.prototype._buildLegendDefinition=function(e,n,i,o,r){if(t._isParallelPlotDefinition(e)){var l=this._legendType(n);if(null==l)return null;if(l==t.LegendType.Color&&null!=n.field){var a=n,u=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(a.sort,e._dataSchema,a.field),s=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(a.field,e._dataSchema,a.label);if(null!=s&&t._isNumberDataFieldDefinition(s))return new t._ItemizedNumbericColorLegendEncodingDefinition(e,s,t._NativeExtension._toNonNullEnum(a.aggregate,t.Aggregate.List),u,new t.models._ItemizedNumbericLegendBuilder(i))}}return null},i.prototype.queryInterface=function(t){return"ILegendEncodingDefinitionBuilder"==t||"IPlugin"==t?this:null},i._defaultPlugin=new i,i}(t._LegendEncodingDefinitionBuilder);t._ItemizedNumbericColorLegendEncodingDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u,s){var _=t.call(this,null,i,o,r,l,a,u,s)||this;return _._detailEncodingDefinitions=e,_._valueEncodingDefinitions=n,_}return n(e,t),e}(t._EncodingsDefinition);t._ParallelEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n._adopter=new t.models._ParallelLegendAdopter,n._detailEncodingDefinitionListBuilder=new t._DetailEncodingDefinitionListBuilder([t._SingleDataFieldDetailEncodingDefinitionBuilder._detailEncodingDefinitionBuilder],!1),n}return n(i,e),i.prototype._buildEncodingDefinitions=function(t,n,i){i._detailEncodingDefinitions=null==this._detailEncodingDefinitionListBuilder?[]:this._detailEncodingDefinitionListBuilder._buildDetailEncodingDefinitions(t,n.details),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},i.prototype._createEncodingsDefinitionContext=function(){return new t._ParallelEncodingsDefinitionContext},i.prototype._createEncodingsDefinition=function(e){return new t._ParallelEncodingsDefinition(e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},i.prototype._createValueEncodingDefinitions=function(t,e,n){var i=[];if(e.length>0){var o=this._createValueEncodingDefinition(t,e[0],n);null!=o&&i.push(o)}return i},i.prototype._createValueEncodingDefinition=function(e,n,i){return null==n?null:t.models._ParallelValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,n)},i.prototype._createLightnessLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createColorLegendEncodingDefinition=function(n,i,o){var r=e.prototype._createColorLegendEncodingDefinition.call(this,n,i,o);return null!=r?r:new t._EmptyLegendDefinition(n,t.LegendType.Color,new t.models._ParallelEmptyColorLegendBuilder(n))},i}(t._EncodingsDefinitionBuilder);t._ParallelEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return n(e,t),e}(t._EncodingsDefinitionContext);t._ParallelEncodingsDefinitionContext=e}(t||(t={})),function(t){(t.models||(t.models={}))._isParallelValueEncodingDefinition=function(e){return null!=e&&"function"==typeof e._getFieldDefinitions&&t._isValueEncodingDefinition(e)}}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function i(e,n,i,o){var r=t.call(this,e,i,null)||this;return r.__label=o,r.__fieldDefinitions=n,r}return n(i,t),i.prototype._buildLabels=function(t){return t.map((function(t){return t._label}))},i.prototype._getFieldDefinitions=function(){return this.__fieldDefinitions},i.prototype._getIdentifier=function(){return this.__fieldDefinitions[0]._dataField._name},i.prototype._getLabel=function(){return null==this.__label&&(this.__label=this._buildLabels(this.__fieldDefinitions).join("-")),this.__label},i.prototype.equalsWith=function(n){if(this==n)return!0;if(!t.prototype.equalsWith.call(this,n))return!1;if(e._isParallelValueEncodingDefinition(n)){var i=n;if(null!=i){if(this._getFieldDefinitions()==i._getFieldDefinitions())return!0;if(null!=this._getFieldDefinitions()&&null!=i._getFieldDefinitions()&&this._getFieldDefinitions().length==i._getFieldDefinitions().length){for(var o=0;o<this._getFieldDefinitions().length;o++)if(!this._getFieldDefinitions()[o].equalsWith(i._getFieldDefinitions()[o]))return!1;return!0}}}return!1},i}(t._ValueEncodingDefinition),e._ParallelValueEncodingDefinition=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildValueEncodingDefinition=function(n,i){if(null!=i&&"IFieldsValueEncodingOption"==i.type){for(var o=i,r=t._EscapedCharacterStringUtility._split(o.field,"|"),l=o.label,a=null==l?[]:t._EscapedCharacterStringUtility._split(l,","),u=[],s=0;s<r.length;s++){var _=s<a.length?a[s]:null,p=t._NumberDataFieldDefinitionBuilder._numberDataFieldDefinitionBuilder._buildDataFieldDefinition(r[s],n._dataSchema,_);null!=p&&u.push(p)}if(u.length>1)return new e._ParallelValueEncodingDefinition(n,u,o.excludeNulls,l)}return null},n._valueEncodingDefinitionBuilder=new n,n}(),e._ParallelValueEncodingDefinitionBuilder=n}(t||(t={})),function(t){t._isParallelPlotDefinition=function(t){var e=t;return null!=e&&"function"==typeof e._getValueDefinitions&&"function"==typeof e._getDetailDefinitions}}(t||(t={})),t||(t={}),function(t){!function(e){var i=function(e){function i(n,i,o,r,l,a,u,s){void 0===s&&(s=null);var _=e.call(this,n,i,o,l,a,null==s?new t._ParallelEncodingsDefinitionBuilder:s,u)||this;return _.__coordinateSystemType=r,null!=o.encodings?_._buildEncodings():(_.__valueDefinitions=[],_.__detailDefinitions=[]),_._visualViewOrderComparer=_._createVisualViewOrderComparer(),_}return n(i,e),i.prototype._isAvailable=function(){return null!=this.__valueDefinitions&&this.__valueDefinitions.length>0},i.prototype._getValueDefinitions=function(){return this.__valueDefinitions},i.prototype._getDetailDefinitions=function(){return this.__detailDefinitions},i.prototype._createVisualViewOrderComparer=function(){return new o(this)},i.prototype._createEmptyEncodingsDefinition=function(){return new t._ParallelEncodingsDefinition([],[],null,null,null,null,null,[],[])},i.prototype._buildEncodings=function(){var e=this._encodingsDefinition,n=[],i=e._valueEncodingDefinitions;if(null!=i&&i.length>0)for(var o=0,r=i;o<r.length;o++){var l=r[o];n.push(l)}this.__valueDefinitions=n;var a=[];if(null!=e._detailEncodingDefinitions&&e._detailEncodingDefinitions.length>0)for(var u=0,s=e._detailEncodingDefinitions;u<s.length;u++){var _=s[u];if(t._isSingleDataFieldDetailEncodingDefinition(_)){var p=_;a.push(p)}}this.__detailDefinitions=a},i.prototype.queryInterface=function(t){return e.prototype.queryInterface.call(this,t)},i.prototype._getDataModelType=function(){return"Parallel"},i.prototype._getCoordinateSystemType=function(){return this.__coordinateSystemType},i}(t._BasePlotDefinition);e._ParallelPlotDefinition=i;var o=function(){function t(t){this.__visualViewOrderComparers=[];var e=t._hoverBehaviorPolicy._visualViewOrderComparer;null!=e&&this.__visualViewOrderComparers.push(e),this.__visualViewOrderComparers.push(r._visualViewOrderComparer)}return t.prototype._compare=function(t,e){for(var n=0,i=this.__visualViewOrderComparers;n<i.length;n++){var o=i[n]._compare(t,e);if(0!=o)return o}return 0},t}(),r=function(){function e(){}return e.prototype._compare=function(e,n){return t._isSelectingView(e)&&t._isSelectingView(n)?this._compareSelectingView(e,n):0},e.prototype._compareSelectingView=function(t,e){return t._isSelected()?e._isSelected()?0:1:e._isSelected()?-1:0},e._visualViewOrderComparer=new e,e}()}(t.models||(t.models={}))}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendDataModel=function(e,n){if(t._isNumbericLegendEncodingDefinition(e)&&e._legendType==t.LegendType.Color){var i=n._getOption(e._plotDefinition._plotOption.name,t.LegendType.Color);return null!=i&&null!=i.ranges?new t._RangeDataPointItemizedLegendDataModel(e,i,this._adopter):new t._ValueDataPointItemizedLegendDataModel(e,i,this._adopter)}return null},i}(e._LegendDataModelBuilder),e._ItemizedNumbericLegendBuilder=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t){var e=i.call(this)||this;return e.__plotDefinition=t,e}return n(o,i),o.prototype._buildLegendDataModel=function(n,i){return t._isParallelPlotDefinition(this.__plotDefinition)?new t._EmptyColorLegendDataModel(n,new e._ParallelLegendAdopter):null},o}(e._LegendDataModelBuilder),e._ParallelEmptyColorLegendBuilder=i}(t||(t={})),function(t){!function(e){var n=function(){function e(){}return e.prototype._apply=function(e,n){if(t._isDataPointItemizedLegendDataModel(n))for(var o=n,r=0,l=o._findRelatedPlotViews(e);r<l.length;r++){var a=l[r];t._isParallelPlotView(a)&&this._useItemizedPointLegend(a,o)}var u=n.queryInterface("IColorLegend");if(null!=u){var s=u._getColorIterator(e);null!=s&&new i(s)._apply(n._findRelatedPlotViews(e))}},e.prototype._useItemizedPointLegend=function(e,n){for(var i=t._LegendUtility._isType(n,t.LegendType.Color),o=t._LegendUtility._isType(n,t.LegendType.Shape),r=t._LegendUtility._isType(n,t.LegendType.Size),l=0,a=n._items();l<a.length;l++){var u=a[l];if(t._isItemizedPointLegendItemDataModel(u)){var s=u,_=n._dataPointKeysMap._get(s._dataPointKey());if(null!=_)for(var p=0,c=_;p<c.length;p++){var h=c[p];i&&h._updateLegendColor(s._color()),o&&h._updateLegendShape(s._shape),r&&h._updateLegendSize(s._size)}}}},e}();e._ParallelLegendAdopter=n;var i=function(){function e(t){this.__colorIterator=t}return e.prototype._apply=function(e){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(t._isParallelPlotView(o))for(var r=0,l=o._getParallelSeriesViews();r<l.length;r++){var a=l[r];0!=a._getSeriesDataModel()._points().length&&null==a.color&&(a.color=this._getColor())}}},e.prototype._getColor=function(){return this.__colorIterator._next(!0)},e}()}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function e(){}return e._legendSymbolColorBuilder=function(){return null==e.__legendSymbolColorBuilder&&(e.__legendSymbolColorBuilder=new e),e.__legendSymbolColorBuilder},e.prototype._buildLegendSymbolColor=function(e){var n=e._legendItemView(),i=null;t._LegendUtility._isType(n._data._legend,t.LegendType.Shape)&&!t._LegendUtility._isType(n._data._legend,t.LegendType.Color)&&(i=t._LegendUtility._getRelatedPointViewsColor(e));var o=n._data._color();null!=o&&(i=o);var r=n._legendView()._iconColor();return null!=r&&(i=r),null==i&&(i=t._CssColor._defaultStyleColor()),i},e}();t._ParallelLegendSymbolColorBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._legendSymbolStyleBuilder=function(){return null==e.__legendSymbolStyleBuilder&&(e.__legendSymbolStyleBuilder=new e),e.__legendSymbolStyleBuilder},e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);if(!i){var l=t._LegendUtility._getRelatedSeriesViewColor(e);null!=l&&(r=l)}null!=r&&(o.fill=r,o.stroke=r);var a=e._getDataPointStyleOption(),u=e._getSelectedStyle(),s=e._getUnselectedStyle(),_=t._LegendUtility._getRelatedPointViewsStyle(e),p=t._LegendUtility._getRelatedPointViewsSelectedStyle(e),c=t._LegendUtility._getRelatedPointViewsUnselectedStyle(e);t.options._DataPointStyleOptionExtension._mergeDataPointStyleOption(a,_),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(u,p),t.options._DataPointStyleOptionExtension._mergeSelectionStyleOption(s,c),i?t._OptionUtility._applyDataPointSymbolStyleOption(o,a):t._OptionUtility._applyDataPointStyleOption(o,a),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?i?t._OptionUtility._applyDataPointSymbolStyleOption(o,u):t._OptionUtility._applyDataPointStyleOption(o,u):e._legendItemView().relatedModels().length>0&&(i?t._OptionUtility._applyDataPointSymbolStyleOption(o,s):t._OptionUtility._applyDataPointStyleOption(o,s)));var h=e._legendItemView();return h._data._filtered&&t._StyleUtility._applyStyle(o,h._filteredOutSymbolStyle),o},e}();t._ParallelLineLegendSymbolStyleBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){this._pointView=e,this.__contentDefinitions=n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._getPlotView()._getDefinition()._pluginCollection)}return e.prototype._contentDefinitions=function(){return this.__contentDefinitions},e.prototype._getTokenProperty=function(e,n){for(var i=n.shift(),o=0,r=this._contentDefinitions();o<r.length;o++){var l=r[o];if(t._isAggregateContentEncodingDefinition(l)){var a=l;if(a._dataFieldDefinition._dataField._name==e){if("name"==i){var u=a._dataFieldDefinition._label;return null!=u?new t.models._DataValueInfo(u,this.__stringFormatting):null}if("value"==i){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this._pointView._data()._dataSlices,a._dataFieldDefinition._dataField,a._aggregate);return null!=s?new t.models._DataValueInfo(s,this.__stringFormatting):null}if("aggregate"==i){var _=t._CastExtension.toAggregateString(a._aggregate);return null!=_?new t.models._DataValueInfo(_,this.__stringFormatting):null}}}}return null},e.prototype._getDefaultFormat=function(t){return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(t,e,n){if(null==t)return null;var i=e.split(".");return this._getTokenProperty(t,i)},e.prototype.getIdentifierValue=function(e){return"current"==e?this._pointView:e.length>8&&"current."==e.substring(0,8)&&null!=this._pointView?new t._AnyValueBinding(e.substring(8))._getValue(this._pointView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();t._ParallelPointTextProxy=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype._getDefaultFormat=function(t){return null!=this._pointView.text.format&&null!=this._pointView.text.format.value?this._pointView.text.format.value:null},e.prototype._getDefaultFormatType=function(){return null!=this._pointView.text.format&&null!=this._pointView.text.format.type?this._pointView.text.format.type:null},e}(t._ParallelPointTextProxy);t._ParallelPointDataLabelTextProxy=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e}(t._PointDataLabelView);t._ParallelPointDataLabelView=e}(t||(t={})),function(t){var e=function(){function t(){}return t._toParallelSeriesModel=function(t){return null!=t.queryInterface("IParallelSeriesModel")?t:null},t._toParallelPointModel=function(t){return null!=t.queryInterface("IParallelPointModel")?t:null},t}();t._ParallelPlotViewModelUtility=e}(t||(t={})),function(t){!function(t){t._isParallelPlotModel=function(t){return null!=t&&void 0!==t.seriesList}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isParallelPointModel=function(t){return null!=t&&void 0!==t.dimension}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){!function(t){t._isParallelSeriesModel=function(t){var e=t;return null!=e&&void 0!==e.points&&void 0!==e.color}}(t.models||(t.models={}))}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t._isParallelPlotView=function(t){var e=t;return null!=e&&"function"==typeof e._getParallelSeriesViews&&"function"==typeof e._dirtyLayout}}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._visualViews=[],o.__axisViews1=[],o.__visualOrderViews=[],o._seriesViews=o._createSeriesViews(),o}return n(i,e),i.prototype._attachCoordinateSystem=function(e){this.__axisViews1=this._createAxisViews(this._dataModel._getDimensions(),e.filter((function(e){return e.type==t.AxisType.Y})))},i.prototype._actionConditionalFormat=function(){(new t._ParallelConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this._visualViews.length=0,this.__visualOrderViews.length=0,this._layoutSeriesViews(t,n,i)},i.prototype._layoutSeriesViews=function(t,e,n){for(var i=0,o=this._seriesViews;i<o.length;i++){var r=o[i];this._visualViews.push(r),r._layout(t,e,n)}},i.prototype._createAxisViews=function(e,n){for(var i=[],o=0;o<e.length;o++){var r=o<n.length?n[o]:new t.options._AxisOption(null),l=this._createAxisView(e[o],r);null!=l&&i.push(l)}return i},i.prototype._createAxisView=function(e,n){return new t._ParallelAxisView(this,n,e)},i.prototype._createSeriesViews=function(){for(var t=[],e=0,n=this._dataModel._getSeriesList();e<n.length;e++){var i=n[e],o=this._createSeriesView(i);null!=o&&t.push(o)}return t},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;for(var o=this.__visualOrderViews.length>0?this.__visualOrderViews:this._visualViews,r=o.length-1;r>=0;--r){var l=o[r]._hitTest(t,n,i);if(null!=l)return l}return e.prototype._hitTest.call(this,t,n,i)},i.prototype._axisViews=function(){return this.__axisViews1},i.prototype._getParallelSeriesViews=function(){return this._seriesViews},i.prototype._dirtyLayout=function(){for(var t=0,e=this._seriesViews;t<e.length;t++)for(var n=0,i=e[t]._getParallelPointViews();n<i.length;n++)i[n]._dirtyLayout()},i.prototype._getPointViews=function(){for(var t=[],e=0,n=this._seriesViews;e<n.length;e++)for(var i=0,o=n[e]._getPointViews();i<o.length;i++){var r=o[i];t.push(r)}return t},i.prototype._hasSelectedPointView=function(){for(var t=0,e=this._seriesViews;t<e.length;t++)if(e[t]._hasSelectedPointView())return!0;return!1},i.prototype._draw=function(t,e){for(var n=0,i=this._axisViews();n<i.length;n++)i[n]._render(t,e);var o=this._visualViews.slice();this.__visualOrderViews=o;var r=this._definition._visualViewOrderComparer;null!=r&&o.sort((function(t,e){return r._compare(t,e)}));for(var l=0;l<o.length;++l)o[l]._render(t,e)},i.prototype.queryInterface=function(t){return"IParallelPlotModel"===t?this:e.prototype.queryInterface.call(this,t)},Object.defineProperty(i.prototype,"seriesList",{get:function(){for(var e=[],n=0,i=this._seriesViews;n<i.length;n++){var o=i[n],r=t._ParallelPlotViewModelUtility._toParallelSeriesModel(o);null!=r&&e.push(r)}return e},enumerable:!1,configurable:!0}),i}(t._BasePlotView);t._ParallelPlotView=e}(t||(t={})),function(t){t._isRadialParallelPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._layoutContent=function(n,i,o){var r=this._axisViews(),l=new t.core.Point((i.left+i.right)/2,(i.top+i.bottom)/2),a=Math.min(i.width/2,i.height/2),u=new t.core.Rect(l.x-a,l.y-a,2*a,2*a);if(r.length>0)for(var s=360/r.length,_=0,p=0,c=r;p<c.length;p++){var h=c[p];h._center=l,h._radius=a,h._degree=_,h._initScale(),h._layout(n,u,o),_+=s}e.prototype._layoutContent.call(this,n,i,o)},i.prototype._createAxisView=function(e,n){return new t._RadialParallelAxisView(this,n,e)},i}(t._ParallelPlotView);t._RadialParallelPlotView=e}(t||(t={})),function(t){t._isXyParallelPlotView=function(t){return null!=t&&"function"==typeof t._getAxisView}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o.__axisViews=[],o}return n(i,e),i.prototype._getAxisView=function(e){for(var n=0,i=this.__axisViews;n<i.length;n++){var o=i[n];if(t._isParallelAxisView(o)){var r=o._getCategoryValue();if(t._DataValueTypeExtension._equalsWith(e,r))return o}}return null},i.prototype._attachCoordinateSystem=function(e){this.__axisViews=[],e=e.filter((function(e){return e.type==t.AxisType.Y&&e.plots.length>0}));var n=this._coordinateSystemView();if(null!=n&&t._isParallelCoordinateSystemView(n))for(var i=n,o=this._dataModel._getDimensions(),r=0;r<o.length;r++){var l=o[r],a=r<e.length?e[r]:null,u=i._attachAxisView(a,this._definition,l._getCategoryValue());null!=u&&(u._applyDimension(this,l),this.__axisViews.push(u))}},i}(t._ParallelPlotView);t._XyParallelPlotView=e}(t||(t={})),function(t){t._isParallelPointView=function(t){var e=t;return null!=e&&"function"==typeof e._getLocation&&"function"==typeof e._dirtyLayout&&"function"==typeof e._getParallelSeriesView}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isParallelPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._calculateColor=function(t){var e=t.color;return null==e&&(e=t._getParallelSeriesView().color),null==e&&(e=t._getPlotView()._getDefinition()._paletteColorProvider._defaultColor()),e},i}(t._PointColorBuilder);t._ParallelPointColorBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.call(this,n,null==i?new t._ParallelPointColorBuilder:i)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isParallelPointView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._applyDataPointStyle=function(e,n){t._OptionUtility._applyStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.style),this._applyDataPointStyleOption(e,n._getPlotView()._getDefinition()._plotConfigOption.style),this._applyDataPointStyleOption(e,n._getParallelSeriesView()._internalStyle()),this._applyDataPointStyleOption(e,n._internalStyle())},i}(t._PointStyleBuilder);t._ParallelPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,null==o?new t._ParallelPointStyleBuilder:o)||this;return r.__seriesView=n,r}return n(i,e),i.prototype._getParallelSeriesView=function(){return this.__seriesView},Object.defineProperty(i.prototype,"text",{get:function(){return null==this.__textOption&&(this.__textOption=this._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(this._getPlotView()._dataPointDataLabelOption())),this.__textOption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!1,configurable:!0}),i.prototype._getSwapAxes=function(){return this._getParallelSeriesView()._getParallelPlotView()._getDefinition()._plotConfigOption.swapAxes},i.prototype._layoutContent=function(t,e,n){for(var i=this._data(),o=i._getDimension(),r=0,l=this._getParallelSeriesView()._getParallelPlotView()._axisViews();r<l.length;r++){var a=l[r];if(a._dimension()==o){this.__location=a._toLocation(i._getValue().rawValue);break}}},i.prototype._shape=function(){return new t._RectangleShape(this._rectangle().center.x,this._rectangle().center.y,this._rectangle().width,this._rectangle().height,0)},i.prototype._createDataLabelContent=function(){var e=this._getPlotView()._getDefinition()._getEncodingsDefinition()._textEncodingDefinitions,n=null;if(null!=e&&e.length>0&&null==(n=this._customDataLabelTemplate())&&(n=this._defaultDataLabelTemplate(e)),null==n||""==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t._ParallelPointDataLabelTextProxy(this,e,null),l=this._getDefinition()._plotConfigOption.plugins,a=this._getDefinition()._pluginCollection,u=i.evaluate(o,r,l,a),s=this._toLines(u);return null!=s&&s.length>0?new t.models._DataLabelContent(s,this):null},i.prototype._createTooltipHtmlContent=function(e){var n=this._getPlotView()._getDefinition()._getEncodingsDefinition()._tooltipEncodingDefinitions,i=null;null!=n&&n.length>0&&null==(i=this._customTooltipTemplate(e))&&(i=this._defaultTooltipTemplate(n));var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t._ParallelPointTextProxy(this,n,null),a=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,s=o.evaluate(r,l,a,u);return this._toHtml(s)},i.prototype._getPlotView=function(){return this._ownerView._getParallelPlotView()},Object.defineProperty(i.prototype,"parent",{get:function(){return this._getParallelSeriesView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dimension",{get:function(){var e=this._data()._getDimension();return t._isDataFieldDimension(e)?e._getDataFieldDefinition()._dataField._name:""},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IParallelPointModel"===t?this:e.prototype.queryInterface.call(this,t)},i.prototype._getLocation=function(){return this.__location},i.prototype._dirtyLayout=function(){},i}(t._BasePointView);t._ParallelPointView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,null==o?new t._ParallelPointStyleBuilder(!0):o)||this;return r.defaultShape="Dot",r.__symbolDefinition=null,r.__symbol=null,r}return n(i,e),i.prototype._showSymbol=function(){return t._NativeExtension._toNonNullBoolean(this._getPlotView()._getDefinition()._plotConfigOption.symbols,!1)},i.prototype._getSymbolRectangle=function(t){var e=t.clone(),n=t.width<t.height?t.width:t.height;return t.width>t.height?e.left=t.left+(t.width-t.height)/2:t.height>t.width&&(e.top=t.top+(t.height-t.width)/2),e.height=n,e.width=n,e},i.prototype._createSymbolDefinition=function(){var e=this._getParallelSeriesView()._getParallelPlotView()._getDefinition(),n=null,i=e._encodingsDefinition._getShapeEncodingDefinition();i instanceof t._SingleDataFieldLegendEncodingDefinition&&(n=t._DataSlicesAggregate._defaultAggregate._aggregate(this._data()._dataSlices,i._fieldDefinition()._dataField,i._aggregate()));var o=this._getStyleSymbolShape(),r=this.shape,l=this.defaultShape;return t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinition(e._getSymbolDefinitionProviderList(),n,o,r,l)},i.prototype.contains=function(t){return null!=this.__symbol?this.__symbol.contains(t):this._rectangle().contains(t)},i.prototype._drawView=function(e,n){this._showSymbol()&&this._renderSymbol(e,t._RectangleUtility._scaleRectangle(this._rectangle(),this._scale),n)},i.prototype._hitTest=function(e,n,i){if(this._zLevel!=n)return null;if(this.contains(e)){var o=this._pointLayoutListView(),r=null==o?null:o._hitTest(e,n,i);return null!=r?r:(r=new t.HitTestResult(e,this,this,t.ElementType.DataPoint),null==i||null!=i&&i.predicate(r)?r:null)}return null},i.prototype._renderSymbol=function(t,e,n){var i=this._calculateStyle(n);this._applyDataPointExternalStyle(i);var o=this._getSymbolRectangle(e);this.__symbol=this._symbolDefinition().createSymbol(o,i),null!=this.__symbol&&this.__symbol.render(t,n)},i.prototype._symbolDefinition=function(){return null!=this.__symbolDefinition&&null==this._internalStyle()||(this.__symbolDefinition=this._createSymbolDefinition()),this.__symbolDefinition},i.prototype._symbol=function(){return this.__symbol},i}(t._ParallelPointView);t._SymbolParallelPointView=e}(t||(t={})),function(t){t._isParallelSeriesView=function(t){var e=t;return null!=e&&"function"==typeof e._getParallelPlotView&&"function"==typeof e._getParallelPointViews&&"function"==typeof e._hasSelectedPointView}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){for(var i=e.call(this,t,n)||this,o=0,r=i._createPointViews(n._getParallelPoints());o<r.length;o++){var l=r[o];i._pointViews.push(l)}return i}return n(i,e),i.prototype._createIdentityContent=function(){return""},i.prototype._getPlotView=function(){return this._ownerView},i.prototype._getParallelPlotView=function(){return this._ownerView},i.prototype._getParallelPointViews=function(){return this._pointViews},i.prototype._hasSelectedPointView=function(){for(var t=0,e=this._pointViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},i.prototype._layoutContent=function(t,e,n){this._updateRectangle(e.clone());for(var i=0,o=this._pointViews;i<o.length;i++)o[i]._layout(t,e,n)},i.prototype._createPointViews=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n],r=this._createPointView(o);null!=r&&e.push(r)}return e},i.prototype._applyStyle=function(t,e){this._applyDefaultStyle(t),this._applyColor(t),this._applyDataPointStyle(t),this._applyDataPointStyleContext(t,e)},i.prototype._applyDefaultStyle=function(t){},i.prototype._applyColor=function(t){},i.prototype._applyDataPointStyle=function(e){t._OptionUtility._applyStyleOption(e,this._getDefinition()._dvConfigOption.style),t._OptionUtility._applyDataPointStyleOption(e,this._getDefinition()._plotConfigOption.style),t._OptionUtility._applyDataPointStyleOption(e,this._internalStyle())},i.prototype._applyDataPointStyleContext=function(e,n){n.hasSelectionInPlotArea&&(this._isSelected()?(t._OptionUtility._applyDataPointStyleOption(e,this._getParallelPlotView()._getDefinition()._dvConfigOption.selectedStyle),t._OptionUtility._applyDataPointStyleOption(e,this._getParallelPlotView()._getDefinition()._plotConfigOption.selectedStyle),null!=n.apiSelectedStyle&&t._OptionUtility._applyDataPointStyleOption(e,n.apiSelectedStyle)):(t._OptionUtility._applyDataPointStyleOption(e,this._getParallelPlotView()._getDefinition()._dvConfigOption.unselectedStyle),t._OptionUtility._applyDataPointStyleOption(e,this._getParallelPlotView()._getDefinition()._plotConfigOption.unselectedStyle))),this._isHover()&&t._OptionUtility._applyDataPointStyleOption(e,this._getParallelPlotView()._getDefinition()._plotConfigOption.hoverStyle)},i.prototype.queryInterface=function(t){return"IParallelSeriesModel"===t?this:e.prototype.queryInterface.call(this,t)},i}(t._BaseSeriesView);t._ParallelSeriesView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Area",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildPlotDefinition=function(e,n,i){if("Area"===n.type){var o=new t.models._ParallelPlotDefinition(e,e._findDataSchema(null),n,t._XyCoordinateSystemDefinition._type,new t.models._AreaRadialParallelPlotViewBuilder,new t._ParallelPlotDataBuilder,new t._AreaRadialParallelLegendSymbolViewBuilder(!1,!1)),r=o._getValueDefinitions();return null!=r&&r.length>0&&t.models._isParallelValueEncodingDefinition(r[0])?o:null}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AreaRadialParallelPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=new t._AreaLegendSymbolView;return n._setPlotDefinition(e),n},i}(t._LegendSymbolViewBuilder);t._AreaRadialParallelLegendSymbolViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createSeriesView=function(e){return new t._AreaRadialParallelSeriesView(this,e)},i}(t._RadialParallelPlotView);t._AreaRadialParallelPlotView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){if(t._isParallelPlotDefinition(i)&&t._isParallelPlotDataModel(o)&&"Area"==i._plotOption.type&&null!=n){var r=i,l=r._getValueDefinitions();if(null!=l&&l.length>0&&e._isParallelValueEncodingDefinition(l[0]))return new t._AreaRadialParallelPlotView(n,r,o)}return null},n}(),e._AreaRadialParallelPlotViewBuilder=n}(t||(t={})),function(t){t._isAreaRadialParallelPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this.__xs=[],this.__ys=[];var o=this._getParallelPointViews();if(o.length>0){for(var r=0,l=o;r<l.length;r++){var a=l[r]._getLocation();null!=a&&(this.__xs.push(a.x),this.__ys.push(a.y))}this.__xs.push(this.__xs[0]),this.__ys.push(this.__ys[0])}},i.prototype._drawView=function(t,e){t.beginTransform(),this._applyStyle(t,e),this.__xs.length>0&&this.__ys.length>0&&t.drawPolygon(this.__xs,this.__ys),t.restoreTransform()},i.prototype._createPointView=function(e){return null!=e._getValue().rawValue?new t._ParallelPointView(this,e,null):null},i.prototype._applyColor=function(e){t._StyleUtility._applyFill(e,this._getParallelPlotView()._getDefinition()._paletteColorProvider._defaultColor());var n=this.color;null!=n&&(e.fill=n)},i}(t._ParallelSeriesView);t._AreaRadialParallelSeriesView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Line",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildPlotDefinition=function(e,n,i){if("Line"===n.type){var o=new t.models._ParallelPlotDefinition(e,e._findDataSchema(null),n,t._XyCoordinateSystemDefinition._type,new t.models._LineRadialParallelPlotViewBuilder,new t._ParallelPlotDataBuilder,new t._LineRadialParallelLegendSymbolViewBuilder(!1,!1)),r=o._getValueDefinitions();return null!=r&&r.length>0&&t.models._isParallelValueEncodingDefinition(r[0])?o:null}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineRadialParallelPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=new t._LineLegendSymbolView;return n._setPlotDefinition(e),n},i}(t._LegendSymbolViewBuilder);t._LineRadialParallelLegendSymbolViewBuilder=e}(t||(t={})),function(t){t._isLineRadialParallelPlotView=function(t){return!1}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createSeriesView=function(e){return new t._LineRadialParalleSeriesView(this,e)},i}(t._RadialParallelPlotView);t._LineRadialParallelPlotView=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){if(t._isParallelPlotDefinition(i)&&t._isParallelPlotDataModel(o)&&"Line"==i._plotOption.type&&null!=n){var r=i,l=r._getValueDefinitions();if(null!=l&&l.length>0&&e._isParallelValueEncodingDefinition(l[0]))return new t._LineRadialParallelPlotView(n,r,o)}return null},n}(),e._LineRadialParallelPlotViewBuilder=n}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._defaultStyle=function(){return t._ViewUtility._defaultLineStyle()},i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i),this.__xs=[],this.__ys=[];var o=this._getParallelPointViews();if(o.length>0){for(var r=0,l=o;r<l.length;r++){var a=l[r]._getLocation();null!=a&&(this.__xs.push(a.x),this.__ys.push(a.y))}this.__xs.length>0&&this.__xs.push(this.__xs[0]),this.__ys.length>0&&this.__ys.push(this.__ys[0])}},i.prototype._drawView=function(t,e){t.beginTransform(),this._applyStyle(t,e),this.__xs.length>0&&this.__ys.length>0&&t.drawLines(this.__xs,this.__ys),t.restoreTransform()},i.prototype._createPointView=function(e){return null!=e._getValue().rawValue?new t._ParallelPointView(this,e,null):null},i.prototype._applyDefaultStyle=function(e){t._StyleUtility._applyStyle(e,this._defaultStyle())},i.prototype._applyColor=function(t){var e=this._getDefinition()._paletteColorProvider._defaultColor();null!=e&&(t.stroke=e);var n=this.color;null!=n&&(t.stroke=n)},i}(t._ParallelSeriesView);t._LineRadialParalleSeriesView=e}(t||(t={})),function(t){var e=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype.validate=function(e,n,i){if(null==e)return 20;if(!isNaN(e)){var o=e;return o<0&&(o=Math.abs(o)),o}return this._processError(e,t.ErrorCode.LegalNumberValueRequired,e),20},i}(t._BaseValidator);t._SankeyNodeWidthValidator=e}(t||(t={})),function(t){!function(t){t[t.None=0]="None",t[t.Source=1]="Source",t[t.Target=2]="Target",t[t.Gradient=3]="Gradient"}(t.SankeyColorMode||(t.SankeyColorMode={}))}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._toPointView=function(e){if(t._isSankeyFlowView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._calculateColor=function(t){var e=t._color;return null==e&&(e=this._getColorByMode(t),t._color=e),e},i.prototype._getColorByMode=function(e){var n=null,i=e._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow.colorMode;return i==t.SankeyColorMode.None?null==(n=this._getFlowColorWithValue(e))&&(n=this._getColorIterator(e._getSankeyPlotView())._next(!0)):i==t.SankeyColorMode.Source?n=e._getSourceNodeView()._paletteColor:i==t.SankeyColorMode.Target?n=this._getTargetModeColor(e._getTargetNodeView()):i==t.SankeyColorMode.Gradient&&(n=this._getGradientModeColor(e._getSourceNodeView(),e._getTargetNodeView())),n},i.prototype._getColorIterator=function(t){var e=t._getSankeyPlotDefinition()._flowColorIterator();return null==e&&(e=t._getLayoutView()._getPlotAreaView()._colorIterator),e},i.prototype._getFlowColorWithValue=function(e){var n=e._getSankeyPlotView(),i=n._getSankeyPlotDefinition()._flowValueColorProvider,o=n._getSankeyPlotDefinition()._encodingsDefinition._valueEncodingDefinitions;if(o.length>0){var r=o[0]._getDataFieldDefinition()._dataField,l=e._weight,a=t._DataValueTypeExtension._toDataValueType(l);return t._isDateDataField(r)&&null!=l&&(a=new Date(l)),i._colorWithValue(a)}return null},i.prototype._getTargetModeColor=function(t){return null!=t?t._paletteColor:null},i.prototype._getGradientModeColor=function(t,e){if(null!=e){var n=t._paletteColor,i=e._paletteColor;if(null!=n&&null!=i)return this._createFlowGradientColor(n,i)}return null},i.prototype._createFlowGradientColor=function(e,n){if(t.models._isPatternColor(e)||t.models._isPatternColor(n))return e;if(t.models._isCssColor(e)){if(t.models._isCssColor(n))return this._createLinearGradientColor(e.color,n.color);if(t.models._isLinearGradientColor(n))return this._createLinearGradientColor(e.color,n.colorStops[0].color);if(t.models._isRadialGradientColor(n))return this._createRadialGradientColor(e.color,n.colorStops[0].color)}if(t.models._isLinearGradientColor(e)){if(t.models._isRadialGradientColor(n))return e;if(t.models._isLinearGradientColor(n))return this._createLinearGradientColor(e.colorStops[e.colorStops.length-1].color,n.colorStops[0].color);if(t.models._isCssColor(n))return this._createLinearGradientColor(e.colorStops[e.colorStops.length-1].color,n.color)}if(t.models._isRadialGradientColor(e)){if(t.models._isLinearGradientColor(n))return e;if(t.models._isRadialGradientColor(n))return this._createRadialGradientColor(e.colorStops[e.colorStops.length-1].color,n.colorStops[0].color);if(t.models._isCssColor(n))return this._createRadialGradientColor(e.colorStops[e.colorStops.length-1].color,n.color)}return e},i.prototype._createLinearGradientColor=function(e,n){var i=[new t._ColorStop(e,0),new t._ColorStop(n,1)];return new t._LinearGradientColor(90,i)},i.prototype._createRadialGradientColor=function(e,n){var i=[new t._ColorStop(e,0),new t._ColorStop(n,1)],o=new t.core.Point(.5,.5);return new t._RadialGradientColor(o,.5,o,.5,i)},i}(t._PointColorBuilder);t._SankeyFlowPointColorBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.call(this,n,null!=i?i:new t._SankeyFlowPointColorBuilder)||this}return n(i,e),i.prototype._buildSelectedPointStyle=function(e,n){var i=this._toPointView(e),o=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(o,i._getPlotView()._getDefinition()._dvConfigOption.selectedStyle),this._applyDataPointStyleOption(o,i._getPlotView()._getDefinition()._plotConfigOption.selectedStyle),this._applyDataPointStyleOption(o,i._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow.selectedStyle),o},i.prototype._buildUnselectedPointStyle=function(e){var n=this._toPointView(e),i=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._dvConfigOption.unselectedStyle),this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._plotConfigOption.unselectedStyle),this._applyDataPointStyleOption(i,n._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow.unselectedStyle),i},i.prototype._buildHoverPointStyle=function(e){var n=this._toPointView(e),i=t._StyleUtility._buildStyle();return this._applyDataPointStyleOption(i,n._getPlotView()._getDefinition()._plotConfigOption.hoverStyle),this._applyDataPointStyleOption(i,n._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow.hoverStyle),i},i.prototype._toPointView=function(e){if(t._isSankeyFlowView(e))return e;throw new t.RuntimeError(t.ErrorCode.Unknown)},i.prototype._buildDefaultStyle=function(){return t._StyleUtility._buildStyle(.4,"#666666",1,"none",1,"none")},i.prototype._applyColor=function(t,e,n){null!=e&&(t.fill=e,t.stroke=e)},i.prototype._applyDataPointStyle=function(e,n){var i=n._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow,o=i.colorMode;if(o==t.SankeyColorMode.None)this._applyDataPointStyleOption(e,i.style),this._applyDataPointStyleOption(e,n._internalStyle());else{var r=n._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node,l=null;null!=r&&(l=r.style,this._applyNodeColorOption(e,l)),this._applyNodeInternalColor(e,n,o,l),this._applyFlowOtherStyleOption(e,i.style),this._applyFlowOtherStyleOption(e,n._internalStyle())}},i.prototype._applyNodeColorOption=function(e,n){null!=n&&(null!=n.fill&&(e.fill=t._OptionUtility._colorFromOption(n.fill)),null!=n.stroke&&(e.stroke=t._OptionUtility._colorFromOption(n.stroke)))},i.prototype._applyFlowOtherStyleOption=function(t,e){null!=e&&(null!=e.opacity&&(t.fillOpacity=e.opacity),null!=e.strokeOpacity&&(t.strokeOpacity=e.strokeOpacity),null!=e.strokeWidth&&(t.strokeWidth=e.strokeWidth.top),null!=e.strokeDasharray&&(t.strokeDasharray=e.strokeDasharray))},i.prototype._applyNodeInternalColor=function(e,n,i,o){if(i==t.SankeyColorMode.Source)this._applyNodeColorOption(e,n._getSourceNodeView()._internalStyle());else if(i==t.SankeyColorMode.Target)this._applyNodeColorOption(e,n._getTargetNodeView()._internalStyle());else if(i==t.SankeyColorMode.Gradient){var r=n._getSourceNodeView(),l=n._getTargetNodeView(),a=r._internalStyle(),u=l._internalStyle(),s=null,_=null,p=null,c=null;if(null!=a&&(s=null==a.fill?null:t._OptionUtility._colorFromOption(a.fill),p=null==a.stroke?null:t._OptionUtility._colorFromOption(a.stroke)),null!=u&&(_=null==u.fill?null:t._OptionUtility._colorFromOption(u.fill),c=null==u.stroke?null:t._OptionUtility._colorFromOption(u.stroke)),(null!=s||null!=_)&&(s=this._getNodeColor(s,o,r._paletteColor,!0),_=this._getNodeColor(_,o,l._paletteColor,!0),t._isSankeyFlowColorBuilder(this._pointColorBuilder))){var h=this._pointColorBuilder;e.fill=h._createFlowGradientColor(s,_)}null==p&&null==c||(p=this._getNodeColor(p,o,r._paletteColor,!1),c=this._getNodeColor(c,o,l._paletteColor,!1),!t._isSankeyFlowColorBuilder(this._pointColorBuilder))||(h=this._pointColorBuilder,e.stroke=h._createFlowGradientColor(p,c))}},i.prototype._getNodeColor=function(e,n,i,o){if(null!=e)return e;if(null!=n){if(o&&null!=n.fill)return t._OptionUtility._colorFromOption(n.fill);if(!o&&null!=n.stroke)return t._OptionUtility._colorFromOption(n.stroke)}return i},i}(t._PointStyleBuilder);t._SankeyFlowPointStyleBuilder=e}(t||(t={})),function(t){t._isSankeyFlowColorBuilder=function(t){return null!=t&&"function"==typeof t._createFlowGradientColor}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.__dropOffDefaultColor=t._createDropOffDefaultColor(),t}return n(i,e),i.prototype._createDropOffDefaultColor=function(){var e=[new t._ColorStop("white",0),new t._ColorStop("red",1)];return new t._LinearGradientColor(0,e)},i.prototype._getTargetModeColor=function(t){return this.__dropOffDefaultColor},i.prototype._getGradientModeColor=function(t,e){var n=t._paletteColor;return null!=n?n:null},i}(t._SankeyFlowPointColorBuilder);t._SankeyDropOffPointColorBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.call(this,n,null!=i?i:new t._SankeyDropOffPointColorBuilder)||this}return n(i,e),i.prototype._applyNodeInternalColor=function(e,n,i,o){i!=t.SankeyColorMode.Source&&i!=t.SankeyColorMode.Gradient||this._applyNodeColorOption(e,n._getSourceNodeView()._internalStyle())},i}(t._SankeyFlowPointStyleBuilder);t._SankeyDropOffPointStyleBuilder=e}(t||(t={})),function(t){var e=function(){function t(){}return t.prototype._buildNodeColor=function(t){var e=t._getSankeyPlotView(),n=e._getSankeyPlotDefinition()._nodeValueColorProvider._colorWithValue(t._value);return null==n&&(n=this._getColorIterator(e)._next(!0)),n},t.prototype._getColorIterator=function(t){var e=t._getSankeyPlotDefinition()._nodeColorIterator();return null==e&&(e=t._getLayoutView()._getPlotAreaView()._colorIterator),e},t}();t._SankeyNodeColorBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildNodeLabelText=function(e,n){var i=e._getSankeyPlotView(),o=this._createTextTemplate(n);if(null==o||""==o)return null;var r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new t._SankeyNodeLabelTextProxy(e,n,null),u=i._getDefinition()._plotConfigOption.plugins,s=i._getDefinition()._pluginCollection,_=r.evaluate(l,a,u,s),p=this._toLines(_);return null!=p&&p.length>0?p.join("\n"):null},e.prototype._createTextTemplate=function(t){return null!=t?null!=t.template?t.template:this._getDefaultTextTemplate():null},e.prototype._getDefaultTextTemplate=function(){return"{name}"},e.prototype._toLines=function(e){var n=[];if(null!=e){n=e.split("\n");for(var i=0;i<n.length;i++){for(var o="",r=0,l=t.models.StringObject._parse(n[i]);r<l.length;r++)o+=l[r].value;n[i]=o}}return n},e}();t._SankeyNodeLabelTextBuilder=e}(t||(t={})),function(t){var e=function(){function e(e){void 0===e&&(e=null),this._nodeColorBuilder=null!=e?e:new t._SankeyNodeColorBuilder}return e.prototype._buildNodeStyle=function(t){var e=this._buildDefaultStyle();return this._applyColor(e,t._paletteColor),this._applyNodeStyle(e,t),e},e.prototype._buildNodeHoverStyle=function(e){var n=t._StyleUtility._buildStyle();t._OptionUtility._applyDataPointStyleOption(n,e._getSankeyPlotView()._getDefinition()._plotConfigOption.hoverStyle);var i=e._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node;return null!=i&&t._OptionUtility._applyDataPointStyleOption(n,i.hoverStyle),n},e.prototype._buildNodeSelectedStyle=function(e){var n=t._StyleUtility._buildStyle();t._OptionUtility._applyDataPointStyleOption(n,e._getSankeyPlotView()._getDefinition()._dvConfigOption.selectedStyle),t._OptionUtility._applyDataPointStyleOption(n,e._getSankeyPlotView()._getDefinition()._plotConfigOption.selectedStyle);var i=e._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node;return null!=i&&t._OptionUtility._applyDataPointStyleOption(n,i.selectedStyle),n},e.prototype._buildNodeUnselectedStyle=function(e){var n=t._StyleUtility._buildStyle();t._OptionUtility._applyDataPointStyleOption(n,e._getSankeyPlotView()._getDefinition()._dvConfigOption.unselectedStyle),t._OptionUtility._applyDataPointStyleOption(n,e._getSankeyPlotView()._getDefinition()._plotConfigOption.unselectedStyle);var i=e._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node;return null!=i&&t._OptionUtility._applyDataPointStyleOption(n,i.unselectedStyle),n},e.prototype._buildDefaultStyle=function(){return t._StyleUtility._buildStyle(1,null,1,"none",1,"none")},e.prototype._applyColor=function(t,e){t.fill=e},e.prototype._applyNodeStyle=function(e,n){var i=n._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node;null!=i&&t._OptionUtility._applyDataPointStyleOption(e,i.style),t._OptionUtility._applyDataPointStyleOption(e,n._internalStyle())},e}();t._SankeyNodeStyleBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r._source=n,r._target=i,r._weight=o,r}return n(e,t),e}(t._PointDataModel);t._SankeyFlowDataModel=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isSankeyPlotModel=function(t){var e=t;return null!=e&&void 0!==e.nodes&&void 0!==e.flows}}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i._flows=[],i}return n(i,e),i.prototype._points=function(){return this._flows},i.prototype._initialize=function(){var e=this,n=this._definition(),i=n._encodingsDefinition._valueEncodingDefinitions,o=n._encodingsDefinition._getSankeyCategoryEncodingDefinition();if(i.length>0&&null!=o)for(var r=i[0],l=t._SankeyGroupingModelBuilder._defaultGroupingModelBuilder._build(new t._SankeyGroupingBuilder,this._dataSlices,o._sankeyGroupingDefinition),a=n._plotOption.config.showNulls,u=n._plotOption.config.showNaNs,s=function(n){var i=n._dataSlices,o=n.key._from,l=n.key._to,s=r._getDataFieldDefinition()._dataField,p=r._getAggregate();if(null!=p){var c=_._calculateFlowWeight(i,s,p);_._checkNodes(o,l)&&_._checkWeight(c,a,u)&&_._flows.push(new t._SankeyFlowDataModel(i,o,l,c))}else i.forEach((function(n){var i=e._calculateFlowWeight(n,s,t.Aggregate.List);e._checkNodes(o,l)&&e._checkWeight(i,a,u)&&e._flows.push(new t._SankeyFlowDataModel(n,o,l,i))}))},_=this,p=0,c=l;p<c.length;p++)s(c[p])},i.prototype._calculateFlowWeight=function(e,n,i){var o=t._DataSlicesAggregate._defaultAggregate._aggregate(e,n,i);return this._toNumber(o)},i.prototype._toNumber=function(t){if(null==t)return null;var e=null;return"number"==typeof t?e=t:t instanceof Date?e=t.valueOf():"boolean"!=typeof t&&"string"!=typeof t||(e=NaN),e},i.prototype._checkWeight=function(e,n,i){return null==e&&n==t.ShowNulls.Zeros||!(!isNaN(e)||i!=t.ShowNulls.Zeros)||null!=e&&e>=0},i}(t._PlotDataModel);t._SankeyPlotDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(e,n){if(t._isSankeyPlotDefinition(e)){var i=this._createData(e,n);return i._initialize(),i}return null},e}();t._SankeyPlotDataModelBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._checkNodes=function(e,n){return null!=e&&null!=n&&!t._DataValueTypeUtility._isNaN(e)&&!t._DataValueTypeUtility._isNaN(n)},i}(t._SankeyPlotDataModel);t._SankeyRadialPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createData=function(e,n){return new t._SankeyRadialPlotDataModel(n,e)},i._defaultBuilder=new i,i}(t._SankeyPlotDataModelBuilder);t._SankeyRadialPlotDataModelBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._checkNodes=function(e,n){return null!=e&&!t._DataValueTypeUtility._isNaN(e)},i}(t._SankeyPlotDataModel);t._SankeyXyPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createData=function(e,n){return new t._SankeyXyPlotDataModel(n,e)},i._defaultBuilder=new i,i}(t._SankeyPlotDataModelBuilder);t._SankeyXyPlotDataModelBuilder=e}(t||(t={})),t||(t={}),function(t){t._isSankeyGroupingDefinition=function(t){var e=t;return null!=e&&void 0!==e._fromFieldDefinition&&void 0!==e._toFieldDefinition}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n){var i=t.call(this,n)||this;return i.key=e,i}return n(e,t),e}(t._DataModel);t._SankeyGrouping=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildGrouping=function(e,n,i,o){return null==e?null:new t._SankeyGrouping(e,n)},e}();t._SankeyGroupingBuilder=e}(t||(t={})),function(t){var e=function(){function e(t,e,n,i){void 0===n&&(n=null),void 0===i&&(i=null),this._fromFieldDefinition=t,this._toFieldDefinition=e,this._sorter=n,this._filter=i}return e.prototype._getLabel=function(){return null},e.prototype.equalsWith=function(e){if(this==e)return!0;if(t._isSankeyGroupingDefinition(e)){var n=e;return this._fromFieldDefinition.equalsWith(n._fromFieldDefinition)&&this._toFieldDefinition.equalsWith(n._toFieldDefinition)}return!1},e.prototype.queryInterface=function(t){return null},e}();t._SankeyGroupingDefinition=e}(t||(t={})),function(t){var e=function(t,e){this._from=t,this._to=e};t._SankeyGroupingKey=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__fromField=t,this.__toField=e}return e.prototype._buildGroupingKey=function(e){var n=null!=e?e._items:[],i=t._DataItemExtension._toItem(this.__fromField,n),o=t._DataItemExtension._toItem(this.__toField,n);return new t._SankeyGroupingKey(i,o)},e}();t._SankeyGroupingKeyBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._equalsWith=function(e,n){if(null==e&&null==n)return!0;if(null==e||null==n)return!1;var i=t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer;return i._equalsWith(e._from,n._from)&&i._equalsWith(e._to,n._to)},e._sankeyGroupingKeyEqualityComparer=new e,e}();t._SankeyGroupingKeyEqualityComparer=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildGrouping=function(e,n,i,o,r,l){var a=[],u=new t._DataSlicesKeysFilter(l._filter,[l._fromFieldDefinition._dataField._name,l._toFieldDefinition._dataField._name])._filter(r),s=[];u.forEach((function(e){for(var o=n._buildGroupingKey(e),r=null,l=0,a=s;l<a.length;l++){var u=a[l];if(i._equalsWith(o,u._key)){r=u;break}}null==r&&(r=new t._GroupingInfo(o),s.push(r)),r._mergeDataSlices(e)}));for(var _=0,p=s;_<p.length;_++){var c=p[_],h=e._buildGrouping(c._key,c._dataSlices,o,null);null!=h&&a.push(h)}var f=l._sorter;return null!=f&&f._sort(a),a},e.prototype._build=function(e,n,i){var o=new t._SankeyGroupingKeyBuilder(i._fromFieldDefinition._dataField,i._toFieldDefinition._dataField),r=t._SankeyGroupingKeyEqualityComparer._sankeyGroupingKeyEqualityComparer;return this._buildGrouping(e,o,r,null,n,i)},e._defaultGroupingModelBuilder=new e,e}();t._SankeyGroupingModelBuilder=e}(t||(t={})),function(t){t._isSankeyCategoryEncodingDefinition=function(e){if(!t._isCategoryEncodingDefinition(e))return!1;var n=e;return null!=n._fromFieldDefinition&&void 0!==n._toFieldDefinition&&void 0!==n._sankeyGroupingDefinition}}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l){var a=e.call(this,t,o,r,l)||this;return a._fromFieldDefinition=n,a._toFieldDefinition=i,a.__sankeyGroupingDefinition=null,a}return n(i,e),Object.defineProperty(i.prototype,"_sankeyGroupingDefinition",{get:function(){return null==this.__sankeyGroupingDefinition&&(this.__sankeyGroupingDefinition=this._buildSankeyGroupingDefinition(this._plotDefinition,this._fromFieldDefinition,this._toFieldDefinition,this._excludeNulls,this._sortDefinition)),this.__sankeyGroupingDefinition},enumerable:!1,configurable:!0}),i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isSankeyCategoryEncodingDefinition(n)){var i=n;return i._fromFieldDefinition.equalsWith(this._fromFieldDefinition)&&i._toFieldDefinition.equalsWith(this._toFieldDefinition)}return!1},i.prototype._buildSankeyGroupingDefinition=function(e,n,i,o,r){var l=o?t._BuildInCategoryFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,e._pluginCollection):null;return new t._SankeyGroupingDefinition(n,i,null,l)},i}(t._CategoryEncodingDefinition);t._SankeyCategoryEncodingDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCategoryEncodingDefinition=function(e,n){if(null==n.field||0==n.field.length)return null;var i=t._EscapedCharacterStringUtility._split(n.field,",");if(this._getOptionStrictMode(n)){if(2==i.length){var o=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i[0],e._dataSchema,null),r=t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i[1],e._dataSchema,null);return new t._SankeyCategoryEncodingDefinition(e,o,r,n.excludeNulls,null,null)}throw new t.OptionError(t.ErrorCode.UnexpectedValue,n.field)}return i.length>1&&(o=null==i[0]?null:t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i[0],e._dataSchema,null),r=null==i[1]?null:t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder._buildDataFieldDefinition(i[1],e._dataSchema,null),null!=o&&null!=r)?new t._SankeyCategoryEncodingDefinition(e,o,r,n.excludeNulls,null,null):null},e.prototype._getOptionStrictMode=function(e){var n=!1;return t.options._isOptionStrictMode(e)&&(n=e._strictMode),n},e._categoryEncodingDefinitionBuilder=new e,e}();t._SankeyCategoryEncodingDefinitionBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u,s,_){var p=t.call(this,e,o,r,l,a,u,s,_)||this;return p._detailEncodingDefinitions=n,p._valueEncodingDefinitions=i,p}return n(e,t),e.prototype._getSankeyCategoryEncodingDefinition=function(){return this._categoryEncodingDefinition},e}(t._EncodingsDefinition);t._SankeyEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function i(n){void 0===n&&(n=null);var i=e.call(this)||this;return i._categoryEncodingDefinitionBuilder=null==n?t._SankeyCategoryEncodingDefinitionBuilder._categoryEncodingDefinitionBuilder:n,i}return n(i,e),i.prototype._createEncodingsDefinitionContext=function(){return new t._SankeyEncodingsDefinitionContext},i.prototype._createEncodingsDefinition=function(e){return new t._SankeyEncodingsDefinition(e._sankeyCategoryEncodingDefinition,e._detailEncodingDefinitions,e._valueEncodingDefinitions,e._colorEncodingDefinition,e._sizeEncodingDefinition,e._shapeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},i.prototype._buildEncodingDefinitions=function(t,n,i){i._sankeyCategoryEncodingDefinition=null==this._categoryEncodingDefinitionBuilder?null:this._categoryEncodingDefinitionBuilder._buildCategoryEncodingDefinition(t,n.category),i._detailEncodingDefinitions=this._createDetailEncodingDefinitions(t,n.details,i),i._valueEncodingDefinitions=this._createValueEncodingDefinitions(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},i.prototype._createDetailEncodingDefinitions=function(t,e,n){return[]},i.prototype._createValueEncodingDefinitions=function(t,e,n){for(var i=[],o=0,r=e;o<r.length;o++){var l=r[o],a=this._createValueEncodingDefinition(t,l,n);null!=a&&i.push(a)}return i},i.prototype._createValueEncodingDefinition=function(e,n,i){var o=new t._AggregateValueEncodingDefinitionBuilder(null)._buildValueEncodingDefinition(e,n);return null!=o?o:null},i.prototype._createColorLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createShapeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createSizeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createBackgroundColorLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createLightnessLegendEncodingDefinition=function(t,e,n){return null},i}(t._EncodingsDefinitionBuilder);t._SankeyEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._detailEncodingDefinitions=[],e._valueEncodingDefinitions=[],e}return n(e,t),e}(t._EncodingsDefinitionContext);t._SankeyEncodingsDefinitionContext=e}(t||(t={})),function(t){t._isSankeyPlotDefinition=function(t){var e=t;return void 0!==e._encodingsDefinition&&void 0!==e._nodeLabelOverlayDefinition&&void 0!==e._nodePaletteColorProvider&&void 0!==e._flowPaletteColorProvider&&void 0!==e._conditionalFormattingRuleRunner&&"function"==typeof e._nodeColorIterator&&"function"==typeof e._flowColorIterator&&"function"==typeof e._getNodeTextOption&&"function"==typeof e._getNodeTooltipOption&&"function"==typeof e._getSankeyPlotConfigOption}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),i}(t._BaseOverlayDefinition);t._SankeyNodeLabelOverlayDefinition=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildNodeLabelOverlayDefinition=function(e,n){return null==n||"Node"!=n.scope?null:new t._SankeyNodeLabelOverlayDefinition(e,n)},e}();t._SankeyNodeLabelOverlayDefinitionBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.__flowView=e,this.__stringFormatting=null!=n?n:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._getSankeyPlotView()._getDefinition()._pluginCollection)}return e.prototype._getDefaultFormat=function(e){if(e instanceof t._TokenSyntaxExpression){var n=e.token,i=e.path,o=this.__flowView._getSankeyPlotView()._getSankeyPlotDefinition()._encodingsDefinition;if("sourceNode"==n)return o._getSankeyCategoryEncodingDefinition()._fromFieldDefinition._format;if("targetNode"==n)return o._getSankeyCategoryEncodingDefinition()._toFieldDefinition._format;if("valueField"==n&&"value"==i)return o._valueEncodingDefinitions[0]._getDataFieldDefinition()._format;for(var r=0,l=o._tooltipEncodingDefinitions;r<l.length;r++){var a=l[r];if(t._isAggregateContentEncodingDefinition(a)){var u=a._dataFieldDefinition;if(n==u._dataField._name)return u._format}}}return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(e,n,i){if(null==e)return null;if("sourceNode"===e)return new t.models._DataValueInfo(this.__flowView._getSourceNodeView()._value,this.__stringFormatting);if("targetNode"===e){var o=null==this.__flowView._getTargetNodeView()?null:this.__flowView._getTargetNodeView()._value;return new t.models._DataValueInfo(o,this.__stringFormatting)}var r=n.split(".");return"valueField"===e?this._getValueFieldProperty(r):"categoryField"===e?this._getCategoryFieldProperty(r):this._getTokenProperty(e,n,this.__stringFormatting)},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__flowView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__flowView?new t._AnyValueBinding(e.substring(8))._getValue(this.__flowView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e.prototype._flowDataModel=function(){return this.__flowView._data()},e.prototype._getValueFieldProperty=function(e){var n=e.shift(),i=this.__flowView._getSankeyPlotView()._getSankeyPlotDefinition()._encodingsDefinition._valueEncodingDefinitions[0];if("name"==n){var o=i._getLabel();if(null!=o)return new t.models._DataValueInfo(o,this.__stringFormatting)}if("value"==n){var r=null==i._getAggregate()?t.Aggregate.List:i._getAggregate(),l=t._DataSlicesAggregate._defaultAggregate._aggregate(this._flowDataModel()._dataSlices,i._getDataFieldDefinition()._dataField,r);if(null!=l)return new t.models._DataValueInfo(l,this.__stringFormatting)}if("aggregate"==n&&null!=(r=i._getAggregate())){var a=t._CastExtension.toAggregateString(r);if(null!=a)return new t.models._DataValueInfo(a,this.__stringFormatting)}return null},e.prototype._getCategoryFieldProperty=function(e){var n=e.shift(),i=this.__flowView._getSankeyPlotView()._getSankeyPlotDefinition()._encodingsDefinition._getSankeyCategoryEncodingDefinition(),o=i._fromFieldDefinition,r=i._toFieldDefinition;if("name"==n){var l=o._label+"-"+r._label;if(null!=l)return new t.models._DataValueInfo(l,this.__stringFormatting)}if("value"==n){var a=this._flowDataModel()._dataSlices,u=t._DataSlicesAggregate._defaultAggregate._aggregate(a,o._dataField,t.Aggregate.List),s=t._DataSlicesAggregate._defaultAggregate._aggregate(a,r._dataField,t.Aggregate.List);if(null!=u&&null!=s){var _=this.__stringFormatting.format(o._format,u),p=this.__stringFormatting.format(r._format,s);return new t.models._DataValueInfo(_+", "+p,this.__stringFormatting)}}return null},e.prototype._getTokenProperty=function(e,n,i){for(var o=0,r=this.__flowView._getSankeyPlotView()._getSankeyPlotDefinition()._encodingsDefinition._tooltipEncodingDefinitions;o<r.length;o++){var l=r[o];if(t._isAggregateContentEncodingDefinition(l)){var a=l;if(a._dataFieldDefinition._dataField._name==e)if("name"==n){var u=a._dataFieldDefinition._label;if(null!=u)return new t.models._DataValueInfo(u,i)}else if("value"==n){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__flowView._data()._dataSlices,a._dataFieldDefinition._dataField,t.Aggregate.List);if(null!=s)return new t.models._DataValueInfo(s,i)}}}return null},e}();t._SankeyFlowTooltipTextProxy=e}(t||(t={})),function(t){var e=function(){function e(e,n,i){this.__nodeView=e,this.__textOption=n,this.__stringFormatting=null!=i?i:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._getSankeyPlotView()._getDefinition()._pluginCollection)}return e.prototype._getDefaultFormat=function(t){return null!=this.__textOption.format&&null!=this.__textOption.format.value?this.__textOption.format.value:null},e.prototype._getDefaultFormatType=function(){return null!=this.__textOption.format&&null!=this.__textOption.format.type?this.__textOption.format.type:null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(e,n,i){return null==e?null:"name"===e?new t.models._DataValueInfo(this.__nodeView._value,this.__stringFormatting):"value"===e?new t.models._DataValueInfo(this.__nodeView._weight(),this.__stringFormatting):null},e.prototype.getIdentifierValue=function(e){return"current"==e?this.__nodeView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__nodeView?new t._AnyValueBinding(e.substring(8))._getValue(this.__nodeView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();t._SankeyNodeLabelTextProxy=e}(t||(t={})),function(t){var e=function(){function e(e,n){this._nodeView=e,this._stringFormatting=null!=n?n:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._getSankeyPlotView()._getDefinition()._pluginCollection)}return e.prototype._getDefaultFormat=function(e){if(e instanceof t._TokenSyntaxExpression){var n=e.token,i=e.path,o=this._nodeView._getSankeyPlotView()._getSankeyPlotDefinition()._encodingsDefinition;if("value"==i)return o._valueEncodingDefinitions[0]._getDataFieldDefinition()._format;if("name"==i){if("income"==n)return o._getSankeyCategoryEncodingDefinition()._fromFieldDefinition._format;if("outcome"==n)return o._getSankeyCategoryEncodingDefinition()._toFieldDefinition._format}}return null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this._stringFormatting},e.prototype.getIdentifierValue=function(e){return"current"==e?this._nodeView:e.length>8&&"current."==e.substring(0,8)&&null!=this._nodeView?new t._AnyValueBinding(e.substring(8))._getValue(this._nodeView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();t._SankeyNodeTooltipTextProxy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype.getTokenValue=function(e,n,i){if(null==e)return null;if("name"===e)return new t.models._DataValueInfo(this._nodeView._value,this._stringFormatting);if("value"===e){var o=t._DataValueTypeExtension._toDataValueType(this._nodeView._weight());return new t.models._DataValueInfo(o,this._stringFormatting)}if("income"===e&&null!=i){var r=i;return this._getRelatedFlowProperty(this._nodeView._incomes[r],n,!0,this._stringFormatting)}return"outcome"===e&&null!=i?(r=i,this._getRelatedFlowProperty(this._nodeView._outcomes[r],n,!1,this._stringFormatting)):null},i.prototype._getRelatedFlowProperty=function(e,n,i,o){if(null!=e){if("name"===n){var r=i?e._source._value:e._target._value;return new t.models._DataValueInfo(r,o)}if("value"===n)return new t.models._DataValueInfo(e._weight,o)}return null},i}(t._SankeyNodeTooltipTextProxy);t._SankeyRadialNodeTooltipTextProxy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype.getTokenValue=function(e,n,i){if(null==e)return null;if("name"===e)return new t.models._DataValueInfo(this._nodeView._value,this._stringFormatting);if("value"===e){var o=t._DataValueTypeExtension._toDataValueType(this._nodeView._weight());return new t.models._DataValueInfo(o,this._stringFormatting)}if("income"===e&&null!=i){var r=i;return this._getRelatedFlowProperty(this._nodeView._incomes[r],n,!0,this._stringFormatting)}return"outcome"===e&&null!=i?(r=i,this._getRelatedFlowProperty(this._nodeView._outcomes[r],n,!1,this._stringFormatting)):null},i.prototype._getRelatedFlowProperty=function(e,n,i,o){if(null!=e){if("name"===n){var r=i?e._source._value:null==e._target?null:e._target._value;return new t.models._DataValueInfo(r,o)}if("value"===n)return new t.models._DataValueInfo(e._weight,o)}return null},i}(t._SankeyNodeTooltipTextProxy);t._SankeyXyNodeTooltipTextProxy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._applyConditionalFormattingRules=function(e){for(var n=e,i=n._getDefinition()._plotConfigOption.rules,o=[],r=n._getDefinition()._pluginCollection,l=function(e){if("Node"==e.type){var i=new t.models._ConditionalFormattingRule(e,o,r);n._traverseNodeViews((function(t,e){i.evaluate(t._toSankeyNodeModel())}),null)}else if("Flow"==e.type||"DataPoint"==e.type){var l=new t.models._ConditionalFormattingRule(e,o,r);n._traverseFlowViews((function(t,e){l.evaluate(t._toSankeyFlowModel())}),null)}},a=0,u=i;a<u.length;a++)l(u[a])},e}();t._SankeyConditionalFormattingRuleRunner=e}(t||(t={})),function(t){var e=function(e){function o(n,o,r,l,a){var u=e.call(this,n,o,r,l,a,new t._SankeyEncodingsDefinitionBuilder)||this;return u.__sankeyPlotConfigOption=u._buildSankeyPlotConfigOption(r.config),u.__nodePaletteColorProvider=null==u.__sankeyPlotConfigOption.node?null:u._createPaletteColorProvider(u.__sankeyPlotConfigOption.node.palette),u._nodeValueColorProvider=null==u.__sankeyPlotConfigOption.node?u._valueColorProvider:u._createValueColorProvider(u._valueColorProvider,u.__sankeyPlotConfigOption.node.palette),u.__flowPaletteColorProvider=u._createPaletteColorProvider(u.__sankeyPlotConfigOption.flow.palette),u._flowValueColorProvider=u._createValueColorProvider(u._valueColorProvider,u.__sankeyPlotConfigOption.flow.palette),u.__nodeColorIterator=u._createColorIterator(u.__nodePaletteColorProvider),u.__flowColorIterator=u._createColorIterator(u.__flowPaletteColorProvider),u.__nodeLabelOverlayDefinitionBuilder=new t._SankeyNodeLabelOverlayDefinitionBuilder,u.__nodeTextOption=u._findNodeTextOption(r),u._nodeLabelOverlayDefinition=u.__nodeLabelOverlayDefinitionBuilder._buildNodeLabelOverlayDefinition(u,u.__nodeTextOption),u.__nodeTooltipOption=u._findNodeTooltipOption(r),u.__flowTooltipOption=u._findFlowTooltipOption(r),u._conditionalFormattingRuleRunner=new t._SankeyConditionalFormattingRuleRunner,u._visualViewOrderComparer=new i(u),u}return n(o,e),o.prototype._createEmptyEncodingsDefinition=function(){return new t._SankeyEncodingsDefinition(null,[],[],null,null,null,null,null,[],[])},o.prototype._buildSankeyPlotConfigOption=function(e){return t.options._isSankeyPlotConfigOption(e)?e:null!=e.option()?new t.options._SankeyPlotConfigOption(e.option()):new t.options._SankeyPlotConfigOption(null)},o.prototype._findNodeTextOption=function(t){for(var e=0,n=this.__sankeyPlotConfigOption.text;e<n.length;e++){var i=n[e];if("Node"==i.scope)return i}return null},o.prototype._findNodeTooltipOption=function(t){for(var e=0,n=this.__sankeyPlotConfigOption.tooltip;e<n.length;e++){var i=n[e];if("Node"==i.scope)return i}return null},o.prototype._findFlowTooltipOption=function(t){for(var e=0,n=this.__sankeyPlotConfigOption.tooltip;e<n.length;e++){var i=n[e];if("Flow"==i.scope||"DataPoint"==i.scope)return i}return null},Object.defineProperty(o.prototype,"_nodePaletteColorProvider",{get:function(){return null!=this.__nodePaletteColorProvider?this.__nodePaletteColorProvider:this._paletteColorProvider},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_flowPaletteColorProvider",{get:function(){return null!=this.__flowPaletteColorProvider?this.__flowPaletteColorProvider:this._paletteColorProvider},enumerable:!1,configurable:!0}),o.prototype._nodeColorIterator=function(){return null!=this.__nodeColorIterator?this.__nodeColorIterator:null!=this.colorIterator()?this.colorIterator():null},o.prototype._flowColorIterator=function(){return null!=this.__flowColorIterator?this.__flowColorIterator:null!=this.colorIterator()?this.colorIterator():null},o.prototype._getNodeTextOption=function(){return this.__nodeTextOption},o.prototype._getNodeTooltipOption=function(){return this.__nodeTooltipOption},o.prototype._getFlowTooltipOption=function(){return this.__flowTooltipOption},o.prototype._getSankeyPlotConfigOption=function(){return this.__sankeyPlotConfigOption},o.prototype._getDataModelType=function(){return"Relation"},o}(t._BasePlotDefinition);t._SankeyPlotDefinition=e;var i=function(){function t(t){this.__visualViewOrderComparers=[];var e=t._hoverBehaviorPolicy._visualViewOrderComparer;null!=e&&this.__visualViewOrderComparers.push(e),this.__visualViewOrderComparers.push(new o)}return t.prototype._compare=function(t,e){for(var n=0,i=this.__visualViewOrderComparers;n<i.length;n++){var o=i[n]._compare(t,e);if(0!=o)return o}return 0},t}(),o=function(){function e(){}return e.prototype._compare=function(t,e){var n=0;return 0!=(n=this._compareSelectedView(t,e))?n:n=this._compareIndex(t,e)},e.prototype._compareSelectedView=function(t,e){return this._isSelected(t)?this._isSelected(e)?0:1:this._isSelected(e)?-1:0},e.prototype._compareIndex=function(e,n){return t._isSankeyNodeView(e)&&t._isSankeyNodeView(n)||t._isSankeyFlowView(e)&&t._isSankeyFlowView(n)?e._getIndex()-n._getIndex():t._isSankeyNodeView(e)?1:-1},e.prototype._isSelected=function(e){return t._isSelectingView(e)&&e._isSelected()},e}()}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isSankeyPlotConfigOption=function(t){var e=t;return null!=e&&void 0!==e.node&&void 0!==e.flow}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__style=null,o.__palette=null,o.__colorMode=t.SankeyColorMode.None,o.__hoverStyle=null,o.__selectedStyle=null,o.__unSelectedStyle=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"palette",{get:function(){return this.__palette},set:function(t){t=this.validate(t),this.__palette!=t&&(this.__palette=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"colorMode",{get:function(){return this.__colorMode},set:function(t){this.__colorMode!=t&&(this.__colorMode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectedStyle",{get:function(){return this.__selectedStyle},set:function(t){this.__selectedStyle!=t&&(this.__selectedStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"unselectedStyle",{get:function(){return this.__unSelectedStyle},set:function(t){this.__unSelectedStyle!=t&&(this.__unSelectedStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],i.prototype,"style",null),o([t.JsonConverterAttribute(t._PaletteItemOptionsConverter,!0),t.ValidatorAttribute(t._PaletteItemOptionsValidator,!0,!1)],i.prototype,"palette",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SankeyColorMode,t.SankeyColorMode.None)],i.prototype,"colorMode",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],i.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SelectionStyleOption")],i.prototype,"selectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SelectionStyleOption")],i.prototype,"unselectedStyle",null),i}(e._Option),e._SankeyFlowOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__style=null,o.__palette=[],o.__hoverStyle=null,o.__selectedStyle=null,o.__unSelectedStyle=null,o.__nodeGap=10,o.__padAngle=1,o.__width=20,o.__borderRadius=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"palette",{get:function(){return this.__palette},set:function(t){t=this.validate(t),this.__palette!=t&&(this.__palette=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectedStyle",{get:function(){return this.__selectedStyle},set:function(t){this.__selectedStyle!=t&&(this.__selectedStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"unselectedStyle",{get:function(){return this.__unSelectedStyle},set:function(t){this.__unSelectedStyle!=t&&(this.__unSelectedStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"nodeGap",{get:function(){return this.__nodeGap},set:function(t){this.__nodeGap!=t&&(this.__nodeGap=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"padAngle",{get:function(){return this.__padAngle},set:function(t){t=this.validate(t),this.__padAngle!=t&&(this.__padAngle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"borderRadius",{get:function(){return this.__borderRadius},set:function(t){this.__borderRadius!=t&&(this.__borderRadius=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],i.prototype,"style",null),o([t.JsonConverterAttribute(t._PaletteItemOptionsConverter,!0),t.ValidatorAttribute(t._PaletteItemOptionsValidator,!0,!1)],i.prototype,"palette",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataPointStyleOption")],i.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SelectionStyleOption")],i.prototype,"selectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SelectionStyleOption")],i.prototype,"unselectedStyle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,10)],i.prototype,"nodeGap",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,1),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!1)],i.prototype,"padAngle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,20),t.ValidatorAttribute(t._SankeyNodeWidthValidator,!0)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._BorderRadiusOptionConverter,!1)],i.prototype,"borderRadius",null),i}(e._Option),e._SankeyNodeOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__node=null,r.__flow=new e._SankeyFlowOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"node",{get:function(){return this.__node},set:function(t){this.__node!=t&&(this.__node=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"flow",{get:function(){return this.__flow},set:function(t){this.__flow!=t&&(null==t&&(t=new e._SankeyFlowOption),this.__flow=t)},enumerable:!1,configurable:!0}),r.prototype.queryInterface=function(t){return"ISankeyPlotConfigOption"==t?this:i.prototype.queryInterface.call(this,t)},o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SankeyNodeOption")],r.prototype,"node",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SankeyFlowOption")],r.prototype,"flow",null),r}(e._PlotConfigOption),e._SankeyPlotConfigOption=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.canConvert=function(n,i,o){return!(!e.prototype.canConvert.call(this,n,i,o)||!t._JsonElementUtility._hasProperty(i,"node")&&!t._JsonElementUtility._hasProperty(i,"flow"))},i.prototype.fromJson=function(e,n){return t._JsonElementUtility._isNull(e)?null:t._JsonElementUtility._isObject(e)?t.OptionSerializer.deserialize(new t.options._SankeyPlotConfigOption,e,n):(this._processError(e),null)},i}(t._PlotConfigOptionConverter);t._SankeyPlotConfigOptionConverter=e}(t||(t={})),function(t){t._isSankeyFlowView=function(t){var e=t;return null!=e&&void 0!==e._weight&&"function"==typeof e._getSankeyPlotView&&"function"==typeof e._getSourceNodeView&&"function"==typeof e._getTargetNodeView&&"function"==typeof e._toSankeyFlowModel&&void 0!==e._color&&"function"==typeof e._getIndex&&"function"==typeof e._getShowWeight}}(t||(t={})),function(t){t._isSankeyNodeView=function(t){var e=t;return null!=e&&void 0!==e._value&&void 0!==e._nodeStyleBuilder&&void 0!==e._textOption&&void 0!==e._tooltipOption&&void 0!==e._paletteColor&&"function"==typeof e._getSankeyPlotView&&"function"==typeof e._weight&&"function"==typeof e._toSankeyNodeModel&&"function"==typeof e._internalStyle&&"function"==typeof e._getIndex}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t)||this;return o._text=n,o._textOption=i,o.__textView=null,o.__textLocation=null,o.__textAngle=null,o}return n(i,e),i.prototype._getOverlap=function(){return this.__overlap},i.prototype._setOverlap=function(t){this.__overlap=t},i.prototype._translate=function(t,e){var n=this._getTextView()._getRectangle();n.left+=t,n.top+=e},i.prototype._shape=function(){var e=this._getTextView()._getRectangle();return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,null==this._getTextAngle()?0:this._getTextAngle())},i.prototype._getTextView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._text,this._getTextOverflow(this._getNodeView(),this._textOption),this._getPaddings(),this._getHAlign(),this._getVAlign(),this._buildStyle(this._getNodeView(),this._textOption),null,this._getTextAlignment(this._getNodeView(),this._textOption))),this.__textView},i.prototype._measureLabelSize=function(t,e){return this._getTextView()._measure(t,e)},i.prototype._getMaxWidth=function(t){var e=t.maxWidth;return null==e?Number.MAX_VALUE:e},i.prototype._getTextPosition=function(e){var n=null;return null!=e&&(n=e.position==t.TextPosition.Auto?t.TextPosition.Center:e.position),t._NativeExtension._toNonNullEnum(n,t.TextPosition.Center)},i.prototype._getPosition=function(e){var n=t.Position.None;switch(e){case t.Placement.Auto:case t.Placement.Top:n=t.Position.Top;break;case t.Placement.Left:n=t.Position.Left;break;case t.Placement.Right:n=t.Position.Right;break;case t.Placement.Bottom:n=t.Position.Bottom}return n},i.prototype._getTextLocation=function(){return this.__textLocation},i.prototype._setTextLocation=function(t){this.__textLocation=t},i.prototype._getTextAngle=function(){return this.__textAngle},i.prototype._setTextAngle=function(t){this.__textAngle=t},i.prototype._getTextAngleFromOption=function(e){return null!=e&&null!=e.angle?t._Util.degree2Rad(e.angle):null},i.prototype._drawView=function(e,n){var i=null,o=this._getTextLocation(),r=this._getTextAngle();null!=o&&null!=r&&0!=r&&(i=t._MatrixUtility._buildRotateMatrix(this._getTextAngle(),this._getTextLocation())),this._getTextView()._transform=i,this._getTextView()._render(e,n)},i.prototype._buildStyle=function(e,n){var i=t._StyleUtility._buildStyle(),o=e._getSankeyPlotView();return t._OptionUtility._applyTextStyleOption(i,o._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(i,o._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(i,o._getDefinition()._plotConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(i,n.textStyle),t._StyleUtility._applyFill(i,t._CssColor._none()),t._OptionUtility._applyFillOption(i,o._getDefinition()._dvConfigOption.style.backgroundColor),t._OptionUtility._applyFillOption(i,o._getDefinition()._plotAreaOption.style.backgroundColor),t._OptionUtility._applyFillOption(i,n.style.backgroundColor),t._StyleUtility._applyStyle(i,t._ViewUtility._defaultBorderStyle()),t._StyleUtility._applyStroke(i,this._defaultStrokeColor(e)),t._OptionUtility._applyLineStyleFromStyleOption(i,o._getDefinition()._dvConfigOption.style),t._OptionUtility._applyLineStyleFromStyleOption(i,o._getDefinition()._plotAreaOption.style),t._OptionUtility._applyLineStyleFromStyleOption(i,n.style),i},i.prototype._defaultStrokeColor=function(t){return t._paletteColor},i.prototype._getTextOverflow=function(e,n){var i=e._getSankeyPlotView(),o=n.textStyle.overflow;return null==o&&(o=i._getDefinition()._plotConfigOption.textStyle.overflow),null==o&&(o=i._getDefinition()._plotAreaOption.textStyle.overflow),null==o&&(o=i._getDefinition()._dvConfigOption.textStyle.overflow),t._NativeExtension._toNonNullEnum(o,t.TextOverflow.Clip)},i.prototype._getPaddings=function(){var e=t._Constants.LabelPadding;return t._PaddingUtility._buildPadding(e,e,e,e)},i.prototype._getHAlign=function(){return t.HAlign.Left},i.prototype._getVAlign=function(){return t.VAlign.Middle},i.prototype._getTextAlignment=function(t,e){var n=t._getSankeyPlotView(),i=e.textStyle.alignment;return null==i&&(i=n._getDefinition()._plotConfigOption.textStyle.alignment),null==i&&(i=n._getDefinition()._plotAreaOption.textStyle.alignment),null==i&&(i=n._getDefinition()._dvConfigOption.textStyle.alignment),i},i}(t._BaseView);t._SankeyNodeLabelView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i)||this;return r.__nodeLabelViewBuilder=o,r.__nodeLabelViews=[],r.__nodeLabelTextBuilder=new t._SankeyNodeLabelTextBuilder,r}return n(i,e),i.prototype._buildOverlayItemViews=function(){},i.prototype._getSankeyPlotView=function(){return this._ownerView},i.prototype.useData=function(){var t=this;this._getSankeyPlotView()._traverseNodeViews((function(e,n){var i=t.__nodeLabelTextBuilder._buildNodeLabelText(e,e._textOption);null!=i&&t.__nodeLabelViews.push(t.__nodeLabelViewBuilder._buildNodeLabelView(e,i,e._textOption))}),null)},i.prototype._layoutContent=function(t,e){for(var n=0,i=this.__nodeLabelViews;n<i.length;n++)i[n]._layout(t,e)},i.prototype._drawView=function(e,n){t._LabelOverlapChecker._checkOverlap(n,this.__nodeLabelViews,this._getSankeyPlotView()._getSankeyPlotDefinition()._getNodeTextOption().overlappingLabels);for(var i=0,o=this.__nodeLabelViews;i<o.length;i++){var r=o[i];r._getOverlap()||r._render(e,n)}},i}(t._BaseOverlayView);t._SankeyNodeLabelOverlayView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i,o){void 0===o&&(o=null);var r=e.call(this,n)||this;return r.__selected=!1,r.__hover=!1,r._value=i,r._nodeStyleBuilder=null!=o?o:new t._SankeyNodeStyleBuilder,r._textOption=r._buildTextOption(r._getSankeyPlotView()._getSankeyPlotDefinition()),r._tooltipOption=r._buildTooltipOption(r._getSankeyPlotView()._getSankeyPlotDefinition()),r.__paletteColor=r._nodeStyleBuilder._nodeColorBuilder._buildNodeColor(r),r}return n(i,e),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._textOption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return this._tooltipOption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return null==this.__style&&(this.__style=this._createStyleModel()),this.__style},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hover",{get:function(){return this._isHover()},set:function(t){this._updateHover(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._isSelected()},set:function(t){this._updateSelected(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Node},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._getSankeyPlotView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_paletteColor",{get:function(){return this.__paletteColor},enumerable:!1,configurable:!0}),i.prototype._getSankeyPlotView=function(){return this._ownerView},i.prototype._toSankeyNodeModel=function(){return this},i.prototype._internalStyle=function(){return null!=this.__style&&this.__style._isChanged()?this.__style:null},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t)},i.prototype._isSelected=function(){return this.__selected},i.prototype._updateSelected=function(t){this.__selected!=t&&(this.__selected=t)},i.prototype.contains=function(t){return!0},i.prototype._tooltipContent=function(){var e=this._createTooltipHtmlContent(this._tooltipOption);if(null!=e&&e.length>0){var n=this._tooltipStyle(this._getSankeyPlotView()._getSankeyPlotDefinition(),this._tooltipOption);return new t.models._TextTooltipContent(e,n)}return null},i.prototype.queryRelatedTooltipViewModel=function(e,n){return this.contains(new t.core.Point(e,n))&&null!=this._tooltipContent()?this:null},i.prototype.queryInterface=function(t){return"ISankeyNodeView"===t||"ISankeyNodeModel"===t||"IShowTooltipModel"===t||"IQueryShowTooltipModel"===t||"IQueryInterface"===t||"IShapeModel"===t?this:e.prototype.queryInterface.call(this,t)},Object.defineProperty(i.prototype,"shapes",{get:function(){return[this._shape()]},enumerable:!1,configurable:!0}),i.prototype._createStyleModel=function(){var e=this._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().node;return null!=e?new t.models._DataPointStyleOptionModel(e.style):new t.models._DataPointStyleOptionModel(null)},i.prototype._buildTextOption=function(e){var n=e._getNodeTextOption();return null!=n?t.options._PlotConfigTextOptionCloneMarker._plotConfigTextOptionCloneMarker._cloneOf(n):null},i.prototype._buildTooltipOption=function(e){var n=e._getNodeTooltipOption();return null!=n?t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(n):null},i.prototype._calculateStyle=function(e,n,i){var o=e._buildNodeStyle(n),r=null,l=null,a=null;i.hasSelectionInPlotArea&&(this._isSelected()||i.selected?r=e._buildNodeSelectedStyle(this):l=e._buildNodeUnselectedStyle(this)),this._isHover()&&(a=e._buildNodeHoverStyle(n));var u=t._StyleUtility._buildStyle();return t._StyleUtility._applyAllStyle(u,o),t._StyleUtility._applyAllStyle(u,r),t._StyleUtility._applyAllStyle(u,l),t._StyleUtility._applyAllStyle(u,a),u},i.prototype._tooltipStyle=function(e,n){var i=t._StyleCloneMaker._styleCloneMaker._cloneOf(t._ViewUtility._defaultTextStyle()),o=e._dvConfigOption;return t._OptionUtility._applyFillOption(i,o.style.backgroundColor),t._OptionUtility._applyLineStyleFromStyleOption(i,o.style),t._OptionUtility._applyTextStyleOption(i,o.textStyle),t._OptionUtility._applyFillOption(i,n.style.backgroundColor),t._OptionUtility._applyLineStyleFromStyleOption(i,n.style),t._OptionUtility._applyTextStyleOption(i,e._plotConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(i,n.textStyle),i},i.prototype._toHtml=function(e){if(null!=e&&e.trim().length>0){for(var n=e.split("\n"),i=new t.models._ContentHtmlBuilder,o=0,r=n;o<r.length;o++){var l=r[o];i._startLine();for(var a=0,u=t.models.StringObject._parse(l);a<u.length;a++){var s=u[a];i._append(s)}i._endLine()}return i._html()}return""},i}(t._BaseView);t._SankeyNodeView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,o)||this;return r._visualViews=[],r._flowViews=new Array,r._nodeViews=new Array,r._sankeyFlowPointStyleBuilder=new t._SankeyFlowPointStyleBuilder,r._sankeyNodeStyleBuilder=new t._SankeyNodeStyleBuilder,r}return n(i,e),i.prototype._draw=function(t,e){var n=this;this._visualViews.sort((function(t,e){return n._getSankeyPlotDefinition()._visualViewOrderComparer._compare(t,e)}));for(var i=0,o=this._visualViews;i<o.length;i++)o[i]._render(t,e)},i.prototype._hasSelectedPointView=function(){for(var t=0,e=this._nodeViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},i.prototype._getPointViews=function(){return this._flowViews},Object.defineProperty(i.prototype,"nodes",{get:function(){return this._nodeViews.map((function(t){return t._toSankeyNodeModel()}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"flows",{get:function(){return this._flowViews.map((function(t){return t._toSankeyFlowModel()}))},enumerable:!1,configurable:!0}),i.prototype._actionConditionalFormat=function(){this._getSankeyPlotDefinition()._conditionalFormattingRuleRunner._applyConditionalFormattingRules(this)},i.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=this._visualViews.length-1;i>=0;--i){var o=this._visualViews[i]._hitTest(t,e,n);if(null!=o)return o}return null},i.prototype._dataPointTooltipOption=function(){return this._getSankeyPlotDefinition()._getFlowTooltipOption()},i.prototype._selectionAdorners=function(){for(var t=[],e=0,n=this._nodeViews;e<n.length;e++){var i=n[e];i._isSelected()&&i._isVisible()&&t.push(i._selectionAdorner())}for(var o=0,r=this._flowViews;o<r.length;o++){var l=r[o];l._isSelected()&&l._isVisible()&&t.push(l._selectionAdorner())}return t},i.prototype._prepareDataLabelOverlay=function(){var e=this._getSankeyPlotDefinition()._getNodeTextOption();null!=e&&e.overlappingLabels===t.OverlappingLabels.Auto&&(e.overlappingLabels=t.OverlappingLabels.Show)},i}(t._BasePlotView);t._SankeyPlotView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,null==o?new t._SankeyFlowPointStyleBuilder:o)||this;return r._weight=i._weight,r.__showWeight=r._calculateShowWeight(i._weight,r._getSankeyPlotView()._getSankeyPlotDefinition()),r._color=null,r.__tooltipOption=r._buildTooltipOption(r._getSankeyPlotView()._getSankeyPlotDefinition()),r}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Flow},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._getPlotView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._weight},enumerable:!1,configurable:!0}),i.prototype._toSankeyFlowModel=function(){return this},i.prototype._getShowWeight=function(){return this.__showWeight},i.prototype._getPlotView=function(){return this._ownerView},Object.defineProperty(i.prototype,"text",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return this.__tooltipOption},enumerable:!1,configurable:!0}),i.prototype._tooltipContent=function(){var e=this._createSankeyFlowTooltipHtmlContent(this,this.__tooltipOption);if(null!=e&&e.length>0){var n=this._tooltipStyle();return new t.models._TextTooltipContent(e,n)}return null},i.prototype.queryInterface=function(t){return"ISankeyFlowView"===t||"ISankeyFlowModel"===t?this:e.prototype.queryInterface.call(this,t)},i.prototype._createStyleModel=function(){return new t.models._DataPointStyleOptionModel(this._getSankeyPlotView()._getSankeyPlotDefinition()._getSankeyPlotConfigOption().flow.style)},i.prototype._buildTooltipOption=function(e){var n=e._getFlowTooltipOption();return null!=n?t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(n):null},i.prototype._createSankeyFlowTooltipHtmlContent=function(e,n){var i=e._getSankeyPlotView()._getSankeyPlotDefinition(),o=this._createTooltipTemplate(n,i._encodingsDefinition._tooltipEncodingDefinitions);if(null==o)return null;var r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new t._SankeyFlowTooltipTextProxy(e,null),u=i._plotConfigOption.plugins,s=i._pluginCollection,_=r.evaluate(l,a,u,s);return this._toHtml(_)},i.prototype._createTooltipTemplate=function(t,e){return null!=e&&e.length>0?null!=t&&null!=t.template?t.template:this._getDefaultTooltipTemplate(e):null},i.prototype._getDefaultTooltipTemplate=function(e){var n=[];n.push("{sourceNode} -> {targetNode}: {valueField.value}");for(var i=[],o=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},r=0,l=e;r<l.length;r++)o(l[r]);return n.join("\n")},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=new t._PathUtil,l=this._pointStyleBuilder._buildPointStyle(this),a=this._getAppropriateHitestPaddingBy(l.strokeWidth);if(null!=this._flowPath&&(r.contain(this._flowPath,n.x,n.y)||r.containStroke(this._flowPath,a,n.x,n.y))){var u=new t.HitTestResult(n,this,this,t.ElementType.Flow);return null==o||null!=o&&o.predicate(u)?u:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._getAppropriateHitestPaddingBy=function(t){return null==t&&(t=1),t<10?5:t/2},i.prototype._calculateShowWeight=function(e,n){var i=n._plotOption.config.showNulls,o=n._plotOption.config.showNaNs;return null==e&&i==t.ShowNulls.Zeros||isNaN(e)&&o==t.ShowNulls.Zeros?0:e},i}(t._BasePointView);t._SankeyFlowView=e}(t||(t={})),function(t){var e=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(null==n||n.type!=t.ElementType.PlotArea)return 0;for(var i=!1,o=0,r=n.plotsPanes;o<r.length;o++)for(var l=0,a=r[o].plots;l<a.length;l++){var u=a[l];if(t._isSankeyPlotModel(u))for(var s=0,_=u.nodes;s<_.length;s++){var p=_[s];p.selected&&(p.selected=!1,this._changeRealtedFlowSelectStatus(p,!1),i=!0)}}return i?1:0},e.prototype._changeRealtedFlowSelectStatus=function(t,e){if(null!=t.queryInterface("ISankeyXyNodeView")){var n=t.queryInterface("ISankeyXyNodeView");n._incomes.forEach((function(t){t._updateSelected(e)})),n._outcomes.forEach((function(t){t._updateSelected(e)}))}else if(null!=t.queryInterface("ISankeyRadialNodeView")){var i=t.queryInterface("ISankeyRadialNodeView");i._incomes.forEach((function(t){t._updateSelected(e)})),i._outcomes.forEach((function(t){t._updateSelected(e)}))}},e}();t._SankeyCancelSelectionInteraction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t._SankeyCancelSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SankeyCancelSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"SankeyFlowHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.Flow&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,this._changeRealtedNodeHoverStatus(this.model,!0),1},e.prototype.onLeave=function(t){return this.model.hover=!1,this._changeRealtedNodeHoverStatus(this.model,!1),1},e.prototype.onMove=function(t){return 0},e.prototype._changeRealtedNodeHoverStatus=function(t,e){if(null!=t.queryInterface("ISankeyXyFlowView")){var n=t.queryInterface("ISankeyXyFlowView");n._source._updateHover(e),null!=n._target&&n._target._updateHover(e)}else if(null!=t.queryInterface("ISankeyRadialFlowView")){var i=t.queryInterface("ISankeyRadialFlowView");i._source._updateHover(e),i._target._updateHover(e)}},e}();t._SankeyFlowHoverInteraction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t._SankeyFlowHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SankeyFlowHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t){this._control=t}return Object.defineProperty(e.prototype,"name",{get:function(){return"SankeyNodeHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.Node&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,this._changeRealtedFlowHoverStatus(this.model,!0),1},e.prototype.onLeave=function(t){return this.model.hover=!1,this._changeRealtedFlowHoverStatus(this.model,!1),1},e.prototype.onMove=function(t){return 0},e.prototype._changeRealtedFlowHoverStatus=function(t,e){if(null!=t.queryInterface("ISankeyXyNodeView")){var n=t.queryInterface("ISankeyXyNodeView");n._incomes.forEach((function(t){t._updateHover(e)})),n._outcomes.forEach((function(t){t._updateHover(e)}))}else if(null!=t.queryInterface("ISankeyRadialNodeView")){var i=t.queryInterface("ISankeyRadialNodeView");i._incomes.forEach((function(t){t._updateHover(e)})),i._outcomes.forEach((function(t){t._updateHover(e)}))}},e}();t._SankeyNodeHoverInteraction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t._SankeyNodeHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SankeyNodeHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(null==n||n.type!=t.ElementType.Node)return 0;var i=n,o=t._ViewModelUtility._plotAreaModel(i);if(null==o)return 0;var r=this._getSelectionMode(o);return null==r?0:r==t.SelectionMode.Node?(this._clear(o),i.selected=!0,this._changeRealtedFlowSelectStatus(i,!0),1):0},e.prototype._getSelectionMode=function(e){var n=t._ViewModelUtility._dvModel(e);if(null==n)return null;var i=n.option;return null==i?null:i.selectionMode},e.prototype._clear=function(e){for(var n=0,i=e.plotsPanes;n<i.length;n++)for(var o=0,r=i[n].plots;o<r.length;o++){var l=r[o];if(t._isSankeyPlotModel(l))for(var a=0,u=l.nodes;a<u.length;a++){var s=u[a];s.selected=!1,this._changeRealtedFlowSelectStatus(s,!1)}}},e.prototype._changeRealtedFlowSelectStatus=function(t,e){if(null!=t.queryInterface("ISankeyXyNodeView")){var n=t.queryInterface("ISankeyXyNodeView");n._incomes.forEach((function(t){t._updateSelected(e)})),n._outcomes.forEach((function(t){t._updateSelected(e)}))}else if(null!=t.queryInterface("ISankeyRadialNodeView")){var i=t.queryInterface("ISankeyRadialNodeView");i._incomes.forEach((function(t){t._updateSelected(e)})),i._outcomes.forEach((function(t){t._updateSelected(e)}))}},e}();t._SankeyNodeSelectionInteraction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t._SankeyNodeSelectionInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SankeyNodeSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isSankeyRadialCoordinateSystemDefinition=function(t){return!0}}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="SankeyRadial",n.type=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._pluginType,n.priority=0,n}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){return t._isSankeyRadialCoordinateSystemView(e)?e:null},i.prototype._layoutCoordinateSystemView=function(e,n,i,o){var r=new t.core.Point(o.left+o.width/2,o.top+o.height/2),l=1e3,a=o.clone(),u=this._getRadialRectangle(e,r,l),s=Math.min(a.width/u.width,a.height/u.height)*l,_=this._searchBestRadius(n,a,i,r,0,s,e);l=_[0];var p=_[1];if(null!=p){var c=(r=new t.core.Point(r.x-p.left,r.y-p.top)).x-l,h=r.y-l,f=2*l,d=2*l,y=new t.core.Rect(c,h,f,d),g=i._plotsMarginRectangle,m=e._getDefinition()._plotAreaOption.innerMinSize;if(null!=m&&null==g&&null!=(y=this._adjustPlotRectBySize(y,o,m))&&(f=y.right-y.left,d=y.bottom-y.top,l=.5*Math.min(f,d),f>d?(r.x=y.left+.5*y.width,r.y=y.top+l):(r.x=y.left+l,r.y=y.top+.5*y.height)),null!=g)this._applyPlotsMarginRectangle(y,g),f=y.right-y.left,d=y.bottom-y.top,l=.5*Math.min(f,d),f>d?(r.x=y.left+.5*y.width,r.y=y.top+l):(r.x=y.left+l,r.y=y.top+.5*y.height),this._layoutShapesRect(n,a,i,r,l,e);else{var v=this._layoutShapesRect(n,a,i,r,l,e);if(null!=v){var w=v.left-a.left,b=v.right-a.right,P=v.top-a.top,S=v.bottom-a.bottom;r=this._makeCenter(r,w,b,P,S)}}}var C=new t.core.Rect(r.x-l,r.y-l,2*l,2*l);return new t._CoordinateSystemLayoutResult(C,null)},i.prototype._applyPlotsMarginRectangle=function(t,e){t.left<e.left&&(t.left=e.left),t.right>e.right?t.width=e.right-t.left:t.width+=e.right-t.right,t.top<e.top&&(t.top=e.top),t.bottom>e.bottom?t.height=e.bottom-t.top:t.height+=e.bottom-t.bottom},i.prototype._buildCoordinateSystemViewLayoutPolicy=function(e,n){var i=e._getDefinition()._type;return t._isSankeyRadialCoordinateSystemView(e)&&"SankeyRadial"==i?this:null},i.prototype.queryInterface=function(t){return"ICoordinateSystemViewLayoutPolicyBuilder"==t||"IPlugin"==t?this:null},i.prototype._getRadialRectangle=function(e,n,i){for(var o=[],r=this._getSweep(e),l=this._getStartAngle(e),a=t._Utility._toFixed(l+r,16,!0),u=[],s=Math.ceil(l/(Math.PI/2))*(Math.PI/2);s<a;s+=Math.PI/2)u.push(t._Utility._toFixed(s,16,!0));u.indexOf(l)<0&&u.push(l),u.indexOf(a)<0&&u.push(a);for(var _=this._getInnerRadius(i,e),p=0,c=u;p<c.length;p++){s=c[p];var h=Math.cos(s),f=Math.sin(s);(P=n.clone()).x+=i*h,P.y+=i*f,o.push(P);var d=n.clone();d.x+=_*h,d.y+=_*f,o.push(d)}for(var y=NaN,g=NaN,m=NaN,v=NaN,w=0,b=o;w<b.length;w++){var P=b[w];y=isNaN(y)?P.x:Math.min(P.x,y),m=isNaN(m)?P.x:Math.max(P.x,m),g=isNaN(g)?P.y:Math.min(P.y,g),v=isNaN(v)?P.y:Math.max(P.y,v)}return new t.core.Rect(y,g,m-y,v-g)},i.prototype._getSweep=function(t){return t._getSankeyPlotView()._sankeyPlotDefinition()._getSankeyPlotConfigOption().sweep*Math.PI/180},i.prototype._getStartAngle=function(t){return t._getSankeyPlotView()._sankeyPlotDefinition()._getSankeyPlotConfigOption().startAngle*Math.PI/180+3*Math.PI/2},i.prototype._getInnerRadius=function(t,e){return(1-e._getSankeyPlotView()._sankeyPlotDefinition()._nodeHeightInPercentageOfRadius)*t},i.prototype._searchBestRadius=function(t,e,n,i,o,r,l){var a=o,u=null,s=o,_=r;for(n._checkOverlap=!1;s<=_;)if(a=(_-s)/2+s,(u=this._layoutShapesRect(t,e,n,i,a,l)).width>e.width||u.height>e.height)_=a-.1;else{if(!(u.width<e.width&&u.height<e.height))break;s=a+.1}return n._checkOverlap=!1,[a,u]},i.prototype._layoutShapesRect=function(e,n,i,o,r,l){var a=[],u=this._getRadialRectangle(l,o,r);if(t._isPolarCoordinateSystemLayoutModel(l)){var s=l;s._setCenter(o),s._setRadius(r)}var _=l._getPlotListView();_._layout(e,i,u);for(var p=0,c=_._getPlotViews();p<c.length;p++){var h=c[p];a.push.apply(a,h._getLayoutShapes())}for(var f=u.clone(),d=0,y=a;d<y.length;d++){var g=y[d],m=Math.min(g.leftTop.x,g.rightTop.x,g.rightBottom.x,g.leftBottom.x),v=Math.max(g.leftTop.x,g.rightTop.x,g.rightBottom.x,g.leftBottom.x),w=Math.min(g.leftTop.y,g.rightTop.y,g.rightBottom.y,g.leftBottom.y),b=Math.max(g.leftTop.y,g.rightTop.y,g.rightBottom.y,g.leftBottom.y);f=t._RectangleUtility._unionOfRectangles(f,new t.core.Rect(m,w,v-m,b-w))}return f},i.prototype._adjustPlotRectBySize=function(e,n,i){if(null==i)return e;var o=null,r=i.height;null!=r&&(r.type==t.ValueOptionType.Percentage?o=r.value*n.height:r.type===t.ValueOptionType.Pixel&&(o=r.value));var l=null,a=i.width;if(null!=a&&(a.type==t.ValueOptionType.Percentage?l=a.value*n.width:a.type===t.ValueOptionType.Pixel&&(l=a.value)),null!=l&&e.width<l){var u=l-e.width;e.left-=.5*u,e.width+=u}if(null!=o&&e.height<o){var s=o-e.height;e.top-=.5*s,e.height+=s}return e},i.prototype._makeCenter=function(t,e,n,i,o){var r=Math.abs(e+n);e>Math.abs(n)?t.x-=.5*r:t.x+=.5*r;var l=Math.abs(i+o);return i>Math.abs(o)?t.y-=.5*l:t.y+=.5*l,t},i}(t._BaseCoordinateSystemViewLayoutPolicy);t._SankeyRadialCoordinateSystemLayoutPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(new e,!0)}(t||(t={})),function(t){var e=function(e){function i(n,o,r,l){return e.call(this,n,null==o?i._type:o,r,l,t._SankeyRadialCoordinateSystemViewBuilder._defaultBuilder)||this}return n(i,e),i._type="SankeyRadial",i}(t._PolarCoordinateSystemDefinition);t._SankeyRadialCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SankeyRadial",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n===t._SankeyRadialCoordinateSystemDefinition._type?new t._SankeyRadialCoordinateSystemDefinition(e,n,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SankeyRadialCoordinateSystemPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isSankeyRadialCoordinateSystemView=function(e){return!!t._isPolarCoordinateSystemView(e)&&"function"==typeof e._getSankeyPlotView}}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e.prototype._getSankeyPlotView=function(){return this._getPlotViews()[0]},e}(t._PolarCoordinateSystemView);t._SankeyRadialCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){if(t._isSankeyRadialCoordinateSystemDefinition(n)){var i=n;return new t._SankeyRadialCoordinateSystemView(e,i)}return null},e._defaultBuilder=new e,e}();t._SankeyRadialCoordinateSystemViewBuilder=e}(t||(t={})),function(t){t._isSankeyRadialPlotDefinition=function(t){var e=t;return void 0!==e._nodeHeightInPercentageOfRadius&&void 0!==e._nodeGapInRadian}}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,o,t._SankeyRadialPlotViewBuilder._defaultBuilder,t._SankeyRadialPlotDataModelBuilder._defaultBuilder)||this,l=r._getSankeyPlotConfigOption();return r._nodeHeightInPercentageOfRadius=r._getNodeHeightInPercentageOfRadius(l),r._nodeGapInRadian=r._getNodeGapInRadian(l),r}return n(i,e),i.prototype._getCoordinateSystemType=function(){return"SankeyRadial"},i.prototype._getNodeHeightInPercentageOfRadius=function(t){var e=t.innerRadius;return null!=e?1-e:.15},i.prototype._getNodeGapInRadian=function(e){var n=e.node;return null!=n?t._Util.degree2Rad(n.padAngle):t._Util.degree2Rad(1)},i}(t._SankeyPlotDefinition);t._SankeyRadialPlotDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SankeyRadial",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Sankey"===n.type&&n.config.axisMode==t.AxisMode.Radial?new t._SankeyRadialPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SankeyRadialPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function o(n,i,o,r,l){var a=e.call(this,n,i,l)||this;return a._source=o,a._target=r,a.__start=null,a.__end=null,a.__curveWidthInRadian=null,a.__layouter=new t._SankeyRadialFlowViewLayouter(o,r),a}return n(o,e),o.prototype._layout=function(t,e,n){this.__start=this.__layouter._getStartCoordinateValue(this),this.__end=this.__layouter._getEndCoordinateValue(this),this.__curveWidthInRadian=this.__layouter._getCurveWidthInRadian(this)},o.prototype._drawView=function(e,n){if(null!=this._sankeyPlotView()._sankeyCoordinateSystemView()._getCenter()&&null!=this._source._location&&null!=this._target._location){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i);var o=this._sankeyPlotView(),r=new t._PolarCoordinateValue(this._start._radius,this._start._radian-this._curveWidthInRadian/2),l=new t._PolarCoordinateValue(this._start._radius,this._start._radian+this._curveWidthInRadian/2),a=new t._PolarCoordinateValue(this._end._radius,this._end._radian-this._curveWidthInRadian/2),u=new t._PolarCoordinateValue(this._end._radius,this._end._radian+this._curveWidthInRadian/2);this._flowPath=this._buildFlowPath(o,r,l,a,u);var s=this._isTargetCoverSource(r,l,a,u);e.drawPath(this._flowPath,s?t.PathFillType.Nonzero:t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform()}},o.prototype._controlCoordinateValue=function(t,e){var n=t.clone();return n._radius-=n._radius*e,n},o.prototype._normalizeCurveRadian=function(e){return e>=t._Utility._PI2?this._normalizeCurveRadian(e-t._Utility._PI2):e<0?this._normalizeCurveRadian(e+t._Utility._PI2):e>Math.PI?t._Utility._PI2-e:e},o.prototype._isTargetCoverSource=function(t,e,n,i){return!(!t.equalsWith(n)||!e.equalsWith(i))},Object.defineProperty(o.prototype,"_start",{get:function(){return null==this.__start&&(this.__start=this.__layouter._getStartCoordinateValue(this)),this.__start},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_end",{get:function(){return null==this.__end&&(this.__end=this.__layouter._getEndCoordinateValue(this)),this.__end},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_curveWidthInRadian",{get:function(){return null==this.__curveWidthInRadian&&(this.__curveWidthInRadian=this.__layouter._getCurveWidthInRadian(this)),this.__curveWidthInRadian},enumerable:!1,configurable:!0}),o.prototype._sankeyPlotView=function(){return this._ownerView},o.prototype._getLayoutShape=function(){var e=this._sankeyPlotView(),n=new t._PolarCoordinateValue(this._start._radius,this._start._radian-this._curveWidthInRadian/2),i=new t._PolarCoordinateValue(this._start._radius,this._start._radian+this._curveWidthInRadian/2),o=new t._PolarCoordinateValue(this._end._radius,this._end._radian-this._curveWidthInRadian/2),r=new t._PolarCoordinateValue(this._end._radius,this._end._radian+this._curveWidthInRadian/2),l=this._buildFlowPath(e,n,i,o,r),a=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(l);return new t._RectangleShape(a.center.x,a.center.y,a.width,a.height,0)},o.prototype._getSankeyPlotView=function(){return this._sankeyPlotView()},o.prototype._getSourceNodeView=function(){return this._source},o.prototype._getTargetNodeView=function(){return this._target},o.prototype._getIndex=function(){return this._sankeyPlotView()._flowViews.indexOf(this)},o.prototype._shape=function(){return null},o.prototype.queryInterface=function(t){return"ISankeyRadialFlowView"===t?this:e.prototype.queryInterface.call(this,t)},o.prototype._buildFlowPath=function(e,n,i,o,r){var l=t._Util.degree2Rad(e._sankeyPlotDefinition()._plotOption.config.sweep),a=e._sankeyCoordinateSystemView(),u=a._toPoint(n),s=a._toPoint(i),_=a._toPoint(o),p=a._toPoint(r),c=o._radian>=i._radian?o._radian-i._radian:i._radian-o._radian,h=r._radian>=n._radian?r._radian-n._radian:n._radian-r._radian,f=0==l?0:this._normalizeCurveRadian(c)/l,d=0==l?0:this._normalizeCurveRadian(h)/l,y=this._controlCoordinateValue(n,d),g=this._controlCoordinateValue(i,f),m=this._controlCoordinateValue(o,f),v=this._controlCoordinateValue(r,d),w=a._toPoint(y),b=a._toPoint(g),P=a._toPoint(m),S=a._toPoint(v),C=t._PathCommandBuilder._defaultPathCommandBuilder,V=[];return V.push(C._buildMoveToPathCommand(u.x,u.y)),V.push(C._buildSvgArcToPathCommand(n._radius,i._radius,0,0,1,s.x,s.y)),V.push(C._buildCurveToPathCommand(b.x,b.y,P.x,P.y,_.x,_.y)),V.push(C._buildSvgArcToPathCommand(o._radius,r._radius,0,0,1,p.x,p.y)),V.push(C._buildCurveToPathCommand(S.x,S.y,w.x,w.y,u.x,u.y)),V.push(C._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(V)},o.prototype._selectionAdorner=function(){return new i(this)},o}(t._SankeyFlowView);t._SankeyRadialFlowView=e;var i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._createPoints=function(e){var n=new t._PolarCoordinateValue(e._start._radius,e._start._radian-e._curveWidthInRadian/2),i=new t._PolarCoordinateValue(e._start._radius,e._start._radian+e._curveWidthInRadian/2),o=new t._PolarCoordinateValue(e._end._radius,e._end._radian-e._curveWidthInRadian/2),r=new t._PolarCoordinateValue(e._end._radius,e._end._radian+e._curveWidthInRadian/2),l=e._sankeyPlotView()._sankeyCoordinateSystemView(),a=l._toPoint(n),u=l._toPoint(i),s=l._toPoint(o),_=l._toPoint(r),p=[];return p.push(a),p.push(u),p.push(s),p.push(_),p},i}(t._PointAdorner)}(t||(t={})),function(t){var e=function(){function e(t,e){this.__sourceNode=t,this.__targetNode=e,this.__radianPerWeight=null,this.__sourceNodeFlowList=null,this.__targetNodeFlowList=null}return e.prototype._getStartCoordinateValue=function(t){return this._getFlowCoordinateValueByNode(t,t._source,this._getSourceNodeFlowList())},e.prototype._getEndCoordinateValue=function(t){return this._getFlowCoordinateValueByNode(t,t._target,this._getTargetNodeFlowList())},e.prototype._getCurveWidthInRadian=function(t){var e=this._getRadianPerWeight();return t._source==t._target?2*t._getShowWeight()*e:t._getShowWeight()*e},e.prototype._getFlowCoordinateValueByNode=function(t,e,n){var i=e._location.clone();i._radius=e._sankeyPlotView()._sankeyCoordinateSystemView()._getRadius()-e._heightInRadius,i._radian-=e._widthInRadian/2;var o=n.indexOf(t);if(o>=0){for(var r=0;r<=o;r++)i._radian+=r==o?this._getCurveWidthInRadian(n[r])/2:this._getCurveWidthInRadian(n[r]);return i}return null},e.prototype._getSourceNodeFlowList=function(){return null==this.__sourceNodeFlowList&&(this.__sourceNodeFlowList=this._sortFlowsInNode(this.__sourceNode)),this.__sourceNodeFlowList},e.prototype._getTargetNodeFlowList=function(){return null==this.__targetNodeFlowList&&(this.__targetNodeFlowList=this._sortFlowsInNode(this.__targetNode)),this.__targetNodeFlowList},e.prototype._sortFlowsInNode=function(t){for(var e=new Array,n=t._value,i=t._sankeyPlotView()._nodeViews,o=i.indexOf(t),r=0,l=i.slice(0,o+1).reverse().concat(i.slice(o+1).reverse());r<l.length;r++){var a=l[r];a._outcomes.forEach((function(t){t._target._value==n&&e.indexOf(t)<0&&e.push(t)})),a._incomes.forEach((function(t){t._source._value==n&&e.indexOf(t)<0&&e.push(t)}))}return e},e.prototype._getRadianPerWeight=function(){if(null==this.__radianPerWeight){var t=this.__sourceNode._sankeyPlotView(),e=this._getSweepRadian(t._sankeyPlotDefinition()._plotOption.config.sweep);this.__radianPerWeight=this._calculateRadianPerWeight(t,e)}return this.__radianPerWeight},e.prototype._calculateRadianPerWeight=function(e,n){var i=e._nodeViews,o=this._nodeGapInRadian(e),r=i.reduce((function(t,e){return t+e._weight()}),0);if(0==r)return 0;var l=void 0;return(l=null==n||n>=t._Utility._PI2?(t._Utility._PI2-i.length*o)/r:(n-(i.length-1)*o)/r)<=0?0:l},e.prototype._nodeGapInRadian=function(t){return t._sankeyPlotDefinition()._nodeGapInRadian},e.prototype._getSweepRadian=function(e){return e>=360?t._Utility._PI2:t._Util.degree2Rad(e)},e}();t._SankeyRadialFlowViewLayouter=e}(t||(t={})),function(t){t._isSankeyRadialNodeView=function(t){var e=t;return null!=e&&void 0!==e._incomes&&void 0!==e._outcomes&&void 0!==e._location&&void 0!==e._widthInRadian&&void 0!==e._heightInRadius&&"function"==typeof e._sankeyPlotView&&"function"==typeof e._getLayoutShape}}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._getNodeView=function(){return this._ownerView},i.prototype._layout=function(e,n){var i=this._getTextPosition(this._textOption),o=this._getMaxWidth(this._textOption),r=this._textOption.offset,l=this._measureLabelSize(e,new t.core.Size(o,Number.MAX_VALUE))._size,a=this._getNodeView(),u=a._sankeyPlotView()._sankeyCoordinateSystemView(),s=u._normalizeRadian(a._location._radian),_=null,p=null,c=this._getTextAngleFromOption(this._textOption);if(i==t.TextPosition.Center){var h=new t._PolarCoordinateValue(a._location._radius-a._heightInRadius/2,s);_=(f=u._toPoint(h)).x-l.width/2,p=f.y-l.height/2,null==c&&(c=this._getCenterPositionTextAngle(h,u))}else if(i==t.TextPosition.Outside){h=new t._PolarCoordinateValue(a._location._radius+r,s);var f=u._toPoint(h);(d=this._getActualLocationRadian(h,u))>=0&&d<Math.PI/2?(_=f.x,p=f.y):d>=Math.PI/2&&d<Math.PI?(_=f.x-l.width,p=f.y):d>=Math.PI&&d<3*Math.PI/2?(_=f.x-l.width,p=f.y-l.height):d>=3*Math.PI/2&&d<2*Math.PI&&(_=f.x,p=f.y-l.height)}else if(i==t.TextPosition.Inside){var d;h=new t._PolarCoordinateValue(a._location._radius-r,s),f=u._toPoint(h),(d=this._getActualLocationRadian(h,u))>=0&&d<Math.PI/2?(_=f.x-l.width,p=f.y-l.height):d>=Math.PI/2&&d<Math.PI?(_=f.x,p=f.y-l.height):d>=Math.PI&&d<3*Math.PI/2?(_=f.x,p=f.y):d>=3*Math.PI/2&&d<2*Math.PI&&(_=f.x-l.width,p=f.y)}null!=_&&null!=p&&(this._getTextView()._layout(e,n,new t.core.Rect(_,p,l.width,l.height)),this._setTextLocation(this._getTextView()._getRectangle().center),this._setTextAngle(c))},i.prototype._getCenterPositionTextAngle=function(t,e){var n=this._getActualLocationRadian(t,e);return n>Math.PI/2&&n<=3*Math.PI/2&&(n+=Math.PI),n},i.prototype._getActualLocationRadian=function(t,e){var n=e._adjustPolarCoordinateRadian(t);return e._normalizeRadian(n._radian)},i}(t._SankeyNodeLabelView);t._SankeyRadialNodeLabelView=e}(t||(t={})),function(t){var e=function(e){function o(t,n,i){void 0===i&&(i=null);var o=e.call(this,t,n,i)||this;return o._incomes=new Array,o._outcomes=new Array,o._location=null,o._widthInRadian=0,o._heightInRadius=0,o}return n(o,e),o.prototype._drawView=function(e,n){if(null!=this._location){var i=this._sankeyPlotView()._sankeyCoordinateSystemView(),o=i._getCenter();if(null!=o){e.beginTransform();var r=this._calculateStyle(this._nodeStyleBuilder,this,n);t._StyleUtility._applyStyle(e,r);var l=i._adjustPolarCoordinateRadian(this._location),a=i._getRadius(),u=a-this._heightInRadius,s=l._radian-this._widthInRadian/2,_=this._widthInRadian,p=this._sankeyPlotView()._sankeyPlotDefinition()._getSankeyPlotConfigOption().node,c=null!=p?p.borderRadius:null,h=t._PathUtility._buildDonutSegmentWithBorderRadius(o.x,o.y,a,u,s,_,c);null!=h?e.drawPath(h,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(o.x,o.y,a,u,s,_),e.restoreTransform()}}},o.prototype._sankeyPlotView=function(){return this._ownerView},o.prototype._getLayoutShape=function(){var e=this._sankeyPlotView()._sankeyCoordinateSystemView(),n=e._getRadius(),i=new t._PolarCoordinateValue(n,this._location._radian-this._widthInRadian/2),o=new t._PolarCoordinateValue(n,this._location._radian+this._widthInRadian/2),r=new t._PolarCoordinateValue(n-this._heightInRadius,this._location._radian-this._widthInRadian/2),l=new t._PolarCoordinateValue(n-this._heightInRadius,this._location._radian+this._widthInRadian/2),a=[];a.push(e._toPoint(i)),a.push(e._toPoint(o)),a.push(e._toPoint(r)),a.push(e._toPoint(l));for(var u=null,s=null,_=null,p=null,c=0,h=a;c<h.length;c++){var f=h[c];(null==u||f.x<u)&&(u=f.x),(null==s||f.y<s)&&(s=f.y),(null==_||f.x>_)&&(_=f.x),(null==p||f.y>p)&&(p=f.y)}return new t._RectangleShape((u+_)/2,(s+p)/2,_-u,p-s,0)},o.prototype._weight=function(){return this._incomeWeight()+this._outcomeWeight()},o.prototype._getIndex=function(){return this._sankeyPlotView()._nodeViews.indexOf(this)},o.prototype.queryInterface=function(t){return"ISankeyRadialNodeView"===t?this:e.prototype.queryInterface.call(this,t)},o.prototype._shape=function(){var e=this._sankeyPlotView()._sankeyCoordinateSystemView(),n=e._getCenter(),i=e._getRadius(),o=i-this._heightInRadius,r=e._adjustPolarCoordinateRadian(this._location)._radian-this._widthInRadian/2,l=this._widthInRadian;return new t._DonutShape(n,i,o,r,l)},o.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(this._nodeContainPoint(this,n)){var r=new t.HitTestResult(n,this,this,t.ElementType.Node);return null==o||null!=o&&o.predicate(r)?r:null}return e.prototype._hitTest.call(this,n,i,o)},o.prototype._nodeContainPoint=function(t,e){var n=this._sankeyPlotView()._sankeyCoordinateSystemView(),i=n._getCenter(),o=n._getRadius(),r=o-t._heightInRadius,l=t._location._radian-t._widthInRadian/2,a=t._widthInRadian,u=e.x-i.x,s=e.y-i.y,_=u*u+s*s;if(_>=r*r&&_<=o*o){var p=90*a/Math.PI,c=this._clampAngle(180*l/Math.PI+p),h=180*Math.atan2(s,u)/Math.PI,f=this._clampAngle(c-h);if(Math.abs(f)<=p)return!0}return!1},o.prototype._clampAngle=function(t){var e=(t+180)%360-180;return e<-180&&(e+=360),e},o.prototype._incomeWeight=function(){for(var t=0,e=0,n=this._incomes;e<n.length;e++){var i=n[e]._weight;null==i||isNaN(i)||(t+=i)}return t},o.prototype._outcomeWeight=function(){for(var t=0,e=0,n=this._outcomes;e<n.length;e++){var i=n[e]._weight;null==i||isNaN(i)||(t+=i)}return t},o.prototype._createTooltipHtmlContent=function(e){var n=this._createTooltipTemplate(e);if(null==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t._SankeyRadialNodeTooltipTextProxy(this,null),l=this._sankeyPlotView(),a=l._getDefinition()._plotConfigOption.plugins,u=l._getDefinition()._pluginCollection,s=i.evaluate(o,r,a,u);return this._toHtml(s)},o.prototype._createTooltipTemplate=function(t){return null!=t?null!=t.template?t.template:this._getDefaultTooltipTemplate(this._incomes,this._outcomes):null},o.prototype._getDefaultTooltipTemplate=function(t,e){var n=[];n.push("{name}: {value}"),n.push("Income:");for(var i=0;i<t.length;i++){var o="{income["+i.toString()+"].name}",r="{income["+i.toString()+"].value}";n.push(" "+o+": "+r)}for(n.push("Outcome:"),i=0;i<e.length;i++)o="{outcome["+i.toString()+"].name}",r="{outcome["+i.toString()+"].value}",n.push(" "+o+": "+r);return n.join("\n")},o.prototype._selectionAdorner=function(){return new i(this)},o}(t._SankeyNodeView);t._SankeyRadialNodeView=e;var i=function(){function e(t){this.points=this._createPoints(t)}return e.prototype._createPoints=function(e){var n=e._sankeyPlotView()._sankeyCoordinateSystemView(),i=n._getRadius(),o=new t._PolarCoordinateValue(i,e._location._radian-e._widthInRadian/2),r=new t._PolarCoordinateValue(i,e._location._radian+e._widthInRadian/2),l=new t._PolarCoordinateValue(i-e._heightInRadius,e._location._radian-e._widthInRadian/2),a=new t._PolarCoordinateValue(i-e._heightInRadius,e._location._radian+e._widthInRadian/2),u=[];return u.push(n._toPoint(o)),u.push(n._toPoint(r)),u.push(n._toPoint(l)),u.push(n._toPoint(a)),u},e}()}(t||(t={})),t||(t={}),function(t){var e=function(e){function o(t,n,i){var o=e.call(this,t,n,i)||this;return o._generateChildViews(o._dataModel),o}return n(o,e),o.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o),t._SankeyRadialPlotViewLayouter._defaultLayouter._layout(n,i,o,this)},o.prototype._drawView=function(t,n){e.prototype._drawView.call(this,t,n)},o.prototype._generateChildViews=function(e){for(var n,i,o=[],r=[],l=0,a=e._flows;l<a.length;l++){var u=a[l];if(null!=u._source){var s=this._findNodeView(this._nodeViews,u._source),_=this._findNodeView(this._nodeViews,u._target),p=new t._SankeyRadialFlowView(this,u,s,_,this._sankeyFlowPointStyleBuilder);s._outcomes.push(p),_._incomes.push(p),this._flowViews.push(p),o.push(p),r.indexOf(s)<0&&r.push(s),r.indexOf(_)<0&&r.push(_)}}(n=this._visualViews).push.apply(n,o),(i=this._visualViews).push.apply(i,r)},o.prototype._findNodeView=function(e,n){for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer._equalsWith(r._value,n))return r}var l=new t._SankeyRadialNodeView(this,n,this._sankeyNodeStyleBuilder);return e.push(l),l},o.prototype._sankeyPlotDefinition=function(){return this._definition},o.prototype._sankeyCoordinateSystemView=function(){return this._coordinateSystemView()},o.prototype._getLayoutShapes=function(){for(var t=[],e=0,n=this._nodeViews;e<n.length;e++){var i=n[e];t.push(i._getLayoutShape())}for(var o=0,r=this._flowViews;o<r.length;o++){var l=r[o];t.push(l._getLayoutShape())}return t},o.prototype._getSankeyPlotDefinition=function(){return this._definition},o.prototype._traverseNodeViews=function(t,e){for(var n=0,i=this._nodeViews;n<i.length;n++)t(i[n],e)},o.prototype._traverseFlowViews=function(t,e){for(var n=0,i=this._flowViews;n<i.length;n++)t(i[n],e)},o.prototype._prepareDataLabelOverlay=function(){e.prototype._prepareDataLabelOverlay.call(this);var n=this._getSankeyPlotDefinition()._nodeLabelOverlayDefinition;null!=n&&this._getOverlayViews().push(new t._SankeyNodeLabelOverlayView(this,n,new i))},o}(t._SankeyPlotView);t._SankeyRadialPlotView=e;var i=function(){function e(){}return e.prototype._buildNodeLabelView=function(e,n,i){if(t._isSankeyRadialNodeView(e)){var o=e;return new t._SankeyRadialNodeLabelView(o,n,i)}return null},e}()}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){if(t._isSankeyPlotDefinition(n)&&t._isSankeyRadialPlotDefinition(n)){var o=n;return new t._SankeyRadialPlotView(e,o,i)}return null},e._defaultBuilder=new e,e}();t._SankeyRadialPlotViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._layout=function(t,e,n,i){null!=i._sankeyCoordinateSystemView()._getCenter()&&(this._layoutNodeViews(i),this._layoutFlowViews(t,e,n,i))},e.prototype._factory=function(e,n,i){var o=e.reduce((function(t,e){return t+e._weight()}),0);return 0==o?0:null==i||i>=t._Utility._PI2?(t._Utility._PI2-e.length*n)/o:(i-(e.length-1)*n)/o},e.prototype._nodeHeightInPercentageOfRadius=function(t){return t._nodeHeightInPercentageOfRadius},e.prototype._nodeGapInRadian=function(t){return t._nodeGapInRadian},e.prototype._layoutNodeViews=function(e){var n=e._sankeyCoordinateSystemView()._getRadius(),i=e._sankeyPlotDefinition(),o=this._nodeGapInRadian(i),r=n*this._nodeHeightInPercentageOfRadius(i),l=t._Util.degree2Rad(i._plotOption.config.startAngle),a=this._getSweepRadian(i._plotOption.config.sweep),u=this._factory(e._nodeViews,o,a),s=e._nodeViews;u<0&&(u=0,o=a/s.length);for(var _=new t._PolarCoordinateValue(n,l),p=0,c=s;p<c.length;p++){var h=c[p];h._location=_.clone(),h._heightInRadius=r,h._widthInRadian=u*h._weight(),h._location._radian+=h._widthInRadian/2,_._radian+=h._widthInRadian+o}},e.prototype._getSweepRadian=function(e){return e>=360?t._Utility._PI2:t._Util.degree2Rad(e)},e.prototype._layoutFlowViews=function(t,e,n,i){for(var o=0,r=i._flowViews;o<r.length;o++)r[o]._layout(t,e,n)},e._defaultLayouter=new e,e}();t._SankeyRadialPlotViewLayouter=e}(t||(t={})),function(t){t._isSankeyXyPlotDefinition=function(t){var e=t;return void 0!==e._nodeGap&&void 0!==e._nodeWidth}}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,o,t._SankeyXyPlotViewBuilder._defaultBuilder,t._SankeyXyPlotDataModelBuilder._defaultBuilder)||this,l=r._getSankeyPlotConfigOption();return r._nodeGap=r._getNodeGap(l),r._nodeWidth=r._getNodeWidth(l),r}return n(i,e),i.prototype._getCoordinateSystemType=function(){return"Xy"},i.prototype._getNodeGap=function(t){var e=t.node;return null!=e?e.nodeGap:10},i.prototype._getNodeWidth=function(t){var e=t.node;return null!=e?e.width:20},i}(t._SankeyPlotDefinition);t._SankeyXyPlotDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SankeyXy",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"Sankey"===n.type&&n.config.axisMode==t.AxisMode.Cartesian?new t._SankeyXyPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SankeyXyPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function o(t,n,i,o,r){var l=e.call(this,t,n,r)||this;return l._source=i,l._target=o,l}return n(o,e),o.prototype._sankeyPlotView=function(){return this._ownerView},o.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i),this._flowPath=this._buildFlowPath(this._start,this._end,this._curveWidth),e.drawPath(this._flowPath,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform()},o.prototype._getSankeyPlotView=function(){return this._sankeyPlotView()},o.prototype._getSourceNodeView=function(){return this._source},o.prototype._getTargetNodeView=function(){return this._target},o.prototype._getIndex=function(){return this._sankeyPlotView()._flowViews.indexOf(this)},o.prototype._shape=function(){return null},o.prototype.queryInterface=function(t){return"ISankeyXyFlowView"===t?this:e.prototype.queryInterface.call(this,t)},o.prototype._buildFlowPath=function(e,n,i){var o=t._PathCommandBuilder._defaultPathCommandBuilder,r=[];return r.push(o._buildMoveToPathCommand(e.x,e.y-i/2)),r.push(o._buildCurveToPathCommand((e.x+n.x)/2,e.y-i/2,(e.x+n.x)/2,n.y-i/2,n.x,n.y-i/2)),r.push(o._buildLineToPathCommand(n.x,n.y+i/2)),r.push(o._buildCurveToPathCommand((n.x+e.x)/2,n.y+i/2,(n.x+e.x)/2,e.y+i/2,e.x,e.y+i/2)),r.push(o._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(r)},o.prototype._selectionAdorner=function(){return new i(this)},o}(t._SankeyFlowView);t._SankeyXyFlowView=e;var i=function(e){function i(t){return e.call(this,t)||this}return n(i,e),i.prototype._createPoints=function(e){var n=e._start,i=e._end,o=e._curveWidth,r=new t.core.Point(n.x,n.y-o/2),l=new t.core.Point(n.x,n.y+o/2),a=new t.core.Point(i.x,i.y-o/2),u=new t.core.Point(i.x,i.y+o/2),s=[];return s.push(r),s.push(l),s.push(a),s.push(u),s},i}(t._PointAdorner)}(t||(t={})),function(t){t._isSankeyXyFlowView=function(t){var e=t;return null!=e&&void 0!==e._source&&void 0!==e._target&&void 0!==e._start&&void 0!==e._end&&void 0!==e._curveWidth&&"function"==typeof e._sankeyPlotView}}(t||(t={})),function(t){var e=function(e){function o(t,n,i,o){var r=e.call(this,t,n,i,null,o)||this;return r._end=null,r}return n(o,e),o.prototype._drawView=function(e,n){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyStyle(e,i);var o=this._getDropOffWidth();this._flowPath=this._buildDropOffPath(this._start,this._curveWidth,o),e.drawPath(this._flowPath,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform()},o.prototype._getDropOffWidth=function(){return this._source._rectangle.width/4},o.prototype._selectionAdorner=function(){return new i(this,this._getDropOffWidth())},o.prototype._buildDropOffPath=function(e,n,i){var o=t._PathCommandBuilder._defaultPathCommandBuilder,r=[];return r.push(o._buildMoveToPathCommand(e.x,e.y-n/2)),r.push(o._buildSvgArcToPathCommand(i,i,0,0,1,e.x+i,e.y-n/2+i)),r.push(o._buildLineToPathCommand(e.x+i,e.y+n/2)),r.push(o._buildLineToPathCommand(e.x+i/2,e.y+n/2+i)),r.push(o._buildLineToPathCommand(e.x,e.y+n/2)),r.push(o._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(r)},o}(t._SankeyXyFlowView);t._SankeyDropOffView=e;var i=function(e){function i(t,n){var i=e.call(this,t)||this;return i.__dropOffWidth=n,i}return n(i,e),i.prototype._createPoints=function(e){var n=e._start,i=e._curveWidth,o=new t.core.Point(n.x,n.y-i/2),r=new t.core.Point(n.x+this.__dropOffWidth,n.y-i/2),l=new t.core.Point(n.x+this.__dropOffWidth,n.y+i/2),a=new t.core.Point(n.x,n.y+i/2),u=[];return u.push(o),u.push(r),u.push(l),u.push(a),u},i}(t._PointAdorner)}(t||(t={})),function(t){t._isSankeyXyNodeView=function(t){var e=t;return null!=e&&void 0!==e._incomes&&void 0!==e._outcomes&&void 0!==e._rectangle&&"function"==typeof e._sankeyPlotView}}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._getNodeView=function(){return this._ownerView},i.prototype._layout=function(e,n){var i=this._getNodeView()._rectangle,o=this._getTextPosition(this._textOption),r=this._textOption.placement,l=this._getPosition(r),a=this._getMaxWidth(this._textOption),u=this._textOption.offset,s=this._measureLabelSize(e,new t.core.Size(a,Number.MAX_VALUE))._size,_=i.left,p=i.top;if(o==t.TextPosition.Center){var c=i.center.clone();_=c.x-s.width/2,p=c.y-s.height/2}else if(l==t.Position.Top){var h=new t.core.Point(i.left+i.width/2,i.top);_=h.x-s.width/2,p=o==t.TextPosition.Outside?h.y-s.height-u:h.y+u}else if(l==t.Position.Left){var f=new t.core.Point(i.left,i.top+i.height/2);p=f.y-s.height/2,_=o==t.TextPosition.Outside?f.x-s.width-u:f.x+u}else if(l==t.Position.Right){var d=new t.core.Point(i.right,i.top+i.height/2);p=d.y-s.height/2,_=o==t.TextPosition.Outside?d.x+u:d.x-s.width-u}else if(l==t.Position.Bottom){var y=new t.core.Point(i.left+i.width/2,i.bottom);_=y.x-s.width/2,p=o==t.TextPosition.Outside?y.y+u:y.y-s.height-u}this._getTextView()._layout(e,n,new t.core.Rect(_,p,s.width,s.height)),this._setTextLocation(this._getTextView()._getRectangle().center),this._setTextAngle(this._getTextAngleFromOption(this._textOption))},i}(t._SankeyNodeLabelView);t._SankeyXyNodeLabelView=e}(t||(t={})),function(t){var e=function(e){function o(t,n,i){void 0===i&&(i=null);var o=e.call(this,t,n,i)||this;return o._incomes=new Array,o._outcomes=new Array,o._rectangle=null,o}return n(o,e),o.prototype._drawView=function(e,n){if(null!=this._rectangle){e.beginTransform();var i=this._calculateStyle(this._nodeStyleBuilder,this,n);t._StyleUtility._applyStyle(e,i);var o=this._sankeyPlotView()._sankeyPlotDefinition()._getSankeyPlotConfigOption().node,r=null!=o?o.borderRadius:null,l=t._PathUtility._buildRectangleWithBorderRadius(this._rectangle.left,this._rectangle.top,this._rectangle.width,this._rectangle.height,r);null!=l?e.drawPath(l,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawRect(this._rectangle.left,this._rectangle.top,this._rectangle.width,this._rectangle.height),e.restoreTransform()}},o.prototype._sankeyPlotView=function(){return this._ownerView},o.prototype._weight=function(){return Math.max(this._incomeWeight(),this._outcomeWeight())},o.prototype._getIndex=function(){return this._sankeyPlotView()._nodeViews.indexOf(this)},o.prototype.queryInterface=function(t){return"ISankeyXyNodeView"===t?this:e.prototype.queryInterface.call(this,t)},o.prototype._shape=function(){var e=this._rectangle;return new t._RectangleShape(e.center.x,e.center.y,e.width,e.height,0)},o.prototype._selectionAdorner=function(){return new i(this)},o.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rectangle;if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.Node);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},o.prototype._incomeWeight=function(){for(var t=0,e=0,n=this._incomes;e<n.length;e++){var i=n[e]._weight;null==i||isNaN(i)||(t+=i)}return t},o.prototype._outcomeWeight=function(){for(var t=0,e=0,n=this._outcomes;e<n.length;e++){var i=n[e]._weight;null==i||isNaN(i)||(t+=i)}return t},o.prototype._createTooltipHtmlContent=function(e){var n=this._createTooltipTemplate(e);if(null==n)return null;var i=t._TemplateSyntaxEngine._defaultSyntaxEngine(),o=i.parse(n),r=new t._SankeyXyNodeTooltipTextProxy(this,null),l=this._sankeyPlotView(),a=l._getDefinition()._plotConfigOption.plugins,u=l._getDefinition()._pluginCollection,s=i.evaluate(o,r,a,u);return this._toHtml(s)},o.prototype._createTooltipTemplate=function(t){return null!=t?null!=t.template?t.template:this._getDefaultTooltipTemplate(this._incomes,this._outcomes):null},o.prototype._getDefaultTooltipTemplate=function(t,e){var n=[];n.push("{name}: {value}"),n.push("Income:");for(var i=0;i<t.length;i++){var o="{income["+i.toString()+"].name}",r="{income["+i.toString()+"].value}";n.push(" "+o+": "+r)}for(n.push("Outcome:"),i=0;i<e.length;i++)o="{outcome["+i.toString()+"].name}",r="{outcome["+i.toString()+"].value}",n.push(" "+o+": "+r);return n.join("\n")},o}(t._SankeyNodeView);t._SankeyXyNodeView=e;var i=function(){function e(t){this.points=this._createPoints(t)}return e.prototype._createPoints=function(e){var n=[],i=e._rectangle;return null!=i&&(n.push(new t.core.Point(i.left,i.top)),n.push(new t.core.Point(i.right,i.top)),n.push(new t.core.Point(i.left,i.bottom)),n.push(new t.core.Point(i.right,i.bottom))),n},e}()}(t||(t={})),t||(t={}),function(t){var e=function(e){function r(n,i,o){var r=e.call(this,n,i,o)||this;return r.__sankeyDropOffPointStyleBuilder=new t._SankeyDropOffPointStyleBuilder,r.__sourceNodeViews=[],r.__targetNodeViews=[],r._checkCyclicData(o._flows),r._generateChildViews(o),r}return n(r,e),r.prototype._sankeyPlotDefinition=function(){return this._definition},r.prototype._getSourceNodeViews=function(){return this.__sourceNodeViews},r.prototype._getTargetNodeViews=function(){return this.__targetNodeViews},r.prototype._getSankeyPlotDefinition=function(){return this._definition},r.prototype._traverseNodeViews=function(t,e){for(var n=0,i=this._nodeViews;n<i.length;n++)t(i[n],e)},r.prototype._traverseFlowViews=function(t,e){for(var n=0,i=this._flowViews;n<i.length;n++)t(i[n],e)},r.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o),t._SankeyXyPlotViewLayouter._defaultLayouter._layout(n,o,this)},r.prototype._checkCyclicData=function(e){if(!this._createDirectedGraph(e)._isDAG())throw new t.RuntimeError(t.ErrorCode.CyclicDataExisted)},r.prototype._createDirectedGraph=function(t){for(var e=this._getVertexes(t),n=new o(e.length),i=0,r=t;i<r.length;i++){var l=r[i],a=e.indexOf(l._source),u=e.indexOf(l._target);n._addEdge(a,u)}return n},r.prototype._getVertexes=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n],r=o._source,l=o._target;e.indexOf(r)<0&&e.push(r),e.indexOf(l)<0&&e.push(l)}return e},r.prototype._generateChildViews=function(e){for(var n,i,o=0,r=e._flows;o<r.length;o++){var l=r[o];if(null!=l._source)if(null==l._target||t._DataValueTypeUtility._isNaN(l._target)){var a=this._findNodeView(this._nodeViews,l._source),u=new t._SankeyDropOffView(this,l,a,this.__sankeyDropOffPointStyleBuilder);a._outcomes.push(u),this._flowViews.push(u),this._addNodeView(a,this.__sourceNodeViews)}else{a=this._findNodeView(this._nodeViews,l._source);var s=this._findNodeView(this._nodeViews,l._target),_=new t._SankeyXyFlowView(this,l,a,s,this._sankeyFlowPointStyleBuilder);a._outcomes.push(_),s._incomes.push(_),this._flowViews.push(_),this._addNodeView(a,this.__sourceNodeViews),this._addNodeView(s,this.__targetNodeViews)}}(n=this._visualViews).push.apply(n,this._flowViews),(i=this._visualViews).push.apply(i,this._nodeViews)},r.prototype._findNodeView=function(e,n){for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t._DataValueTypeEqualityComparer._dataValueTypeEqualityComparer._equalsWith(r._value,n))return r}var l=new t._SankeyXyNodeView(this,n,this._sankeyNodeStyleBuilder);return e.push(l),l},r.prototype._addNodeView=function(t,e){e.indexOf(t)<0&&e.push(t)},r.prototype._prepareDataLabelOverlay=function(){e.prototype._prepareDataLabelOverlay.call(this);var n=this._getSankeyPlotDefinition()._nodeLabelOverlayDefinition;null!=n&&this._getOverlayViews().push(new t._SankeyNodeLabelOverlayView(this,n,new i))},r}(t._SankeyPlotView);t._SankeyXyPlotView=e;var i=function(){function e(){}return e.prototype._buildNodeLabelView=function(e,n,i){if(t._isSankeyXyNodeView(e)){var o=e;return new t._SankeyXyNodeLabelView(o,n,i)}return null},e}(),o=function(){function t(t){this.__vertexNumber=t,this.__adjacencyList=[];for(var e=0;e<t;e++)this.__adjacencyList.push(new Array);this.__isDAG=!0}return t.prototype._addEdge=function(t,e){this.__adjacencyList[t].push(e)},t.prototype._isDAG=function(){var t=new Array(this.__vertexNumber);this._fillArray(t,0);for(var e=0;this.__isDAG&&e<this.__vertexNumber;e++)0==t[e]&&this._dfs(e,t);return this.__isDAG},t.prototype._dfs=function(t,e){e[t]=1;for(var n=0,i=this.__adjacencyList[t];n<i.length;n++){var o=i[n];if(0==e[o]){if(this._dfs(o,e),!this.__isDAG)return}else if(1==e[o])return void(this.__isDAG=!1)}e[t]=2},t.prototype._fillArray=function(t,e){for(var n=0;n<t.length;n++)t[n]=e},t}()}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){if(t._isSankeyPlotDefinition(n)&&t._isSankeyXyPlotDefinition(n)){var o=n;return new t._SankeyXyPlotView(e,o,i)}return null},e._defaultBuilder=new e,e}();t._SankeyXyPlotViewBuilder=e}(t||(t={})),function(t){var e=function(){function t(t){this._nodeViews=new Array,this._index=t}return t.prototype._weight=function(){for(var t=0,e=0,n=this._nodeViews;e<n.length;e++)t+=n[e]._weight();return t},t}(),n=function(){function n(){}return n.prototype._layout=function(t,e,n){for(var i=n._rectangle(),o=this._createNodeColumns(n),r=this._nodeWidth(n._sankeyPlotDefinition()),l=Math.floor((i.width-o.length*r)/(o.length-1)),a=this._nodeGap(n._sankeyPlotDefinition()),u=this._minFactory(o,i.height,a),s=0,_=n._flowViews;s<_.length;s++){var p=_[s];p._curveWidth=p._getShowWeight()*u}o.length>0&&(this._layoutNodeViews(i,o,u,a,r,l),this._layoutFlowViews(n,u))},n.prototype._createNodeColumns=function(n){for(var i=new Array,o=function(n){var o=r._columnIndex(n),l=t._Util.find(i,(function(t){return t._index==o}));null==l&&(l=new e(o),i.push(l)),l._nodeViews.push(n)},r=this,l=0,a=n._nodeViews;l<a.length;l++)o(a[l]);return this._updateColumnIndex(i),i.sort((function(t,e){return t._index-e._index})),i},n.prototype._columnIndex=function(t){if(0==t._outcomes.length)return-1;for(var e=0,n=0,i=t._incomes;n<i.length;n++){var o=i[n],r=this._columnIndex(o._source);r>=e&&(e=r+1)}return e},n.prototype._updateColumnIndex=function(e){var n=t._Util.find(e,(function(t){return-1==t._index}));null!=n&&(n._index=e.length-1)},n.prototype._minFactory=function(t,e,n){for(var i=null,o=0,r=t;o<r.length;o++){var l=r[o],a=l._weight();if(0!=a){var u=(e-(l._nodeViews.length-1)*n)/a;(null==i||i>u)&&(i=u)}}return null==i?0:i},n.prototype._layoutNodeViews=function(e,n,i,o,r,l){for(var a=e.left,u=0,s=n;u<s.length;u++){for(var _=s[u],p=_._weight()*i+(_._nodeViews.length-1)*o,c=this._columnVerticalPosition(_,p,e)-p/2,h=0,f=_._nodeViews;h<f.length;h++){var d=f[h],y=new t.core.Rect(a,c,r,d._weight()*i);d._rectangle=y;for(var g=0,m=0,v=d._incomes;m<v.length;m++){var w=v[m];w._end=new t.core.Point(y.left,y.top+g+i*w._getShowWeight()/2),g+=i*w._getShowWeight()}for(var b=0,P=0,S=d._outcomes;P<S.length;P++){var C=S[P];C._start=new t.core.Point(y.right,y.top+b+i*C._getShowWeight()/2),b+=i*C._getShowWeight()}c+=d._rectangle.height+o}a+=r+l}},n.prototype._layoutFlowViews=function(e,n){for(var i=e._getSourceNodeViews().slice().sort((function(t,e){return t._rectangle.top-e._rectangle.top})),o=e._getTargetNodeViews().slice().sort((function(t,e){return t._rectangle.top-e._rectangle.top})),r=0,l=e._nodeViews;r<l.length;r++){for(var a=l[r],u=a._rectangle,s=0,_=0,p=this._sortFlowsInNode(a._incomes,!0,i);_<p.length;_++){var c=p[_];c._end=new t.core.Point(u.left,u.top+s+n*c._getShowWeight()/2),s+=n*c._getShowWeight()}for(var h=0,f=0,d=this._sortFlowsInNode(a._outcomes,!1,o);f<d.length;f++){var y=d[f];y._start=new t.core.Point(u.right,u.top+h+n*y._getShowWeight()/2),h+=n*y._getShowWeight()}}},n.prototype._columnVerticalPosition=function(t,e,n){for(var i=null,o=null,r=0,l=t._nodeViews;r<l.length;r++)for(var a=0,u=l[r]._incomes;a<u.length;a++){var s=u[a];if(null!=s._start){var _=s._start.y-s._curveWidth/2,p=_+s._curveWidth;(null==i||_<i)&&(i=_),(null==o||p>o)&&(o=p)}}if(null==i||null==o)return n.center.y;var c=(i+o)/2;return c-e/2<n.top?n.top+e/2:c+e/2>n.bottom?n.bottom-e/2:c},n.prototype._nodeWidth=function(t){return t._nodeWidth},n.prototype._nodeGap=function(t){return t._nodeGap},n.prototype._sortFlowsInNode=function(t,e,n){if(t.length<2)return t;var i=t.slice();return e?i.sort((function(t,e){return n.indexOf(t._source)-n.indexOf(e._source)})):i.sort((function(t,e){return null==t._target?1:null==e._target?-1:n.indexOf(t._target)-n.indexOf(e._target)})),i},n._defaultLayouter=new n,n}();t._SankeyXyPlotViewLayouter=n}(t||(t={})),function(t){t._isWordCloudPlotDataModel=function(t){var e=t;return null!=e&&"function"==typeof e._getWordCloudPoints&&"function"==typeof e._getTotalValue}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotData=function(e,n){if(t._isWordCloudPlotDefinition(e)){var i=this._createData(e,n);return i._initialize(),i}return null},e.prototype._createData=function(e,n){return new t._WordCloudPlotDataModel(n,e)},e._defaultBuilder=new e,e}();t._WordCloudPlotDataBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__pointDatas=i._createPoints(),i.__totalValue=i._calculateTotalValue(i.__pointDatas),i}return n(i,e),i.prototype._createPoints=function(){var e=this,n=[],i=this._definition()._getEncodingsDefinition(),o=i._valueEncodingDefinition,r=i._getWordCloudCategoryEncodingDefinition();if(null==r){if(t._isXyValueEncodingDefinition(o)){var l=new t._ItemsDataSlicesFilter(o._getExcludeNullsFilter(),[])._filter(this._dataSlices),a=o;l.forEach((function(i){var o=a._getXFieldEncodingDefinition()._getXDataFieldDefinition(),r=a._getDataFieldDefinition(),l=t._ItemsDataSlicesAggregate._defaultAggregate._aggregate(i,o._dataField,t.Aggregate.List),u=t._ItemsDataSlicesAggregate._defaultAggregate._aggregate(i,r._dataField,t.Aggregate.List),s=e._toNumber(u);e._checkWord(l)&&e._checkWeight(s)&&n.push(new t._WordCloudPointDataModel(e,i,l,s,o,r))}))}}else{var u=r._groupingDefinition;if(t._isAggregateValueEncodingDefinition(o))for(var s=o,_=u._dataFieldDefinition,p=s._getDataFieldDefinition(),c=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(this._dataSlices,null),h=new t.QueryGroupByOption(new t._GroupingDefinition(_,null,u._filter)),f=0,d=c.groupBy([h]).query().groups;f<d.length;f++){var y=d[f];if(null!=y.key){var g=t._ItemsDataSlicesAggregate._defaultAggregate._aggregate(y._dataSlices,p._dataField,s._getAggregate()),m=this._toNumber(g);this._checkWord(y.key)&&this._checkWeight(m)&&n.push(new t._WordCloudPointDataModel(this,y._dataSlices,y.key,m,_,p))}}}return n.sort((function(t,e){return e._weight-t._weight}))},i.prototype._toNumber=function(t){if(null==t)return null;var e=null;return"number"==typeof t?e=t:t instanceof Date?e=t.valueOf():"boolean"!=typeof t&&"string"!=typeof t||(e=NaN),e},i.prototype._checkWord=function(t){return null!=t&&("number"!=typeof t||!isNaN(t))},i.prototype._checkWeight=function(t){return null!=t&&!isNaN(t)},i.prototype._calculateTotalValue=function(t){for(var e=0,n=0,i=t;n<i.length;n++){var o=i[n];e+=Math.abs(o._weight)}return e},i.prototype._getWordCloudPoints=function(){return this.__pointDatas},i.prototype._getTotalValue=function(){return this.__totalValue},i.prototype._points=function(){return this.__pointDatas},i}(t._PlotDataModel);t._WordCloudPlotDataModel=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,n)||this;return a._value=i,a._weight=o,a._dataFieldDefinition=r,a.__plot=e,a._item()[r._dataField._name]=i,a._item()[l._dataField._name]=o,a}return n(e,t),e.prototype._percentagePlot=function(){var t=this.__plot._getTotalValue();return 0!=t?Math.abs(this._weight)/t:0},e}(t._PointDataModel);t._WordCloudPointDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._apply=function(t,e){for(var n=0,i=e._findRelatedPlotViews(t);n<i.length;n++){var o=i[n];this._useForPlot(e,o)}},e.prototype._useForPlot=function(e,n){if(t._isDataPointItemizedLegendDataModel(e)){var i=e;this._useItemizedPointLegend(n,i)}else if(t._isLinearLegendDataModel(e)){var o=e;this._useLinearColorPointLegend(n,o)}else if(t.models._isColorLegend(e)){var r=e._getColorIterator(n._getLayoutView()._getPlotAreaView());n._traversePointView((function(t,e){t._updateLegendColor(r._next(!0))}),null)}},e.prototype._useLinearColorPointLegend=function(e,n){t._LegendUtility._isType(n,t.LegendType.Color)&&e._traversePointView((function(t,e){t._updateLegendColor(n._getColorByPoint(t))}),null)},e.prototype._useItemizedPointLegend=function(e,n){for(var i=t._LegendUtility._isType(n,t.LegendType.Color),o=0,r=n._items();o<r.length;o++){var l=r[o];if(t._isItemizedPointLegendItemDataModel(l)){var a=l,u=n._dataPointKeysMap._get(a._dataPointKey());if(null!=u)for(var s=0,_=u;s<_.length;s++){var p=_[s];i&&p._updateLegendColor(l._color())}}}},e}();t._WordCloudLegendAdopter=e}(t||(t={})),function(t){t._isWordCloudCategoryEncodingDefinition=function(e){var n=e;return null!=n&&t._isCategoryEncodingDefinition(n)&&void 0!==n._dataFieldDefinition&&void 0!==n._groupingDefinition}}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,i,o,null)||this;return r._dataFieldDefinition=n,r._groupingDefinition=r._buildGroupingDefinition(t,i,o),r}return n(i,e),i.prototype._buildGroupingDefinition=function(e,n,i){var o=null!=n?t._BuildInCategoryFilterBuilderCollection._defaultBuildInFilterBuilders()._filter(null,e._pluginCollection):null,r=new t._DefaultGroupingsSorter(i);return new t._DataFieldGroupingDefinition(this._dataFieldDefinition,r,o)},i.prototype.equalsWith=function(n){if(!e.prototype.equalsWith.call(this,n))return!1;if(t._isWordCloudCategoryEncodingDefinition(n)){var i=n;return t._DataFieldDefinitionEqualityComparer._dataFieldDefinitionEqualityComparer._equalsWith(this._dataFieldDefinition,i._dataFieldDefinition)}return!1},i}(t._CategoryEncodingDefinition);t._WordCloudCategoryEncodingDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l,a,u,s){var _=t.call(this,e,i,o,r,l,a,u,s)||this;return _._valueEncodingDefinition=n,_}return n(e,t),e.prototype._getWordCloudCategoryEncodingDefinition=function(){return this._categoryEncodingDefinition},e}(t._EncodingsDefinition);t._WordCloudEncodingsDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n._adopter=new t._WordCloudLegendAdopter,n}return n(i,e),i.prototype._createEncodingsDefinitionContext=function(){return new t._WordCloudEncodingsDefinitionContext},i.prototype._createEncodingsDefinition=function(e){return new t._WordCloudEncodingsDefinition(e._categoryEncodingDefinition,e._valueEncodingDefinition,e._colorEncodingDefinition,e._shapeEncodingDefinition,e._sizeEncodingDefinition,e._backgroundColorEncodingDefinition,e._lightnessEncodingDefinition,e._textEncodingDefinitions,e._tooltipEncodingDefinitions)},i.prototype._buildEncodingDefinitions=function(t,n,i){i._categoryEncodingDefinition=this._createCategoryEncodingDefinition(t,n.category),i._valueEncodingDefinition=this._createValueEncodingDefinition(t,n.values,i),e.prototype._buildEncodingDefinitions.call(this,t,n,i)},i.prototype._createCategoryEncodingDefinition=function(e,n){if(null==n.field)return null;var i=t._HierarchicalDataFieldDefinitionListBuilder._dataFieldDefinitionListBuilder._buildHierarchicalDataFieldDefinitionList(n,e._dataSchema);if(1==i.length){var o=i[0],r=t._SortDefinitionBuilder._sortDefinitionBuilder._buildSortDefinition(n.sort,e._dataSchema,o._dataField._name);return new t._WordCloudCategoryEncodingDefinition(e,o,n.excludeNulls,r)}return null},i.prototype._createValueEncodingDefinition=function(e,n,i){for(var o=0,r=n;o<r.length;o++){var l=r[o];if(null==i._categoryEncodingDefinition){var a=t._XyValueEncodingDefinitionBuilder._valueEncodingDefinitionBuilder._buildValueEncodingDefinition(e,l);if(null!=a)return a}var u=new t._AggregateValueEncodingDefinitionBuilder(t.Aggregate.Sum)._buildValueEncodingDefinition(e,l);if(null!=u)return u}return null},i.prototype._createColorLegendEncodingDefinition=function(n,i,o){var r=e.prototype._createColorLegendEncodingDefinition.call(this,n,i,o);return null!=r?r:new t._EmptyLegendDefinition(n,t.LegendType.Color,new t._WordCloudEmptyColorLegendBuilder(n))},i.prototype._createSizeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createShapeLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createBackgroundColorLegendEncodingDefinition=function(t,e,n){return null},i.prototype._createLightnessLegendEncodingDefinition=function(t,e,n){return null},i.__defaultBuilder=new i,i}(t._EncodingsDefinitionBuilder);t._WordCloudEncodingsDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._valueEncodingDefinition=null,e._categoryEncodingDefinition=null,e}return n(e,t),e}(t._EncodingsDefinitionContext);t._WordCloudEncodingsDefinitionContext=e}(t||(t={})),function(t){!function(t){t[t.Circle=0]="Circle",t[t.Cardioid=1]="Cardioid",t[t.Diamond=2]="Diamond",t[t.TriangleForward=3]="TriangleForward",t[t.Triangle=4]="Triangle",t[t.Pentagon=5]="Pentagon",t[t.Star=6]="Star"}(t._WordCloudMaskShape||(t._WordCloudMaskShape={}))}(t||(t={})),function(t){!function(t){t[t.Shape=0]="Shape",t[t.Image=1]="Image",t[t.Path=2]="Path"}(t.WordCloudMaskType||(t.WordCloudMaskType={}))}(t||(t={})),function(t){t._isWordCloudPlotDefinition=function(t){var e=t;return null!=e&&void 0!==e._wordCloudOption&&void 0!==e._stringFormat&&void 0!==e._visualViewOrderComparer}}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__plotDefinition=t,n}return n(i,e),i.prototype._buildLegendDataModel=function(e,n){return t._isWordCloudPlotDefinition(this.__plotDefinition)?new t._EmptyColorLegendDataModel(e,new t._WordCloudLegendAdopter):null},i}(t.models._LegendDataModelBuilder);t._WordCloudEmptyColorLegendBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildLegendSymbolStyle=function(e,n,i){var o=t._StyleUtility._buildStyle(),r=e._colorBuilder._buildLegendSymbolColor(e);null!=r&&(o.fill=r,o.stroke=r);var l=this._getDataPointTextStyleOption(e),a=this._getSelectedTextStyleOption(e),u=this._getUnselectedTextStyleOption(e);this._applyTextStyle(o,l),n.hasSelectionInPlotArea&&(e._legendItemView()._isSelected()?this._applyTextStyle(o,a):e._legendItemView().relatedModels().length>0&&this._applyTextStyle(o,u));var s=e._legendItemView();return s._data._filtered&&t._StyleUtility._applyStyle(o,s._filteredOutSymbolStyle),o},e.prototype._applyTextStyle=function(e,n){var i=n.color,o=n.opacity;null!=i&&(e.fill=new t._CssColor(i),e.stroke=new t._CssColor(i)),null!=o&&(e.fillOpacity=o,e.strokeOpacity=o)},e.prototype._getDataPointTextStyleOption=function(e){var n=e._getPlotDefinition(),i=new t.options._TextStyleOption(null);return i._mergeStyle(n._dvConfigOption.textStyle),i._mergeStyle(n._plotAreaOption.textStyle),i._mergeStyle(t._LegendUtility._getRelatedPointViewsTextStyle(e)),i},e.prototype._getSelectedTextStyleOption=function(e){var n=e._legendItemView()._legendView()._data()._getDefinition()._plotDefinition,i=new t.options._TextStyleOption(null);return i._mergeStyle(n._dvConfigOption.selectedTextStyle),i._mergeStyle(n._plotConfigOption.selectedTextStyle),i},e.prototype._getUnselectedTextStyleOption=function(e){var n=e._legendItemView()._legendView()._data()._getDefinition()._plotDefinition,i=new t.options._TextStyleOption(null);return i._mergeStyle(n._dvConfigOption.unselectedTextStyle),i._mergeStyle(n._plotConfigOption.unselectedTextStyle),i},e._defaultBuilder=new e,e}();t._WordCloudLegendSymbolStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendSymbolView=function(e){var n=new t._BoxLegendSymbolView(null,t._WordCloudLegendSymbolStyleBuilder._defaultBuilder);return n._setPlotDefinition(e),n},i}(t._LegendSymbolViewBuilder);t._WordCloudLegendSymbolViewBuilder=e}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.fromJson=function(e,n){if(t._JsonElementUtility._isNull(e))return null;if(t._JsonElementUtility._isString(e)){var i=t._JsonElementUtility._getAsString(e).trim();if(t._NativeExtension._isNullOrEmptyString(i))return null;var o=new t._EnumConverter(this._strictMode,t._WordCloudMaskShape).fromJson(e,n);if(null!=o){var r=t._NativeExtension._enumValueToString(o,t._WordCloudMaskShape);return(s=new t.options._WordCloudMaskOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.WordCloudMaskType.Shape,s.content=r,s}var l="image:";if(i.startsWith(l)){var a=i.slice(l.length);return(s=new t.options._WordCloudMaskOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.WordCloudMaskType.Image,s.content=a,s}var u="path:";if(i.startsWith(u)){var s,_=i.slice(u.length);if(this._isClose(_))return(s=new t.options._WordCloudMaskOption(null,null!=n.strictMode&&0!=n.strictMode)).type=t.WordCloudMaskType.Path,s.content=_,s}}else if(t._JsonElementUtility._isObject(e)&&t._JsonElementUtility._hasProperty(e,"type")){var p=new t._EnumConverter(this._strictMode,t.WordCloudMaskType,null).fromJson(t._JsonElementUtility._getProperty(e,"type"),n);if(null!=p){var c=t._NativeExtension._enumValueToEnum(p,t.WordCloudMaskType);if(t._JsonElementUtility._hasProperty(e,"content")){var h=t._JsonElementUtility._getProperty(e,"content");if(t._JsonElementUtility._isString(h)){i=t._JsonElementUtility._getAsString(h);var f=new t.options._WordCloudMaskOption(null,null!=n.strictMode&&0!=n.strictMode);return f.type=c,f.content=i,f}}}}return this._processError(e),null},i.prototype._isClose=function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];"M"===i||"m"===i?e.push("M"):"Z"!==i&&"z"!==i||e.pop()}return 0===e.length},i}(t._BaseOptionConverter);t._WordCloudMaskOptionConverter=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type=null,o.__content=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){return this.__content},set:function(t){this.__content!=t&&(this.__content=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!1,t.WordCloudMaskType)],i.prototype,"type",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"content",null),i}(e._Option),e._WordCloudMaskOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__opacity=null,o.__strokeOpacity=null,o.__stroke=null,o.__strokeWidth=null,o.__strokeDasharray=null,o.__fill=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){t=this.validate(t),null!=this.__opacity&&this.__opacity==t||(this.__opacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){t=this.validate(t),null!=this.__strokeOpacity&&this.__strokeOpacity==t||(this.__strokeOpacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){null!=this.__stroke&&this.__stroke==t||(this.__stroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){this.__strokeWidth!=t&&(this.__strokeWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this.__fill},set:function(t){null!=this.__fill&&this.__fill==t||(this.__fill=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"strokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"stroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!0)],i.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"strokeDasharray",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"fill",null),i}(e._Option),e._WordCloudMaskStyleOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__mask=null,o.__keepAspect=!1,o.__fontSizeRange=[12,60],o.__rotationRange=[-90,90],o.__rotationStep=45,o.__isRandom=!0,o.__left=null,o.__top=null,o.__right=null,o.__bottom=null,o.__width=null,o.__height=null,o.__sparsity=null,o.__drawOutOfBound=!1,o.__shrinkToFit=!1,o.__layoutAnimation=!1,o.__maskStyle=null,o.__hoverTextStyle=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"mask",{get:function(){return this.__mask},set:function(t){this.__mask!=t&&(this.__mask=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"keepAspect",{get:function(){return this.__keepAspect},set:function(t){this.__keepAspect!=t&&(this.__keepAspect=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSizeRange",{get:function(){return this.__fontSizeRange},set:function(t){null==(t=this.validate(t))?this.__fontSizeRange=[12,60]:this.__fontSizeRange!=t&&(this.__fontSizeRange=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotationRange",{get:function(){return this.__rotationRange},set:function(t){null==(t=this.validate(t))?this.rotationRange=[-90,90]:this.__rotationRange!=t&&(this.__rotationRange=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotationStep",{get:function(){return this.__rotationStep},set:function(t){this.__rotationStep!=t&&(this.__rotationStep=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRandom",{get:function(){return this.__isRandom},set:function(t){this.__isRandom!=t&&(this.__isRandom=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return this.__left},set:function(t){this.__left!=t&&(this.__left=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.__top},set:function(t){this.__top!=t&&(this.__top=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.__right},set:function(t){this.__right!=t&&(this.__right=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.__bottom},set:function(t){this.__bottom!=t&&(this.__bottom=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sparsity",{get:function(){return this.__sparsity},set:function(t){this.__sparsity!=t&&(this.__sparsity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"drawOutOfBound",{get:function(){return this.__drawOutOfBound},set:function(t){this.__drawOutOfBound!=t&&(this.__drawOutOfBound=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shrinkToFit",{get:function(){return this.__shrinkToFit},set:function(t){this.__shrinkToFit!=t&&(this.__shrinkToFit=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"layoutAnimation",{get:function(){return this.__layoutAnimation},set:function(t){this.__layoutAnimation!=t&&(this.__layoutAnimation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maskStyle",{get:function(){return this.__maskStyle},set:function(t){this.__maskStyle!=t&&(this.__maskStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hoverTextStyle",{get:function(){return this.__hoverTextStyle},set:function(t){this.__hoverTextStyle!=t&&(this.__hoverTextStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._WordCloudMaskOptionConverter,!1)],i.prototype,"mask",null),o([t.JsonConverterAttribute(t._BooleanConverter,!1,!1)],i.prototype,"keepAspect",null),o([t.JsonConverterAttribute(t._NumberOrNullArrayConverter,!1),t.ValidatorAttribute(t._NumberOrNullArrayValidator,!1,2)],i.prototype,"fontSizeRange",null),o([t.JsonConverterAttribute(t._NumberOrNullArrayConverter,!1),t.ValidatorAttribute(t._NumberOrNullArrayValidator,!1,2)],i.prototype,"rotationRange",null),o([t.JsonConverterAttribute(t._NumberConverter,!1,45)],i.prototype,"rotationStep",null),o([t.JsonConverterAttribute(t._BooleanConverter,!1,!0)],i.prototype,"isRandom",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1)],i.prototype,"left",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1)],i.prototype,"top",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1)],i.prototype,"right",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1)],i.prototype,"bottom",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],i.prototype,"height",null),o([t.JsonConverterAttribute(t._NumberConverter,!1),t.ValidatorAttribute(t._NumberValidator,!1,0,1,!0)],i.prototype,"sparsity",null),o([t.JsonConverterAttribute(t._BooleanConverter,!1,!1)],i.prototype,"drawOutOfBound",null),o([t.JsonConverterAttribute(t._BooleanConverter,!1,!1)],i.prototype,"shrinkToFit",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],i.prototype,"layoutAnimation",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_WordCloudMaskStyleOption")],i.prototype,"maskStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],i.prototype,"hoverTextStyle",null),i}(e._Option),e._WordCloudOption=i}(t||(t={})),function(t){var e=function(){function t(t,e,n,i){this.__startFontSize=t,this.__endFontSize=e,this.__minValue=n,this.__maxValue=i}return t.prototype._calculateFontSize=function(t){return(this.__maxValue!=this.__minValue?(t-this.__minValue)/(this.__maxValue-this.__minValue):.5)*(this.__endFontSize-this.__startFontSize)+this.__startFontSize},t}();t._DefaultWordCloudFontSizeCalculatePolicy=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e){this.__gridSize=e,this.__gridWidth=Math.ceil(t.width/e),this.__gridHeight=Math.ceil(t.height/e),this.__cells=this._generateCells(this.__gridHeight,this.__gridWidth)}return t.prototype._generateCells=function(t,e){for(var n=[],i=0;i<t;++i)n.push(new Array(e).fill(!1));return n},t.prototype._fill=function(t,e,n){for(var i=0;i<n._occupied.length;++i){var o=t+n._occupied[i].x,r=e+n._occupied[i].y,l=Math.floor(o/this.__gridSize),a=Math.floor(r/this.__gridSize);l<0||l>=this.__gridWidth||a<0||a>=this.__gridHeight||(this.__cells[a][l]=!0)}},t.prototype._overlap=function(t,e,n){for(var i=0;i<n._occupied.length;++i){var o=t+n._occupied[i].x,r=e+n._occupied[i].y,l=Math.floor(o/this.__gridSize),a=Math.floor(r/this.__gridSize);if(!(l<0||l>=this.__gridWidth)&&!(a<0||a>=this.__gridHeight)&&this.__cells[a][l])return!0}return!1},t}();t._MaskBasedGrid=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this._width=t,this._height=e,this._occupied=n}return e._full=function(n){for(var i=Math.round(n.width),o=Math.round(n.height),r=[],l=0;l<o;++l)r.push(new Array(i).fill(!0));var a=[];for(l=0;l<o;++l)for(var u=0;u<i;++u)a.push(new t.core.Point(u,l));return new e(i,o,a)},e._empty=function(t){for(var n=Math.round(t.width),i=Math.round(t.height),o=[],r=0;r<i;++r)o.push(new Array(n).fill(!1));return new e(n,i,[])},e._fromBitmap=function(n,i){void 0===i&&(i=!1);for(var o=n.width,r=n.height,l=[],a=[],u=0;u<r;++u){for(var s=[],_=0;_<o;++_){var p=4*(u*o+_)+3,c=n.data[p]>0?!i:i;s.push(c),c&&a.push(new t.core.Point(_,u))}l.push(s)}return new e(o,r,a)},e}();t._MaskBasedPixel=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){this.__bitmapGenerator=o,this.__plotDefinition=e._getWordCloudPlotDefinition(),this.__rectangle=t._DefaultWordCloudRectangleCalculatePolicy._defaultPolicy._calculateRectangle(e._rectangle(),this.__plotDefinition._plotConfigOption,this.__plotDefinition._wordCloudOption),this.__positions=t._DefaultWordCloudPositionGeneratePolicy._defaultPolicy._generatePositions(this.__rectangle),this.__maskView=e._getWordCloudMaskView(),this.__unlayoutedPointViews=e._findFilterdWordCloudPointViews();var r=this._calculateGridSize(this.__plotDefinition._wordCloudOption.sparsity,this.__rectangle);this.__grid=new t._MaskBasedGrid(this.__rectangle.size,r),this.__hasLayoutAnimation=this.__plotDefinition._wordCloudOption.layoutAnimation,this.__animation=null,this._init(n,i,e)}return e.prototype._calculateGridSize=function(t,e){if(null==t)return 8;var n=Math.min(e.width,e.height),i=1-Math.sqrt(1-t*t);return Math.round((n-4)*i+4)},e.prototype._init=function(e,n,i){null!=this.__bitmapGenerator&&this.__bitmapGenerator.setSize(this.__rectangle.width,this.__rectangle.height),this.__maskView._layout(e,this.__rectangle,n);for(var o=0,r=this.__unlayoutedPointViews;o<r.length;o++)r[o]._layout(e,this.__rectangle,n);if(this.__grid._fill(0,0,this.__maskView._calculateMask(e,this.__bitmapGenerator)),this.__hasLayoutAnimation){var l=t._DvViewUtility._control(i._getLayoutView()._getPlotAreaView()._getDvView());this.__animation=new t._LayoutAnimation(new t._AnimationDefinition(t.AnimationType.Layout,new t.options._AnimationOption));for(var a=0,u=t.AnimationController.default.animators;a<u.length;a++){var s=u[a];s.control===l&&s.bind(this.__animation),t.AnimationController.default.refresh()}}},e.prototype._layout=function(t,e,n){for(var i=15;this.__unlayoutedPointViews.length>0;){if(this.__hasLayoutAnimation){if(0==i)break;i--}var o=this.__unlayoutedPointViews.shift();if(!(o._getFontSize()<1)){for(var r=!1,l=this.__plotDefinition._wordCloudOption.shrinkToFit,a=this.__plotDefinition._wordCloudOption.drawOutOfBound,u=o._calculateMask(t,this.__bitmapGenerator),s=0,_=this.__positions;s<_.length;s++){var p=_[s];if(a||!this._isOuter(this.__rectangle,p,u._width,u._height)){var c=p.x-this.__rectangle.left-u._width/2,h=p.y-this.__rectangle.top-u._height/2;if(!this.__grid._overlap(c,h,u)){this.__grid._fill(c,h,u),o._updateCenter(p),r=!0;break}}}!r&&l&&(o._shrink(t),this.__unlayoutedPointViews.push(o))}}this.__hasLayoutAnimation&&0==this.__unlayoutedPointViews.length&&this.__animation.finish()},e.prototype._isOuter=function(t,e,n,i){return e.x-n/2<t.left||e.y-i/2<t.top||e.x+n/2>=t.right||e.y+i/2>=t.bottom},e}();t._WordCloudWordleLayoutPolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._generatePositions=function(e){for(var n=Math.max(e.width,e.height)/2,i=new t.core.Point(Math.round(e.left+e.width/2),Math.round(e.top+e.height/2)),o=[i],r=16;r<n;r+=16)for(var l=8*r,a=0;a<l;++a){var u=2*Math.PI/l*a,s=i.x+Math.round(Math.cos(u)*r),_=i.y-Math.round(Math.sin(u)*r);s>=e.left&&s<e.right&&_>=e.top&&_<e.bottom&&o.push(new t.core.Point(s,_))}return o},e._defaultPolicy=new e,e}();t._DefaultWordCloudPositionGeneratePolicy=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._calculateRectangle=function(e,n,i){var o=new t.core.Rect(0,0,0,0),r=i.width,l=n.hAlign,a=i.left,u=i.right,s=t.options._ValueOptionExtension._percentageValueOption(.7);null!=a?null!=r?this._calcByLeftWidth(e,o,a,r):null!=u?this._calcByLeftRight(e,o,a,u):this._calcByLeftWidth(e,o,a,s):null!=u?null!=r?this._calcByWidthRight(e,o,r,u):this._calcByWidthRight(e,o,s,u):null!=l?null!=r?this._calcByHAlignWidth(e,o,l,r):this._calcByHAlignWidth(e,o,l,s):null!=r?this._calcByHAlignWidth(e,o,t.HAlign.Center,r):this._calcByHAlignWidth(e,o,t.HAlign.Center,s);var _=n.vAlign,p=i.top,c=i.bottom,h=i.height,f=t.options._ValueOptionExtension._percentageValueOption(.8);return null!=p?null!=h?this._calcByTopHeight(e,o,p,h):null!=c?this._calcByTopBottom(e,o,p,c):this._calcByTopHeight(e,o,p,f):null!=c?null!=h?this._calcByHeightBottom(e,o,h,c):this._calcByHeightBottom(e,o,f,c):null!=_?null!=h?this._calcByVAlignHeight(e,o,_,h):this._calcByVAlignHeight(e,o,_,f):null!=h?this._calcByVAlignHeight(e,o,t.VAlign.Middle,h):this._calcByVAlignHeight(e,o,t.VAlign.Middle,f),o.left+=e.left,o.top+=e.top,o},e.prototype._calcByHAlignWidth=function(e,n,i,o){n.width=o.type==t.ValueOptionType.Percentage?e.width*o.value:o.value,i==t.HAlign.Left?n.left=0:i==t.HAlign.Center?n.left=(e.width-n.width)/2:i==t.HAlign.Right&&(n.left=e.width-n.width)},e.prototype._calcByLeftWidth=function(e,n,i,o){n.width=o.type==t.ValueOptionType.Percentage?e.width*o.value:o.value,n.left=i.type==t.ValueOptionType.Percentage?e.width*i.value:i.value},e.prototype._calcByLeftRight=function(e,n,i,o){n.left=i.type==t.ValueOptionType.Percentage?e.width*i.value:i.value;var r=o.type==t.ValueOptionType.Percentage?e.width*o.value:o.value;n.width=Math.max(e.width-n.left-r,0)},e.prototype._calcByWidthRight=function(e,n,i,o){n.width=i.type==t.ValueOptionType.Percentage?e.width*i.value:i.value;var r=o.type==t.ValueOptionType.Percentage?e.width*o.value:o.value;n.left=e.width-n.width-r},e.prototype._calcByVAlignHeight=function(e,n,i,o){n.height=o.type==t.ValueOptionType.Percentage?e.height*o.value:o.value,i==t.VAlign.Top?n.top=0:i==t.VAlign.Middle?n.top=(e.height-n.height)/2:i==t.VAlign.Bottom&&(n.top=e.height-n.height)},e.prototype._calcByTopHeight=function(e,n,i,o){n.height=o.type==t.ValueOptionType.Percentage?e.height*o.value:o.value,n.top=i.type==t.ValueOptionType.Percentage?e.height*i.value:i.value},e.prototype._calcByTopBottom=function(e,n,i,o){n.top=i.type==t.ValueOptionType.Percentage?e.height*i.value:i.value;var r=o.type==t.ValueOptionType.Percentage?e.height*o.value:o.value;n.height=Math.max(e.height-n.top-r,0)},e.prototype._calcByHeightBottom=function(e,n,i,o){n.height=i.type==t.ValueOptionType.Percentage?e.height*i.value:i.value;var r=o.type==t.ValueOptionType.Percentage?e.height*o.value:o.value;n.top=e.height-n.height-r},e._defaultPolicy=new e,e}();t._DefaultWordCloudRectangleCalculatePolicy=e}(t||(t={})),t||(t={}),function(t){var e=function(){function t(t,e,n,i){this.__seed=i?Date.now():1,this.__startRotation=t,this.__endRotation=e,this.__rotationStep=n}return t.prototype._calculateRotation=function(){if(0==this.__rotationStep)return this.__startRotation*Math.PI/180;var t=this.__endRotation-this.__startRotation;return(this.__startRotation+Math.round(this._random()*t/this.__rotationStep)*this.__rotationStep)*Math.PI/180},t.prototype._random=function(){return this.__seed=1103515245*this.__seed+12345&2147483647,this.__seed/2147483648},t}();t._DefaultWordCloudRotationCalculatePolicy=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype._applyConditionalFormattingRules=function(e){for(var n=e._getDefinition()._plotConfigOption.rules,i=[],o=e._getDefinition()._pluginCollection,r=function(n){if("DataPoint"==n.type){var r=new t.models._ConditionalFormattingRule(n,i,o);e._traversePointView((function(t,e){r.evaluate(t)}),null)}},l=0,a=n;l<a.length;l++)r(a[l])},e}();t._WordCloudConditionalFormattingRuleRunner=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildSelectedPointStyle=function(n,i){var o=this._toPointView(n),r=e.prototype._buildSelectedPointStyle.call(this,o,i);return t._OptionUtility._applyTextStyleOption(r,o._getPlotView()._getDefinition()._dvConfigOption.selectedTextStyle),t._OptionUtility._applyTextStyleOption(r,o._getPlotView()._getDefinition()._plotConfigOption.selectedTextStyle),r},i.prototype._buildUnselectedPointStyle=function(n){var i=this._toPointView(n),o=e.prototype._buildUnselectedPointStyle.call(this,i);return t._OptionUtility._applyTextStyleOption(o,i._getPlotView()._getDefinition()._dvConfigOption.unselectedTextStyle),t._OptionUtility._applyTextStyleOption(o,i._getPlotView()._getDefinition()._plotConfigOption.unselectedTextStyle),o},i.prototype._buildHoverPointStyle=function(n){var i=this._toPointView(n),o=e.prototype._buildHoverPointStyle.call(this,i);return t._OptionUtility._applyTextStyleOption(o,i._getWordCloudPlotView()._getWordCloudPlotDefinition()._wordCloudOption.hoverTextStyle),o},i.prototype._applyDataPointStyle=function(e,n){t._OptionUtility._applyTextStyleOption(e,n._getPlotView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,n._getPlotView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,n._getPlotView()._dataPointDataLabelOption().textStyle),t._OptionUtility._applyTextStyleOption(e,n.text.textStyle)},i.prototype._applyColor=function(n,i,o){e.prototype._applyColor.call(this,n,i,o),i instanceof t._CssColor?n.textFill=i.color:i instanceof t._LinearGradientColor?i.colorStops.length>0&&(n.textFill=i.colorStops[0].color):i instanceof t._RadialGradientColor&&i.colorStops.length>0&&(n.textFill=i.colorStops[0].color)},i}(t._PointStyleBuilder);t._WordCloudPointStyleBuilder=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n)||this;return o._rect=new t.core.Rect(0,0,0,0),o._keepAspect=i,o}return n(i,e),i.prototype._layout=function(t,e,n){this._rect=e.clone()},i.prototype._calculateMask=function(e,n){return t._MaskBasedPixel._empty(this._rect.size)},i.prototype._calculateStyle=function(){var e=this._ownerView._getWordCloudPlotDefinition()._wordCloudOption.maskStyle;if(null!=e){var n=t._StyleUtility._buildStyle();return null!=e.opacity&&(n.fillOpacity=e.opacity),null!=e.strokeOpacity&&(n.strokeOpacity=e.strokeOpacity),null!=e.stroke&&(n.stroke=t._OptionUtility._colorFromOption(e.stroke)),null!=e.strokeWidth&&(n.strokeWidth=e.strokeWidth),null!=e.strokeDasharray&&(n.strokeDasharray=e.strokeDasharray),null!=e.fill&&(n.fill=t._OptionUtility._colorFromOption(e.fill)),n.scalingStroke=!1,n}return null},i}(t._BaseView);t._WordCloudMaskView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__image=i,o.__imageRect=null,o}return n(i,e),i.prototype._layout=function(n,i,o){if(e.prototype._layout.call(this,n,i,o),0!=i.width&&0!=i.height&&null!=this.__image.width&&null!=this.__image.height){var r=this.__image.width,l=this.__image.height,a=this._rect.width/r,u=this._rect.height/l;if(this._keepAspect){var s=Math.min(a,u),_=s*r,p=s*l,c=(this._rect.width-_)/2,h=(this._rect.height-p)/2;this.__imageRect=new t.core.Rect(c,h,_,p)}else this.__imageRect=new t.core.Rect(0,0,this._rect.width,this._rect.height)}},i.prototype._calculateMask=function(n,i){if(null==i)return e.prototype._calculateMask.call(this,n,i);var o=i.generateImage(this.__image,this.__imageRect.left,this.__imageRect.top,this.__imageRect.width,this.__imageRect.height);return t._MaskBasedPixel._fromBitmap(o,!0)},i.prototype._drawView=function(e,n){var i=this._calculateStyle();if(null!=i&&null!=this.__imageRect){e.beginTransform(),t._StyleUtility._applyAllStyle(e,i);var o=new t.Matrix;o.translate(this._rect.left,this._rect.top),e.drawImage(this.__image,this.__imageRect.left,this.__imageRect.top,this.__imageRect.width,this.__imageRect.height,null,o),e.restoreTransform()}},i}(t._WordCloudMaskView);t._ImageWordCloudMaskView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__path=i,o.__transform=null,o.__widthRatio=1,o.__heightRatio=1,o}return n(i,e),i.prototype._layout=function(n,i,o){if(e.prototype._layout.call(this,n,i,o),0!=i.width&&0!=i.height){var r=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(this.__path);this.__transform=new t.Matrix;var l=this._rect.width/r.width,a=this._rect.height/r.height,u=Math.min(l,a);this._keepAspect?(this.__widthRatio=u,this.__heightRatio=u):(this.__widthRatio=l,this.__heightRatio=a),this.__transform.scale(this.__widthRatio,this.__heightRatio),this.__transform.translate(-r.left,-r.top),this._keepAspect&&(l>a?this.__transform.translate((this._rect.width/u-r.width)/2,0):l<a&&this.__transform.translate(0,(this._rect.height/u-r.height)/2))}},i.prototype._calculateMask=function(n,i){return null==i?e.prototype._calculateMask.call(this,n,i):t._MaskBasedPixel._fromBitmap(i.generatePath(this.__path,this.__transform),!0)},i.prototype._drawView=function(e,n){var i=this._calculateStyle();if(null!=i&&null!=this.__transform){e.beginTransform(),t._StyleUtility._applyAllStyle(e,i);var o=this.__transform.clone();o.translate(this._rect.left/this.__widthRatio,this._rect.top/this.__heightRatio),e.drawPath(this.__path,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter,null,o),e.restoreTransform()}},i}(t._WordCloudMaskView);t._PathWordCloudMaskView=e}(t||(t={})),function(t){var e=function(){function e(){this.__defaultWidth=100,this.__defaultHeight=100}return e.prototype._buildCircle=function(){var e=t._PathCommandBuilder._defaultPathCommandBuilder,n=[],i=Math.min(this.__defaultWidth,this.__defaultHeight)/2,o=this.__defaultWidth/2,r=this.__defaultHeight/2;return n.push(e._buildMoveToPathCommand(o+i,r)),n.push(e._buildCanvasArcToPathCommand(i,i,0,o,r,0,2*Math.PI-.001,0)),n.push(e._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(n)},e.prototype._buildCardioid=function(){for(var e=[],n=0;n<2*Math.PI;n+=2*Math.PI/100){var i=8*Math.pow(Math.sin(n),3),o=.5*(13*Math.cos(n)-5*Math.cos(2*n)-2*Math.cos(3*n)-Math.cos(4*n));e.push(new t.core.Point(i,-o))}var r=new t.Matrix,l=Math.min(this.__defaultWidth,this.__defaultHeight);r.translate(l/2,l/2),r.translate((this.__defaultWidth-l)/2,(this.__defaultHeight-l)/2),r.scale(l/16,l/16),e=t._MatrixUtility._transformPoints(r,e);var a=t._PathCommandBuilder._defaultPathCommandBuilder,u=[a._buildMoveToPathCommand(e[0].x,e[0].y)];for(n=1;n<e.length;++n)u.push(a._buildLineToPathCommand(e[n].x,e[n].y));return u.push(a._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(u)},e.prototype._buildDiamond=function(){var e=t._PathCommandBuilder._defaultPathCommandBuilder,n=[],i=Math.min(this.__defaultWidth,this.__defaultHeight);return this.__defaultWidth>=this.__defaultHeight?(n.push(e._buildMoveToPathCommand(this.__defaultWidth/2,0)),n.push(e._buildLineToPathCommand(this.__defaultWidth/2+i/2,this.__defaultHeight/2)),n.push(e._buildLineToPathCommand(this.__defaultWidth/2,this.__defaultHeight)),n.push(e._buildLineToPathCommand(this.__defaultWidth/2-i/2,this.__defaultHeight/2)),n.push(e._buildClosePathCommand())):(n.push(e._buildMoveToPathCommand(this.__defaultWidth/2,this.__defaultHeight/2-i/2)),n.push(e._buildLineToPathCommand(this.__defaultWidth,this.__defaultHeight/2)),n.push(e._buildLineToPathCommand(this.__defaultWidth/2,this.__defaultHeight/2+i/2)),n.push(e._buildLineToPathCommand(0,this.__defaultHeight/2)),n.push(e._buildClosePathCommand())),t._PathBuilder._defaultPathBuilder._buildPath(n)},e.prototype._buildTriangle=function(){var e=t._PathCommandBuilder._defaultPathCommandBuilder,n=[],i=Math.min(this.__defaultWidth,this.__defaultHeight);if(this.__defaultWidth>=this.__defaultHeight){var o=2*i/Math.sqrt(3);n.push(e._buildMoveToPathCommand(this.__defaultWidth/2,0)),n.push(e._buildLineToPathCommand(this.__defaultWidth/2+o/2,this.__defaultHeight)),n.push(e._buildLineToPathCommand(this.__defaultWidth/2-o/2,this.__defaultHeight)),n.push(e._buildClosePathCommand())}else{var r=Math.sqrt(3)/2*i,l=(this.__defaultHeight-r)/2;n.push(e._buildMoveToPathCommand(this.__defaultWidth/2,l)),n.push(e._buildLineToPathCommand(this.__defaultWidth,l+r)),n.push(e._buildLineToPathCommand(0,l+r)),n.push(e._buildClosePathCommand())}return t._PathBuilder._defaultPathBuilder._buildPath(n)},e.prototype._buildTriangleForward=function(){var e=t._PathCommandBuilder._defaultPathCommandBuilder,n=[],i=Math.min(this.__defaultWidth,this.__defaultHeight);if(this.__defaultWidth>=this.__defaultHeight){var o=Math.sqrt(3)/2*i,r=(this.__defaultWidth-o)/2;n.push(e._buildMoveToPathCommand(r,0)),n.push(e._buildLineToPathCommand(r+o,this.__defaultHeight/2)),n.push(e._buildLineToPathCommand(r,this.__defaultHeight)),n.push(e._buildClosePathCommand())}else{var l=2*i/Math.sqrt(3);n.push(e._buildMoveToPathCommand(0,this.__defaultHeight/2-l/2)),n.push(e._buildLineToPathCommand(this.__defaultWidth,this.__defaultHeight/2)),n.push(e._buildLineToPathCommand(0,this.__defaultHeight/2+l/2)),n.push(e._buildClosePathCommand())}return t._PathBuilder._defaultPathBuilder._buildPath(n)},e.prototype._buildPentagon=function(){var e=t._PathCommandBuilder._defaultPathCommandBuilder,n=[],i=[],o=Math.min(this.__defaultWidth,this.__defaultHeight),r=36*Math.PI/180,l=o/2/Math.cos(r),a=l/2/Math.sin(r);i.push(new t.core.Point(0,-a)),i.push(new t.core.Point(-o/2,-a*Math.sin(r/2))),i.push(new t.core.Point(-l/2,a*Math.cos(r))),i.push(new t.core.Point(l/2,a*Math.cos(r))),i.push(new t.core.Point(o/2,-a*Math.sin(r/2)));var u=i,s=new t.Matrix;s.translate(this.__defaultWidth/2,this.__defaultHeight/2),u=t._MatrixUtility._transformPoints(s,u),n.push(e._buildMoveToPathCommand(u[0].x,u[0].y));for(var _=1;_<u.length;++_)n.push(e._buildLineToPathCommand(u[_].x,u[_].y));return n.push(e._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(n)},e.prototype._buildStar=function(){for(var e=.5*Math.cos(72*Math.PI/180)/Math.cos(36*Math.PI/180),n=[18,54,90,126,162,198,234,270,306,342],i=[],o=0;o<n.length;++o)if(o%2==0){var r=n[o]*Math.PI/180;i.push(new t.core.Point(.5*Math.cos(r),-.5*Math.sin(r)))}else r=n[o]*Math.PI/180,i.push(new t.core.Point(e*Math.cos(r),-e*Math.sin(r)));var l=new t.Matrix,a=Math.min(this.__defaultWidth,this.__defaultHeight);l.translate(a/2,a/2),l.translate((this.__defaultWidth-a)/2,(this.__defaultHeight-a)/2),l.scale(a,a),i=t._MatrixUtility._transformPoints(l,i);var u=t._PathCommandBuilder._defaultPathCommandBuilder,s=[u._buildMoveToPathCommand(i[0].x,i[0].y)];for(o=1;o<i.length;++o)s.push(u._buildLineToPathCommand(i[o].x,i[o].y));return s.push(u._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(s)},e._defaultBuilder=new e,e}();t._WordCloudShapePathBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o.__maskView=o._createMaskView(o),o.__pointViews=o._createPointViews(i),o.__clippingRegion=null,o.__layoutPolicy=null,o}return n(i,e),i.prototype._createMaskView=function(e){var n=e._getWordCloudPlotDefinition()._wordCloudOption,i=n.mask,o=n.keepAspect;if(null!=i)if(i.type==t.WordCloudMaskType.Shape){var r=null;if("Circle"===i.content?r=t._WordCloudShapePathBuilder._defaultBuilder._buildCircle():"Cardioid"===i.content?r=t._WordCloudShapePathBuilder._defaultBuilder._buildCardioid():"Diamond"===i.content?r=t._WordCloudShapePathBuilder._defaultBuilder._buildDiamond():"TriangleForward"===i.content?r=t._WordCloudShapePathBuilder._defaultBuilder._buildTriangleForward():"Triangle"===i.content?r=t._WordCloudShapePathBuilder._defaultBuilder._buildTriangle():"Pentagon"===i.content?r=t._WordCloudShapePathBuilder._defaultBuilder._buildPentagon():"Star"===i.content&&(r=t._WordCloudShapePathBuilder._defaultBuilder._buildStar()),null!=r)return new t._PathWordCloudMaskView(this,o,r)}else if(i.type==t.WordCloudMaskType.Image){var l=this._definition._imageProvider.getImageInfo(i.content);if(null!=l)return new t._ImageWordCloudMaskView(this,o,l)}else if(i.type==t.WordCloudMaskType.Path&&null!=(r=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(i.content)))return new t._PathWordCloudMaskView(this,o,r);return new t._WordCloudMaskView(this,o)},i.prototype._createPointViews=function(e){for(var n=[],i=e._getWordCloudPoints(),o=this._createFontSizeCalculatePolicy(e._getWordCloudPoints(),this._definition._wordCloudOption.fontSizeRange),r=this._createRotationCalculatePolicy(this._definition._wordCloudOption.rotationRange,this._definition._wordCloudOption.rotationStep,this._definition._wordCloudOption.isRandom),l=new t._WordCloudPointStyleBuilder,a=0,u=i;a<u.length;a++){var s=u[a];n.push(new t._WordCloudPointView(this,s,o,r,l))}return n},i.prototype._createFontSizeCalculatePolicy=function(e,n){for(var i=1/0,o=-1/0,r=0,l=e;r<l.length;r++){var a=l[r];a._weight>o&&(o=a._weight),a._weight<i&&(i=a._weight)}return new t._DefaultWordCloudFontSizeCalculatePolicy(n[0],n[1],i,o)},i.prototype._createRotationCalculatePolicy=function(e,n,i){return new t._DefaultWordCloudRotationCalculatePolicy(e[0],e[1],n,i)},i.prototype._getWordCloudPlotDefinition=function(){return this._definition},i.prototype._getWordCloudMaskView=function(){return this.__maskView},i.prototype._findFilterdWordCloudPointViews=function(){return this.__pointViews.filter((function(t){return!t._isFiltered()}))},i.prototype._getClipping=function(){return this.__clippingRegion},i.prototype._layoutContent=function(n,i,o){e.prototype._layoutContent.call(this,n,i,o),this.__clippingRegion=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(i.left,i.top,i.width,i.height),this.__layoutPolicy=new t._WordCloudWordleLayoutPolicy(this,n,o,this._findBitmapGenerator(n))},i.prototype._findBitmapGenerator=function(e){var n=e.renderEngine;return t._isBitmapGeneratorRenderEngine(n)?n.getBitmapGenerator():null},i.prototype._drawView=function(t,e){this.__layoutPolicy._layout(t,e,this),this._displayablePipeLine._flush(t,e)},i.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=this.__pointViews.length-1;i>=0;--i){var o=this.__pointViews[i]._hitTest(t,e,n);if(null!=o)return o}return null},i.prototype._getPointViews=function(){return this.__pointViews},i.prototype._hasSelectedPointView=function(){for(var t=0,e=this.__pointViews;t<e.length;t++)if(e[t]._isSelected())return!0;return!1},i.prototype._actionConditionalFormat=function(){(new t._WordCloudConditionalFormattingRuleRunner)._applyConditionalFormattingRules(this)},i.prototype._draw=function(t,e){var n=this;this.__maskView._render(t,e);var i=this._getPointViews().slice();i.sort((function(t,e){return n._getWordCloudPlotDefinition()._visualViewOrderComparer._compare(t,e)}));for(var o=0,r=i;o<r.length;o++)r[o]._render(t,e)},i}(t._BasePlotView);t._WordCloudPlotView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){if(t._isWordCloudPlotDefinition(n)&&t._isWordCloudPlotDataModel(i)){var o=n,r=i;return new t._WordCloudPlotView(e,o,r)}return null},e._defaultBuilder=new e,e}();t._WordCloudPlotViewBuilder=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,n,r)||this;return l.__text=l._createText(),l.__fontSize=null,l.__center=null,l.__size=null,l.__angle=null,l.__shape=null,l.__fontSizeCalculatePolicy=i,l.__rotationCalculatePolicy=o,l}return n(i,e),i.prototype._createText=function(){var t=this._data(),e=t._value,n=t._dataFieldDefinition._format;return this._ownerView._getWordCloudPlotDefinition()._stringFormat.format(n,e)},i.prototype._getWordCloudPlotView=function(){return this._ownerView},i.prototype._getWordCloudPointData=function(){return this._data()},Object.defineProperty(i.prototype,"value",{get:function(){return this._getWordCloudPointData()._weight},enumerable:!1,configurable:!0}),i.prototype._calculateStyle=function(e){var n=this._pointStyleBuilder._buildPointStyle(this);n.fontSize="".concat(this.__fontSize,"px");var i=null,o=null,r=null;e.hasSelectionInPlotArea&&(this._isSelected()||e.selected?i=this._pointStyleBuilder._buildSelectedPointStyle(this,e.apiSelectedStyle):o=this._pointStyleBuilder._buildUnselectedPointStyle(this)),this._isHover()&&(r=this._pointStyleBuilder._buildHoverPointStyle(this));var l=t._StyleUtility._buildStyle();return t._StyleUtility._applyAllStyle(l,n),t._StyleUtility._applyAllStyle(l,i),t._StyleUtility._applyAllStyle(l,o),t._StyleUtility._applyAllStyle(l,r),l},i.prototype._measure=function(e){e.beginTransform();var n=this._pointStyleBuilder._buildPointStyle(this);n.fontSize="".concat(this.__fontSize,"px"),t._StyleUtility._applyAllStyle(e,n);var i=e.measureSingleLineString(this.__text);return e.restoreTransform(),i},i.prototype._layoutContent=function(t,n,i){e.prototype._layoutContent.call(this,t,n,i);var o=this._pointStyleBuilder._buildPointStyle(this),r=parseFloat(o.fontSize);isNaN(r)&&(r=this.__fontSizeCalculatePolicy._calculateFontSize(this._getWordCloudPointData()._weight)),this.__fontSize=r,this.__center=null,this.__size=this._measure(t),this.__angle=this.__rotationCalculatePolicy._calculateRotation()},i.prototype._calculateMask=function(e,n){if(null==n){var i=new t._RectangleShape(0,0,this.__size.width,this.__size.height,this.__angle).getBoundRectangle().size;return t._MaskBasedPixel._full(i)}var o=t._StyleUtility._buildStyle();t._StyleUtility._applyAllStyle(o,e),t._StyleUtility._applyAllStyle(o,this._pointStyleBuilder._buildPointStyle(this)),o.fontSize="".concat(this.__fontSize,"px");var r=n.generateString(this.__text,this.__size.width,this.__size.height,this.__angle,o.fontFamily,o.fontSize,o.fontStyle,o.fontWeight);return t._MaskBasedPixel._fromBitmap(r)},i.prototype._getFontSize=function(){return this.__fontSize},i.prototype._shrink=function(t){this.__fontSize=this.__fontSize/2,this.__size=this._measure(t)},i.prototype._updateCenter=function(t){this.__center=t},i.prototype._isValid=function(){return null!=this.__center},i.prototype._drawView=function(e,n){if(this._isValid()){e.beginTransform();var i=this._calculateStyle(n);t._StyleUtility._applyAllStyle(e,i);var o=t._MatrixUtility._buildRotateMatrix(this.__angle,this.__center),r=e.measureSingleLineString(this.__text);e.drawSingleLineString(this.__text,this.__center.x-r.width/2,this.__center.y+r.height/2,null,o),e.restoreTransform()}},i.prototype._createTooltipHtmlContent=function(e){var n=this._getPlotView()._getDefinition()._getEncodingsDefinition()._tooltipEncodingDefinitions,i=this._createTooltipTemplate(e,n);if(null==i)return null;var o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=new t._WordCloudTextProxy(this,n,this._getWordCloudPlotView()._getWordCloudPlotDefinition()._stringFormat),a=this._getDefinition()._plotConfigOption.plugins,u=this._getDefinition()._pluginCollection,s=o.evaluate(r,l,a,u);return this._toHtml(s)},i.prototype._createTooltipTemplate=function(t,e){if(null!=e&&e.length>0){var n=this._customTooltipTemplate(t);return null!=n?n:this._defaultTooltipTemplate(e)}return null},i.prototype._defaultTooltipTemplate=function(e){var n=[],i=[],o=this._getDefinition()._getEncodingsDefinition(),r=o._getWordCloudCategoryEncodingDefinition();null!=r&&(n.push("{categoryField.name}: {categoryField.value}"),i.push(r._dataFieldDefinition._dataField._name));var l=o._valueEncodingDefinition;if(t._isXyValueEncodingDefinition(l)){var a=l;n.push("{xField.name}: {xField.value}"),i.push(a._getXFieldEncodingDefinition()._getXDataFieldDefinition()._dataField._name)}for(var u=function(e){if(t._isAggregateContentEncodingDefinition(e)){var o=e,r=o._dataFieldDefinition._dataField._name;if(!i.some((function(t){return t==r}))){var l=o._dataFieldDefinition._format;n.push(t._EscapedCharacterStringUtility.getTemplateValueSection(r,l,!0)),i.push(r)}}},s=0,_=e;s<_.length;s++)u(_[s]);return n.join("\n")},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;if(this._isValid()&&t._ShapeUtil._shapeContainsPoint(this._shape(),n)){var r=new t.HitTestResult(n,this,this,t.ElementType.DataPoint);return null==o||null!=o&&o.predicate(r)?r:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._getPlotView=function(){return this._ownerView},i.prototype._shape=function(){return null==this.__shape&&(this.__shape=new t._RectangleShape(this.__center.x,this.__center.y,this.__size.width,this.__size.height,this.__angle)),this.__shape},Object.defineProperty(i.prototype,"parent",{get:function(){return this._getPlotView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return null==this.__textOption&&(this.__textOption=this._getPlotView()._textDefinition().dataLabelCloneMarker._cloneOf(this._getPlotView()._dataPointDataLabelOption())),this.__textOption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tooltip",{get:function(){return null==this.___tooltipOption&&(this.___tooltipOption=t.options._PlotConfigTooltipOptionCloneMarker._plotConfigTooltipOptionCloneMarker._cloneOf(this._getPlotView()._dataPointTooltipOption())),this.___tooltipOption},enumerable:!1,configurable:!0}),i}(t._BasePointView);t._WordCloudPointView=e}(t||(t={})),function(t){var e=function(){function e(t,e,n){this.__pointView=t,this.__contentEncodingDefinitions=e,this.__stringFormatting=n}return e.prototype._getDefaultFormat=function(e){return"PercentagePlot"==(e instanceof t._TokenSyntaxExpression?e.token:e.syntaxExpression)?this.__stringFormatting.defaultFormat(t.core.DataType.Number,!0):null},e.prototype._getDefaultFormatType=function(){return null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.getTokenValue=function(t,e,n){if(null==t)return null;var i=e.split(".");return"PercentagePlot"===t?this._getPercentagePlotProperty(i):"valueField"===t?this._getValueFieldProperty(i):"xField"===t?this._getXFieldProperty(i):"categoryField"===t?this._getCategoryFieldProperty(i):"colorField"===t?this._getColorFieldProperty(i):this._getTokenProperty(t,i)},e.prototype._getPercentagePlotProperty=function(e){var n=e.shift();return"name"==n?new t.models._DataValueInfo("PercentagePlot",this.__stringFormatting):"value"==n?new t.models._DataValueInfo(this.__pointView._getWordCloudPointData()._percentagePlot(),this.__stringFormatting):null},e.prototype._getValueFieldProperty=function(e){var n=e.shift(),i=this.__pointView._getPlotView()._getDefinition()._getEncodingsDefinition()._valueEncodingDefinition,o=null,r=null;if(t._isXyValueEncodingDefinition(i)){var l=i;o=l._getDataFieldDefinition(),r=l._getAggregate()}else if(t._isAggregateValueEncodingDefinition(i)){var a=i;o=a._getDataFieldDefinition(),r=a._getAggregate()}if(null!=o)if("name"==n){var u=o._label;if(null!=u)return new t.models._DataValueInfo(u,this.__stringFormatting)}else{if("value"==n){var s=this.__pointView._getWordCloudPointData()._weight;return new t.models._DataValueInfo(s,this.__stringFormatting)}if("aggregate"==n&&null!=r){var _=t._CastExtension.toAggregateString(r);return new t.models._DataValueInfo(_,this.__stringFormatting)}}return null},e.prototype._getXFieldProperty=function(e){var n=e.shift();if("name"==n){var i=this.__pointView._getPlotView()._getDefinition()._getEncodingsDefinition()._valueEncodingDefinition;if(t._isXyValueEncodingDefinition(i)){var o=i._getXFieldEncodingDefinition()._getXDataFieldDefinition()._label;if(null!=o)return new t.models._DataValueInfo(o,this.__stringFormatting)}}else if("value"==n){var r=this.__pointView._getWordCloudPointData()._value;return new t.models._DataValueInfo(r,this.__stringFormatting)}return null},e.prototype._getCategoryFieldProperty=function(e){var n=e.shift(),i=this.__pointView._getPlotView()._getDefinition()._getEncodingsDefinition()._getWordCloudCategoryEncodingDefinition();if(null!=i)if("name"==n){var o=i._dataFieldDefinition._label;if(null!=o)return new t.models._DataValueInfo(o,this.__stringFormatting)}else if("value"==n){var r=this.__pointView._getWordCloudPointData()._value;return new t.models._DataValueInfo(r,this.__stringFormatting)}return null},e.prototype._getColorFieldProperty=function(e){var n=e.shift(),i=this.__pointView._getPlotView()._getDefinition()._getEncodingsDefinition()._getColorEncodingDefinition();if(i instanceof t._ItemizedSingleDataFieldLegendEncodingDefinition){if("name"==n){var o=i._fieldDefinition()._label;if(null!=o)return new t.models._DataValueInfo(o,this.__stringFormatting)}else if("value"==n){if(null!=(a=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._data()._dataSlices,i._fieldDefinition()._dataField,i._aggregate())))return new t.models._DataValueInfo(a,this.__stringFormatting)}else if("aggregate"==n){if(null!=(u=t._CastExtension.toAggregateString(i._aggregate())))return new t.models._DataValueInfo(u,this.__stringFormatting)}else if("color"==n&&null!=(s=this.__pointView.color))return new t.models._ColorValueInfo(s)}else if(i instanceof t._NumbericLegendEncodingDefinition){if("name"==n){var r=i._fieldDefinition()._label;if(null!=r)return new t.models._DataValueInfo(r,this.__stringFormatting)}else if("value"==n){if(null!=(a=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._data()._dataSlices,i._fieldDefinition()._dataField,i._aggregate())))return new t.models._DataValueInfo(a,this.__stringFormatting)}else if("aggregate"==n){if(null!=(u=t._CastExtension.toAggregateString(i._aggregate())))return new t.models._DataValueInfo(u,this.__stringFormatting)}else if("color"==n&&null!=(s=this.__pointView.color))return new t.models._ColorValueInfo(s)}else if(i instanceof t._BinItemizedRangeLegendEncodingDefinition)if("name"==n){var l=i._fieldDefinition()._label;if(null!=l)return new t.models._DataValueInfo(l,this.__stringFormatting)}else if("value"==n){var a;if(null!=(a=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._data()._dataSlices,i._fieldDefinition()._dataField,i._aggregate())))return new t.models._DataValueInfo(a,this.__stringFormatting)}else if("aggregate"==n){var u;if(null!=(u=t._CastExtension.toAggregateString(i._aggregate())))return new t.models._DataValueInfo(u,this.__stringFormatting)}else if("color"==n){var s;if(null!=(s=this.__pointView.color))return new t.models._ColorValueInfo(s)}return null},e.prototype._getTokenProperty=function(e,n){for(var i=n.shift(),o=0,r=this.__contentEncodingDefinitions;o<r.length;o++){var l=r[o];if(t._isAggregateContentEncodingDefinition(l)){var a=l;if(a._dataFieldDefinition._dataField._name==e)if("name"==i){var u=a._dataFieldDefinition._label;if(null!=u)return new t.models._DataValueInfo(u,this.__stringFormatting)}else if("value"==i){var s=t._DataSlicesAggregate._defaultAggregate._aggregate(this.__pointView._data()._dataSlices,a._dataFieldDefinition._dataField,a._aggregate);if(null!=s)return new t.models._DataValueInfo(s,this.__stringFormatting)}else if("aggregate"==i){var _=t._CastExtension.toAggregateString(a._aggregate);if(null!=_)return new t.models._DataValueInfo(_,this.__stringFormatting)}}}return null},e.prototype.getIdentifierValue=function(e){var n="current.";return"current"==e?this.__pointView:e.length>n.length&&e.startsWith(n)&&null!=this.__pointView?new t._AnyValueBinding(e.slice(n.length))._getValue(this.__pointView):null},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},e}();t._WordCloudTextProxy=e}(t||(t={})),function(t){var e=function(e){function o(n,o,r){var l=e.call(this,n,o,r,t._WordCloudPlotViewBuilder._defaultBuilder,t._WordCloudPlotDataBuilder._defaultBuilder,t._WordCloudEncodingsDefinitionBuilder.__defaultBuilder,new t._WordCloudLegendSymbolViewBuilder)||this;return l._wordCloudOption=l._buildWordCloudOption(r.config),l._stringFormat=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,l._pluginCollection),l._visualViewOrderComparer=new i(l),l}return n(o,e),o.prototype._buildWordCloudOption=function(e){var n=null!=e.option()?e.option().wordCloud:null;return new t.options._WordCloudOption(n)},o.prototype._createEmptyEncodingsDefinition=function(){return new t._WordCloudEncodingsDefinition(null,null,null,null,null,null,null,[],[])},o.prototype._getDataModelType=function(){return"WordCloud"},o.prototype._getCoordinateSystemType=function(){return"Xy"},o}(t._BasePlotDefinition);t._WordCloudPlotDefinition=e;var i=function(){function t(t){this.__visualViewOrderComparers=[];var e=t._hoverBehaviorPolicy._visualViewOrderComparer;null!=e&&this.__visualViewOrderComparers.push(e),this.__visualViewOrderComparers.push(new o)}return t.prototype._compare=function(t,e){for(var n=0,i=this.__visualViewOrderComparers;n<i.length;n++){var o=i[n]._compare(t,e);if(0!=o)return o}return 0},t}(),o=function(){function e(){}return e.prototype._compare=function(t,e){var n=this._isSelected(t),i=this._isSelected(e);return n&&i?0:n?1:i?-1:0},e.prototype._isSelected=function(e){return t._isSelectingView(e)&&e._isSelected()},e}()}(t||(t={})),function(t){var e=function(){function e(){this.name="WordCloud",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype._buildPlotDefinition=function(e,n,i){return"WordCloud"===n.type?new t._WordCloudPlotDefinition(e,e._findDataSchema(n.data),n):null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._WordCloudPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){return void 0===r&&(r=null),e.call(this,n,i,o,null!=r?r:new t._TrellisLineAxisViewBuilder)||this}return n(i,e),i}(t._AxisDefinition);t._TrellisLineAxisDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TrellisLineAxis",this.type=t._BuildInAxisDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildAxisDefinition=function(e,n,i){var o;return n._getCoordinateSystemType()===t._XyCartesianCoordinateSystemDefinition._type&&t._isTrellisPlotDefinition(n)&&!n._cellLayoutDefinition._includeAxesInCells?(o=n._plotConfigOption.swapAxes?i.type==t.AxisType.X?t.Orientation.Vertical:t.Orientation.Horizontal:i.type==t.AxisType.X?t.Orientation.Horizontal:t.Orientation.Vertical,new t._TrellisLineAxisDefinition(e,i,o)):null},e.prototype.queryInterface=function(t){return"IAxisDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultTrellisLineAxisDefinitionBuilder=new e,e}();t._TrellisLineAxisDefinitionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultTrellisLineAxisDefinitionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n){if(t._isCartesianCoordinateSystemView(e)){var i=e;return n._orientation==t.Orientation.Vertical?new t._TrellisRowAxisView(i,n):n._orientation==t.Orientation.Horizontal?new t._TrellisColumnAxisView(i,n):null}return null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._TrellisLineAxisViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,i)||this;return o.__index=n,o}return n(i,e),i.prototype._trellisView=function(){return this._getLayoutView()},i.prototype._index=function(){return this.__index},i.prototype._getPlotViews=function(){for(var e=[],n=0,i=this._getCellViews();n<i.length;n++)for(var o=0,r=i[n]._plotViews();o<r.length;o++){var l=r[o];t._isCartesianPlotView(l)&&e.push(l)}return e},i.prototype._innerMinSize=function(){return null},i.prototype._getCellViews=function(){return[]},i.prototype._initPlotViews=function(t,e,n){},i.prototype._createPlotListView=function(){return new t._TrellisCartesianPlotListView(this)},i.prototype._createAxesView=function(e){return new t._TrellisAxesView(this,e)},i}(t._XyCartesianCoordinateSystemView);t._TrellisRowColumnCartesianCoordinateSystemView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._trellisCellLayoutView=function(){return e.prototype._getLayoutView.call(this)},i.prototype._innerMinSize=function(){return this._includeAxesInCells()?null:e.prototype._innerMinSize.call(this)},i.prototype._layoutContent=function(t,n,i){this._includeAxesInCells()?e.prototype._layoutContent.call(this,t,n,i):this._layoutPlotViews(t,n,i)},i.prototype._renderAxesViews=function(t,n){this._includeAxesInCells()&&e.prototype._renderAxesViews.call(this,t,n)},i.prototype._getHorizontalAxisViews=function(){return this._includeAxesInCells()?e.prototype._getHorizontalAxisViews.call(this):this._trellisCellLayoutView()._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView()._columnsView._getColumnView(this._trellisCellLayoutView()._getTrellisCellView()._getColumnIndex())._getCoordinateSystemView()._getHorizontalAxisViews()},i.prototype._getVerticalAxisViews=function(){return this._includeAxesInCells()?e.prototype._getVerticalAxisViews.call(this):this._trellisCellLayoutView()._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView()._rowsView._getRowView(this._trellisCellLayoutView()._getTrellisCellView()._getRowIndex())._getCoordinateSystemView()._getVerticalAxisViews()},i.prototype._createAxisView=function(n,i){if(this._includeAxesInCells())return e.prototype._createAxisView.call(this,n,i);var o=null,r=this._trellisCellLayoutView()._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView();return o=i._orientation==t.Orientation.Horizontal?r._columnsView._getColumnView(this._trellisCellLayoutView()._getTrellisCellView()._getColumnIndex())._getCoordinateSystemView():r._rowsView._getRowView(this._trellisCellLayoutView()._getTrellisCellView()._getRowIndex())._getCoordinateSystemView(),e.prototype._createAxisView.call(this,o,i)},i.prototype._includeAxesInCells=function(){return this._trellisCellLayoutView()._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView()._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells},i.prototype._createPlotListView=function(){return new t._TrellisCartesianPlotListView(this)},i.prototype._createAxesView=function(e){return new t._TrellisAxesView(this,e)},i}(t._XyCartesianCoordinateSystemView);t._TrellisCellLineCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype._getCellViews=function(){for(var t=this._trellisView()._getCellViews(),e=[],n=0;n<t.length;n++)e.push(t[n][this._index()]);return e},e}(t._TrellisRowColumnCartesianCoordinateSystemView);t._TrellisColumnCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e.prototype._getCellViews=function(){return this._trellisView()._getCellViews()[this._index()]},e}(t._TrellisRowColumnCartesianCoordinateSystemView);t._TrellisRowCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildTrellisDataModel=function(e,n){if(!n)return null;var i=new t._TrellisHeaderCellGroupingsBuilder,o=n._columnHeaderDefinition._fieldDefinitions,r=n._columnHeaderDefinition._sortDefinition,l=i._buildGroups(e,r,o),a=n._rowHeaderDefinition._fieldDefinitions,u=n._rowHeaderDefinition._sortDefinition,s=i._buildGroups(e,u,a),_=[];if(0==o.length)_.push(new t.models._TrellisColumnDataModel(0,e));else{var p=o.length-1,c=0;t._TreeNodeUtility._traverseDFS(l,(function(e,n){n==p&&_.push(new t.models._TrellisColumnDataModel(c++,e._dataSlices))}))}var h=[];if(0==a.length)h.push(new t.models._TrellisRowDataModel(0,e));else{var f=a.length-1,d=0;t._TreeNodeUtility._traverseDFS(s,(function(e,n){n==f&&h.push(new t.models._TrellisRowDataModel(d++,e._dataSlices))}))}for(var y=[],g=0;g<h.length;g++)for(var m=0;m<_.length;m++){var v=t._DataSlicesUtility._intersection(_[m]._dataSlices,h[g]._dataSlices);y.push(new t.models._TrellisCellDataModel(g,m,v))}for(var w=0,b=y;w<b.length;w++){for(var P=b[w],S=0,C=h;S<C.length;S++){var V=C[S];P._rowIndex==V._index&&V._cells.push(P)}for(var x=0,D=_;x<D.length;x++){var O=D[x];P._columnIndex==O._index&&O._cells.push(P)}}return new t.models._TrellisDataModel(e,h,_,s,l,y)},e._defaultTrellisDataModelBuilder=new e,e}();t._TrellisDataModelBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildGroups=function(e,n,i){if(0==i.length)return[];for(var o=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(e,null),r=[],l=0;l<i.length;l++)r.push(new t.QueryGroupByOption(new t._GroupingDefinition(i[l],0==l?n:null)));var a=o.groupBy(r).query().groups,u=[],s=[],_=i.length-1;t._TreeNodeUtility._traverseGrouping(a,null,0,(function(e,n,o){var r=new t.models._TrellisHeaderCellDataModel(n.key,n._dataSlices,e,i[o],0,0,0);return null!=e?e.children.push(r):u.push(r),r._level=o,o==_&&s.push(r),r}));for(var p=0;p<s.length;p++){var c=s[p];c._start=p,c._end=p,this._updateParentStartEnd(c)}return u},e.prototype._updateParentStartEnd=function(t){var e=t.parent;if(null!=e){var n=e.children,i=!1;t==n[0]&&(e._start=t._start,i=!0),t==n[n.length-1]&&(e._end=t._end,i=!0),i&&this._updateParentStartEnd(e)}},e}();t._TrellisHeaderCellGroupingsBuilder=e}(t||(t={})),t||(t={}),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){t.models||(t.models={})}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n,i){var o=t.call(this,i)||this;return o._rowIndex=e,o._columnIndex=n,o}return n(e,t),e}(t._DataModel),e._TrellisCellDataModel=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n){var i=t.call(this,n)||this;return i._index=e,i._cells=[],i._dimensions=[],i}return n(e,t),e}(t._DataModel),e._TrellisColumnDataModel=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n,i,o,r,l){var a=t.call(this,e)||this;return a._rowCount=n.length,a._columnCount=i.length,a._rows=n,a._columns=i,a._rowHeaders=o,a._columnHeaders=r,a._cells=l,a._dimensions=[],a}return n(e,t),e}(t._DataModel),e._TrellisDataModel=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n,i,o,r,l,a){var u=t.call(this,n)||this;return u.key=e,u._fieldDefinition=o,u.parent=i,u.children=[],u._start=r,u._end=l,u._level=a,u}return n(e,t),e}(t._DataModel),e._TrellisHeaderCellDataModel=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function e(e,n){var i=t.call(this,n)||this;return i._index=e,i._cells=[],i._dimensions=[],i}return n(e,t),e}(t._DataModel),e._TrellisRowDataModel=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisAreaCartesianPlotDefinition?new t._TrellisAreaCartesianPlotView(n,i,o):null},n}(),e._TrellisAreaPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisBarCartesianPlotDefinition?new t._TrellisBarCartesianPlotView(n,i,o):null},n}(),e._TrellisBarPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisCandlestickPlotDefinition?new t._TrellisCandlestickPlotView(n,i,o):null},n}(),e._TrellisCandlestickPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisHlocPlotDefinition?new t._TrellisHlocPlotView(n,i,o):null},n}(),e._TrellisHlocPlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisLineCartesianPlotDefinition?new t._TrellisLineCartesianPlotView(n,i,o):null},n}(),e._TrellisLinePlotViewBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisScatterCartesianPlotDefinition?new t._TrellisScatterCartesianPlotView(n,i,o):null},n}(),e._TrellisScatterPlotViewBuilder=n}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function i(n,i,o){var r=t.call(this,n,i,o,new e._TrellisSunburstPlotViewBuilder)||this;return r._cellLayoutDefinition=n,r}return n(i,t),i}(t.models._SunburstPlotDefinition),e._TrellisSunburstPlotDefinition=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisSunburstPlotDefinition?new t._TrellisSunburstPlotView(n,i,o):null},n}(),e._TrellisSunburstPlotViewBuilder=n}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function i(n,i,o,r){var l=t.call(this,n,i,o,new e._TrellisTextPlotViewBuilder)||this;return l._cellLayoutDefinition=n,l._trellisPlotDataBuilder=r,l}return n(i,t),i}(t._TextCartesianPlotDefinition),e._TrellisTextPlotDefinition=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisTextPlotDefinition?new t._TrellisTextPlotView(n,i,o):null},n}(),e._TrellisTextPlotViewBuilder=n}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function i(n,i,o){var r=t.call(this,n,i,o,new e._TrellisTreeMapPlotViewBuilder)||this;return r._cellLayoutDefinition=n,r}return n(i,t),i}(t.models._TreeMapPlotDefinition),e._TrellisTreeMapPlotDefinition=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){return t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisTreeMapPlotDefinition?new t._TrellisTreemapPlotView(n,i,o):null},n}(),e._TrellisTreeMapPlotViewBuilder=n}(t||(t={})),function(t){t._isTrellisCartesianPlotDefinition=function(e){var n=e;return null!=n._trellisPlotDataBuilder&&t._isTrellisPlotDefinition(n)&&t._isCartesianPlotDefinition(n)}}(t||(t={})),function(t){t._isTrellisPlotDefinition=function(t){return null!=t._cellLayoutDefinition}}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,n,o,r){var l=i.call(this,t,n,o,new e._TrellisAreaPlotViewBuilder)||this;return l._cellLayoutDefinition=t,l._trellisPlotDataBuilder=r,l}return n(o,i),o.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},o}(t._AreaCartesianPlotDefinition),e._TrellisAreaCartesianPlotDefinition=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(n,o,r){var l=i.call(this,n,o,r,t._XyCoordinateSystemDefinition._type,new e._TrellisAreaRadialParallelPlotViewBuilder,new t._ParallelPlotDataBuilder,new t._AreaRadialParallelLegendSymbolViewBuilder(!1,!1))||this;return l._cellLayoutDefinition=n,l}return n(o,i),o}(e._ParallelPlotDefinition),e._TrellisAreaRadialParallelPlotDefinition=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){if(t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisAreaRadialParallelPlotDefinition){var r=i._getValueDefinitions();if(null!=r&&r.length>0&&e._isParallelValueEncodingDefinition(r[0]))return new t._AreaRadialParallelPlotView(n,i,o)}return null},n}(),e._TrellisAreaRadialParallelPlotViewBuilder=n}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(n,o,r,l){void 0===l&&(l=null);var a=i.call(this,n,o,r,null==l?new e._TrellisBarPlotViewBuilder:l)||this;return a._cellLayoutDefinition=n,a._trellisPlotDataBuilder=t._TrellisCartesianPlotDataBuilder._defaultTrellisCartesianPlotDataBuilder,a}return n(o,i),o.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},o}(t._BarCartesianPlotDefinition),e._TrellisBarCartesianPlotDefinition=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function i(n,i,o,r){var l=t.call(this,n,i,o,new e._TrellisCandlestickPlotViewBuilder)||this;return l._cellLayoutDefinition=n,l._trellisPlotDataBuilder=r,l}return n(i,t),i}(t.financial.models._CandlestickPlotDefinition),e._TrellisCandlestickPlotDefinition=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(t){function i(n,i,o,r){var l=t.call(this,n,i,o,new e._TrellisHlocPlotViewBuilder)||this;return l._cellLayoutDefinition=n,l._trellisPlotDataBuilder=r,l}return n(i,t),i}(t.financial.models._HlocPlotDefinition),e._TrellisHlocPlotDefinition=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,n,o,r){var l=i.call(this,t,n,o,new e._TrellisLinePlotViewBuilder)||this;return l._cellLayoutDefinition=t,l._trellisPlotDataBuilder=r,l}return n(o,i),o.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},o}(t._LineCartesianPlotDefinition),e._TrellisLineCartesianPlotDefinition=i}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(n,o,r){var l=i.call(this,n,o,r,t._XyCoordinateSystemDefinition._type,new e._TrellisLineRadialParallelPlotViewBuilder,new t._ParallelPlotDataBuilder,new t._LineRadialParallelLegendSymbolViewBuilder(!1,!1))||this;return l._cellLayoutDefinition=n,l}return n(o,i),o}(t.models._ParallelPlotDefinition),e._TrellisLineRadialParallelPlotDefinition=i}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(){}return n.prototype._buildPlotView=function(n,i,o){if(t._isTrellisCellLayoutView(n)&&i instanceof e._TrellisLineRadialParallelPlotDefinition){var r=i._getValueDefinitions();if(null!=r&&r.length>0&&e._isParallelValueEncodingDefinition(r[0]))return new t._LineRadialParallelPlotView(n,i,o)}return null},n}(),e._TrellisLineRadialParallelPlotViewBuilder=n}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(i){function o(t,n,o,r){var l=i.call(this,t,n,o,new e._TrellisScatterPlotViewBuilder)||this;return l._cellLayoutDefinition=t,l._trellisPlotDataBuilder=r,l}return n(o,i),o.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},o}(t._ScatterCartesianPlotDefinition),e._TrellisScatterCartesianPlotDefinition=i}(t||(t={})),function(t){var e=function(e){function o(n,o,r){var l=e.call(this,n,o,r,new i)||this;return l._cellLayoutDefinition=n,l._trellisPlotDataBuilder=t._TrellisCartesianPlotDataBuilder._defaultTrellisCartesianPlotDataBuilder,l}return n(o,e),o.prototype._getCoordinateSystemType=function(){var e=this._plotConfigOption.axisMode;return e==t.AxisMode.Radial?"CartesianRadial":e==t.AxisMode.Polygonal?"CartesianPolygonal":"CartesianXy"},o}(t._WaterfallPlotDefinition);t._TrellisWaterfallPlotDefinition=e;var i=function(){function e(){}return e.prototype._buildPlotView=function(e,n,i){return t._isTrellisCellLayoutView(e)&&t._isWaterfallPlotDefinition(n)&&t._isCartesianPlotDataModel(i)?new t._TrellisWaterfallPlotView(e,n,i):null},e}()}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildTrellisPlotData=function(e,n,i,o){if(t._isTrellisCartesianPlotDefinition(e)){var r=e,l=this._createData(r,n,i,o);return l._initialize(),l}return null},e.prototype._createData=function(e,n,i,o){var r=e._encodingsDefinition._getCartesianCategoryEncodingDefinition();return null!=r?this._createCategoryData(e,r,n,i,o):e._valueDefinitions().every((function(e){return t._isXyStyleValueEncodingDefinition(e)}))?this._createXyData(e,n,i,o):this._createSingleValueData(e,n,i,o)},e.prototype._createCategoryData=function(e,n,i,o,r){return new t._TrellisCartesianCategoryPlotDataModel(i,e,n,o,r)},e.prototype._createSingleValueData=function(e,n,i,o){return new t._TrellisCartesianSingleValuePlotDataModel(n,e,i,o)},e.prototype._createXyData=function(e,n,i,o){return new t._TrellisCartesianXyPlotDataModel(n,e,i,o)},e._defaultTrellisCartesianPlotDataBuilder=new e,e}();t._TrellisCartesianPlotDataBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildTrellisPlotData=function(e,n,i,o){if(t._isTrellisCartesianPlotDefinition(e)){var r=e,l=this._createData(r,n);return null!=l&&l._initialize(),l}return null},e.prototype._createData=function(e,n){var i=e._encodingsDefinition._getCartesianCategoryEncodingDefinition();return null!=i?this._createCategoryData(e,i,n):e._valueDefinitions().every((function(e){return t._isXyStyleValueEncodingDefinition(e)}))?this._createXyData(e,n):this._createSingleValueData(e,n)},e.prototype._createCategoryData=function(e,n,i){return new t._TrellisStockCartesianCategoryPlotDataModel(i,e,n)},e.prototype._createSingleValueData=function(t,e){return null},e.prototype._createXyData=function(e,n){return new t._TrellisStockCartesianXyPlotDataModel(n,e)},e._defaultTrelliStockPlotDataBuilder=new e,e}();t._TrellisStockPlotDataBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildTrellisPlotData=function(e,n,i,o){if(t._isCartesianPlotDefinition(e)){var r=e,l=this._createData(r,n,i);return l._initialize(),l}return null},e.prototype._createData=function(e,n,i){var o=e._encodingsDefinition._getCartesianCategoryEncodingDefinition();return null!=o?this._createCategoryData(e,o,n,i):e._valueDefinitions().every((function(e){return t._isXyStyleValueEncodingDefinition(e)}))?this._createXyData(e,n,i):this._createSingleValueData(e,n,i)},e.prototype._createCategoryData=function(e,n,i,o){return new t._TrellisTextCartesianCategoryPlotDataModel(i,e,o,n)},e.prototype._createSingleValueData=function(e,n,i){return new t._TrellisTextCartesianSingleValuePlotDataModel(n,e,i)},e.prototype._createXyData=function(e,n,i){return new t._TrellisTextCartesianXyPlotDataModel(n,e,i)},e._defaultTrellisTextPlotDataBuilder=new e,e}();t._TrellisTextPlotDataBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,n,i)||this;return l.__trellisDataModel=o,l.__trellisCellDataModel=r,l}return n(i,e),i.prototype._createXDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildXDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},i.prototype._createYDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildYDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},i.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},i.prototype._createPoints=function(n){var i=this,o=this._cartesianPlotDefinition()._encodingsDefinition._getCartesianCategoryEncodingDefinition(),r=e.prototype._createXDimension.call(this,o,this._dataSlices);if(null==this._categoryDimension||!t._isDataFieldDimension(this._categoryDimension)||null==r||!t._isDataFieldDimension(r))return e.prototype._createPoints.call(this,n);var l=this._cartesianPlotDefinition()._detailDefinitions(),a=[],u=[];t._TreeNodeUtility._traverseDFS(this._categoryDimension._dimensionValueGroups(),(function(t,e){0==t.children.length&&u.push(t)}));var s=[];t._TreeNodeUtility._traverseDFS(r._dimensionValueGroups(),(function(t,e){0==t.children.length&&s.push(t)}));for(var _=function(e){var n=e._y(),o=e._yValueDefinition(),r=t._BuildInDimensionValueBuilderCollection._buildInDimensionValueBuilders()._dimensionValueBuilder(o);if(null==r)return"continue";for(var _=function(u){for(var _,c=u._dimensionValues().length>0?u._dimensionValues()[0]:null,h=null,f=0,d=s;f<d.length;f++){var y=d[f],g=y._dimensionValues().length>0?y._dimensionValues()[0]:null;if(t._OrdinalDimensionValueEqualityComparer._ordinalDimensionValueEqualityComparer._equalsWith(g,c)){h=y;break}}if(null==h)return"continue";var m=[],v=h._dataSlices;if(null!=l&&l.length>0)for(var w=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(v,null),b=function(l){var a=[];a.push(new t.QueryGroupByOption(new t._GroupingDefinition(l._dataFieldDefinition,l._sortDefinition)));var u=w.groupBy(a).query().groups;t._TreeNodeUtility._traverseDFS(u,(function(a,u){var s=r._buildDimensionValues(a._dataSlices,n,o),_=i._createPoint(e,a._dataSlices,c,s,new t._DetailValue(l,a.key));null!=_&&m.push(_)}))},P=0,S=l;P<S.length;P++)b(S[P]);else{var C=r._buildDimensionValues(v,n,o),V=p._createPoint(e,v,c,C,null);null!=V&&m.push(V)}a.push.apply(a,m),(_=e._points()).push.apply(_,m)},c=0,h=u;c<h.length;c++)_(h[c])},p=this,c=0,h=n;c<h.length;c++)_(h[c]);return a},i.prototype._findMirrorDetailEncodingDefinition=function(){return null},i}(t._CartesianCategoryPlotDataModel);t._TrellisCartesianCategoryPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n)||this;return r.__trellisDataModel=i,r.__trellisCellDataModel=o,r}return n(i,e),i.prototype._createXDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildXDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},i.prototype._createYDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildYDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},i.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},i}(t._CartesianSingleValuePlotDataModel);t._TrellisCartesianSingleValuePlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n)||this;return r.__trellisDataModel=i,r.__trellisCellDataModel=o,r}return n(i,e),i.prototype._createXDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildXDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},i.prototype._createYDimension=function(e,n){return(new t._TrellisDimensionBuilder)._buildYDimension(e,n,this._definition(),this.__trellisDataModel,this.__trellisCellDataModel)},i.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},i}(t._CartesianXyPlotDataModel);t._TrellisCartesianXyPlotDataModel=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e}(t._StockCartesianCategoryPlotDataModel);t._TrellisStockCartesianCategoryPlotDataModel=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._StockCartesianXyPlotDataModel);t._TrellisStockCartesianXyPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,o)||this;return r.__trellisDataModel=i,r}return n(i,e),i.prototype._findMirrorDetailEncodingDefinition=function(){return null},i.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},i}(t._CartesianCategoryPlotDataModel);t._TrellisTextCartesianCategoryPlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__trellisDataModel=i,o}return n(i,e),i.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},i}(t._CartesianSingleValuePlotDataModel);t._TrellisTextCartesianSingleValuePlotDataModel=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__trellisDataModel=i,o}return n(i,e),i.prototype._createGroupSeriesList=function(n){e.prototype._createGroupSeriesList.call(this,n),(new t._TrellisSeriesSortPolicy)._sortGroupSeriesList(n,this._cartesianPlotDefinition()._detailDefinitions(),this.__trellisDataModel._dataSlices)},i}(t._CartesianXyPlotDataModel);t._TrellisTextCartesianXyPlotDataModel=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._sortGroupSeriesList=function(e,n,i){if(null!=(n=n.filter((function(e){return e._group!=t.Group.Mirror})))&&n.length>0){var o=n[0],r=null;if(null==o._sortDefinition&&(r=o._dataFieldDefinition),null!=r){var l=[],a=t._BuildInQueryBuilderCollection._defaultBuildInQueryBuilders()._dataSlicesQuery(i,null),u=[];u.push(new t.QueryGroupByOption(new t._GroupingDefinition(r)));var s=a.groupBy(u).query().groups;t._TreeNodeUtility._traverseDFS(s,(function(t,e){l.push(t.key)}));for(var _=0,p=e;_<p.length;_++)p[_]._seriesList().sort((function(e,n){var i=t._NativeExtension._findIndex(l,(function(n){return t._Util.sameValue(n,e.key)})),o=t._NativeExtension._findIndex(l,(function(e){return t._Util.sameValue(e,n.key)}));return-1==i&&-1==o?0:-1==i||-1==o?1:i-o}))}}},e}();t._TrellisSeriesSortPolicy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultTrellisCellsLayoutPolicyBuilderCollection=function(){return null==i.__trellisCellsLayoutPolicyBuilders&&(i.__trellisCellsLayoutPolicyBuilders=new i([],i._pluginType)),i.__trellisCellsLayoutPolicyBuilders},i.prototype._convert=function(e){return t._isTrellisCellsLayoutPolicyBuilder(e)?e:null},i.prototype.trellisCellsLayoutPolicy=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=0,l=this._objects(e,o);r<l.length;r++){var a=l[r],u=a.item._buildTrellisCellsLayoutPolicy(a.option,n,i);if(null!=u)return u}return null},i._pluginType="TrellisCellsLayout",i}(t._BuildInObjectCollection);t._BuildInTrellisCellsLayoutPolicyBuilderCollection=e}(t||(t={})),function(t){t._isTrellisCellsLayoutPolicyBuilder=function(t){return null!=t&&"function"==typeof t._buildTrellisCellsLayoutPolicy}}(t||(t={})),t||(t={}),function(t){t._isTrellisRadialCellsLayoutPolicy=function(t){var e=t;return null!=e&&"function"==typeof e._getRadius&&"function"==typeof e._registerCoordianteSystemLayoutPlugin&&"function"==typeof e._unregisterCoordianteSystemLayoutPlugin}}(t||(t={})),t||(t={}),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"TrellisColumnHeaderHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.TrellisColumnHeader&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e}(),e._TrellisColumnHeaderHoverInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.onClick=function(e,n){if(null!=n){var i=t._TrellisLayoutViewModelUtility._toTrellisColumnHeaderCellView(n);if(null!=i){var o=i._getTrellisColumnsPaneView()._getTrellisLayoutView(),r=o._getTrellisLayoutDefinition()._dvConfigOption;if(null!=r&&r.selectionMode==t.SelectionMode.Trellis){i.selected=!i.selected;var l=t._PlotAreaViewModelUtility._toPlotAreaModel(o._getPlotAreaView());return null!=l&&t._LegendUtility._updateLegendItemSelectedState(l),1}}}return 0},e}(),e._TrellisColumnHeaderSelectionInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"TrellisRowHeaderHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){},e.prototype.hover=function(e,n){return n.type==t.ElementType.TrellisRowHeader&&(this.__model=n,!0)},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this.model.hover=!0,1},e.prototype.onLeave=function(t){return this.model.hover=!1,1},e.prototype.onMove=function(t){return 0},e}(),e._TrellisRowHeaderHoverInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e.prototype.onClick=function(e,n){if(null!=n){var i=t._TrellisLayoutViewModelUtility._toTrellisRowHeaderCellView(n);if(null!=i){var o=i._getTrellisRowsPaneView()._getTrellisLayoutView(),r=o._getTrellisLayoutDefinition()._dvConfigOption;if(null!=r&&r.selectionMode==t.SelectionMode.Trellis){i.selected=!i.selected;var l=t._PlotAreaViewModelUtility._toPlotAreaModel(o._getPlotAreaView());return null!=l&&t._LegendUtility._updateLegendItemSelectedState(l),1}}}return 0},e}(),e._TrellisRowHeaderSelectionInteraction=n}(t||(t={})),function(t){var e=function(){function e(e){void 0===e&&(e=null),this.__fieldDefinitionBuilder=null==e?t._DataFieldDefinitionBuilder._dataFieldDefinitionBuilder:e}return e.prototype._buildSortDefinition=function(e,n){return null==e?null:null!=e.field?t._FieldSortDefinitionBuilder._fieldSortDefinitionBuilder.buildFieldSortDefinition(e,n):t._SimpleSortDefinitionBuilder._simpleSortDefinitionBuilder.buildSimpleSortDefinition(e)},e.prototype._buildFieldDefinitions=function(e,n){for(var i=[],o=t._EscapedCharacterStringUtility._split(e,">"),r=this.__fieldDefinitionBuilder,l=0,a=o;l<a.length;l++){var u=a[l],s=r._buildDataFieldDefinition(u,n,null);null!=s&&i.push(s)}return i},e}();t._TrellisHeaderDefinitionBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildTrellisHeaderDefinition=function(e,n){if(null!=e.field&&""!=e.field){var i=t._EscapedCharacterStringUtility._split(e.field,",");if(i.length>0)return new t._TrellisHeaderDefinition(this._buildFieldDefinitions(i[0],n),this._buildSortDefinition(e.columnSort,n))}return new t._TrellisHeaderDefinition([],this._buildSortDefinition(e.columnSort,n))},i._defaultTrellisColumnHeaderDefinitionBuilder=new i,i}(t._TrellisHeaderDefinitionBuilder);t._TrellisColumnHeaderDefinitionBuilder=e}(t||(t={})),function(t){var e=function(t,e){this._fieldDefinitions=t,this._sortDefinition=e};t._TrellisHeaderDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildTrellisHeaderDefinition=function(e,n){if(null!=e.field&&""!=e.field){var i=t._EscapedCharacterStringUtility._split(e.field,",");if(i.length>1)return new t._TrellisHeaderDefinition(this._buildFieldDefinitions(i[1],n),this._buildSortDefinition(e.rowSort,n))}return new t._TrellisHeaderDefinition([],this._buildSortDefinition(e.rowSort,n))},i._defaultTrellisRowHeaderDefinitionBuilder=new i,i}(t._TrellisHeaderDefinitionBuilder);t._TrellisRowHeaderDefinitionBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function n(t){this.__minRadiusRate=0,this.__pluginCoordianteSystemLayout=null,null!=t&&(this.__minRadiusRate=t)}return n.prototype._registerCoordianteSystemLayoutPlugin=function(n){null!=this.__pluginCoordianteSystemLayout&&this.__pluginCoordianteSystemLayout.radius==n||(null==this.__pluginCoordianteSystemLayout||t.plugins.PluginCollection.defaultPluginCollection.unregister(this.__pluginCoordianteSystemLayout),this.__pluginCoordianteSystemLayout=new t._TrellisRadialCoordinateSystemViewLayoutPolicy(n),this.__pluginCoordianteSystemLayout.heightenPriority(),e.PluginCollection.defaultPluginCollection.register(this.__pluginCoordianteSystemLayout,!0))},n.prototype._unregisterCoordianteSystemLayoutPlugin=function(){null!=this.__pluginCoordianteSystemLayout&&(t.plugins.PluginCollection.defaultPluginCollection.unregister(this.__pluginCoordianteSystemLayout),this.__pluginCoordianteSystemLayout=null)},n.prototype._layoutShapesRect=function(e,n,i,o,r,l,a,u){i._axisLabels=[];var s=l[0];if(a.forEach((function(t){var e=t._startAngle(),n=e+t._sweep;t._scaleModel._setRange([e,n])})),l.forEach((function(t){var e=[t._innerRadius*r,r];t._scaleModel._setRange(e)})),null!=s){var _=null==s._scaleModel._minimum?0:s._scaleModel._minimum,p=null==s._scaleModel._maximum?0:s._scaleModel._maximum;a.forEach((function(t){var e=t._getAcutalOrigin();if(null!=e&&e>=_&&e<=p){var n=s._scaleModel._value(e+(null!=s?s._getRadiusOffset():0));t._setOriginRadius(n)}}))}var c=[],h=[];u._layout(e,i,n);for(var f=0,d=u._getPlotViews();f<d.length;f++){var y=d[f];if(t._isCartesianPlotView(y)){var g=y;h.push.apply(h,g._getLayoutShapes())}}var m=new t.core.Rect(o.x-r,o.y-r,2*r,2*r);a.forEach((function(t){t._radius=r,t._cx=o.x,t._cy=o.y,t._layout(e,m,i),c.push.apply(c,t._getLayoutShapes(!1))}));var v=m.clone();c.forEach((function(e){var n=Math.min(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),i=Math.max(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),o=Math.min(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y),r=Math.max(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y);v=t._RectangleUtility._unionOfRectangles(v,new t.core.Rect(n,o,i-n,r-o))}));for(var w=0,b=h;w<b.length;w++){var P=b[w],S=Math.min(P.leftTop.x,P.rightTop.x,P.rightBottom.x,P.leftBottom.x),C=Math.max(P.leftTop.x,P.rightTop.x,P.rightBottom.x,P.leftBottom.x),V=Math.min(P.leftTop.y,P.rightTop.y,P.rightBottom.y,P.leftBottom.y),x=Math.max(P.leftTop.y,P.rightTop.y,P.rightBottom.y,P.leftBottom.y);v=t._RectangleUtility._unionOfRectangles(v,new t.core.Rect(S,V,C-S,x-V))}return v},n.prototype._isInnerShape=function(e,n){var i=t._RectangleUtility._intersectionOfRectangle(e,n);return t._RectanglePixelRoundEqualityComparer._rectanglePixelRoundEqualityComparer._equalsWith(e,i)||t._RectanglePixelRoundEqualityComparer._rectanglePixelRoundEqualityComparer._equalsWith(e,n)},n.prototype._searchBestRadius=function(t,e,n,i,o,r,l,a,u){n._checkOverlap=!1;var s=o,_=this._layoutShapesRect(t,e,n,i,s,l,a,u);if(this._isInnerShape(_,e))for(var p=o,c=r;c-p>1;){var h=(c-p)/2+p;_=this._layoutShapesRect(t,e,n,i,h,l,a,u),this._isInnerShape(_,e)?(p=h,s=h):c=h}return n._checkOverlap=!1,s},n.prototype.getCellRadius=function(e,n,i,o,r,l){var a=new t.core.Point(n.left+n.width/2,n.top+n.height/2);r=r.filter((function(t){return t._scaleModel._hasScale()})),o=o.filter((function(t){return t._scaleModel._hasScale()}));var u=Math.min(n.width/2,n.height/2),s=this.__minRadiusRate*u,_=this._searchBestRadius(e,n,i,a,s,u,o,r,l);return _>=1&&(_-=.5),_},n.prototype._getRadius=function(e,n,i,o){for(var r=[],l=n.left,a=n.top,u=o._cellViews(),s=o._getTrellisLayoutView()._rowsView._getRowHeights(n.height),_=o._getTrellisLayoutView()._columnsView._getColumnWidths(n.width),p=0;p<u.length;p++){var c=u[p];l=n.left;for(var h=0;h<c.length;h++)for(var f=c[h],d=0,y=f._layoutView()._coordinateSystemViews();d<y.length;d++){var g=y[d],m=[],v=[];g instanceof t._TrellisRadialCartesianCoordinateSystemView&&(m=g._getHorizontalAxisViews(),v=g._getVerticalAxisViews()),g instanceof t._TrellisPolygonalCartesianCoordinateSystemView&&(m=g._getHorizontalAxisViews(),v=g._getVerticalAxisViews());var w=new t.core.Rect(l,a,_[h],s[p]),b=f._getInnerRectangle(e,w),P=g._getPlotListView(),S=this.getCellRadius(e,b,i,m,v,P);r.push(S)}a+=c[0]._getRectangle().height}return Math.min.apply(Math,r)},n.prototype.queryInterface=function(t){return null},n}(),e._TrellisRadialCellsLayoutPolicy=n}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__minRadius=0,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"minRadius",{get:function(){return this.__minRadius},set:function(t){t=this.validate(t),null!=this.__minRadius&&this.__minRadius==t||(this.__minRadius=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"minRadius",null),i}(e._Option),e._TrellisCellsLayoutPluginArgumentsOption=i}(t||(t={})),function(t){!function(t){t._isTrellisCellsLayoutPluginArgumentsOption=function(t){return null!=t&&void 0!==t.minRadius}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(){this.name="TrellisRadial",this.type=t._BuildInTrellisCellsLayoutPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildTrellisCellsLayoutPolicy=function(e,n,i){if(null!=e&&null!=n&&null!=i&&n==t.AxisMode.Radial&&"Text"!=i){var o=e.arguments,r=t.options._isTrellisCellsLayoutPluginArgumentsOption(o)?o:new t.options._TrellisCellsLayoutPluginArgumentsOption(null!=o?o.option():null);return new t.plugins._TrellisRadialCellsLayoutPolicy(r.minRadius)}return null},e.prototype.queryInterface=function(t){return"ITrellisCellsLayoutPolicyBuilder"===t||"IPlugin"===t?this:null},e._defaultPlugin=new e,e}();t.TrellisCellsLayoutPolicyBuilderPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this)||this;return i.__priority=0,i.name="TrellisRadial",i.type=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._pluginType,i.__radius=n,i}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)?e:null},i.prototype._layoutCoordinateSystemView=function(e,n,i,o){var r=e._horizontalViewSize,l=e._verticalViewSize,a=e._getHorizontalAxisViews().filter((function(t){return t._scaleModel._hasScale()})),u=e._getVerticalAxisViews().filter((function(t){return t._scaleModel._hasScale()})),s=e._getPlotListView();i._checkOverlap=!0;var _=new t.core.Rect(o.left,o.top,o.width/r,o.height/l),p=0,c=[],h=[];u.forEach((function(e,i){if(c[i]=0,h[i]=0,e.position!=t.AxisPosition.None){var o=new t.core.Size(_.width,_.height),r=e._measure(n,o)._size;h[i]+=r.height,c[i]+=r.height-e._axisLabelHeight-e._getAxisLineWidth(),p+=c[i]}})),_.clone().height-=p;var f=new t.core.Point(o.left+o.width/2,o.top+o.height/2),d=this.__radius,y=u[0],g=a[0];if(u.forEach((function(t){var e=t._startAngle(),n=e+t._sweep;t._scaleModel._setRange([e,n])})),a.forEach((function(t){var e=[t._innerRadius*d,d];t._scaleModel._setRange(e)})),null!=g){var m=null==g._scaleModel._minimum?0:g._scaleModel._minimum,v=null==g._scaleModel._maximum?0:g._scaleModel._maximum;u.forEach((function(t,e){var n=t._getAcutalOrigin();if(null!=n&&n>=m&&n<=v){var i=g._scaleModel._value(n+(null!=g?g._getRadiusOffset():0));t._setOriginRadius(i)}}))}if(null!=y){var w=null==y._scaleModel._minimum?0:y._scaleModel._minimum,b=null==y._scaleModel._maximum?0:y._scaleModel._maximum;a.forEach((function(t,e){var n=t._getAcutalOrigin();if(null!=n&&n>=w&&n<=b){var i=y._scaleModel._value(n);t._setOriginAngle(i)}}))}var P=0;u.forEach((function(e){var i=new t.core.Size(o.width,o.height);if(!t._isOrdinalAxisScale(e._scaleModel._scale)){var r=e._measureMaxLabelSize(n);e._scaleModel._setTickNumber(e._getAnnoNumber(!0,i.height,r))}e.position!=t.AxisPosition.None&&(P=e._axisLabelHeight)})),a.forEach((function(e){if(e.position!=t.AxisPosition.None){var i=new t.core.Size(o.width,o.height-P);e._measure(n,i)}if(!t._isOrdinalAxisScale(e._scaleModel._scale)){var r=e._measureMaxLabelSize(n),l=2*(P+d);e._scaleModel._setTickNumber(e._getAnnoNumber(!1,l,r))}})),s._getPlotViews().forEach((function(e){t._isCartesianPlotView(e)&&e._initAxisScale(n)}));var S=_.clone(),C=0;u.forEach((function(t,e){d-=C,t._radius=d,t._cx=f.x,t._cy=f.y,t._layout(n,S,i),t._titleView()._layout(n,S,i),C+=h[e],S.height-=c[e]})),a.forEach((function(t){var e=[t._innerRadius*d,d];t._scaleModel._setRange(e),t._radius=d,t._cx=f.x,t._cy=f.y,t._layout(n,S,i),t._titleView()._layout(n,S,i)})),s._getPlotViews().forEach((function(e){t._isCartesianPlotView(e)&&e._setCenter(f.clone())})),s._layout(n,i,o),i._checkOverlap=!1;var V=new t.core.Rect(f.x-d,f.y-d,2*d,2*d);return new t._CoordinateSystemLayoutResult(V,null)},Object.defineProperty(i.prototype,"radius",{get:function(){return this.__radius},enumerable:!1,configurable:!0}),i.prototype.heightenPriority=function(){this.__priority=Number.MAX_VALUE},i.prototype._buildCoordinateSystemViewLayoutPolicy=function(e,n){var i=e._getDefinition()._type;return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)&&("CartesianRadial"==i||"CartesianPolygonal"==i)?this:null},Object.defineProperty(i.prototype,"priority",{get:function(){return this.__priority},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"ICoordinateSystemViewLayoutPolicyBuilder"==t||"IPlugin"==t?this:null},i}(t._BaseCoordinateSystemViewLayoutPolicy);t._TrellisRadialCoordinateSystemViewLayoutPolicy=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._TrellisColumnHeaderHoverInteraction},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._trellisColumnHeaderHoverInteractionBuilder=new e,e}();t._TrellisColumnHeaderHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisColumnHeaderHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._TrellisColumnHeaderSelectionInteraction},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._trellisColumnHeaderSelectionInteractionBuilder=new e,e}();t._TrellisColumnHeaderSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisColumnHeaderSelectionInteractionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._TrellisRowHeaderHoverInteraction},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._trellisRowHeaderHoverInteractionBuilder=new e,e}();t._TrellisRowHeaderHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisRowHeaderHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._TrellisRowHeaderSelectionInteraction},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._trellisRowHeaderSelectionInteractionBuilder=new e,e}();t._TrellisRowHeaderSelectionInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisRowHeaderSelectionInteractionBuilder,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._OverlayItemizedLegendDataModel);t._TrellisOverlayItemizedLegendDataModel=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._apply=function(){t.prototype._apply.call(this),this._legend._setAvailable(!1)},e}(t._OverlayLegendInitializer);t._TrellisOverlayLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TrellisOverlayLegendInitializer",this.type=t._BuildInLegendInitializerBuilderCollection._pluginType,this.priority=0}return e.prototype._buildLegendInitializer=function(e,n){return n instanceof t._TrellisOverlayItemizedLegendDataModel?new t._TrellisOverlayLegendInitializer(e,n,n._definition):null},e.prototype.queryInterface=function(t){return"ILegendInitializerBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TrellisOverlayLegendInitializerBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(){var n=e.call(this)||this;return n.name="TrellisOverlayLegend",n.type=t._BuildInOverlayLegendDataModelBuilderCollection._pluginType,n.priority=1,n}return n(i,e),i.prototype._buildOverlayLegendDataModel=function(e,n){if(t._isTrellisPlotDefinition(e)){var i=this._getLegendDefinition(e._overlayDefinitions());if(null!=i)return new t._TrellisOverlayItemizedLegendDataModel(i,n._getOption(i._plotDefinition._plotOption.name,t.LegendType.Overlay))}return null},i.prototype.queryInterface=function(t){return"ILegendDefinitionBuilder"==t||"IPlugin"==t?this:null},i._defaultPlugin=new i,i}(e._OverlayColorLegendBuilder),e._TrellisOverlayLegendPlugin=i,t.plugins.PluginCollection.defaultPluginCollection.register(i._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildOverlayView=function(e){if(t._isTextCartesianPlotView(e));else if(t._isCartesianPlotView(e))return new t._TrellisCartesianReferenceLineOverlayView(e,this);return null},i}(t._ReferenceLineDefinition);t._TrellisCartesianReferenceLineDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Overlay",this.type=t._BuildInOverlayDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildOverlayDefinition=function(e,n,i){if(t._isTrellisPlotDefinition(e)){if(t.options._isReferenceLineOverlayOption(n)){var o=n;return new t._TrellisCartesianReferenceLineDefinition(e,o)}if(t.options._isOverlayOption(n)&&"ReferenceLine"===(o=n).type&&t.options._isJsonOption(n))return new t._TrellisCartesianReferenceLineDefinition(e,new t.options._ReferenceLineOverlayOption(n.json))}return null},e.prototype.queryInterface=function(t){return"IOverlayPlugin"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TrellisReferenceLineOverlayPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Area",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=7}return e.prototype._buildPlotDefinition=function(e,n,i){if("Area"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e,r=new t.models._TrellisAreaRadialParallelPlotDefinition(e,o._dataSchema,n),l=r._getValueDefinitions();if(null!=l&&l.length>0&&t.models._isParallelValueEncodingDefinition(l[0]))return r}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisParallelAreaPlotPlugin=new e,e}();t._TrellisParallelAreaPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisParallelAreaPlotPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Line",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=7}return e.prototype._buildPlotDefinition=function(e,n,i){if("Line"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e,r=new t.models._TrellisLineRadialParallelPlotDefinition(e,o._dataSchema,n),l=r._getValueDefinitions();if(null!=l&&l.length>0&&t.models._isParallelValueEncodingDefinition(l[0]))return r}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisParallelLinePlotPlugin=new e,e}();t._TrellisParallelLinePlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisParallelLinePlotPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Scatter",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Scatter"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisScatterCartesianPlotDefinition(e,o._dataSchema,n,t._TrellisCartesianPlotDataBuilder._defaultTrellisCartesianPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisScatterPlotPlugin=new e,e}();t._TrellisScatterPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisScatterPlotPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Bar",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=6}return e.prototype._buildPlotDefinition=function(e,n,i){if("Bar"===n.type&&t._isTrellisCellLayoutDefinition(e)&&(n.config.axisMode==t.AxisMode.Polygonal||n.config.axisMode==t.AxisMode.Radial)){var o=e,r=new t.models._TrellisSunburstPlotDefinition(e,o._dataSchema,n);if(null!=r._detailDefinition()&&null!=r._detailDefinition()._dataFieldDefinitions&&r._detailDefinition()._dataFieldDefinitions.length>1)return r}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisSunburstPlotPlugin=new e,e}();t._TrellisSunburstPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisSunburstPlotPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMap",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("TreeMap"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisTreeMapPlotDefinition(e,o._dataSchema,n)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisTreeMapPlotPlugin=new e,e}();t._TrellisTreeMapPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisTreeMapPlotPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Area",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Area"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisAreaCartesianPlotDefinition(e,o._dataSchema,n,t._TrellisCartesianPlotDataBuilder._defaultTrellisCartesianPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisAreaPlotPlugin=new e,e}();t._TrellisAreaPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisAreaPlotPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._createCartesianGroupView=function(e){return new t._AreaCartesianGroupView(this,e)},i}(t._AreaCartesianPlotView);t._TrellisAreaCartesianPlotView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Bar",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Bar"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisBarCartesianPlotDefinition(e,o._dataSchema,n)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisBarPlotPlugin=new e,e}();t._TrellisBarPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisBarPlotPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Line",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Line"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisLineCartesianPlotDefinition(e,o._dataSchema,n,t._TrellisCartesianPlotDataBuilder._defaultTrellisCartesianPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisLinePlotPlugin=new e,e}();t._TrellisLinePlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisLinePlotPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createCartesianSeriesView=function(e){return new t._LineCartesianSeriesView(this,e)},i}(t._LineCartesianGroupView);t._TrellisLineCartesianGroupView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._createCartesianGroupView=function(e){return new t._TrellisLineCartesianGroupView(this,e)},i}(t._LineCartesianPlotView);t._TrellisLineCartesianPlotView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Text",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Text"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return new t.models._TrellisTextPlotDefinition(e,o._dataSchema,n,t._TrellisTextPlotDataBuilder._defaultTrellisTextPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisTextPlotPlugin=new e,e}();t._TrellisTextPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisTextPlotPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createCartesianSeriesView=function(e){return new t._TrellisTextSeriesView(this,e)},i}(t._TextCartesianGroupView);t._TrellisTextCartesianGroupView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._createCartesianGroupView=function(e){return new t._TrellisTextCartesianGroupView(this,e)},i.prototype._createCartesianPointView=function(e,n){var i=n._group()._yValueDefinition();return null!=i&&null!=(t._isRangeValueEncodingDefinition(i)?i:null)?null:new t._TextCartesianPointView(e,n,null)},i}(t._TextCartesianPlotView);t._TrellisTextPlotView=e}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="TrellisWaterfall",n.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,n.priority=6,n}return n(i,e),i.prototype._buildPlotDefinition=function(e,n,i){if("Bar"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e._dataSchema;if(this._isWaterfall(n,o))return new t._TrellisWaterfallPlotDefinition(e,o,n)}return null},i.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},i._defaultPlugin=new i,i}(t._WaterfallPlotDefinitionPlugin);t._TrellisWaterfallPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="Candlestick",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("Candlestick"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return n.encodings.values=t.financial.options._StockValueEncodingOptionExtension._fromEncodingOption(n.encodings),new t.models._TrellisCandlestickPlotDefinition(e,o._dataSchema,n,t._TrellisStockPlotDataBuilder._defaultTrelliStockPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisCandlestickPlotPlugin=new e,e}();t._TrellisCandlestickPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisCandlestickPlotPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="HighLowOpenClose",this.type=t._BuildInPlotDefinitionBuilderCollection._pluginType,this.priority=5}return e.prototype._buildPlotDefinition=function(e,n,i){if("HighLowOpenClose"===n.type&&t._isTrellisCellLayoutDefinition(e)){var o=e;return n.encodings.values=t.financial.options._StockValueEncodingOptionExtension._fromEncodingOption(n.encodings),new t.models._TrellisHlocPlotDefinition(e,o._dataSchema,n,t._TrellisStockPlotDataBuilder._defaultTrelliStockPlotDataBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotDefinitionBuilder"==t||"IPlugin"==t?this:null},e._trellisHlocPlotPlugin=new e,e}();t._TrellisHlocPlotPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._trellisHlocPlotPlugin,!0)}(t||(t={})),function(t){t._isTrellisCellLayoutDefinition=function(t){var e=t;return void 0!==e._dataSchema&&void 0!==e._includeAxesInCells}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isTrellisPlotConfigOption=function(t){return null!=t.trellis}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__style=new e._LineStyleOption(null),r.__textStyle=new e._TextStyleOption(null),r.__hoverStyle=new e._TextStyleOption(null),r.__padding=null,r.__includeAxesInCells=!1,r.__includeEmptyCells=!1,r.__plugins=[],null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._LineStyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textStyle",{get:function(){return this.__textStyle},set:function(t){this.__textStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__textStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(null==t&&(t=new e._TextStyleOption),this.__hoverStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this.__padding},set:function(t){this.__padding!=t&&(this.__padding=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"includeAxesInCells",{get:function(){return this.__includeAxesInCells},set:function(t){null!=this.__includeAxesInCells&&this.__includeAxesInCells==t||(this.__includeAxesInCells=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"includeEmptyCells",{get:function(){return this.__includeEmptyCells},set:function(t){null!=this.__includeEmptyCells&&this.__includeEmptyCells==t||(this.__includeEmptyCells=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"plugins",{get:function(){return this.__plugins},set:function(t){null==t?this.__plugins=[]:null!=this.__plugins&&this.__plugins==t||(this.__plugins=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LineStyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"textStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],r.prototype,"hoverStyle",null),o([t.JsonConverterAttribute(t._PaddingOptionConverter,!1)],r.prototype,"padding",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"includeAxesInCells",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"includeEmptyCells",null),o([t.JsonConverterAttribute(t._ArrayOptionConverter,!1,"_ConfigPluginOption")],r.prototype,"plugins",null),r}(e._Option),e._PlotConfigTrellisOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__trellis=new e._PlotConfigTrellisOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"trellis",{get:function(){return this.__trellis},set:function(t){this.__trellis!=t&&(null==t&&(t=new e._PlotConfigTrellisOption),this.__trellis=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_PlotConfigTrellisOption")],r.prototype,"trellis",null),r}(e._PlotConfigOption),e._TrellisPlotConfigOption=i}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r._dataSchema=t._dataSchema,r._trellisConfigOption=r._findTrellisConfigOption(r._createPlotOptionWithAxisOptionsList(n,i)),r._includeAxesInCells=r._trellisConfigOption.includeAxesInCells,r}return n(i,e),i.prototype._findTrellisConfigOption=function(e){if(e.length>0){var n=e[0]._plotOption.config;return t.options._isTrellisPlotConfigOption(n)?n.trellis:new t.options._TrellisPlotConfigOption(n.option()).trellis}return new t.options._PlotConfigTrellisOption},i}(t._PlotListLayoutDefinition);t._TrellisCellLayoutDefinition=e}(t||(t={})),function(t){t._isTrellisLayoutDefinition=function(t){var e=t;return null!=e._dataSchema&&null!=e._rowHeaderDefinition&&null!=e._columnHeaderDefinition&&null!=e._cellLayoutDefinition}}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__rowSort=null,o.__columnSort=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"rowSort",{get:function(){return this.__rowSort},set:function(t){this.__rowSort!=t&&(this.__rowSort=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnSort",{get:function(){return this.__columnSort},set:function(t){this.__columnSort!=t&&(this.__columnSort=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],i.prototype,"rowSort",null),o([t.JsonConverterAttribute(t._SortEncodingOptionConverter,!0)],i.prototype,"columnSort",null),i}(t.options._LayoutEncodingOption),e._TrellisLayoutEncodingOption=i}(t||(t={})),function(t){var e=function(e){function i(n,o,r,l,a,u,s,_){var p=e.call(this,n,u,null==_?i.__viewBuilderCallback:_)||this;p._dataSchema=o,p._rowHeaderDefinition=r,p._columnHeaderDefinition=l;var c=new t._TrellisCellLayoutDefinition(p,u,s,null);return p._trellisConfigOption=c._trellisConfigOption,p._cellLayoutDefinition=c,p}return n(i,e),i.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStrokeStyle(null,"#666666",1)),this.__defaultStyle},i.__viewBuilderCallback=function(e,n){if(t._isTrellisLayoutDefinition(n)){var i=n;return new t._TrellisLayoutView(e,i)}return null},i}(t._BaseLayoutDefinition);t._TrellisLayoutDefinition=e}(t||(t={})),function(t){var e=function(){function e(){this.name="Trellis",this.type=t._BuildInLayoutDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype._dataSchema=function(t,e){for(var n=null,i=0,o=e;i<o.length;i++){var r=o[i],l=t._findDataSchema(r.data);if(null==n)n=l;else if(!l.equalsWith(n))return null}return n},e.prototype._buildLayoutDefinition=function(e,n,i,o){var r=this._dataSchema(e,i);if(null==r)return null;var l=new t.options._TrellisLayoutEncodingOption(n.option());if(l.type!=this.name)return null;var a=t._TrellisRowHeaderDefinitionBuilder._defaultTrellisRowHeaderDefinitionBuilder._buildTrellisHeaderDefinition(l,r),u=t._TrellisColumnHeaderDefinitionBuilder._defaultTrellisColumnHeaderDefinitionBuilder._buildTrellisHeaderDefinition(l,r);return a._fieldDefinitions.length<=0&&u._fieldDefinitions.length<=0?null:new t._TrellisLayoutDefinition(e,r,a,u,l,i,o,null)},e.prototype.queryInterface=function(t){return"ILayoutBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TrellisLayoutPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){!function(t){t._isTrellisCellModel=function(t){var e=t;return null!=e&&void 0!==e.rowIndex&&void 0!==e.columnIndex&&void 0!==e.plots&&void 0!==e.items}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isTrellisColumnHeaderModel=function(t){var e=t;return null!=e&&void 0!==e.columnHeaders&&void 0!==e.columnIndex&&void 0!==e.columnSpan&&void 0!==e.text&&void 0!==e.selected&&void 0!==e.hover&&"function"==typeof e.relatedPlots}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isTrellisColumnModel=function(t){var e=t;return null!=e&&void 0!==e.columnIndex&&void 0!==e.columnHeader&&void 0!==e.cells&&void 0!==e.items}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isTrellisModel=function(t){var e=t;return null!=e&&void 0!==e.columnHeaders&&void 0!==e.rowHeaders&&void 0!==e.columns&&void 0!==e.rows&&void 0!==e.cells&&void 0!==e.corner&&void 0!==e.includeAxesInCells}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isTrellisRowHeaderModel=function(t){var e=t;return null!=e&&void 0!==e.rowHeaders&&void 0!==e.rowIndex&&void 0!==e.rowSpan&&void 0!==e.text&&void 0!==e.selected&&void 0!==e.hover&&"function"==typeof e.relatedPlots}}(t.models||(t.models={}))}(t||(t={})),function(t){!function(t){t._isTrellisRowModel=function(t){var e=t;return null!=e&&void 0!==e.rowIndex&&void 0!==e.rowHeader&&void 0!==e.cells&&void 0!==e.items}}(t.models||(t.models={}))}(t||(t={})),function(t){var e=function(){function t(){}return t._toTrellisRowModel=function(t){return null!=t.queryInterface("ITrellisRowModel")?t:null},t._toTrellisColumnModel=function(t){return null!=t.queryInterface("ITrellisColumnModel")?t:null},t._toTrellisRowHeaderModel=function(t){return null!=t.queryInterface("ITrellisRowHeaderModel")?t:null},t._toTrellisColumnHeaderModel=function(t){return null!=t.queryInterface("ITrellisColumnHeaderModel")?t:null},t._toTrellisCellModel=function(t){return null!=t.queryInterface("ITrellisCellModel")?t:null},t._toTrellisRowHeaderCellView=function(t){return null!=t.queryInterface("ITrellisRowHeaderCellView")?t:null},t._toTrellisColumnHeaderCellView=function(t){return null!=t.queryInterface("ITrellisColumnHeaderCellView")?t:null},t}();t._TrellisLayoutViewModelUtility=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i._dataModel=n,i}return n(e,t),e}(t._RectangleView);t._BaseTrellisHeaderCellView=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(n,i){var o=e.call(this,n)||this;return o._data=i,o.__layoutView=new t._TrellisCellLayoutView(o,o._getTrellisLayoutDefinition()._cellLayoutDefinition),o.__layoutView._loadDataSlices(o._data._dataSlices),o.__layoutViews=[o.__layoutView],o}return n(i,e),i.prototype._layoutView=function(){return this.__layoutView},i.prototype._plotViews=function(){return this.__layoutView._findAllPlotViews()},i.prototype._getInnerRectangle=function(t,e){return this._calculateInnerRectangle(t,e)},i.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutView()._getTrellisLayoutDefinition()},i.prototype._getClassName=function(){return"gcdv-trellis-cell-"+this._getRowIndex()+"-"+this._getColumnIndex()},i.prototype._paddings=function(){return this._getTrellisLayoutDefinition()._trellisConfigOption.padding},i.prototype._createIdentityContent=function(){var e=this._getRowIndex().toString(),n=this._getColumnIndex().toString();return t._Util.HashCode("trellis-cell"+e+n)},i.prototype._layoutInnerContent=function(t,e,n){(e=e.clone()).width<0&&(e.width=0),e.height<0&&(e.height=0),this.__layoutView._layout(t,e,n)},i.prototype._renderInnerContent=function(e,n,i){var o=this;if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells&&null!=n&&i._renderLabel){var r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(n.left,n.top,n.width,n.height);e.drawGroup(null,r,null,(function(t){o.__layoutView._render(e,i)}))}else this.__layoutView._render(e,i)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=this.__layoutView._hitTest(n,i,o);return null!=l?l:(l=new t.HitTestResult(n,this,this,t.ElementType.TrellisCell),null==o||null!=o&&o.predicate(l)?l:null)}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._getTrellisCellsPaneView=function(){return this._ownerView},i.prototype._getRowIndex=function(){return this._data._rowIndex},i.prototype._getColumnIndex=function(){return this._data._columnIndex},i.prototype._getPlotAreaView=function(){return this._ownerView._getTrellisLayoutView()._getPlotAreaView()},i.prototype._getLayoutViews=function(){return this.__layoutViews},i.prototype._id=function(){return null==this.__cachedId&&(this.__cachedId=this._ownerView._getTrellisLayoutView()._id()+this._createIdentityContent()),this.__cachedId},i.prototype.dispose=function(){this.__layoutView.dispose()},Object.defineProperty(i.prototype,"rowIndex",{get:function(){return this._data._rowIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnIndex",{get:function(){return this._data._columnIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"plots",{get:function(){return this._plotViews().map((function(e){return t.models._isPlotModel(e)?e:null}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this._data._dataSlices._items},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.TrellisCell},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView._getTrellisLayoutView()},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"ITrellisCellModel"==t||"ITrellisCellView"==t?this:null},i}(t._RectangleView);t._TrellisCellView=e}(t||(t={})),function(t){t._isTrellisCellLayoutView=function(t){return"function"==typeof t._getTrellisCellView}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._dataLabelsRectangle=function(){return this._getTrellisCellView()._getRectangle()},i.prototype._createCoordinateSystemView=function(n){return"CartesianXy"==n._type?new t._TrellisCellLineCartesianCoordinateSystemView(this,n):"CartesianPolygonal"==n._type?new t._TrellisPolygonalCartesianCoordinateSystemView(this,n):"CartesianRadial"==n._type?new t._TrellisRadialCartesianCoordinateSystemView(this,n):"Text"==n._type?new t._TrellisTextCategoriesCoordinateSystemView(this,n):e.prototype._createCoordinateSystemView.call(this,n)},i.prototype._renderChildren=function(t,e){for(var n=0,i=this._coordinateSystemViews();n<i.length;n++)i[n]._render(t,e)},i.prototype._createPlotData=function(n,i){if(t._isTrellisCartesianPlotDefinition(n)){var o=n,r=this._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView()._dataModel(),l=this._getTrellisCellView()._data;if(null!=o._trellisPlotDataBuilder)return o._trellisPlotDataBuilder._buildTrellisPlotData(o,i,r,l)}return e.prototype._createPlotData.call(this,n,i)},i.prototype._getTrellisCellView=function(){return this._ownerView},i.prototype._loadDataSlices=function(t){t._length<=0&&this._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView()._getTrellisLayoutDefinition()._trellisConfigOption.includeEmptyCells||e.prototype._loadDataSlices.call(this,t)},Object.defineProperty(i.prototype,"parent",{get:function(){return this._getTrellisCellView()},enumerable:!1,configurable:!0}),i}(t._PlotListLayoutView);t._TrellisCellLayoutView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._columnsWidth=function(){for(var t=0,e=this._cellViews()[0],n=0;n<e.length;n++)t+=e[n]._getRectangle().width;return t},i.prototype._rowsHeight=function(){for(var t=0,e=this._cellViews(),n=0;n<e.length;n++)t+=e[n][0]._getRectangle().height;return t},i.prototype._getClassName=function(){return"gcdv-trellis-cells"},i.prototype._update=function(){for(var e=this.__cellViews=this._createCellViews(),n={},i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++)for(var r=e[i][o]._plotViews(),l=0;l<r.length;l++){var a=r[l],u="";t._isTextCartesianPlotView(a)?u="Text":t._isCartesianPlotView(a)?u="CartesianXy":t._isHierarchicalPlotView(a)?u="Hierarchical":t._isParallelPlotView(a)&&(u="Parallel");var s=n[u];null==s&&(s=n[u]=[]),s.push(a)}for(var _=0,p=t._NativeExtension.properties(n,!1);_<p.length;_++){var c=n[u=p[_]];if("CartesianXy"===u)for(l=0;l<c.length;l++)c[l]._actionConditionalFormat();else if("Hierarchical"===u)for(l=0;l<c.length;l++)c[l]._actionConditionalFormat();else if("Text"===u)for(l=0;l<c.length;l++)c[l]._actionConditionalFormat()}},i.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutDefinition()},i.prototype._layoutInnerContent=function(t,e,n){(e=e.clone()).width<0&&(e.width=0),e.height<0&&(e.height=0),this._layoutCellViewsPolicy(t,e,n)},i.prototype._layoutCellViewsPolicy=function(e,n,i){var o=this._getTrellisLayoutDefinition()._trellisConfigOption.plugins,r=this._getTrellisLayoutDefinition()._pluginCollection,l=null,a=null,u=this._getTrellisLayoutDefinition()._plotOptions;null!=u&&u.length>0&&(l=u[0].config.axisMode,a=u[0].type);var s=t._BuildInTrellisCellsLayoutPolicyBuilderCollection._defaultTrellisCellsLayoutPolicyBuilderCollection().trellisCellsLayoutPolicy(this,o,l,a,r);if(null!=s){var _=s._getRadius(e,n,i,this);s._registerCoordianteSystemLayoutPlugin(_),this._layoutCellViews(e,n,i),s._unregisterCoordianteSystemLayoutPlugin()}else this._layoutCellViews(e,n,i)},i.prototype._layoutCellViews=function(e,n,i){for(var o=n.left,r=n.top,l=this._cellViews(),a=this._ownerView._rowsView._getRowHeights(n.height),u=this._ownerView._columnsView._getColumnWidths(n.width),s=0;s<l.length;s++){var _=l[s];o=n.left;for(var p=0;p<_.length;p++){var c=_[p];c._layout(e,i,new t.core.Rect(o,r,u[p],a[s])),o+=c._getRectangle().width}r+=_[0]._getRectangle().height}},i.prototype._getLogicSize=function(){return new t.core.Size(this._columnsWidth(),this._rowsHeight())},i.prototype._redraw=function(){e.prototype._redraw.call(this),null!=this.__scrollableLabelsGroupElement&&(this.__scrollableLabelsGroupElement.offsetX=this._getScrollX(),this.__scrollableLabelsGroupElement.offsetY=this._getScrollY(),this.__scrollableLabelsGroupElement.flush())},i.prototype._renderScrollableContent=function(t,n){if(n._renderLabel){var i=this._getLogicSize(),o=this._getViewport();this._renderScrollableLabelsContent(t,n,o,i)}else e.prototype._renderScrollableContent.call(this,t,n)},i.prototype._renderScrollableLabelsContent=function(t,e,n,i){var o=this;this.__scrollableLabelsGroupElement=t.createGroup("scroll-labels",null,this._transform,n,i.width,i.height,this._getScrollX(),this._getScrollY(),(function(t){o._invokeBaseRenderContent(t,e)})),null==this.__scrollableLabelsGroupElement&&t.drawGroup("scroll-labels",null,this._transform,(function(t){o._invokeBaseRenderContent(t,e)}))},i.prototype._renderInnerContent=function(t,e,n){for(var i=this._cellViews(),o=0;o<i.length;o++)for(var r=i[o],l=0;l<r.length;l++)r[l]._render(t,n)},i.prototype._createCellViews=function(){var e=this._ownerView._dataModel()._rowCount,n=this._ownerView._dataModel()._columnCount,i=this._ownerView._dataModel()._cells,o=[];o.length=e;for(var r=0,l=i;r<l.length;r++){var a=l[r];null==o[a._rowIndex]&&(o[a._rowIndex]=[],o[a._rowIndex].length=n),o[a._rowIndex][a._columnIndex]=new t._TrellisCellView(this,a)}return o},i.prototype._hitTestContent=function(t,n,i){for(var o=this._cellViews(),r=0;r<o.length;r++)for(var l=o[r],a=0;a<l.length;a++){var u=l[a]._hitTest(t,n,i);if(null!=u)return u}return e.prototype._hitTestContent.call(this,t,n,i)},i.prototype._getTrellisLayoutView=function(){return this._ownerView},i.prototype._getCellView=function(t,e){var n=this._cellViews();return n[t]&&n[t][e]},i.prototype._cellViews=function(){return this.__cellViews},i.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var t=this._ownerView._getHorizontalViewSize(),n=this._ownerView._getVerticalViewSize();return 1!==t||1!==n},i.prototype.dispose=function(){if(null!=this.__cellViews){for(var t=0,e=this.__cellViews;t<e.length;t++)for(var n=0,i=e[t];n<i.length;n++)i[n].dispose();this.__cellViews=null}},i}(t._ScrollableView);t._TrellisCellsPaneView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i.__coordinateSystemView=null,i.__dataModel=n,i._prepareCoordinateSystems(),i}return n(i,e),i.prototype._getCellViews=function(){for(var t=this._ownerView._getTrellisLayoutView()._getCellViews(),e=[],n=0;n<t.length;n++)e.push(t[n][this.__dataModel._index]);return e},i.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutView()._getTrellisLayoutDefinition()},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.TrellisColumn},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView._getTrellisLayoutView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnIndex",{get:function(){return this.__dataModel._index},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnHeader",{get:function(){var e=this._ownerView._getTrellisLayoutView()._columnsView._headerCellViews(),n=e[e.length-1][this.__dataModel._index];return t._TrellisLayoutViewModelUtility._toTrellisColumnHeaderModel(n)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cells",{get:function(){return this._getCellViews().map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisCellModel(e)})).filter((function(t){return null!=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this.__dataModel._dataSlices._items},enumerable:!1,configurable:!0}),i.prototype._getCoordinateSystemView=function(){return this.__coordinateSystemView},i.prototype._axisViews=function(){var t=this.__coordinateSystemView;return null!=t?t._getHorizontalAxisViews().map((function(t){return t})):[]},i.prototype._getClassName=function(){return"gcdv-trellis-column-"+this.__dataModel._index},i.prototype._paddings=function(){var e=this._getTrellisLayoutDefinition()._trellisConfigOption.padding,n=new t.options._PaddingOption(null);return null!=e&&(n.left=e.left,n.right=e.right),n},i.prototype._prepareCoordinateSystems=function(){for(var e=null,n=0,i=this._getTrellisLayoutDefinition()._cellLayoutDefinition._coordinateSystemDefinitions;n<i.length;n++){var o=i[n];"CartesianXy"===o._type&&(e=o)}null!=e&&(this.__coordinateSystemView=new t._TrellisColumnCartesianCoordinateSystemView(this._ownerView._getTrellisLayoutView(),this.__dataModel._index,e))},i.prototype._getBarCount=function(){if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return 1;var t=1,e=this.__coordinateSystemView;if(null!=e)for(var n=e._getHorizontalAxisViews(),i=0;i<n.length;i++)for(var o=0,r=n[i]._getDimensions();o<r.length;o++){var l=r[o];t=Math.max(t,l._dimensionValues().length)}return t},i.prototype._layoutInnerContent=function(t,e,n){if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){(e=e.clone()).width<0&&(e.width=0),e.height<0&&(e.height=0);var i=this.__coordinateSystemView;null!=i&&i._layout(t,e,n)}},i.prototype._renderInnerContent=function(t,e,n){if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){var i=this.__coordinateSystemView;null!=i&&i._render(t,n)}},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=this.__coordinateSystemView;if(null!=l){var a=l._hitTest(n,i,o);if(null!=a)return a}var u=new t.HitTestResult(n,this,this,t.ElementType.TrellisColumn);return null==o||null!=o&&o.predicate(u)?u:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype.dispose=function(){null!=this.__coordinateSystemView&&(this.__coordinateSystemView.dispose(),this.__coordinateSystemView=null)},i.prototype.queryInterface=function(t){return"ITrellisColumnModel"==t||"ITrellisColumnView"==t?this:null},i}(t._RectangleView);t._TrellisColumnView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__hover=!1,i._text=i._createText(),i}return n(i,e),i.prototype._createText=function(){var e=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._getTrellisLayoutDefinition()._pluginCollection),n=this._dataModel._fieldDefinition._format;return e.format(n,this._dataModel.key)},i.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutView()._getTrellisLayoutDefinition()},i.prototype._onHoverChanged=function(){this._textView()._updateHover(this._isHover())},i.prototype._traverseCellView=function(t,e){for(var n=this._ownerView._columnViews(),i=this._getColumnIndex();i<this._getColumnIndex()+this._getColumnSpan();i++)for(var o=0,r=n[i]._getCellViews();o<r.length;o++)t(r[o],e)},i.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(e,this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._textStyle),this.__style=e}return this.__style},i.prototype._hoverStyle=function(){if(null==this.__hoverStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._style());t._OptionUtility._applyTextStyleOption(e,this._getTrellisLayoutDefinition()._trellisConfigOption.hoverStyle),this.__hoverStyle=e}return this.__hoverStyle},i.prototype._textOverflow=function(){var e=this._textStyle?this._textStyle.overflow:null;return null==e&&(e=this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle.overflow),null==e&&(e=this._getTrellisLayoutDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._getTrellisLayoutDefinition()._dvConfigOption.textStyle.overflow),null==e?t.TextOverflow.Ellipsis:e},i.prototype._textAlignment=function(){var t=this._textStyle?this._textStyle.alignment:null;return null==t&&(t=this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle.alignment),null==t&&(t=this._getTrellisLayoutDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._getTrellisLayoutDefinition()._dvConfigOption.textStyle.alignment),t},i.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._text,this._textOverflow(),null,t.HAlign.Center,t.VAlign.Middle,this._style(),this._hoverStyle(),this._textAlignment())),this.__textView},i.prototype._paddings=function(){return new t.options._PaddingOption({left:3,top:3,right:3,bottom:3})},i.prototype._measureInnerContent=function(t,e){return this._textView()._measure(t,e)},i.prototype._layoutInnerContent=function(t,e,n){return this._textView()._layout(t,n,e)},i.prototype._renderInnerContent=function(e,n,i){var o=this,r=null;if(this._textOverflow()==t.TextOverflow.Clip){var l=this._getRectangle();r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(l.left,l.top,l.width,l.height)}e.drawGroup(null,r,null,(function(t){o._textView()._render(t,i)}))},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.TrellisColumnHeader);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._getColumnIndex=function(){return this._dataModel._start},i.prototype._getColumnSpan=function(){return this._dataModel._end-this._dataModel._start+1},i.prototype._getTrellisColumnsPaneView=function(){return this._ownerView},i.prototype._isSelected=function(){var t=!0;return this._traverseCellView((function(e,n){if(t)for(var i=0,o=e._plotViews();i<o.length;i++)for(var r=0,l=o[i]._getPointViews();r<l.length;r++)l[r]._isSelected()||(t=!1)}),null),t},i.prototype._updateSelected=function(t){this._traverseCellView((function(e,n){for(var i=0,o=e._plotViews();i<o.length;i++)o[i]._traversePointView((function(e,n){e._updateSelected(t)}),null)}),null)},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t,this._onHoverChanged())},Object.defineProperty(i.prototype,"columnHeaders",{get:function(){var e=[],n=this._ownerView._getTrellisLayoutView()._columnsView._headerCellViews(),i=this._dataModel._level;if(i<n.length-1)for(var o=0,r=n[i+1];o<r.length;o++){var l=r[o];if(l._getColumnIndex()>=this._getColumnIndex()&&l._getColumnIndex()+l._getColumnSpan()<=this._getColumnIndex()+this._getColumnSpan()){var a=t._TrellisLayoutViewModelUtility._toTrellisColumnHeaderModel(l);null!=a&&e.push(a)}}return e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnIndex",{get:function(){return this._dataModel._start},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnSpan",{get:function(){return this._dataModel._end-this._dataModel._start+1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textStyle",{get:function(){return this._textStyle},set:function(t){this._textStyle=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._isSelected()},set:function(t){this._updateSelected(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hover",{get:function(){return this._isHover()},set:function(t){this._updateHover(t)},enumerable:!1,configurable:!0}),i.prototype.relatedPlots=function(){var e=[];return this._traverseCellView((function(n,i){for(var o=0,r=n._layoutView()._findAllPlotViews();o<r.length;o++){var l=r[o],a=t._PlotViewModelUtility._toPlotModel(l);null!=a&&e.push(a)}}),null),e},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.TrellisColumnHeader},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var t=this._dataModel._level;if(0===t)return this._ownerView._getTrellisLayoutView();for(var e=this._ownerView._getTrellisLayoutView()._columnsView._headerCellViews()[t-1],n=0;n<e.length;n++){var i=e[n];if(i._getColumnIndex()<=this._getColumnIndex()&&this._getColumnIndex()+this._getColumnSpan()<=i._getColumnIndex()+i._getColumnSpan())return i}return this._ownerView._getTrellisLayoutView()},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"ITrellisColumnHeaderModel"==t||"ITrellisColumnHeaderCellView"==t?this:null},i}(t._BaseTrellisHeaderCellView);t._TrellisColumnHeaderCellView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._columnViews=function(){return this.__columnViews},i.prototype._headerCellViews=function(){return this.__headerCellViews},i.prototype._axisTitleViews=function(t){for(var e=this._columnViews()[0]._axisViews(),n=[],i=0;i<e.length;i++)e[i].position===t&&n.push(e[i]._titleView());return n},i.prototype._nearHeight=function(){var e=0;if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return e;var n=this._axisTitleViews(t.AxisPosition.Near).reduce((function(t,e){return t+e._rectangle().height}),0);e+=n;for(var i=[],o=this._columnViews(),r=0;r<o.length;r++)for(var l=o[r]._axisViews(),a=0;a<l.length;a++)l[a].position===t.AxisPosition.Near&&(i[a]=Math.max(null==i[a]?0:i[a],l[a]._rectangle().height));return e+=i.reduce((function(t,e){return t+e}),0)},i.prototype._farHeight=function(){for(var e=0,n=this._headerCellViews(),i=0;i<n.length;i++)e+=n[i][0]._getRectangle().height;if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return e;var o=this._axisTitleViews(t.AxisPosition.Far).reduce((function(t,e){return t+e._rectangle().height}),0);e+=o;for(var r=[],l=this._columnViews(),a=0;a<l.length;a++)for(var u=l[a]._axisViews(),s=0;s<u.length;s++)u[s].position===t.AxisPosition.Far&&(r[s]=Math.max(null==r[s]?0:r[s],u[s]._rectangle().height));return e+=r.reduce((function(t,e){return t+e}),0)},i.prototype._columnsWidth=function(){for(var t=0,e=this._columnViews(),n=0;n<e.length;n++)t+=e[n]._getRectangle().width;return t},i.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutDefinition()},i.prototype._getClassName=function(){return"gcdv-trellis-columns"},i.prototype._getTitleHeights=function(t,e,n){for(var i=this._columnViews()[0]._axisViews(),o=[],r=0;r<i.length;r++)i[r].position===e&&o.push(i[r]._getTitleHeight(t,n));return o},i.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var t=this._ownerView._getHorizontalViewSize(),n=this._ownerView._getVerticalViewSize();return 1!==t||1!==n},i.prototype._update=function(){this.__columnViews=this._createColumnViews(),this.__headerCellViews=this._createHeaderCellViews()},i.prototype._getColumnWidths=function(t){for(var e=[],n=this._columnViews(),i=[],o=0,r=0;r<n.length;r++){var l=n[r]._getBarCount();i[r]=l,o+=l}var a=this._ownerView._getHorizontalViewSize(),u=this._getTrellisLayoutDefinition()._trellisConfigOption.padding,s=0;null!=u&&(s=u.left.value+u.right.value);var _=(t/a-s*n.length)/o;for(r=0;r<n.length;r++)e.push(i[r]*_+s);return e},i.prototype._layoutInnerContent=function(e,n,i){(n=n.clone()).width<0&&(n.width=0),n.height<0&&(n.height=0);for(var o=this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells,r=this._getColumnWidths(n.width),l=this._headerCellViews(),a=[],u=0;u<l.length;u++){for(var s=l[u],_=0,p=0;p<s.length;p++){var c=s[p],h=r.slice(c._getColumnIndex(),c._getColumnIndex()+c._getColumnSpan()).reduce((function(t,e){return t+e}),0),f=c._measure(e,new t.core.Size(h,n.height))._size;_=Math.max(_,f.height)}a[u]=_}var d=this._getTitleHeights(e,t.AxisPosition.Near,n.size).reverse(),y=this._getTitleHeights(e,t.AxisPosition.Far,n.size).reverse(),g=d.reduce((function(t,e){return t+e}),0),m=y.reduce((function(t,e){return t+e}),0),v=n.left,w=n.top+(o?0:m),b=0;for(u=0;u<l.length;u++){s=l[u];var P=a[u];for(v=n.left,p=0;p<s.length;p++)c=s[p],h=r.slice(c._getColumnIndex(),c._getColumnIndex()+c._getColumnSpan()).reduce((function(t,e){return t+e}),0),c._layout(e,i,new t.core.Rect(v,w,h,P)),v+=h;b+=l[u][0]._getRectangle().height,w+=P}v=n.left;var S=n.height-b-(o?0:g+m),C=this._columnViews();for(p=0;p<C.length;p++)C[p]._layout(e,i,new t.core.Rect(v,w,r[p],S)),v+=r[p];if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){var V=[],x=[],D=[],O=[];for(p=0;p<C.length;p++)for(var A=C[p]._axisViews().reverse(),L=0;L<A.length;L++)(F=A[L])._scaleModel._hasScale()&&(null==V[L]&&(V[L]=0),null==x[L]&&(x[L]=0),F.position===t.AxisPosition.Near?(V[L]=Math.max(V[L],F._rectangle().height),(null==D[L]||D[L]>(null==F._autoAngle?0:F._autoAngle))&&(D[L]=F._autoAngle)):F.position===t.AxisPosition.Far&&(x[L]=Math.max(x[L],F._rectangle().height),(null==O[L]||O[L]>(null==F._autoAngle?0:F._autoAngle))&&(O[L]=F._autoAngle)));var T=0,M=0,E=this._getTrellisLayoutDefinition()._trellisConfigOption.padding;null!=E&&(T=E.left.value,M=E.right.value),v=n.left;var I=V.reduce((function(t,e){return t+e}),0),B=x.reduce((function(t,e){return t+e}),0),R=S-I-B;for(p=0;p<C.length;p++){A=C[p]._axisViews().reverse();var k=w,N=w+B+R;for(L=0;L<A.length;L++){var F;if((F=A[L])._scaleModel._hasScale()){var U=r[p]-(T+M),z=v+T;if(!t._isOrdinalAxisScale(F._scaleModel._scale)){var j=F._rectangle().right;U-=Math.max(v+U-j,0)}F._scaleModel._setRange([z,z+U]),i._lineCartesianCoordinateSystemContent=new t.core.Rect(v,w+B,r[p],R),F.position===t.AxisPosition.Near?(F._autoAngle=D[L],F._layout(e,new t.core.Rect(z,N,U,V[L]),i),N+=V[L]):F.position===t.AxisPosition.Far&&(F._autoAngle=O[L],F._layout(e,new t.core.Rect(z,k,U,x[L]),i),k+=x[L]),i._lineCartesianCoordinateSystemContent=null}}v+=r[p]}var W=this._axisTitleViews(t.AxisPosition.Near).reverse(),G=n.bottom;for(L=0;L<W.length;L++)W[L]._layout(e,new t.core.Rect(n.left,G-d[L],v-n.left,d[L]),i),G-=d[L];var H=this._axisTitleViews(t.AxisPosition.Far).reverse(),q=n.top;for(L=0;L<H.length;L++)H[L]._layout(e,new t.core.Rect(n.left,q,v-n.left,y[L]),i),q+=y[L]}},i.prototype._getLogicSize=function(){var e=this._getRectangle();return new t.core.Size(this._columnsWidth(),e.height)},i.prototype._redraw=function(){e.prototype._redraw.call(this),null!=this.__scrollableLabelsGroupElement&&(this.__scrollableLabelsGroupElement.offsetX=this._getScrollX(),this.__scrollableLabelsGroupElement.offsetY=this._getScrollY(),this.__scrollableLabelsGroupElement.flush())},i.prototype._renderScrollableContent=function(t,n){if(n._renderLabel){var i=this._getLogicSize(),o=this._getViewport();this._renderScrollableLabelsContent(t,n,o,i)}else e.prototype._renderScrollableContent.call(this,t,n)},i.prototype._renderScrollableLabelsContent=function(t,e,n,i){var o=this;this.__scrollableLabelsGroupElement=t.createGroup("scroll-labels",null,this._transform,n,i.width,i.height,this._getScrollX(),this._getScrollY(),(function(t){o._invokeBaseRenderContent(t,e)})),null==this.__scrollableLabelsGroupElement&&t.drawGroup("scroll-labels",null,this._transform,(function(t){o._invokeBaseRenderContent(t,e)}))},i.prototype._renderInnerContent=function(e,n,i){var o=this,r=this._columnViews(),l=this._headerCellViews();i._renderLabel||(e.drawGroup("gcdv-trellis-columns-gridline",null,null,(function(e){e.beginTransform();var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(o._getTrellisLayoutDefinition()._defaultStyle());t._OptionUtility._applyLineStyleOption(n,o._getTrellisLayoutDefinition()._trellisConfigOption.style),t._StyleUtility._applyStyle(e,n);for(var i=0;i<l.length;i++)for(var a=l[i],u=0;u<a.length;u++){var s=a[u]._getRectangle(),_=0===u?s.left+.5:s.left;e.drawLine(_,s.top,_,s.bottom),u===a.length-1&&e.drawLine(s.right-.5,s.top,s.right-.5,s.bottom)}for(u=0;u<r.length;u++){var p=(s=r[u]._getRectangle()).top,c=s.bottom;_=0===u?s.left+.5:s.left,e.drawLine(_,p,_,c),u===r.length-1&&e.drawLine(s.right-.5,p,s.right-.5,c)}e.restoreTransform()})),e.drawGroup("gcdv-trellis-columns-header",null,null,(function(t){for(var e=0;e<l.length;e++)for(var n=l[e],o=0;o<n.length;o++)n[o]._render(t,i)})));for(var a=0;a<r.length;a++)r[a]._render(e,i)},i.prototype._createColumnViews=function(){for(var e=[],n=this._ownerView._dataModel()._columns,i=0;i<n.length;i++)e.push(new t._TrellisColumnView(this,n[i]));return e},i.prototype._createHeaderCellViews=function(){var e=[],n=this._ownerView._dataModel()._columnHeaders,i=[];for(i.push.apply(i,n);i.length>0;){var o=[];e.push(o);for(var r=i.length;r>0;){var l=i.shift();o.push(new t._TrellisColumnHeaderCellView(this,l));var a=l.children;null!=a&&a.length>0&&i.push.apply(i,a),r--}}return e},i.prototype._hitTestContent=function(t,n,i){for(var o=this._headerCellViews(),r=0;r<o.length;r++)for(var l=o[r],a=0;a<l.length;a++)if(null!=(s=l[a]._hitTest(t,n,i)))return s;var u=this._columnViews();for(a=0;a<u.length;a++){var s;if(null!=(s=u[a]._hitTest(t,n,i)))return s}return e.prototype._hitTestContent.call(this,t,n,i)},i.prototype.dispose=function(){if(null!=this.__columnViews){for(var t=0,e=this.__columnViews;t<e.length;t++)e[t].dispose();this.__columnViews=null}},i.prototype._getTrellisLayoutView=function(){return this._ownerView},i.prototype._getColumnView=function(t){return this.__columnViews[t]},i}(t._ScrollableView);t._TrellisColumnsPaneView=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this,n)||this;return i.__rectangle=t.core.Rect.ReadOnlyRect,i}return n(i,e),i.prototype._rectangle=function(){return this.__rectangle},i.prototype._updateRectangle=function(t){this.__rectangle=t},i.prototype._layout=function(t,e,n){this._layoutContent(t,e,n)},i.prototype._layoutContent=function(t,e,n){this._updateRectangle(e)},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.TrellisCorner},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),i}(t._BaseView);t._TrellisCornerView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__horizontalScrollbarVisible=!0,i.__verticalScrollbarVisible=!0,i.__cornerView=i._createCornerView(),i._rowsView=i._createRowsView(),i._columnsView=i._createColumnsView(),i.__cellsView=i._createCellsView(),i}return n(i,e),i.prototype.dispose=function(){null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),null!=this.__cellsView&&(this.__cellsView.dispose(),this.__cellsView=null),this._rowsView.dispose(),this._columnsView.dispose()},i.prototype._dataModel=function(){return this.__dataModel},i.prototype._getCellViews=function(){return this.__cellsView._cellViews()},i.prototype._getCellView=function(t,e){return this.__cellsView._getCellView(t,e)},i.prototype._getPlotViews=function(t){for(var e=[],n=this._findAllPlotViews(),i=0;i<n.length;i++)n[i]._getDefinition()._plotOption===t&&e.push(n[i]);return e},i.prototype._getPlotDataPoints=function(t){for(var e=[],n=this._getPlotViews(t),i=0;i<n.length;i++)e.push.apply(e,n[i]._getPointViews());return e},i.prototype._createIdentityContent=function(){var e=this._getTrellisLayoutDefinition(),n="";null!=e._columnHeaderDefinition&&(n+=e._columnHeaderDefinition._fieldDefinitions.map((function(t){return t._dataField._name})).join("-"));var i="";null!=e._rowHeaderDefinition&&(i+=e._rowHeaderDefinition._fieldDefinitions.map((function(t){return t._dataField._name})).join("-"));var o=this._ownerView._getLayoutViews().indexOf(this).toString();return t._Util.HashCode("trellis-layout"+n+i+o)},i.prototype._layoutData=function(){var e=this._getCellViews();if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)e[n][i]._layoutView()._layoutData();else{for(var o=0,r=this._findAllPlotViews();o<r.length;o++){var l=r[o];if(t._isCartesianPlotView(l)){var a=t._BarExtension._barExtension(l._cartesianCoordinateSystemView());null!=a&&a._resetClusterGroups()}l._layoutData()}for(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells||this._mergeOverlayDimensions(),n=0;n<e.length;n++)for(i=0;i<e[n].length;i++)e[n][i]._layoutView()._layoutData();for(var u=0,s=this._rowsView._rowViews();u<s.length;u++){var _=s[u];null!=_._getCoordinateSystemView()&&_._getCoordinateSystemView()._layoutData()}for(var p=0,c=this._columnsView._columnViews();p<c.length;p++){var h=c[p];null!=h._getCoordinateSystemView()&&h._getCoordinateSystemView()._layoutData()}}},i.prototype._mergeOverlayDimensions=function(){for(var e=[],n=this._getAxisViews(),i=function(n){var i;if(n._getScaleType()!=t.ValueScaleType.Ordinal){var o=n._getViewDimensions().filter((function(e){return t.models._isOverlayDimension(e._dimension)}));if(o.length>0){var r=n._getDefinition(),l=t._Util.find(e,(function(t){return t.axisDefinition==r}));null==l&&(l={axisDefinition:r,dimensions:[]},e.push(l)),(i=l.dimensions).push.apply(i,o)}}},o=0,r=n;o<r.length;o++)i(r[o]);if(e.length>0)for(var l=function(n){var i=n._getDefinition(),o=t._Util.find(e,(function(t){return t.axisDefinition==i}));if(null!=o)for(var r=0,l=o.dimensions;r<l.length;r++){var a=l[r];n._applyDimension(a._view,a._dimension)}},a=0,u=n;a<u.length;a++)l(u[a])},i.prototype._getAxisViews=function(){for(var e=[],n=this._getCellViews(),i=0;i<n.length;i++)for(var o=0;o<n[i].length;o++)for(var r=0,l=n[i][o]._layoutView()._coordinateSystemViews();r<l.length;r++){var a=l[r];t._isCartesianCoordinateSystemView(a)&&"CartesianXy"!=a._getDefinition()._type&&e.push.apply(e,a._getVerticalAxisViews().slice().concat(a._getHorizontalAxisViews()))}for(var u=0,s=this._rowsView._rowViews();u<s.length;u++){var _=s[u];null!=_._getCoordinateSystemView()&&e.push.apply(e,_._getCoordinateSystemView()._getVerticalAxisViews())}for(var p=0,c=this._columnsView._columnViews();p<c.length;p++){var h=c[p];null!=h._getCoordinateSystemView()&&e.push.apply(e,h._getCoordinateSystemView()._getHorizontalAxisViews())}return e},i.prototype._initPlotViews=function(t,e,n){if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)for(var i=0,o=this._findAllPlotViews();i<o.length;i++){var r=o[i];"CartesianXy"===r._getDefinition()._getCoordinateSystemType()&&r._initAxisScale(t)}},i.prototype._viewSizeChanged=function(){var e=this._getHorizontalViewSize(),n=this._getVerticalViewSize(),i=t._BuildInViewSizeBuilderCollection._defaultBuildInViewSizeBuilders()._viewSizePolicy(this,null,this._definition._pluginCollection);if(null!=i){var o=this._rowsView._rowViews(),r=o.length>0?o[0]._getRectangle().height:0,l=this._columnsView._columnViews(),a=l.length>0?l[0]._getRectangle().width:0,u=i.horizontalViewSize(e,this,a),s=i.verticalViewSize(n,this,r);if(0!=u&&u!=e||0!=s&&s!=n)return this._setHorizontalViewSize(u),this._setVerticalViewSize(s),!0}return!1},i.prototype._layoutRowColumn=function(e,n,i){this._rowsView._layout(e,i,n);var o=this._rowsView._nearWidth(),r=this._rowsView._farWidth();this._columnsView._layout(e,i,new t.core.Rect(n.left+o,n.top,n.width-o-r,n.height));var l=this._columnsView._nearHeight(),a=this._columnsView._farHeight();return(l>0||a>0)&&(this._rowsView._layout(e,i,new t.core.Rect(n.left,n.top+a,n.width,n.height-a-l)),o=this._rowsView._nearWidth(),r=this._rowsView._farWidth(),this._columnsView._layout(e,i,new t.core.Rect(n.left+o,n.top,n.width-o-r,n.height)),l=this._columnsView._nearHeight(),a=this._columnsView._farHeight()),new t.core.Rect(n.left+o,n.top+a,n.width-o-r,n.height-a-l)},i.prototype._layoutContent=function(e,n,i){this._updateRectangle(n),this._initPlotViews(e,n,i),e.beginTransform();var o=this._layoutRowColumn(e,n,i);this._viewSizeChanged()&&(o=this._layoutRowColumn(e,n,i)),this.__cornerView._layout(e,new t.core.Rect(n.left,n.top,o.left-n.left,o.top-n.top),i),this.__cellsView._layout(e,i,o),e.restoreTransform(),null!=this.__scrollableContainer&&(this.__scrollableContainer.dispose(),this.__scrollableContainer=null),this._canScroll()&&(this.__scrollableContainer=new t._ScrollableContainer(this))},i.prototype._drawView=function(t,e){var n=this;t.drawGroup("gcdv-trellis",null,null,(function(t){t.beginTransform(),e._renderLabel=!1,n.__cornerView._render(t,e),n._rowsView._render(t,e),n._columnsView._render(t,e),n.__cellsView._render(t,e),e._renderLabel=!0,n._rowsView._render(t,e),n._columnsView._render(t,e),n.__cellsView._render(t,e),e._renderLabel=!1,t.restoreTransform()}))},i.prototype._canScroll=function(){var t=this.__cellsView,e=this._columnsView,n=this._rowsView;return!!(t._canScroll()||e._canScroll()||n._canScroll())},i.prototype._scrollRect=function(){var e=this.__cellsView._getRectangle();return new t.core.Rect(e.left,e.top,e.width+this._rowsView._farWidth(),e.height+this._columnsView._nearHeight())},i.prototype._getHorizontalViewSize=function(){var t=this.__horizontalViewSize;if(null!=t&&0!=t)return t;for(var e=this._getCoordinateSystems(),n=0;n<e.length;n++){var i=e[n]._horizontalViewSize;if(1!==i)return this.__horizontalViewSize=i,i}return 1},i.prototype._setHorizontalViewSize=function(t){this.__horizontalViewSize=t},i.prototype._getVerticalViewSize=function(){var t=this.__verticalViewSize;if(null!=t&&0!=t)return t;for(var e=this._getCoordinateSystems(),n=0;n<e.length;n++){var i=e[n]._verticalViewSize;if(1!==i)return this.__verticalViewSize=i,i}return 1},i.prototype._setVerticalViewSize=function(t){this.__verticalViewSize=t},i.prototype._getCoordinateSystems=function(){for(var t=[],e=this._getCellView(0,0)._plotViews(),n=0;n<e.length;n++){var i=e[n],o=i._getLayoutView()._coordinateSystemView(i._getDefinition().coordinateSystemDefinition);-1===t.indexOf(o)&&t.push(o)}return t},i.prototype._createCornerView=function(){return new t._TrellisCornerView(this)},i.prototype._createRowsView=function(){return new t._TrellisRowsPaneView(this)},i.prototype._createColumnsView=function(){return new t._TrellisColumnsPaneView(this)},i.prototype._createCellsView=function(){return new t._TrellisCellsPaneView(this)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._rectangle();if(null!=r&&r.contains(n)){var l=this.__cellsView._hitTest(n,i,o);return null!=l||null!=(l=this._columnsView._hitTest(n,i,o))||null!=(l=this._rowsView._hitTest(n,i,o))?l:(l=new t.HitTestResult(n,this,this,t.ElementType.Trellis),null==o||null!=o&&o.predicate(l)?l:null)}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._getTrellisLayoutDefinition=function(){return this._definition},i.prototype._hasSelection=function(){for(var t=this._getCellViews(),e=0;e<t.length;e++)for(var n=0;n<t[e].length;n++)for(var i=0,o=t[e][n]._plotViews();i<o.length;i++)if(o[i]._hasSelectedPointView())return!0;return!1},i.prototype._traversePlotView=function(t,e){for(var n=this._getCellViews(),i=0;i<n.length;i++)for(var o=0;o<n[i].length;o++)for(var r=0,l=n[i][o]._plotViews();r<l.length;r++)t(l[r],e)},i.prototype._plotsPaneViews=function(){for(var t=[],e=0,n=this._getCellViews();e<n.length;e++)for(var i=0,o=n[e];i<o.length;i++){var r=o[i];t.push.apply(t,r._layoutView()._plotsPaneViews())}return t},i.prototype._findAllPlotViews=function(){for(var t=[],e=this._getCellViews(),n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)t.push.apply(t,e[n][i]._plotViews());return t},i.prototype._loadDataSlices=function(e){this.__dataModel=t._TrellisDataModelBuilder._defaultTrellisDataModelBuilder._buildTrellisDataModel(e,this._getTrellisLayoutDefinition()),this._rowsView._update(),this._columnsView._update(),this.__cellsView._update()},i.prototype._loadDataSources=function(t){var e=t._dataSource(this._getTrellisLayoutDefinition()._dataSchema._name);this._loadDataSlices(e._slice())},i.prototype._createScrollbar=function(e){if(e==t.Orientation.Horizontal&&!this.__horizontalScrollbarVisible)return null;if(e==t.Orientation.Vertical&&!this.__verticalScrollbarVisible)return null;var n=t._DvViewUtility._domManager(this._getPlotAreaView()._getDvView());if(null==n)return null;var i=new t.core.Size(this._columnsView._columnsWidth(),this._rowsView._rowsHeight()),o=this._scrollRect(),r=null;return r=e==t.Orientation.Horizontal?new t.core.Rect(o.left,o.top,o.width-this._rowsView._farWidth(),o.height):new t.core.Rect(o.left,o.top,o.width,o.height-this._columnsView._nearHeight()),t._ScrollUtility._buildScrollbar(e,r,i,n)},i.prototype._scrollTo=function(t,e){this.__cellsView._scrollTo(t,e),this._columnsView._scrollTo(t,0),this._rowsView._scrollTo(0,e)},i.prototype._isHitTested=function(e,n){return this._scrollRect().contains(new t.core.Point(e,n))},Object.defineProperty(i.prototype,"corner",{get:function(){return this.__cornerView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnHeaders",{get:function(){return this._columnsView._headerCellViews().map((function(e){return e.map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisColumnHeaderModel(e)})).filter((function(t){return null!=t}))}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowHeaders",{get:function(){return this._rowsView._headerCellViews().map((function(e){return e.map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisRowHeaderModel(e)})).filter((function(t){return null!=t}))}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columns",{get:function(){return this._columnsView._columnViews().map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisColumnModel(e)})).filter((function(t){return null!=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rows",{get:function(){return this._rowsView._rowViews().map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisRowModel(e)})).filter((function(t){return null!=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cells",{get:function(){return this._getCellViews().map((function(e){return e.map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisCellModel(e)})).filter((function(t){return null!=t}))}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"includeAxesInCells",{get:function(){return this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.Trellis},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"ITrellisModel"==t||"ITrellisLayoutView"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._BaseLayoutView);t._TrellisLayoutView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t)||this;return i.__coordinateSystemView=null,i.__dataModel=n,i._prepareCoordinateSystems(),i}return n(i,e),i.prototype._getCellViews=function(){return this._ownerView._getTrellisLayoutView()._getCellViews()[this.__dataModel._index]},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.TrellisRow},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView._getTrellisLayoutView()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowIndex",{get:function(){return this.__dataModel._index},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowHeader",{get:function(){var e=this._ownerView._getTrellisLayoutView()._rowsView._headerCellViews(),n=e[e.length-1][this.__dataModel._index];return t._TrellisLayoutViewModelUtility._toTrellisRowHeaderModel(n)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cells",{get:function(){return this._getCellViews().map((function(e){return t._TrellisLayoutViewModelUtility._toTrellisCellModel(e)})).filter((function(t){return null!=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){return this.__dataModel._dataSlices._items},enumerable:!1,configurable:!0}),i.prototype._getCoordinateSystemView=function(){return this.__coordinateSystemView},i.prototype._axisViews=function(){var t=this.__coordinateSystemView;return null!=t?t._getVerticalAxisViews().map((function(t){return t})):[]},i.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutView()._getTrellisLayoutDefinition()},i.prototype._getClassName=function(){return"gcdv-trellis-row-"+this.__dataModel._index},i.prototype._paddings=function(){var e=this._getTrellisLayoutDefinition()._trellisConfigOption.padding,n=new t.options._PaddingOption(null);return null!=e&&(n.top=e.top,n.bottom=e.bottom),n},i.prototype._prepareCoordinateSystems=function(){for(var e=null,n=0,i=this._getTrellisLayoutDefinition()._cellLayoutDefinition._coordinateSystemDefinitions;n<i.length;n++){var o=i[n];"CartesianXy"===o._type&&(e=o)}null!=e&&(this.__coordinateSystemView=new t._TrellisRowCartesianCoordinateSystemView(this._ownerView._getTrellisLayoutView(),this.__dataModel._index,e))},i.prototype._getBarCount=function(){if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return 1;var t=1,e=this.__coordinateSystemView;if(null!=e)for(var n=e._getVerticalAxisViews(),i=0;i<n.length;i++)for(var o=0,r=n[i]._getDimensions();o<r.length;o++){var l=r[o];t=Math.max(t,l._dimensionValues().length)}return t},i.prototype._layoutInnerContent=function(t,e,n){if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){(e=e.clone()).width<0&&(e.width=0),e.height<0&&(e.height=0);var i=this.__coordinateSystemView;null!=i&&i._layout(t,e,n)}},i.prototype._renderInnerContent=function(t,e,n){if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){var i=this.__coordinateSystemView;null!=i&&i._render(t,n)}},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=this.__coordinateSystemView;if(null!=l){var a=l._hitTest(n,i,o);if(null!=a)return a}var u=new t.HitTestResult(n,this,this,t.ElementType.TrellisRow);return null==o||null!=o&&o.predicate(u)?u:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype.dispose=function(){null!=this.__coordinateSystemView&&(this.__coordinateSystemView.dispose(),this.__coordinateSystemView=null)},i.prototype.queryInterface=function(t){return"ITrellisRowModel"==t||"ITrellisRowView"==t?this:null},i}(t._RectangleView);t._TrellisRowView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__hover=!1,i._text=i._createText(),i}return n(i,e),i.prototype._createText=function(){var e=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._getTrellisLayoutDefinition()._pluginCollection),n=this._dataModel._fieldDefinition._format;return e.format(n,this._dataModel.key)},i.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutView()._getTrellisLayoutDefinition()},i.prototype._onHoverChanged=function(){this._textView()._updateHover(this._isHover())},i.prototype._traverseCellView=function(t,e){for(var n=this._ownerView._rowViews(),i=this._getRowIndex();i<this._getRowIndex()+this._getRowSpan();i++)for(var o=0,r=n[i]._getCellViews();o<r.length;o++)t(r[o],e)},Object.defineProperty(i.prototype,"hover",{get:function(){return this._isHover()},set:function(t){this._updateHover(t)},enumerable:!1,configurable:!0}),i.prototype._style=function(){if(null==this.__style){var e=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(e,this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._textStyle),this.__style=e}return this.__style},i.prototype._hoverStyle=function(){if(null==this.__hoverStyle){var e=t._StyleCloneMaker._styleCloneMaker._cloneOf(this._style());t._OptionUtility._applyTextStyleOption(e,this._getTrellisLayoutDefinition()._trellisConfigOption.hoverStyle),this.__hoverStyle=e}return this.__hoverStyle},i.prototype._textOverflow=function(){var e=this._textStyle?this._textStyle.overflow:null;return null==e&&(e=this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle.overflow),null==e&&(e=this._getTrellisLayoutDefinition()._plotAreaOption.textStyle.overflow),null==e&&(e=this._getTrellisLayoutDefinition()._dvConfigOption.textStyle.overflow),null==e?t.TextOverflow.Ellipsis:e},i.prototype._textAlignment=function(){var t=this._textStyle?this._textStyle.alignment:null;return null==t&&(t=this._getTrellisLayoutDefinition()._trellisConfigOption.textStyle.alignment),null==t&&(t=this._getTrellisLayoutDefinition()._plotAreaOption.textStyle.alignment),null==t&&(t=this._getTrellisLayoutDefinition()._dvConfigOption.textStyle.alignment),t},i.prototype._textView=function(){return null==this.__textView&&(this.__textView=new t._TextView(this,this._text,this._textOverflow(),null,t.HAlign.Center,t.VAlign.Middle,this._style(),this._hoverStyle(),this._textAlignment())),this.__textView},i.prototype._paddings=function(){return new t.options._PaddingOption({left:3,top:3,right:3,bottom:3})},i.prototype._measureInnerContent=function(t,e){return this._textView()._measure(t,e)},i.prototype._layoutInnerContent=function(t,e,n){return this._textView()._layout(t,n,e)},i.prototype._renderInnerContent=function(e,n,i){var o=this,r=null;if(this._textOverflow()==t.TextOverflow.Clip){var l=this._getRectangle();r=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(l.left,l.top,l.width,l.height)}e.drawGroup(null,r,null,(function(t){o._textView()._render(t,i)}))},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,t.ElementType.TrellisRowHeader);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._getRowIndex=function(){return this._dataModel._start},i.prototype._getRowSpan=function(){return this._dataModel._end-this._dataModel._start+1},i.prototype._getTrellisRowsPaneView=function(){return this._ownerView},i.prototype._isSelected=function(){var t=!0;return this._traverseCellView((function(e,n){if(t)for(var i=0,o=e._plotViews();i<o.length;i++)for(var r=0,l=o[i]._getPointViews();r<l.length;r++)l[r]._isSelected()||(t=!1)}),null),t},i.prototype._updateSelected=function(t){this._traverseCellView((function(e,n){for(var i=0,o=e._plotViews();i<o.length;i++)o[i]._traversePointView((function(e,n){e._updateSelected(t)}),n)}),null)},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t,this._onHoverChanged())},Object.defineProperty(i.prototype,"rowHeaders",{get:function(){var e=[],n=this._ownerView._getTrellisLayoutView()._rowsView._headerCellViews(),i=this._dataModel._level;if(i<n.length-1)for(var o=0,r=n[i+1];o<r.length;o++){var l=r[o];if(l._getRowIndex()>=this._getRowIndex()&&l._getRowIndex()+l._getRowSpan()<=this._getRowIndex()+this._getRowSpan()){var a=t._TrellisLayoutViewModelUtility._toTrellisRowHeaderModel(l);null!=a&&e.push(a)}}return e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowIndex",{get:function(){return this._dataModel._start},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowSpan",{get:function(){return this._dataModel._end-this._dataModel._start+1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textStyle",{get:function(){return this._textStyle},set:function(t){this._textStyle=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._isSelected()},set:function(t){this._updateSelected(t)},enumerable:!1,configurable:!0}),i.prototype.relatedPlots=function(){var e=[];return this._traverseCellView((function(n,i){for(var o=0,r=n._layoutView()._findAllPlotViews();o<r.length;o++){var l=r[o],a=t._PlotViewModelUtility._toPlotModel(l);null!=a&&e.push(a)}}),null),e},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.TrellisRowHeader},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var t=this._dataModel._level;if(0===t)return this._ownerView._getTrellisLayoutView();for(var e=this._ownerView._getTrellisLayoutView()._rowsView._headerCellViews()[t-1],n=0;n<e.length;n++){var i=e[n];if(i._getRowIndex()<=this._getRowIndex()&&this._getRowIndex()+this._getRowSpan()<=i._getRowIndex()+i._getRowSpan())return i}return this._ownerView._getTrellisLayoutView()},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"ITrellisRowHeaderModel"==t||"ITrellisRowHeaderCellView"==t?this:null},i}(t._BaseTrellisHeaderCellView);t._TrellisRowHeaderCellView=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._rowViews=function(){return this.__rowViews},i.prototype._headerCellViews=function(){return this.__headerCellViews},i.prototype._axisTitleViews=function(t){for(var e=this._rowViews()[0]._axisViews(),n=[],i=0;i<e.length;i++)e[i].position===t&&n.push(e[i]._titleView());return n},i.prototype._nearWidth=function(){for(var e=0,n=this._headerCellViews(),i=0;i<n.length;i++)e+=n[i][0]._getRectangle().width;if(!this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells){var o=this._axisTitleViews(t.AxisPosition.Near).reduce((function(t,e){return t+e._rectangle().width}),0);e+=o;for(var r=[],l=this._rowViews(),a=0;a<l.length;a++)for(var u=l[a]._axisViews(),s=0;s<u.length;s++)null==r[s]&&(r[s]=0),u[s].position===t.AxisPosition.Near&&(r[s]=Math.max(r[s],u[s]._rectangle().width));e+=r.reduce((function(t,e){return t+e}),0)}return e},i.prototype._farWidth=function(){var e=0;if(this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return e;e+=this._axisTitleViews(t.AxisPosition.Far).reduce((function(t,e){return t+e._rectangle().width}),0);for(var n=[],i=this._rowViews(),o=0;o<i.length;o++)for(var r=i[o]._axisViews(),l=0;l<r.length;l++)null==n[l]&&(n[l]=0),r[l].position===t.AxisPosition.Far&&(n[l]=Math.max(n[l],r[l]._rectangle().width));return e+n.reduce((function(t,e){return t+e}),0)},i.prototype._rowsHeight=function(){for(var t=0,e=this._rowViews(),n=0;n<e.length;n++)t+=e[n]._getRectangle().height;return t},i.prototype._getTrellisLayoutDefinition=function(){return this._ownerView._getTrellisLayoutDefinition()},i.prototype._getClassName=function(){return"gcdv-trellis-rows"},i.prototype._getTitleHeights=function(t,e,n){for(var i=this._rowViews()[0]._axisViews(),o=[],r=0;r<i.length;r++)i[r].position===e&&o.push(i[r]._getTitleHeight(t,n));return o},i.prototype._canScroll=function(){if(!e.prototype._canScroll.call(this))return!1;var t=this._ownerView._getHorizontalViewSize(),n=this._ownerView._getVerticalViewSize();return 1!==t||1!==n},i.prototype._getRowView=function(t){return this._rowViews()[t]},i.prototype._update=function(){this.__rowViews=this._createRowViews(),this.__headerCellViews=this._createHeaderCellViews()},i.prototype._getRowHeights=function(t){for(var e=[],n=this._rowViews(),i=[],o=0,r=0;r<n.length;r++){var l=n[r]._getBarCount();i[r]=l,o+=l}var a=this._ownerView._getVerticalViewSize(),u=0,s=this._getTrellisLayoutDefinition()._trellisConfigOption.padding;null!=s&&(u=s.top.value+s.bottom.value);var _=(t/a-u*n.length)/o;for(r=0;r<n.length;r++)e.push(i[r]*_+u);return e},i.prototype._layoutInnerContent=function(e,n,i){(n=n.clone()).width<0&&(n.width=0),n.height<0&&(n.height=0);for(var o=this._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells,r=this._getRowHeights(n.height),l=this._headerCellViews(),a=[],u=0;u<l.length;u++){for(var s=l[u],_=0,p=0;p<s.length;p++){var c=s[p],h=r.slice(c._getRowIndex(),c._getRowIndex()+c._getRowSpan()).reduce((function(t,e){return t+e}),0),f=c._measure(e,new t.core.Size(n.width,h))._size;_=Math.max(_,f.width)}a[u]=_}var d=this._getTitleHeights(e,t.AxisPosition.Near,n.size).reverse(),y=this._getTitleHeights(e,t.AxisPosition.Far,n.size).reverse(),g=d.reduce((function(t,e){return t+e}),0),m=y.reduce((function(t,e){return t+e}),0),v=n.left+(o?0:g),w=n.top,b=0;for(u=0;u<l.length;u++){s=l[u];var P=a[u];for(w=n.top,p=0;p<s.length;p++)c=s[p],h=r.slice(c._getRowIndex(),c._getRowIndex()+c._getRowSpan()).reduce((function(t,e){return t+e}),0),c._layout(e,i,new t.core.Rect(v,w,P,h)),w+=h;b+=l[u][0]._getRectangle().width,v+=P}w=n.top;var S=this._rowViews(),C=n.width-b-(o?0:g+m);for(p=0;p<S.length;p++)S[p]._layout(e,i,new t.core.Rect(v,w,C,r[p])),w+=r[p];if(!o){var V=[],x=[];for(p=0;p<S.length;p++)for(var D=S[p]._axisViews().reverse(),O=0;O<D.length;O++)(R=D[O])._scaleModel._hasScale()&&(null==V[O]&&(V[O]=0),null==x[O]&&(x[O]=0),R.position===t.AxisPosition.Near?V[O]=Math.max(V[O],R._rectangle().width):R.position===t.AxisPosition.Far&&(x[O]=Math.max(x[O],R._rectangle().width)));var A=0,L=0,T=this._getTrellisLayoutDefinition()._trellisConfigOption.padding;null!=T&&(A=T.top.value,L=T.bottom.value),w=n.top;var M=V.reduce((function(t,e){return t+e}),0),E=C-M-x.reduce((function(t,e){return t+e}),0);for(p=0;p<S.length;p++){D=S[p]._axisViews().reverse();var I=v,B=v+M+E;for(O=0;O<D.length;O++){var R;if((R=D[O])._scaleModel._hasScale()){var k=r[p]-(A+L),N=w+A;t._isOrdinalAxisScale(R._scaleModel._scale)||(N=R._rectangle().top,k=r[p]-Math.max(N-w,0)-L),R._scaleModel._setRange([N+k,N]),i._lineCartesianCoordinateSystemContent=new t.core.Rect(I+M,w,E,r[p]),R.position===t.AxisPosition.Near?(R._layout(e,new t.core.Rect(I,N,k,V[O]),i),I+=V[O]):R.position===t.AxisPosition.Far&&(R._layout(e,new t.core.Rect(B,N,k,x[O]),i),B+=x[O]),i._lineCartesianCoordinateSystemContent=null}}w+=r[p]}var F=this._axisTitleViews(t.AxisPosition.Near).reverse(),U=n.left;for(O=0;O<F.length;O++)F[O]._layout(e,new t.core.Rect(U,n.top,d[O],w-n.top),i),U+=d[O];var z=this._axisTitleViews(t.AxisPosition.Far).reverse(),j=n.right;for(O=0;O<z.length;O++)z[O]._layout(e,new t.core.Rect(j-y[O],n.top,y[O],w-n.top),i),j-=y[O]}},i.prototype._getLogicSize=function(){var e=this._getRectangle();return new t.core.Size(e.width,this._rowsHeight())},i.prototype._redraw=function(){e.prototype._redraw.call(this),null!=this.__scrollableLabelsGroupElement&&(this.__scrollableLabelsGroupElement.offsetX=this._getScrollX(),this.__scrollableLabelsGroupElement.offsetY=this._getScrollY(),this.__scrollableLabelsGroupElement.flush())},i.prototype._renderScrollableContent=function(t,n){if(n._renderLabel){var i=this._getLogicSize(),o=this._getViewport();this._renderScrollableLabelsContent(t,n,o,i)}else e.prototype._renderScrollableContent.call(this,t,n)},i.prototype._renderScrollableLabelsContent=function(t,e,n,i){var o=this;this.__scrollableLabelsGroupElement=t.createGroup("scroll-labels",null,this._transform,n,i.width,i.height,this._getScrollX(),this._getScrollY(),(function(t){o._invokeBaseRenderContent(t,e)})),null==this.__scrollableLabelsGroupElement&&t.drawGroup("scroll-labels",null,this._transform,(function(t){o._invokeBaseRenderContent(t,e)}))},i.prototype._renderInnerContent=function(e,n,i){var o=this,r=this._rowViews();if(!i._renderLabel){var l=this._headerCellViews();e.drawGroup("gcdv-trellis-rows-gridline",null,null,(function(e){e.beginTransform();var n=t._StyleCloneMaker._styleCloneMaker._cloneOf(o._getTrellisLayoutDefinition()._defaultStyle());t._OptionUtility._applyLineStyleOption(n,o._getTrellisLayoutDefinition()._trellisConfigOption.style),t._StyleUtility._applyStyle(e,n);for(var i=0;i<l.length;i++)for(var a=l[i],u=0;u<a.length;u++){var s=a[u]._getRectangle(),_=0===u?s.top+.5:s.top;e.drawLine(s.left,_,s.right,_),u===a.length-1&&e.drawLine(s.left,s.bottom-.5,s.right,s.bottom-.5)}for(u=0;u<r.length;u++){var p=(s=r[u]._getRectangle()).left,c=s.right,h=0===u?s.top+.5:s.top;e.drawLine(p,h,c,h),u===r.length-1&&e.drawLine(p,s.bottom-.5,c,s.bottom-.5)}e.restoreTransform()})),e.drawGroup("gcdv-trellis-rows-header",null,null,(function(t){for(var e=0;e<l.length;e++)for(var n=l[e],o=0;o<n.length;o++)n[o]._render(t,i)}))}for(var a=0;a<r.length;a++)r[a]._render(e,i)},i.prototype._createRowViews=function(){for(var e=[],n=this._ownerView._dataModel()._rows,i=0;i<n.length;i++)e.push(new t._TrellisRowView(this,n[i]));return e},i.prototype._createHeaderCellViews=function(){var e=[],n=this._ownerView._dataModel()._rowHeaders,i=[];for(i.push.apply(i,n);i.length>0;){var o=[];e.push(o);for(var r=i.length;r>0;){var l=i.shift();o.push(new t._TrellisRowHeaderCellView(this,l));var a=l.children;null!=a&&a.length>0&&i.push.apply(i,a),r--}}return e},i.prototype._hitTestContent=function(t,n,i){for(var o=this._headerCellViews(),r=0;r<o.length;r++)for(var l=o[r],a=0;a<l.length;a++)if(null!=(_=l[a]._hitTest(t,n,i)))return _;for(var u=this._rowViews(),s=0;s<u.length;s++){var _;if(null!=(_=u[s]._hitTest(t,n,i)))return _}return e.prototype._hitTestContent.call(this,t,n,i)},i.prototype.dispose=function(){if(null!=this.__rowViews){for(var t=0,e=this.__rowViews;t<e.length;t++)e[t].dispose();this.__rowViews=null}},i.prototype._getTrellisLayoutView=function(){return this._ownerView},i}(t._ScrollableView);t._TrellisRowsPaneView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="LegendDataPoint",this.type=t._BuildInLegendDataPointsPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._getPointViews=function(e,n){for(var i=[],o=!1,r=0,l=n._findRelatedPlotViews(e);r<l.length;r++){var a=l[r],u=a._getLayoutView();if(t._isTrellisCellLayoutView(u))if(t._isHierarchicalPlotView(a)){o=!0;var s=a._getRootPointView();if(null!=s)for(var _=0,p=s._children;_<p.length;_++){var c=p[_];i.push(c)}}else i.push.apply(i,a._getPointViews())}return o||i.sort((function(t,e){return t._data()._dataIndex-e._data()._dataIndex})),i},e.prototype._buildDataPointsPolicy=function(e){return(t._isSingleLegendDataModel(e)||t._isMergedLegendDataModel(e))&&t._isTrellisCellLayoutDefinition(e._getDefinition()._plotDefinition._layoutDefinition)?this:null},e.prototype.queryInterface=function(t){return"ILegendDataPointsPolicy"==t||"ILegendDataPointsPolicyBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TrellisLegendDataPointsPolicyPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e.prototype._canScroll=function(){return!1},e}(t._AxesView);t._TrellisAxesView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createTitleView=function(){return new t._TrellisRowColumnAxisTitleView(this)},i.prototype._getCoordinateSystemView=function(){return e.prototype._getCoordinateSystemView.call(this)},i.prototype._getClipRectangle=function(){var e=this._getCoordinateSystemView(),n=e._trellisView(),i=n._rectangle(),o=this._rectangle().clone();if(o.left-=this._getLeftMargin(),o.width+=this._getLeftMargin()+this._getRightMargin(),n._columnsView._getColumnView(0)._getCoordinateSystemView()===e)for(var r=0,l=n._columnsView._axisTitleViews(this._position());r<l.length;r++){var a=l[r];o=t._RectangleUtility._unionOfRectangles(o,a._rectangle())}return o.height+=o.top-i.top,o.top=i.top,o},i.prototype._measureTitle=function(e,n){return new t.core.Size(0,0)},i.prototype._layoutTitleView=function(t,e,n){},i.prototype._getLayoutShapes=function(t){return e.prototype._getLayoutShapes.call(this,!1)},i.prototype._getLayoutLineShapes=function(){var e=[];return this._position()!=t.AxisPosition.None&&e.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(this._rectangle())),e},i.prototype._setMargin=function(){var t=e.prototype._setMargin.call(this);return t.left<this._rectangle().left&&this._setLeftMargin(this._rectangle().left-t.left),t.right>this._rectangle().right&&this._setRightMargin(t.right-this._rectangle().right),t},i}(t._HorizontalLineAxisView);t._TrellisColumnAxisView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createTitleView=function(){var e=new t._TrellisRowColumnAxisTitleView(this);return this.position==t.AxisPosition.Near?e._setTextAngle(-90):e._setTextAngle(90),e},i.prototype._getCoordinateSystemView=function(){return e.prototype._getCoordinateSystemView.call(this)},i.prototype._getClipRectangle=function(){var e=this._getCoordinateSystemView(),n=e._trellisView(),i=n._rectangle(),o=this._rectangle().clone();if(o.top-=this._getTopMargin(),o.height+=this._getTopMargin()+this._getBottomMargin(),n._rowsView._getRowView(0)._getCoordinateSystemView()===e)for(var r=0,l=n._rowsView._axisTitleViews(this._position());r<l.length;r++){var a=l[r];o=t._RectangleUtility._unionOfRectangles(o,a._rectangle())}return o.width+=o.left-i.left,o.left=i.left,o},i.prototype._measureTitle=function(e,n){return new t.core.Size(0,0)},i.prototype._layoutTitleView=function(t,e,n){},i.prototype._getLayoutShapes=function(t){return e.prototype._getLayoutShapes.call(this,!1)},i.prototype._getLayoutLineShapes=function(){var e=[];return this._position()!=t.AxisPosition.None&&e.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(this._rectangle())),e},i.prototype._setMargin=function(){var t=e.prototype._setMargin.call(this);return t.top<this._rectangle().top&&this._setTopMargin(this._rectangle().top-t.top),t.bottom>this._rectangle().bottom&&this._setBottomMargin(t.bottom-this._rectangle().bottom),t},i}(t._VerticalLineAxisView);t._TrellisRowAxisView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._initTextPadding=function(){null==this._axisView()._getDefinition()._option.titleStyle.padding?this._setTextPadding(new t.options._PaddingOption({left:0,right:0,top:this._axisView()._getDefinition()._getDefaultTitlePadding(),bottom:this._axisView()._getDefinition()._getDefaultTitlePadding()})):this._setTextPadding(this._axisView()._getDefinition()._option.titleStyle.padding)},i.prototype._hAlign=function(){return this._axisView()._getDefinition()._orientation==t.Orientation.Vertical?t.HAlign.Left:e.prototype._hAlign.call(this)},i.prototype._measure=function(n,i){var o=this._axisView()._getDefinition()._orientation==t.Orientation.Vertical,r=this._axisView()._getCoordinateSystemView(),l=r._trellisView();if(o){if(l._rowsView._getRowView(0)._getCoordinateSystemView()!=r)return new t._RectangleViewMetricsResult(new t.core.Size(0,0))}else if(l._columnsView._getColumnView(0)._getCoordinateSystemView()!=r)return new t._RectangleViewMetricsResult(new t.core.Size(0,0));return e.prototype._measure.call(this,n,i)},i}(t._LineAxisTitleView);t._TrellisRowColumnAxisTitleView=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._canScroll=function(){return!1},e}(t._CartesianPlotListView);t._TrellisCartesianPlotListView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createPlotListView=function(){return new t._TrellisCartesianPlotListView(this)},i.prototype._createAxesView=function(e){return new t._TrellisAxesView(this,e)},i}(t._PolygonalCartesianCoordinateSystemView);t._TrellisPolygonalCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createPlotListView=function(){return new t._TrellisCartesianPlotListView(this)},i.prototype._createAxesView=function(e){return new t._TrellisAxesView(this,e)},i}(t._RadialCartesianCoordinateSystemView);t._TrellisRadialCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createPlotListView=function(){return new t._TrellisTextCategoriesPlotListView(this)},i.prototype._createAxesView=function(e){return new t._TrellisAxesView(this,e)},i}(t._TextCategoriesCoordinateSystemView);t._TrellisTextCategoriesCoordinateSystemView=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._canScroll=function(){return!1},e}(t._TextCategoriesPlotListView);t._TrellisTextCategoriesPlotListView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildXDimension=function(e,n,i,o,r){var l=i._detailDefinitions(),a=i._axisOptions.filter((function(e){return e.type==t.AxisType.X})),u=null;if(i._cellLayoutDefinition._includeAxesInCells)u=this._build(e,l,a.length>0?a[0]:null,n);else if(null!=e&&t._isCartesianCategoryEncodingDefinition(e)||t.models._OrdinalDimensionBuilder._isOrdinalDimension(e,l.length>0?l[0]:null,a.length>0?a[0]:null))if(i._plotConfigOption.swapAxes){var s=o._rows[r._rowIndex];u=this._buildRowDimension(s,e,l,a)}else{var _=o._columns[r._columnIndex];u=this._buildColumnDimension(_,e,l,a)}else u=this._buildTrellisDimension(o,e,l,a);return u},e.prototype._buildYDimension=function(e,n,i,o,r){var l=i._detailDefinitions(),a=i._axisOptions.filter((function(e){return e.type==t.AxisType.Y})),u=null;if(i._cellLayoutDefinition._includeAxesInCells)u=this._build(e,l,a.length>0?a[0]:null,n);else if(t.models._OrdinalDimensionBuilder._isOrdinalDimension(e,l.length>0?l[0]:null,a.length>0?a[0]:null))if(i._plotConfigOption.swapAxes){var s=o._columns[r._columnIndex];u=this._buildColumnDimension(s,e,l,a)}else{var _=o._rows[r._rowIndex];u=this._buildRowDimension(_,e,l,a)}else u=this._buildTrellisDimension(o,e,l,a);return u},e.prototype._buildRowDimension=function(e,n,i,o){for(var r=this._build(n,i,o.length>0?o[0]:null,e._dataSlices),l=t._isDataFieldDimension(r)?r._getDataFieldDefinition():null,a=0,u=e._dimensions;a<u.length;a++){var s=u[a],_=t._isDataFieldDimension(s)?s._getDataFieldDefinition():null;if(null!=_&&_==l)return s}return e._dimensions.push(r),r},e.prototype._buildColumnDimension=function(e,n,i,o){for(var r=this._build(n,i,o.length>0?o[0]:null,e._dataSlices),l=t._isDataFieldDimension(r)?r._getDataFieldDefinition():null,a=0,u=e._dimensions;a<u.length;a++){var s=u[a],_=t._isDataFieldDimension(s)?s._getDataFieldDefinition():null;if(null!=_&&_==l)return s}return e._dimensions.push(r),r},e.prototype._buildTrellisDimension=function(e,n,i,o){for(var r=this._build(n,i,o.length>0?o[0]:null,e._dataSlices),l=t._isDataFieldDimension(r)?r._getDataFieldDefinition():null,a=0,u=e._dimensions;a<u.length;a++){var s=u[a],_=t._isDataFieldDimension(s)?s._getDataFieldDefinition():null;if(null!=_&&_==l)return s}return e._dimensions.push(r),r},e.prototype._build=function(e,n,i,o){var r=new t.financial.models._StockDimensionBuilder,l=r.build(e,n,i,o);return null!=l?l:(r=new t.models._DimensionBuilder).build(e,n,i,o)},e}();t._TrellisDimensionBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._slice=function(n,i,o){if(i==t.DetailLevel.Trellis){for(var r=n._getCartesianPlotView(),l=[],a=r._getLayoutView()._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView()._getPlotDataPoints(r._getDefinition()._plotOption),u=[],s=0,_=a=t.models._CartesianPlotDataFilter._filter(r,a);s<_.length;s++){var p=_[s];p._data()._getSeries()._valueDefinition()._getIdentifier()===n._getCartesianGroupDataModel()._yValueDefinition()._getIdentifier()&&null!=p&&u.push(p)}return u.length>0&&(o&&t.models._CartesianSupport.isRangeValueField(n._getCartesianGroupDataModel()._yValueDefinition()._getIdentifier(),r)?(l.push(new t._CartesianOverlayDataSlice(u,"upper",null,!1)),l.push(new t._CartesianOverlayDataSlice(u,"lower",null,!0))):l.push(new t._CartesianOverlayDataSlice(u,n._getCartesianGroupDataModel()._yValueDefinition()._getIdentifier(),null))),l}return e.prototype._slice.call(this,n,i,o)},i}(t._CartesianOverlayDataSlicer);t._TrellisCartesianOverlayDataSlicer=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._getDataSlices=function(e){var n=this._isGroup()?t.DetailLevel.Group:this._referenceLineOverlayDefinition()._option.detailLevel;return(new t._TrellisCartesianOverlayDataSlicer)._slice(e._getCartesianGroupView(),n,!1)},i}(t._CartesianReferenceLineOverlayView);t._TrellisCartesianReferenceLineOverlayView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TrellisClusterKeyBuilder",this.type=t._BuildInClusterKeyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildClusterKey=function(e,n,i){if(e instanceof t._TrellisBarCartesianPlotView){var o=e,r=o._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView()._getTrellisLayoutDefinition();if(null!=r){var l=o._getCartesianPlotDefinition()._valueDefinitions().indexOf(n._valueDefinition()),a=o._getDefinition()._plotOption.name+"_"+n._valueDefinition()._getIdentifier()+"_"+l;if(null!=n._detailValue()&&t._isClusterGroupDetailEncodingDefintion(n._detailValue()._definition())){var u=!1;r._columnHeaderDefinition._fieldDefinitions.forEach((function(t){u=u||t.equalsWith(n._detailValue()._definition()._dataFieldDefinition)})),r._rowHeaderDefinition._fieldDefinitions.forEach((function(t){u=u||t.equalsWith(n._detailValue()._definition()._dataFieldDefinition)})),u||(a+="_"+typeof n._detail()+"_"+(null!=n._detail()?n._detail().toString():"null"))}return a}}return null},e.prototype.queryInterface=function(t){return"IClusterKeyBuilder"===t?this:null},e._defaultPlugin=new e,e}();t._TrellisClusterKeyBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._getTrellisCellView=function(){return this._ownerView._getTrellisCellView()},i.prototype._resetClusterGroups=function(t){this._ownerView._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView()._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells?this._analysisClusterGroups(t):this._trellisAnalysisClusterGroups(t)},i.prototype._trellisAnalysisClusterGroups=function(e){for(var n=this._ownerView._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView()._findAllPlotViews(),i=this._definition._plotOption,o=0;o<n.length;o++){var r=n[o];r._getDefinition()._plotOption===i&&t._isBarCartesianPlotView(r)&&r._analysisClusterGroups(e)}},i.prototype._calculateMinDistanceInValues=function(){var t=this._ownerView._getTrellisCellView()._getTrellisCellsPaneView()._getTrellisLayoutView();if(t._getTrellisLayoutDefinition()._trellisConfigOption.includeAxesInCells)return e.prototype._calculateMinDistanceInValues.call(this);for(var n=null,i=[],o=0,r=t._getPlotDataPoints(this._definition._plotOption);o<r.length;o++){var l=r[o]._data(),a=this._getXValue(l);if(null!=a){for(var u=!1,s=0,_=i;s<_.length;s++){var p=_[s];if(p==a){u=!0;break}var c=Math.abs(p-a);(null==n||n>c)&&(n=c)}u||i.push(a)}}return n},i.prototype._createBarPointView=function(e,n){return n instanceof t._RangeValuePointDataModel?new t._RangeBarCartesianPointView(e,n,this._pointViewLayouter,null):new t._BarXyCartesianPointView(e,n,this._pointViewLayouter,null)},i.prototype._createRadialBarPointView=function(e,n){return this._definition._plotConfigOption.axisMode==t.AxisMode.Polygonal?new t._PolygonalBarCartesianPointView(e,n,this._pointViewLayouter,null):new t._BarRadialCartesianPointView(e,n,this._pointViewLayouter,null)},i.prototype._createFunnelPointView=function(e,n){return new t._FunnelCartesianPointView(e,n,null)},i}(t._BarCartesianPlotView);t._TrellisBarCartesianPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e}(t._ScatterCartesianPlotView);t._TrellisScatterCartesianPlotView=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._TextCartesianSeriesView);t._TrellisTextSeriesView=e}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._WaterfallPlotView);t._TrellisWaterfallPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e}(t.financial._CandlestickPlotView);t._TrellisCandlestickPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e}(t.financial._HlocPlotView);t._TrellisHlocPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e}(t._SunburstPlotView);t._TrellisSunburstPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return n(e,t),e}(t._TreeMapPlotView);t._TrellisTreemapPlotView=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._canScroll=function(){return!1},e}(t._PlotListView);t._TrellisPlotListView=e}(t||(t={})),function(t){var e,i;e=t.plugins||(t.plugins={}),i=function(e){function i(n){var i=e.call(this)||this;return i.name="AutoOrdinalAxisScalePolicy",i.type=t._BuildInAxisScalePolicyBuilderCollection._pluginType,i.priority=0,i.__maxTickNumber=n,i}return n(i,e),i.prototype.calculateMajorUnit=function(t,e){var n=1,i=e-t+1;return i>this.__maxTickNumber&&this.__maxTickNumber>0&&(n=Math.max(1,Math.floor(i/this.__maxTickNumber))),n},i.prototype.buildAxisScalePolicy=function(e,n){return n==t.ValueScaleType.Ordinal?this:null},i.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},i.defaultPlugin=new i(40),i}(t._BaseOrdinalAxisScalePolicy),e.AutoOrdinalAxisScalePolicyPlugin=i}(t||(t={})),function(t){var e=function(){function e(){this.name="BorderAdornerRender",this.type=t._BuildInAdornerRenderBuilderCollection._pluginType,this.priority=10}return e.prototype.buildAdornerRender=function(e){return e===t.models._BorderAdornerRender._adornerRenderType?new t.models._BorderAdornerRender:null},e.prototype.queryInterface=function(t){return"IAdornerRenderBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}();t.BorderAdornerRenderPlugin=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e._defaultLineStyle=function(){return null==e.__defaultLineStyle&&(e.__defaultLineStyle=t._StyleUtility._buildStrokeStyle(null,"#838383",1,null,null)),e.__defaultLineStyle},e._defaultPointStyle=function(){return null==e.__defaultPointStyle&&(e.__defaultPointStyle=t._StyleUtility._buildStyle(null,"#B3D6F2",null,"#047AD8",1,null,null)),e.__defaultPointStyle},e.prototype.render=function(n,i){var o=i.slice();if(!(null==o||o.length<=0)){o.push(o[0]),n.beginTransform(),t._StyleUtility._applyStyle(n,e._defaultLineStyle()),n.drawLines(o.map((function(t){return t.x})),o.map((function(t){return t.y})),null),t._StyleUtility._applyStyle(n,e._defaultPointStyle());for(var r=0,l=i;r<l.length;r++){var a=l[r];n.drawEllipse(a.x,a.y,e.__radius,e.__radius,null)}n.restoreTransform()}},e._adornerRenderType="Border",e.__radius=3,e}(),e._BorderAdornerRender=n}(t||(t={})),function(t){var e=function(){function e(){this.name="BoxAdornerRender",this.type=t._BuildInAdornerRenderBuilderCollection._pluginType,this.priority=10}return e.prototype.buildAdornerRender=function(e){return e===t.models._BoxAdornerRender._adornerRenderType?new t.models._BoxAdornerRender:null},e.prototype.queryInterface=function(t){return"IAdornerRenderBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}();t._BoxAdornerRenderPlugin=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(){}return e._defaultPointStyle=function(){return null==e.__defaultPointStyle&&(e.__defaultPointStyle=t._StyleUtility._buildStyle(null,"none",null,"#80A3BE",1,null,null)),e.__defaultPointStyle},e.prototype.render=function(n,i){n.beginTransform(),t._StyleUtility._applyStyle(n,e._defaultPointStyle());for(var o=0,r=i;o<r.length;o++){var l=r[o];n.drawRect(l.x-e.__halfSizeLength,l.y-e.__halfSizeLength,2*e.__halfSizeLength,2*e.__halfSizeLength,null)}n.restoreTransform()},e._adornerRenderType="Box",e.__halfSizeLength=3,e}(),e._BoxAdornerRender=n}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__type=t.AxisType.Y,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"type",{get:function(){return this.__type},set:function(t){this.__type!=t&&(this.__type=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AxisType,t.AxisType.Y)],i.prototype,"type",null),i}(e._Option),e._AxesCommonScaleArgumentsOption=i}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="CommonScale",this.type=t._BuildInAxisAddtionalCollection._pluginType,this.priority=1}return e.prototype.apply=function(e,n,i){if(null!=i&&null!=i.arguments&&(t.options._isAxesCommonScaleArgumentsOption(i.arguments)?i.arguments:new t.options._AxesCommonScaleArgumentsOption(i.arguments.option())).type==e.axisType)for(var o=0,r=n;o<r.length;o++){var l=r[o];if(l!=e)for(var a=0,u=l._getViewDimensions();a<u.length;a++){var s=u[a];e._applyDimension(s._view,s._dimension)}}},e.prototype.queryInterface=function(t){return"IAxisAddtionalPolicy"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e.CartesianAxesCommonScalePlugin=n}(t||(t={})),function(t){!function(t){t._isAxesCommonScaleArgumentsOption=function(t){return null!=t&&void 0!==t.type}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(e){this._axisView=e,this._emptyDataScale=new t._DataDomain(NaN,NaN)}return e.prototype._dataScaleRange=function(){var e=this._axisView._getCoordinateSystemView();return t._isDataScaleXyCartesianCoordinateSystemView(e)?e._getAxisViewDataScaleRange(this._axisView):null},e.prototype._isDataScaled=function(){var e=this._dataScaleRange();return t._DataScaleUtility._isAxisViewDataScaled(this._axisView,e)},e.prototype._calculateDataScaleViewport=function(e,n,i){if(null!=e&&null!=n){var o=null==i._start?0:i._start,r=null==i._end?1:i._end,l=e+o*(n-e),a=1==r?n:e+r*(n-e);if(this._axisView._getScaleType()==t.ValueScaleType.Ordinal){var u=t._DataScaleUtility._adjustOrdinalScaleRangeValue(l,a),s=t._DataScaleUtility._adjustOrdinalScaleRangeValue(e,n);l=u._min==s._min?e:u._min,a=u._max==s._max?n:u._max}return new t._DataDomain(l,a)}return null},e.prototype.queryInterface=function(t){return"IDataScaleAxisScalePolicy"==t?this:null},e}();t._DataScaleAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,n)||this;return i.__linearScalePolicy=t,i}return n(i,e),i.prototype._calculateDataScaleMinMax=function(t,e,n){if(null==t&&null==e)return this._emptyDataScale;var i=this.__linearScalePolicy.calculateMinMax(t,e);return this.__linearScalePolicy.adjustMinMaxByOrigin(i._min,i._max,n)},i.prototype.calculateMinMax=function(e,n){if(this._isDataScaled()){var i=this._axisView._dataScaleViewport();return null!=i?i._min==i._max?t._DataScaleUtility._adjustLinearSameMinMax(i._min,i._max):i:new t._DataDomain(e,n)}return this.__linearScalePolicy.calculateMinMax(e,n)},i.prototype.calculateCustomMinMax=function(e,n,i,o,r,l){if(this._isDataScaled()){var a=this._axisView._dataScaleViewport();return null!=a?a._min==a._max?t._DataScaleUtility._adjustLinearSameMinMax(a._min,a._max):a:new t._DataDomain(e,n)}return this.__linearScalePolicy.calculateCustomMinMax(e,n,i,o,r,l)},i.prototype.adjustMinMaxByOrigin=function(e,n,i){return this._isDataScaled()?new t._DataDomain(e,n):this.__linearScalePolicy.adjustMinMaxByOrigin(e,n,i)},i.prototype.calculateNiceMax=function(t,e){return this.__linearScalePolicy.calculateNiceMax(t,e)},i.prototype.calculateNiceMin=function(t,e){return this.__linearScalePolicy.calculateNiceMin(t,e)},i.prototype.calculateMajorUnit=function(t,e){return this.__linearScalePolicy.calculateMajorUnit(t,e)},i.prototype.calculateTicks=function(e,n,i,o){var r=this._axisView._dataScaleViewport();if(null!=r&&r._min==r._max){var l=t._DataScaleUtility._adjustLinearSameMinMax(r._min,r._max);return this.__linearScalePolicy.calculateTicks(l._min,l._max,i,o)}var a=this.__linearScalePolicy.calculateTicks(e,n,i,o),u=this._dataScaleRange();if(a.length>0&&null!=u&&null!=r){if(null!=u._start&&u._start>0&&null!=r._min)for(;a.length>0&&a[0]<r._min-o;)a.splice(0,1);if(null!=u._end&&u._end<1&&null!=r._max)for(;a.length>0&&a[a.length-1]>r._max+o;)a.splice(a.length-1,1)}return a},i.prototype.calculateValueRange=function(e,n){if(this._isDataScaled()){var i=this._axisView._dataScaleViewport(),o=this._dataScaleRange();return null!=i&&null!=o?i._min==i._max?t._DataScaleUtility._adjustLinearSameMinMax(i._min,i._max):(null!=o._start&&o._start>0&&(e=this._axisView._scaleModel._getActualValue(i._min)),null!=o._end&&o._end<1&&(n=this._axisView._scaleModel._getActualValue(i._max)),new t._DataDomain(e,n)):this.__linearScalePolicy.calculateValueRange(e,n)}return this.__linearScalePolicy.calculateValueRange(e,n)},i.prototype.queryInterface=function(t){return"ILinearAxisScalePolicy"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._DataScaleAxisScalePolicy);t._DataScaleLinearAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,n)||this;return i.__logScalePolicy=t,i}return n(i,e),i.prototype._calculateDataScaleMinMax=function(t,e,n){if(null==t&&null==e)return this._emptyDataScale;var i=this.__logScalePolicy.calculateMinMax(t,e);return this.__logScalePolicy.adjustMinMaxByOrigin(i._min,i._max,n)},i.prototype.calculateMinMax=function(e,n){if(this._isDataScaled()){var i=this._axisView._dataScaleViewport();return null!=i?i:new t._DataDomain(e,n)}return this.__logScalePolicy.calculateMinMax(e,n)},i.prototype.calculateCustomMinMax=function(e,n,i,o){if(this._isDataScaled()){var r=this._axisView._dataScaleViewport();return null!=r?r:new t._DataDomain(e,n)}return this.__logScalePolicy.calculateCustomMinMax(e,n,i,o)},i.prototype.adjustMinMaxByOrigin=function(e,n,i){return this._isDataScaled()?new t._DataDomain(e,n):this.__logScalePolicy.adjustMinMaxByOrigin(e,n,i)},i.prototype.calculateNiceMax=function(t,e){return this.__logScalePolicy.calculateNiceMax(t,e)},i.prototype.calculateNiceMin=function(t,e){return this.__logScalePolicy.calculateNiceMin(t,e)},i.prototype.generateMajorTicks=function(t,e,n,i){var o=this.__logScalePolicy.generateMajorTicks(t,e,n,i),r=this._axisView._dataScaleViewport(),l=this._dataScaleRange();if(null!=r&&o.length>0&&null!=l){if(null!=l._start&&l._start>0&&null!=r._min)for(;o.length>0&&o[0]<r._min;)o.splice(0,1);if(null!=l._end&&l._end<1&&null!=r._max)for(;o.length>0&&o[o.length-1]>r._max;)o.splice(o.length-1,1)}return o},i.prototype.generateMinorTicks=function(t,e,n,i){var o=this.__logScalePolicy.generateMinorTicks(t,e,n,i),r=this._axisView._dataScaleViewport(),l=this._dataScaleRange();if(null!=r&&o.length>0&&null!=l){if(null!=l._start&&l._start>0&&null!=r._min)for(;o.length>0&&o[0]<r._min;)o.splice(0,1);if(null!=l._end&&l._end<1&&null!=r._max)for(;o.length>0&&o[o.length-1]>r._max;)o.splice(o.length-1,1)}return o},i.prototype.calculateValueRange=function(e,n){if(this._isDataScaled()){var i=this._dataScaleRange(),o=this._axisView._dataScaleViewport();return null!=o&&null!=i?(null!=i._start&&i._start>0&&(e=this._axisView._scaleModel._getActualValue(o._min)),null!=i._end&&i._end<1&&(n=this._axisView._scaleModel._getActualValue(o._max)),new t._DataDomain(e,n)):this.__logScalePolicy.calculateValueRange(e,n)}return this.__logScalePolicy.calculateValueRange(e,n)},i.prototype.queryInterface=function(t){return"ILogAxisScalePolicy"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._DataScaleAxisScalePolicy);t._DataScaleLogAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,n)||this;return i.__ordinalScalePolicy=t,i}return n(i,e),i.prototype._calculateDataScaleMinMax=function(t,e,n){if(null==t&&null==e)return this._emptyDataScale;var i=this.__ordinalScalePolicy.calculateMinMax(t,e);return this.__ordinalScalePolicy.adjustMinMaxByOrigin(i._min,i._max,n)},i.prototype.calculateMinMax=function(e,n){if(this._isDataScaled()){var i=this._axisView._dataScaleViewport();return null!=i?i:new t._DataDomain(e,n)}return this.__ordinalScalePolicy.calculateMinMax(e,n)},i.prototype.calculateCustomMinMax=function(e,n,i,o){if(this._isDataScaled()){var r=this._axisView._dataScaleViewport();return null!=r?r:new t._DataDomain(e,n)}return this.__ordinalScalePolicy.calculateCustomMinMax(e,n,i,o)},i.prototype.adjustMinMaxByOrigin=function(e,n,i){return this._isDataScaled()?new t._DataDomain(e,n):this.__ordinalScalePolicy.adjustMinMaxByOrigin(e,n,i)},i.prototype.calculateMajorUnit=function(t,e){return this.__ordinalScalePolicy.calculateMajorUnit(t,e)},i.prototype.generateMajorTicks=function(t,e,n){return this.__ordinalScalePolicy.generateMajorTicks(t,e,n)},i.prototype.generateMinorTicks=function(t,e,n,i){return this.__ordinalScalePolicy.generateMinorTicks(t,e,n,i)},i.prototype.generateLabels=function(t,e,n){return this.__ordinalScalePolicy.generateLabels(t,e,n)},i.prototype.calculateValueRange=function(t,e){return this.__ordinalScalePolicy.calculateValueRange(t,e)},i.prototype.queryInterface=function(t){return"IOrdinalAxisScalePolicy"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._DataScaleAxisScalePolicy);t._DataScaleOrdinalAxisScalePolicy=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,n)||this;return i.__timeScalePolicy=t,i}return n(i,e),i.prototype._calculateDataScaleMinMax=function(t,e,n){if(null==t&&null==e)return this._emptyDataScale;var i=this.__timeScalePolicy.calculateMinMax(t,e);return this.__timeScalePolicy.adjustMinMaxByOrigin(i._min,i._max,n)},i.prototype.calculateMinMax=function(e,n){if(this._isDataScaled()){var i=this._axisView._dataScaleViewport();return null!=i?i:new t._DataDomain(e,n)}return this.__timeScalePolicy.calculateMinMax(e,n)},i.prototype.calculateCustomMinMax=function(e,n,i,o){if(this._isDataScaled()){var r=this._axisView._dataScaleViewport();return null!=r?r:new t._DataDomain(e,n)}return this.__timeScalePolicy.calculateCustomMinMax(e,n,i,o)},i.prototype.adjustMinMaxByOrigin=function(e,n,i){return this._isDataScaled()?new t._DataDomain(e,n):this.__timeScalePolicy.adjustMinMaxByOrigin(e,n,i)},i.prototype.calculateTicks=function(t,e,n,i,o){void 0===o&&(o=null);var r=this.__timeScalePolicy.calculateTicks(t,e,n,i,o);if(null!=r&&r.length>0){var l=this._axisView._dataScaleViewport(),a=this._dataScaleRange();if(null!=l&&l._min==l._max)return r;if(null!=l&&null!=a){if(null!=a._start&&a._start>0&&null!=l._min)for(;r.length>0&&r[0]<l._min;)r.splice(0,1);if(null!=a._end&&a._end<1&&null!=l._max)for(;r.length>0&&r[r.length-1]>l._max;)r.splice(r.length-1,1)}}return r},i.prototype.calculateValueRange=function(e,n){if(this._isDataScaled()){var i=this._dataScaleRange(),o=this._axisView._dataScaleViewport();return null!=o&&null!=i?(null!=i._start&&i._start>0&&(e=this._axisView._scaleModel._getActualValue(o._min)),null!=i._end&&i._end<1&&(n=this._axisView._scaleModel._getActualValue(o._max)),new t._DataDomain(e,n)):this.__timeScalePolicy.calculateValueRange(e,n)}return this.__timeScalePolicy.calculateValueRange(e,n)},i.prototype.queryInterface=function(t){return"ITimeAxisScalePolicy"==t?this:e.prototype.queryInterface.call(this,t)},i}(t._DataScaleAxisScalePolicy);t._DataScaleTimeAxisScalePolicy=e}(t||(t={})),function(t){t._isDataScaleAxisScalePolicy=function(t){var e=t;return null!=e&&"function"==typeof e._calculateDataScaleMinMax&&"function"==typeof e._calculateDataScaleViewport}}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e.prototype._canScroll=function(){return!1},e}(t._AxesView);t._DataScaleAxesView=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._canScroll=function(){return!1},e}(t._CartesianPlotListView);t._DataScaleCartesianPlotListView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__axisScalePolicy=null,i.__axisScalePolicyProxy=null,i}return n(i,e),i.prototype._getAxisScalePolicy=function(){if(null==this.__axisScalePolicyProxy){this.__axisScalePolicy=e.prototype._getAxisScalePolicy.call(this);var n=this.__axisScalePolicy;t._isLinearAxisScalePolicy(n)?this.__axisScalePolicyProxy=new t._DataScaleLinearAxisScalePolicy(n,this):t._isOrdinalAxisScalePolicy(n)?this.__axisScalePolicyProxy=new t._DataScaleOrdinalAxisScalePolicy(n,this):t._isLogAxisScalePolicy(n)?this.__axisScalePolicyProxy=new t._DataScaleLogAxisScalePolicy(n,this):t._isTimeAxisScalePolicy(n)&&(this.__axisScalePolicyProxy=new t._DataScaleTimeAxisScalePolicy(n,this))}return this.__axisScalePolicyProxy},i.prototype._position=function(){var n=e.prototype._position.call(this);return n!=t.AxisPosition.None&&this._isOriginOutOfDataScaleViewport()?t.AxisPosition.None:n},i.prototype.getLabelPosition=function(){return this._definition._option.position==t.AxisPosition.None?t.Position.None:e.prototype.getLabelPosition.call(this)},i.prototype._shouldDisplayGridLineViews=function(n){if(this._isOriginOutOfDataScaleViewport()){var i=this._definition._option.position;return!n._renderLabel&&i!=t.AxisPosition.None}return e.prototype._shouldDisplayGridLineViews.call(this,n)},i.prototype._shouldDisplayLabelViews=function(n){if(this._isOriginOutOfDataScaleViewport()){var i=this._definition._option.labels;if(i==t.AxisPosition.Far||i==t.AxisPosition.Near){var o=this._definition._option.position;return n._renderLabel&&o!=t.AxisPosition.None}}return e.prototype._shouldDisplayLabelViews.call(this,n)},i.prototype._isOriginOutOfDataScaleViewport=function(){var e=this._getAcutalOrigin();if(null!=e){var n=this._getCoordinateSystemView();if(t._isCartesianCoordinateSystemView(n)){var i=n._getVerticalAxisViews()[0];if(t._isDataScaleLineAxisView(i)){var o=i._dataScaleViewport();if(null!=o&&(null!=o._min&&e<o._min||null!=o._max&&e>o._max))return!0}}}return!1},i.prototype._calculateMinMax=function(e,n,i){return t._isLinearAxisScalePolicy(e)||t._isOrdinalAxisScalePolicy(e)||t._isLogAxisScalePolicy(e)||t._isTimeAxisScalePolicy(e)?e.calculateMinMax(n,i):new t._DataDomain(n,i)},i.prototype._dataScalePolicy=function(){return this.__axisScalePolicyProxy},i.prototype._dataScaleViewport=function(){var e=this._scaleModel;if(!e._hasScale())return null;var n=this._ownerView._getAxisViewDataScaleRange(this),i=e._scale._getDomain();if(null!=i[0]&&null!=i[1]&&t._DataScaleUtility._isAxisViewDataScaled(this,n)){if(null!=n){for(var o=new t._DataDomain(i[0],i[1]),r=!1,l=0,a=t._DataScaleUtility._findRelatedCartesianGroupViews(this);l<a.length;l++){var u=a[l];if(t._DataScaleUtility._isAxisViewDataScaleMinMaxImpactedByGroupAnotherAxisView(this,u)){r=!0;break}}r||(o=this._calculateMinMax(this.__axisScalePolicy,o._min,o._max));var s=this._getDefinition()._option,_=s.useActualMin?i[0]:o._min,p=s.useActualMax?i[1]:o._max,c=t._DataScaleUtility._getAxisValueOptionValue(s.min,e._scale.type),h=t._DataScaleUtility._getAxisValueOptionValue(s.max,e._scale.type);return _=null!=c?e._getActualValue(c):_,p=null!=h?e._getActualValue(h):p,this.__axisScalePolicyProxy._calculateDataScaleViewport(_,p,n)}return new t._DataDomain(i[0],i[1])}return null!=n?this.__axisScalePolicyProxy._calculateDataScaleViewport(e._scale.min(),e._scale.max(),n):new t._DataDomain(e._minimum,e._maximum)},i}(t._HorizontalLineAxisView);t._DataScaleHorizontalLineAxisView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__axisScalePolicy=null,i.__axisScalePolicyProxy=null,i}return n(i,e),i.prototype._getAxisScalePolicy=function(){if(null==this.__axisScalePolicyProxy){this.__axisScalePolicy=e.prototype._getAxisScalePolicy.call(this);var n=this.__axisScalePolicy;t._isLinearAxisScalePolicy(n)?this.__axisScalePolicyProxy=new t._DataScaleLinearAxisScalePolicy(n,this):t._isOrdinalAxisScalePolicy(n)?this.__axisScalePolicyProxy=new t._DataScaleOrdinalAxisScalePolicy(n,this):t._isLogAxisScalePolicy(n)?this.__axisScalePolicyProxy=new t._DataScaleLogAxisScalePolicy(n,this):t._isTimeAxisScalePolicy(n)&&(this.__axisScalePolicyProxy=new t._DataScaleTimeAxisScalePolicy(n,this))}return this.__axisScalePolicyProxy},i.prototype._position=function(){var n=e.prototype._position.call(this);return n!=t.AxisPosition.None&&this._isOriginOutOfDataScaleViewport()?t.AxisPosition.None:n},i.prototype.getLabelPosition=function(){return this._definition._option.position==t.AxisPosition.None?t.Position.None:e.prototype.getLabelPosition.call(this)},i.prototype._shouldDisplayGridLineViews=function(n){if(this._isOriginOutOfDataScaleViewport()){var i=this._definition._option.position;return!n._renderLabel&&i!=t.AxisPosition.None}return e.prototype._shouldDisplayGridLineViews.call(this,n)},i.prototype._shouldDisplayLabelViews=function(n){if(this._isOriginOutOfDataScaleViewport()){var i=this._definition._option.labels;if(i==t.AxisPosition.Far||i==t.AxisPosition.Near){var o=this._definition._option.position;return n._renderLabel&&o!=t.AxisPosition.None}}return e.prototype._shouldDisplayLabelViews.call(this,n)},i.prototype._isOriginOutOfDataScaleViewport=function(){var e=this._getAcutalOrigin();if(null!=e){var n=this._getCoordinateSystemView();if(t._isCartesianCoordinateSystemView(n)){var i=n._getHorizontalAxisViews()[0];if(t._isDataScaleLineAxisView(i)){var o=i._dataScaleViewport();if(null!=o&&(null!=o._min&&e<o._min||null!=o._max&&e>o._max))return!0}}}return!1},i.prototype._calculateMinMax=function(e,n,i){return t._isLinearAxisScalePolicy(e)||t._isOrdinalAxisScalePolicy(e)||t._isLogAxisScalePolicy(e)||t._isTimeAxisScalePolicy(e)?e.calculateMinMax(n,i):new t._DataDomain(n,i)},i.prototype._dataScalePolicy=function(){return this.__axisScalePolicyProxy},i.prototype._dataScaleViewport=function(){var e=this._scaleModel;if(!e._hasScale())return null;var n=this._ownerView._getAxisViewDataScaleRange(this),i=e._scale._getDomain();if(null!=i[0]&&null!=i[1]&&t._DataScaleUtility._isAxisViewDataScaled(this,n)){if(null!=n){for(var o=new t._DataDomain(i[0],i[1]),r=!1,l=0,a=t._DataScaleUtility._findRelatedCartesianGroupViews(this);l<a.length;l++){var u=a[l];if(t._DataScaleUtility._isAxisViewDataScaleMinMaxImpactedByGroupAnotherAxisView(this,u)){r=!0;break}}r||(o=this._calculateMinMax(this.__axisScalePolicy,o._min,o._max));var s=this._getDefinition()._option,_=s.useActualMin?i[0]:o._min,p=s.useActualMax?i[1]:o._max,c=t._DataScaleUtility._getAxisValueOptionValue(this._getDefinition()._option.min,e._scale.type),h=t._DataScaleUtility._getAxisValueOptionValue(this._getDefinition()._option.max,e._scale.type);return _=null!=c?e._getActualValue(c):_,p=null!=h?e._getActualValue(h):p,this.__axisScalePolicyProxy._calculateDataScaleViewport(_,p,n)}return new t._DataDomain(i[0],i[1])}return null!=n?this.__axisScalePolicyProxy._calculateDataScaleViewport(e._scale.min(),e._scale.max(),n):new t._DataDomain(e._minimum,e._maximum)},i}(t._VerticalLineAxisView);t._DataScaleVerticalLineAxisView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=2}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){if(n==t._XyCartesianCoordinateSystemDefinition._type){var r=e._plotAreaOption;if(null!=r&&null!=r.option()&&null!=r.option().dataScales)return new t._XyCartesianCoordinateSystemDefinition(e,i,o,t._DataScaleXyCartesianCoordinateSystemViewBuilder._viewBuilder)}return null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e._dataScaleLineCartesianCoordinateSystemBuilder=new e,e}();t._DataScaleXyCartesianCoordinateSystemBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._dataScaleLineCartesianCoordinateSystemBuilder,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__dataScaleOptions=null,i.__dataScaleBarViews=null,i.__dataScaleRanges=null,i.__dataScaleAxisViews=null,i.__dataScaleAxisViewInitialValueRanges=null,i}return n(i,e),i.prototype._createDataScaleRanges=function(){var e=this.__dataScaleOptions.map((function(e){var n,i=new t._DataScaleRange;return i._start=null==e.start?null:Math.min(1,e.start),null!=e.viewSize&&(i._end=Math.min(1,t._NativeExtension._toNonNullNumber(e.start,0)+e.viewSize)),(n=i._axisNames).push.apply(n,e.axisNames),i._dataScaleOptions.push(e),i}));return this._mergeScaleRanges(e),e},i.prototype._createDataScaleOptions=function(){var e=[],n=this._ownerView._getPlotAreaView()._getDefinition()._plotAreaOption,i=null!=n.option()?n.option().dataScales:null;if(null!=i)for(var o=0,r=t._JsonElementUtility._isArray(i)?t._JsonElementUtility._getAsArray(i):[i];o<r.length;o++){var l=r[o];e.push(new t.options._DataScaleOption(l))}return e},i.prototype._mergeScaleRanges=function(t){if(!(t.length<=1)){for(var e,n=!1,i=function(i){for(var o,r,l=t[i],a=l._axisNames,u=l._dataScaleOptions,s=0;s<i;s++){var _=t[s];if(_._axisNames.some((function(t){return a.indexOf(t)>=0}))){(o=_._dataScaleOptions).push.apply(o,u),(r=_._axisNames).push.apply(r,a),t.splice(i--,1),n=!0;break}}e=i},o=1;!n&&o<t.length;o++)i(o),o=e;n&&this._mergeScaleRanges(t)}},i.prototype._createDataScaleBarViews=function(){for(var e=[],n=this.__dataScaleRanges,i=function(i){var r=t._Util.find(n,(function(t){return t._dataScaleOptions.indexOf(i)>=0}));e.push(new t._DataScaleBarView(o,i,r))},o=this,r=0,l=this.__dataScaleOptions;r<l.length;r++)i(l[r]);return e},i.prototype._initDataScaleMinMax=function(){var e=this;if(null==this.__dataScaleAxisViews){this.__dataScaleAxisViews=[],this.__dataScaleAxisViewInitialValueRanges=[];for(var n=0,i=this._getHorizontalAxisViews().concat(this._getVerticalAxisViews());n<i.length;n++){var o=i[n];if(t._isDataScaleLineAxisView(o)){this.__dataScaleAxisViews.push(o);var r=o._scaleModel._scale._getDomain();this.__dataScaleAxisViewInitialValueRanges.push(new t._DataDomain(r[0],r[1]))}}}for(var l=[],a=function(n){if(!t._isCartesianPlotView(n))return"continue";for(var i=[],o=0,r=n._getOverlayViews();o<r.length;o++){var a=r[o];if(t._isOverlayRangeBuilder(a)){var u=a.buildRangePolicy();null!=u&&i.push(u)}}n._traverseCartesianGroupView((function(n,o){for(var r=[],a=0,u=n._getCartesianSeriesViews();a<u.length;a++)for(var s=0,_=u[a]._filterPointViews();s<_.length;s++){var p=_[s];r.push(p)}var c=n._xAxisView(),h=n._yAxisView(),f=t._isDataScaleLineAxisView(c)?c:null,d=t._isDataScaleLineAxisView(h)?h:null;if(null!=f&&null!=d&&t._DataScaleUtility._isAxisViewDataScaleMinMaxImpactedByGroupAnotherAxisView(f,n)){var y=e._calculateYAxisViewDataScaleDataDomain(n,r,i,d,f),g=d._scaleModel._scale;if(-1==l.indexOf(d))l.push(d),g._setDomain(y);else if(null!=y[0]&&null!=y[1]){var m=g._getDomain();g._setDomain([Math.min(y[0],m[0]),Math.max(y[1],m[1])])}var v=e._calcuateXAxisViewDataScaleDataDomain(n,r,i,f,d),w=f._scaleModel._scale;if(-1==l.indexOf(f))l.push(f),w._setDomain(v);else if(null!=v[0]&&null!=v[1]){var b=w._getDomain();w._setDomain([Math.min(v[0],b[0]),Math.max(v[1],b[1])])}}else null!=f&&(v=e._calcuateXAxisViewDataScaleDataDomain(n,r,i,f,d),w=f._scaleModel._scale,-1==l.indexOf(f)?(l.push(f),w._setDomain(v)):null!=v[0]&&null!=v[1]&&(b=w._getDomain(),w._setDomain([Math.min(v[0],b[0]),Math.max(v[1],b[1])]))),null!=d&&(y=e._calculateYAxisViewDataScaleDataDomain(n,r,i,d,f),g=d._scaleModel._scale,-1==l.indexOf(d)?(l.push(d),g._setDomain(y)):null!=y[0]&&null!=y[1]&&(m=g._getDomain(),g._setDomain([Math.min(y[0],m[0]),Math.max(y[1],m[1])])))}),null)},u=0,s=this._getPlotViews();u<s.length;u++)a(s[u])},i.prototype._calcuateXAxisViewDataScaleDataDomain=function(e,n,i,o,r){var l=o._getDefinition()._option,a=o._scaleModel._scale,u=t._DataScaleUtility._getAxisValueOptionValue(l.min,a.type),s=t._DataScaleUtility._getAxisValueOptionValue(l.max,a.type);if(t._DataScaleUtility._isAxisViewDataScaleMinMaxImpactedByGroupAnotherAxisView(o,e)){for(var _=r._dataScaleViewport(),p=t._DataScaleUtility._getAxisViewFilterMode(r),c=r._scaleModel._getActualValue(_._min),h=r._scaleModel._getActualValue(_._max),f=o._getScaleType(),d=t._DataScaleYCartesianPointViewsFilter._defaultFilter,y=[],g=0,m=n;g<m.length;g++){var v=m[g],w=v._data();if(t._isCartesianPointDataModel(w)){var b=e._getXValue(w);if(null==b||f==t.ValueScaleType.Logarithmic&&!(b>0))continue;d._isYFilterOut(v,_,p)||y.push(b)}}for(var P=0,S=i;P<S.length;P++){var C=S[P].getOverlayRange(c,h);null!=C.minX&&y.push(C.minX),null!=C.maxX&&y.push(C.maxX)}var V=o._dataScalePolicy(),x=y.length>0?t._Utility.min(y):null,D=y.length>0?t._Utility.max(y):null,O=V._calculateDataScaleMinMax(x,D,a._getOrigin()),A=null!=u?u:O._min,L=null!=s?s:O._max;return[A=null!=A?a._getActualValue(A):A,L=null!=L?a._getActualValue(L):L]}var T=this.__dataScaleAxisViews.indexOf(o),M=this.__dataScaleAxisViewInitialValueRanges[T];if(null==M._min&&null==M._max)return[M._min,M._max];A=null!=u?u:M._min,L=null!=s?s:M._max;var E=a._getOrigin();return isNaN(E)||(null!=A&&E<A?A=E:null!=L&&E>L&&(L=E)),[A=null!=A?a._getActualValue(A):A,L=null!=L?a._getActualValue(L):L]},i.prototype._calculateYAxisViewDataScaleDataDomain=function(e,n,i,o,r){var l=o._getDefinition()._option,a=o._scaleModel._scale,u=t._DataScaleUtility._getAxisValueOptionValue(l.min,a.type),s=t._DataScaleUtility._getAxisValueOptionValue(l.max,a.type);if(t._DataScaleUtility._isAxisViewDataScaleMinMaxImpactedByGroupAnotherAxisView(o,e)){for(var _=r._dataScaleViewport(),p=r._scaleModel._getActualValue(_._min),c=r._scaleModel._getActualValue(_._max),h=[],f=o._getScaleType(),d=0,y=n;d<y.length;d++){var g=y[d]._data();if(t._isCartesianPointDataModel(g)){var m=e._getXValue(g);if(null!=m&&p<=m&&m<=c)for(var v=0,w=g._yValues();v<w.length;v++){var b=w[v]._value();null!=b&&(f!=t.ValueScaleType.Logarithmic||b>0)&&h.push(b)}}}for(var P=0,S=i;P<S.length;P++){var C=S[P].getOverlayRange(p,c);null!=C.minY&&h.push(C.minY),null!=C.maxY&&h.push(C.maxY)}var V=o._dataScalePolicy(),x=h.length>0?t._Utility.min(h):null,D=h.length>0?t._Utility.max(h):null,O=V._calculateDataScaleMinMax(x,D,a._getOrigin()),A=null!=u?u:O._min,L=null!=s?s:O._max;return[A=null!=A?a._getActualValue(A):A,L=null!=L?a._getActualValue(L):L]}var T=this.__dataScaleAxisViews.indexOf(o),M=this.__dataScaleAxisViewInitialValueRanges[T];if(null==M._min&&null==M._max)return[M._min,M._max];A=null!=u?u:M._min,L=null!=s?s:M._max;var E=a._getOrigin();return isNaN(E)||(null!=A&&E<A?A=E:null!=L&&E>L&&(L=E)),[A=null!=A?a._getActualValue(A):A,L=null!=L?a._getActualValue(L):L]},i.prototype._dataScaleFilterPointViews=function(){for(var e=this,n=0,i=this._getPlotViews();n<i.length;n++){var o=i[n];t._isCartesianPlotView(o)&&o._traverseCartesianGroupView((function(n,i){for(var o=[],r=0,l=n._getCartesianSeriesViews();r<l.length;r++)for(var a=0,u=l[r]._getCartesianPointViews();a<u.length;a++){var s=u[a];o.push(s)}for(var _=0,p=o;_<p.length;_++)p[_]._dataScaleFilteredType=t._DataScaleFilteredType.FilterIn;var c=n._xAxisView(),h=e._getAxisViewDataScaleRange(c);if(t._isDataScaleLineAxisView(c)&&null!=h)for(var f=t._DataScaleUtility._getAxisViewFilterMode(c),d=c._dataScaleViewport(),y=new t._DataDomain(c._scaleModel._getActualValue(d._min),c._scaleModel._getActualValue(d._max)),g=0,m=t._DataScaleXCartesianPointViewsFilter._defaultFilter._filterPointViews(o,y,f);g<m.length;g++){var v=m[g];f==t.FilterMode.Empty?v._dataScaleFilteredType=t._DataScaleFilteredType.Empty:v._dataScaleFilteredType=t._DataScaleFilteredType.FilterOut}var w=n._yAxisView(),b=e._getAxisViewDataScaleRange(w);if(t._isDataScaleLineAxisView(w)&&null!=b)for(var P=t._DataScaleUtility._getAxisViewFilterMode(w),S=w._dataScaleViewport(),C=new t._DataDomain(w._scaleModel._getActualValue(S._min),w._scaleModel._getActualValue(S._max)),V=o.filter((function(e){return null==e._dataScaleFilteredType||e._dataScaleFilteredType==t._DataScaleFilteredType.FilterIn})),x=0,D=t._DataScaleYCartesianPointViewsFilter._defaultFilter._filterPointViews(V,C,P);x<D.length;x++)v=D[x],P==t.FilterMode.Empty?v._dataScaleFilteredType=t._DataScaleFilteredType.Empty:v._dataScaleFilteredType=t._DataScaleFilteredType.FilterOut}),null)}},i.prototype._clippingPointViews=function(){for(var e=this,n=0,i=this._getPlotViews();n<i.length;n++){var o=i[n];t._isCartesianPlotView(o)&&o._traverseCartesianGroupView((function(n,i){var o=n._xAxisView(),r=n._yAxisView(),l=t._isDataScaleLineAxisView(o)?o:null,a=t._isDataScaleLineAxisView(r)?r:null,u=null!=l?l._dataScaleViewport():null,s=null!=a?a._dataScaleViewport():null;if(null!=u||null!=s){null!=u&&u._min==u._max&&l._scaleModel._scale.type==t.ValueScaleType.Linear&&(u=t._DataScaleUtility._adjustLinearSameMinMax(u._min,u._max)),null!=s&&s._min==s._max&&a._scaleModel._scale.type==t.ValueScaleType.Linear&&(s=t._DataScaleUtility._adjustLinearSameMinMax(s._min,s._max));for(var _=null!=u?l._scaleModel._getActualValue(u._max):null!=l?l._scaleModel._maximum:null,p=null!=u?l._scaleModel._getActualValue(u._min):null!=l?l._scaleModel._minimum:null,c=null!=s?a._scaleModel._getActualValue(s._max):null!=a?a._scaleModel._maximum:null,h=null!=s?a._scaleModel._getActualValue(s._min):null!=a?a._scaleModel._minimum:null,f=0,d=n._getCartesianSeriesViews();f<d.length;f++)for(var y=0,g=d[f]._getPointViews();y<g.length;y++){var m=g[y];if(t._isCartesianPointView(m)){var v=m._dataScaleFilteredType;if(v==t._DataScaleFilteredType.FilterOut||v==t._DataScaleFilteredType.Empty)m.valueIsOutOfAxesRange=!0;else if(v==t._DataScaleFilteredType.FilterIn){var w=m._data();if(t._isCartesianPointDataModel(w)){var b=n._getXValue(w);null!=b&&!isNaN(b)&&(null!=_&&b>_||null!=p&&b<p)?m.valueIsOutOfAxesRange=!0:m.valueIsOutOfAxesRange=e._isValueOutOfRange(m._yValues(),h,c)}}else m.valueIsOutOfAxesRange=!1}}}}),null)}},i.prototype._isValueOutOfRange=function(t,e,n){for(var i=0,o=t;i<o.length;i++){var r=o[i];if(null!=r&&(null!=n&&r>n||null!=e&&r<e))return!0}return!1},i.prototype._createAxesView=function(e){return new t._DataScaleAxesView(this,e)},i.prototype._createPlotListView=function(){return new t._DataScaleCartesianPlotListView(this)},i.prototype._createAxisView=function(n,i){return t._isDataScaleXyCartesianCoordinateSystemView(n)?i._orientation==t.Orientation.Vertical?new t._DataScaleVerticalLineAxisView(n,i):i._orientation==t.Orientation.Horizontal?new t._DataScaleHorizontalLineAxisView(n,i):null:e.prototype._createAxisView.call(this,n,i)},i.prototype._layoutData=function(){e.prototype._layoutData.call(this),this.__dataScaleAxisViews=null,this.__dataScaleAxisViewInitialValueRanges=null,this.__dataScaleBarViews=null,this.__dataScaleOptions=this._createDataScaleOptions(),this.__dataScaleRanges=this._createDataScaleRanges()},i.prototype._layoutContent=function(t,n,i){this._initDataScaleMinMax(),this._dataScaleFilterPointViews(),this._clippingPointViews(),e.prototype._layoutContent.call(this,t,n,i);var o=this._dataScaleBarViews();if(o.length>0)for(var r=this._ownerView._getPlotAreaView()._getDvView()._getRectangle(),l=0,a=o;l<a.length;l++)a[l]._layout(t,i,r)},i.prototype._renderChildren=function(t,n){e.prototype._renderChildren.call(this,t,n);for(var i=0,o=this._dataScaleBarViews();i<o.length;i++)o[i]._render(t,n)},i.prototype._hitTest=function(t,n,i){for(var o=this._dataScaleBarViews(),r=o.length-1;r>=0;r--){var l=o[r]._hitTest(t,n,i);if(null!=l)return l}return e.prototype._hitTest.call(this,t,n,i)},i.prototype._dataScaleBarViews=function(){return null==this.__dataScaleBarViews&&(this.__dataScaleBarViews=this._createDataScaleBarViews()),this.__dataScaleBarViews},i.prototype._getAxisViewDataScaleRange=function(e){if(null==e)return null;var n=e._getDefinition()._option.name;return null!=n?t._Util.find(this.__dataScaleRanges,(function(t){return t._axisNames.indexOf(n)>=0})):null},i}(t._XyCartesianCoordinateSystemView);t._DataScaleXyCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._DataScaleXyCartesianCoordinateSystemView(e,n)},e._viewBuilder=new e,e}();t._DataScaleXyCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){t._isDataScaleLineAxisView=function(t){var e=t;return null!=e&&"function"==typeof e._dataScalePolicy&&"function"==typeof e._dataScaleViewport}}(t||(t={})),function(t){t._isDataScaleXyCartesianCoordinateSystemView=function(t){return null!=t&&"function"==typeof t._dataScaleBarViews}}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n)||this;r._option=i,r._scaleRange=o,r._showTextAnnotation=!1,r.__defaultStyle=null,r.__defaultSelectingStyle=null,r.__defaultSelectedStyle=null,r.__textAnnotationStyle=null,r.__trackRectangle=null,r.__selectedRectangle=null,r.__startValueTextView=null,r.__endValueTextView=null,r.__layoutInvalidated=!1,r._zLevel=t._DataScaleConstants._viewZLevel,r.__axisViews=r._getAxisViews(n,o);var l=r._mainAxisView();return null!=i.orientation?r._orientation=i.orientation:r._orientation=null!=l?l._getDefinition()._orientation:t.Orientation.Horizontal,null!=i.scaleHandle&&(r._startView=new t._DataScaleHandleView(r,i.scaleHandle),r._endView=new t._DataScaleHandleView(r,i.scaleHandle)),null!=i.thumbHandle&&i.enableSelecting&&(r._thumbView=new t._DataScaleThumbHanldeView(r,i.thumbHandle)),r}return n(i,e),i.prototype._show=function(){return null!=this._startView||null!=this._endView||null!=this._thumbView},i.prototype._mainAxisView=function(){var t=this.__axisViews;return t.length>0?t[0]:null},i.prototype._isAxisViewReversed=function(){var t=this._mainAxisView();return null!=t&&t._getDefinition()._option.reversed},i.prototype._getAxisViews=function(e,n){for(var i=[],o=this._option.axisNames,r=0,l=e._getHorizontalAxisViews().concat(e._getVerticalAxisViews());r<l.length;r++){var a=l[r];t._isDataScaleLineAxisView(a)&&e._getAxisViewDataScaleRange(a)==n&&o.indexOf(a._getDefinition()._option.name)>=0&&i.push(a)}return i.sort((function(t,e){return o.indexOf(t._getDefinition()._option.name)-o.indexOf(e._getDefinition()._option.name)}))},i.prototype._calcValueOptionValue=function(e,n){return null!=e&&e.type==t.ValueOptionType.Percentage?e.value*n:null!=e&&e.type===t.ValueOptionType.Pixel?e.value:0},i.prototype._distanceFromValue=function(t,e,n,i){return t==i?e:e/(i-n)*(t-n)},i.prototype._scaleHandleSize=function(t,e){return null!=t?null!=t.handleSize?this._calcValueOptionValue(t.handleSize,e):e:0},i.prototype._thumbHandleSize=function(e){return null!=e?null!=e.handleSize?e.handleSize:t._DataScaleConstants._thumbHeight:0},i.prototype._calcScaleHandleRectangle=function(e,n,i){if(e==t.Orientation.Horizontal){var o=this._scaleHandleSize(this._option.scaleHandle,n.height),r=(a=t._DataScaleHandleView.__defaultWidhtHeightPrecent*o)/2,l=(o-n.height)/2;return i?new t.core.Rect(n.left-r,n.top-l,a,o):new t.core.Rect(n.right-r,n.top-l,a,o)}var a=this._scaleHandleSize(this._option.scaleHandle,n.width);return o=t._DataScaleHandleView.__defaultWidhtHeightPrecent*a,r=(a-n.width)/2,l=o/2,i?new t.core.Rect(n.left-r,n.bottom-l,a,o):new t.core.Rect(n.left-r,n.top-l,a,o)},i.prototype._calcThumbHandleRectangle=function(e,n){if(e==t.Orientation.Horizontal){var i=this._thumbHandleSize(this._option.thumbHandle);return new t.core.Rect(n.left,n.top-i,n.width,i)}var o=this._thumbHandleSize(this._option.thumbHandle);return new t.core.Rect(n.right,n.top,o,n.height)},i.prototype._calcHorizontalTrackRectangle=function(e,n){var i,o=e.width,r=e.height,l=this._ownerView._getPlotListView()._getRectangle(),a=this._thumbHandleSize(this._option.thumbHandle),u=this.__trackRectangle;i=null!=n.height?this._calcValueOptionValue(n.height,r):t._DataScaleConstants._trackHeightOrWidth;var s,_,p,c=t._DataScaleHandleView.__defaultWidhtHeightPrecent*this._scaleHandleSize(this._option.scaleHandle,i);return s=null!=n.width?this._calcValueOptionValue(n.width,o):null!=n.left&&null!=n.right?Math.max(0,o-this._calcValueOptionValue(n.left,o)-this._calcValueOptionValue(n.right,o)-c):null!=u?u.width:l.width,null!=n.left?_=e.left+this._calcValueOptionValue(n.left,o)+c/2:null!=n.right?_=e.right-this._calcValueOptionValue(n.right,o)-s-c/2:null!=n.hAlign?(_=n.hAlign==t.HAlign.Left?c/2:n.hAlign==t.HAlign.Center?(o-s-c)/2:o-s-c/2,_=e.left+_):_=null!=u?u.left:l.left,null!=n.top?p=e.top+this._calcValueOptionValue(n.top,r):null!=n.bottom?p=e.bottom-this._calcValueOptionValue(n.bottom,r)-i-a:null!=n.vAlign?(p=n.vAlign==t.VAlign.Top?0:n.vAlign==t.VAlign.Middle?(r-i-a)/2:r-i-a,p=e.top+p):p=e.bottom-i-a,new t.core.Rect(_,p+a,s,i)},i.prototype._calcVerticalTrackRectangle=function(e,n){var i,o=e.width,r=e.height,l=this._ownerView._getPlotListView()._getRectangle(),a=this._thumbHandleSize(this._option.thumbHandle),u=this.__trackRectangle;i=null!=n.width?this._calcValueOptionValue(n.width,o):t._DataScaleConstants._trackHeightOrWidth;var s,_,p,c=t._DataScaleHandleView.__defaultWidhtHeightPrecent*this._scaleHandleSize(this._option.scaleHandle,i);return s=null!=n.height?this._calcValueOptionValue(n.height,r):null!=n.top&&null!=n.bottom?Math.max(0,r-this._calcValueOptionValue(n.top,r)-this._calcValueOptionValue(n.bottom,r)-c):null!=u?u.height:l.height,null!=n.left?_=e.left+this._calcValueOptionValue(n.left,o):null!=n.right?_=e.right-this._calcValueOptionValue(n.right,o)-a-i:null!=n.hAlign?(_=n.hAlign==t.HAlign.Left?0:n.hAlign==t.HAlign.Center?(o-i-a)/2:o-i-a,_=e.left+_):_=e.right-a-i,null!=n.top?p=e.top+this._calcValueOptionValue(n.top,r)+c/2:null!=n.bottom?p=e.bottom-this._calcValueOptionValue(n.bottom,r)-s-c/2:null!=n.vAlign?(p=n.vAlign==t.VAlign.Top?c/2:n.vAlign==t.VAlign.Middle?(r-s-c)/2:r-s-c/2,p=e.top+p):p=null!=u?u.top:l.top,new t.core.Rect(_,p,i,s)},i.prototype._calcTrackRectangle=function(e,n,i){return e==t.Orientation.Horizontal?this._calcHorizontalTrackRectangle(n,i):this._calcVerticalTrackRectangle(n,i)},i.prototype._calcSelectedRectangle=function(e,n){var i=this._scaleRange,o=null==i._start?0:i._start,r=null==i._end?1:i._end,l=this._isAxisViewReversed();if(e==t.Orientation.Horizontal){var a=void 0,u=void 0;return l?(u=n.right-this._distanceFromValue(o,n.width,0,1),a=n.right-this._distanceFromValue(r,n.width,0,1)):(a=n.left+this._distanceFromValue(o,n.width,0,1),u=n.left+this._distanceFromValue(r,n.width,0,1)),new t.core.Rect(a,n.top,u-a,n.height)}var s,_=void 0;return l?(s=n.top+this._distanceFromValue(o,n.height,0,1),_=n.top+this._distanceFromValue(r,n.height,0,1)):(_=n.bottom-this._distanceFromValue(o,n.height,0,1),s=n.bottom-this._distanceFromValue(r,n.height,0,1)),new t.core.Rect(n.left,s,n.width,_-s)},i.prototype._calcHorizontalTextAnnotationRect=function(e,n,o,r,l){var a,u=o._measure(e,null)._size,s=i.__defaultTextAnnotationOffset,_=r.top+r.height/2;if(l){var p,c;if((p=new t.core.Rect(r.left-s-u.width,_-u.height/2,u.width,u.height)).left<n.left&&(p.width=p.width-(n.left-p.left),p.left=n.left,(c=this._textOverflow())!=t.TextOverflow.Clip)){var h=o._measure(e,new t.core.Size(p.width,Number.MAX_VALUE));c==t.TextOverflow.Wrap&&((a=h._size.width)<p.width&&(p.left+=p.width-a,p.width=a),p.inflate(0,(h._size.height-u.height)/2))}return p}return(p=new t.core.Rect(r.right+s,_-u.height/2,u.width,u.height)).right>n.right&&(p.width=p.width-(p.right-n.right),(c=this._textOverflow())!=t.TextOverflow.Clip)&&(h=o._measure(e,new t.core.Size(p.width,Number.MAX_VALUE)),c==t.TextOverflow.Wrap&&((a=h._size.width)<p.width&&(p.width=a),p.inflate(0,(h._size.height-u.height)/2))),p},i.prototype._calcVerticalTextAnnotationRect=function(e,n,o,r,l){var a=o._measure(e,null)._size,u=i.__defaultTextAnnotationOffset,s=r.left+r.width/2,_=l?new t.core.Rect(s-a.width/2,r.top-u-a.height,a.width,a.height):new t.core.Rect(s-a.width/2,r.bottom+u,a.width,a.height);if(_.left<n.left||_.right>n.right){_.left<n.left&&(_.width=Math.min(_.width,n.width),_.left=n.left),_.right>n.right&&(_.width=Math.min(_.width,n.width),_.left=n.right-_.width);var p=this._textOverflow();if(p!=t.TextOverflow.Clip){var c=o._measure(e,new t.core.Size(_.width,Number.MAX_VALUE));p==t.TextOverflow.Wrap&&(l?(_.top=r.top-u-c._size.height,_.height=c._size.height):_.height=c._size.height)}}return _},i.prototype._getClassName=function(){return this._orientation==t.Orientation.Horizontal?"gcdv-scalebar-h":"gcdv-scalebar-v"},i.prototype._layoutContent=function(e,n,i){if(this._show()){var o=this._orientation;this.__trackRectangle=this._calcTrackRectangle(o,n,this._option),this.__selectedRectangle=this._calcSelectedRectangle(o,this.__trackRectangle),this.__startValueTextView=this._startValueTextView(),this.__endValueTextView=this._endValueTextView();var r=this._isAxisViewReversed(),l=this.__selectedRectangle,a=this._calcScaleHandleRectangle(o,l,!0),u=this._calcScaleHandleRectangle(o,l,!1);if(o==t.Orientation.Horizontal){if(null!=this._startView&&this._startView._layout(e,i,r?u:a),null!=this._endView&&this._endView._layout(e,i,r?a:u),null!=this._thumbView){var s=this._calcThumbHandleRectangle(o,l);this._thumbView._layout(e,i,s)}if(e.beginTransform(),this._applyStyle(e),null!=this.__startValueTextView){var _=this._calcHorizontalTextAnnotationRect(e,n,this.__startValueTextView,r?u:a,!r);this.__startValueTextView._layout(e,i,_)}if(null!=this.__endValueTextView){var p=this._calcHorizontalTextAnnotationRect(e,n,this.__endValueTextView,r?a:u,r);this.__endValueTextView._layout(e,i,p)}e.restoreTransform()}else null!=this._startView&&this._startView._layout(e,i,r?u:a),null!=this._endView&&this._endView._layout(e,i,r?a:u),null!=this._thumbView&&(s=this._calcThumbHandleRectangle(o,l),this._thumbView._layout(e,i,s)),e.beginTransform(),this._applyStyle(e),null!=this.__startValueTextView&&(_=this._calcVerticalTextAnnotationRect(e,n,this.__startValueTextView,r?u:a,r),this.__startValueTextView._layout(e,i,_)),null!=this.__endValueTextView&&(p=this._calcVerticalTextAnnotationRect(e,n,this.__endValueTextView,r?a:u,!r),this.__endValueTextView._layout(e,i,p)),e.restoreTransform()}},i.prototype._drawView=function(e,n){if(this.__layoutInvalidated&&(this._layout(e,n,this._getRectangle()),this.__layoutInvalidated=!1),n._renderLabel)this._showTextAnnotation&&(e.beginTransform(),this._applyStyle(e),null!=this.__startValueTextView&&this.__startValueTextView._render(e,n),null!=this.__endValueTextView&&this.__endValueTextView._render(e,n),e.restoreTransform());else{e.beginTransform(),this._applyStyle(e);var i=this._trackRectangle;this._drawRect(e,i),e.restoreTransform();var o=this.__selectedRectangle;null!=o&&(e.beginTransform(),this._applySelectedStyle(e),this._drawRect(e,o),e.restoreTransform()),null!=this._startView&&this._startView._render(e,n),null!=this._endView&&this._endView._render(e,n),null!=this._thumbView&&this._thumbView._render(e,n);var r=this._selectingRectangle;if(null!=r){e.beginTransform(),this._applySelectingStyle(e);var l=t._RectangleUtility._intersectionOfRectangle(i,r);this._drawRect(e,l),e.restoreTransform()}}},i.prototype._drawRect=function(e,n){if(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var i=t._NativeExtension._toNonNullNumber(e.strokeWidth,0);e.drawRect(n.left+i/2,n.top+i/2,n.width-i,n.height-i)}},i.prototype._textOverflow=function(){var e=null!=this._option.textAnnotation?this._option.textAnnotation.textStyle:null;return null!=e&&null!=e.overflow?e.overflow:t.TextOverflow.Clip},i.prototype._textAlignment=function(e){var n=null!=this._option.textAnnotation?this._option.textAnnotation.textStyle:null;if(null!=n&&null!=n.alignment)return n.alignment;if(this._orientation==t.Orientation.Horizontal){var i=this._isAxisViewReversed();return e?i?t.HAlign.Left:t.HAlign.Right:i?t.HAlign.Right:t.HAlign.Left}return t.HAlign.Center},i.prototype._textHAlign=function(e){if(this._orientation==t.Orientation.Horizontal){var n=this._isAxisViewReversed();return e?n?t.HAlign.Left:t.HAlign.Right:n?t.HAlign.Right:t.HAlign.Left}return t.HAlign.Center},i.prototype._textVAlign=function(e){if(this._orientation==t.Orientation.Horizontal)return t.VAlign.Middle;var n=this._isAxisViewReversed();return e?n?t.VAlign.Bottom:t.VAlign.Top:n?t.VAlign.Top:t.VAlign.Bottom},i.prototype._textAnnotationStyle=function(){if(null==this.__textAnnotationStyle){var e=this._option.textAnnotation;if(null!=e){var n=t._StyleUtility._buildStyle();n.fontFamily=t._SystemUtility.DefaultFontFamily(),n.fontSize="14",n.textFill="#666666",n.fillOpacity=1,t._OptionUtility._applyTextStyleOption(n,e.textStyle),t._OptionUtility._applyStyleOption(n,e.style),this.__textAnnotationStyle=n}}return this.__textAnnotationStyle},i.prototype._showTooltip=function(e,n){if(null==e)return!0;var i=e.split(",").map((function(t){return t.trim()}));return n?i.indexOf(t._DataScaleConstants._startScope)>=0:i.indexOf(t._DataScaleConstants._endScope)>=0},i.prototype._tooltipContent=function(e){var n=this._option.textAnnotation;if(this._showTooltip(null==n?null:n.scope,e)){var i=null!=n&&null!=n.template?n.template:"{value}",o=t._TemplateSyntaxEngine._defaultSyntaxEngine(),r=o.parse(i),l=null!=n?n.format:null,a=new t._DataScaleTooltipTextProxy(this,e,l,null),u=o.evaluate(r,a,null,null);if(null!=u&&u.length>0)return new t.models._TextTooltipContent(u,this._textAnnotationStyle())}return null},i.prototype._startValueTextView=function(){var e=this._tooltipContent(!0);if(null==e)return null;var n=new t._TextView(this,e.text,this._textOverflow(),null,this._textHAlign(!0),this._textVAlign(!0),e.style,null,this._textAlignment(!0));return n._zLevel=t._DataScaleConstants._viewZLevel,n},i.prototype._endValueTextView=function(){var e=this._tooltipContent(!1);if(null==e)return null;var n=new t._TextView(this,e.text,this._textOverflow(),null,this._textHAlign(!1),this._textVAlign(!1),e.style,null,this._textAlignment(!1));return n._zLevel=t._DataScaleConstants._viewZLevel,n},i.prototype._applyStyle=function(e){t._StyleUtility._copyAllStyle(e,this._defaultStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.style)},i.prototype._applySelectingStyle=function(e){t._StyleUtility._copyAllStyle(e,this._defaultSelectingStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.selectingStyle)},i.prototype._applySelectedStyle=function(e){t._StyleUtility._copyAllStyle(e,this._defaultSelectedStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.selectedStyle)},i.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle(),this.__defaultStyle.fill=new t._CssColor("#000000"),this.__defaultStyle.fillOpacity=0,this.__defaultStyle.stroke=new t._CssColor("#d2dbee"),this.__defaultStyle.strokeWidth=1,this.__defaultStyle.textFill="#666666"),this.__defaultStyle},i.prototype._defaultSelectedStyle=function(){return null==this.__defaultSelectedStyle&&(this.__defaultSelectedStyle=t._StyleUtility._buildStyle(),this.__defaultSelectedStyle.fill=new t._CssColor("#87afff"),this.__defaultSelectedStyle.fillOpacity=.3,this.__defaultSelectedStyle.stroke=new t._CssColor("#666666"),this.__defaultSelectedStyle.strokeWidth=0),this.__defaultSelectedStyle},i.prototype._defaultSelectingStyle=function(){return null==this.__defaultSelectingStyle&&(this.__defaultSelectingStyle=t._StyleUtility._buildStyle(),this.__defaultSelectingStyle.fill=new t._CssColor("#87afff"),this.__defaultSelectingStyle.fillOpacity=.2,this.__defaultSelectingStyle.stroke=new t._CssColor("#666666"),this.__defaultSelectingStyle.strokeWidth=0),this.__defaultSelectingStyle},i.prototype._isVisible=function(){return!!this._show()&&e.prototype._isVisible.call(this)},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i||!this._show())return null;if(null!=this._startView&&null!=(l=this._startView._hitTest(n,i,o)))return l;if(null!=this._endView&&null!=(l=this._endView._hitTest(n,i,o)))return l;if(null!=this._thumbView&&null!=(l=this._thumbView._hitTest(n,i,o)))return l;var r=this._trackRectangle;if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,this.type);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.DataScaleBar},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_minimum",{get:function(){var e=this._mainAxisView();return null!=e?e._scaleModel._scale._getDomain()[0]:t._DataScaleConstants._minValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_maximum",{get:function(){var e=this._mainAxisView();return null!=e?e._scaleModel._scale._getDomain()[1]:t._DataScaleConstants._maxValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_startValue",{get:function(){if(null==this._scaleRange._start)return this._minimum;var t=this._maximum,e=this._minimum,n=t-e;return Math.min(t,e+n*this._scaleRange._start)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_endValue",{get:function(){if(null==this._scaleRange._end)return this._maximum;var t=this._maximum,e=this._minimum,n=t-e;return Math.min(t,e+n*this._scaleRange._end)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_trackRectangle",{get:function(){return this.__trackRectangle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeStart",{get:function(){var e=this.__selectedRectangle;if(null==e)return 0;var n=this._isAxisViewReversed();return this._orientation==t.Orientation.Horizontal?n?e.right:e.left:n?e.top:e.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_rangeEnd",{get:function(){var e=this.__selectedRectangle;if(null==e)return 0;var n=this._isAxisViewReversed();return this._orientation==t.Orientation.Horizontal?n?e.left:e.right:n?e.bottom:e.top},enumerable:!1,configurable:!0}),i.prototype._setScaleRange=function(e,n){var i=this.__selectedRectangle;if(null!=i){if((e=Math.max(0,Math.min(1,e)))>(n=Math.max(0,Math.min(1,n)))){var o=e;e=n,n=o}var r=this.__trackRectangle,l=this._isAxisViewReversed(),a=this._startValue,u=this._endValue;if(this._orientation==t.Orientation.Horizontal?(i.left=r.left+r.width*e,i.width=r.width*(n-e),l?(this._scaleRange._start=1-n,this._scaleRange._end=1-e):(this._scaleRange._start=e,this._scaleRange._end=n)):(i.top=r.top+r.height*e,i.height=r.height*(n-e),l?(this._scaleRange._start=e,this._scaleRange._end=n):(this._scaleRange._start=1-n,this._scaleRange._end=1-e)),null!=this._scaleValueChangedCallback){var s=this._startValue,_=this._endValue;s==a&&this._endValue==u||this._scaleValueChangedCallback(s,_,a,u)}}},i.prototype._invalidate=function(){this.__layoutInvalidated=!0},i.prototype._dataScaledAxisViews=function(){return this.__axisViews},i.prototype.queryInterface=function(t){return"IDataScaleBarView"==t?this:null},i.__defaultTextAnnotationOffset=6,i}(t._RectangleView);t._DataScaleBarView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ClickInteraction",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._DataScaleBarClickInteraction(e)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e._dataScaleBarClickInteractionBuilder=new e,e}();t._DataScaleBarClickInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._dataScaleBarClickInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype.onClick=function(e,n){if(t._isDataScaleBarView(n)){var i=n,o=i._trackRectangle,r=i._rangeStart,l=i._rangeEnd,a=Math.abs(l-r);if(i._orientation==t.Orientation.Horizontal){var u=e.x-a/2,s=e.x+a/2,_=a==o.width;if(s>o.right){var p=s-o.right;s=o.right,u=_?o.left:u-p}return u<o.left&&(p=o.left-u,u=o.left,s=_?o.right:s+p),this._setDataScaleBarRange(i,u,s),2}var c=e.y-a/2,h=e.y+a/2;if(_=a==o.height,h>o.bottom){var f=h-o.bottom;h=o.bottom,c=_?o.top:c-f}return c<o.top&&(f=o.top-c,c=o.top,h=_?o.bottom:h+f),this._setDataScaleBarRange(i,c,h),2}return 0},e.prototype._setDataScaleBarRange=function(e,n,i){if(n>i){var o=n;n=i,i=o}var r=e._trackRectangle;if(e._orientation==t.Orientation.Horizontal&&r.width>0){var l=r.width,a=n<=r.left?0:(n-r.left)/l,u=i>=r.right?1:(i-r.left)/l;e._setScaleRange(a,u)}else e._orientation==t.Orientation.Vertical&&r.height>0&&(l=r.height,a=n<=r.top?0:(n-r.top)/l,u=i>=r.bottom?1:(i-r.top)/l,e._setScaleRange(a,u))},e}(),e._DataScaleBarClickInteraction=n}(t||(t={})),function(t){var e=function(){function t(){}return t._minValue=0,t._maxValue=100,t._trackHeightOrWidth=30,t._thumbHeight=7,t._viewZLevel=1,t._startScope="Start",t._endScope="End",t}();t._DataScaleConstants=e}(t||(t={})),function(t){var e=function(){function e(){this.name="DraggingInteraction",this.type=t._BuildInDraggingInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDraggingInteraction=function(e){return new t.models._DataScaleBarDraggingInteraction(e)},e.prototype.queryInterface=function(t){return"IDraggingInteractionBuilder"==t||"IPlugin"==t?this:null},e._dataScaleBarDraggingInteractionBuilder=new e,e}();t._DataScaleBarDraggingInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._dataScaleBarDraggingInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._isDataScaleBar=function(e){return null!=e&&e.type==t.ElementType.DataScaleBar},e.prototype._isDataScaleThumHandler=function(e){return null!=e&&e.type==t.ElementType.DataScaleThumbHandler},e.prototype._isDataScaleStartHandler=function(e){return null!=e&&e.type==t.ElementType.DataScaleScaleHandler&&this._dataScaleBarView(e)._startView==e},e.prototype._isDataScaleEndHandler=function(e){return null!=e&&e.type==t.ElementType.DataScaleScaleHandler&&this._dataScaleBarView(e)._endView==e},e.prototype._dataScaleBarView=function(e){if(null==e)return null;if(e.type==t.ElementType.DataScaleBar)return t._isDataScaleBarView(e)?e:null;if(e.type==t.ElementType.DataScaleScaleHandler||e.type==t.ElementType.DataScaleThumbHandler){var n=e.parent;return t._isDataScaleBarView(n)?n:null}return null},e.prototype._setHover=function(t,e){var n=this.__model;t._startView==n?(t._startView._updateHover(e),null!=t._thumbView&&t._thumbView._updateHover(e)):t._endView==n?(t._endView._updateHover(e),null!=t._thumbView&&t._thumbView._updateHover(e)):t._thumbView==n&&t._thumbView._updateHover(e)},e.prototype._viewIsHover=function(t){return!(null==t._startView||!t._startView._isHover())||!(null==t._endView||!t._endView._isHover())||!(null==t._thumbView||!t._thumbView._isHover())},e.prototype._inSelectedRange=function(e,n){if(this._isDataScaleBar(n)){var i=this._dataScaleBarView(n),o=Math.min(i._rangeStart,i._rangeEnd),r=Math.max(i._rangeStart,i._rangeEnd);return i._orientation==t.Orientation.Horizontal?o<=e.x&&e.x<=r:o<=e.y&&e.y<=r}return!1},e.prototype._setDataScaleBarRange=function(e,n,i){var o=this.__trackRect;if(null!=o){if(n>i){var r=n;n=i,i=r}if(e._orientation==t.Orientation.Horizontal&&o.width>0){var l=o.width,a=n<=o.left?0:(n-o.left)/l,u=i>=o.right?1:(i-o.left)/l;e._setScaleRange(a,u)}else e._orientation==t.Orientation.Vertical&&o.height>0&&(l=o.height,a=n<=o.top?0:(n-o.top)/l,u=i>=o.bottom?1:(i-o.top)/l,e._setScaleRange(a,u))}},e.prototype.isModel=function(t,e){return!(null==e||!(this._isDataScaleBar(e)||this._isDataScaleThumHandler(e)||this._isDataScaleStartHandler(e)||this._isDataScaleEndHandler(e))||(this.__model=e,0))},e.prototype.onStart=function(t){var e=this._dataScaleBarView(this.__model);return this.__rangeStart=e._rangeStart,this.__rangeEnd=e._rangeEnd,this.__trackRect=e._trackRectangle,0},e.prototype.onDragging=function(e,n,i,o){var r=0,l=this._dataScaleBarView(this.__model),a=l._option,u=l._orientation==t.Orientation.Horizontal,s=a.enableSelecting,_=null!=a.scaleHandle&&a.scaleHandle.enabled,p=this._isDataScaleThumHandler(this.__model)||!_&&(this._isDataScaleStartHandler(this.__model)||this._isDataScaleEndHandler(this.__model))||!s&&this._inSelectedRange(e,this.__model),c=_&&this._isDataScaleStartHandler(this.__model),h=_&&this._isDataScaleEndHandler(this.__model),f=this.__trackRect;if(p){this._setHover(l,!0),l._showTextAnnotation=!0;var d=Math.abs(this.__rangeEnd-this.__rangeStart);if(u){var y=this.__rangeStart+i,g=this.__rangeEnd+i,m=d==f.width;y<f.left?(y=f.left,g=m?f.right:y+d):y>f.right&&(y=f.right,g=m?f.left:y-d),g<f.left?(g=f.left,y=m?f.right:g+d):g>f.right&&(g=f.right,y=m?f.left:g-d),this._setDataScaleBarRange(l,y,g)}else y=this.__rangeStart+o,g=this.__rangeEnd+o,m=d==f.height,y<f.top?(y=f.top,g=m?f.bottom:y+d):y>f.bottom&&(y=f.bottom,g=m?f.top:y-d),g<f.top?(g=f.top,y=m?f.bottom:g+d):g>f.bottom&&(g=f.bottom,y=m?f.top:g-d),this._setDataScaleBarRange(l,y,g);r=2}else if(c)this._setHover(l,!0),l._showTextAnnotation=!0,u?this._setDataScaleBarRange(l,this.__rangeStart+i,this.__rangeEnd):this._setDataScaleBarRange(l,this.__rangeStart+o,this.__rangeEnd),r=2;else if(h)this._setHover(l,!0),l._showTextAnnotation=!0,u?this._setDataScaleBarRange(l,this.__rangeStart,this.__rangeEnd+i):this._setDataScaleBarRange(l,this.__rangeStart,this.__rangeEnd+o),r=2;else if(s){if(u){var v=e.x-i,w=Math.min(v,e.x),b=Math.max(v,e.x);l._selectingRectangle=new t.core.Rect(w,f.top,b-w,f.height)}else{var P=e.y-o,S=Math.min(P,e.y),C=Math.max(P,e.y);l._selectingRectangle=new t.core.Rect(f.left,S,f.width,C-S)}r=2}return a.realtime||0==r||(l._invalidate(),r=1),r},e.prototype.onEnd=function(e,n,i,o){var r=this._dataScaleBarView(this.__model);r._selectingRectangle=null;var l=r._option,a=l.enableSelecting;if(this._isDataScaleBar(this.__model)){var u=0!=i||0!=o;if(r._orientation==t.Orientation.Horizontal){if(a&&u){var s=Math.min(e.x-i,e.x),_=Math.max(e.x-i,e.x);return this._setDataScaleBarRange(r,s,_),2}}else if(a&&u){var p=Math.min(e.y-o,e.y),c=Math.max(e.y-o,e.y);return this._setDataScaleBarRange(r,p,c),2}}return!this._viewIsHover(r)||(this._isDataScaleThumHandler(n)||this._isDataScaleStartHandler(n)||this._isDataScaleEndHandler(n))&&this._dataScaleBarView(n)==r?l.realtime?0:2:(this._setHover(r,!1),r._showTextAnnotation=!1,l.realtime?1:2)},e.prototype.dispose=function(){this.__model=null,this.__trackRect=null},e}(),e._DataScaleBarDraggingInteraction=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._getDraggingDataScaleBars=function(t){for(var e=[],n=0,i=t;n<i.length;n++)for(var o=function(t){t._option.enableMouseMove&&!e.some((function(e){return e._scaleRange==t._scaleRange}))&&e.push(t)},r=0,l=i[n]._dataScaleBarViews();r<l.length;r++)o(l[r]);return e},e.prototype._moveDataScaleRange=function(e,n,i){for(var o=0,r=e;o<r.length;o++){var l=r[o],a=l._getOwnerView();if(t._isCoordinateSystemView(a)){var u=a._getPlotListView()._getRectangle(),s=n/u.width,_=i/u.height,p=l._scaleRange,c=null==p._start?0:p._start,h=null==p._end?1:p._end,f=h-c;l._orientation==t.Orientation.Horizontal&&0!=s?(c-=s,h-=s):l._orientation==t.Orientation.Vertical&&0!=_&&(c-=_,h-=_),c<0?(p._start=0,p._end=p._start+f):h>1?(p._end=1,p._start=p._end-f):(p._start=c,p._end=h)}}},e.prototype.isModel=function(e,n){if(null==n)return!1;var i=t._ViewModelUtility._plotAreaModel(n);if(null==i)return!1;for(var o=[],r=new t.core.Point(e.x,e.y),l=0,a=i.plotsPanes;l<a.length;l++){var u=a[l].queryInterface("IPlotListLayoutView");if(null!=u)for(var s=0,_=u._coordinateSystemViews();s<_.length;s++){var p=_[s];t._isDataScaleXyCartesianCoordinateSystemView(p)&&p._getPlotListView()._getRectangle().contains(r)&&o.push(p)}}return this.__draggingDataScaleBars=this._getDraggingDataScaleBars(o),this.__draggingDataScaleBars.length>0},e.prototype.onStart=function(t){return this.__x=t.x,this.__y=t.y,0},e.prototype.onDragging=function(t,e,n,i){var o=t.x-this.__x,r=t.y-this.__y;return this.__x=t.x,this.__y=t.y,0!=o||0!=r?(this._moveDataScaleRange(this.__draggingDataScaleBars,o,r),2):0},e.prototype.onEnd=function(t,e,n,i){return this.__draggingDataScaleBars=null,this.__x=0,this.__y=0,0},e.prototype.dispose=function(){},e}(),e._PlotsDataScaleDraggingInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="DraggingInteraction",this.type=t._BuildInDraggingInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDraggingInteraction=function(e){return new t.models._PlotsDataScaleDraggingInteraction(e)},e.prototype.queryInterface=function(t){return"IDraggingInteractionBuilder"==t||"IPlugin"==t?this:null},e._plotsDataScaleDraggingInteractionBuilder=new e,e}();t._PlotsDataScaleDraggingInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._plotsDataScaleDraggingInteractionBuilder,!0)}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n)||this;return o.__hover=!1,o._option=i,o.__defaultStyle=null,o.__defaultHoverStyle=null,o._zLevel=t._DataScaleConstants._viewZLevel,o}return n(i,e),i.prototype._drawView=function(e,n){var o=this._getRectangle();e.beginTransform(),this._applyStyle(e);var r=i.__defaultLineLenthPercent;if(this._ownerView._orientation==t.Orientation.Horizontal){var l=o.left+o.width/2,a=o.top+o.height*r,u=o.bottom-o.height*r;if(e.drawLine(l,o.top,l,a),e.drawLine(l,u,l,o.bottom),!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var s=t._NativeExtension._toNonNullNumber(e.strokeWidth,0);e.drawRect(o.left+s/2,a+s/2,o.width-s,o.height*(1-2*r)-s)}}else{var _=o.top+o.height/2,p=o.left+o.width*r,c=o.right-o.width*r;e.drawLine(o.left,_,p,_),e.drawLine(c,_,o.right,_),(!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0)&&(s=t._NativeExtension._toNonNullNumber(e.strokeWidth,0),e.drawRect(p+s/2,o.top+s/2,o.width*(1-2*r)-s,o.height-s))}e.restoreTransform()},i.prototype._applyStyle=function(e){t._StyleUtility._copyAllStyle(e,this._defaultStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.style),this._isHover()&&(t._StyleUtility._applyStyle(e,this._defaultHoverStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.hoverStyle))},i.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle(),this.__defaultStyle.stroke=new t._CssColor("#acb8d1"),this.__defaultStyle.fill=new t._CssColor("#ffffff"),this.__defaultStyle.strokeWidth=1),this.__defaultStyle},i.prototype._defaultHoverStyle=function(){return null==this.__defaultHoverStyle&&(this.__defaultHoverStyle=t._StyleUtility._buildStyle(),this.__defaultHoverStyle.stroke=new t._CssColor("#8fb0f7")),this.__defaultHoverStyle},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,this.type);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t)},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.DataScaleScaleHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IDataScaleHandlerView"==t?this:null},i.__defaultWidhtHeightPrecent=.2,i.__defaultLineLenthPercent=.16,i}(t._RectangleView);t._DataScaleHandleView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildHoverInteraction=function(e){return new t.models._DataScaleBarHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e._dataScaleHoverInteractionBuilder=new e,e}();t._DataScaleBarHoverInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._dataScaleHoverInteractionBuilder,!0)}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._isDataScaleBar=function(e){return null!=e&&e.type==t.ElementType.DataScaleBar},e.prototype._isDataScaleThumHandler=function(e){return null!=e&&e.type==t.ElementType.DataScaleThumbHandler},e.prototype._isDataScaleStartHandler=function(e){if(null!=e&&e.type==t.ElementType.DataScaleScaleHandler){var n=this._dataScaleBarView(e);return null!=n&&n._startView==e}return!1},e.prototype._isDataScaleEndHandler=function(e){if(null!=e&&e.type==t.ElementType.DataScaleScaleHandler){var n=this._dataScaleBarView(e);return null!=n&&n._endView==e}return!1},e.prototype._dataScaleBarView=function(e){if(null==e)return null;if(e.type==t.ElementType.DataScaleBar)return t._isDataScaleBarView(e)?e:null;if(e.type==t.ElementType.DataScaleScaleHandler||e.type==t.ElementType.DataScaleThumbHandler){var n=e.parent;return t._isDataScaleBarView(n)?n:null}return null},e.prototype._setHover=function(t,e){var n=this.__model,i=!1;return t._startView==n?t._startView._isHover()!=e&&(t._startView._updateHover(e),null!=t._thumbView&&t._thumbView._updateHover(e),i=!0):t._endView==n?t._endView._isHover()!=e&&(t._endView._updateHover(e),null!=t._thumbView&&t._thumbView._updateHover(e),i=!0):t._thumbView==n&&t._thumbView._isHover()!=e&&(t._thumbView._updateHover(e),i=!0),i},e.prototype._setCursor=function(e){var n=t._DvViewModelUtility._toDvView(this._control.model);if(null!=n){var i=t._DvViewUtility._elementProxy(n);null!=i&&i._setCursor(e)}this.__cursor=e},e.prototype._getCursor=function(){return this.__cursor},e.prototype._showTextAnnotation=function(){if(this._isDataScaleBar(this.__model)){var t=this._getCursor();return"ew-resize"==t||"ns-resize"==t}return!0},e.prototype._setHostElementCursor=function(e){var n=this._dataScaleBarView(this.__model);if(null!=n)if(this._isDataScaleBar(this.__model))if(n._option.enableSelecting)this._setCursor("crosshair");else{var i=Math.min(n._rangeStart,n._rangeEnd),o=Math.max(n._rangeStart,n._rangeEnd);n._orientation==t.Orientation.Horizontal?i<=e.x&&e.x<=o?this._setCursor("ew-resize"):this._setCursor("pointer"):i<=e.y&&e.y<=o?this._setCursor("ns-resize"):this._setCursor("pointer")}else n._orientation==t.Orientation.Horizontal?this._setCursor("ew-resize"):this._setCursor("ns-resize")},e.prototype._doHoving=function(t){this._setHostElementCursor(t);var e=this._dataScaleBarView(this.__model);if(null==e)return!1;var n=this._setHover(e,!0),i=this._showTextAnnotation();return e._showTextAnnotation!=i&&(e._showTextAnnotation=i,n=!0),n},Object.defineProperty(e.prototype,"name",{get:function(){return"DataScaleBarHover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this.__model},enumerable:!1,configurable:!0}),e.prototype.hover=function(t,e){return!(null==e||!(this._isDataScaleBar(e)||this._isDataScaleThumHandler(e)||this._isDataScaleStartHandler(e)||this._isDataScaleEndHandler(e))||(this.__model=e,0))},e.prototype.isModel=function(t,e){return this.__model==e},e.prototype.onEnter=function(t){return this._doHoving(t)?1:0},e.prototype.onLeave=function(t){this._setCursor("default");var e=this._dataScaleBarView(this.__model),n=this._setHover(e,!1);return e._showTextAnnotation&&(e._showTextAnnotation=!1,n=!0),n?1:0},e.prototype.onMove=function(t){return this._doHoving(t)?1:0},e.prototype.dispose=function(){},e}(),e._DataScaleBarHoverInteraction=n}(t||(t={})),function(t){var e=function(){this._start=null,this._end=null,this._axisNames=[],this._dataScaleOptions=[]};t._DataScaleRange=e}(t||(t={})),function(t){var e=function(e){function i(n,i){var o=e.call(this,n)||this;return o.__hover=!1,o._option=i,o.__defaultStyle=null,o.__defaultHoverStyle=null,o._zLevel=t._DataScaleConstants._viewZLevel,o}return n(i,e),i.prototype._drawView=function(e,n){var o=this._getRectangle();if(e.beginTransform(),this._applyStyle(e),!t._ColorUtility._isTransparent(e.fill)||null!=e.strokeWidth&&e.strokeWidth>0){var r=t._NativeExtension._toNonNullNumber(e.strokeWidth,0);e.drawRect(o.left+r/2,o.top+r/2,o.width-r,o.height-r)}e.stroke=new t._CssColor("#ffffff");var l=i.__defaultSpacePercent;if(this._ownerView._orientation==t.Orientation.Horizontal){var a=2*(r=o.height/5),u=o.left+o.width/2,s=o.top+o.height*l,_=o.bottom-o.height*l;e.strokeWidth=r,e.drawLine(u,s,u,_),e.drawLine(u-a,s,u-a,_),e.drawLine(u+a,s,u+a,_)}else{a=2*(r=o.width/5);var p=o.top+o.height/2,c=o.left+o.width*l,h=o.right-o.width*l;e.strokeWidth=r,e.drawLine(c,p,h,p),e.drawLine(c,p-a,h,p-a),e.drawLine(c,p+a,h,p+a)}e.restoreTransform()},i.prototype._applyStyle=function(e){t._StyleUtility._copyAllStyle(e,this._defaultStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.style),this._isHover()&&(t._StyleUtility._applyStyle(e,this._defaultHoverStyle()),t._DataScaleStyleUtility._applyDataScaleOption(e,this._option.hoverStyle))},i.prototype._defaultStyle=function(){return null==this.__defaultStyle&&(this.__defaultStyle=t._StyleUtility._buildStyle(),this.__defaultStyle.fill=new t._CssColor("#d2dbee"),this.__defaultStyle.fillOpacity=.7,this.__defaultStyle.stroke=new t._CssColor("#666666"),this.__defaultStyle.strokeWidth=0),this.__defaultStyle},i.prototype._defaultHoverStyle=function(){return null==this.__defaultHoverStyle&&(this.__defaultHoverStyle=t._StyleUtility._buildStyle(),this.__defaultHoverStyle.fill=new t._CssColor("#8fb0f7"),this.__defaultHoverStyle.strokeWidth=0),this.__defaultHoverStyle},i.prototype._hitTest=function(n,i,o){if(this._zLevel!=i)return null;var r=this._getRectangle();if(null!=r&&r.contains(n)){var l=new t.HitTestResult(n,this,this,this.type);return null==o||null!=o&&o.predicate(l)?l:null}return e.prototype._hitTest.call(this,n,i,o)},i.prototype._isHover=function(){return this.__hover},i.prototype._updateHover=function(t){this.__hover!=t&&(this.__hover=t)},Object.defineProperty(i.prototype,"type",{get:function(){return t.ElementType.DataScaleThumbHandler},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this._ownerView},enumerable:!1,configurable:!0}),i.prototype.queryInterface=function(t){return"IDataScaleThumbHandlerView"==t?this:null},i.__defaultSpacePercent=.2,i}(t._RectangleView);t._DataScaleThumbHanldeView=e}(t||(t={})),function(t){var e=function(){function e(e,n,i,o){this.__scaleBarView=e,this.__isStart=n,this.__formatOption=i,this.__stringFormatting=null!=o?o:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,null)}return e.prototype.getTokenValue=function(e,n,i){if("value"==e){var o=this.__scaleBarView,r=o._dataScaledAxisViews()[0];if(null!=r&&null!=r._dataScaleViewport()){var l=r._dataScaleViewport();r._getScaleType()==t.ValueScaleType.Ordinal&&(l=t._DataScaleUtility._adjustOrdinalScaleRangeValue(l._min,l._max));var a=this.__isStart?l._min:l._max,u=r._itemValue(a);return new t.models._DataValueInfo(u,this.__stringFormatting)}var s=o._startValue,_=o._endValue,p=this.__isStart?s:_;return new t.models._DataValueInfo(p,this.__stringFormatting)}return null},e.prototype._getDefaultFormat=function(t){return null!=this.__formatOption?this.__formatOption.value:null},e.prototype._getDefaultFormatType=function(){return null!=this.__formatOption?this.__formatOption.type:null},e.prototype._getStringFormatting=function(){return this.__stringFormatting},e.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t?this:null},e}();t._DataScaleTooltipTextProxy=e}(t||(t={})),function(t){var e=function(){function e(){}return e._adjustOrdinalScaleRangeValue=function(e,n){var i=Math.round(e),o=Math.round(n);return new t._DataDomain(i,o)},e._adjustLinearSameMinMax=function(e,n){var i,o;return n>0?(o=n,i=0):e<0?(i=e,o=0):(o=.5,i=-.5),new t._DataDomain(i,o)},e._isAxisViewDataScaled=function(t,n){if(null!=n&&(null!=n._start&&0!=n._start||null!=n._end&&1!=n._end))return null!=n._start&&n._start>0||null!=n._end&&n._end<1;for(var i=0,o=this._findRelatedCartesianGroupViews(t);i<o.length;i++){var r=o[i];if(e._isAxisViewDataScaleMinMaxImpactedByGroupAnotherAxisView(t,r))return!0}return!1},e._findRelatedCartesianGroupViews=function(e){for(var n=[],i=0,o=e._getCoordinateSystemView()._getPlotViews();i<o.length;i++){var r=o[i];t._isCartesianPlotView(r)&&r._traverseCartesianGroupView((function(t,i){t._xAxisView()!=e&&t._yAxisView()!=e||n.push(t)}),null)}return n},e._isAxisViewDataScaleMinMaxImpactedByGroupAnotherAxisView=function(n,i){var o;if(o=i._xAxisView()==n?i._yAxisView():i._xAxisView(),!t._isDataScaleLineAxisView(o))return!1;var r=o,l=r._getCoordinateSystemView();if(!t._isDataScaleXyCartesianCoordinateSystemView(l))return!1;var a=l._getAxisViewDataScaleRange(r);if(null==a)return!1;if(!(null!=a._start&&0!=a._start||null!=a._end&&1!=a._end))return!1;var u=e._getAxisViewFilterMode(r);if(u!=t.FilterMode.Filter&&u!=t.FilterMode.WeakFilter||n._getScaleType()==t.ValueScaleType.Ordinal)return!1;var s=l._dataScaleBarViews(),_=t._NativeExtension._findIndex(s,(function(t){return t._dataScaledAxisViews().indexOf(r)>=0})),p=t._NativeExtension._findIndex(s,(function(t){return t._dataScaledAxisViews().indexOf(n)>=0}));return _>=0&&(_<p||-1==p)},e._getAxisViewFilterMode=function(e){var n=t.FilterMode.Filter,i=e._getCoordinateSystemView();if(t._isDataScaleXyCartesianCoordinateSystemView(i))for(var o=0,r=i._dataScaleBarViews();o<r.length;o++){var l=r[o];if(null!=t._Util.find(l._dataScaledAxisViews(),(function(t){return t==e}))){var a=l._option;return null!=a.filterMode?a.filterMode:n}}return n},e._getAxisValueOptionValue=function(e,n){return null==e?null:e.type==t.ValueOptionType.Number?e.value:e.type!=t.ValueOptionType.Date||n!=t.ValueScaleType.Linear&&n!=t.ValueScaleType.Date?null:e.value},e}();t._DataScaleUtility=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t){this._control=t}return e.prototype._calcDataScaleAcceleratdSpeed=function(t){var e,n=Math.abs(t);return e=n<200?.02:n<500?.03:n<1e3?.04:n<2e3?.06:.09,t<0?e:-e},e.prototype._changeDataScaleRange=function(t,e){for(var n=[],i=0,o=t._dataScaleBarViews();i<o.length;i++){var r=o[i];r._option.enableMouseWheel&&-1==n.indexOf(r._scaleRange)&&n.push(r._scaleRange)}for(var l=0,a=n;l<a.length;l++){var u=a[l],s=null==u._start?0:u._start,_=null==u._end?1:u._end,p=(s+_)/2,c=Math.max(0,Math.min(p,s+e)),h=Math.min(1,Math.max(p,_-e));u._start=c,u._end=h}},e.prototype.onWheel=function(e,n){var i=0,o=t._ViewModelUtility._plotAreaModel(n);if(null==o)return i;for(var r=new t.core.Point(e.x,e.y),l=e.originalEvent.deltaY,a=0,u=o.plotsPanes;a<u.length;a++){var s=u[a].queryInterface("IPlotListLayoutView");if(null!=s)for(var _=0,p=s._coordinateSystemViews();_<p.length;_++){var c=p[_];t._isDataScaleXyCartesianCoordinateSystemView(c)&&0!=l&&c._getPlotListView()._getRectangle().contains(r)&&(this._changeDataScaleRange(c,this._calcDataScaleAcceleratdSpeed(l)),i=2)}}return i},e.prototype.dispose=function(){},e}(),e._PlotsDataScaleWheelInteraction=n}(t||(t={})),function(t){var e=function(){function e(){this.name="WheelInteraction",this.type=t._BuildInWheelInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildWheelInteraction=function(e){return new t.models._PlotsDataScaleWheelInteraction(e)},e.prototype.queryInterface=function(t){return"IWheelInteractionBuilder"==t||"IPlugin"==t?this:null},e._plotsDataScaleWheelInteractionBuilder=new e,e}();t._PlotsDataScaleWheelInteractionBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._plotsDataScaleWheelInteractionBuilder,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._isXFilterOut=function(e,n,i){if(i==t.FilterMode.None)return!1;var o=n._min,r=n._max,l=e._data();if(!t._isCartesianPointDataModel(l))return!1;var a=e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._getXValue(l);return null!=a&&(null!=o&&a<o||null!=r&&a>r)},e.prototype._filterPointViews=function(e,n,i){var o=this;return i==t.FilterMode.None?[]:e.filter((function(t){return o._isXFilterOut(t,n,i)}))},e._defaultFilter=new e,e}();t._DataScaleXCartesianPointViewsFilter=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._isYFilterOut=function(e,n,i){if(i==t.FilterMode.None)return!1;var o=n._min,r=n._max,l=e._yValues();if(l.length>2)return this._isValuesFilterOut(l,i,o,r);var a=e._getCartesianSeriesView()._getCartesianGroupView(),u=e._data();if(!t._isCartesianPointDataModel(u))return!1;var s=a._getYValue(u),_=s.upperY,p=s.lowerY;if(t.models._isCartesianRangePointModel(e)||t._isRangeValuePointDataModel(u))return(c=[]).push(_),a._isPercentage()?null!=_&&null!=p&&c.push(_-p):a._isStack()?c.push(e.value):c.push(p),this._isValuesFilterOut(c,i,o,r);if(a._isStack()){var c=[];return i==t.FilterMode.Filter||i==t.FilterMode.WeakFilter?(c.push(_),a._isPercentage()?null!=_&&null!=p&&c.push(_-p):c.push(e.value)):i==t.FilterMode.Empty&&(c.push(_),"Bar"==e._getPlotView()._getDefinition()._plotOption.type&&(a._isPercentage()?null!=_&&null!=p&&c.push(_-p):c.push(e.value))),this._isValuesFilterOut(c,i,o,r)}return(c=[]).push(_),a._isPercentage()?null!=_&&null!=p&&c.push(_-p):c.push(e.value),this._isValuesFilterOut(c,i,o,r)},e.prototype._isValuesFilterOut=function(e,n,i,o){var r=e.filter((function(t){return null!=t&&!isNaN(t)}));if(0==r.length)return!1;if(n==t.FilterMode.Filter||n==t.FilterMode.Empty){for(var l=0,a=r;l<a.length;l++)if((_=a[l])<i||_>o)return!0;return!1}if(n==t.FilterMode.WeakFilter){if(1==r.length)return r[0]<i||r[0]>o;for(var u=0,s=r;u<s.length;u++){var _;if(i<=(_=s[u])&&_<=o)return!1}return!0}return!1},e.prototype._filterPointViews=function(e,n,i){var o=this;return i==t.FilterMode.None?[]:e.filter((function(t){return o._isYFilterOut(t,n,i)}))},e._defaultFilter=new e,e}();t._DataScaleYCartesianPointViewsFilter=e}(t||(t={})),t||(t={}),function(t){t._isDataScaleBarView=function(t){var e=t;return null!=e&&"function"==typeof e._setScaleRange&&"function"==typeof e._dataScaledAxisViews}}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__fill=null,o.__opacity=null,o.__strokeOpacity=null,o.__stroke=null,o.__strokeWidth=null,o.__strokeDasharray=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"fill",{get:function(){return this.__fill},set:function(t){this.__fill!=t&&(this.__fill=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){t=this.validate(t),this.__opacity!=t&&(this.__opacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeOpacity",{get:function(){return this.__strokeOpacity},set:function(t){t=this.validate(t),this.__strokeOpacity!=t&&(this.__strokeOpacity=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this.__stroke},set:function(t){this.__stroke!=t&&(this.__stroke=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this.__strokeWidth},set:function(t){this.__strokeWidth!=t&&(this.__strokeWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeDasharray",{get:function(){return this.__strokeDasharray},set:function(t){this.__strokeDasharray!=t&&(this.__strokeDasharray=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"fill",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"opacity",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"strokeOpacity",null),o([t.JsonConverterAttribute(t._ColorOptionConverter,!0)],i.prototype,"stroke",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"strokeWidth",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"strokeDasharray",null),i}(e._Option),e._DataScaleBarStyleOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__axisNames=[],r.__style=null,r.__height=null,r.__width=null,r.__left=null,r.__top=null,r.__right=null,r.__bottom=null,r.__hAlign=null,r.__vAlign=null,r.__orientation=null,r.__scaleHandle=new e._ScaleHandleOption,r.__thumbHandle=new e._ThumbHandleOption,r.__textAnnotation=new e._TextAnnotationOption,r.__start=null,r.__viewSize=null,r.__enableSelecting=!0,r.__selectedStyle=null,r.__selectingStyle=null,r.__filterMode=null,r.__enableMouseWheel=!1,r.__enableMouseMove=!1,r.__realtime=!0,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"axisNames",{get:function(){return this.__axisNames},set:function(t){this.__axisNames!=t&&(null==t&&(t=[]),this.__axisNames=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return this.__left},set:function(t){t=this.validate(t),this.__left!=t&&(this.__left=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.__top},set:function(t){t=this.validate(t),this.__top!=t&&(this.__top=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.__right},set:function(t){t=this.validate(t),this.__right!=t&&(this.__right=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.__bottom},set:function(t){t=this.validate(t),this.__bottom!=t&&(this.__bottom=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this.__orientation},set:function(t){null!=this.__orientation&&this.__orientation==t||(this.__orientation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleHandle",{get:function(){return this.__scaleHandle},set:function(t){this.__scaleHandle!=t&&(this.__scaleHandle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"thumbHandle",{get:function(){return this.__thumbHandle},set:function(t){this.__thumbHandle!=t&&(this.__thumbHandle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textAnnotation",{get:function(){return this.__textAnnotation},set:function(t){this.__textAnnotation!=t&&(this.__textAnnotation=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"start",{get:function(){return this.__start},set:function(t){t=this.validate(t),this.__start!=t&&(this.__start=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"viewSize",{get:function(){return this.__viewSize},set:function(t){t=this.validate(t),this.__viewSize!=t&&(this.__viewSize=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"enableSelecting",{get:function(){return this.__enableSelecting},set:function(t){this.__enableSelecting!=t&&(this.__enableSelecting=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectedStyle",{get:function(){return this.__selectedStyle},set:function(t){this.__selectedStyle!=t&&(this.__selectedStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectingStyle",{get:function(){return this.__selectingStyle},set:function(t){this.__selectingStyle!=t&&(this.__selectingStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"filterMode",{get:function(){return this.__filterMode},set:function(t){this.__filterMode!=t&&(this.__filterMode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"enableMouseWheel",{get:function(){return this.__enableMouseWheel},set:function(t){this.__enableMouseWheel!=t&&(this.__enableMouseWheel=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"enableMouseMove",{get:function(){return this.__enableMouseMove},set:function(t){this.__enableMouseMove!=t&&(this.__enableMouseMove=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realtime",{get:function(){return this.__realtime},set:function(t){this.__realtime!=t&&(this.__realtime=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NameArrayOptionConverter,!0)],r.prototype,"axisNames",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataScaleBarStyleOption",!1,!0)],r.prototype,"style",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"height",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"width",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"left",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"top",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"right",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,1,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,1)],r.prototype,"bottom",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.HAlign)],r.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign)],r.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Orientation)],r.prototype,"orientation",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_ScaleHandleOption",!1,!0)],r.prototype,"scaleHandle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_ThumbHandleOption",!1,!0)],r.prototype,"thumbHandle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextAnnotationOption",!1,!0)],r.prototype,"textAnnotation",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1)],r.prototype,"start",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._ViewSizeValidator,!0)],r.prototype,"viewSize",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"enableSelecting",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataScaleBarStyleOption",!1,!0)],r.prototype,"selectedStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataScaleBarStyleOption",!1,!0)],r.prototype,"selectingStyle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.FilterMode)],r.prototype,"filterMode",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"enableMouseWheel",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"enableMouseMove",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"realtime",null),r}(e._Option),e._DataScaleOption=i}(t||(t={})),function(t){var e=function(){function e(){}return e._applyDataScaleOption=function(t,e){this._applyDataScaleFillOption(t,e),this._applyDataScaleBorderOption(t,e)},e._applyDataScaleBorderOption=function(e,n){null!=n&&(null!=n.stroke&&(e.stroke=t._OptionUtility._colorFromOption(n.stroke)),null!=n.strokeOpacity&&(e.strokeOpacity=n.strokeOpacity),null!=n.strokeWidth&&(e.strokeWidth=n.strokeWidth),null!=n.strokeDasharray&&(e.strokeDasharray=n.strokeDasharray))},e._applyDataScaleFillOption=function(e,n){null!=n&&(null!=n.fill&&(e.fill=t._OptionUtility._colorFromOption(n.fill)),null!=n.opacity&&(e.fillOpacity=n.opacity))},e}();t._DataScaleStyleUtility=e}(t||(t={})),function(t){!function(t){t[t.Filter=0]="Filter",t[t.WeakFilter=1]="WeakFilter",t[t.Empty=2]="Empty",t[t.None=3]="None"}(t.FilterMode||(t.FilterMode={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__enabled=!0,o.__height=null,o.__style=null,o.__hoverStyle=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"enabled",{get:function(){return this.__enabled},set:function(t){this.__enabled!=t&&(this.__enabled=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"handleSize",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!==t&&(this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],i.prototype,"enabled",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!1,0,null,!0,!1),t.ValidatorAttribute(t._ValueOptionWithPixelPercentageValidator,!1,0,null)],i.prototype,"handleSize",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataScaleBarStyleOption",!1,!0)],i.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataScaleBarStyleOption",!1,!0)],i.prototype,"hoverStyle",null),i}(e._Option),e._ScaleHandleOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__height=null,o.__style=null,o.__hoverStyle=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"handleSize",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!==t&&(this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hoverStyle",{get:function(){return this.__hoverStyle},set:function(t){this.__hoverStyle!=t&&(this.__hoverStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],i.prototype,"handleSize",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataScaleBarStyleOption",!1,!0)],i.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_DataScaleBarStyleOption",!1,!0)],i.prototype,"hoverStyle",null),i}(e._Option),e._ThumbHandleOption=i}(t||(t={})),function(t){var e,n,i;e=t.plugins||(t.plugins={}),n=function(){function t(){this._visualViewOrderComparer=null,this._changeVisualViewOrder=!1}return t._excelHoverBehaviorPolicy=new t,t}(),i=function(){function e(){this.name="ExcelHoverBehaviorPolicy",this.type=t._BuildInHoverBehaviorPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._buildHoverBehaviorPolicy=function(t){return n._excelHoverBehaviorPolicy},e.prototype.queryInterface=function(t){return"IHoverBehaviorPolicyBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.ExcelHoverBehaviorPolicyPlugin=i}(t||(t={})),function(t){var e=function(e){function i(t,n,i){return e.call(this,t,n,i)||this}return n(i,e),i.prototype._buildLegendKey=function(e,n){return t._isCartesianPointView(e)?e._getCartesianSeriesView()._getCartesianSeriesDataModel()._index():this._buildLegendValue(e._data(),n)},i.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._legend,e,n)._getPointViews(this._plotAreaView,this._legend),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._plotAreaView._getDefinition()._pluginCollection),r=[],l=0,a=i;l<a.length;l++){var u=a[l];if(u._data()._dataSlices._length>0){var s=this._buildLegendKey(u,this._definition),_=this._legend._dataPointKeysMap._get(s);if(null==_){_=[],this._legend._dataPointKeysMap._set(s,_);var p=this._buildLegendValue(u._data(),this._definition),c=null!=o?o.format(this._definition._fieldDefinition()._format,p,null):p.toString(),h=new t.models._ItemizedValuePointLegendItem(this._legend,c,s,p,o);h._setSymbol(this._getLegendSymbol()),r.push(h)}_.push(u)}}var f=this._legend.__items;f.push.apply(f,r)},i}(t._ValueLegendInitializer);t._ExcelLegendInitializer=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ExcelLegendInitializer",this.type=t._BuildInLegendInitializerBuilderCollection._pluginType,this.priority=0}return e.prototype._buildLegendInitializer=function(e,n){if(t._isSingleLegendDataModel(n)){var i=n,o=i._definition;if(i instanceof t._ValueDataPointItemizedLegendDataModel&&o instanceof t._SingleDataFieldLegendEncodingDefinition)return new t._ExcelLegendInitializer(e,i,o)}else if(t._isMergedLegendDataModel(n)&&n instanceof t._MergedValueLegendDataModel){var r=n._definitions;return new t._ExcelMergedValueLegendInitializer(e,n,r)}return null},e.prototype.queryInterface=function(t){return"ILegendInitializerBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ExcelLegendInitializerBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildLegendKey=function(e,n){return t._isCartesianPointView(e)?e._getCartesianSeriesView()._getCartesianSeriesDataModel()._index():this._buildLegendValue(e._data(),n)},i.prototype._setUp=function(){for(var e=this._plotAreaView._getDefinition()._plotAreaOption.plugins,n=this._plotAreaView._getDefinition()._pluginCollection,i=t._BuildInLegendDataPointsPolicyBuilderCollection._defaultBuildInLegendDataPointsPolicyBuilders()._dataPointsPolicy(this._mergedLegend,e,n)._getPointViews(this._plotAreaView,this._mergedLegend),o=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._plotAreaView._getDefinition()._pluginCollection),r=[],l=0,a=this._definitions;l<a.length;l++)for(var u=a[l],s=0,_=i;s<_.length;s++){var p=_[s];if(p._data()._dataSlices._length>0&&p._getPlotView()._getDefinition()==u._plotDefinition){var c=this._buildLegendKey(p,u),h=this._mergedLegend._dataPointKeysMap._get(c);if(null==h){h=[],this._mergedLegend._dataPointKeysMap._set(c,h);var f=this._buildLegendValue(p._data(),u),d=null!=o?o.format(u._fieldDefinition()._format,f,null):f.toString(),y=new t.models._ItemizedValuePointLegendItem(this._mergedLegend,d,c,f,o);y._setSymbol(this._getLegendSymbol()),r.push(y)}h.push(p)}}var g=this._mergedLegend.__items;g.push.apply(g,r)},i}(t._MergedValueLegendInitializer);t._ExcelMergedValueLegendInitializer=e}(t||(t={})),function(t){var e,i;e=t.plugins||(t.plugins={}),i=function(e){function i(){var n=e.call(this)||this;return n.name="ExcelLinearScalePolicy",n.type=t._BuildInAxisScalePolicyBuilderCollection._pluginType,n.priority=0,n}return n(i,e),i.prototype.calculateMinMax=function(e,n){null==e&&null==n&&(e=0,n=0);var i=null==e?0:e,o=null==n?0:n,r=o-i;return o>=0&&i>=0?(6*r>o?i=0:i-=.5*r,o+=.05*r):o<=0&&i<=0?(6*r>-i?o=0:o+=.5*r,i-=.05*r):(o+=.05*r,i-=.05*r),new t._DataDomain(i,o)},i.prototype.calculateTicks=function(t,e,n,i){var o=[];if(null!=t&&null!=e&&!isNaN(t)&&!isNaN(e)&&t!=e)for(var r=t;r-e<=i;){o.push(r);var l=r+n;if(l==r)break;r=l}return o},i.prototype.buildAxisScalePolicy=function(e,n){return n==t.ValueScaleType.Linear?this:null},i.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},i.defaultPlugin=new i,i}(t._BaseLinearAxisScalePolicy),e.ExcelLinearAxisScalePolicyPlugin=i}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this,t)||this;return n.__segment=null,n}return n(i,e),i.prototype.hover=function(n,i){var o=e.prototype.hover.call(this,n,i);return o&&(this.__segment=this._querySegment(i,new t.core.Point(n.x,n.y))),o},i.prototype.isModel=function(n,i){if(e.prototype.isModel.call(this,n,i)){var o=this._querySegment(i,new t.core.Point(n.x,n.y));return null!=o&&o.equalsWith(this.__segment)}return!1},i.prototype.onEnter=function(e){var n=this.model._tooltipContent();if(null!=this.__segment&&t._isCartesianSeriesView(this.model)&&(t._isLineCartesianSeriesView(this.model)?n=this.__segment._next._tooltipContent():t._isAreaCartesianSeriesView(this.model)&&(n=this.__segment._prev._tooltipContent())),null!=n){var i=new t.models._TextHtmlContent(n.text,n.style);this._showTooltip(i,new t.core.Point(e.originalEvent.clientX+2.5,e.originalEvent.clientY))}return 0},i.prototype._querySegment=function(e,n){if(t._isCartesianSeriesView(e))if(t._isLineCartesianSeriesView(e)){if(null!=(i=e._findSegment(n)))return i}else if(t._isAreaCartesianSeriesView(e)){var i;if(null!=(i=e._findSegment(n)))return i}return null},i}(t.models._TooltipHoverInteraction);t._ExcelTooltipHoverInteraction=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="ExcelTooltipHoverInteraction",this.type=t._BuildInHoverInteractionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildHoverInteraction=function(e){return new t._ExcelTooltipHoverInteraction(e)},e.prototype.queryInterface=function(t){return"IHoverInteractionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.ExcelTooltipHoverInteractionPlugin=n}(t||(t={})),function(t){var e,i,o;e=t.plugins||(t.plugins={}),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._stack=function(e,n,i){var o=e.slice().reverse();t.prototype._stack.call(this,o,n,i)},e}(t._BarPlotLayout),o=function(){function e(){this.name="FunnelReverse",this.type=t._BuildInCartesianPlotLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype.buildPlotLayout=function(e,n){var o=this;if(null!=n&&n.length>0&&n.filter((function(t){return t.type===o.type&&t.name===o.name})).length>0&&t._isBarCartesianPlotView(e)){var r=e;if(r._isFunnel()&&r._isStack())return new i}return null},e.prototype.queryInterface=function(t){return"ICartesianPlotLayoutBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.FunnelPlotLayoutPlugin=o}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),Object.defineProperty(i.prototype,"dataLabelCloneMarker",{get:function(){return t.options._GCESDataLabelOptionCloneMarker._gcesDataLabelOptionCloneMarker},enumerable:!1,configurable:!0}),i.prototype._getDataLabelView=function(t){return null},i.prototype._buildOverlayView=function(e){if(t._isCartesianPlotView(e)&&t._isBarCartesianPlotView(e)){var n=e;if(n._isStack())return new t._GcesBarCartesianClusterDataLabelOverlayView(n,this)}return null},i}(t._BaseDataLabelDefinition);t._GcesBarCartesianClusterDataLabelDefinition=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GCESClusterLabel",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildDataLabelDefinition=function(e,n,i){if(n.scope==t._Constants.ClusterTextScope&&null!=i){if("Map"==e._getType()||"Candlestick"==e._getType()||"HighLowOpenClose"==e._getType())return null;var o=i.arguments,r=t.options._isGCESDataLabelOption(o)?o:new t.options._GCESDataLabelOption(null!=o?o.option():null);if(r.scope==t._Constants.ClusterTextScope)return new t._GcesBarCartesianClusterDataLabelDefinition(e,r)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GCESClusterLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,(function(){return n}),i.connectingLine)||this;return o.option=i,o.__plotView=t,o}return n(i,e),Object.defineProperty(i.prototype,"shape",{get:function(){return this.__shape},set:function(t){null!=t&&t==this.__shape||(this.__shape=t,null==t?this._getContent()._setImageShape(null):this._getContent()._setImageShape(this.__plotView._getDefinition()._imageProvider.getImageInfo(t)))},enumerable:!1,configurable:!0}),i.prototype._layoutLabel=function(n,i){e.prototype._layoutLabel.call(this,n,i),this.option.connectingLineType===t.ConnectingLineType.Auto&&(this.showConnectingLine=!1)},i}(t._BaseDataLabelFrame);t._GCESClusterLabelFrame=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this)||this;return o.__view=t,o.__option=n,o.__shape=i,o}return n(i,e),i.prototype._filter=function(e){return this.__view instanceof t._StackRadialBarCluster},i.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this.__view,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle)},i.prototype._swapped=function(e){return!!t._isCartesianPlotView(e)&&e._swapAxes()},i.prototype._getPointInfo=function(e,n,i,o){var r=e._plotView();if(!e._visible())return null;if(null==e._center()||null==e._radius()||null==e._innerRadius()||null==e._startAngle()||null==e._sweep())return null;var l=e._center(),a=e._radius(),u=e._innerRadius(),s=e._startAngle(),_=e._sweep(),p=s+_/2,c=(a+u)/2,h=this._swapped(r),f=t.GCESClusterLabelUtil.xAxisPositionValue(e,n),d=t.GCESClusterLabelUtil.yAxisPositionValue(e,i);0!=f&&(f>0?h?p=s+_:c=a:h?p=s:c=u),0!=d&&(d>0?h?c=a:p=s+_:h?c=u:p=s),0==c&&(c=.001);var y=null,g=new t.core.Point(l.x+Math.cos(p)*c,l.y+Math.sin(p)*c),m=new t.Vector(Math.cos(p),Math.sin(p)),v=new t.Vector(Math.cos(p+Math.PI/2),Math.sin(p+Math.PI/2));if(h){var w=v;v=m,m=w}if(t.GCESClusterLabelUtil.xAxisFarDirection(e)<0&&(m=m.reverse()),t.GCESClusterLabelUtil.yAxisFarDirection(e)<0&&(v=v.reverse()),o==t.DataLabelAngleType.Horizontal)this.__shape._setJunctionLayouter(new t._GCESRadialHorizontalLabelJunctionLayouter(this.__option,this.__shape)),(y=new t._GCESPointAttachmenInfo(g,t.Vector.horizon(),t.Vector.vertical(),m,v)).radialAngle=p;else{var b=new t.Vector(Math.cos(p),Math.sin(p)),P=new t.Vector(Math.cos(p-Math.PI/2),Math.sin(p-Math.PI/2)),S=t.Vector.angle(b,t.Vector.horizon()),C=0;t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,h)&&(C+=-Math.PI/2),Math.cos(S+C)<0&&(C+=Math.PI),this.__shape._setAngle(C),this.__shape._setJunctionLayouter(new t._GCESRadialLabelJunctionLayouter(this.__option,this.__shape)),y=new t._GCESPointAttachmenInfo(g,b,P,m,v)}return y.swapped=h,y.xposition=f,y.yposition=d,y},i}(t._PointAttachmentAgent);t._GCESRadialClusterAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this)||this;return r.__option=i,r.__cluster=n,r.__shape=o,r.__shape._setJunctionLayouter(new t._GCESLabelJunctionLayouter(r.__option,r.__shape)),r}return n(i,e),i.prototype._filter=function(e){return this.__cluster instanceof t._StackBarCluster},i.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this.__cluster,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle)},i.prototype._getPointInfo=function(e,n,i,o){var r=e._plotView(),l=e._rectangle();if(!e._visible())return null;var a=l.center,u=r._swapAxes(),s=t.GCESClusterLabelUtil.xAxisPositionValue(e,n),_=t.GCESClusterLabelUtil.yAxisPositionValue(e,i);0!=s&&(s>0?u?a.y=l.top:a.x=l.right:u?a.y=l.bottom:a.x=l.left),0!=_&&(_>0?u?a.x=l.right:a.y=l.top:u?a.x=l.left:a.y=l.bottom),o!=t.DataLabelAngleType.Horizontal&&t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,u)&&this.__shape._setAngle(-Math.PI/2);var p=t.Vector.horizon(),c=t.Vector.vertical();if(u){var h=p;p=c,c=h}t.GCESClusterLabelUtil.xAxisFarDirection(e)<0&&(p=p.reverse()),t.GCESClusterLabelUtil.yAxisFarDirection(e)<0&&(c=c.reverse());var f=new t._GCESPointAttachmenInfo(a,t.Vector.horizon(),t.Vector.vertical(),p,c);return f.swapped=u,f.xposition=s,f.yposition=_,f},i}(t._PointAttachmentAgent);t._GCESRectClusterAttachmentAgent=e}(t||(t={})),function(t){var e=function(){function e(){}return e.xAxisPositionValue=function(e,n){return t.GCESLabelUtil.xAxisPositionValue(e._top(),n)},e.yAxisPositionValue=function(e,n){if(n==t.DataLabelAxisPlacement.Center)return 0;var i=e._sum()>=0;return e._plotView()._yAxisView()._scaleModel._getReversed()?t.GCESLabelUtil.xor(!i,t.DataLabelAxisPlacement.Far==n)?-1:1:t.GCESLabelUtil.xor(i,t.DataLabelAxisPlacement.Far==n)?-1:1},e.yAxisFarDirection=function(t){var e=t._sum()>=0;return t._plotView()._yAxisView()._scaleModel._getReversed()&&(e=!e),e?1:-1},e.xAxisFarDirection=function(e){return t.GCESLabelUtil.xAxisFarDirection(e._top())},e.extractStackClusterView=function(e){if(e._isStack()&&t._isBarCartesianPlotView(e)){var n=e,i=this._getCluster(n);return null==i?null:n._isRadialBar()?i.map((function(e){return new t._StackRadialBarCluster(n,e)})):i.map((function(e){return new t._StackBarCluster(n,e)}))}return null},e._getCluster=function(e){for(var n=new t._Map,i=[],o=0,r=e._getPointViews();o<r.length;o++){var l=r[o],a=l._data().xDimensionValue._value(),u=n._get(a);null==u&&(u=[],n._set(a,u),i.push(a)),u.push(l)}return i.length>0?i.map((function(t){return n._get(t)})):null},e}();t.GCESClusterLabelUtil=e}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(e,n){this.__clusterView=e,this.__stringFormatting=null!=n?n:t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,e._plotView()._getDefinition()._pluginCollection)}return n.prototype._getDefaultFormat=function(e){return null!=this.__clusterView._plotView()._dataPointDataLabelOption().format&&null!=this.__clusterView._plotView()._dataPointDataLabelOption().format.value?this.__clusterView._plotView()._dataPointDataLabelOption().format.value:this.__stringFormatting.defaultFormat(t.core.DataType.Number,!1)},n.prototype._getDefaultFormatType=function(){return null},n.prototype._getStringFormatting=function(){return this.__stringFormatting},n.prototype.getTokenValue=function(t,n,i){return null==t?null:"Sum"==t?new e._DataValueInfo(this.__clusterView._sum(),this.__stringFormatting):null},n.prototype.getIdentifierValue=function(e){return"current"==e?this.__clusterView:e.length>8&&"current."==e.substring(0,8)&&null!=this.__clusterView?new t._AnyValueBinding(e.substring(8))._getValue(this.__clusterView):null},n.prototype.queryInterface=function(t){return"ITextFormatProxy"===t||"ITokenProxy"===t||"IIdentifierProxy"===t?this:null},n}(),e._ClusterLabelTextProxy=n}(t||(t={})),function(t){var e=function(){function t(t,e){this.__plotView=t,this.__cluster=e}return t.prototype._visible=function(){return this.__cluster.some((function(t){return t._isVisible()}))},t.prototype._plotView=function(){return this.__plotView},t.prototype._points=function(){return this.__cluster.filter((function(t){return t._isVisible()}))},t.prototype._top=function(){for(var e=this._points(),n=t._getStackChartYValue(e[0]),i=e[0],o=0,r=this._points();o<r.length;o++){var l=r[o],a=t._getStackChartYValue(l);a>=n&&(i=l,n=a)}return i},t.prototype._bottom=function(){for(var e=this._points(),n=t._getStackChartYValue(e[0]),i=e[0],o=0,r=this._points();o<r.length;o++){var l=r[o],a=t._getStackChartYValue(l);a<n&&(i=l,n=a)}return i},t.prototype._sum=function(){for(var e=0,n=0,i=this._points();n<i.length;n++){var o=i[n];e+=t._getStackChartOriginValue(o)}return e},t._getStackChartYValue=function(t){var e=t._data().queryInterface("INumberStackValue");return null!=e?e.value:0},t._getStackChartOriginValue=function(t){var e=t._data().queryInterface("INumberValue");if(null!=e)return e.value;var n=t._data().queryInterface("INumberRangeValue");return null!=n?n.distance:0},t}();t._StackClusterView=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e.prototype._center=function(){var t=this._top()._getDonutShape();return null!=t?t.center:null},e.prototype._startAngle=function(){var t=null;return null!=(t=this._plotView()._verticalAxisView()._scaleModel._getReversed()?this._top()._getDonutShape():this._bottom()._getDonutShape())?t.startAngle:null},e.prototype._radius=function(){var t=null;return null!=(t=this._plotView()._horizontalAxisView()._scaleModel._getReversed()?this._bottom()._getDonutShape():this._top()._getDonutShape())?t.radius:null},e.prototype._innerRadius=function(){var t=null;return null!=(t=this._plotView()._horizontalAxisView()._scaleModel._getReversed()?this._top()._getDonutShape():this._bottom()._getDonutShape())?t.innerRadius:null},e.prototype._sweep=function(){if(this._plotView()._swapAxes())return null!=(i=this._top()._getDonutShape())?i.sweepAngle:null;for(var t=0,e=0,n=this._points();e<n.length;e++){var i;null!=(i=n[e]._getDonutShape())&&(t+=i.sweepAngle)}return t},e}(t._StackClusterView);t._StackRadialBarCluster=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._rectangle=function(){for(var e=null,n=0,i=this._points();n<i.length;n++){var o=i[n];e=null==e?o._rectangle():t._RectangleUtility._unionOfRectangles(e,o._rectangle())}return e},i}(t._StackClusterView);t._StackBarCluster=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__labelViews=[],i}return n(i,e),i.prototype._gcesClusterLabelOverlayDefinition=function(){return this._definition},i.prototype._buildOverlayItemViews=function(){},i.prototype.useData=function(){this.__labelViews=this._createDataLabelViews()},i.prototype._createDataLabelViews=function(){var e=[],n=t.GCESClusterLabelUtil.extractStackClusterView(this._ownerView);if(null!=n)for(var i=0,o=n;i<o.length;i++){var r=o[i],l=this._createDataLabelView(r);null!=l&&e.push(l)}return e},i.prototype._createDataLabelView=function(e){var n=t._BuildInStringFormatBuilderCollection._defaultBuildInstringFormatBuilders()._stringFormating(null,this._definition._pluginCollection);return this._getDataLabelView(e,n)},i.prototype._getDataLabelView=function(e,n){if(!e._visible())return null;var i=this._gcesClusterLabelOverlayDefinition()._option,o=this._getContentText(e,i,n);if(null==o)return null;var r=this._createShapePrototype(o,i),l=this._createDataLabelFrame(e._plotView(),o,r,i);if(null!=l){var a=new t.AttachmentAgentManager(new t._GCESRadialClusterAttachmentAgent(e,i,r),new t._GCESRectClusterAttachmentAgent(e,i,r));if(null==r||null==a)return null;l._bind(a)}return l},i.prototype._getContentText=function(e,n,i){var o=null==n.template?"{Sum}":n.template,r=t._TemplateSyntaxEngine._defaultSyntaxEngine(),l=r.parse(o),a=new t.models._ClusterLabelTextProxy(e,i),u=this._ownerView._getDefinition()._plotConfigOption.plugins,s=this._ownerView._getDefinition()._pluginCollection,_=r.evaluate(l,a,u,s),p=this._toLines(_);return null!=p&&p.length>0?p.join("\n"):null},i.prototype._toLines=function(e){var n=[];if(null!=e){n=e.split("\n");for(var i=0;i<n.length;i++){for(var o="",r=0,l=t.models.StringObject._parse(n[i]);r<l.length;r++)o+=l[r].value;n[i]=o}}return n},i.prototype._createDataLabelFrame=function(e,n,i,o){var r=new t._GCESClusterLabelFrame(e,n,o);r._setContent(i);var l=t.AnnotationLib._parseCoordinateValue(o.offset);return null!=l&&(r.xOffset=l.x,r.yOffset=l.y),null!=o.shape.content&&(r.shape=o.shape.content),r},i.prototype._createShapePrototype=function(e,n){var i=new t._GCESLabelShape(e);return i.textStyle=n.textStyle,i.backgroundStyle=n.style,null!=n.shape.labelCenter&&i._setShapeLocation(n.shape.labelCenter[0],n.shape.labelCenter[1]),null!=n.shape.shapeScale&&i._setShapeScale(n.shape.shapeScale[0],n.shape.shapeScale[1]),i._position(n.position),i},i.prototype._layoutContent=function(t,e){for(var n=0,i=this.__labelViews;n<i.length;n++)i[n]._layoutLabel(t,e);this._autoPositionLayout(t,this._ownerView,this.__labelViews,e),this._clippedLayout(t,this._ownerView,this.__labelViews,e)},i.prototype._drawView=function(e,n){if(n._renderLabel){t._LabelOverlapChecker._checkOverlap(n,this.__labelViews,this._ownerView._dataPointDataLabelOption().overlappingLabels);for(var i=0,o=this.__labelViews;i<o.length;i++){var r=o[i];r._getOverlap()||r._render(e,n)}}},i.prototype._hitTest=function(t,e,n){if(this._zLevel!=e)return null;for(var i=0,o=this.__labelViews.concat().reverse();i<o.length;i++){var r=o[i];if(null!=r&&!r._getOverlap()){var l=r._hitTest(t,e,n);if(null!=l)return l}}return null},i.prototype.box=function(){for(var e=[],n=0,i=this.__labelViews;n<i.length;n++){var o=i[n].queryInterface("IBoxBounded");null!=o&&e.push(o.box())}return e.length>0?t._RectangleUtility._unionOfRectangles.apply(t._RectangleUtility,e):null},i.prototype.queryInterface=function(n){return"IBoxBounded"===n?t.BoxBounded._pack(this):e.prototype.queryInterface.call(this,n)},i.prototype._isCartesianPlot=function(e){if(t._isCartesianPlotView(e)){var n=e._getDefinition()._plotConfigOption.axisMode;return n!=t.AxisMode.Polygonal&&n!=t.AxisMode.Radial}return!1},i.prototype._autoPositionLayout=function(e,n,i,o){if(this._isCartesianPlot(n)){var r=o._innerPlotAreaRect;if(null!=r)for(var l=[.5,.5,.5,.5],a=n._swapAxes(),u=0,s=i;u<s.length;u++){var _=s[u];if(_.option.position==t.GCESPosition.Auto){var p=_.box();if(null!=p){var c=!1;a?(r.left-p.left>l[3]||p.right-r.right>l[1])&&(c=!0):(r.top-p.top>l[0]||p.bottom-r.bottom>l[2])&&(c=!0),c&&(_._getContent()._position(t.GCESPosition.Inside),_._layoutLabel(e,o),_._getContent()._position(t.GCESPosition.Auto))}}}}},i.prototype._clippedLayout=function(t,e,n,i){if(this._isCartesianPlot(e)){var o=e._getOutlineRectangle();if(null!=o)for(var r=0,l=n;r<l.length;r++){var a=l[r],u=a.box();if(null!=u){var s=0,_=0;u.top<o.top?_=o.top-u.top:u.bottom>o.bottom&&(_=o.bottom-u.bottom),u.left<o.left?s=o.left-u.left:u.right>o.right&&(s=o.right-u.right),a._translate(s,_)}}}},i}(t._BaseOverlayView);t._GcesBarCartesianClusterDataLabelOverlayView=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),Object.defineProperty(i.prototype,"dataLabelCloneMarker",{get:function(){return t.options._GCESDataLabelOptionCloneMarker._gcesDataLabelOptionCloneMarker},enumerable:!1,configurable:!0}),i.prototype._getDataLabelView=function(t){return null},i.prototype._buildOverlayView=function(e){return this._option.scope==t._Constants.DataPointTextScope?new t._GCESDataLabelOverlayView(e,this):null},i}(t._BaseDataLabelDefinition);t._GcesCartesianPointDataLabelDefinition=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GCESDataLabel",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildDataLabelDefinition=function(e,n,i){if((t._isCartesianPlotDefinition(e)||t._isHierarchicalPlotDefinition(e))&&n.scope==t._Constants.DataPointTextScope){if("Map"==e._getType()||"Candlestick"==e._getType()||"HighLowOpenClose"==e._getType())return null;var o=null!=i?i.arguments:null,r=t.options._isGCESDataLabelOption(o)?o:new t.options._GCESDataLabelOption(null!=o?o.option():null);if(r.scope==t._Constants.DataPointTextScope)return new t._GcesCartesianPointDataLabelDefinition(e,r)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GCESDataLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n.connectingLine)||this;return i.option=n,i}return n(i,e),Object.defineProperty(i.prototype,"shape",{get:function(){return this.__shape},set:function(t){null!=t&&t==this.__shape||(this.__shape=t,null==t?this._getContent()._setImageShape(null):this._getContent()._setImageShape(this.___pointView._getPlotView()._getDefinition()._imageProvider.getImageInfo(t)))},enumerable:!1,configurable:!0}),i.prototype._layoutLabel=function(n,i){e.prototype._layoutLabel.call(this,n,i),this.option.connectingLineType===t.ConnectingLineType.Auto&&(this.showConnectingLine=!1)},i.prototype._hasConntectLine=function(){if(e.prototype._hasConntectLine.call(this)){var n=this._getMatrixTransformInfo();return!t.GCESLabelUtil.pointContains(this.___pointView,n.connectionPoint)}return!1},i}(t._PointDataLabelFrame);t._GCESDataLabelFrame=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._createDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;if(!(t._isCartesianPointView(e)||e instanceof t._SunburstPointView))return null;var i=e.text,o=this._createShapePrototype(n,e,i),r=this._createDataLabelFrame(e,o,i);if(null!=r){var l=new t.AttachmentAgentManager(new t._GCESRadialViewAttachmentAgent(e,i,o),new t._GCESRadialSymbolPointAttachmentAgent(e,i,o),new t._GCESRectViewPointAttachmentAgent(e,i,o));if(null==o||null==l)return null;r._bind(l)}return r},i.prototype._createDataLabelFrame=function(e,n,i){var o=new t._GCESDataLabelFrame(e,i);o._setContent(n);var r=t.AnnotationLib._parseCoordinateValue(i.offset);return null!=r&&(o.xOffset=r.x,o.yOffset=r.y),null!=i.shape.content&&(o.shape=i.shape.content),o},i.prototype._createShapePrototype=function(e,n,i){var o=new t._GCESLabelShape(e.text);return o.textStyle=i.textStyle,o.backgroundStyle=i.style,null!=i.shape.labelCenter&&o._setShapeLocation(i.shape.labelCenter[0],i.shape.labelCenter[1]),null!=i.shape.shapeScale&&o._setShapeScale(i.shape.shapeScale[0],i.shape.shapeScale[1]),o._position(i.position),o},i.prototype._labelFrames=function(){return this._labelViews()},i.prototype._layoutContent=function(n,i){e.prototype._layoutContent.call(this,n,i),this._autoPositionLayout(n,this._ownerView,this._labelFrames(),i),this._clippedLayout(n,this._ownerView,this._labelFrames(),i),null==this.__smartLayouter&&(this.__smartLayouter=t._GCESSmartLayoutBuilder.build(this._ownerView,this._definition._option)),this.__smartLayouter._init(this._labelFrames(),i)},i.prototype._drawView=function(e,n){var i=this;n._renderLabel&&(this._ownerView._dataPointDataLabelOption().overlappingLabels==t.OverlappingLabels.Smart?this.__smartLayouter._layout((function(){i._draw(e,n)}),n):this._ownerView._dataPointDataLabelOption().overlappingLabels==t.OverlappingLabels.HideAll||this._ownerView._dataPointDataLabelOption().overlappingLabels==t.OverlappingLabels.Hide?(t._LabelOverlapChecker._checkOverlap(n,this._labelViews(),t.OverlappingLabels.HideAll),this._draw(e,n)):this._draw(e,n))},i.prototype._draw=function(t,e){for(var n=0,i=this._labelFrames();n<i.length;n++){var o=i[n];o._getOverlap()||o._render(t,e)}},i.prototype._isCartesianPlot=function(e){if(t._isCartesianPlotView(e)){var n=e._getDefinition()._plotConfigOption.axisMode;return n!=t.AxisMode.Polygonal&&n!=t.AxisMode.Radial}return!1},i.prototype._autoPositionLayout=function(e,n,i,o){if(this._isCartesianPlot(n)){var r=o._innerPlotAreaRect;if(null!=r)for(var l=[.5,.5,.5,.5],a=n._swapAxes(),u=0,s=i;u<s.length;u++){var _=s[u];if(_.option.position==t.GCESPosition.Auto){var p=_.box();if(null!=p){var c=!1;a?(r.left-p.left>l[3]||p.right-r.right>l[1])&&(c=!0):(r.top-p.top>l[0]||p.bottom-r.bottom>l[2])&&(c=!0),c&&(_._getContent()._position(t.GCESPosition.Inside),_._layoutLabel(e,o),_._getContent()._position(t.GCESPosition.Auto))}}}}},i.prototype._clippedLayout=function(t,e,n,i){if(this._isCartesianPlot(e)){var o=e._getOutlineRectangle();if(null!=o)for(var r=0,l=n;r<l.length;r++){var a=l[r],u=a.box();if(null!=u){var s=0,_=0;u.top<o.top?_=o.top-u.top:u.bottom>o.bottom&&(_=o.bottom-u.bottom),u.left<o.left?s=o.left-u.left:u.right>o.right&&(s=o.right-u.right),a._translate(s,_)}}}},i}(t._BaseDataLabelOverlayView);t._GCESDataLabelOverlayView=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return n(e,t),e}(t.PointAttachInfo);t._GCESPointAttachmenInfo=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this)||this;return o.__view=t,o.__option=n,o.__shape=i,o}return n(i,e),i.prototype._view=function(){return this.__view},i.prototype._filter=function(e){var n=this._view();return t._isRadialBarCartesianPointView(n)||n instanceof t._SunburstPointView},i.prototype.pointAttachmentInfo=function(e){if(t._isRadialBarCartesianPointView(this.__view)){var n=this.__view;return this._getBarRadialPointInfo(n,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle)}return this.__view instanceof t._SunburstPointView?this._getSunburstPointInfo(this.__view,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle):null},i.prototype._swapped=function(e){return!!t._isCartesianPlotView(e)&&e._swapAxes()},i.prototype._getBarRadialPointInfo=function(e,n,i,o){var r=e._getPlotView();if(!e._isVisible())return null;var l=e._getDonutShape();if(null==l)return null;var a=l.radius,u=l.innerRadius,s=l.startAngle,_=l.sweepAngle,p=s+_/2,c=(a+u)/2,h=this._swapped(r),f=t.GCESLabelUtil.xAxisPositionValue(e,n),d=t.GCESLabelUtil.yAxisPositionValue(e,i);0!=f&&(f>0?h?p=s+_:c=a:h?p=s:c=u),0!=d&&(d>0?h?c=a:p=s+_:h?c=u:p=s),0==c&&(c=.001);var y=null,g=e._getPointCoordOnDonutShape(p,c);if(null==g)return null;var m=new t.Vector(Math.cos(p),Math.sin(p)),v=new t.Vector(Math.cos(p+Math.PI/2),Math.sin(p+Math.PI/2));if(h){var w=v;v=m,m=w}if(t.GCESLabelUtil.xAxisFarDirection(e)<0&&(m=m.reverse()),t.GCESLabelUtil.yAxisFarDirection(e)<0&&(v=v.reverse()),o==t.DataLabelAngleType.Horizontal)this.__shape._setJunctionLayouter(new t._GCESRadialHorizontalLabelJunctionLayouter(this.__option,this.__shape)),(y=new t._GCESPointAttachmenInfo(g,t.Vector.horizon(),t.Vector.vertical(),m,v)).radialAngle=p;else{var b=new t.Vector(Math.cos(p),Math.sin(p)),P=new t.Vector(Math.cos(p-Math.PI/2),Math.sin(p-Math.PI/2)),S=t.Vector.angle(b,t.Vector.horizon()),C=0;t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,h)&&(C+=-Math.PI/2),Math.cos(S+C)<0&&(C+=Math.PI),this.__shape._setAngle(C),this.__shape._setJunctionLayouter(new t._GCESRadialLabelJunctionLayouter(this.__option,this.__shape)),y=new t._GCESPointAttachmenInfo(g,b,P,m,v)}return y.swapped=h,y.xposition=f,y.yposition=d,y},i.prototype._getSunburstPointInfo=function(e,n,i,o){var r=e._getPlotView();if(!e._isVisible())return null;var l=e._getStartAngle()+e._getSweep()/2,a=(e._getRadius()+e._getInnerRadius())/2,u=this._swapped(r),s=t.GCESLabelUtil.xAxisPositionValue(e,n),_=t.GCESLabelUtil.yAxisPositionValue(e,i);0!=s&&(s>0?u?l=e._getStartAngle()+e._getSweep():a=e._getRadius():u?l=e._getStartAngle():a=e._getInnerRadius()),0!=_&&(_>0?u?a=e._getRadius():l=e._getStartAngle()+e._getSweep():u?a=e._getInnerRadius():l=e._getStartAngle()),0==a&&(a=.001);var p=null,c=new t.core.Point(e._getCenter().x+Math.cos(l)*a,e._getCenter().y+Math.sin(l)*a),h=new t.Vector(Math.cos(l),Math.sin(l)),f=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2));if(u){var d=f;f=h,h=d}if(t.GCESLabelUtil.xAxisFarDirection(e)<0&&(h=h.reverse()),t.GCESLabelUtil.yAxisFarDirection(e)<0&&(f=f.reverse()),o==t.DataLabelAngleType.Horizontal)this.__shape._setJunctionLayouter(new t._GCESRadialHorizontalLabelJunctionLayouter(this.__option,this.__shape)),(p=new t._GCESPointAttachmenInfo(c,t.Vector.horizon(),t.Vector.vertical(),h,f)).radialAngle=l;else{var y=new t.Vector(Math.cos(l),Math.sin(l)),g=new t.Vector(Math.cos(l-Math.PI/2),Math.sin(l-Math.PI/2)),m=t.Vector.angle(y,t.Vector.horizon()),v=0;t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,u)&&(v+=-Math.PI/2),Math.cos(m+v)<0&&(v+=Math.PI),this.__shape._setAngle(v),this.__shape._setJunctionLayouter(new t._GCESRadialLabelJunctionLayouter(this.__option,this.__shape)),p=new t._GCESPointAttachmenInfo(c,y,g,h,f)}return p.swapped=u,p.xposition=s,p.yposition=_,p},i}(t._PointAttachmentAgent);t._GCESRadialViewAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this)||this;return r.__view=n,r.__option=i,r.__shape=o,r.__shape._setJunctionLayouter(new t._GCESLabelJunctionLayouter(r.__option,r.__shape)),r}return n(i,e),i.prototype._view=function(){return this.__view},i.prototype._filter=function(t){return!0},i.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this.__view,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle)},i.prototype._swapped=function(e){return!!t._isCartesianPlotView(e)&&e._swapAxes()},i.prototype._getPointInfo=function(e,n,i,o){var r=e._getPlotView(),l=e._boundRectangle();if(null==l)return null;var a=l.center,u=this._swapped(r),s=t.GCESLabelUtil.xAxisPositionValue(e,n),_=t.GCESLabelUtil.yAxisPositionValue(e,i);0!=s&&(s>0?u?a.y=l.top:a.x=l.right:u?a.y=l.bottom:a.x=l.left),0!=_&&(_>0?u?a.x=l.right:a.y=l.top:u?a.x=l.left:a.y=l.bottom),o!=t.DataLabelAngleType.Horizontal&&t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,u)&&this.__shape._setAngle(-Math.PI/2);var p=t.Vector.horizon(),c=t.Vector.vertical();if(u){var h=p;p=c,c=h}t.GCESLabelUtil.xAxisFarDirection(e)<0&&(p=p.reverse()),t.GCESLabelUtil.yAxisFarDirection(e)<0&&(c=c.reverse());var f=new t._GCESPointAttachmenInfo(a,t.Vector.horizon(),t.Vector.vertical(),p,c);return f.swapped=u,f.xposition=s,f.yposition=_,f},i}(t._PointAttachmentAgent);t._GCESRectViewPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this)||this;return o.__pointView=t,o.__option=n,o.__shape=i,o}return n(i,e),i.prototype._pointView=function(){return this.__pointView},i.prototype._filter=function(e){var n=this._pointView(),i=n._getPlotView()._getDefinition()._plotConfigOption.axisMode;return t._isCartesianPointView(n)&&t._isSymbolCartesianPointView(n)&&(i==t.AxisMode.Polygonal||i==t.AxisMode.Radial)},i.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this.__pointView,this.__option.xPlacement,this.__option.yPlacement,this.__option.angle)},i.prototype._getAngle=function(e){var n=e._getPlotView(),i=n._getCenter(),o=e._rectangle().center,r=0;if(o.equalsWith(i)){var l=n._verticalAxisView(),a=l._startAngle()+l._sweep/2;r=t.Vector.angle(new t.Vector(Math.cos(a),Math.sin(a)),t.Vector.horizon())}else r=t.Vector.angle(new t.Vector(o.x-i.x,o.y-i.y),t.Vector.horizon());return r},i.prototype._swapped=function(e){return!!t._isCartesianPlotView(e)&&e._swapAxes()},i.prototype._getPointInfo=function(e,n,i,o){var r=e._getPlotView(),l=e._boundRectangle();if(null==l)return null;var a=this._getAngle(e),u=l,s=this._swapped(r),_=t.GCESLabelUtil.xAxisPositionValue(e,n),p=t.GCESLabelUtil.yAxisPositionValue(e,i),c=u.center;0!=_&&(_>0?s?c.y=u.bottom:c.x=u.right:s?c.y=u.top:c.x=u.left),0!=p&&(p>0?s?c.x=u.right:c.y=u.bottom:s?c.x=u.left:c.y=u.top);var h=new t.Matrix;h.translate(l.center.x-u.center.x,l.center.y-u.center.y),h.rotate(a,u.center),c=t._MatrixUtility._transformPoint(h,c);var f=null,d=new t.Vector(Math.cos(a),Math.sin(a)),y=new t.Vector(Math.cos(a+Math.PI/2),Math.sin(a+Math.PI/2));if(s){var g=y;y=d,d=g}if(t.GCESLabelUtil.xAxisFarDirection(e)<0&&(d=d.reverse()),t.GCESLabelUtil.yAxisFarDirection(e)<0&&(y=y.reverse()),o==t.DataLabelAngleType.Horizontal)this.__shape._setJunctionLayouter(new t._GCESRadialHorizontalLabelJunctionLayouter(this.__option,this.__shape)),(f=new t._GCESPointAttachmenInfo(c,t.Vector.horizon(),t.Vector.vertical(),d,y)).radialAngle=a;else{var m=new t.Vector(Math.cos(a),Math.sin(a)),v=new t.Vector(Math.cos(a-Math.PI/2),Math.sin(a-Math.PI/2)),w=t.Vector.angle(m,t.Vector.horizon()),b=0;t.GCESLabelUtil.xor(o==t.DataLabelAngleType.ParallelToY,s)&&(b+=-Math.PI/2),Math.cos(w+b)<0&&(b+=Math.PI),this.__shape._setAngle(b),this.__shape._setJunctionLayouter(new t._GCESRadialLabelJunctionLayouter(this.__option,this.__shape)),f=new t._GCESPointAttachmenInfo(c,m,v,d,y)}return f.swapped=s,f.xposition=_,f.yposition=p,f},i}(t._PointAttachmentAgent);t._GCESRadialSymbolPointAttachmentAgent=e}(t||(t={})),function(t){!function(t){t[t.Always=0]="Always",t[t.Auto=1]="Auto"}(t.ConnectingLineType||(t.ConnectingLineType={}))}(t||(t={})),function(t){!function(t){t[t.ParallelToY=0]="ParallelToY",t[t.PerpendicularToY=1]="PerpendicularToY",t[t.Horizontal=2]="Horizontal"}(t.DataLabelAngleType||(t.DataLabelAngleType={}))}(t||(t={})),function(t){!function(t){t[t.Near=0]="Near",t[t.Center=1]="Center",t[t.Far=2]="Far"}(t.DataLabelAxisPlacement||(t.DataLabelAxisPlacement={}))}(t||(t={})),function(t){!function(t){t[t.HideAll=0]="HideAll",t[t.ShowAll=1]="ShowAll",t[t.Smart=2]="Smart"}(t.GCESOverlap||(t.GCESOverlap={}))}(t||(t={})),function(t){!function(t){t[t.Outside=0]="Outside",t[t.Inside=1]="Inside",t[t.Auto=2]="Auto"}(t.GCESPosition||(t.GCESPosition={}))}(t||(t={})),t||(t={}),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__offset=null,r.__shape=new e._GCESShapeOption(null),r.__yPlacement=t.DataLabelAxisPlacement.Far,r.__xPlacement=t.DataLabelAxisPlacement.Far,r.__position=t.GCESPosition.Outside,r.__angle=t.DataLabelAngleType.PerpendicularToY,r.__connectingLineType=t.ConnectingLineType.Always,r.__connectingLine=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"connectingLineType",{get:function(){return this.__connectingLineType},set:function(t){this.__connectingLineType!=t&&(this.__connectingLineType=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"xPlacement",{get:function(){return this.__xPlacement},set:function(t){this.__xPlacement!=t&&(this.__xPlacement=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yPlacement",{get:function(){return this.__yPlacement},set:function(t){this.__yPlacement!=t&&(this.__yPlacement=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(null==t&&(t=new e._GCESShapeOption),this.__shape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"connectingLine",{get:function(){return this.__connectingLine},set:function(t){this.__connectingLine!=t&&(this.__connectingLine=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.ConnectingLineType,t.ConnectingLineType.Always)],r.prototype,"connectingLineType",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelAngleType,t.DataLabelAngleType.PerpendicularToY)],r.prototype,"angle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.GCESPosition,t.GCESPosition.Outside)],r.prototype,"position",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelAxisPlacement,t.DataLabelAxisPlacement.Far)],r.prototype,"xPlacement",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelAxisPlacement,t.DataLabelAxisPlacement.Far)],r.prototype,"yPlacement",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_GCESShapeOption")],r.prototype,"shape",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"offset",null),o([t.JsonConverterAttribute(t._LineStyleOptionConverter,!0)],r.prototype,"connectingLine",null),r}(e._DataLabelOption),e._GCESDataLabelOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GCESDataLabelOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.offset=e.offset,n.position=e.position,n.shape=null==e.shape?null:t._GCESShapeOptionCloneMarker._gcesShapeOptionCloneMarker._cloneOf(e.shape),n.yPlacement=e.yPlacement,n.xPlacement=e.xPlacement,n.angle=e.angle,n.connectingLineType=e.connectingLineType,n.connectingLine=null==e.connectingLine?null:t._LineStyleOptionCloneMarker._lineStyleOptionCloneMarker._cloneOf(e.connectingLine)},e._gcesDataLabelOptionCloneMarker=new e,e}();t._GCESDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__content=null,o.__shapeScale=null,o.__labelCenter=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"labelCenter",{get:function(){return this.__labelCenter},set:function(t){null!=t&&(this.__labelCenter=t.slice(0,2))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shapeScale",{get:function(){return this.__shapeScale},set:function(t){null!=t&&(this.__shapeScale=t.slice(0,2))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){return this.__content},set:function(t){this.__content!=t&&(this.__content=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberArrayConverter,!0)],i.prototype,"labelCenter",null),o([t.JsonConverterAttribute(t._NumberArrayConverter,!0)],i.prototype,"shapeScale",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"content",null),i}(e._Option),e._GCESShapeOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GCESShapeOption(null);n._setOption(e.option()),n.content=e.content;var i=null;if(null!=e.labelCenter){i=[];for(var o=0,r=e.labelCenter;o<r.length;o++){var l=r[o];i.push(l)}}n.labelCenter=i;var a=null;if(null!=e.shapeScale){a=[];for(var u=0,s=e.shapeScale;u<s.length;u++)l=s[u],a.push(l)}return n.shapeScale=a,n},e._gcesShapeOptionCloneMarker=new e,e}();t._GCESShapeOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isGCESDataLabelOption=function(t){var e=t;return null!=e&&void 0!==e.xPlacement&&void 0!==e.yPlacement&&void 0!==e.position&&void 0!==e.angle&&void 0!==e.connectingLineType&&void 0!==e.offset&&void 0!==e.shape&&null!=e.connectingLine}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e=function(){function e(){}return e.yAxisPositionValue=function(n,i){return i==t.DataLabelAxisPlacement.Center?0:e.xor(e.yAxisFarDirection(n)>0,t.DataLabelAxisPlacement.Far==i)?-1:1},e.xAxisPositionValue=function(n,i){return i==t.DataLabelAxisPlacement.Center?0:e.xor(e.xAxisFarDirection(n)>0,t.DataLabelAxisPlacement.Far==i)?-1:1},e.yAxisFarDirection=function(e){if(t._isCartesianPointView(e)){var n=e,i=n._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView(),o=n._data(),r=null;if(null!=o.queryInterface("INumberRangeValue")){var l=o.queryInterface("INumberStackValue");null!=l&&(r=((null==l.value?0:l.value)+(null==l.previous?0:l.previous))/2)}return i._yAxisDirection(n,r)}return 1},e.xAxisFarDirection=function(e){var n=e._getPlotView();return t._isCartesianPlotView(n)?n._xAxisDirection(e):t._isHierarchicalPlotView(n)&&t._isSunburstPlotView(n)?-1:1},e.xor=function(t,e){return t===!e},e.pointContains=function(t,e){return null!=t._hitTest(e,0,null)},e}();t.GCESLabelUtil=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=!1,o=0,r=0;n instanceof t._GCESPointAttachmenInfo&&(i=n.swapped,o=n.xposition,r=n.yposition);var l=this.__shape._box(),a=l.center,u=this.__shape._position()!=t.GCESPosition.Inside;return 0==o?0!=r&&(i?a.x=t.GCESLabelUtil.xor(r>0,u)?l.right:l.left:a.y=t.GCESLabelUtil.xor(r>0,u)?l.top:l.bottom):0==r?i?a.y=t.GCESLabelUtil.xor(o>0,u)?l.top:l.bottom:a.x=t.GCESLabelUtil.xor(o>0,u)?l.right:l.left:i?u?a.y=o>0?l.bottom:l.top:(a.x=r>0?l.right:l.left,a.y=o>0?l.top:l.bottom):u?a.y=r>0?l.bottom:l.top:(a.x=o>0?l.right:l.left,a.y=r>0?l.top:l.bottom),t._MatrixUtility._transformPoint(e,a)},e}();t._GCESLabelJunctionLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=!1,o=0,r=0,l=0;n instanceof t._GCESPointAttachmenInfo&&(i=n.swapped,o=n.radialAngle,r=n.xposition,l=n.yposition);var a=this.__shape._box();if(0==r&&0==l)return t._MatrixUtility._transformPoint(e,a.center);var u=i?r:l,s=i?l:r,_=t.Vector.vertical();if(0==u)_=new t.Vector(Math.cos(o),Math.sin(o)),s<0&&(_=_.reverse());else{var p=new t.Vector(Math.cos(o+Math.PI/2),Math.sin(o+Math.PI/2));if(u<0&&(p=p.reverse()),0==s)_=p;else{var c=new t.Vector(Math.cos(o),Math.sin(o));s<0&&(c=c.reverse()),_=new t.Vector(c.x+p.x,c.y+p.y)}}var h=this.__shape._position()!=t.GCESPosition.Inside?_.reverse():_,f=this._availableJunctions(a),d=a.center,y=a.width*a.width+a.height*a.height;h=h.scalar(y);for(var g=new t.core.Point(d.x+h.x,d.y+h.y),m=null,v=0;v<4;++v){var w=(v+1)%4;if(null!=(m=t._ShapeUtil.getSegmentsIntersection(f[v],f[w],g,d)))break}return t._MatrixUtility._transformPoint(e,t._ShapeUtil.nearestPoint(m,f))},e.prototype._availableJunctions=function(e){return[new t.core.Point(e.left,e.top),new t.core.Point(e.right,e.top),new t.core.Point(e.right,e.bottom),new t.core.Point(e.left,e.bottom),new t.core.Point(e.left+e.width/2,e.top),new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right,e.top+e.height/2),new t.core.Point(e.left,e.bottom),new t.core.Point(e.left+e.width/2,e.bottom)]},e}();t._GCESRadialHorizontalLabelJunctionLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=!1,o=0,r=0;n instanceof t._GCESPointAttachmenInfo&&(i=n.swapped,o=n.xposition,r=n.yposition);var l=this.__shape._box(),a=l.center,u=this.__shape._position()!=t.GCESPosition.Inside;return 0==o?0!=r&&(i?a.x=t.GCESLabelUtil.xor(r>0,u)?l.right:l.left:a.y=t.GCESLabelUtil.xor(r>0,u)?l.bottom:l.top):0==r?i?a.y=t.GCESLabelUtil.xor(o>0,u)?l.bottom:l.top:a.x=t.GCESLabelUtil.xor(o>0,u)?l.right:l.left:i?u?a.x=r>0?l.left:l.right:(a.x=r>0?l.right:l.left,a.y=o>0?l.bottom:l.top):u?a.y=r>0?l.top:l.bottom:(a.x=o>0?l.right:l.left,a.y=r>0?l.bottom:l.top),t._MatrixUtility._transformPoint(e,a)},e}();t._GCESRadialLabelJunctionLayouter=e}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this,n)||this;return i.__angle=0,i.__shapeLocation=[.5,.5],i.__shapeScale=[1,1],i.__leftTop=[0,0],i.__position=t.GCESPosition.Outside,i}return n(i,e),i.prototype._setImageShape=function(t){this.__image=t},i.prototype._setShapeLocation=function(t,e){this.__shapeLocation=[t,e]},i.prototype._setShapeScale=function(t,e){this.__shapeScale=[t,e]},i.prototype._position=function(t){return null!=t&&(this.__position=t),this.__position},i.prototype._setAngle=function(t){this.__angle=t},i.prototype._setJunctionLayouter=function(t){null!=t&&(this.junctionLayouter=t)},i.prototype._refresh=function(n){e.prototype._refresh.call(this,n),null==this.__matrix?this.__matrix=new t.Matrix:this.__matrix.reset(),this.__matrix.rotate(this.__angle),this._refreshBbox()},i.prototype._box=function(){return this.__bbox.clone()},i.prototype._draw=function(e){var n=this;""!=this._text&&e.drawGroup(null,null,this.__matrix,(function(e){e.beginTransform();var i=n.__leftTop[0],o=n.__leftTop[1];if(null!=n.__image){var r=t._NativeExtension._toNonNullNumber(n.__image.width,0)*n.__shapeScale[0],l=t._NativeExtension._toNonNullNumber(n.__image.height,0)*n.__shapeScale[1];e.drawImage(n.__image,0,0,r,l)}t._StyleUtility._applyAllStyle(e,n._backgroundStyle());var a=t._NativeExtension._toNonNullNumber(e.strokeWidth,0),u=new t.core.Rect(i+a/2,o+a/2,n._size.width-a,n._size.height-a);e.drawRect(u.left,u.top,u.width,u.height),e.restoreTransform(),u=new t.core.Rect(i+a,o+a,n._textSize.width,n._textSize.height),e.beginTransform(),t._StyleUtility._applyAllStyle(e,n._textStyle()),e.drawMultiLineString(n._text,u,t.TextOverflow.Wrap,t.HAlign.Center),e.restoreTransform()}))},i.prototype._contain=function(e){var n=t._MatrixUtility._transformPoint(this.__matrix.invert(),e),i=this._size;return n.x>=this.__leftTop[0]&&n.x<this.__leftTop[0]+i.width&&n.y>=this.__leftTop[1]&&n.y<this.__leftTop[1]+i.height},i.prototype._refreshBbox=function(){var e=this._size.width,n=this._size.height;this.__leftTop[0]=0,this.__leftTop[1]=0,null!=this.__image&&(e=t._NativeExtension._toNonNullNumber(this.__image.width,0)*this.__shapeScale[0],n=t._NativeExtension._toNonNullNumber(this.__image.height,0)*this.__shapeScale[1],this.__leftTop[0]+=e*this.__shapeLocation[0]-this._size.width/2,this.__leftTop[1]+=n*this.__shapeLocation[1]-this._size.height/2);var i=t._MatrixUtility._transformCurve(this.__matrix,[0,e,0,e],[0,0,n,n]),o=Math.min.apply(Math,i._xs),r=Math.min.apply(Math,i._ys),l=Math.max.apply(Math,i._xs)-o,a=Math.max.apply(Math,i._ys)-r;this.__bbox=new t.core.Rect(o,r,l,a)},i}(t._LabelShape);t._GCESLabelShape=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function e(t,e){this.__plotView=t,this.__option=e}return e.prototype._init=function(t,e){this.__labels=t,this.__originPosition=t.map((function(t){return t.position})),this.__layoutRect=e._innerPlotAreaRect},e.prototype._layout=function(e,n){var i=this.__plotView,o=this.__layoutRect;if(null!=this.__lastPlotRect&&this.__lastPlotRect.equalsWith(i._rectangle()))e();else{this.__lastPlotRect=i._rectangle();var r=this.__labels;this._moveAllLabelAwayFromAxis(i,r);var l=this._getSymbolRects(i),a=[],u=n._axisLabels;if(null!=u)for(var s=0,_=u;s<_.length;s++){var p=_[s];a.push(p)}for(var c=this._splitFixedLabels(r,a,l),h=c[0],f=c[1],d=i._swapAxes(),y=r.map((function(t){return t.box()})),g=y.map((function(t){return null!=t?t.clone():null})),m=0,v=h;m<v.length;m++){var w=v[m],b=r[A=w];if(null!=(L=y[A])){var P=b._pointView(),S=t.Vector.vertical();d&&(S=t.Vector.horizon()),t.GCESLabelUtil.yAxisFarDirection(P)<0&&(S=S.reverse());for(var C=!1,V=null,x=null,D=function(){if(O._translate(L,10*S.x,10*S.y),O._outOfboundInDir(L,o,d)){if(O._translate(L,g[A].center.x-L.center.x,g[A].center.y-L.center.y),C)return"break";C=!0,S=S.reverse()}for(var e=!1,n=0,r=f;n<r.length;n++){var u=r[n];if(y[u].intersectsWith(L)){e=!0;break}}if(null!=a&&!e){for(var s=t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(L),_=0,p=a;_<p.length;_++){var c=p[_];if(t._ShapeUtil._whetherIntersect(c,s)){e=!0;break}}if(null!=l&&!e&&!O._isInside(b))for(var h=0,m=l;h<m.length;h++){var v=m[h];if(L.intersectsWith(v)){e=!0;break}}if(e){var w=O._moveLabelAwayFromAxis(i,L);if(null!=w){O._translate(L,w[0],w[1]);var P=t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(L);(e=a.some((function(e){return t._ShapeUtil._whetherIntersect(e,P)})))&&O._translate(L,-w[0],-w[1])}}}if(!e){var D=L.center;if(O._translate(L,g[A].center.x-D.x,g[A].center.y-D.y),C)return x=D,"break";V=D,C=!0,S=S.reverse()}},O=this;"break"!==D(););f.push(A),(null!=V||null!=x)&&((null!=V&&null!=x?t._ShapeUtil.DisPointToPointSquare(V,g[A].center)<=t._ShapeUtil.DisPointToPointSquare(x,g[A].center):null!=V)?this._translate(L,V.x-L.center.x,V.y-L.center.y):this._translate(L,x.x-L.center.x,x.y-L.center.y))}}for(var A=0;A<r.length;++A){var L=y[A],T=g[A];null!=L&&r[A]._translate(L.center.x-T.center.x,L.center.y-T.center.y)}this._hideSomeConnectingLine(r),e()}},e.prototype._translate=function(t,e,n){t.left+=e,t.top+=n},e.prototype._outOfboundInDir=function(t,e,n){return n?t.left<e.left||t.right>e.right:t.top<e.top||t.bottom>e.bottom},e.prototype._getSymbolRects=function(e){var n=[];return e._traversePointView((function(e,i){e._isVisible()&&t._isCartesianPointView(e)&&t._isSymbolCartesianPointView(e)&&n.push(e._rectangle())}),null),n},e.prototype._hideSomeConnectingLine=function(e){if(this.__option.connectingLineType===t.ConnectingLineType.Auto)for(var n=0;n<e.length;++n){e[n].showConnectingLine=!1;var i=e[n].position;null==i||i.equalsWith(this.__originPosition[n])||(e[n].showConnectingLine=!0)}},e.prototype._isInside=function(e){return e.option.position===t.GCESPosition.Inside||e.option.xPlacement===t.DataLabelAxisPlacement.Center&&e.option.yPlacement===t.DataLabelAxisPlacement.Center},e.prototype._moveLabelAwayFromAxis=function(e,n){var i=e._horizontalAxisView()._rectangle(),o=e._verticalAxisView()._rectangle(),r=e._rectangle(),l=e._swapAxes();if(null!=n){var a=0,u=0;if(l){var s=e._horizontalAxisView().position===t.AxisPosition.Far;if(n.intersectsWith(i)){var _=!0;if(s&&t._NumberPixelRoundEqualityComparer._numberPixelRoundEqualityComparer._equalsWith(i.bottom,r.top))_=!0;else if(!s&&t._NumberPixelRoundEqualityComparer._numberPixelRoundEqualityComparer._equalsWith(i.top,r.bottom))_=!1;else{var p=s?i.bottom:i.top;_=n.center.y>p}u=_?i.bottom-n.top:i.top-n.bottom}}else if(s=e._verticalAxisView().position===t.AxisPosition.Far,n.intersectsWith(o)){var c=!0;s&&t._NumberPixelRoundEqualityComparer._numberPixelRoundEqualityComparer._equalsWith(o.left,r.right)?c=!1:!s&&t._NumberPixelRoundEqualityComparer._numberPixelRoundEqualityComparer._equalsWith(o.right,r.left)?c=!0:(p=s?o.left:o.right,c=n.center.x>=p),a=c?o.right-n.left:o.left-n.right}if(0!=a||0!=u)return[a,u]}return null},e.prototype._moveAllLabelAwayFromAxis=function(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n],r=o.box(),l=this._moveLabelAwayFromAxis(t,r);null!=l&&o._translate(l[0],l[1])}},e.prototype._splitFixedLabels=function(e,n,i){for(var o=[],r=[],l=0;l<e.length;++l){var a=!1,u=e[l]._rectangleShape();if(null!=u){for(var s=e[l].box(),_=0,p=r;_<p.length;_++){var c=p[_];if(t._ShapeUtil._whetherIntersect(e[c]._rectangleShape(),u)){a=!0;break}}if(null!=n)for(var h=0,f=n;h<f.length;h++){var d=f[h];if(t._ShapeUtil._whetherIntersect(d,u)){a=!0;break}}if(!a&&null!=i&&!this._isInside(e[l]))for(var y=0,g=i;y<g.length;y++){var m=g[y];if(s.intersectsWith(m)){a=!0;break}}a?o.push(l):r.push(l)}}return[o,r]},e}();t._GCESCartesianSmartLayouter=e}(t||(t={})),function(t){var e=function(){function e(){}return e.build=function(e,n){if(t._isCartesianPlotView(e)){var i=e,o=i._getDefinition()._plotConfigOption.axisMode;if(o!=t.AxisMode.Polygonal&&o!=t.AxisMode.Radial)return new t._GCESCartesianSmartLayouter(i,n)}return new t._GCESLabelSmartLayouter(e,n)},e}();t._GCESSmartLayoutBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.hideSomeLabels=function(n,i){if(!(i.length<20)&&i[0].label.option.position!=t.GCESPosition.Inside)if(t._isBarCartesianPlotView(n)&&e._isDonut(n))for(var o=[],r=0,l=i;r<l.length;r++){var a=(x=l[r]).shape();if(null!=a){for(var u=!1,s=0,_=o;s<_.length;s++){var p=_[s];t._ShapeUtil._whetherIntersect(p.shape(),a)&&(u=!0)}u?x.visible=!1:(o.push(x),x.visible=!0)}}else{for(var c=0,h=0,f=i;h<f.length;h++){var d=(x=f[h]).shape();null!=d&&(c+=(d.size.width+d.size.height)/2)}var y=c/i.length,g=Math.min(n._rectangle().width,n._rectangle().height)/2,m=n._rectangle().center,v=n._getDefinition()._plotConfigOption.axisMode;!t._isCartesianPlotView(n)||v!=t.AxisMode.Polygonal&&v!=t.AxisMode.Radial||(g=n._xAxisView()._radius);var w=Math.min(2.7*Math.PI*g/y,100);if(t._isCartesianPlotView(n)&&(v==t.AxisMode.Polygonal||v==t.AxisMode.Radial)||t._isHierarchicalPlotView(n)&&t._isSunburstPlotView(n)){for(var b=w,P=[],S=t._Utility._PI2/b,C=0,V=i;C<V.length;C++){var x,D=(x=V[C]).lineStart();if(null!=D){x.visible=!0;var O=t.Vector.angle(t.Vector.pointSub(m,D),t.Vector.horizon()),A=Math.floor(O/S);if(A<P.length&&null==P[A])P[A]=[];else if(A>=P.length)for(var L=P.length;L<=A;L++)P.push(new Array);P[A].push(x)}}var T=0;for(L=0;L<P.length;++L){var M=P[L];if(null!=M&&M.length>1){var E=1;T>0&&(E+=Math.ceil(.8*T),T=0);for(var I=E;I<M.length;I++)M[I].visible=!1}else null==M&&T++}}}},e._isDonut=function(e){var n=e._getDefinition()._plotConfigOption.axisMode;return!(n!=t.AxisMode.Polygonal&&n!=t.AxisMode.Radial||(e._swapAxes()?!e._isStack()||1!=e._xAxisView()._getDimensions().length:e._isStack()&&1==e._xAxisView()._getDimensions().length))},e}();t._GCESSmartPreLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__pointShapes=[],this.__count=0,this.__isRunning=!1,this.__isAfterLoop=!1,this.__plotView=t,this.__option=e,this.__debounceTime=200}return e.prototype._init=function(e,n){this.__labels=e.map((function(e){return new t.SmartLabelPack(e)})),this.__originPosition=this.__labels.map((function(t){return t.position()})),this.__layoutRect=n._innerPlotAreaRect,this.__pointShapes=this._getAllPointShape(this.__plotView),this.__count=0,this.__lastPlotRect=null,this.__taskStart=null,this.__isAfterLoop=!1},e.prototype._layout=function(e,n){var i=this.__plotView;if(!(null!=this.__lastPlotRect&&this.__lastPlotRect.equalsWith(i._rectangle())||(null==this.__taskStart&&(this.__taskStart=Date.now()),this.__lastPlotRect=i._rectangle(),this.__isRunning))){this.__isRunning=!0;var o=i._getLayoutView()._getPlotAreaView()._getDvView(),r=t._DvViewUtility._control(o),l=t._SmartTimer._timer(o);null==l||null==r?this._loop():l.requestAnimationFrame(this,r)}var a=!1;this.__isAfterLoop&&(this.__isAfterLoop=!1,a=!0);for(var u=this.__layoutRect,s=0,_=this.__labels;s<_.length;s++)if((w=_[s]).hidden=!1,w.visible){var p=w.shape();if(null!=p){var c=!1,h=w.box();if(h.left<u.left||h.right>u.right||h.top<u.top||h.bottom>u.bottom)c=!0;else if(a){var f=n._axisLabels;if(null!=f)for(var d=0,y=f;d<y.length;d++){var g=y[d];if(t._ShapeUtil._whetherIntersect(g,p)){c=!0;break}}}w.hidden=c}}else w.hidden=!0;for(var m=0,v=this.__labels;m<v.length;m++){var w;(w=v[m]).update()}e()},e.prototype._afterLoop=function(){this.__isAfterLoop=!0},e.prototype._disableProgressiveRender=function(){return!1},e.prototype._loop=function(){var e=this;if(this.__isRunning){var n=this.__plotView,i=n._getLayoutView()._getPlotAreaView()._getDvView(),o=t._DvViewUtility._control(i),r=t._SmartTimer._timer(i);if(null!=r&&null!=o){var l=Date.now();if(l-(null==this.__taskStart?0:this.__taskStart)<this.__debounceTime)return this.__taskStart=l,void r.setTimeOut(this.__debounceTime-(l-this.__taskStart)+1,(function(){e._loop()}))}var a=this.__labels,u=this.__originPosition,s=this.__pointShapes,_=Math.min(15*a.length,70);0==this.__count&&t._GCESSmartPreLayouter.hideSomeLabels(n,this.__labels);var p=4;for((this._disableProgressiveRender()||null==r||null==o)&&(p=_+1);p>0;){for(var c=0;c<a.length;++c)if(0!=a[c].visible&&!this._isInside(a[c])&&null!=(j=a[c].shape())){j=new t._RectangleShape(j.center.x,j.center.y,j.size.width-1,j.size.height-1,j.angle);for(var h=0,f=s;h<f.length;h++){var d=f[h],y=new t.Vector(0,0);if(d instanceof t._BaseShape)if(d instanceof t._RectangleShape){if(t._ShapeUtil._whetherIntersect(d,j)&&(W=t._ShapeUtil.DisPointToPoint(j.center,d.center))>0){var g=t._ShapeUtil.DisPointToPoint(j.center,j.leftBottom)+t._ShapeUtil.DisPointToPoint(d.center,d.leftBottom)-W,m=t.Vector.pointSub(d.center,j.center).standard(.1*g);y.x+=m.x,y.y+=m.y}}else if(d instanceof t._DonutShape&&null!=d.center)for(var v=0,w=this._getRectSamplePoints(j);v<w.length;v++){var b=w[v];if(t._ShapeUtil._shapeContainsPoint(d,b)){var P=t.Vector.angle(t.Vector.pointSub(d.center,b),t.Vector.horizon()),S=(d.radius+d.innerRadius)/2,C=new t.core.Point(d.center.x+Math.cos(P)*S,d.center.y+Math.sin(P)*S);if((W=t._ShapeUtil.DisPointToPoint(b,C))>0){g=d.radius-d.innerRadius-W,m=t.Vector.pointSub(C,j.center).standard(.1*g),y.x+=m.x,y.y+=m.y;break}}}else if(d instanceof t._PolygonShape)for(var V=0,x=this._getRectSamplePoints(j);V<x.length;V++)if(b=x[V],t._ShapeUtil._shapeContainsPoint(d,b)){var D=d.points,O=t._Util.CenterOfPolygon(D.map((function(t){return t.x})),D.map((function(t){return t.y})));if((W=t._ShapeUtil.DisPointToPoint(b,O))>0){g=Math.max(10-W,1),m=t.Vector.pointSub(O,j.center).standard(.1*g),y.x+=m.x,y.y+=m.y;break}}null!=y&&(a[c].velocity.x+=y.x,a[c].velocity.y+=y.y)}}var A=this.__layoutRect;for(c=0;c<a.length;++c)if(0!=a[c].visible){var L=a[c].box();null!=L&&(y=new t.Vector(0,0),L.left-3<A.left?(m=t.Vector.horizon().scalar(.05*(A.left-L.left+3)),y.x+=m.x,y.y+=m.y):L.right+3>A.right&&(m=new t.Vector(-1,0).scalar(.05*(L.right-A.right+3)),y.x+=m.x,y.y+=m.y),L.top-3<A.top?(m=new t.Vector(0,1).scalar(.05*(A.top-L.top+3)),y.x+=m.x,y.y+=m.y):L.bottom+3>A.bottom&&(m=new t.Vector(0,-1).scalar(.05*(L.bottom-A.bottom+3)),y.x+=m.x,y.y+=m.y),a[c].velocity.x+=y.x,a[c].velocity.y+=y.y)}if(null!=this.__option.connectingLine)for(c=0;c<a.length;++c)if(0!=a[c].visible&&null!=(j=a[c].shape()))for(var T=j.center,M=this._getRectSamplePoints(j),E=0;E<a.length;++E)if(c!=E&&0!=a[E].visible){var I=a[E].lineStart(),B=a[E].position();if(null!=I&&null!=B&&!I.equalsWith(B)){for(var R=t.Vector.pointSub(I,T),k=t.Vector.pointSub(I,B),N=15,F=0,U=M;F<U.length;F++){b=U[F];var z=t._ShapeUtil.DisPointToSegement(b,I,B);N=Math.min(N,z)}N<15&&(m=t.Vector.getPerp(k,!(k.cross(R)>0)).standard(.075*(15-N)),a[c].velocity.x+=m.x,a[c].velocity.y+=m.y)}}for(c=0;c<a.length;++c){var j;if(0!=a[c].visible&&null!=(j=a[c].shape()))for(E=c+1;E<a.length;++E)if(0!=a[E].visible){var W,G=a[E].shape();null!=G&&t._ShapeUtil._whetherIntersect(j,G)&&(W=t._ShapeUtil.DisPointToPoint(j.center,G.center))>0&&(g=t._ShapeUtil.DisPointToPoint(j.center,j.leftBottom)+t._ShapeUtil.DisPointToPoint(G.center,G.leftBottom)-W,y=t.Vector.pointSub(j.center,G.center).standard(.05*g),a[c].velocity.x-=y.x,a[c].velocity.y-=y.y,a[E].velocity.x+=y.x,a[E].velocity.y+=y.y)}}for(c=0;c<a.length;++c)if(0!=a[c].visible&&null!=(b=a[c].position())){var H=a[c].lineStart(),q=u[c];H.equalsWith(b)||H.equalsWith(q)||(R=t.Vector.pointSub(H,b).standard(),k=t.Vector.pointSub(H,q).standard(),R.dot(k)<.8&&(y=t.Vector.pointSubByVector(R,k).standard(.15*(1-R.dot(k))),a[c].velocity.x+=y.x,a[c].velocity.y+=y.y))}for(var J=!0,X=0,Y=a;X<Y.length;X++){var Z=Y[X];if(0!=Z.visible){var K=Math.min(1.2*Z.velocity.x,15),Q=Math.min(1.2*Z.velocity.y,15);Z.translate(K,Q),Z.velocity=Z.velocity.scalar(.0075),J=J&&this._isStatic(Z)}}if(this._hideSomeConnectingLine(this.__labels),J||this.__count>_){this.__isRunning=!1,this._afterLoop();break}this.__count++,p--}null!=r&&null!=o&&r.requestAnimationFrame(this,o)}},e.prototype._hideSomeConnectingLine=function(e){if(this.__option.connectingLineType===t.ConnectingLineType.Auto)for(var n=0;n<e.length;++n){e[n].label.showConnectingLine=!1;var i=e[n].position();null==i||i.equalsWith(this.__originPosition[n])||(e[n].label.showConnectingLine=!0)}},e.prototype._isStatic=function(t){return t.velocity.moudule()<.001},e.prototype._isInside=function(e){return e.label.option.position===t.GCESPosition.Inside||e.label.option.xPlacement===t.DataLabelAxisPlacement.Center&&e.label.option.yPlacement===t.DataLabelAxisPlacement.Center},e.prototype._getRectSamplePoints=function(e){var n=e.leftTop,i=e.rightTop,o=e.rightBottom,r=e.leftBottom;return[n,new t.core.Point((n.x+i.x)/2,(n.y+i.y)/2),i,new t.core.Point((i.x+o.x)/2,(i.y+o.y)/2),o,new t.core.Point((o.x+r.x)/2,(o.y+r.y)/2),r,new t.core.Point((n.x+r.x)/2,(n.y+r.y)/2)]},e.prototype._getAllPointShape=function(t){var e=[];return t._traversePointView((function(t,n){if(t._isVisible()){var i=t._shape();null!=i&&e.push(i)}}),null),e},e}();t._GCESLabelSmartLayouter=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.visible=!0,this.label=t,this.init()}return Object.defineProperty(e.prototype,"hidden",{get:function(){return this.label._getOverlap()},set:function(t){this.label._setOverlap(t)},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this.label._rectangleShape();this.__shape=null!=e?e.clone():null,this.__box=this.label.box(),this.__d=[0,0],this.velocity=new t.Vector(0,0)},e.prototype.box=function(){return this.__box},e.prototype.shape=function(){return this.__shape},e.prototype.position=function(){return null!=this.__box?this.__box.center:null},e.prototype.lineStart=function(){return this.label._lineStart()},e.prototype.translate=function(t,e){this.__d[0]+=t,this.__d[1]+=e,null!=this.__box&&(this.__box.left+=t,this.__box.top+=e),null!=this.__shape&&this.__shape._translate(t,e)},e.prototype.update=function(){0==this.__d[0]&&0==this.__d[1]||this.label._translate(this.__d[0],this.__d[1]),this.init()},e}();t.SmartLabelPack=e}(t||(t={})),function(t){var e=function(){function e(){}return e._timer=function(e){return null==e.queryInterface("IControlAsOwnerModel")?null:t._RequestAnimationFrame},e}();t._SmartTimer=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(){function t(t,e){this.__delay=t,this.__start=Date.now(),this.__callback=e}return t.prototype._loop=function(){Date.now()-this.__start>=this.__delay?this.__callback():n.requestAnimationFrame(this)},t}(),n=function(){function t(){}return t.requestAnimationFrame=function(e,n){void 0===n&&(n=null);var i=t.__frameCallbacks,o=t.__controls;0==i.length&&window.requestAnimationFrame(t.frameCallBack),i.push(e),null!=n&&-1==o.indexOf(n)&&o.push(n)},t.frameCallBack=function(e){var n=t.__frameCallbacks,i=t.__controls;t.__controls=[],t.__frameCallbacks=[];for(var o=0,r=n;o<r.length;o++){var l=r[o];if(null==l)break;l._loop()}for(var a=0,u=i;a<u.length;a++){var s=u[a];s&&s._requestInvalidate()}i.length=0,n.length=0},t.setTimeOut=function(n,i){n>=0&&null!=i&&t.requestAnimationFrame(new e(n,i))},t.__frameCallbacks=[],t.__controls=[],t}();t._RequestAnimationFrame=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GCESDonutFlippingLabels",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._isRadial=function(e){return e._plotConfigOption.axisMode==t.AxisMode.Radial||e._plotConfigOption.axisMode==t.AxisMode.Polygonal},e.prototype._buildDataLabelDefinition=function(e,n,i){if(n.scope!=t._Constants.DataPointTextScope)return null;if(null!=i&&"Bar"==e._getType()&&!e._plotConfigOption.swapAxes&&this._isRadial(e)){var o=i.arguments,r=t.options._isGCESDonutFlippingDataLabelOption(o)?o:new t.options._GCESDonutFlippingDataLabelOption(null!=o?o.option():null);if(r.scope==t._Constants.DataPointTextScope)return new t._GcesDonutFlippingDataLabelDefinition(e,r)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GCESDonutFlippingDataLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o,r,l){var a=t.call(this,e,n,i,o,r)||this;return a.xDirIsInside=l,a}return n(e,t),e}(t.PointAttachInfo);t._GCESDonutFlippingPointAttachInfo=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this)||this;return o.__pointView=t,o.__placement=n,o.__position=i,o}return n(i,e),i.prototype._pointView=function(){return this.__pointView},i.prototype._filter=function(e){var n=this._pointView()._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView(),i=n._getDefinition()._plotConfigOption.axisMode;return(i==t.AxisMode.Polygonal||i==t.AxisMode.Radial)&&!n._swapAxes()},i.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this._pointView(),this.__placement,this.__position)},i.prototype._getPointInfo=function(e,n,i){var o=e._getDonutShape();if(null==o)return null;var r,l,a=new t.core.Point(0,0),u=e._getCartesianSeriesView()._getCartesianGroupView(),s=o.sweepAngle,_=n===t.Placement.Top;n!=t.Placement.Auto&&n!=t.Placement.Left&&n!=t.Placement.Right||(_=e._isPositive());var p=u._verticalAxisView(),c=!1;!p._scaleModel._getReversed()===_?(s=o.startAngle+o.sweepAngle,c=!1):(s=o.startAngle,c=!0);var h=new t.core.Point(Math.cos(s)*o.innerRadius,Math.sin(s)*o.innerRadius),f=new t.core.Point(Math.cos(s)*o.radius,Math.sin(s)*o.radius);a=new t.core.Point(p._cx+(h.x+f.x)/2,p._cy+(h.y+f.y)/2);var d=Math.sin(s);l=new t.Vector(Math.cos(s),Math.sin(s)),r=new t.Vector(Math.cos(s+Math.PI/2),Math.sin(s+Math.PI/2)),d>0&&(l=l.reverse(),r=r.reverse(),c=!c),i!=t.AnnotationPosition.Inside&&(c=!c);var y=t.AnnotationLib._getXYDirection(u,s);return new t._GCESDonutFlippingPointAttachInfo(a,r,l,y.xDir,y.yDir,c)},i}(t._PointAttachmentAgent);t._GCESDonutFlippingPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),Object.defineProperty(i.prototype,"dataLabelCloneMarker",{get:function(){return t.options._GCESDonutFlippingDataLabelOptionCloneMarker._gCESDonutFlippingDataLabelOptionCloneMarker},enumerable:!1,configurable:!0}),i.prototype._getDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;if(t._isRadialBarCartesianPointView(e)&&!e._getPlotView()._getDefinition()._plotConfigOption.swapAxes){var i=e,o=i.text,r=this._createDataLabelFrame(i,o);if(null!=r){var l=this._createShapePrototype(n,o),a=new t.AttachmentAgentManager(new t._GCESDonutFlippingPointAttachmentAgent(i,o.placement,o.position));if(null==l||null==a)return null;r._setContent(l),r._bind(a)}return r}return null},i.prototype._createDataLabelFrame=function(e,n){var i=new t.GeneralPointDataLabelFrame(e,n.connectingLine);i.rotate=n.angle,i.relativeRotate=n.relativeAngle;var o=t.AnnotationLib._parseCoordinateValue(n.offset);return null!=o&&(i.xOffset=o.x,i.yOffset=o.y),i},i.prototype._createShapePrototype=function(e,n){if(n.shape==t.DataLabelShapeType.Bubble){var i=new t._BubbleLabel(e.text);return i.textStyle=n.textStyle,i.backgroundStyle=n.style,i.junctionLayouter=new t._GCESDonutFlippingBubbleJunctionLayouter(n,i),i}var o=new t._LabelShape(e.text);return o.junctionLayouter=new t._GCESDonutFlippingJunctionLayouter(n,o),o.textStyle=n.textStyle,o.backgroundStyle=n.style,o},i.prototype._buildOverlayView=function(e){return new t._GcesDonutFlippingDataLabelOverlayView(e,this)},i}(t._BaseDataLabelDefinition);t._GcesDonutFlippingDataLabelDefinition=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__offset=null,o.__placement=t.Placement.Auto,o.__shape=null,o.__relativeAngle=null,o.__angle=null,o.__position=t.AnnotationPosition.Outside,o.__connectingLine=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"relativeAngle",{get:function(){return this.__relativeAngle},set:function(t){this.__relativeAngle!=t&&(this.__relativeAngle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(this.__shape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connectingLine",{get:function(){return this.__connectingLine},set:function(t){this.__connectingLine!=t&&(this.__connectingLine=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationPosition,t.AnnotationPosition.Outside)],i.prototype,"position",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"relativeAngle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"angle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelShapeType)],i.prototype,"shape",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Placement,t.Placement.Auto)],i.prototype,"placement",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"offset",null),o([t.JsonConverterAttribute(t._LineStyleOptionConverter,!0)],i.prototype,"connectingLine",null),i}(e._DataLabelOption),e._GCESDonutFlippingDataLabelOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GCESDonutFlippingDataLabelOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.offset=e.offset,n.placement=e.placement,n.shape=e.shape,n.angle=e.angle,n.relativeAngle=e.relativeAngle,n.position=e.position,n.connectingLine=null==e.connectingLine?null:t._LineStyleOptionCloneMarker._lineStyleOptionCloneMarker._cloneOf(e.connectingLine)},e._gCESDonutFlippingDataLabelOptionCloneMarker=new e,e}();t._GCESDonutFlippingDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isGCESDonutFlippingDataLabelOption=function(t){var e=t;return null!=e&&void 0!==e.offset&&void 0!==e.placement&&void 0!==e.shape&&void 0!==e.angle&&void 0!==e.relativeAngle&&void 0!==e.position&&void 0!==e.connectingLine}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box();if(n instanceof t._GCESDonutFlippingPointAttachInfo){var o=t._MatrixUtility._transformPoints(e,this._availableJunctions(i));return n.xDirIsInside?this._farthestPoint(o,n.xDir.reverse()).point():this._farthestPoint(o,n.xDir).point()}return this.__shape._setPointerType(t.BubblePointerType.Left),t._MatrixUtility._transformPoint(e,i.center)},e.prototype._availableJunctions=function(e){var n=this.__shape.pointerSize.height;return[new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right+n,e.top+e.height/2)]},e.prototype._farthestPoint=function(e,n){for(var i=-Number.MAX_VALUE,o=new t.Vector,r=0,l=0;l<e.length;++l){var a=e[l],u=n.dot(new t.Vector(a.x,a.y));u>i&&(r=l,i=u,o.x=a.x,o.y=a.y)}return this.__shape._setPointerTypeWithIndex(r+2),o},e}();t._GCESDonutFlippingBubbleJunctionLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box();if(n instanceof t._GCESDonutFlippingPointAttachInfo){var o=t._MatrixUtility._transformPoints(e,this._availableJunctions(i));return n.xDirIsInside?t.Vector.farthestPoint(o,n.xDir.reverse()).point():t.Vector.farthestPoint(o,n.xDir).point()}return t._MatrixUtility._transformPoint(e,i.center)},e.prototype._availableJunctions=function(e){return[new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right,e.top+e.height/2)]},e}();t._GCESDonutFlippingJunctionLayouter=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseDataLabelOverlayView);t._GcesDonutFlippingDataLabelOverlayView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__layoutOption=t}return e.prototype._isNear=function(e){var n=e._position()==t.AxisPosition.Near;return e._labels()==t.AxisPosition.Far&&(n=!1),n},e.prototype._calculatePadding=function(e,n){var i=new t._Padding(0,0,0,0);return null==n||(i._left=n.left.type==t.ValueOptionType.Percentage?e.width*n.left.value:n.left.value,i._right=n.right.type==t.ValueOptionType.Percentage?e.width*n.right.value:n.right.value,i._top=n.top.type==t.ValueOptionType.Percentage?e.height*n.top.value:n.top.value,i._bottom=n.bottom.type==t.ValueOptionType.Percentage?e.height*n.bottom.value:n.bottom.value),i},e.prototype._setVerticalAxisRange=function(t,e,n){n?t._scaleModel._setRange([e.bottom,e.top]):t._scaleModel._internalSetRange([e.bottom,e.top])},e.prototype._setHorizontalAxisRange=function(t,e,n){n?t._scaleModel._setRange([e.left,e.right]):t._scaleModel._internalSetRange([e.left,e.right])},e.prototype._initAxisesScale=function(t,e,n){for(var i=0,o=t._getVerticalAxisViews();i<o.length;i++){var r=o[i];this._setVerticalAxisRange(r,e,n)}for(var l=0,a=t._getHorizontalAxisViews();l<a.length;l++){var u=a[l];this._setHorizontalAxisRange(u,e,n)}},e.prototype._updateRectangle=function(t,e){var n=t.left+e._left,i=t.top+e._top,o=t.width-e._left-e._right,r=t.height-e._top-e._bottom;o<0&&(n-=-o/2,o=0),r<0&&(i-=-r/2,r=0),t.left=n,t.top=i,t.width=o,t.height=r},e.prototype._refresh=function(t,e,n,i){this._updateRectangle(e,i),t._canScroll()?(n.left=e.left,n.top=e.top,n.width=e.width/t._horizontalViewSize,n.height=e.height/t._verticalViewSize):(n.left=e.left,n.top=e.top,n.width=e.width,n.height=e.height),this._initAxisesScale(t,n,!0)},e.prototype._isValueAxis=function(e){var n=e._getScaleType();return n==t.ValueScaleType.Linear||n==t.ValueScaleType.Logarithmic||n==t.ValueScaleType.Percentage},e.prototype._getHorizontalAxisViewHeight=function(e,n,i){var o=0,r=0,l=e._getSuggestHeight(n.height),a=e._measure(i,new t.core.Size(n.width,l));e._hasOtherSide()?(o=a._linesSize.height>l?l:a._linesSize.height,r=a._lablesSize.height):o=a._size.height>l?l:a._size.height;var u=e._getForceHeight(n.height);null!=u&&(o=u);var s=e._getForceMaxHeight(n.height);return null!=s&&o>s&&(o=s),[o,r]},e.prototype._getVerticalAxisViewWidth=function(e,n,i){var o=0,r=0,l=e._getSuggestWidth(n.width),a=e._measure(i,new t.core.Size(l,n.height));e._hasOtherSide()?(o=a._linesSize.height>l?l:a._linesSize.height,r=a._lablesSize.height):o=a._size.height>l?l:a._size.height;var u=e._getForceWidth(n.width);null!=u&&(o=u);var s=e._getForceMaxWidth(n.width);return null!=s&&o>s&&(o=s),[o,r]},e.prototype._hasOrigin=function(t,e){if(null==e)return!1;var n=t._getAcutalOrigin();if(null==n)return!1;var i=e._scaleModel._maximum,o=e._scaleModel._minimum;return null!=i&&null!=o&&n>o&&n<i},e.prototype._preLayoutHorizontalAxisViews=function(e,n,i,o,r,l,a){for(var u=new t.core.Size(r.width,o.height),s=0,_=0,p=0,c=n;p<c.length;p++){var h=c[p],f=this._getHorizontalAxisViewHeight(h,u,e),d=f[0],y=f[1],g=h.getViewPosition(),m=h.getLabelPosition(),v=h._hasOtherSide();this._hasOrigin(h,i)||(g==t.Position.Top?s+=d:g==t.Position.Bottom&&(_+=d)),v&&(m==t.Position.Top?s+=y:m==t.Position.Bottom&&(_+=y))}if(l._top=Math.max(s,l._top),l._bottom=Math.max(_,l._bottom),a){for(var w=0,b=0,P=0,S=n;P<S.length;P++){var C=S[P],V=C._majorTickLabelViews();if(0!=V.length&&C.getLabelPosition()!=t.Position.None){var x=C._getCorrectAngle(),D=null==x?0:x,O=V.length,A=C._scaleModel._getReversed(),L=this._isNear(C),T=A?V[O-1]:V[0],M=C._measureLabelSize(e,u,T);w=0==D?Math.max(M.width/2,w):D>=90||D<=-90?Math.max(M.height/2,w):Math.max(D>0==L?Math.sin(t._Util.degree2Rad(Math.abs(D)))*M.height:Math.cos(t._Util.degree2Rad(Math.abs(D)))*M.width,w);var E=A?V[0]:V[O-1],I=C._measureLabelSize(e,u,E);b=0==D?Math.max(I.width/2,b):D>=90||D<=-90?Math.max(I.height/2,b):Math.max(D>0==L?Math.cos(t._Util.degree2Rad(Math.abs(D)))*I.width:Math.sin(t._Util.degree2Rad(Math.abs(D)))*I.height,b)}}l._left=Math.max(w,l._left),l._right=Math.max(b,l._right)}},e.prototype._preLayoutVerticalAxisViews=function(e,n,i,o,r,l,a,u){for(var s=new t.core.Size(o.width,l.height),_=0,p=0,c=0,h=n;c<h.length;c++){var f=h[c],d=this._getVerticalAxisViewWidth(f,s,e),y=d[0],g=d[1],m=f.getViewPosition(),v=f.getLabelPosition(),w=f._hasOtherSide();this._hasOrigin(f,i)||(m==t.Position.Left?_+=y:m==t.Position.Right&&(p+=y)),w&&(v==t.Position.Left?_+=g:v==t.Position.Right&&(p+=g))}if(a._left=Math.max(_,a._left),a._right=Math.max(p,a._right),u){for(var b=0,P=0,S=0,C=n;S<C.length;S++){var V=C[S],x=V._majorTickLabelViews();if(0!=x.length&&V.getLabelPosition()!=t.Position.None){var D=V._getCorrectAngle(),O=null==D?0:D,A=x.length,L=V._scaleModel._getReversed(),T=this._isNear(V),M=L?x[A-1]:x[0],E=V._measureLabelSize(e,s,M),I=0;I=0==O?E.height/2:O>=90||O<=-90?E.width/2:O>0==T?Math.cos(t._Util.degree2Rad(Math.abs(O)))*E.height:Math.sin(t._Util.degree2Rad(Math.abs(O)))*E.width,null!=V._scaleModel._value(M.tick)&&(I-=r.bottom-V._scaleModel._value(M.tick)),P=Math.max(I,P);var B=L?x[0]:x[A-1],R=V._measureLabelSize(e,s,B),k=0;k=0==O?R.height/2:O>=90||O<=-90?R.width/2:O>0==T?Math.sin(t._Util.degree2Rad(Math.abs(O)))*R.width:Math.cos(t._Util.degree2Rad(Math.abs(O)))*R.height,null!=V._scaleModel._value(B.tick)&&(k-=V._scaleModel._value(B.tick)-r.top),b=Math.max(b,k)}}a._top=Math.max(b,a._top),a._bottom=Math.max(P,a._bottom)}},e.prototype._layoutHorizontalAxisView=function(e,n,i,o,r,l,a){var u=new t.core.Size(l.width,o.height),s=this._getHorizontalAxisViewHeight(i,u,e),_=s[0],p=s[1],c=i._getAcutalOrigin(),h=i.getViewPosition(),f=i.getLabelPosition(),d=i._hasOtherSide(),y=null;null!=c&&null!=a&&(y=a._scaleModel._value(c));var g=new t.core.Rect(l.left,0,l.width,_),m=d?new t.core.Rect(l.left,0,l.width,p):null;null!=y?h==t.Position.Top?g.top=y-_:h==t.Position.Bottom&&(g.top=y):h==t.Position.Top?g.top=r.top-_:h==t.Position.Bottom&&(g.top=r.bottom),null!=m&&(f==t.Position.Top?m.top=r.top-p:f==t.Position.Bottom&&(m.top=r.bottom)),n._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,l.width,r.height),d?(n._otherSideRect=m,i._layout(e,g,n),n._otherSideRect=null):i._layout(e,g,n),n._lineCartesianCoordinateSystemContent=null},e.prototype._layoutVerticalAxisView=function(e,n,i,o,r,l,a){var u=new t.core.Size(o.width,l.height),s=this._getVerticalAxisViewWidth(i,u,e),_=s[0],p=s[1],c=i._getAcutalOrigin(),h=i.getViewPosition(),f=i.getLabelPosition(),d=i._hasOtherSide(),y=null;null!=c&&null!=a&&(y=a._scaleModel._value(c));var g=new t.core.Rect(0,l.top,l.height,_),m=d?new t.core.Rect(0,l.top,l.height,p):null;null!=y?h==t.Position.Left?g.left=y-_:h==t.Position.Right&&(g.left=y):h==t.Position.Left?g.left=r.left-_:h==t.Position.Right&&(g.left=r.right),null!=m&&(f==t.Position.Left?m.left=r.left-p:f==t.Position.Right&&(m.left=r.right)),n._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,r.width,l.height),null!=m?(n._otherSideRect=m,i._layout(e,g,n),n._otherSideRect=null):i._layout(e,g,n),n._lineCartesianCoordinateSystemContent=null},e.prototype._layoutCoordinateSystem=function(e,n,i,o){if(!t._isCartesianCoordinateSystemView(o))return null;var r=n.clone(),l=n.clone(),a=o,u=a._getHorizontalAxisViews(),s=a._getVerticalAxisViews(),_=this._calculatePadding(n,this.__layoutOption.padding);this._refresh(a,r,l,_);var p=new t._Padding(0,0,0,0);if(0==s.length&&0!=u.length)this._isValueAxis(u[0])?this._preLayoutHorizontalAxisViews(e,u,null,n,l,p,!0):this._preLayoutHorizontalAxisViews(e,u,null,n,l,p,!1),this._refresh(a,r,l,p);else if(s.length>0)if(0==u.length)this._preLayoutVerticalAxisViews(e,s,null,n,r,l,p,!0),this._refresh(a,r,l,p);else{var c=r.clone();this._preLayoutVerticalAxisViews(e,s,u[0],n,r,l,p,!0),this._refresh(a,c,l,p),this._isValueAxis(u[0])?this._preLayoutHorizontalAxisViews(e,u,s[0],n,l,p,!0):this._preLayoutHorizontalAxisViews(e,u,s[0],n,l,p,!1),this._refresh(a,r,l,p)}for(var h=0,f=s;h<f.length;h++){var d=f[h];this._layoutVerticalAxisView(e,i,d,n,r,l,u[0])}for(var y=0,g=u;y<g.length;y++){var m=g[y];this._layoutHorizontalAxisView(e,i,m,n,r,l,s[0])}return new t._CoordinateSystemLayoutResult(l,r)},e}();t._GcesLineCartesianCoordinateSystemLayout=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GcesLineCartesian",this.type=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._buildCoordinateSystemViewLayoutPolicy=function(e,n){var i=e._getDefinition()._type;if(t._isCartesianCoordinateSystemView(e)&&t._isXyCartesianCoordinateSystemView(e)&&"CartesianXy"==i){var o=null!=n?n.arguments:null,r=t.options._isCoordinateSystemLayoutOption(o)?o:new t.options._CoordinateSystemLayoutOption(null!=o?o.option():null);return new t._GcesLineCartesianCoordinateSystemLayout(r)}return null},e.prototype.queryInterface=function(t){return"ICoordinateSystemLayoutBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GcesLineCartesianCoordinateSystemLayoutPlugin=n}(t||(t={})),function(t){var e,i,o;e=t.plugins||(t.plugins={}),i=function(){function e(){}return e.prototype._splitWords=function(t,e){for(var n=[],i=0,o=0;o<t.length;o++)if(e.indexOf(t[o])>=0){for(var r=-1,l=o+1;l<t.length;l++)if(-1==e.indexOf(t[l])){r=l;break}if(-1==r)break;var a=r;n.push(t.substring(i,a)),i=a,o=a}return i<t.length&&n.push(t.substring(i,t.length)),n},e.prototype._measureString=function(e,n){var i=e.measureString(n);return e.textWritingMode==t.TextWritingMode.Vertical?i.height:i.width},e.prototype._ellipsisString=function(t,n,i){var o=n.replace(/\s+$/g,"");if(this._measureString(t,o)>i)for(var r=e.__defaultEllipsisText,l=r.length;l<=o.length;l++){var a=o.substr(0,o.length-l)+r;if(this._measureString(t,a)<=i)return a}return o},e.prototype.buildWrappedStrings=function(n,i,o,r){if(null==n||o<=0||i.length<=0)return new t._StringWrapResult([i],!0);var l=[],a=this._measureString(n,i)/i.length,u=Math.floor(o/a);r=null!=r?r:e.__defaultSeparators;for(var s=this._splitWords(i,r),_=0,p=0,c=0;c<s.length;c++)if((_+=s[c].length)>=u&&this._measureString(n,s.slice(p,c+1).join(""))>o){for(var h=p,f=e.__defaultEllipsisText,d=c-1;d>=p;d--){var y=s.slice(p,d+1).join("")+s[d+1][0]+f;if(Math.ceil(this._measureString(n,y))<=o){h=d+1;break}}var g=s.slice(p,h+1).join("");l.push(this._ellipsisString(n,g,o)),c=h,p=h+1,_=0}return p<s.length&&(g=s.slice(p,s.length).join(""),l.push(this._ellipsisString(n,g,o))),new t._StringWrapResult(l,!0)},e.prototype.queryInterface=function(t){return"IStringWrapPolicy"===t?this:null},e.__defaultEllipsisText="...",e.__defaultSeparators=[" "],e}(),o=function(e){function o(n){var o=e.call(this,null!=n?n:new i)||this;return o.name="GCESMeasureMultiLineString",o.type=t._BuildInRenderApiBuilderCollection._pluginType,o.priority=10,o}return n(o,e),o.prototype.buildRenderApi=function(t,e){return t==this.api&&null!=e&&e.type==this.type&&e.name==this.name?this:null},o.prototype.queryInterface=function(t){return"IRenderApiBuilder"===t||"IPlugin"===t?this:null},o.defaultPlugin=new o,o}(t._MeasureMultiLineStringRenderApi),e.GCESMeasureMultiLineStringRenderApiPlugin=o}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GcesReferenceLineLabelTextStylePolicyPlugin",this.type=t._BuildInReferenceLineLabelTextStylePolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._getTextStyle=function(e,n){var i=t._StyleUtility._buildStyle();t._OptionUtility._applyTextStyleOption(i,n._getOverlayView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(i,n._getOverlayView()._getDefinition()._plotConfigOption.textStyle);var o=n._getStyle().stroke;return o instanceof t._CssColor?i.textFill=o.color:o instanceof t._LinearGradientColor?o.colorStops.length>0&&(i.textFill=o.colorStops[0].color):o instanceof t._RadialGradientColor&&o.colorStops.length>0&&(i.textFill=o.colorStops[0].color),t._OptionUtility._applyTextStyleOption(i,e),i},e.prototype._buildReferenceLineLabelTextStylePolicy=function(){return this},e.prototype.queryInterface=function(t){return"IReferenceLineLabelTextStylePolicy"==t||"IReferenceLineLabelTextStylePolicyBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GcesReferenceLineLabelTextStylePolicyPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GCESSwappedBarAlignment",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildDataLabelDefinition=function(e,n,i){if(n.scope!=t._Constants.DataPointTextScope)return null;if(null!=i&&"Bar"==e._getType()&&e._plotConfigOption.swapAxes){var o=i.arguments,r=t.options._isGCESSwappedBarAlignmentDataLabelOption(o)?o:new t.options._GCESSwappedBarAlignmentDataLabelOverlayOption(null!=o?o.option():null);if(r.scope==t._Constants.DataPointTextScope)return new t._GcesSwappedBarAlignmentDataLabelDefinition(e,r)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GCESSwappedBarAlignmentDataLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this)||this;return o.__pointView=t,o.__hAlign=n,o.__vAlign=i,o}return n(i,e),i.prototype._pointView=function(){return this.__pointView},i.prototype._filter=function(e){var n=this._pointView()._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView(),i=n._getDefinition()._plotConfigOption.axisMode;return!(i==t.AxisMode.Polygonal||i==t.AxisMode.Radial)&&n._swapAxes()},i.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this._pointView(),this.__hAlign,this.__vAlign)},i.prototype._getPointInfo=function(e,n,i){var o=e._rectangle(),r=new t.core.Point(0,0);return n===t.SwapBarHAlign.Auto&&(n=e._isPositive()===!e._getCartesianSeriesView()._getCartesianGroupView()._yAxisView()._scaleModel._getReversed()?t.SwapBarHAlign.Right:t.SwapBarHAlign.Left),n==t.SwapBarHAlign.Center?r.x=o.center.x:n==t.SwapBarHAlign.Left?r.x=o.left:r.x=o.right,i===t.VAlign.Middle?r.y=o.center.y:i===t.VAlign.Bottom?r.y=o.bottom:r.y=o.top,new t.PointAttachInfo(r,t.Vector.horizon(),t.Vector.vertical(),t.Vector.horizon(),t.Vector.vertical().reverse())},i}(t._PointAttachmentAgent);t._GCESSwappedBarAlignmentPointAttachmentAgent=e}(t||(t={})),function(t){!function(t){t[t.Auto=0]="Auto",t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=3]="Right"}(t.SwapBarHAlign||(t.SwapBarHAlign={}))}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),Object.defineProperty(i.prototype,"dataLabelCloneMarker",{get:function(){return t.options._GCESSwappedBarAlignmentDataLabelOptionCloneMarker._gCESSwappedBarAlignmentDataLabelOptionCloneMarker},enumerable:!1,configurable:!0}),i.prototype._getDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;if(e instanceof t._BarXyCartesianPointView&&e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()){var i=e.text,o=this._createDataLabelFrame(e,i);if(null!=o){var r=this._createShapePrototype(n,i),l=new t.AttachmentAgentManager(new t._GCESSwappedBarAlignmentPointAttachmentAgent(e,i.hAlign,i.vAlign));if(null==r||null==l)return null;o._setContent(r),o._bind(l)}return o}return null},i.prototype._createDataLabelFrame=function(e,n){var i=new t.GeneralPointDataLabelFrame(e,n.connectingLine);i.rotate=n.angle;var o=t.AnnotationLib._parseCoordinateValue(n.offset);return null!=o&&(i.xOffset=o.x,i.yOffset=o.y),i},i.prototype._createShapePrototype=function(e,n){if(n.shape==t.DataLabelShapeType.Bubble){var i=new t._BubbleLabel(e.text);return i.textStyle=n.textStyle,i.backgroundStyle=n.style,i.junctionLayouter=new t._GCESSwappedBarAlignmentBubbleJunctionLayouter(n,i),i}var o=new t._LabelShape(e.text);return o.junctionLayouter=new t._GCESSwappedBarAlignmentJunctionLayouter(n,o),o.textStyle=n.textStyle,o.backgroundStyle=n.style,o},i.prototype._buildOverlayView=function(e){return new t._GcesSwappedBarAlignmentOverlayView(e,this)},i}(t._BaseDataLabelDefinition);t._GcesSwappedBarAlignmentDataLabelDefinition=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__offset=null,o.__angle=null,o.__hAlign=t.SwapBarHAlign.Auto,o.__vAlign=t.VAlign.Top,o.__shape=null,o.__connectingLine=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(this.__shape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"vAlign",{get:function(){return this.__vAlign},set:function(t){this.__vAlign!=t&&(this.__vAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hAlign",{get:function(){return this.__hAlign},set:function(t){this.__hAlign!=t&&(this.__hAlign=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connectingLine",{get:function(){return this.__connectingLine},set:function(t){this.__connectingLine!=t&&(this.__connectingLine=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelShapeType)],i.prototype,"shape",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"angle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.VAlign,t.VAlign.Top)],i.prototype,"vAlign",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SwapBarHAlign,t.SwapBarHAlign.Auto)],i.prototype,"hAlign",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"offset",null),o([t.JsonConverterAttribute(t._LineStyleOptionConverter,!0)],i.prototype,"connectingLine",null),i}(e._DataLabelOption),e._GCESSwappedBarAlignmentDataLabelOverlayOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GCESSwappedBarAlignmentDataLabelOverlayOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.offset=e.offset,n.hAlign=e.hAlign,n.vAlign=e.vAlign,n.angle=e.angle,n.shape=e.shape,n.connectingLine=null==e.connectingLine?null:t._LineStyleOptionCloneMarker._lineStyleOptionCloneMarker._cloneOf(e.connectingLine)},e._gCESSwappedBarAlignmentDataLabelOptionCloneMarker=new e,e}();t._GCESSwappedBarAlignmentDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isGCESSwappedBarAlignmentDataLabelOption=function(t){var e=t;return null!=e&&void 0!==e.hAlign&&void 0!==e.vAlign&&void 0!==e.offset&&void 0!==e.angle&&void 0!==e.shape&&void 0!==e.connectingLine}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(t,e){this.__option=t,this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box(),o=this.__option.vAlign;if(o===t.VAlign.Middle)return this.__shape._setPointerType(t.BubblePointerType.Bottom),t._MatrixUtility._transformPoint(e,i.center);var r=t._MatrixUtility._transformPoints(e,this._availableJunctions(i));return o===t.VAlign.Bottom?this._farthestPoint(r,n.yDir).point():this._farthestPoint(r,n.yDir.reverse()).point()},e.prototype._availableJunctions=function(e){var n=this.__shape.pointerSize.height;return[new t.core.Point(e.left+e.width/2,e.bottom+n),new t.core.Point(e.left+e.width/2,e.top),new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right+n,e.top+e.height/2)]},e.prototype._farthestPoint=function(e,n){for(var i=-Number.MAX_VALUE,o=new t.Vector,r=0,l=0;l<e.length;++l){var a=e[l],u=n.dot(new t.Vector(a.x,a.y));u>i&&(r=l,i=u,o.x=a.x,o.y=a.y)}return this.__shape._setPointerTypeWithIndex(r),o},e}();t._GCESSwappedBarAlignmentBubbleJunctionLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__option=t,this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box(),o=this.__option.vAlign;return o===t.VAlign.Middle?t._MatrixUtility._transformPoint(e,i.center):o===t.VAlign.Bottom?t._MatrixUtility._transformPoint(e,new t.core.Point(i.left+i.width/2,i.top)):t._MatrixUtility._transformPoint(e,new t.core.Point(i.left+i.width/2,i.bottom))},e}();t._GCESSwappedBarAlignmentJunctionLayouter=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseDataLabelOverlayView);t._GcesSwappedBarAlignmentOverlayView=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GCESSwappedBarFloatingLabels",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._isRadial=function(e){return e._plotConfigOption.axisMode==t.AxisMode.Radial||e._plotConfigOption.axisMode==t.AxisMode.Polygonal},e.prototype._buildDataLabelDefinition=function(e,n,i){if(n.scope!=t._Constants.DataPointTextScope)return null;if(null!=i&&"Bar"==e._getType()&&e._plotConfigOption.swapAxes&&!this._isRadial(e)){var o=i.arguments,r=t.options._isGCESSwappedBarFloatingDataLabelOption(o)?o:new t.options._GCESSwappedBarFloatingDataLabelOption(null!=o?o.option():null);if(r.scope==t._Constants.DataPointTextScope)return new t._GcesSwappedBarFloatingDataLabelDefinition(e,r)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GCESSwappedBarFloatingDataLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__pointView=t,n}return n(i,e),i.prototype._pointView=function(){return this.__pointView},i.prototype._filter=function(t){return this._pointView()._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()},i.prototype.pointAttachmentInfo=function(t){return this._getPointInfo(this._pointView())},i.prototype._getPointInfo=function(e){var n=new t.core.Point(0,0);n.y=e._rectangle().center.y,e._getCartesianSeriesView()._getCartesianGroupView()._yAxisView()._scaleModel._getReversed()?n.x=e._rectangle().left:n.x=e._rectangle().right;var i=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView());return new t.PointAttachInfo(n,t.Vector.horizon(),t.Vector.vertical(),i.xDir,i.yDir)},i}(t._PointAttachmentAgent);t._GCESSwappedBarFloatingPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),Object.defineProperty(i.prototype,"dataLabelCloneMarker",{get:function(){return t.options._GCESSwappedBarFloatingDataLabelOptionCloneMarker._gCESSwappedBarFloatingDataLabelOptionCloneMarker},enumerable:!1,configurable:!0}),i.prototype._getDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;if(null!=e&&e instanceof t._BarXyCartesianPointView||e instanceof t._FunnelCartesianPointView&&e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()){var i=e.text,o=this._createDataLabelFrame(e,i);if(null!=o){var r=this._createShapePrototype(n,i);if(t._isCartesianPointView(e)){var l=new t.AttachmentAgentManager(new t._GCESSwappedBarFloatingPointAttachmentAgent(e));if(null==r||null==l)return null;o._setContent(r),o._bind(l)}}return o}return null},i.prototype._createDataLabelFrame=function(e,n){return new t.GeneralPointDataLabelFrame(e,n.connectingLine)},i.prototype._createShapePrototype=function(e,n){var i=new t._LabelShape(e.text);return i.junctionLayouter=new t._GCESSwappedBarFloatingJunctionLayouter(n,i),i.textStyle=n.textStyle,i.backgroundStyle=n.style,i},i.prototype._buildOverlayView=function(e){return new t._SwappedBarFloatingAxialDataLabelOverlayView(e,this)},i}(t._BaseDataLabelDefinition);t._GcesSwappedBarFloatingDataLabelDefinition=e}(t||(t={})),t||(t={}),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__minPaddingInside=0,o.__paddingOutside=0,o.__connectingLine=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"minPaddingInside",{get:function(){return this.__minPaddingInside},set:function(t){(t=this.validate(t))!=this.__minPaddingInside&&(this.__minPaddingInside=e.prototype.validate.call(this,t))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingOutside",{get:function(){return this.__paddingOutside},set:function(t){(t=this.validate(t))!=this.__paddingOutside&&(this.__paddingOutside=e.prototype.validate.call(this,t))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connectingLine",{get:function(){return this.__connectingLine},set:function(t){this.__connectingLine!=t&&(this.__connectingLine=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],i.prototype,"minPaddingInside",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],i.prototype,"paddingOutside",null),o([t.JsonConverterAttribute(t._LineStyleOptionConverter,!0)],i.prototype,"connectingLine",null),i}(e._DataLabelOption),e._GCESSwappedBarFloatingDataLabelOption=i}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._GCESSwappedBarFloatingDataLabelOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.minPaddingInside=e.minPaddingInside,n.paddingOutside=e.paddingOutside,n.connectingLine=null==e.connectingLine?null:t._LineStyleOptionCloneMarker._lineStyleOptionCloneMarker._cloneOf(e.connectingLine)},e._gCESSwappedBarFloatingDataLabelOptionCloneMarker=new e,e}();t._GCESSwappedBarFloatingDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){!function(t){t._isGCESSwappedBarFloatingDataLabelOption=function(t){var e=t;return null!=e&&void 0!==e.minPaddingInside&&void 0!==e.paddingOutside&&void 0!==e.connectingLine}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(){function e(t,e){this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box();return t._MatrixUtility._transformPoint(e,new t.core.Point(i.left,i.top+i.height/2))},e}();t._GCESSwappedBarFloatingJunctionLayouter=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._xRangePadding=function(){return null},i.prototype._yRangePadding=function(){return this.__yRangePadding},i.prototype._createDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;if(null!=e&&e instanceof t._BarXyCartesianPointView||e instanceof t._FunnelCartesianPointView&&e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView()._swapAxes()){var i=e.text,o=this._createDataLabelFrame(e,i);if(null!=o){var r=this._createShapePrototype(n,i);if(t._isCartesianPointView(e)){var l=new t.AttachmentAgentManager(new t._GCESSwappedBarFloatingPointAttachmentAgent(e));if(null==r||null==l)return null;o._setContent(r),o._bind(l)}}return o}return null},i.prototype._createDataLabelFrame=function(e,n){return new t.GeneralPointDataLabelFrame(e,n.connectingLine)},i.prototype._createShapePrototype=function(e,n){var i=new t._LabelShape(e.text);return i.junctionLayouter=new t._GCESSwappedBarFloatingJunctionLayouter(n,i),i.textStyle=n.textStyle,i.backgroundStyle=n.style,i},i.prototype._labelFrames=function(){return this._labelViews()},i.prototype._preparePadding=function(t){var e=this._definition._option,n=0;0!=e.paddingOutside&&(n=e.paddingOutside);var i=0;0!=e.minPaddingInside&&(i=e.minPaddingInside);for(var o=0,r=0,l=this._labelFrames();r<l.length;r++){var a=l[r];a._refreshSize(t),o=Math.max(a.width,o)}this.__yRangePadding=[0,i+n+o]},i.prototype._layoutContent=function(t,n){e.prototype._layoutContent.call(this,t,n),this._layoutByGroups()},i.prototype._layoutByGroups=function(){var t=0,e=this._definition._option;if(0!=e.paddingOutside&&(t=e.paddingOutside),this._ownerView._yAxisView()._scaleModel._getReversed())for(var n=this._ownerView._rectangle(),i=0,o=this._labelFrames();i<o.length;i++)null!=(c=(u=o[i])._getMatrixTransformInfo())&&(c.connectionPoint.x=n.left+t);else{for(var r=0,l=0,a=this._labelFrames();l<a.length;l++){var u=a[l];r=Math.max(u.width,r)}for(var s=this._ownerView._getLayoutView()._rectangle(),_=0,p=this._labelFrames();_<p.length;_++){var c;null!=(c=(u=p[_])._getMatrixTransformInfo())&&(c.connectionPoint.x=s.right-t-r)}}},i.prototype.queryInterface=function(t){return"IAxialPaddingConsumer"===t?this:e.prototype.queryInterface.call(this,t)},i}(t._BaseDataLabelOverlayView);t._SwappedBarFloatingAxialDataLabelOverlayView=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="GcesTrendlineExpressionTextStylePolicyPlugin",this.type=t._BuildInTrendlineExpressionTextStylePolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._getTextStyle=function(e,n){var i=t._StyleUtility._buildStyle();i.fontFamily="MathJax_Main",i.textFill="#000000",i.fontStyle=t.FontStyle.Italic,i.fontSize="14px";var o=n._getStyle().stroke;return o instanceof t._CssColor?i.textFill=o.color:o instanceof t._LinearGradientColor?o.colorStops.length>0&&(i.textFill=o.colorStops[0].color):o instanceof t._RadialGradientColor&&o.colorStops.length>0&&(i.textFill=o.colorStops[0].color),t._OptionUtility._applyTextStyleOption(i,e),i},e.prototype._buildTrendlineExpressionTextStylePolicy=function(){return this},e.prototype.queryInterface=function(t){return"ITrendlineExpressionTextStylePolicy"==t||"ITrendlineExpressionTextStylePolicyBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.GcesTrendlineExpressionTextStylePolicyPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="KrewRadarReferenceLineLabelLayoutPlugin",this.type=t._BuildInReferenceLineLabelLayoutInjectorCollection._pluginType,this.priority=10}return e.prototype.inject=function(e,n){var i=this;if(null!=n&&n.length>0&&n.filter((function(t){return t.type===i.type&&t.name===i.name})).length>0&&t._isCartesianCircleReferenceLineOverlayItemView(e)){var o=e,r=new t.models._KrewRadarReferenceLineLabelLayout(o);e._injectLabelLayouter(r)}},e.prototype.queryInterface=function(t){return"IReferenceLineLabelLayoutInjector"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.KrewRadarReferenceLineLabelLayoutPlugin=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function n(t){this.__option=t._cartesianReferenceLineOverlayView()._referenceLineOverlayDefinition()._option.label,this.__referenceLine=t}return n.prototype.layout=function(n,i){var o=null;o=t.options._isKrewRadarReferenceLineLabelOffsetOption(this.__option)?this.__option:new t.options._KrewRadarReferenceLineLabelOffsetOption(this.__option.option()),new e._CircleReferencelineLabelLayouter(this.__referenceLine).layout(n,i);var r=this.__option.position;if(r==t.OverlayLabelPosition.TopCenter||r==t.OverlayLabelPosition.BottomCenter){var l=this.__referenceLine._labelView(),a=l._getRectangle(),u=l._getTextLocation(),s=this._parseOffset(o.offset),_=0,p=0;null!=s&&(_=s[0],p=s[1]);var c=a.size,h=_+.5*c.width,f=-p;u.x+=h,u.y+=f,l._setTextLocation(u),l._layout(n,i,new t.core.Rect(a.left+h,a.top+f,c.width,c.height))}},n.prototype._parseOffset=function(t){try{if(null!=t){var e=t.split(",");if(2==e.length){var n=parseFloat(e[0]);if(!isNaN(n)){var i=parseFloat(e[1]);if(!isNaN(i))return[n,i]}}}}catch(t){throw new Error("Wrong format of offset.")}return null},n}(),e._KrewRadarReferenceLineLabelLayout=n}(t||(t={})),function(t){!function(t){t._isKrewRadarReferenceLineLabelOffsetOption=function(t){return null!=t&&void 0!==t.offset}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__offset=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"offset",{get:function(){return this.__offset},set:function(t){t!=this.__offset&&(this.__offset=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"offset",null),i}(e._Option),e._KrewRadarReferenceLineLabelOffsetOption=i}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="LegendDataPoint",this.type=t._BuildInLegendDataPointsPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildDataPointsPolicy=function(e){return t._isSingleLegendDataModel(e)||t._isMergedLegendDataModel(e)?this:null},e.prototype._getPointViews=function(e,n){for(var i=[],o=0,r=n._findRelatedPlotViews(e);o<r.length;o++){var l=r[o];if(t._isHierarchicalPlotView(l)){var a=l._getRootPointView();if(null!=a)for(var u=0,s=a._children;u<s.length;u++){var _=s[u];i.push(_)}}else i.push.apply(i,l._getPointViews())}return i},e.prototype.queryInterface=function(t){return"ILegendDataPointsPolicy"==t||"ILegendDataPointsPolicyBuilder"==t||"IPlugin"==t?this:null},e}(),e.CompatibleLegendDataPointsPolicyPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="LegendFilter",this.type=t._BuildInClickInteractionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildClickInteraction=function(e,n){return new t.models._LegendFilterInteraction(e,n)},e.prototype.queryInterface=function(t){return"IClickInteractionBuilder"==t||"IPlugin"==t?this:null},e.legendFilterInteractionBuilder=new e,e}(),e.LegendFilterInteractionBuilder=n}(t||(t={})),function(t){var e,n;e=t.models||(t.models={}),n=function(){function e(t,e){this._control=t,this.__option=e}return e.prototype.onClick=function(e,n){if(null==n)return 0;var i=t._ViewModelUtility._legendItemView(n);if(null==i)return 0;var o=this._getLegendType(i);if(o==t.LegendType.BackgroundColor||o==t.LegendType.Overlay)return 0;var r=!i._data._filtered;if(i._data._filtered=r,r){var l=this._getPluginArgumentsOption(this.__option);null!=l&&(i._setFilteredOutLabelStyleByOption(l.filteredOutLabelStyle),i._filteredOutSymbolStyle=this._buildFilteredOutSymbolStyle(l.filteredOutSymbolStyle))}for(var a=[],u=0,s=i.relatedModels();u<s.length;u++)if((d=s[u]).type==t.ElementType.DataPoint){var _=t._PlotViewModelUtility._toPointView(d);if(null!=_){_._legendFiltered=r;var p=d.parent;a.indexOf(p)<0&&a.push(p)}}else d.type==t.ElementType.Series&&null!=(f=t._PlotViewModelUtility._toSeriesView(d))&&(f._legendFiltered=r);for(var c=0,h=a;c<h.length;c++){var f,d=h[c];if(null!=(f=t._PlotViewModelUtility._toSeriesView(d))){var y=f._getPointViews().every((function(t){return!(t._data()._dataSlices._length>0)||t._legendFiltered}));f._legendFiltered=y}}return 3},e.prototype._getLegendType=function(t){return t._data._legend._getDefinition()._legendType},e.prototype._getPluginArgumentsOption=function(e){if(null!=e){var n=e.arguments;if(null!=n)return t.options._isLegendFilterInteractionPluginArgumentsOption(n)?n:new t.options._LegendFilterInteractionPluginArgumentsOption(n.option())}return null},e.prototype._buildFilteredOutSymbolStyle=function(e){if(null==e)return null;var n=t._StyleUtility._buildStyle();return null!=e.opacity&&(n.fillOpacity=e.opacity,n.strokeOpacity=e.opacity),n},e}(),e._LegendFilterInteraction=n}(t||(t={})),function(t){!function(t){t._isLegendFilterInteractionPluginArgumentsOption=function(t){var e=t;return void 0!==e.filteredOutLabelStyle&&void 0!==e.filteredOutSymbolStyle}}(t.options||(t.options={}))}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__filteredOutLabelStyle=null,o.__filteredOutSymbolStyle=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"filteredOutLabelStyle",{get:function(){return this.__filteredOutLabelStyle},set:function(t){this.__filteredOutLabelStyle!=t&&(this.__filteredOutLabelStyle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"filteredOutSymbolStyle",{get:function(){return this.__filteredOutSymbolStyle},set:function(t){this.__filteredOutSymbolStyle!=t&&(this.__filteredOutSymbolStyle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_TextStyleOption")],i.prototype,"filteredOutLabelStyle",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_LegendItemSymbolStyleOption")],i.prototype,"filteredOutSymbolStyle",null),i}(e._Option),e._LegendFilterInteractionPluginArgumentsOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__opacity=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){t=this.validate(t),null!=this.__opacity&&this.__opacity==t||(this.__opacity=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"opacity",null),i}(e._Option),e._LegendItemSymbolStyleOption=i}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="LightnessLegendView",this.type=t._BuildInLegendViewBuilderCollection._pluginType,this.priority=1}return e.prototype._buildLegendView=function(e,n){return n._getAvailable()&&t._LegendUtility._isType(n,t.LegendType.Lightness)&&"Lightness"==n._visualType()&&n instanceof t._LightnessLegendDataModel?new t._LightnessLegendView(e,n):null},e.prototype.queryInterface=function(t){return"ILegendViewBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.LightnessLegendViewPlugin=n}(t||(t={})),function(t){var e=function(e){function i(n){var i=e.call(this,n)||this;return i.__width=0,i.__height=0,i.__rect=new t.core.Rect(0,0,0,0),i}return n(i,e),i.prototype._lightnessLegendView=function(){return this._legendView()},i.prototype._measure=function(e,n){e.beginTransform(),t._StyleUtility._applyAllStyle(e,this._getTextStyle());var i=e.measureSingleLineString("A").height;e.restoreTransform();var o=this._orientation();return this.__width=1.2*i,this.__height=5*i,o==t.Orientation.Vertical?new t._RectangleViewMetricsResult(new t.core.Size(this.__width,this.__height)):new t._RectangleViewMetricsResult(new t.core.Size(this.__height,this.__width))},i.prototype._getTextStyle=function(){var e=t._StyleUtility._buildStyle();return t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._legendView()._option.textStyle),e},i.prototype._layoutInnerContent=function(e,n,i){var o=n.center;this._orientation()==t.Orientation.Vertical?this.__rect=new t.core.Rect(o.x-this.__width/2,o.y-this.__height/2,this.__width,this.__height):this.__rect=new t.core.Rect(o.x-this.__height/2,o.y-this.__width/2,this.__height,this.__width)},i.prototype._renderInnerContent=function(e,n,i){e.beginTransform();var o=t._StyleUtility._buildStyle(),r=this._getColor();o.stroke=r,o.fill=this._calculateLinearGradientColor(r),t._StyleUtility._applyStyle(e,o),e.drawRect(this.__rect.left,this.__rect.top,this.__rect.width,this.__rect.height),e.restoreTransform()},i.prototype._getColor=function(){if(null!=this._lightnessLegendView()._iconColor()){var e=this._lightnessLegendView()._iconColor();if(null!=e)return e}return t._CssColor._defaultStyleColor()},i.prototype._calculateLinearGradientColor=function(e){var n=this._lightnessLegendView()._data();return t.models._isCssColor(e)?t._ColorUtility._buildLinearGradientColorByLightnessRange(e,n._minLightness,n._maxLightness,this._orientation()):e},i}(t._LegendContentView);t._LightnessLegendContentView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n,n._option,n._kind())||this;return i.__data=n,i}return n(i,e),i.prototype._title=function(){var e=null!=this._option?t._AnyTypeUtility._toStringOrNull(this._option.title):null;return null==e?this._data()._labelBuilder._build():e},i.prototype._data=function(){return this.__data},i.prototype._iconColor=function(){var e=this._option.style.iconColor;return null!=e||null!=(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.style.iconColor)||null!=(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.style.iconColor)?t._OptionUtility._colorFromOption(e):null},i.prototype._createContentView=function(){return new t._LightnessLegendContentView(this)},i.prototype._renderLegendContent=function(t,e){this._contentView()._render(t,e)},i}(t._LegendView);t._LightnessLegendView=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__pointView=t,n}return n(i,e),i.prototype._pointView=function(){return this.__pointView},i.prototype._filter=function(e){var n=this._pointView()._getPlotView()._getDefinition()._plotConfigOption.axisMode;return!(n==t.AxisMode.Polygonal||n==t.AxisMode.Radial)},i.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return null!=e?this._getPointInfo(this._pointView(),e.placement,e.position):null},i.prototype._getPointInfo=function(e,n,i){var o=e._rectangle();e._isVisible()||(o=new t.core.Rect(o.center.x,o.center.y,0,0));var r=t.AnnotationLib._PointAutoDirectionBuilder(e),l=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView()),a=null,u=null,s=[new t.core.Point(o.left+o.width/2,o.top),new t.core.Point(o.left+o.width/2,o.bottom),new t.core.Point(o.left,o.top+o.height/2),new t.core.Point(o.right,o.top+o.height/2)],_=o.center;if(i!==t.AnnotationPosition.Center){switch(n){case t.Placement.Auto:a=null!=r.xDir?r.xDir:l.xDir,u=null!=r.yDir?r.yDir:l.yDir;break;case t.Placement.Top:u=t.Vector.vertical(),a=t.Vector.horizon();break;case t.Placement.Left:u=new t.Vector(-1,0),a=t.Vector.vertical();break;case t.Placement.Right:u=t.Vector.horizon(),a=new t.Vector(0,1);break;case t.Placement.Bottom:u=new t.Vector(0,1),a=new t.Vector(-1,0)}_=t.Vector.farthestPoint(s,u).point()}else a=null!=r.xDir?r.xDir:l.xDir,u=null!=r.yDir?r.yDir:l.yDir;return new t.PointAttachInfo(_,a,u,l.xDir,l.yDir)},i}(t._PointAttachmentAgent);t._CartesianRectangleViewPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(){function t(t){this.__option=t}return Object.defineProperty(t.prototype,"position",{get:function(){return this.__option.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placement",{get:function(){return this.__option.placement},enumerable:!1,configurable:!0}),t.prototype.queryInterface=function(t){return"IAnnotationPosition"===t?this:null},t}();t._DataLabelAttachmentAgentProxy=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__pointView=t,n}return n(i,e),i.prototype._pointView=function(){return this.__pointView},i.prototype._filter=function(e){var n=this._pointView()._getPlotView(),i=n._getDefinition()._plotConfigOption.axisMode;return(i==t.AxisMode.Polygonal||i==t.AxisMode.Radial)&&!n._swapAxes()},i.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return null!=e?this._getPointInfo(this._pointView(),e.placement,e.position):null},i.prototype._getPointInfo=function(e,n,i){if(i==t.AnnotationPosition.Center){var o=e._getDonutShape();if(null==o)return null;var r=void 0,l=void 0,a=o.startAngle+o.sweepAngle/2,u=e._getCartesianSeriesView()._getCartesianGroupView()._verticalAxisView();u._scaleModel._getReversed()?(r=new t.Vector(Math.cos(a),Math.sin(a)),l=new t.Vector(Math.cos(a+Math.PI/2),Math.sin(a+Math.PI/2)).reverse()):(r=new t.Vector(Math.cos(a),Math.sin(a)).reverse(),l=new t.Vector(Math.cos(a+Math.PI/2),Math.sin(a+Math.PI/2)));var s=o.innerRadius+(o.radius-o.innerRadius)/2,_=new t.core.Point(u._cx+Math.cos(a)*s,u._cy+Math.sin(a)*s),p=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView(),a);return new t.PointAttachInfo(_,r,l,p.xDir,p.yDir)}return this._getPointAttachmentInfoby(e,n)},i.prototype._getPointAttachmentInfoby=function(e,n){var i,o,r,l,a=e._getDonutShape();if(null==a)return null;if(n==t.Placement.Auto||n==t.Placement.Top||n==t.Placement.Bottom){var u=n===t.Placement.Top;n==t.Placement.Auto&&(u=e._isPositive());var s=e._getCartesianSeriesView()._getCartesianGroupView()._verticalAxisView();!s._scaleModel._getReversed()===u?(l=a.startAngle+a.sweepAngle,i=new t.Vector(Math.cos(l),Math.sin(l)).reverse(),o=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2))):(l=a.startAngle,i=new t.Vector(Math.cos(l),Math.sin(l)),o=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2)).reverse());var _=new t.core.Point(Math.cos(l)*a.innerRadius,Math.sin(l)*a.innerRadius),p=new t.core.Point(Math.cos(l)*a.radius,Math.sin(l)*a.radius);r=new t.core.Point(s._cx+(_.x+p.x)/2,s._cy+(_.y+p.y)/2)}else{l=a.startAngle+a.sweepAngle/2;var c=n===t.Placement.Right,h=void 0,f=e._getCartesianSeriesView()._getCartesianGroupView()._horizontalAxisView();!f._scaleModel._getReversed()===c?(h=a.innerRadius,i=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2)).reverse(),o=new t.Vector(Math.cos(l),Math.sin(l)).reverse()):(h=a.radius,i=new t.Vector(Math.cos(l+Math.PI/2),Math.sin(l+Math.PI/2)),o=new t.Vector(Math.cos(l),Math.sin(l))),r=new t.core.Point(f._cx+Math.cos(l)*h,f._cy+Math.sin(l)*h)}var d=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView(),l);return new t.PointAttachInfo(r,i,o,d.xDir,d.yDir)},i}(t._PointAttachmentAgent);t._DonutPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__pointView=t,n}return n(i,e),i.prototype._pointView=function(){return this.__pointView},i.prototype._filter=function(e){var n=this._pointView()._getPlotView(),i=n._getDefinition()._plotConfigOption.axisMode;return(i==t.AxisMode.Polygonal||i==t.AxisMode.Radial)&&n._swapAxes()},i.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return null!=e?this._getPointInfo(this._pointView(),e.position):null},i.prototype._getPointInfo=function(e,n){var i=e._getDonutShape();if(null==i)return null;var o,r=i.startAngle+i.sweepAngle/2;o=n==t.AnnotationPosition.Center?i.innerRadius+(i.radius-i.innerRadius)/2:n==t.AnnotationPosition.Inside?i.innerRadius:i.radius;var l=e._getCartesianSeriesView()._getCartesianGroupView()._verticalAxisView(),a=new t.core.Point(l._cx+Math.cos(r)*o,l._cy+Math.sin(r)*o),u=t.AnnotationLib._getXYDirection(e._getCartesianSeriesView()._getCartesianGroupView(),r);return new t.PointAttachInfo(a,u.xDir,u.yDir,u.xDir,u.yDir)},i}(t._PointAttachmentAgent);t._PiePointAttachmentAgent=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__view=t,n}return n(i,e),i.prototype._view=function(){return this.__view},i.prototype.pointAttachmentInfo=function(t){var e=this._queryInterface(t,"IAnnotationPosition");return null!=e?this._getPointInfo(this._view(),e.position):null},i.prototype._getPointInfo=function(e,n){var i,o=e._getStartAngle()+e._getSweep()/2;i=n==t.AnnotationPosition.Center?e._getInnerRadius()+(e._getRadius()-e._getInnerRadius())/2:n==t.AnnotationPosition.Inside?e._getInnerRadius():e._getRadius();var r=new t.core.Point(e._getCenter().x+Math.cos(o)*i,e._getCenter().y+Math.sin(o)*i),l=new t.Vector(Math.cos(o),Math.sin(o)),a=new t.Vector(Math.cos(o+Math.PI/2),Math.sin(o+Math.PI/2));return new t.PointAttachInfo(r,a,l,a,l)},i}(t._PointAttachmentAgent);t._SunburstPointAttachmentAgent=e}(t||(t={})),function(t){var e=function(){function e(){}return e._getBuilder=function(e,n){return new t._MultiFunctionalDataLabelFrameBuilder(e,n)},e}();t._DeafultDataLabelFrameBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._build=function(e,n){var i=null;if(t._isCartesianPointView(e)&&t._isSymbolCartesianPointView(e)){var o=e;i=new t.AttachmentAgentManager(new t._CartesianRadialSymbolPointViewPointAttachmentAgent(o),new t._CartesianRectangleViewPointAttachmentAgent(o))}else t._isRadialBarCartesianPointView(e)?i=new t.AttachmentAgentManager(new t._DonutPointAttachmentAgent(e),new t._PiePointAttachmentAgent(e)):t._isCartesianPointView(e)?i=new t.AttachmentAgentManager(new t._CartesianRectangleViewPointAttachmentAgent(e)):e instanceof t._SunburstPointView&&(i=new t.AttachmentAgentManager(new t._SunburstPointAttachmentAgent(e)));return null!=i?new t.ProxyAttachmentAgentManager(i,new t._DataLabelAttachmentAgentProxy(n)):null},e}();t._MultiFunctionalDataLabelAttachmentAgentBuilder=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__point=t,this.__option=e}return e.prototype._build=function(){var e=this.__option,n=new t.GeneralPointDataLabelFrame(this.__point,this.__option.connectingLine);n.rotate=e.angle,n.relativeRotate=e.relativeAngle;var i=t.AnnotationLib._parseCoordinateValue(this.__option.offset);return null!=i&&(n.xOffset=i.x,n.yOffset=i.y),n},e}();t._MultiFunctionalDataLabelFrameBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._build=function(e,n){return n instanceof t._LabelShape?new t._MultiFunctionalJunctionLayouter(e,n):n instanceof t._BubbleLabel?new t._MultiFunctionalBubbleJunctionLayouter(e,n):null},e}();t._MultiFunctionalJunctionLayouterBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e._build=function(e,n){var i;if(n.shape==t.DataLabelShapeType.Bubble)return(i=new t._BubbleLabel(e.text)).textStyle=n.textStyle,i.backgroundStyle=n.style,i.junctionLayouter=t._MultiFunctionalJunctionLayouterBuilder._build(n,i),i;if(n.shape==t.DataLabelShapeType.Balloon)return(i=new t._BalloonLabel(e.text)).textStyle=n.textStyle,i.backgroundStyle=n.style,i;var o=new t._LabelShape(e.text);return o.junctionLayouter=t._MultiFunctionalJunctionLayouterBuilder._build(n,o),o.textStyle=n.textStyle,o.backgroundStyle=n.style,o},e}();t._MultiFunctionalLabelShapeBuilder=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__option=t,this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box(),o=this.__option.position;if(o===t.AnnotationPosition.Center)return this.__shape._setPointerType(t.BubblePointerType.Bottom),t._MatrixUtility._transformPoint(e,i.center);var r=t._MatrixUtility._transformPoints(e,this._availableJunctions(i));return o===t.AnnotationPosition.Inside?this._farthestPoint(r,n.yDir).point():this._farthestPoint(r,n.yDir.reverse()).point()},e.prototype._availableJunctions=function(e){var n=this.__shape.pointerSize.height;return[new t.core.Point(e.left+e.width/2,e.bottom+n),new t.core.Point(e.left+e.width/2,e.top),new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right+n,e.top+e.height/2)]},e.prototype._farthestPoint=function(e,n){for(var i=-Number.MAX_VALUE,o=new t.Vector,r=0,l=0;l<e.length;++l){var a=e[l],u=n.dot(new t.Vector(a.x,a.y));u>i&&(r=l,i=u,o.x=a.x,o.y=a.y)}return this.__shape._setPointerTypeWithIndex(r),o},e}();t._MultiFunctionalBubbleJunctionLayouter=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.__option=t,this.__shape=e}return e.prototype._getJunction=function(e,n){var i=this.__shape._box(),o=this.__option.position;if(o===t.AnnotationPosition.Center)return t._MatrixUtility._transformPoint(e,i.center);var r=t._MatrixUtility._transformPoints(e,this._availableJunctions(i));return o===t.AnnotationPosition.Inside?t.Vector.farthestPoint(r,n.yDir).point():t.Vector.farthestPoint(r,n.yDir.reverse()).point()},e.prototype._availableJunctions=function(e){return[new t.core.Point(e.left+e.width/2,e.top),new t.core.Point(e.left,e.top+e.height/2),new t.core.Point(e.right,e.top+e.height/2),new t.core.Point(e.left+e.width/2,e.bottom)]},e}();t._MultiFunctionalJunctionLayouter=e}(t||(t={})),function(t){var e=function(e){function i(n,i){return e.call(this,n,i,t.OverlayDisplay.Front)||this}return n(i,e),Object.defineProperty(i.prototype,"dataLabelCloneMarker",{get:function(){return t.options._MultiFunctionalDataLabelOptionCloneMarker._multiFunctionalDataLabelOptionCloneMarker},enumerable:!1,configurable:!0}),i.prototype._getDataLabelView=function(e){var n=e._dataLabel();if(null==n)return null;var i=e.text,o=t._DeafultDataLabelFrameBuilder._getBuilder(e,i)._build();if(null!=o){var r=t._MultiFunctionalLabelShapeBuilder._build(n,i),l=t._MultiFunctionalDataLabelAttachmentAgentBuilder._build(e,i);if(null==r||null==l)return null;o._setContent(r),o._bind(l)}return o},i.prototype._buildOverlayView=function(e){return new t._MultiFunctionalDataLabelOverlayView(e,this)},i}(t._BaseDataLabelDefinition);t._MultiFunctionalDataLabelDefinition=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="MultiFunctional",this.type=t._BuildInDataLabelDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildDataLabelDefinition=function(e,n,i){if(n.scope!=t._Constants.DataPointTextScope)return null;if(null!=i){var o=i.arguments,r=t.options._isMultiFunctionalDataLabelOption(o)?o:new t.options._MultiFunctionalDataLabelOverlayOption(null!=o?o.option():null);if(r.scope==t._Constants.DataPointTextScope)return new t._MultiFunctionalDataLabelDefinition(e,r)}return null},e.prototype.queryInterface=function(t){return"IDataLabelDefinitionBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.MultiFunctionalDataLabelPlugin=n,e.PluginCollection.defaultPluginCollection.register(n.defaultPlugin,!1)}(t||(t={})),function(t){!function(t){var e=function(){function e(){}return e.prototype._cloneOf=function(e){var n=new t._MultiFunctionalDataLabelOverlayOption(null);return n._setOption(e.option()),this._copy(e,n),n},e.prototype._copy=function(e,n){t._DataLabelOptionCloneMaker._dataLabelOptionCloneMaker._copy(e,n),n.offset=e.offset,n.position=e.position,n.placement=e.placement,n.angle=e.angle,n.relativeAngle=e.relativeAngle,n.shape=e.shape,n.connectingLine=null==e.connectingLine?null:t._LineStyleOptionCloneMarker._lineStyleOptionCloneMarker._cloneOf(e.connectingLine)},e._multiFunctionalDataLabelOptionCloneMarker=new e,e}();t._MultiFunctionalDataLabelOptionCloneMarker=e}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__offset=null,o.__angle=null,o.__relativeAngle=null,o.__placement=t.Placement.Auto,o.__position=t.AnnotationPosition.Outside,o.__shape=null,o.__connectingLine=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"shape",{get:function(){return this.__shape},set:function(t){this.__shape!=t&&(this.__shape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"relativeAngle",{get:function(){return this.__relativeAngle},set:function(t){this.__relativeAngle!=t&&(this.__relativeAngle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.__angle},set:function(t){this.__angle!=t&&(this.__angle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"placement",{get:function(){return this.__placement},set:function(t){this.__placement!=t&&(this.__placement=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this.__position},set:function(t){this.__position!=t&&(this.__position=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offset",{get:function(){return this.__offset},set:function(t){this.__offset!=t&&(this.__offset=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connectingLine",{get:function(){return this.__connectingLine},set:function(t){this.__connectingLine!=t&&(this.__connectingLine=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.DataLabelShapeType)],i.prototype,"shape",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"relativeAngle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"angle",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.Placement,t.Placement.Auto)],i.prototype,"placement",null),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnnotationPosition,t.AnnotationPosition.Outside)],i.prototype,"position",null),o([t.JsonConverterAttribute(t._StringConverter,!1)],i.prototype,"offset",null),o([t.JsonConverterAttribute(t._LineStyleOptionConverter,!0)],i.prototype,"connectingLine",null),i}(e._DataLabelOption),e._MultiFunctionalDataLabelOverlayOption=i}(t||(t={})),function(t){!function(t){t._isMultiFunctionalDataLabelOption=function(t){var e=t;return null!=e&&void 0!==e.position&&void 0!==e.placement&&void 0!==e.offset&&void 0!==e.angle&&void 0!==e.relativeAngle&&void 0!==e.shape&&void 0!==e.connectingLine}}(t.options||(t.options={}))}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e}(t._BaseDataLabelOverlayView);t._MultiFunctionalDataLabelOverlayView=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="MultiRowTickLabelLayoutPlugin",this.type=t._BuildInTickLabelLayoutPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildTickLabelLayoutPolicy=function(e,n){if(e._getDefinition()._orientation==t.Orientation.Horizontal&&t._isLineAxisView(e)){var i=null!=n?n.arguments:null,o=t.options._isMultiRowTickLabelLayoutPluginOption(i)?i:new t.options._MultiRowTickLabelLayoutPluginOption(null!=i?i.option():null);return new t._MultiRowTickLabelLayoutPolicy(o.row)}return null},e.prototype.queryInterface=function(t){return"ITickLabelLayoutPolicyBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.MultiRowTickLabelLayoutPlugin=n}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this)||this;return n.__row=t,n}return n(i,e),i.prototype._calculateMaxLabelSize=function(n,i,o,r,l){if(this._isHierarchicalAxis(n))return e.prototype._calculateMaxLabelSize.call(this,n,i,o,r,l);if(0==this.__row)return new t.core.Size(0,0);for(var a=new t._Map,u=0;u<this.__row;++u)a._set(u,[]);for(u=0;u<i.length;++u)a._get(u%this.__row).push(i[u]);var s=new t.core.Size(0,0);for(u=0;u<this.__row;++u){var _=e.prototype._calculateMaxLabelSize.call(this,n,a._get(u),o,r,l);_.width>s.width&&(s.width=_.width),s.height+=_.height}return s},i.prototype._measure=function(n,i,o,r,l){if(this._isHierarchicalAxis(n))return e.prototype._measure.call(this,n,i,o,r,l);if(0==this.__row)return new t.core.Size(0,0);r.beginTransform(),t._OptionUtility._applyTextStyleOption(r,n._getDefinition()._option.labelStyle);for(var a=new t._Map,u=0;u<this.__row;++u)a._set(u,[]);for(u=0;u<i.length;++u)a._get(u%this.__row).push(i[u]);var s=new t.core.Size(0,0);for(u=0;u<this.__row;++u){var _=e.prototype._calculateMaxLabelSize.call(this,n,a._get(u),o,r,l),p=n._getCorrectAngle(),c=_.width,h=_.height;if(0!=p){var f=p*Math.PI/180;h=_.width*Math.abs(Math.sin(f))+_.height*Math.abs(Math.cos(f)),c=_.width*Math.abs(Math.cos(f))+_.height*Math.abs(Math.sin(f))}s.width=Math.max(s.width,c),s.height+=h}return r.restoreTransform(),s},i.prototype._layout=function(n,i,o,r,l,a){if(this._isHierarchicalAxis(n))e.prototype._layout.call(this,n,i,o,r,l,a);else if(0!=this.__row){r.beginTransform(),t._OptionUtility._applyTextStyleOption(r,n._getDefinition()._option.textStyle),t._OptionUtility._applyTextStyleOption(r,n._getDefinition()._option.labelStyle);for(var u=new t._Map,s=0;s<this.__row;++s)u._set(s,[]);for(s=0;s<i.length;++s)u._get(s%this.__row).push(i[s]);var _=n._getCorrectAngle(),p=null!=_?_:0,c=t._Util.degree2Rad(p),h=this._getPadding(n),f=this._isNear(n),d=l.clone();for(s=0;s<this.__row;++s){for(var y=u._get(s),g=0,m=0,v=0,w=y;v<w.length;v++){var b=w[v];if(n._labels()!=t.AxisPosition.None){b._setAutoOverflow(n._autoOverflow);var P=this._labelsOverflowSize(n,o,r,d.size,b,y.length,p);b._measure(r,P);var S=b._textView()._getMeasureInfo()._size;g=Math.max(S.height,g),m=Math.max(S.width,m)}}for(var C=m*Math.sin(Math.abs(c))+g*Math.cos(Math.abs(c)),V=0,x=y;V<x.length;V++){b=x[V];var D=n._labels()!=t.AxisPosition.None?b._textView()._getMeasureInfo()._size:new t.core.Size(0,0),O=b.tick,A=n._scaleModel._value(O);if(null==A||isNaN(A))b._visible=!1;else{var L=new t.core.Point(A,0);f?(L.y=d.top+h.top,b._setRotatedRectangle(t._RectangleShape._fromTopConnectingPoint(L,D,c)),b._setTextLocation(L),b._setTextAngle(p),b._layout(r,this._fromTopConnectingPoint(L,D,p),a)):(L.y=d.bottom-h.bottom,b._setRotatedRectangle(t._RectangleShape._fromBottomConnectingPoint(L,D,c)),b._setTextLocation(L),b._setTextAngle(p),b._layout(r,this._fromBottomConnectingPoint(L,D,p),a))}}f&&(d.top+=C),d.height-=C}r.restoreTransform()}},i.prototype._isHierarchicalAxis=function(e){for(var n=0,i=e._getDimensions();n<i.length;n++){var o=i[n];if(t._isMultiDataFieldsDimension(o)&&o._getDataFieldDefinitions().length>1)return!0}return!1},i}(t._DefaultTickLabelLayoutPolicy);t._MultiRowTickLabelLayoutPolicy=e}(t||(t={})),function(t){!function(t){t._isMultiRowTickLabelLayoutPluginOption=function(t){return null!=t&&void 0!==t.row}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__row=2,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"row",{get:function(){return this.__row},set:function(t){t=this.validate(t),this.__row!=t&&(this.__row=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._IntegerConverter,!1,2),t.ValidatorAttribute(t._IntegerValidator,!1,2,0,null)],i.prototype,"row",null),i}(e._Option),e._MultiRowTickLabelLayoutPluginOption=i}(t||(t={})),function(t){var e,n,i;e=t.plugins||(t.plugins={}),n=function(){function e(t){this.__value=t}return e.prototype._convertDataValue=function(e,n,i,o){var r=e;return null==r&&(r=this.__value),null!=o?(null==n&&(t._DataValueTypeExtension._isNumber(r)?n=o.defaultFormat(t.core.DataType.Number,!1):t._DataValueTypeExtension._isDate(r)&&(n=o.defaultFormat(t.core.DataType.Date,!1))),o.format(n,r,i)):null!=r?r.toString():""},e.prototype._convertValueInfo=function(e,n,i,o){var r=e;return null==r&&(r=new t.models._DataValueInfo(this.__value,o)),r._toString(n,i)},e}(),i=function(){function e(){this.name="NullValueTextInfoPolicyPlugin",this.type=t._BuildInTextInfoConverterBuilderCollection._pluginType,this.priority=10}return e.prototype._build=function(e){if(null!=e){var i=e.arguments;if(null==i)return new n(null);if(t.options._isNullValueTextInfoPolicyPluginArgumentsOption(i))return new n((o=i).value);var o=new t.options._NullValueTextInfoPolicyPluginArgumentsOption(i.option());return new n(o.value)}return null},e.prototype.queryInterface=function(t){return"ITextInfoConverterBuilder"==t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.NullValueTextInfoPolicyPlugin=i}(t||(t={})),function(t){!function(t){t._isNullValueTextInfoPolicyPluginArgumentsOption=function(t){return null!=t&&void 0!==t.value}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__value=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"value",{get:function(){return this.__value},set:function(t){this.__value!=t&&(this.__value=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._DataValueTypeConverter,!0)],i.prototype,"value",null),i}(e._Option),e._NullValueTextInfoPolicyPluginArgumentsOption=i}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="OverlayDetailKey",this.type=t._BuildInOverlayDetailKeyPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildOverlayDetailKeyPolicy=function(){return this},e.prototype._containsDetailKey=function(e,n){if(null==e)return!0;if(null==n)return!1;for(var i=0,o=e;i<o.length;i++){var r=o[i];if(t._OptionUtility._isDataEqualsConfigData(n._key(),r))return!0;var l=n._key();if(null==r&&"null"==l)return!0;if(null!=l&&t._Util.sameValue(r,l+""))return!0}return!1},e.prototype.queryInterface=function(t){return"IOverlayDetailKeyPolicyBuilder"==t||"IOverlayDetailKeyPolicy"==t||"IPlugin"==t?this:null},e}(),e.CompatibleOverlayDetailKeyPlugin=n}(t||(t={})),function(t){var e,i,o;e=t.plugins||(t.plugins={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._stack=function(e,n,i){for(var o=new t._Map,r=0,l=e;r<l.length;r++)for(var a=0,u=l[r]._filterPointViews();a<u.length;a++){var s=u[a]._getCartesianPointDataModel(),_=s.xDimensionValue._value(),p=o._get(_),c=s._value(),h=s.queryInterface("INumberValue");null!=h&&(c=h.value);var f=s.queryInterface("INumberRangeValue");if(null!=f&&(null==p&&(p=0),c=(null==f.upper?0:f.upper)-(null===f.lower?0:f.lower)),s._setDimValue(i,p),null==o._get(_))o._set(_,Math.abs(c));else{var d=o._get(_);o._set(_,(null==d?0:d)+Math.abs(c))}s._setDimValue(n,o._get(_))}},i}(t._BarPlotLayout),o=function(){function e(){this.name="ExcelPie",this.type=t._BuildInCartesianPlotLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype.buildPlotLayout=function(e,n){var o=this;return null!=n&&n.length>0&&n.filter((function(t){return t.type===o.type&&t.name===o.name})).length>0&&t._isBarCartesianPlotView(e)&&e._isPie()?new i:null},e.prototype.queryInterface=function(t){return"ICartesianPlotLayoutBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.PieExcelPlotLayoutPlugin=o}(t||(t={})),function(t){var e,i,o;e=t.plugins||(t.plugins={}),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._layout=function(e){this._filter(e),t.prototype._layout.call(this,e)},e.prototype._filter=function(t){for(var e=0,n=t._getCartesianGroupViews();e<n.length;e++)for(var i=0,o=n[e]._getCartesianSeriesViews();i<o.length;i++)for(var r=0,l=o[i]._getCartesianPointViews();r<l.length;r++){var a=l[r]._getCartesianPointDataModel(),u=a._value();null!=u&&u<0&&(a._filtered=!0)}},e}(t._BarPlotLayout),o=function(){function e(){this.name="Pie",this.type=t._BuildInCartesianPlotLayoutBuilderCollection._pluginType,this.priority=10}return e.prototype.buildPlotLayout=function(e,n){var o=this;return null!=n&&n.length>0&&n.filter((function(t){return t.type===o.type&&t.name===o.name})).length>0&&t._isBarCartesianPlotView(e)&&e._isPie()?new i:null},e.prototype.queryInterface=function(t){return"ICartesianPlotLayoutBuilder"===t||"IPlugin"===t?this:null},e.defaultPlugin=new e,e}(),e.PiePlotLayoutPlugin=o}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(t){this.__space=null!=t?t.space:0}return e.prototype._getSpace=function(){return this.__space},e.prototype._calcTreeMapPointLayoutRectangleWithSpace=function(e,n){if(null!=n){var i=e.clone(),o=this.__space/2,r=n.left,l=n.top,a=n.right,u=n.bottom,s=t._Constants.Precision;return this._numberEqualsWithPrecision(e.left,r,s)||(i.width-=o,i.left+=o),this._numberEqualsWithPrecision(i.top,l,s)||(i.height-=o,i.top+=o),this._numberEqualsWithPrecision(i.right,a,s)||(i.width-=o),this._numberEqualsWithPrecision(i.bottom,u,s)||(i.height-=o),i}return e},e.prototype._buildDonutSegmentWithSpace=function(e,n,i,o,r,l,a){return 0==this.__space?null:null==a||t.shapes._BorderRadiusExtension._isValueEmpty(a.horizontalRadius)&&t.shapes._BorderRadiusExtension._isValueEmpty(a.verticalRadius)?0==o?this._buildPiePathWithSpace(e,n,i,r,l):this._buildDonutPathWithSpace(e,n,i,o,r,l):this._buildDonutSegmentWithBorderRadiusAndSpace(e,n,i,o,r,l,a)},e.prototype._getDonutShapeWithSpace=function(e,n,i,o,r,l){if(0==this.__space||0==l)return new t._DonutShape(new t.core.Point(e,n),i,o,r,l);var a=this.__space/2/Math.sin(l/2),u=this._getAngleOffset(a,i,l),s=0==o?0:this._getAngleOffset(a,o,l);if(!isNaN(u)&&!isNaN(s)){var _=e+a*Math.cos(r+l/2),p=n+a*Math.sin(r+l/2),c=i-a,h=0==o?0:o-a;return new t._DonutShape(new t.core.Point(_,p),c,h,r,l)}return new t._DonutShape(null,0,0,0,0)},e.prototype._getDonutShapePointsWithSpace=function(e,n,i,o,r,l){var a=[],u=this.__space/2/Math.sin(l/2);if(0==o){var s=this._getAngleOffset(u,i,l);if(!isNaN(s)){var _=r+s,p=l-2*s,c=e+u*Math.cos(r+l/2),h=n+u*Math.sin(r+l/2),f=e+i*Math.cos(_),d=n+i*Math.sin(_),y=e+i*Math.cos(_+p),g=n+i*Math.sin(_+p);a.push(new t.core.Point(c,h)),a.push(new t.core.Point(f,d)),a.push(new t.core.Point(y,g))}}else{var m=this._getAngleOffset(u,i,l),v=this._getAngleOffset(u,o,l);if(!isNaN(m)&&!isNaN(v)){var w=r+m,b=l-2*m,P=r+v,S=l-2*v,C=(f=e+i*Math.cos(w),d=n+i*Math.sin(w),y=e+i*Math.cos(w+b),g=n+i*Math.sin(w+b),e+o*Math.cos(P+S)),V=n+o*Math.sin(P+S),x=e+o*Math.cos(P),D=n+o*Math.sin(P);a.push(new t.core.Point(f,d)),a.push(new t.core.Point(y,g)),a.push(new t.core.Point(C,V)),a.push(new t.core.Point(x,D))}}return a},e.prototype._buildDonutSegmentRingWithSpace=function(e,n,i,o,r,l,a,u,s){var _=this._buildDonutSegmentRingWithBorderRadiusAndSpace(e,n,i,o,a,u,s),p=this._buildDonutSegmentRingWithBorderRadiusAndSpace(e,n,r,l,a,u,s),c=t._PathCommandUtility._getPathExpression(_),h=t._PathCommandUtility._getPathExpression(p);return t._PathBuilder._defaultPathBuilder._buildPathFromExpression(c+h)},e.prototype._calculateViewInfoFromShapeInfo=function(e,n,i,o,r,l){if(0==this.__space||0==l)return new t._DonutShape(new t.core.Point(e,n),i,o,r,l);var a=this.__space/2/Math.sin(l/2),u=i+a,s=0==o?0:o+a,_=r,p=l,c=e+a*Math.cos(r+l/2+Math.PI),h=n+a*Math.sin(r+l/2+Math.PI);return new t._DonutShape(new t.core.Point(c,h),u,s,_,p)},e.prototype._getPointCoordOnDonutShapeWithSpace=function(e,n,i,o,r,l,a,u){var s=this.__space/2/Math.sin(u/2),_=this._getAngleOffset(s,n+s,u);if(!isNaN(_)){var p=e;e==a?p=e+_:e==a+u&&(p=e-_);var c=i+(n+s)*Math.cos(p),h=o+(n+s)*Math.sin(p);return new t.core.Point(c,h)}return null},e.prototype._numberEqualsWithPrecision=function(t,e,n){return Math.abs(t-e)<n},e.prototype._getAngleOffset=function(t,e,n){var i=t,o=e,r=Math.PI-n/2;return Math.asin(i*Math.sin(r)/o)},e.prototype._buildPiePathWithSpace=function(e,n,i,o,r){var l=t._PathCommandBuilder._defaultPathCommandBuilder,a=[],u=this.__space/2/Math.sin(r/2),s=this._getAngleOffset(u,i,r);if(!isNaN(s)){var _=o+s,p=r-2*s,c=e+u*Math.cos(o+r/2),h=n+u*Math.sin(o+r/2),f=e+i*Math.cos(_),d=n+i*Math.sin(_);if(a.push(l._buildMoveToPathCommand(f,d)),0!==i){var y=p<0?1:0;a.push(l._buildCanvasArcToPathCommand(i,i,0,e,n,_,p,y))}a.push(l._buildLineToPathCommand(c,h)),a.push(l._buildClosePathCommand())}return t._PathBuilder._defaultPathBuilder._buildPath(a)},e.prototype._buildDonutPathWithSpace=function(e,n,i,o,r,l){var a=t._PathCommandBuilder._defaultPathCommandBuilder,u=[],s=this.__space/2/Math.sin(l/2),_=this._getAngleOffset(s,i,l),p=this._getAngleOffset(s,o,l);if(!isNaN(_)&&!isNaN(p)){var c=r+_,h=l-2*_,f=r+p,d=l-2*p,y=e+i*Math.cos(c),g=n+i*Math.sin(c),m=e+o*Math.cos(f+d),v=n+o*Math.sin(f+d);if(u.push(a._buildMoveToPathCommand(y,g)),0!==i){var w=h<0?1:0;u.push(a._buildCanvasArcToPathCommand(i,i,0,e,n,c,h,w))}if(u.push(a._buildLineToPathCommand(m,v)),0!==o){var b=-d<0?1:0;u.push(a._buildCanvasArcToPathCommand(o,o,0,e,n,f+d,-d,b))}u.push(a._buildClosePathCommand())}return t._PathBuilder._defaultPathBuilder._buildPath(u)},e.prototype._buildDonutSegmentWithBorderRadiusAndSpace=function(e,n,i,o,r,l,a){var u=t._PathCommandBuilder._defaultPathCommandBuilder,s=[],_=this.__space/2/Math.sin(l/2),p=this._getAngleOffset(_,o,l),c=this._getAngleOffset(_,i,l);if(!isNaN(p)&&!isNaN(c)){var h=.5*(i+o),f=h*l,d=h*(l-2*this._getAngleOffset(_,h,l)),y=i-o;if(0==y||0==f)return null;var g=t.shapes._BorderRadiusExtension._ratioOfConvertPercentageToPixel(a,y,d),m=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.topLeft,y,g),v=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.topLeft,d,g),w=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.topRight,y,g),b=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.topRight,d,g),P=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.bottomRight,y,g),S=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.bottomRight,d,g),C=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.bottomLeft,y,g),V=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.bottomLeft,d,g),x=i-m,D=r+l-this._getAngleOffset(_,x,l),O=e+x*Math.cos(D),A=n+x*Math.sin(D);s.push(u._buildMoveToPathCommand(O,A));var L=o+w,T=r+l-this._getAngleOffset(_,L,l),M=e+L*Math.cos(T),E=n+L*Math.sin(T);s.push(u._buildLineToPathCommand(M,E));var I=r+l-p,B=e+o*Math.cos(I),R=n+o*Math.sin(I),k=r+p+(d-b)/h,N=e+o*Math.cos(k),F=n+o*Math.sin(k);s.push(u._buildQuadraticCurveToPathCommand(B,R,N,F));var U=o;if(0!==U){var z=r+p+S/h-k,j=z<0?1:0;s.push(u._buildCanvasArcToPathCommand(U,U,0,e,n,k,z,j))}var W=r+p,G=e+o*Math.cos(W),H=n+o*Math.sin(W),q=o+P,J=r+this._getAngleOffset(_,q,l),X=e+q*Math.cos(J),Y=n+q*Math.sin(J);s.push(u._buildQuadraticCurveToPathCommand(G,H,X,Y));var Z=i-C,K=r+this._getAngleOffset(_,Z,l),Q=e+Z*Math.cos(K),$=n+Z*Math.sin(K);s.push(u._buildLineToPathCommand(Q,$));var tt=r+c,et=e+i*Math.cos(tt),nt=n+i*Math.sin(tt),it=r+c+V/h,ot=e+i*Math.cos(it),rt=n+i*Math.sin(it);s.push(u._buildQuadraticCurveToPathCommand(et,nt,ot,rt));var lt=i;if(0!==lt){var at=r+c+(d-v)/h-it;j=at<0?1:0,s.push(u._buildCanvasArcToPathCommand(lt,lt,0,e,n,it,at,j))}var ut=r+l-c,st=e+i*Math.cos(ut),_t=n+i*Math.sin(ut);s.push(u._buildQuadraticCurveToPathCommand(st,_t,O,A)),s.push(u._buildClosePathCommand())}return t._PathBuilder._defaultPathBuilder._buildPath(s)},e.prototype._buildDonutSegmentRingWithBorderRadiusAndSpace=function(e,n,i,o,r,l,a){var u=null;return null==(u=0==this.__space?t._PathUtility._buildDonutSegmentWithBorderRadius(e,n,i,o,r,l,a):null==a||t.shapes._BorderRadiusExtension._isValueEmpty(a.horizontalRadius)&&t.shapes._BorderRadiusExtension._isValueEmpty(a.verticalRadius)?0==o?this._buildPiePathWithSpace(e,n,i,r,l):this._buildDonutPathWithSpace(e,n,i,o,r,l):this._buildDonutSegmentWithBorderRadiusAndSpace(e,n,i,o,r,l,a))&&(u=t._PathBuilder._defaultPathBuilder._buildDonutSegment(e,n,i,o,r,l)),u},e}(),e._GCESPointSpacePolicy=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function n(){this.name="GCESPointSpacePolicyPlugin",this.type=t._BuildInPointSpacePolicyBuilderCollection._pluginType,this.priority=0}return n.prototype._buildPointSpacePolicy=function(n,i){if(t._isHierarchicalPlotView(n)){var o=n;if(t._isTreeMapPlotView(o)){var r=this._getPointSpacePolicyPluginArgumentsOption(i);return new e._GCESPointSpacePolicy(r)}}else if(t._isBarCartesianPlotView(n)&&n._isPie())return r=this._getPointSpacePolicyPluginArgumentsOption(i),new e._GCESPointSpacePolicy(r);return null},n.prototype.queryInterface=function(t){return"IPointSpacePolicyBuilder"==t||"IPlugin"==t?this:null},n.prototype._getPointSpacePolicyPluginArgumentsOption=function(e){if(null!=e&&null!=e.arguments){var n=e.arguments;return t.options._isPointSpacePolicyPluginArgumentsOption(n)?n:new t.options._PointSpacePolicyPluginArgumentsOption(n.option())}return null},n._defaultPlugin=new n,n}(),e.GCESPointSpacePolicyPlugin=n,e.PluginCollection.defaultPluginCollection.register(n._defaultPlugin,!1)}(t||(t={})),function(t){!function(t){t._isPointSpacePolicyPluginArgumentsOption=function(t){return null!=t&&void 0!==t.space}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__space=0,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"space",{get:function(){return this.__space},set:function(t){this.__space!=t&&(this.__space=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"space",null),i}(e._Option),e._PointSpacePolicyPluginArgumentsOption=i}(t||(t={})),function(t){var e,i,o;e=t.plugins||(t.plugins={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){return t._isCartesianCoordinateSystemView(e)?e:null},i.prototype._layoutCoordinateSystemView=function(e,n,i,o){var r=e._horizontalViewSize,l=e._verticalViewSize,a=e._getHorizontalAxisViews().filter((function(t){return t._scaleModel._hasScale()})),u=e._getVerticalAxisViews().filter((function(t){return t._scaleModel._hasScale()})),s=o.width/r,_=o.height/l,p=o.left+s/2,c=o.top+_/2,h=Math.min(s/2,_/2),f=u[0],d=a[0],y=[],g=[],m=0;u.forEach((function(e,i){var o=new t.core.Size(s,_);if(!t._isOrdinalAxisScale(e._scaleModel._scale)){var r=e._measureMaxLabelSize(n);e._scaleModel._setTickNumber(e._getAnnoNumber(!0,o.height,r))}var l=e._measure(n,o)._size;m=l.height,e.position!=t.AxisPosition.Far&&(h-=m),e._radius=h,e._axisSize=m})),a.forEach((function(e,i){var o=new t.core.Size(s,_-m);if(!t._isOrdinalAxisScale(e._scaleModel._scale)){var r=e._measureMaxLabelSize(n),l=2*(m+h);e._scaleModel._setTickNumber(e._getAnnoNumber(!1,l,r))}e._measure(n,o),e._radius=h,e._axisSize=m})),u.forEach((function(t,e){var n=t._startAngle(),i=n+t._sweep;t._scaleModel._setRange([n,i])})),a.forEach((function(t,e){t._scaleModel._setRange([t._innerRadius*t._radius,t._radius])}));var v=null==f._scaleModel._minimum?0:f._scaleModel._minimum,w=null==f._scaleModel._maximum?0:f._scaleModel._maximum;u.forEach((function(t,e){var n=t._getAcutalOrigin();y[e]=null!=n&&v<=n&&n<=w}));var b=null==d._scaleModel._minimum?0:d._scaleModel._minimum,P=null==d._scaleModel._maximum?0:d._scaleModel._maximum;a.forEach((function(t,e){var n=t._getAcutalOrigin();g[e]=null!=n&&b<=n&&n<=P}));var S=new t.core.Rect(p-h,c-h,2*h,2*h),C=0;u.forEach((function(e,o){e._cx=p,e._cy=c;var r=e._getAcutalOrigin();if(y[o]){var l=d,a=d._scaleModel._value(r+(null!=l?l._getRadiusOffset():0));e._radius=a}var u=new t.core.Rect(p-(e._axisSize+e._radius),c-(e._axisSize+e._radius),2*(e._axisSize+e._radius),2*(e._axisSize+e._radius));i._lineCartesianCoordinateSystemContent=S.clone(),e._layout(n,u,i),u.height-=C,e._titleView()._layout(n,u,i),C+=e._titleView()._rectangle().height,i._lineCartesianCoordinateSystemContent=null})),a.forEach((function(e,o){e._cx=p,e._cy=c;var r=e._getAcutalOrigin();if(g[o]){var l=180*(f._scaleModel._value(r)-3*Math.PI/2)/Math.PI;e._setStartAngleDegree(l)}var a=new t.core.Rect(p-(e._axisSize+e._radius),c-(e._axisSize+e._radius),2*(e._axisSize+e._radius),2*(e._axisSize+e._radius));i._lineCartesianCoordinateSystemContent=S.clone(),e._layout(n,a,i),e._titleView()._layout(n,a,i),i._lineCartesianCoordinateSystemContent=null}));var V=new t.core.Rect(p-h,c-h,2*h,2*h);return new t._CoordinateSystemLayoutResult(V,null)},i}(t._BaseCoordinateSystemViewLayoutPolicy),o=function(){function e(){this.name="OldRadial",this.type=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._buildCoordinateSystemViewLayoutPolicy=function(e,n){var o=e._getDefinition()._type;return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)&&("CartesianRadial"==o||"CartesianPolygonal"==o)?new i:null},e.prototype.queryInterface=function(t){return"ICoordinateSystemViewLayoutPolicyBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e._RadialCartesianCoordinateSystemOldLayoutPlugin=o}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="ShowZeroValueDataPointViewLayout",n.type=t._BuildInViewLayoutBuilderCollection._pluginType,n.priority=10,n}return n(i,e),i.prototype.layout=function(e,n){var i=e;return n||0!=e.sweepAngle||(i=new t._DonutShape(e.center,e.radius,e.innerRadius,e.startAngle,Math.PI/180)),i},i.prototype.buildViewLayout=function(e){var n=t._PlotViewModelUtility._toPlotView(e);return null!=n&&t._isBarCartesianPlotView(n)&&n._isRadialBar()?this:null},i.prototype.queryInterface=function(t){return"IViewLayoutBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},i.defaultPlugin=new i,i}(t._BaseBarDonutDataPointViewLayout);t._ShowZeroValueBarDonutDataPointViewLayoutPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="ShowZeroValueDataPointViewLayout",n.type=t._BuildInViewLayoutBuilderCollection._pluginType,n.priority=10,n}return n(i,e),i.prototype.layout=function(t,e){var n=t.clone();return n.height<=0&&!e?n.height=1:n.width<=0&&e&&(n.width=1),n},i.prototype.buildViewLayout=function(e){var n=t._PlotViewModelUtility._toPlotView(e);return null!=n&&t._isBarCartesianPlotView(n)&&n._isRectangleBar()?this:null},i.prototype.queryInterface=function(t){return"IViewLayoutBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},i.defaultPlugin=new i,i}(t._BaseBarRectangleDataPointViewLayout);t._ShowZeroValueBarRectangleDataPointViewLayoutPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!1)}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="SjsGridLineDisplayPolicyPlugin",this.type=t._BuildInGridLineDisplayPolicyBuilderCollection._pluginType,this.priority=0}return e.prototype._shouldDisplay=function(t,e){return!e._renderLabel},e.prototype._buildGridLineDisplayPolicy=function(){return this},e.prototype.queryInterface=function(t){return"IPlugin"==t?this:null},e}(),e.SjsGridLineDisplayPolicyPlugin=n}(t||(t={})),function(t){!function(t){t[t.Left=0]="Left",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.None=4]="None",t[t.TopRight=5]="TopRight"}(t.SjsLegendPosition||(t.SjsLegendPosition={}))}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._layoutedLegendItemViews=function(){return this.__layoutedItemsView},i.prototype._createItemView=function(e){return new t.SjsLegendItemView(this,e)},i.prototype._orientation=function(){var e=this._legendView()._option.orientation;return null!=e||null!=(e=this._legendView()._getPlotAreaView()._getDefinition()._plotAreaOption.legend.orientation)||null!=(e=this._legendView()._getPlotAreaView()._getDefinition()._dvConfigOption.legend.orientation)?t._NativeExtension._toNonNullEnum(e,t.Orientation.Vertical):this._legendView()._legendListView()._suggestedOrientation()},i.prototype._init=function(t){this.__visibleItemRects=null,this.__contentSize=null},i.prototype.calcInnerContentSize=function(){return this.__contentSize},i.prototype._defaultItemSpace=function(){return 10},i.prototype._measure=function(e,n){if(n.width<=0||n.height<=0)return this.__contentSize=new t.core.Size(0,0),this.__visibleItemRects=[],new t._RectangleViewMetricsResult(new t.core.Size(0,0));for(var i=[],o=[],r=0,l=this._legendItemViews();r<l.length;r++){var a=l[r];if(a._isVisible()){o.push(a);var u=new t.core.Size(Number.MAX_VALUE,Number.MAX_VALUE),s=a._measure(e,u);i.push(s._size)}}this.__layoutedItemsView=o;for(var _=0,p=0,c=0,h=0,f=i;h<f.length;h++){var d=f[h];_=Math.max(_,d.width),p=Math.max(p,d.height),c+=d.width}if(!isFinite(n.width)||!isFinite(n.height))if(this._orientation()==t.Orientation.Horizontal){var y=n.width;if(y>=c)n=new t.core.Size(Math.min(c+i.length*this._defaultItemSpace(),y),p+this._defaultItemSpace());else{0===(v=Math.floor(y/_))&&(v=1),v=Math.min(v,i.length);var g=Math.ceil(i.length/v);v=Math.ceil(i.length/g),n=new t.core.Size(v*_,p*g)}}else{var m=n.height;0===(g=Math.floor(m/p))&&(g=1),g=Math.min(g,i.length);var v=Math.ceil(i.length/g);g=Math.ceil(i.length/v),n=new t.core.Size(v*_,p*g),1==v&&g==i.length&&(n.height=Math.min(n.height+i.length*this._defaultItemSpace(),m),n.width+=this._defaultItemSpace())}return this.__contentSize=n.clone(),this.__visibleItemRects=this._preLayout(o,i,n),new t._RectangleViewMetricsResult(n)},i.prototype._preLayoutSingleRow=function(t,e,n){for(var i=e.height,o=(e.width-n)/t.length,r=o/2,l=0;l<t.length;++l){var a=t[l];this._layoutItemRect(a,r,0,a.width,i),r+=a.width+o}return t},i.prototype._preLayout=function(e,n,i){for(var o=n.map((function(e){return new t.core.Rect(0,0,e.width,e.height)})),r=0,l=0,a=0,u=0,s=n;u<s.length;u++){var _=s[u];r=Math.max(r,_.width),l=Math.max(l,_.height),a+=_.width}if(i.width>=a)return this._preLayoutSingleRow(o,i,a);var p=Math.floor(i.width/r);0==p&&i.width>0&&(p=1,r=i.width);var c=Math.floor(i.height/l);0==c&&i.height>0&&(c=1,l=i.height),p=Math.min(p,e.length),c=Math.min(c,Math.ceil(e.length/p)),p=Math.min(Math.ceil(e.length/c),p);for(var h=(i.width-p*r)/p,f=(i.height-c*l)/c,d=f/2,y=0;y<c;++y){for(var g=h/2,m=0;m<p&&!(y*p+m>=e.length);++m){var v=o[y*p+m];this._layoutItemRect(v,g,d,r,l),g+=r+h}d+=l+f}return o.length=Math.min(c*p,e.length),o},i.prototype._layoutItemRect=function(t,e,n,i,o){t.left=e,t.top=n+(o-t.height)/2,t.width>i&&(t.width=i),t.height>o&&(t.height=o)},i.prototype._layoutInnerContent=function(t,e,n){if(null!=this.__visibleItemRects){var i=e.left,o=e.top;this.__layoutedItemsView.length=this.__visibleItemRects.length;for(var r=this.__layoutedItemsView,l=0;l<r.length;++l){var a=r[l],u=this.__visibleItemRects[l];u.left+=i,u.top+=o,a._layout(t,u,n)}}},i.prototype._renderInnerContent=function(t,n,i){null!=this.__visibleItemRects&&e.prototype._renderInnerContent.call(this,t,n,i)},i}(t._ItemizedLegendContentView);t.SjsItemizedLegendContendView=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__sjsOption=i,o}return n(i,e),i.prototype._sjsOption=function(){return this.__sjsOption},i.prototype._scrollable=function(){return!1},i.prototype._createContentView=function(){return new t.SjsItemizedLegendContendView(this,this._data())},i.prototype._titleSpace=function(){return 10},i.prototype._itemSpace=function(){return.2*this._getFontSize()},i.prototype._getFontSize=function(){var e=t._StyleUtility._buildStyle();return t._OptionUtility._applyTextStyleOption(e,this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.textStyle),t._OptionUtility._applyTextStyleOption(e,this._option.textStyle),null==e.fontSize?12:parseFloat(e.fontSize)},i.prototype._margin=function(){if(this.__sjsOption.showLegendWithoutOverlappingChart){var e=this.__sjsOption.excelPosition;return e==t.SjsLegendPosition.Top||e==t.SjsLegendPosition.Bottom?t._MarginUtility._buildMargin(0,10,0,10):t._MarginUtility._buildMargin(10,0,10,0)}return t._MarginUtility._buildMargin(0,0,0,0)},i.prototype._paddings=function(){var e=this._option.padding;return null!=e||null!=(e=this._getPlotAreaView()._getDefinition()._plotAreaOption.legend.padding)||null!=(e=this._getPlotAreaView()._getDefinition()._dvConfigOption.legend.padding)?e:t._PaddingUtility._buildPadding()},i.prototype._measure=function(n,i){var o=new t.core.Size(1/0,1/0);this._contentView()._orientation()==t.Orientation.Horizontal?o.width=this._getPlotAreaView()._getRectangle().width:o.height=this._getPlotAreaView()._getRectangle().height;var r=e.prototype._measure.call(this,n,o);this.__legendSize=r._size.clone();var l=this._getLegendFixedSize(this._getPlotAreaView()._getRectangle().size);return null!=l&&(this.__legendSize=e.prototype._measure.call(this,n,l)._size),r},i.prototype._getLegendFixedSize=function(e){var n=this._option;if(null!=n.width&&null!=n.height){var i=new t.core.Size(0,0);return n.width.type===t.ValueOptionType.Percentage?i.width=e.width*n.width.value:i.width=n.width.value,n.height.type===t.ValueOptionType.Percentage?i.height=e.height*n.height.value:i.height=n.height.value,i}return null},i.prototype._layout=function(n,i,o){if(null!=this.__legendSize){var r=this._getPlotAreaView()._getRectangle(),l=this._getPlotAreaView()._getDvView()._getRectangle(),a=this._legendsOption(),u=new t.core.Rect(o.left,o.top,this.__legendSize.width,this.__legendSize.height);null!=a.left&&(u.left=Math.max(l.left+l.width*a.left,r.left)),null!=a.top&&(u.top=Math.max(l.top+l.height*a.top,r.top)),u.right>r.right&&(u.left-=u.right-r.right),u.bottom>r.bottom&&(u.top-=u.bottom-r.bottom),i._originalLegendSize=new t.core.Size(u.width,u.height),e.prototype._layout.call(this,n,i,u)}},i}(t._ItemizedLegendView);t.SjsItemizedLegendView=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._itemSpace=function(){return this._legendView()._itemSpace()},i.prototype._calculateSymbolSize=function(e,n){e.beginTransform(),this._applyLegendItemLabelStyle(e);var i=parseFloat(e.fontSize);isNaN(i)&&(i=12),e.restoreTransform();var o=this._data._getSymbol();if(null!=this._data._size&&o._showSymbol())return o._measureSymbolSize(e,this._data._size);var r=this._legendView()._sjsOption().symbolSize,l=28,a=.5*i;return null!=r&&(null!=r.height&&(a=r.height),null!=r.width&&(l=Math.max(r.width,a))),o instanceof t._CartesianLineLegendSymbolView||o instanceof t._LineLegendSymbolView||o instanceof t._OverlayLineSymbol?new t.core.Size(l,a):new t.core.Size(a,a)},i}(t._LegendItemView);t.SjsLegendItemView=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l,a,u,s){void 0===r&&(r=null),void 0===l&&(l=null),void 0===a&&(a=null),void 0===u&&(u=null),void 0===s&&(s=null);var _=e.call(this,n,o,null==r?new t._SjsFixedLegendListViewBuilder(i,t.SjsLegendPosition.Left):r,null==l?new t._SjsFixedLegendListViewBuilder(i,t.SjsLegendPosition.Right):l,null==a?new t._SjsFixedLegendListViewBuilder(i,t.SjsLegendPosition.Top):a,null==u?new t._SjsFixedLegendListViewBuilder(i,t.SjsLegendPosition.Bottom):u)||this;return _.__option=i,s=null==s?new t._SjsFixedLegendListViewBuilder(i,t.SjsLegendPosition.TopRight):s,_.__topRightLegendListView=s._buildLegendListView(_,o),_}return n(i,e),i.prototype._option=function(){return this.__option},i.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.__topRightLegendListView&&this.__topRightLegendListView.dispose()},i.prototype._getLegendViews=function(){var t=e.prototype._getLegendViews.call(this);return null!=this.__topRightLegendListView&&t.push.apply(t,this.__topRightLegendListView._legendViews()),t},i.prototype._render=function(t,n){e.prototype._render.call(this,t,n),null!=this.__topRightLegendListView&&this.__topRightLegendListView._render(t,n)},i.prototype._hitTest=function(t,n,i){if(this._zLevel!=n)return null;var o=null;return null!=this.__topRightLegendListView&&null!=(o=this.__topRightLegendListView._hitTest(t,n,i))?o:e.prototype._hitTest.call(this,t,n,i)},i.prototype._layout=function(t,n,i){var o=e.prototype._layout.call(this,t,n,i),r=this.__topRightLegendListView;return null!=r&&(r._layout(t,i,o),r._getRectangle().height/n.height<.3&&(o.top+=r._getRectangle().height,o.height-=r._getRectangle().height),o.width-=r._getRectangle().width),this._option().showLegendWithoutOverlappingChart?o:n},i}(t._FixedLegendLayerView);t._SjsFixedLegendLayerView=e}(t||(t={})),function(t){var e=function(){function e(t){this.__option=t}return e.prototype._buildLegendLayerView=function(e,n){return new t._SjsFixedLegendLayerView(e,this.__option,n)},e}();t._SjsFixedLegendLayerViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.__position=n;var i=t._NativeExtension._toNonNullEnum(e.excelPosition,t.SjsLegendPosition.Right);this.__containsLegendViews=n==i}return e.prototype._buildLegendListView=function(e,n){return this.__containsLegendViews&&n.length>0?new t.SjsLegendListView(e,n,this.__position):null},e}();t._SjsFixedLegendListViewBuilder=e}(t||(t={})),function(t){var e=function(){function e(e){this.__option=e,this._frontLegendLayerViewBuilder=new t._SjsFixedLegendLayerViewBuilder(this.__option),this._backLegendLayerViewBuilder=null}return e.prototype._getLegendViewBuilder=function(){return new t.models._SjsLegendViewBuilder(this.__option)},e}();t._SjsLegendLayerDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__position=i,o}return n(i,e),i.prototype._isVertical=function(){var e=this.__position;return e===t.SjsLegendPosition.Left||e===t.SjsLegendPosition.Right||e===t.SjsLegendPosition.TopRight},i.prototype._suggestedOrientation=function(){return this._isVertical()?t.Orientation.Vertical:t.Orientation.Horizontal},i.prototype._layoutRectangle=function(e,n,i,o,r){for(var l,a=r,u=0,s=i.length,_=0;_<s;_++){var p=i[_],c=n[_],h=p._margin();if(this._isVertical()){a+=c.height;var f=c.width+h.left+h.right;u=Math.max(f,u)}else{a+=c.width;var d=c.height+h.top+h.bottom;u=Math.max(d,u)}}l=this._isVertical()?new t.core.Size(u,Math.min(a,o.height)):new t.core.Size(Math.min(a,o.width),u);var y=this.__position,g=o.clone();switch(y){case t.SjsLegendPosition.Left:g.width=l.width;break;case t.SjsLegendPosition.Right:g.left=o.right-l.width,g.width=l.width;break;case t.SjsLegendPosition.Top:g.height=l.height;break;case t.SjsLegendPosition.Bottom:g.height=l.height,g.top=o.bottom-l.height;break;case t.SjsLegendPosition.TopRight:g.left=o.right-l.width,g.width=l.width,g.height=l.height}this._updateRectangle(g)},i.prototype._inflateLegendSize=function(t,e){return t.clone()},i.prototype._hitTest=function(e,n,i){return this._zLevel!=n?null:this._hitTestContent(new t.core.Point(this._getScrollX()+e.x,this._getScrollY()+e.y),n,i)},i}(t._BaseLegendListView);t.SjsLegendListView=e}(t||(t={})),function(t){var e,i;e=t.models||(t.models={}),i=function(e){function i(t){var n=e.call(this)||this;return n.__option=t,n}return n(i,e),i.prototype._createItemizedLegendView=function(e,n){return t._LegendUtility._isType(n,t.LegendType.Size)?null:new t.SjsItemizedLegendView(e,n,this.__option)},i}(t._DefaultLegendViewBuilder),e._SjsLegendViewBuilder=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__showLegendWithoutOverlappingChart=!0,r.__excelPosition=null,r.__symbolSize=new e._SjsLegendSymbolSizeOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"excelPosition",{get:function(){return this.__excelPosition},set:function(t){this.__excelPosition!=t&&(this.__excelPosition=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showLegendWithoutOverlappingChart",{get:function(){return this.__showLegendWithoutOverlappingChart},set:function(t){this.__showLegendWithoutOverlappingChart!=t&&(this.__showLegendWithoutOverlappingChart=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"symbolSize",{get:function(){return this.__symbolSize},set:function(t){this.__symbolSize!=t&&(this.__symbolSize=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.SjsLegendPosition)],r.prototype,"excelPosition",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!0)],r.prototype,"showLegendWithoutOverlappingChart",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_SjsLegendSymbolSizeOption")],r.prototype,"symbolSize",null),r}(e._Option),e._SjsLegendViewManagerOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){!function(t){t._isSjsLegendViewManagerOption=function(t){var e=t;return null!=e&&void 0!==e.showLegendWithoutOverlappingChart&&void 0!==e.excelPosition&&void 0!==e.symbolSize}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__width=null,o.__height=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){t=this.validate(t),this.__width!=t&&(this.__width=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(t){t=this.validate(t),this.__height!=t&&(this.__height=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],i.prototype,"width",null),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0)],i.prototype,"height",null),i}(e._Option),e._SjsLegendSymbolSizeOption=i}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="SjsLegendViewManagerPlugin",this.type=t._BuildInLegendLayerDefinitionBuilderCollection._pluginType,this.priority=10}return e.prototype._buildLegendLayerDefinition=function(e){var n=null!=e?e.arguments:null,i=t.options._isSjsLegendViewManagerOption(n)?n:new t.options._SjsLegendViewManagerOption(null!=n?n.option():null);return new t._SjsLegendLayerDefinition(i)},e.prototype.queryInterface=function(t){return"ILegendLayerDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.SjsLegendViewManagerPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="SjsStackBarOverlapPolicyPlugin",this.type=t._BuildInClusterKeyBuilderCollection._pluginType,this.priority=0}return e.prototype._buildClusterKey=function(e,n,i){var o=e._getCartesianPlotDefinition()._valueDefinitions().indexOf(n._valueDefinition()),r=e._getDefinition()._plotOption.name+"_"+n._valueDefinition()._getIdentifier()+"_"+o,l=n._group();if(t._isCartesianMirrorGroupDataModel(l)){var a=l;i!=t.AxisMode.Cartesian&&e._swapAxes()&&(r+="_"+(null!=a._mirrorDimension()._key()?a._mirrorDimension()._key().toString():"null"))}return null!=n._detailValue()&&t._isStackGroupDetailEncodingDefintion(n._detailValue()._definition())?r+="_"+typeof n._detail()+"_"+(null!=n._detail()?n._detail().toString():"null"):null},e.prototype.queryInterface=function(t){return"IPlugin"==t?this:null},e}(),e.SjsStackBarOverlapPolicyPlugin=n}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._buildOverlayView=function(e){return t._isBarCartesianPlotView(e)?new t._ExcelWaterfallConnectingLineOverlayView(e,this):null},i}(t._WaterfallConnectLineDefinition);t._ExcelWaterfallConnectingLineDefinition=e}(t||(t={})),function(t){var e,i;e=t.plugins||(t.plugins={}),i=function(e){function i(){var n=e.call(this)||this;return n.name="ExcelWaterfall",n.type=t._BuildInWaterfallOverlayDefinitionBuilderCollection._pluginType,n.priority=10,n}return n(i,e),i.prototype._buildWaterfallOverlayDefinition=function(e){return t._isWaterfallPlotDefinition(e)&&e._plotConfigOption.bar.connectorLines?new t._ExcelWaterfallConnectingLineDefinition(e,e._plotConfigOption.bar.connectorLineStyle):null},i.prototype.queryInterface=function(t){return"IWaterfallOverlayDefinitionBuilder"==t||"IPlugin"==t?this:null},i.defaultPlugin=new i,i}(t._DefaultWaterfallOverlayDefinitionBuilder),e.ExcelWaterfallOverlayPlugin=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._calculateY=function(t,e){return this._xor(e,this._isNegative(t))?t._rectangle().top:t._rectangle().bottom},i.prototype._calculateX=function(t,e){return this._xor(e,this._isNegative(t))?t._rectangle().right:t._rectangle().left},i.prototype._drawLine=function(e,n,i){var o=NaN,r=NaN,l=NaN,a=NaN,u=this._overlayGroupView()._getCartesianGroupView(),s=u._horizontalAxisView()._scaleModel._getReversed(),_=u._verticalAxisView()._scaleModel._getReversed();if(t._isBarXyCartesianPointView(n)&&t._isBarXyCartesianPointView(i)&&t.models._isWaterfallPointModel(i)){var p=n,c=i,h=i;u._swapAxes()?(o=this._calculateX(p,s),l="Total"===h.waterfallType?this._calculateX(c,s):o,r=_?p._rectangle().top:p._rectangle().bottom,a=_?c._rectangle().bottom:c._rectangle().top):(r=this._calculateY(p,_),a="Total"===h.waterfallType?this._calculateY(c,_):r,o=s?p._rectangle().left:p._rectangle().right,l=s?c._rectangle().right:c._rectangle().left)}[o,r,l,a].some((function(t){return isNaN(t)}))||e.drawLine(o,r,l,a)},i}(t._WaterfallConnectLineOverlayItemView);t._ExcelWaterfallConnectingLineOverlayItemView=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createOverlayItemView=function(e,n){var i=new t._ExcelWaterfallConnectingLineOverlayItemView(this,e,n);this._itemViews().push(i)},i}(t._WaterfallConnectLineOverlayView);t._ExcelWaterfallConnectingLineOverlayView=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ShowAll",this.type=t._BuildInPointVisibilityPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._shouldVisible=function(e){return t._SunburstPointView,e._visible},e.prototype._buildPointVisibilityPolicy=function(e){return t._isHierarchicalPlotView(e)&&t._isSunburstPlotView(e)?this:null},e.prototype.queryInterface=function(t){return"IPointVisibilityPolicyBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}();t._SunburstShowAllPointVisibilityPolicy=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAxisView=function(e,n){if(t._isCartesianCoordinateSystemView(e)){var i=e;if(n._orientation==t.Orientation.Vertical)return new t._SwingVerticalLineAxisView(i,n);if(n._orientation==t.Orientation.Horizontal)return new t._HorizontalLineAxisView(i,n)}return null},e.prototype.queryInterface=function(t){return"IAxisViewBuilder"==t?this:null},e}();t._SwingLineAxisViewBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._measure=function(e,n){var i=new t.core.Size(n.height,0);this._scaleModel._scale._refresh(),this._axisLabelHeightList.splice(0),e.beginTransform(),t._OptionUtility._applyStyleOption(e,this._style()),t._OptionUtility._applyTextStyleOption(e,this._textStyle());var o=0,r=null;if(this._labels()!=t.AxisPosition.None){var l,a=this._labelStyle().padding;l=null==a?2*this._definition._getDefaultLabelPadding():a.left.value+a.right.value,(o+=(r=this._measureLabels(e,n)).width)>0&&(o+=l)}return n.width-=o,this._axisLabelHeightList.push(o),e.restoreTransform(),this._isEmpty()?i.height=this._emptyAxisHeight:i.height=o,new t._AxisViewMetricsResult(this._position()==t.AxisPosition.None?new t.core.Size(0,0):i,new t.core.Size(i.width,0),new t.core.Size(i.width,o),r)},i.prototype._layoutContent=function(e,n,i){var o=i._lineCartesianCoordinateSystemContent;this._updateRectangle(new t.core.Rect(n.left,n.top,n.height,n.width)),null!=o&&(o.width<0&&(o.width=0),o.height<0&&(o.height=0),this._scaleModel._scale._refresh(),this._plotRectangle=o,this._layoutLabelViews(e,new t.core.Rect(n.left,n.top,n.height,n.width),i),this._overlappingLabels()!=t.OverlappingLabels.Show&&this._overlapAxis(i),this._setMargin())},i.prototype._layoutLabelViews=function(e,n,i){e.beginTransform(),t._OptionUtility._applyTextStyleOption(e,this._textStyle()),t._OptionUtility._applyTextStyleOption(e,this._labelStyle());for(var o=this._majorTickLabelViews(),r=this._getCorrectAngle(),l=0,a=0,u=o;a<u.length;a++){var s=u[a];if(this._labels()!=t.AxisPosition.None){var _=this._labelsOverflowSize(e,n.size,s,o.length,this._getCorrectAngle());s._measure(e,_),l=Math.max(s._textView()._getMeasureInfo()._size.width,l)}}for(var p=0,c=o;p<c.length;p++){s=c[p];var h=this._labels()!=t.AxisPosition.None?s._textView()._getMeasureInfo()._size:new t.core.Size(0,0),f=s.tick,d=this._scaleModel._scale.value(f);if(null==d||isNaN(d))s._visible=!1;else{var y=this._definition._getDefaultLabelPadding(),g=this._definition._getDefaultLabelPadding(),m=this._labelStyle().padding;null!=m&&(y=m.left.value,g=m.right.value);var v=new t.core.Rect(n.left+y,n.top,n.width-y-g,n.height),w=t._Util.degree2Rad(r),b=new t.core.Point(v.center.x,d);s._setRotatedRectangle(new t._RectangleShape(b.x,b.y,h.width,h.height,w)),s._setTextLocation(b),s._setTextAngle(r),s._layout(e,new t.core.Rect(b.x-h.width/2,b.y-h.height/2,h.width,h.height),i)}}},i.prototype._renderContentGroup=function(t,e){this._renderLabelViews(t,e)},i}(t._VerticalLineAxisView);t._SwingVerticalLineAxisView=e}(t||(t={})),function(t){var e=function(e){function i(t){var n=e.call(this,t)||this;return n.__labelsAreaWidth=0,n}return n(i,e),i.prototype._layoutCoordinateSystemView=function(t,n,i,o){return this.__labelsAreaWidth=this._calculateVerticalLabelsAreaWidth(n,o,t),e.prototype._layoutCoordinateSystemView.call(this,t,n,i,o)},i.prototype._setHorizontalAxisRange=function(t,e,n){var i=e.width-this.__labelsAreaWidth;1==t._getIsForwardDirection()?n?t._scaleModel._setRange([e.right-.5*i,e.right]):t._scaleModel._internalSetRange([e.right-.5*i,e.right]):n?t._scaleModel._setRange([e.left,e.left+.5*i]):t._scaleModel._internalSetRange([e.left,e.left+.5*i])},i.prototype._layoutVerticalAxisView=function(e,n,i,o,r,l,a,u){var s=a.width-this.__labelsAreaWidth,_=new t.core.Rect(a.left+.5*s,l.top,l.height,this.__labelsAreaWidth);o._lineCartesianCoordinateSystemContent=new t.core.Rect(l.left,l.top,a.width,l.height),e._layout(n,_,o),o._lineCartesianCoordinateSystemContent=null},i.prototype._calculateVerticalLabelsAreaWidth=function(e,n,i){var o=i._getVerticalAxisViews();if(0==o.length)return 0;var r=o[0];if(t._isLineAxisView(r)){var l=r,a=this._getVerticanAxisViewWidth(l,n.size,e);return l._hasOtherSide()?a[1]:a[0]}return 0},i}(t.models._EChartMirrorXyCartesianCoordinateSystemViewLayoutPolicy);t._EChartSwingMirrorXyCartesianCoordinateSystemViewLayoutPolicy=e}(t||(t={})),function(t){var e=function(e){function i(n,o,r){return e.call(this,n,i._type,o,r,new t._SwingLineCartesianCoordinateSystemViewBuilder)||this}return n(i,e),i._type="MirrorCartesianXy",i}(t._BaseCoordinateSystemDefinition);t._SwingCoordinateSystemDefinition=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createDefaultLayoutPolicy=function(){return new t._EChartSwingMirrorXyCartesianCoordinateSystemViewLayoutPolicy(new t.options._CoordinateSystemLayoutOption)},i.prototype._createAxisView=function(e,n){return(new t._SwingLineAxisViewBuilder).buildAxisView(e,n)},i.prototype._getLayoutType=function(){return t._SwingXyCartesianCoordinateSystemConstants._layoutType},i}(t._MirrorXyCartesianCoordinateSystemView);t._SwingLineCartesianCoordinateSystemView=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype._buildCoordinateSystemView=function(e,n){return new t._SwingLineCartesianCoordinateSystemView(e,n)},e}();t._SwingLineCartesianCoordinateSystemViewBuilder=e}(t||(t={})),function(t){var e=function(){function t(){}return t._layoutType="SwingXy",t}();t._SwingXyCartesianCoordinateSystemConstants=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="SwingLineCartesian",this.type=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._pluginType,this.priority=11}return e.prototype._buildCoordinateSystemViewLayoutPolicy=function(e,n){if(t._isCartesianCoordinateSystemView(e)&&t._isXyCartesianCoordinateSystemView(e)){var i=e;if(i._getLayoutType()==t._SwingXyCartesianCoordinateSystemConstants._layoutType&&"MirrorCartesianXy"==i._getDefinition()._type){var o=null!=n?n.arguments:null,r=t.options._isCoordinateSystemLayoutOption(o)?o:new t.options._CoordinateSystemLayoutOption(null!=o?o.option():null);return new t._EChartSwingMirrorXyCartesianCoordinateSystemViewLayoutPolicy(r)}}return null},e.prototype.queryInterface=function(t){return"ICoordinateSystemViewLayoutPolicyBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._SwingLineCartesianCoordinateSystemLayoutPlugin=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="SwingCoordinateSystem",this.type=t._BuildInCoordinateSystemDefinitionBuilderCollection._pluginType,this.priority=3}return e.prototype._buildCoordinateSystemDefinition=function(e,n,i,o){return n==t._MirrorXyCartesianCoordinateSystemDefinition._type&&e._plotOptions.some((function(t){return!0===t.config.swapAxes}))&&!e._plotOptions.some((function(t){return t.encodings.category.field.split(">").length>1}))?new t._SwingCoordinateSystemDefinition(e,i,o):null},e.prototype.queryInterface=function(t){return"ICoordinateSystemDefinitionBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.SwingLineCartesianCoordinateSystemPlugin=n}(t||(t={})),function(t){var e,i,o;e=t.plugins||(t.plugins={}),i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._convertCoordinateSystemView=function(e){return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)?e:null},i.prototype._layoutCoordinateSystemView=function(e,n,i,o){var r=e._horizontalViewSize,l=e._verticalViewSize,a=e._getHorizontalAxisViews().filter((function(t){return t._scaleModel._hasScale()})),u=e._getVerticalAxisViews().filter((function(t){return t._scaleModel._hasScale()})),s=e._getPlotListView(),_=e._getPlotViews(),p=new t.core.Rect(o.left,o.top,o.width/r,o.height/l),c=p.clone();c.height-=0;var h=new t.core.Point(o.left+o.width/2,o.top+o.height/2),f=1e3,d=this._getRadialRectangle(u,h,f),y=Math.min(c.width/d.width,c.height/d.height)*f,g=this._getBestRadius(n,c,i,h,y,a,u,_,s);if(f=g.radius,null!=g.shape){var m=g.shape;if(null!=m){var v=m.left-c.left,w=m.right-c.right,b=m.top-c.top,P=m.bottom-c.bottom;h=this._makeCenter(h,v,w,b,P)}}f>=1&&(f-=.5);var S=p.clone();u.forEach((function(t){f-=0,t._radius=f,t._cx=h.x,t._cy=h.y,t._layout(n,S,i)})),a.forEach((function(t){t._scaleModel._setRange([t._innerRadius*f,f]),t._radius=f,t._cx=h.x,t._cy=h.y,t._layout(n,S,i)}));var C=new t.core.Rect(h.x-f,h.y-f,2*f,2*f);return new t._CoordinateSystemLayoutResult(C,null)},i.prototype._getRadialRectangle=function(e,n,i){var o=[];e.forEach((function(e){for(var r=e._startAngle(),l=t._Utility._toFixed(r+e._sweep,16,!0),a=[],u=Math.ceil(r/(Math.PI/2))*(Math.PI/2);u<l;u+=Math.PI/2)a.push(t._Utility._toFixed(u,16,!0));a.indexOf(r)<0&&a.push(r),a.indexOf(l)<0&&a.push(l);for(var s=e._innerRadius*i,_=0,p=a;_<p.length;_++){u=p[_];var c=Math.cos(u),h=Math.sin(u),f=n.clone();f.x+=i*c,f.y+=i*h,o.push(f);var d=n.clone();d.x+=s*c,d.y+=s*h,o.push(d)}}));var r=NaN,l=NaN,a=NaN,u=NaN;return o.forEach((function(t){r=isNaN(r)?t.x:Math.min(t.x,r),a=isNaN(a)?t.x:Math.max(t.x,a),l=isNaN(l)?t.y:Math.min(t.y,l),u=isNaN(u)?t.y:Math.max(t.y,u)})),new t.core.Rect(r,l,a-r,u-l)},i.prototype._layoutShapesRect=function(e,n,i,o,r,l,a,u,s){var _=a[0],p=l[0];if(a.forEach((function(t){var e=t._startAngle(),n=e+t._sweep;t._scaleModel._setRange([e,n])})),l.forEach((function(t){t._scaleModel._setRange([t._innerRadius*r,r])})),null!=p){var c=null==p._scaleModel._minimum?0:p._scaleModel._minimum,h=null==p._scaleModel._maximum?0:p._scaleModel._maximum;a.forEach((function(t,e){var n=t._getAcutalOrigin();if(null!=n&&n>=c&&n<=h){var i=p._scaleModel._value(n+(null!=p?p._getRadiusOffset():0));t._setOriginRadius(i)}}))}if(null!=_){var f=null==_._scaleModel._minimum?0:_._scaleModel._minimum,d=null==_._scaleModel._maximum?0:_._scaleModel._maximum;l.forEach((function(t,e){var n=t._getAcutalOrigin();if(null!=n&&n>=f&&n<=d){var i=_._scaleModel._value(n);t._setOriginAngle(i)}}))}s._getPlotViews().forEach((function(n){t._isCartesianPlotView(n)&&n._initAxisScale(e)}));var y=[],g=this._getRadialRectangle(a,o,r);a.forEach((function(t){t._radius=r,t._cx=o.x,t._cy=o.y})),l.forEach((function(t){t._radius=r,t._cx=o.x,t._cy=o.y})),u.forEach((function(t){t._setCenter(o.clone())})),s._layout(e,i,n),u.forEach((function(e){i._fTextOverlay?e._getOverlayViews().forEach((function(e){if(e instanceof t._TextCoordinateCartesianAnnotationOverlayView){var n=e.queryInterface("IBoxBounded");if(null!=n){var i=n.box();y.push(t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(i))}}})):y.push.apply(y,e._getLayoutShapes())}));var m=null;return m=i._fTextOverlay?null:g.clone(),[].forEach((function(e){var n=Math.min(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),i=Math.max(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),o=Math.min(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y),r=Math.max(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y);m=null==m?new t.core.Rect(n,o,i-n,r-o):t._RectangleUtility._unionOfRectangles(m,new t.core.Rect(n,o,i-n,r-o))})),y.forEach((function(e){var n=Math.min(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),i=Math.max(e.leftTop.x,e.rightTop.x,e.rightBottom.x,e.leftBottom.x),o=Math.min(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y),r=Math.max(e.leftTop.y,e.rightTop.y,e.rightBottom.y,e.leftBottom.y);m=null==m?new t.core.Rect(n,o,i-n,r-o):t._RectangleUtility._unionOfRectangles(m,new t.core.Rect(n,o,i-n,r-o))})),m},i.prototype._getBestRadius=function(t,e,n,i,o,r,l,a,u){var s=o,_=this._layoutShapesRect(t,e,n,i,s,r,l,a,u);if(_.width>e.width||_.height>e.height){n._fTextOverlay=!0;var p=this._layoutShapesRect(t,e,n,i,s,r,l,a,u);n._fTextOverlay=!1;var c=Math.max(_.width/e.width,_.height/e.height);null!=p&&e.width>p.width&&e.height>p.height&&(c=Math.max((_.width-p.width)/(e.width-p.width),(_.height-p.height)/(e.height-p.height))),s/=c,_=this._layoutShapesRect(t,e,n,i,s,r,l,a,u)}return{radius:s,shape:_}},i.prototype._makeCenter=function(t,e,n,i,o){if(e>=0&&n<=0){var r=Math.abs(e)>Math.abs(n)?-Math.abs(e+n):Math.abs(e+n);t.x+=.5*r}else e<=0&&n>=0?(r=Math.abs(e)>Math.abs(n)?Math.abs(e+n):-Math.abs(e+n),t.x+=.5*r):e>=0&&n>=0?(r=Math.abs(e+n),t.x-=.5*r):e<=0&&n<=0&&(r=Math.abs(e+n),t.x+=.5*r);return i>=0&&o<=0?(r=Math.abs(i)>Math.abs(o)?-Math.abs(i+o):Math.abs(i+o),t.y+=.5*r):i<=0&&o>=0?(r=Math.abs(i)>Math.abs(o)?Math.abs(i+o):-Math.abs(i+o),t.y+=.5*r):i>=0&&o>=0?(r=Math.abs(i+o),t.y-=.5*r):i<=0&&o<=0&&(r=Math.abs(i+o),t.y+=.5*r),t},i}(t._BaseCoordinateSystemViewLayoutPolicy),o=function(){function e(){this.name="Gauge",this.type=t._BuildInCoordinateSystemViewLayoutPolicyBuilderCollection._pluginType,this.priority=10}return e.prototype._buildCoordinateSystemViewLayoutPolicy=function(e,n){var o=e._getDefinition()._type;return t._isCartesianCoordinateSystemView(e)&&t._isRadialCartesianCoordinateSystemView(e)&&("CartesianRadial"==o||"CartesianPolygonal"==o)?new i:null},e.prototype.queryInterface=function(t){return"ICoordinateSystemViewLayoutPolicyBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.TrellisRadialCartesianCoordinateSystemLayoutPlugin=o}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,null!=o.equationText?o.equationText.split("\n").map((function(e){return new t.Expression(e)})):i,o)||this;return r.__left=o.left,r.__top=o.top,r.__style=o.style,r}return n(i,e),i.prototype._layout=function(n,i,o,r){if(null==this.__left||null==this.__top)e.prototype._layout.call(this,n,i,o,r);else{null==this._rectangle&&(this._rectangle=this._calculateRectangle(n,this._expressions)),this._translate(this.__left,this.__top);var l=this._ownerView._overlayGroupView()._getCartesianGroupView();t._DefaultLabelAdjustmentPolicy._defaultLabelAdjustmentPolicy().adjustLabel(this,this._rectangle,l._getCartesianPlotView()._getLayoutView()._getPlotAreaView()._getRectangle())}},i.prototype._drawView=function(n,i){n.beginTransform(),t._OptionUtility._applyStyleOption(n,this.__style),n.drawRect(this._rectangle.left,this._rectangle.top,this._rectangle.width,this._rectangle.height),n.restoreTransform(),e.prototype._drawView.call(this,n,i)},i}(t._ExpressionsLabelView);t._EquationLabelView=e}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__equationText=null,r.__style=new e._StyleOption(null),r.__left=null,r.__top=null,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"equationText",{get:function(){return this.__equationText},set:function(t){this.__equationText!=t&&(this.__equationText=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return this.__left},set:function(t){this.__left!=t&&(this.__left=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.__top},set:function(t){this.__top!=t&&(this.__top=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"equationText",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"left",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],r.prototype,"top",null),r}(e._TrendlineTextOption),e._TrendlineEquationOption=i}(t||(t={})),function(t){!function(t){t._isTrendlineEquationOption=function(t){var e=t;return void 0!==e.equationText&&void 0!==e.style&&void 0!==e.left&&void 0!==e.top}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="CustomTrendlineExpression",this.type=t._BuildInOverlayTrendlineExpressionPluginCollection._pluginType,this.priority=10}return e.prototype.buildTrendlineExpression=function(e,n,i){if(t.options._isTrendlineEquationOption(i))return new t._EquationLabelView(e,n,i);if(t.options._isJsonOption(i)){var o=new t.options._TrendlineEquationOption(i.json);if(null!=o.equationText||null!=o.style&&null!=o.style.option()||null!=o.left||null!=o.top)return new t._EquationLabelView(e,n,o)}return null},e.prototype.queryInterface=function(t){return"IOverlayTrendlineExpressionPlugin"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}(),e.TrendlineExpressionPlugin=n}(t||(t={})),function(t){!function(t){t._isPictorialBarPluginArgumentsOption=function(t){if(null==t)return!1;var e=t;return void 0!==e.symbolShape&&void 0!==e.symbolSize&&void 0!==e.symbolRepeat&&void 0!==e.symbolMargin&&void 0!==e.symbolRotate}}(t.options||(t.options={}))}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(t){null!=t?(this.__symbolShapeName=t.symbolShape,this.__symbolSize=t.symbolSize,this.__symbolRepeat=t.symbolRepeat,this.__symbolMargin=t.symbolMargin,this.__symbolRotate=t.symbolRotate):(this.__symbolShapeName=null,this.__symbolSize=null,this.__symbolRepeat=!1,this.__symbolMargin=null,this.__symbolRotate=null)}return e.prototype._render=function(e,n,i){var o=this;if(t._isBarXyCartesianPointView(e)){var r=e,l=r._rectangle(),a=r._getPlotView()._getCartesianPlotDefinition(),u=a._getSymbolDefinitionProviderList(),s=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinitionWithName(u,this.__symbolShapeName);if(null!=s){var _=a._plotConfigOption.swapAxes,p=r._reversed(),c=r._isPositive(),h=t.RegionBuilder.defaultRegionBuilder.buildRectangleRegion(l.left,l.top,l.width,l.height);n.drawGroup(null,h,null,(function(t){o.__symbolRepeat?o._drawRepeatSymbol(t,i,s,l,_,p,c):o._drawStretchSymbol(t,i,s,l,_,p,c)}))}}},e.prototype.queryInterface=function(t){return"IViewRender"==t?this:null},e.prototype._drawRepeatSymbol=function(e,n,i,o,r,l,a){var u=this._getSymbolRotate(this.__symbolRotate,r,l),s=this._getSymbolWidth(this.__symbolSize,o,r,this.__symbolRepeat),_=this._getSymbolHeight(this.__symbolSize,o,r,this.__symbolRepeat),p=null==this.__symbolMargin?0:this.__symbolMargin;if(!(s<1||_<1))if(r)for(var c=Math.ceil(o.width/s),h=0;h<c;h++){var f=void 0,d=o.center.y-_/2;f=l==a?o.right-(h+1)*s-h*p:o.left+h*s+h*p;var y=new t.core.Rect(f,d,s,_);null!=(g=i.createSymbol(y,e,u,t.SymbolLayout.Stretch))&&g.render(e,n)}else for(c=Math.ceil(o.height/_),h=0;h<c;h++){f=o.center.x-s/2;var g,m=void 0;m=l==a?o.top+h*_+h*p:o.bottom-(h+1)*_-h*p,y=new t.core.Rect(f,m,s,_),null!=(g=i.createSymbol(y,e,u,t.SymbolLayout.Stretch))&&g.render(e,n)}},e.prototype._getSymbolWidth=function(e,n,i,o){var r=this._getReferenceWidth(n,i,o),l=r;if(null!=e&&e.length>0){var a=e[0];if(null!=a){var u=a.type;u==t.ValueOptionType.Pixel?l=a.value:u==t.ValueOptionType.Percentage&&(l=r*a.value),l<0&&(l=0)}}return l},e.prototype._getSymbolHeight=function(e,n,i,o){var r=this._getReferenceHeight(n,i,o),l=r;if(null!=e&&e.length>0){var a=void 0;if(null!=(a=1==e.length?e[0]:e[1])){var u=a.type;u==t.ValueOptionType.Pixel?l=a.value:u==t.ValueOptionType.Percentage&&(l=r*a.value),l<0&&(l=0)}}return l},e.prototype._getReferenceWidth=function(t,e,n){return n&&e?t.height:t.width},e.prototype._getReferenceHeight=function(t,e,n){return n?e?t.height:t.width:t.height},e.prototype._drawStretchSymbol=function(e,n,i,o,r,l,a){var u=this._getSymbolRotate(this.__symbolRotate,r,l),s=this._getSymbolWidth(this.__symbolSize,o,r,this.__symbolRepeat),_=this._getSymbolHeight(this.__symbolSize,o,r,this.__symbolRepeat),p=0,c=0;r?(p=o.left,c=o.center.y-_/2):(p=o.center.x-s/2,c=o.bottom-_);var h=new t.core.Rect(p,c,s,_),f=i.createSymbol(h,e,u,t.SymbolLayout.Stretch);null!=f&&f.render(e,n)},e.prototype._getSymbolRotate=function(t,e,n){var i=null==t?0:t;return e||n&&(i+=180),i},e}(),e._PictorialBarCartesianPointViewRender=n}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function n(){this.name="PictorialBarCartesianPointViewRender",this.type=t._BuildInViewRenderBuilderCollection._pluginType,this.priority=0}return n.prototype._buildViewRender=function(n,i,o){if("Point"===n&&t._isPlotView(i)){var r=i;if(t._isBarCartesianPlotView(r)){var l=this._getPictorialBarPluginArgumentsOption(o);return new e._PictorialBarCartesianPointViewRender(l)}}return null},n.prototype.queryInterface=function(t){return"IViewRenderBuilder"==t||"IPlugin"==t?this:null},n.prototype._getPictorialBarPluginArgumentsOption=function(e){if(null!=e&&null!=e.arguments){var n=e.arguments;return t.options._isPictorialBarPluginArgumentsOption(n)?n:new t.options._PictorialBarPluginArgumentsOption(n.option())}return null},n}(),e.PictorialBarCartesianPointViewRenderPlugin=n}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__symbolShape=null,o.__symbolSize=null,o.__symbolRepeat=!1,o.__symbolMargin=null,o.__symbolRotate=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"symbolShape",{get:function(){return this.__symbolShape},set:function(t){this.__symbolShape!=t&&(this.__symbolShape=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolSize",{get:function(){return this.__symbolSize},set:function(t){this.__symbolSize!=t&&(this.__symbolSize=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolRepeat",{get:function(){return this.__symbolRepeat},set:function(t){this.__symbolRepeat!=t&&(this.__symbolRepeat=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolMargin",{get:function(){return this.__symbolMargin},set:function(t){this.__symbolMargin!=t&&(this.__symbolMargin=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"symbolRotate",{get:function(){return this.__symbolRotate},set:function(t){this.__symbolRotate!=t&&(this.__symbolRotate=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._StringConverter,!0)],i.prototype,"symbolShape",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageArrayConverter,!1)],i.prototype,"symbolSize",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0)],i.prototype,"symbolRepeat",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"symbolMargin",null),o([t.JsonConverterAttribute(t._NumberConverter,!0)],i.prototype,"symbolRotate",null),i}(e._Option),e._PictorialBarPluginArgumentsOption=i}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="XLogAxisScalePolicyV1",n.type=t._BuildInAxisScalePolicyBuilderCollection._pluginType,n.priority=0,n}return n(i,e),i.prototype.buildAxisScalePolicy=function(e,n){return n==t.ValueScaleType.Logarithmic&&e.axisType==t.AxisType.X?this:null},i.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},i.defaultPlugin=new i,i}(t._BaseLogAxisScalePolicy);t._XLogAxisScalePolicyV1Plugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="YLinearScalePolicyV1",n.type=t._BuildInAxisScalePolicyBuilderCollection._pluginType,n.priority=0,n}return n(i,e),i.prototype.buildAxisScalePolicy=function(e,n){return n==t.ValueScaleType.Linear&&e.axisType==t.AxisType.Y?this:null},i.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},i.defaultPlugin=new i,i}(t._BaseLinearAxisScalePolicy);t._YLinearAxisScalePolicyV1Plugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(e){function i(){var n=e.call(this)||this;return n.name="YLogAxisScalePolicyV1",n.type=t._BuildInAxisScalePolicyBuilderCollection._pluginType,n.priority=0,n}return n(i,e),i.prototype.calculateMinMax=function(e,n){return null==e&&null==n&&(e=1,n=1),e==n&&(e=Math.min(1,e),n=Math.max(1,n)),null!=e&&e>1?e=1:(null==n||n<1)&&(n=1),new t._DataDomain(e,n)},i.prototype.buildAxisScalePolicy=function(e,n){return n==t.ValueScaleType.Logarithmic&&e.axisType==t.AxisType.Y?this:null},i.prototype.queryInterface=function(t){return"IAxisScalePolicyBuilder"===t||"IPlugin"===t?this:e.prototype.queryInterface.call(this,t)},i.defaultPlugin=new i,i}(t._BaseLogAxisScalePolicy);t._YLogAxisScalePolicyV1Plugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!1)}(t||(t={})),function(t){var e=function(){function e(e){this.__animator=new t._Animator(e,t.AnimationController.default.timeline),this.__firstLayout=!0,this.loaded=new t.core.DvEvent,this.layouted=new t.core.DvEvent,this.hitTested=new t.core.DvEvent,this.resized=new t.core.DvEvent,this.disposed=new t.core.DvEvent,t.AnimationController.default.animators.push(this.__animator),this.loaded.addHandler(this._loaded,this),this.layouted.addHandler(this._layouted,this),this.hitTested.addHandler(this._hitTested,this),this.resized.addHandler(this._resized,this),this.disposed.addHandler(this._disposed,this)}return e.prototype._loaded=function(t,e){this.__animator.interrupt(null)},e.prototype._layouted=function(e,n){this.__animator.interrupt(t.AnimationType.Loading),this.__firstLayout?(this.__animator.run(t.AnimationType.Loading,new t.ActuatorEventArgs(null)),this.__firstLayout=!1):(this.__animator.interrupt(t.AnimationType.Update),this.__animator.interrupt(t.AnimationType.Hover),this.__animator.interrupt(t.AnimationType.Highlight),n._reason==t._RefreshReason.Resizing?this.__animator.run(t.AnimationType.Resize,new t.ActuatorEventArgs(null)):this.__animator.run(t.AnimationType.Update,new t.ActuatorEventArgs(null))),t.AnimationController.default.refresh()},e.prototype._hitTested=function(e,n){this._conflict([t.AnimationType.Loading,t.AnimationType.Update])||(this.__animator.interrupt(t.AnimationType.Highlight),this.__animator.run(t.AnimationType.Hover,new t.ActuatorEventArgs(n)),t.AnimationController.default.refresh())},e.prototype._resized=function(t,e){},e.prototype._disposed=function(e,n){this.loaded.removeHandler(this._loaded,this),this.layouted.removeHandler(this._layouted,this),this.hitTested.removeHandler(this._hitTested,this),this.resized.removeHandler(this._resized,this),this.disposed.removeHandler(this._disposed,this),this.__animator.dispose();var i=t.AnimationController.default.animators.indexOf(this.__animator);i>=0&&t.AnimationController.default.animators.splice(i,1)},e.prototype._conflict=function(t){for(var e=function(e){if(t.some((function(t){return t==e.definition.type})))return{value:!0}},n=0,i=this.__animator.animations.slice();n<i.length;n++){var o=e(i[n]);if("object"==typeof o)return o.value}return!1},e}();t._AnimationEventActuator=e}(t||(t={})),function(t){var e=function(){function e(){this.name="AnimationEventActuator",this.type=t._BuildInEventActuatorBuilderCollection._pluginType,this.priority=1}return e.prototype.buildEventActuator=function(e){return new t._AnimationEventActuator(e)},e.prototype.queryInterface=function(t){return"IEventActuatorBuilder"==t||"IPlugin"==t?this:null},e.defaultPlugin=new e,e}();t._AnimationEventActuatorBuilder=e,t.plugins.PluginCollection.defaultPluginCollection.register(e.defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(e){this._startTime=0,this._active=0,this.timing=e,this.phase=t.AnimationActionPhase.PhasePending,this.id=t.guid()}return e.prototype._scale=function(t){return this.timing.ease((t-this.timing.startDelay)/this.timing.duration)},e.prototype.flushables=function(){return[null]},e.prototype.updateFrame=function(e){if(null!=this.timing){if(this._active=e,this.phase==t.AnimationActionPhase.PhasePending){if(!this._isReady())return;this._onPending(),this.phase=t.AnimationActionPhase.PhaseBefore}this.phase==t.AnimationActionPhase.PhaseBefore&&e>=this.timing.startDelay&&(this._onStart(),this._applyTransformation(0),this.phase=t.AnimationActionPhase.PhaseActive),this.phase==t.AnimationActionPhase.PhaseActive&&(e<this.timing.startDelay+this.timing.duration?this._applyTransformation(this._scale(e)):(this._applyTransformation(1),this.phase=t.AnimationActionPhase.PhaseAfter)),this.phase==t.AnimationActionPhase.PhaseAfter&&e>=this.timing.startDelay+this.timing.duration+this.timing.endDelay&&this._onEnd()}},e.prototype._interrupt=function(){this._onEnd(),this.timing=null},e.prototype._restart=function(){this.phase=t.AnimationActionPhase.PhasePending},e.prototype._onPending=function(){},e.prototype._onStart=function(){this._startTime=this._active},e.prototype._onEnd=function(){},e.prototype._applyTransformation=function(t){},e.prototype._isReady=function(){return!0},e}();t._AnimationAction=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t){this.__effectDefinition=t,this.__x=null,this.__y=null,this.__rotation=null}return e.prototype._buildSymbolPath=function(e){var n=e.split(":");if(null!=n&&2==n.length){var i=n[0],o=n[1];return"path"===i?t._PathBuilder._defaultPathBuilder._buildPathFromExpression(o):null}return null},e.prototype._createSymbol=function(e,n,i,o,r){var l=this._buildSymbolPath(n);if(null!=l){var a=t._PathBoundRectangleBuilder._defaultPathBoundRectangleBuilder._buildPathBoundRectangle(l),u=o.width/a.width,s=o.height/a.height,_=new t.Matrix;return _.translate(o.center.x,o.center.y),null!=i&&_.rotate(i),_.translate(.5*-o.width,.5*-o.height),_.scale(u,s),new t.models.PathSymbol(l,r,_,o)}var p=t.SymbolDefinitionGetPolicy.defaultSymbolDefinitionGetPolicy().getSymbolDefinitionWithName(e,n);if(null!=p){var c=this._getSymbolRectangle(o),h=p.createSymbol(c,r);return null==h.matrix&&(h.matrix=new t.Matrix),null!=i&&h.matrix.rotate(i,c.center),h}return null},e.prototype._getSymbolRectangle=function(t){var e=t.clone(),n=t.width<t.height?t.width:t.height;return t.width>t.height?e.left=t.left+(t.width-t.height)/2:t.height>t.width&&(e.top=t.top+(t.height-t.width)/2),e.height=n,e.width=n,e},e.prototype._getRouteDistance=function(t){for(var e=0,n=0;n<t.length-1;n++){var i=t[n],o=t[n+1],r=o.x-i.x,l=o.y-i.y;e+=Math.sqrt(r*r+l*l)}return e},e.prototype._applyTransformation=function(t,e,n){if(void 0===n&&(n=0),0!=e.length){if(e.length>0&&e.length<=1)return this.__x=e[0].x,void(this.__y=e[0].y);if(0==n){var i=(e.length-1)*t;if((h=Math.floor(i))<e.length){var o=e[h].x,r=e[h].y;if(h<e.length-1){var l=e[h+1].x,a=e[h+1].y,u=i%1;if(this.__x=(l-o)*u+o,this.__y=(a-r)*u+r,this.__effectDefinition.autoRotate){var s=l-o,_=a-r;this.__rotation=Math.atan2(_,s)+Math.PI/2}}else this.__x=o,this.__y=r}else o=e[e.length-1].x,r=e[e.length-1].y,this.__x=o,this.__y=r}else for(var p=this._getRouteDistance(e)*t,c=0,h=0;h<e.length-1;h++){o=e[h].x,r=e[h].y;var f=(l=e[h+1].x)-o,d=(a=e[h+1].y)-r,y=Math.sqrt(f*f+d*d);if(p>=c&&p<=c+y){u=0==y?0:(p-c)/y,this.__x=f*u+o,this.__y=d*u+r,this.__effectDefinition.autoRotate&&(s=f,_=d,this.__rotation=Math.atan2(_,s)+Math.PI/2);break}c+=y}}},e.prototype._getSymbol=function(e){if(null!=this.__effectDefinition.symbol&&null!=this.__x&&null!=this.__y){var n=t._StyleUtility._buildStyle();t._OptionUtility._applyStyleOption(n,this.__effectDefinition.style),n.scalingStroke=!1;var i=new t.core.Rect(this.__x-.5*this.__effectDefinition.symbolWidth,this.__y-.5*this.__effectDefinition.symbolHeight,this.__effectDefinition.symbolWidth,this.__effectDefinition.symbolHeight);return this._createSymbol(e,this.__effectDefinition.symbol,this.__rotation,i,n)}return null},e}();t._PathAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,n)||this;return i.__isVisibleChanged=!1,i._isHiddenPhaseBefore=!0,i.view=t,i}return n(i,e),i.prototype._isReady=function(){return!!this.view._isVisible()&&e.prototype._isReady.call(this)},i.prototype._onPending=function(){e.prototype._onPending.call(this),this._isHiddenPhaseBefore&&this.view._isVisible()&&(this.__isVisibleChanged=!0,this.__viewVisible=this._getViewVisible(this.view),this._setViewVisible(this.view,!1))},i.prototype._onStart=function(){e.prototype._onStart.call(this),this.__isVisibleChanged&&this._setViewVisible(this.view,!0)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__isVisibleChanged&&(this._setViewVisible(this.view,this.__viewVisible),this.__isVisibleChanged=!1)},i.prototype._getViewVisible=function(e){return t._isAnimationView(e)?e._animationVisible:e._visible},i.prototype._setViewVisible=function(e,n){t._isAnimationView(e)?e._animationVisible=n:e._visible=n},i}(t._AnimationAction);t._ViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=1);var r=t.call(this,e,n)||this;return r._from=i,r._to=o,r}return n(e,t),e.prototype._applyTransformation=function(e){t.prototype._applyTransformation.call(this,e),this._applyScale(this._from+(this._to-this._from)*e)},e.prototype._applyScale=function(t){},e}(t._ViewAnimationAction);t._TransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.actions=i,o}return n(e,t),e.prototype.updateFrame=function(t){for(var e=0,n=this.actions;e<n.length;e++)n[e].updateFrame(t)},e.prototype._interrupt=function(){for(var t=0,e=this.actions;t<e.length;t++)e[t]._interrupt();this.actions.length=0},e}(t._ViewAnimationAction);t._ViewGroupAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,o)||this;return r.view=e,r._fromCache=n,r._toCache=i,r}return n(e,t),e}(t._AnimationAction);t._ViewTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o._isHiddenPhaseBefore=!1,o._effectDefinition=i,o}return n(i,e),i.prototype.flushables=function(){var t=this.view._getPlotView().queryInterface("IFlushable");return null!=t?[t]:e.prototype.flushables.call(this)},i.prototype._onPending=function(){e.prototype._onPending.call(this),this.__style=this.view._calculateStyle(new t._RenderContext)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._externalStyle=null,this._restart()},i.prototype._restart=function(){e.prototype._restart.call(this);var t=this._active-this.timing.startDelay,n=this.timing.duration+this.timing.endDelay+this._effectDefinition.startDelay,i=Math.floor(t/n);this.timing.startDelay+=i*n,this._active=-1},i.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n);var i,o=null!=this._effectDefinition.from.opacity?this._effectDefinition.from.opacity:1,r=o+((null!=this._effectDefinition.to.opacity?this._effectDefinition.to.opacity:0)-o)*n;i=r<0?0:r>1?1:r;var l=this.__style.fill;null!=this._effectDefinition.style&&null!=this._effectDefinition.style.fill&&(l=t._OptionUtility._colorFromOption(this._effectDefinition.style.fill));var a=this.__style.stroke;null!=this._effectDefinition.style&&null!=this._effectDefinition.style.stroke&&(a=t._OptionUtility._colorFromOption(this._effectDefinition.style.stroke));var u=t._StyleUtility._buildStyle();u.fill=l,u.fillOpacity=i,u.stroke=a,u.strokeOpacity=i,this.view._externalStyle=u},i}(t._TransitionViewAnimationAction);t._FlickerEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n){return t.call(this,e,n)||this}return n(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this);var e=this.view._getPlotView()._coordinateSystemView()._getPlotListView().queryInterface("IDisplayablePipeLine");null!=e&&e._push(this)},e.prototype._onEnd=function(){t.prototype._onEnd.call(this);var e=this.view._getPlotView()._coordinateSystemView()._getPlotListView().queryInterface("IDisplayablePipeLine");null!=e&&e._delete(this),this._restart()},e.prototype._contains=function(t){return!1},e.prototype._cutOff=function(){return!1},e}(t._ViewAnimationAction);t._EffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__effectDefinition=i,o}return n(i,e),i.prototype._rippleEffectDefinition=function(){return this.__effectDefinition},i.prototype._onPending=function(){e.prototype._onPending.call(this),this.__opacityFrom=null!=this.__effectDefinition.from.opacity?this.__effectDefinition.from.opacity:1,this.__opacityTo=null!=this.__effectDefinition.to.opacity?this.__effectDefinition.to.opacity:0,this.__opacity=this.__opacityFrom},i.prototype._restart=function(){e.prototype._restart.call(this);var t=this._active-this.timing.startDelay,n=this.timing.duration+this.timing.endDelay+this.__effectDefinition.startDelay,i=Math.floor(t/n);this.timing.startDelay+=i*n,this._active=-1},i.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t);var n=t*(this.__opacityTo-this.__opacityFrom)+this.__opacityFrom;this.__opacity=n<0?0:n>1?1:n},i.prototype._defaultStyle=function(){var e=this.view._calculateStyle(new t._RenderContext);return e.strokeOpacity=this.__opacity,e.fillOpacity=this.__opacity,e.scalingStroke=!1,e},i}(t._EffectViewAnimationAction);t._RippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return n(e,t),e.prototype.flushables=function(){var e=this.view._getPlotView()._coordinateSystemView()._getPlotListView().queryInterface("IFlushable");return null!=e?[e]:t.prototype.flushables.call(this)},e}(t._ViewGroupAnimationAction);t._EffectViewGroupAnimationAction=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e,n)||this;return null!=i&&(r._fromInfo=i.clone()),r._toInfo=o,r._endInfo=o.clone(),r._isHiddenPhaseBefore=!1,r}return n(e,t),e.prototype._onEnd=function(){t.prototype._onEnd.call(this),this._toInfo.assign(this._endInfo)},e.prototype._onPending=function(){t.prototype._onPending.call(this),this._lerpInfo(this._toInfo,this._fromInfo,this._endInfo,0)},e.prototype._applyTransformation=function(e){t.prototype._applyTransformation.call(this,e),this._lerpInfo(this._toInfo,this._fromInfo,this._endInfo,e)},e.prototype._lerpInfo=function(t,e,n,i){t.lerp(e,n,i)},e}(t._ViewAnimationAction);t._AnnotationAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r,l){void 0===r&&(r=0),void 0===l&&(l=r);var a=e.call(this,t,n,i,o)||this;return null==a._fromInfo&&(a._fromInfo=a._createInitialValue(o,l)),a._rotateHandler(a._fromInfo,a._endInfo,a._regualrAngle(r)),a}return n(i,e),i.prototype._createInitialValue=function(e,n){void 0===n&&(n=0);var i=e,o=i.clone(),r=Math.sqrt(this._dis2(i._getStart(),i._getEnd()));return o._updateLocation(o._getStart(),new t.core.Point(i._getStart().x+r*Math.cos(n),i._getStart().y+r*Math.sin(n))),o},i.prototype._rotateHandler=function(e,n,i){var o=e,r=n,l=this._dis2(o._getStart(),o._getEnd());if(t._NumberPixelRoundEqualityComparer._numberPixelRoundEqualityComparer._equalsWith(l,this._dis2(r._getStart(),r._getEnd()))&&(this.__isStartCenter=t._PointPixelRoundEqualityComparer._pointPixelRoundEqualityComparer._equalsWith(o._getStart(),r._getStart()),this.__isEndCenter=t._PointPixelRoundEqualityComparer._pointPixelRoundEqualityComparer._equalsWith(o._getEnd(),r._getEnd()),this._xor(this.__isStartCenter,this.__isEndCenter))){this.__isRotate=!0,this.__radius=Math.sqrt(l);var a=void 0,u=void 0;this.__isStartCenter?(a=t.Vector.pointSub(o._getStart(),o._getEnd()),u=t.Vector.pointSub(r._getStart(),r._getEnd())):(a=t.Vector.pointSub(o._getEnd(),o._getStart()),u=t.Vector.pointSub(r._getEnd(),r._getStart()));var s=new t.Vector(Math.cos(i),Math.sin(i));this.__startAngle=t.Vector.angle(a,s)+i;var _=t.Vector.angle(u,s)+i;this.__sweep=_-this.__startAngle}},i.prototype._xor=function(t,e){return(!t||!e)&&(t||e)},i.prototype._regualrAngle=function(e){return(e%=t._Utility._PI2)<0&&(e=t._Utility._PI2+e),e},i.prototype._dis2=function(t,e){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)},i.prototype._lerpInfo=function(t,e,n,i){if(this.__isRotate){var o=t,r=e;this.__isStartCenter?o._updateLocation(o._getStart(),this._radLerp(r._getStart(),this.__radius,this.__startAngle,this.__sweep,i)):this.__isEndCenter&&o._updateLocation(this._radLerp(r._getEnd(),this.__radius,this.__startAngle,this.__sweep,i),o._getEnd())}else t.lerp(e,n,i)},i.prototype._radLerp=function(e,n,i,o,r){var l=i+o*r;return new t.core.Point(e.x+n*Math.cos(l),e.y+n*Math.sin(l))},i}(t._AnnotationAnimationAction);t._LineAnnotationAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l){var a=e.call(this,n,i)||this;return a.__reversed=o,a.__scale=r,a._cache=l,a._type=a.__scale.type==t.ValueOptionType.Percentage?t.AnimationKeyFramesType.Percentage:t.AnimationKeyFramesType.Pixel,a._isHiddenPhaseBefore=!1,a}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this),this.__reversed||(this.view._floated=!0)},i.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);null!=n&&(n.addReference(),this._from=n.currentScale),this._to=this.__reversed?this._type==t.AnimationKeyFramesType.Percentage?1:0:this.__scale.value},i.prototype._applyScale=function(t){e.prototype._applyScale.call(this,t);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);null!=n&&(n.currentScale=t)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this);var t=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);null!=t&&0==t.delReference()&&this.__reversed&&this._cache.set([this.view._getPlotView()._id(),this.view._id()],null),this.__reversed&&(this.view._floated=!1)},i}(t._TransitionViewAnimationAction);t._PointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.__cache=i,r._fromInfo=n._annotation._getTransformInfo().clone(),r._toInfo=e._getAnnotation()._getTransformInfo().clone(),r._tranformInfo=r._toInfo.clone(),r._fromInfo.equalsWith(r._toInfo)&&(r.timing=null),r}return n(e,t),e.prototype._onPending=function(){t.prototype._onPending.call(this),this._lerpInfo(this._tranformInfo,this._fromInfo,this._toInfo,0),this.view._getAnnotation()._getTransformInfo().assign(this._tranformInfo)},e.prototype._onEnd=function(){t.prototype._onEnd.call(this),null!=this.__cache&&this.__cache._annotation._getTransformInfo().assign(this._tranformInfo)},e.prototype._applyTransformation=function(e){t.prototype._applyTransformation.call(this,e),this._lerpInfo(this._tranformInfo,this._fromInfo,this._toInfo,e),this.view._getAnnotation()._getTransformInfo().assign(this._tranformInfo)},e.prototype._lerpInfo=function(t,e,n,i){t.lerp(e,n,i)},e}(t._ViewTransitionViewAnimationAction);t._AnnotationUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,n,i,o,r)||this,a=0;if(null!=n){var u=n._getOverlayView()._getPlotView(),s=u._getDefinition()._plotConfigOption.axisMode;!t._isCartesianPlotView(u)||s!=t.AxisMode.Polygonal&&s!=t.AxisMode.Radial||t._isCartesianOverlayItemView(n)&&(a=n._overlayGroupView()._getCartesianGroupView()._horizontalAxisView()._startAngle())}return l._rotateHandler(l._fromInfo,l._toInfo,l._regualrAngle(a)),l}return n(i,e),i.prototype._rotateHandler=function(e,n,i){var o=e,r=n,l=this._dis2(o._getStart(),o._getEnd());if(t._NumberPixelRoundEqualityComparer._numberPixelRoundEqualityComparer._equalsWith(l,this._dis2(r._getStart(),r._getEnd()))&&(this.__isStartCenter=t._PointPixelRoundEqualityComparer._pointPixelRoundEqualityComparer._equalsWith(o._getStart(),r._getStart()),this.__isEndCenter=t._PointPixelRoundEqualityComparer._pointPixelRoundEqualityComparer._equalsWith(o._getEnd(),r._getEnd()),this._xor(this.__isStartCenter,this.__isEndCenter))){this.__isRotate=!0,this.__radius=Math.sqrt(l);var a=void 0,u=void 0;this.__isStartCenter?(a=t.Vector.pointSub(o._getStart(),o._getEnd()),u=t.Vector.pointSub(r._getStart(),r._getEnd())):(a=t.Vector.pointSub(o._getEnd(),o._getStart()),u=t.Vector.pointSub(r._getEnd(),r._getStart()));var s=new t.Vector(Math.cos(i),Math.sin(i));this.__startAngle=t.Vector.angle(a,s)+i;var _=t.Vector.angle(u,s)+i;this.__sweep=_-this.__startAngle}},i.prototype._xor=function(t,e){return(!t||!e)&&(t||e)},i.prototype._regualrAngle=function(e){return(e%=t._Utility._PI2)<0&&(e=t._Utility._PI2+e),e},i.prototype._dis2=function(t,e){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)},i.prototype._lerpInfo=function(t,n,i,o){if(this.__isRotate){var r=t,l=n;this.__isStartCenter?r._updateLocation(r._getStart(),this._radLerp(l._getStart(),this.__radius,this.__startAngle,this.__sweep,o)):this.__isEndCenter&&r._updateLocation(this._radLerp(l._getEnd(),this.__radius,this.__startAngle,this.__sweep,o),r._getEnd())}else e.prototype._lerpInfo.call(this,t,n,i,o)},i.prototype._radLerp=function(e,n,i,o,r){var l=i+o*r;return new t.core.Point(e.x+n*Math.cos(l),e.y+n*Math.sin(l))},i}(t._AnnotationUpdateViewAnimationAction);t._LineAnnotationUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,n,i,o,r)||this;return l.__xs=i._xs.slice(),l.__ys=i._ys.slice(),t._NumberEqualityComparer._numberArrayEqualityComparer._equalsWith(l._fromCache._xs,l._toCache._xs)&&t._NumberEqualityComparer._numberArrayEqualityComparer._equalsWith(l._fromCache._ys,l._toCache._ys)&&(l.timing=null),l}return n(i,e),i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._setXs(this.__xs.slice()),this.view._setYs(this.__ys.slice()),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},i.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},i.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},i.prototype._draw=function(e,n){if(this.__xs&&this.__ys&&this.view){var i=this.view._calculateStyle(n);t._StyleUtility._applyStyle(e,i),e.drawPolygon(this.__xs,this.__ys)}},i.prototype._contains=function(e){return!!(this.__xs&&this.__ys&&t._Util.IsPointInPolygon2(e,this.__xs,this.__ys))},i.prototype._cutOff=function(){return!0},i.prototype._calcShape=function(t){if(this.__xs.length=this._toCache._xs.length,this.__ys.length=this._toCache._ys.length,null!=this._toCache._xs&&null!=this._toCache._ys)for(var e=Math.min(this._toCache._xs.length,this._toCache._ys.length,this._fromCache._xs.length,this._fromCache._ys.length),n=Math.min(this._toCache._xs.length,this._toCache._ys.length)/e,i=Math.min(this._fromCache._xs.length,this._fromCache._ys.length)/e,o=0;o<e;++o){var r=Math.floor(o*n),l=Math.floor(o*i),a=(this._toCache._xs[r]-this._fromCache._xs[l])*t,u=(this._toCache._ys[r]-this._fromCache._ys[l])*t;this.__xs[r]=a+this._fromCache._xs[l],this.__ys[r]=u+this._fromCache._ys[l];for(var s=r+1;s<Math.floor((o+1)*n);++s)this.__xs[s]=this.__xs[r],this.__ys[s]=this.__ys[r]}},i}(t._ViewTransitionViewAnimationAction);t._DisplayablePointViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function t(t,e,n,i){this.ease=t,this.startDelay=e,this.endDelay=n,this.duration=i}return t._createTiming=function(e,n,i,o,r){if(r){var l=o/(i+1);return new t(e,n*l,0,2*l)}var a=o/i;return new t(e,n*a,0,a)},t}();t._ActionTiming=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e,n,i){this.__startTime=0,this.__currentTime=0,this._active=-1,this.played=new t.core.DvEvent,this.paused=new t.core.DvEvent,this.canceled=new t.core.DvEvent,this.finished=new t.core.DvEvent,this.id=t.guid(),this.definition=e,this.timeline=i,this.playState=t.AnimationPlayState.Idle,this.playbackRate=1,this.actions=n}return e.prototype.flushables=function(){return[]},e.prototype.update=function(e){var n=!0;return this.playState==t.AnimationPlayState.Idle?this._internalPlay(e):this.playState==t.AnimationPlayState.Running?this._internalRunning(e):(this.playState==t.AnimationPlayState.Finish||this.playState==t.AnimationPlayState.Paused)&&(n=!1),n},e.prototype.play=function(){var e=this.timeline.currentTime;this.playState==t.AnimationPlayState.Idle?this._internalPlay(e):this.playState==t.AnimationPlayState.Paused&&this._internalResume(e)},e.prototype.pause=function(){this.playState==t.AnimationPlayState.Running&&(this.playState=t.AnimationPlayState.Paused,this.paused.raise(this))},e.prototype.cancel=function(){this.playState=t.AnimationPlayState.Finish,this._internalFinish(),this.canceled.raise(this)},e.prototype.finish=function(){this.playState=t.AnimationPlayState.Finish,this._internalFinish(),this.finished.raise(this)},e.prototype._internalPlay=function(e){this.playState=t.AnimationPlayState.Running,this.__startTime=e,this.__currentTime=e,this._active=(this.__currentTime-this.__startTime)*this.playbackRate,this.played.raise(this)},e.prototype._internalResume=function(e){this.playState=t.AnimationPlayState.Running;var n=this.__currentTime-this.__startTime;this.__startTime=e-n,this.__currentTime=e,this._active=(this.__currentTime-this.__startTime)*this.playbackRate,this.played.raise(this)},e.prototype._internalRunning=function(t){this.__currentTime=t,this._active=(this.__currentTime-this.__startTime)*this.playbackRate},e.prototype._internalFinish=function(){for(var t=0,e=this.actions;t<e.length;t++)e[t]._interrupt()},e}();t._Animation=e}(t||(t={})),function(t){var e=function(t){this._animationView=t,this._isVisible=t._isVisible()};t._BaseAnimationViewCache=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n._xs=[].concat(e._getXs()),n._ys=[].concat(e._getYs()),n}return n(e,t),e}(t._BaseAnimationViewCache);t._BasePointAnimationViewCache=e}(t||(t={})),function(t){var e=function(){function e(t){this.__cache=t}return e.prototype.buildAnimation=function(e,n,i){var o=[];if(this.__cache.before.get([e._id()])){for(var r=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),l={},a=0,u=this._getAnimatableViews(e);a<u.length;a++){var s=u[a];t._isIdentityModel(s)&&s._isVisible()&&(l[s._id()]=s)}for(var _=0,p=t._NativeExtension.properties(l,!0);_<p.length;_++){var c=p[_],h=l[c],f=this.__cache.before.get([e._id(),c]),d=this.__cache.current.get([e._id(),c]),y=this._createAnimationAction(h,f,d,r);null!=y&&null!=y.timing&&o.push(y)}}return o.length>0?new t._FrameAnimation(n,o,i):null},e.prototype.saveCache=function(t){var e=this,n=this._getAnimatableViews(t);if(n.length>0){var i=this._createOwnerViewCache(t);null!=i&&(this.__cache.current.set([t._id()],i),n.forEach((function(n){var i=e._createAnimationViewCache(n);null!=i&&e.__cache.current.set([t._id(),n._id()],i)})))}},e.prototype._canCreateUpdateAnimation=function(t,e,n){return e._isVisible&&n._isVisible},e.prototype._createOwnerViewCache=function(e){return new t._BaseAnimationViewCache(e)},e.prototype._createAnimationViewCache=function(e){var n=this._cloneAnimatableView(e);return new t._BaseAnimationViewCache(n)},e.prototype._createAnimationAction=function(t,e,n,i){return null!=e&&null!=n&&this._canCreateUpdateAnimation(t,e,n)?this._createUpdateAnimationAction(t,e,n,i):null!=e&&e._isVisible?this._createDisappearAnimationAction(e,i):null!=n&&n._isVisible?this._createAppearAnimationAction(t,i):null},e.prototype._createDisappearAnimationAction=function(t,e){return null},e.prototype._createAppearAnimationAction=function(t,e){return null},e}();t._BaseUpdateAnimationBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){t._isPointAnimationViewCache=function(t){var e=t;return null!=e._xs&&null!=e._ys}}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){for(var o=[],r=0,l=e._getAnnotationOverlayItemViews();r<l.length;r++){var a=l[r],u=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),s=this._createAnimationAction(a,u);null!=s&&o.push(s)}return new t._FrameAnimation(n,o,i)},e.prototype._createAnimationAction=function(e,n){var i=e._getAnnotation();if(null!=i){var o=i._getTransformInfo();if(null!=o){if(i instanceof t._LineGaugeAnnotation&&null!=o){var r=e._getOverlayView()._getPlotView(),l=r._getDefinition()._plotConfigOption.axisMode;if(t._isCartesianPlotView(r)&&(l==t.AxisMode.Polygonal||l==t.AxisMode.Radial)&&t._isCartesianOverlayItemView(e)){var a=e._overlayGroupView()._getCartesianGroupView(),u=a._horizontalAxisView();return new t._LineAnnotationAnimationAction(e,n,null,o,u._startAngle(),t.AnnotationLib.getRadialOriginAngle(a))}return new t._LineAnnotationAnimationAction(e,n,null,o)}return new t._AnnotationAnimationAction(e,n,this._createInitialValue(o),o)}}return null},e.prototype._createInitialValue=function(e){if(e instanceof t._BoxTextSymbolTransformInfo)return(n=e.clone()).text="0",n;if(e instanceof t._TextTransformInfo)return(n=e.clone()).text="0",n;if(e instanceof t._AnchoredTransformInfo)return(n=e.clone()).scale=[0,0],n;if(t._isLineTransformInfo(e)){var n=e.clone(),i=new t.core.Point((e._getStart().x+e._getEnd().x)/2,(e._getStart().y+e._getEnd().y)/2);return n._updateLocation(i,i),n}return e.clone()},e}();t._OverlayViewAnnotationLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n._annotation=e._getAnnotation()._clone(),n}return n(e,t),e.prototype._getAnnotationOverlayItemView=function(){return this._animationView},e}(t._BaseAnimationViewCache);t._AnnotationOverlayItemAnimationViewCache=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationViewCache=function(e){return new t._AnnotationOverlayItemAnimationViewCache(e._clone())},i.prototype._createUpdateAnimationAction=function(t,e,n,i){var o=this._createLineAnnotationUpdateAnimationAction(t,e,n,i);if(null!=o)return o;var r=this._createAnnotationUpdateAnimationAction(t,e,n,i);return null!=r?r:null},i.prototype._createLineAnnotationUpdateAnimationAction=function(e,n,i,o){if(t._isAnnotationOverlayItemAnimationViewCache(n)&&t._isAnnotationOverlayItemAnimationViewCache(i)&&null!=n._annotation&&null!=i._annotation){var r=n._annotation,l=i._annotation;if(r instanceof t._LineAnnotation&&l instanceof t._LineAnnotation&&null!=r._getTransformInfo()&&null!=l._getTransformInfo()){var a=e._getOverlayView()._getPlotView(),u=a._getDefinition()._plotConfigOption.axisMode;return t._isCartesianPlotView(a)&&(u==t.AxisMode.Polygonal||u==t.AxisMode.Radial)&&t._isCartesianOverlayItemView(e),new t._LineAnnotationUpdateViewAnimationAction(e,n,i,o)}}return null},i.prototype._createAnnotationUpdateAnimationAction=function(e,n,i,o){if(t._isAnnotationOverlayItemAnimationViewCache(n)&&t._isAnnotationOverlayItemAnimationViewCache(i)&&null!=n._annotation&&null!=i._annotation){var r=n._annotation,l=i._annotation;if(null!=r._getTransformInfo()&&null!=l._getTransformInfo())return new t._AnnotationUpdateViewAnimationAction(e,n,i,o)}return null},i.prototype._getAnimatableViews=function(t){var e=[];return e.push.apply(e,t._getAnnotationOverlayItemViews()),e},i.prototype._cloneAnimatableView=function(t){return t._clone()},i}(t._BaseUpdateAnimationBuilder);t._AnnotationOverlayViewUpdateAnimationBuilder=e}(t||(t={})),function(t){t._isAnnotationOverlayItemAnimationViewCache=function(t){return"function"==typeof t._getAnnotationOverlayItemView}}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._BaseUpdateAnimationBuilder);t._BasePlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){var r=[],l=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),a=this._createAnimationAction(e,l,o);return r.push(a),new t._FrameAnimation(n,r,i,o.iterations)}return null},e.prototype._createAnimationAction=function(e,n,i){return new t._FlickerEffectViewAnimationAction(e,n,i)},e}();t._PointViewFlickerEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){for(var r=[],l=o.count,a=0;a<l;a++){var u=a/l*n.duration+n.startDelay,s=new t._ActionTiming(n.easing,u,n.endDelay,n.duration),_=this._createAnimationAction(e,s,o);null!=_&&r.push(_)}var p=[];return p.push(new t._EffectViewGroupAnimationAction(e,null,r)),new t._FrameAnimation(n,p,i,o.iterations)}return null},e}();t._PointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this._cache=t}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){var r=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),l=this._createAnimationAction(e,r,!1,o.scale);if(null!=l){var a=new t._ActionTiming(n.easing,n.startDelay+n.duration+o.stay,n.endDelay,n.duration),u=this._createAnimationAction(e,a,!0,o.scale);return new t._FrameAnimation(n,[new t._ViewGroupAnimationAction(e,null,[l,u])],i,1,n.startDelay+2*n.duration+o.stay+n.endDelay)}}return null},e.prototype.saveCache=function(e){var n=[e._getPlotView()._id(),e._id()];null==this._cache.get(n)&&this._cache.set(n,new t._HighlightAnimationState(this._clonePointView(e)))},e}();t._HighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(t){this._cache=t}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){var r=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration);if(null!=this._cache.get([e._getPlotView()._id(),e._id()])){var l=this._createAnimationAction(e,r,o.scale);if(null!=l)return new t._FrameAnimation(n,[l],i)}}return null},e.prototype.saveCache=function(e,n){var i=[e._getPlotView()._id(),e._id()],o=this._cache.get(i);n&&null==o&&(o=new t._HighlightAnimationState(this._clonePointView(e)),this._cache.set(i,o)),null!=o&&(o.reversed=!n)},e}();t._HoverAnimationBuilder=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i,o,r){void 0===o&&(o=1),void 0===r&&(r=e.startDelay+e.duration+e.endDelay);var l=t.call(this,e,n,i)||this;return l._iterations=o,l._duration=r,l}return n(e,t),e.prototype.flushables=function(){for(var e=t.prototype.flushables.call(this),n=0,i=this.actions;n<i.length;n++){var o=i[n];e.push.apply(e,o.flushables())}return e},e.prototype._internalPlay=function(e){t.prototype._internalPlay.call(this,e),this._internalActionsUpdateFrame(this._active)},e.prototype._internalRunning=function(e){t.prototype._internalRunning.call(this,e),this._internalActionsUpdateFrame(this._active),this._internalCheckFinish()},e.prototype._internalActionsUpdateFrame=function(t){if(!(t<0))for(var e=0,n=this.actions;e<n.length;e++)n[e].updateFrame(t)},e.prototype._internalCheckFinish=function(){this._iterations<=0||this._active>=this._iterations*this._duration&&this.finish()},e}(t._Animation);t._FrameAnimation=e}(t||(t={})),function(t){var e=1024;t.guid=function(){return e++}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(e){this.id=t.guid(),this.definition=e,this.playState=t.AnimationPlayState.Idle,this.playbackRate=1,this.actions=[],this.played=new t.core.DvEvent,this.paused=new t.core.DvEvent,this.canceled=new t.core.DvEvent,this.finished=new t.core.DvEvent}return e.prototype.play=function(){this.playState=t.AnimationPlayState.Running,this.played.raise(this)},e.prototype.pause=function(){this.playState=t.AnimationPlayState.Paused,this.paused.raise(this)},e.prototype.cancel=function(){this.playState=t.AnimationPlayState.Finish,this.canceled.raise(this)},e.prototype.finish=function(){this.playState=t.AnimationPlayState.Finish,this.finished.raise(this)},e.prototype.update=function(e){return this.playState==t.AnimationPlayState.Idle?(this.play(),!0):this.playState==t.AnimationPlayState.Running},e.prototype.flushables=function(){return[null]},e}();t._LayoutAnimation=e}(t||(t={})),function(t){var e=function(){function e(){this.__timeline=null,this.__request=null,this.__running=!1,this.__frames=0,this.__lastFPSUpdate=0,this.FPS=0,this.animators=[]}return Object.defineProperty(e.prototype,"timeline",{get:function(){return null==this.__timeline&&(this.__timeline=t._BuildInAnimationTimelineBuilderCollection._defaultBuildInAnimationTimelineBuilderCollection()._animationTimeline()),this.__timeline},enumerable:!1,configurable:!0}),e.prototype.onAnimationFrame=function(t){t>this.__lastFPSUpdate+1e3&&(this.FPS=this.__frames,this.__lastFPSUpdate=t,this.__frames=0),this.__frames++;var e=!1;if(this.timeline.active){var n=this.timeline.currentTime;e=this._update(n)}else e=!0;this.__running||e?this.__request=requestAnimationFrame(this.onAnimationFrame.bind(this)):this.__request=null,this.__running=!1},e.prototype.refresh=function(){null==this.__request?this.__request=requestAnimationFrame(this.onAnimationFrame.bind(this)):this.__running=!0},e.prototype._update=function(t){for(var e=!1,n=0,i=this.animators;n<i.length;n++)i[n].update(t)&&(e=!0);return e},e.default=new e,e}();t.AnimationController=e}(t||(t={})),function(t){var e=function(){function e(e,n){this.control=e,this.timeline=n,this.animations=[],this.__deferRemoves=[],this.binding=new t.core.DvEvent,this.updateAnimationCache=new t._UpdateAnimationCache,this.highlightAnimationCache=new t.AnimationCache,this.__hoverAnimationInteraction=new t._HoverAnimationInteraction(this,this.highlightAnimationCache)}return e.prototype.dispose=function(){this.control=null,this.animations.length=0,this.binding.removeAllHandlers(),this.updateAnimationCache.dispose(),this.highlightAnimationCache.dispose(),this.__hoverAnimationInteraction=null},e.prototype.bind=function(e){null!=e&&(e.played.addHandler(this._onPlay,this),e.finished.addHandler(this._onFinish,this),e.canceled.addHandler(this._onCancle,this),e.update(this.timeline.currentTime),this.animations.push(e),this.binding.raise(this,new t.AnimatorEventArgs(e)))},e.prototype.interrupt=function(t){for(var e=0,n=this.animations.slice();e<n.length;e++){var i=n[e];null!=t&&i.definition.type!=t||i.cancel()}},e.prototype.run=function(e,n){var i=this.control.model;if(null!=i){var o=t._DvViewModelUtility._toDvView(i);if(null!=o){var r=this._getAllPlotViews(o);if(!(r.length<=0)){var l=o._getDefinition()._dvConfigOption.plugins,a=o._getDefinition()._pluginCollection;if(e===t.AnimationType.Loading){for(var u=[],s=0,_=r;s<_.length;s++){var p=_[s];u.push(p);for(var c=0,h=p._getOverlayViews();c<h.length;c++){var f=h[c];u.push(f)}}for(var d=0,y=u;d<y.length;d++)for(var g=y[d],m=t._AnimationUtility._findAnimationOption(e,g),v=0,w=t._AnimationUtility._buildAnimation(e,g,m,this,l,a);v<w.length;v++){var b=w[v];this.bind(b)}for(var P=0,S=u;P<S.length;P++)g=S[P],m=t._AnimationUtility._findAnimationOption(t.AnimationType.Update,g),t._AnimationUtility._saveCache(g,m,this,l,a)}else if(e===t.AnimationType.Update){this.updateAnimationCache.flush(),this.highlightAnimationCache.flush(),u=[];for(var C=0,V=r;C<V.length;C++){p=V[C],u.push(p);for(var x=0,D=p._getOverlayViews();x<D.length;x++)f=D[x],u.push(f)}for(var O=0,A=u;O<A.length;O++)g=A[O],m=t._AnimationUtility._findAnimationOption(e,g),t._AnimationUtility._saveCache(g,m,this,l,a);for(var L=0,T=u;L<T.length;L++){g=T[L],m=t._AnimationUtility._findAnimationOption(e,g);for(var M=0,E=t._AnimationUtility._buildAnimation(e,g,m,this,l,a);M<E.length;M++)b=E[M],this.bind(b)}}else if(e===t.AnimationType.Resize){this.updateAnimationCache.flush(),this.highlightAnimationCache.flush(),u=[];for(var I=0,B=r;I<B.length;I++){p=B[I],u.push(p);for(var R=0,k=p._getOverlayViews();R<k.length;R++)f=k[R],u.push(f)}for(var N=0,F=u;N<F.length;N++)g=F[N],m=t._AnimationUtility._findAnimationOption(e,g),t._AnimationUtility._saveCache(g,m,this,l,a);if(this.control._animationOnResize)for(var U=0,z=u;U<z.length;U++){g=z[U],m=t._AnimationUtility._findAnimationOption(e,g);for(var j=0,W=t._AnimationUtility._buildAnimation(e,g,m,this,l,a);j<W.length;j++)b=W[j],this.bind(b)}}else e===t.AnimationType.Hover&&this.__hoverAnimationInteraction.process(n.hittestEventArgs)}}}},e.prototype._getAllPlotViews=function(t){var e=[];return t._traversePlotView((function(t,n){e.push(t)}),null),e},e.prototype._onPlay=function(t,e){},e.prototype._onFinish=function(t,e){var n=this.animations.indexOf(t);n>-1&&(this.animations.splice(n,1),this.__deferRemoves.push(t))},e.prototype._onCancle=function(t,e){var n=this.animations.indexOf(t);n>-1&&(this.animations.splice(n,1),this.__deferRemoves.push(t))},e.prototype.update=function(t){var e=!1;if(0==this.animations.length&&0==this.__deferRemoves.length)return e;for(var n=0,i=this.animations.slice();n<i.length;n++)(a=i[n]).update(t)&&(e=!0);for(var o=[],r=0,l=this.animations;r<l.length;r++){var a=l[r];o.push.apply(o,a.flushables())}for(var u=0,s=this.__deferRemoves;u<s.length;u++){var _=s[u];o.push.apply(o,_.flushables())}return this.__deferRemoves.length=0,o.indexOf(null)>=0?this.control._requestInvalidate():this._flushables(o),e},e.prototype._flushables=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n];e.indexOf(o)<0&&e.push(o)}for(var r=0,l=e;r<l.length;r++)(o=l[r]).flush()},e}();t._Animator=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.hittestEventArgs=e,n}return n(e,t),e}(t.DvEventArgs);t.ActuatorEventArgs=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this)||this;return n.animation=e,n}return n(e,t),e}(t.DvEventArgs);t.AnimatorEventArgs=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(t,e){this.__animator=t,this.__animationCache=e}return e.prototype.process=function(e){if(e.event.action==t.MotionEvent.ACTION_MOUSE_MOVE||e.event.action==t.MotionEvent.ACTION_MOUSE_OVER||e.event.action==t.MotionEvent.ACTION_WHEEL){var n=null;n=e.model instanceof t._BasePointView?e.model:this._hitTestDataPoint(e.event,e.model),this.__model!=n&&(this._onLeave(),this.__model=null,null!=n&&(this.__model=n,this._onEnter()))}else e.event.action==t.MotionEvent.ACTION_MOUSE_LEAVE&&(this._onLeave(),this.__model=null)},e.prototype._onEnter=function(){if(null!=this.__model){var e=t._PlotViewModelUtility._toPointView(this.__model);null!=e&&this._buildAnimation(e,!0)}},e.prototype._onLeave=function(){if(null!=this.__model){var e=t._PlotViewModelUtility._toPointView(this.__model);null!=e&&this._buildAnimation(e,!1)}},e.prototype._hitTestDataPoint=function(e,n){if(n instanceof t._PointDataLabelView){var i=t._ViewModelUtility._dvModel(n);if(null!=i){var o=new t.core.Point(e.x,e.y),r=t._DvViewModelUtility._toDvView(i);if(null==r)return null;var l=t._DvViewUtility._control(r);if(null==l)return null;var a=l.hitTest(o,new t.models.ExcludingModelPrediction(["DataPointLabel"]));if(null!=a&&a.model instanceof t._BasePointView)return a.model}}return null},e.prototype._buildAnimation=function(e,n){if(e._getPlotView()._getDefinition()._plotConfigOption.hoverAnimation){for(var i=0,o=this.__animator.animations;i<o.length;i++)for(var r=0,l=(_=o[i]).actions;r<l.length;r++){var a=l[r];a instanceof t._PointViewScaleAnimationAction&&a.view==e&&a._interrupt()}for(var u=0,s=t._BuildInHoverAnimationDefinitionBuilderCollection._defaultBuildInHoverAnimationDefinitionBuilders()._hoverAnimationDefinitions(e,e._getPlotView()._getDefinition()._plotConfigOption.hoverAnimation,[],this.__animationCache);u<s.length;u++){var _,p=s[u],c=p;c.cached.saveCache(e,n),null!=(_=c.builder.buildAnimation(e,p,t.AnimationController.default.timeline))&&this.__animator.bind(_)}}},e}();t._HoverAnimationInteraction=e}(t||(t={})),function(t){var e=function(){function e(){}return e.runAnimation=function(n,i,o){if(null!=n){var r=[],l=t._AnyTypeExtension._toEnumValueOrNull(i,t.AnimationType);if(null!=l)if(l===t.AnimationType.Loading){var a=t._DvViewModelUtility._toDvView(n);if(null!=a)for(var u=t._DvViewUtility._control(a),s=a._getDefinition()._pluginCollection,_=0,p=t.AnimationController.default.animators;_<p.length;_++)if(($=p[_]).control==u){var c=e._getAllPlotViews(a);if(c.length<=0)return;for(var h=[],f=0,d=c;f<d.length;f++){var y=d[f];h.push(y);for(var g=0,m=y._getOverlayViews();g<m.length;g++){var v=m[g];h.push(v)}}if(t._isAnimationStorage($))for(var w=0,b=h;w<b.length;w++){var P=b[w];null==(T=o)&&(T=t._AnimationUtility._findAnimationOption(l,P));for(var S=0,C=t._AnimationUtility._buildAnimation(l,P,T,$,r,s);S<C.length;S++){var V=C[S];$.bind(V)}}return void t.AnimationController.default.refresh()}if(null!=(H=t._PlotViewModelUtility._toPlotView(n))){null==(T=o)&&(T=t._AnimationUtility._findAnimationOption(l,H)),u=t._DvViewUtility._control(H._getLayoutView()._getPlotAreaView()._getDvView());for(var x=0,D=t.AnimationController.default.animators;x<D.length;x++)if(($=D[x]).control==u&&t._isAnimationStorage($)){for(var O=0,A=t._AnimationUtility._buildAnimation(l,H,T,$,r,H._getDefinition()._pluginCollection);O<A.length;O++)V=A[O],$.bind(V);t.AnimationController.default.refresh();break}}var L=t._OverlayViewModelUtility._toOverlayView(n);if(null!=L){var T;null==(T=o)&&(T=t._AnimationUtility._findAnimationOption(l,L)),u=t._DvViewUtility._control(L._getPlotView()._getLayoutView()._getPlotAreaView()._getDvView());for(var M=0,E=t.AnimationController.default.animators;M<E.length;M++)if(($=E[M]).control==u&&t._isAnimationStorage($)){for(var I=0,B=t._AnimationUtility._buildAnimation(l,L,T,$,r,L._getDefinition()._pluginCollection);I<B.length;I++)V=B[I],$.bind(V);t.AnimationController.default.refresh();break}}}else if(l===t.AnimationType.Effect)if(null!=(Z=t._PlotViewModelUtility._toPointView(n))){u=t._DvViewUtility._control(Z._getPlotView()._getLayoutView()._getPlotAreaView()._getDvView());for(var R=0,k=t.AnimationController.default.animators;R<k.length;R++)if(($=k[R]).control==u){for(var N=0,F=t._BuildInEffectAnimationDefinitionBuilderCollection._defaultBuildInEffectAnimationDefinitionBuilders()._effectAnimationDefinitions(Z,o,r);N<F.length;N++)null!=(V=(at=F[N]).builder.buildAnimation(Z,at,t.AnimationController.default.timeline))&&$.bind(V);t.AnimationController.default.refresh();break}}else if(t._isCartesianSeriesView(n)){for(var U=n,z=(u=t._DvViewUtility._control(U._getPlotView()._getLayoutView()._getPlotAreaView()._getDvView()),0),j=t.AnimationController.default.animators;z<j.length;z++)if(($=j[z]).control==u){for(var W=0,G=t._BuildInSeriesEffectAnimationDefinitionBuilderCollection._defaultBuildInEffectAnimationDefinitionBuilders()._effectAnimationDefinitions(U,o,r);W<G.length;W++)null!=(V=(at=G[W]).builder.buildAnimation(U,at,t.AnimationController.default.timeline))&&$.bind(V);t.AnimationController.default.refresh();break}}else{var H;if(null!=(H=t._PlotViewModelUtility._toPlotView(n))){u=t._DvViewUtility._control(H._getLayoutView()._getPlotAreaView()._getDvView());for(var q=0,J=t.AnimationController.default.animators;q<J.length;q++)if(($=J[q]).control==u){for(var X=0,Y=t._BuildInPlotEffectAnimationDefinitionBuilderCollection._defaultBuildInEffectAnimationDefinitionBuilders()._effectAnimationDefinitions(H._getDefinition(),o,r,H._getDefinition()._pluginCollection);X<Y.length;X++)null!=(V=(at=Y[X]).builder.buildAnimation(H,at,t.AnimationController.default.timeline))&&$.bind(V);t.AnimationController.default.refresh();break}}}else if(l===t.AnimationType.Highlight){var Z;if(null!=(Z=t._PlotViewModelUtility._toPointView(n))){null==o&&(o=new t.options._HighlightAnimationOption),u=t._DvViewUtility._control(Z._getPlotView()._getLayoutView()._getPlotAreaView()._getDvView());for(var K=0,Q=t.AnimationController.default.animators;K<Q.length;K++){var $;if(($=Q[K]).control==u){for(var tt=0,et=$.animations;tt<et.length;tt++)for(var nt=0,it=(V=et[tt]).actions;nt<it.length;nt++){var ot=it[nt];ot instanceof t._PointViewScaleAnimationAction&&ot.view==Z&&ot._interrupt()}if(t._isAnimationStorage($))for(var rt=0,lt=t._BuildInHighlightAnimationDefinitionBuilderCollection._defaultBuildInHighlightAnimationDefinitionBuilders()._highlightAnimationDefinitions(Z,o,r,$.highlightAnimationCache);rt<lt.length;rt++){var at,ut=at=lt[rt];ut.cached.saveCache(Z),null!=(V=ut.builder.buildAnimation(Z,at,t.AnimationController.default.timeline))&&$.bind(V)}t.AnimationController.default.refresh();break}}}}}},e._getAllPlotViews=function(t){var e=[];return t._traversePlotView((function(t,n){e.push(t)}),null),e},e}();t.runAnimation=e.runAnimation}(t||(t={})),function(t){var e=function(){function e(t,e){this._option=e,this.type=t,this.mode=e.mode,this.duration=e.duration,this.easing=this._buildAnimationEaseCallback(e.easing),this.startDelay=e.startDelay,this.endDelay=e.endDelay,this.staggering=e.staggering}return e.prototype._buildAnimationEaseCallback=function(e){var n=null;if("number"==typeof e){var i=t.AnimationEasing[e];"string"==typeof i&&(n=t._AnimationEase[i])}return n},e}();t._AnimationDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n){var i=e.call(this,t.AnimationType.Effect,n)||this;return i.effect=n.effect,i.iterations=n.iterations,i.style=n.style,i.symbol=n.symbol,i.symbolWidth=n.symbolWidth,i.symbolHeight=n.symbolHeight,i.symbolTrail=n.symbolTrail,i.autoRotate=n.autoRotate,i}return n(i,e),i}(t._AnimationDefinition);t._FlowEffectAnimationDefinition=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,n,i)||this;return o.overlayDefinition=e,o}return n(e,t),e}(t._AnimationDefinition);t._OverlayAnimationDefinition=e}(t||(t={})),t||(t={}),t||(t={}),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInLoadingAnimationDefinitionBuilders=function(){return null==i.__buildInLoadingAnimationDefinitionBuilders&&(i.__buildInLoadingAnimationDefinitionBuilders=new i([],i._pluginType)),i.__buildInLoadingAnimationDefinitionBuilders},i.prototype._convert=function(e){return t._isOverlayLoadingAnimationDefinitionBuilder(e)?e:null},i.prototype._loadingAnimationDefinitions=function(t,e,n,i){void 0===i&&(i=null);for(var o=[],r=0,l=this._objects(n,i);r<l.length;r++){var a=l[r].item.buildDefinition(t,e);null!=a&&o.push(a)}return o},i._pluginType="OverlayLoadingAnimation",i}(t._BuildInObjectCollection);t._BuildInOverlayLoadingAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){this.name="AnnotationLoading",this.type=t._BuildInOverlayLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(t._isAnnotationOverlayDefinition(e))return new t._OverlayViewLoadingAnimationDefinition(e,i,new t._OverlayViewAnnotationLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IOverlayLoadingAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AnnotationLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isOverlayLoadingAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,t.AnimationType.Loading,i)||this;return r.builder=o,r}return n(i,e),i}(t._OverlayAnimationDefinition);t._OverlayViewLoadingAnimationDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInUpdateAnimationDefinitionBuilders=function(){return null==i.__buildInUpdateAnimationDefinitionBuilders&&(i.__buildInUpdateAnimationDefinitionBuilders=new i([],i._pluginType)),i.__buildInUpdateAnimationDefinitionBuilders},i.prototype._convert=function(e){return t._isOverlayUpdateAnimationDefinitionBuilder(e)?e:null},i.prototype._updateAnimationDefinitions=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=[],l=0,a=this._objects(i,o);l<a.length;l++){var u=a[l].item.buildDefinition(t,e,n);null!=u&&r.push(u)}return r},i._pluginType="OverlayUpdateAnimation",i}(t._BuildInObjectCollection);t._BuildInOverlayUpdateAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(){function e(){this.name="AnnotationUpdate",this.type=t._BuildInOverlayUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(t._isAnnotationOverlayDefinition(e)){var r=new t._AnnotationOverlayViewUpdateAnimationBuilder(i);return new t._OverlayViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IOverlayUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AnnotationUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isOverlayUpdateAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,n,t.AnimationType.Update,i)||this;return l.builder=o,l.cache=r,l}return n(i,e),i}(t._OverlayAnimationDefinition);t._OverlayViewUpdateAnimationDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInEffectAnimationDefinitionBuilders=function(){return null==i.__buildInPlotEffectAnimationDefinitionBuilders&&(i.__buildInPlotEffectAnimationDefinitionBuilders=new i([],i._pluginType)),i.__buildInPlotEffectAnimationDefinitionBuilders},i.prototype._convert=function(e){return t._isPlotAnimationDefinitionBuilder(e)?e:null},i.prototype._effectAnimationDefinitions=function(t,e,n,i){void 0===i&&(i=null);for(var o=[],r=0,l=this._objects(n,i);r<l.length;r++){var a=l[r].item.buildDefinition(t,e);null!=a&&o.push(a)}return o},i._pluginType="PlotEffectAnimation",i}(t._BuildInObjectCollection);t._BuildInPlotEffectAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInLoadingAnimationDefinitionBuilders=function(){return null==i.__buildInLoadingAnimationDefinitionBuilders&&(i.__buildInLoadingAnimationDefinitionBuilders=new i([],i._pluginType)),i.__buildInLoadingAnimationDefinitionBuilders},i.prototype._convert=function(e){return t._isPlotAnimationDefinitionBuilder(e)?e:null},i.prototype._loadingAnimationDefinitions=function(t,e,n,i){void 0===i&&(i=null);for(var o=[],r=0,l=this._objects(n,i);r<l.length;r++){var a=l[r].item.buildDefinition(t,e);null!=a&&o.push(a)}return o},i._pluginType="LoadingAnimation",i}(t._BuildInObjectCollection);t._BuildInPlotLoadingAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInUpdateAnimationDefinitionBuilders=function(){return null==i.__buildInUpdateAnimationDefinitionBuilders&&(i.__buildInUpdateAnimationDefinitionBuilders=new i([],i._pluginType)),i.__buildInUpdateAnimationDefinitionBuilders},i.prototype._convert=function(e){return t._isPlotUpdateAnimationDefinitionBuilder(e)?e:null},i.prototype._updateAnimationDefinitions=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=[],l=0,a=this._objects(n,o);l<a.length;l++){var u=a[l].item.buildDefinition(t,e,i);null!=u&&r.push(u)}return r},i._pluginType="UpdateAnimation",i}(t._BuildInObjectCollection);t._BuildInPlotUpdateAnimationDefinitionBuilderCollection=e}(t||(t={})),t||(t={}),function(t){t._isPlotAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){t._isPlotUpdateAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,n,i)||this;return o.plotDefinition=e,o}return n(e,t),e}(t._AnimationDefinition);t._PlotAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,t.AnimationType.Effect,i)||this;return r.builder=o,r.effect=i.effect,r.iterations=i.iterations,r}return n(i,e),i}(t._PlotAnimationDefinition);t._PlotViewEffectAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.route=e.route,i.constantSpeed=e.constantSpeed,i.builder=n,i}return n(e,t),e}(t._FlowEffectAnimationDefinition);t._PlotViewFlowEffectAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,t.AnimationType.Loading,i)||this;return r.builder=o,r}return n(i,e),i}(t._PlotAnimationDefinition);t._PlotViewLoadingAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,n,t.AnimationType.Update,i)||this;return l.builder=o,l.cache=r,l}return n(i,e),i}(t._PlotAnimationDefinition);t._PlotViewUpdateAnimationDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInEffectAnimationDefinitionBuilders=function(){return null==i.__buildInEffectAnimationDefinitionBuilders&&(i.__buildInEffectAnimationDefinitionBuilders=new i([],i._pluginType)),i.__buildInEffectAnimationDefinitionBuilders},i.prototype._convert=function(e){return t._isPointViewAnimationDefinitionBuilder(e)?e:null},i.prototype._effectAnimationDefinitions=function(t,e,n,i){void 0===i&&(i=null);for(var o=[],r=0,l=this._objects(n,i);r<l.length;r++){var a=l[r].item.buildDefinition(t,e);null!=a&&o.push(a)}return o},i._pluginType="EffectAnimation",i}(t._BuildInObjectCollection);t._BuildInEffectAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInHighlightAnimationDefinitionBuilders=function(){return null==i.__buildInHighlightAnimationDefinitionBuilders&&(i.__buildInHighlightAnimationDefinitionBuilders=new i([],i._pluginType)),i.__buildInHighlightAnimationDefinitionBuilders},i.prototype._convert=function(e){return t._isPointViewHighlightAnimationDefinitionBuilder(e)?e:null},i.prototype._highlightAnimationDefinitions=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=[],l=0,a=this._objects(n,o);l<a.length;l++){var u=a[l].item.buildDefinition(t,e,i);null!=u&&r.push(u)}return r},i._pluginType="HighlightAnimation",i}(t._BuildInObjectCollection);t._BuildInHighlightAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInHoverAnimationDefinitionBuilders=function(){return null==i.__buildInHoverAnimationDefinitionBuilders&&(i.__buildInHoverAnimationDefinitionBuilders=new i([],i._pluginType)),i.__buildInHoverAnimationDefinitionBuilders},i.prototype._convert=function(e){return t._isPointViewHoverAnimationDefinitionBuilder(e)?e:null},i.prototype._hoverAnimationDefinitions=function(t,e,n,i,o){void 0===o&&(o=null);for(var r=[],l=0,a=this._objects(n,o);l<a.length;l++){var u=a[l].item.buildDefinition(t,e,i);null!=u&&r.push(u)}return r},i._pluginType="HoverAnimation",i}(t._BuildInObjectCollection);t._BuildInHoverAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i,o){var r=t.call(this,n,i)||this;return r.view=e,r.builder=o,r}return n(e,t),e}(t._AnimationDefinition);t._PointViewAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){t._isPointViewHighlightAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,n,t.AnimationType.Highlight,i,o)||this;return l.cached=r,l.scale=i.scale,l.stay=i.stay,l}return n(i,e),i}(t._PointViewAnimationDefinition);t._PointViewHighlightAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){t._isPointViewHoverAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r){var l=e.call(this,n,t.AnimationType.Hover,i,o)||this;return l.cached=r,l.scale=i.scale,l}return n(i,e),i}(t._PointViewAnimationDefinition);t._PointViewHoverAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){t._isPointViewAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,t.AnimationType.Effect,i,o)||this;return r.effect=i.effect,r.iterations=i.iterations,r}return n(i,e),i}(t._PointViewAnimationDefinition);t.PointViewEffectAnimationDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.style=n.style,o.from=n.from,o.to=n.to,o}return n(e,t),e}(t.PointViewEffectAnimationDefinition);t._PointViewFlickerEffectAnimationDefinition=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.style=n.style,o.count=n.count,o.scale=n.scale,o.from=n.from,o.to=n.to,o}return n(e,t),e}(t.PointViewEffectAnimationDefinition);t._PointViewRippleEffectAnimationDefinition=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i._defaultBuildInEffectAnimationDefinitionBuilders=function(){return null==i.__buildInEffectAnimationDefinitionBuilders&&(i.__buildInEffectAnimationDefinitionBuilders=new i([],i._pluginType)),i.__buildInEffectAnimationDefinitionBuilders},i.prototype._convert=function(e){return t._isSeriesViewAnimationDefinitionBuilder(e)?e:null},i.prototype._effectAnimationDefinitions=function(t,e,n,i){void 0===i&&(i=null);for(var o=[],r=0,l=this._objects(n,i);r<l.length;r++){var a=l[r].item.buildDefinition(t,e);null!=a&&o.push(a)}return o},i._pluginType="SeriesEffectAnimation",i}(t._BuildInObjectCollection);t._BuildInSeriesEffectAnimationDefinitionBuilderCollection=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,n)||this;return o.builder=i,o.view=e,o}return n(e,t),e}(t._FlowEffectAnimationDefinition);t._SeriesViewFlowEffectAnimationDefinition=e}(t||(t={})),t||(t={}),function(t){t._isSeriesViewAnimationDefinitionBuilder=function(t){return null!=t.buildDefinition}}(t||(t={})),function(t){!function(t){t[t.PhasePending=0]="PhasePending",t[t.PhaseBefore=1]="PhaseBefore",t[t.PhaseActive=2]="PhaseActive",t[t.PhaseAfter=3]="PhaseAfter"}(t.AnimationActionPhase||(t.AnimationActionPhase={}))}(t||(t={})),function(t){!function(t){t[t.Ripple=0]="Ripple",t[t.Flicker=1]="Flicker",t[t.Flow=2]="Flow",t[t.Transform=3]="Transform"}(t.AnimationEffectType||(t.AnimationEffectType={}))}(t||(t={})),function(t){!function(t){t[t.Idle=0]="Idle",t[t.Running=1]="Running",t[t.Paused=2]="Paused",t[t.Finish=3]="Finish"}(t.AnimationPlayState||(t.AnimationPlayState={}))}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__effect=t.AnimationEffectType.Ripple,o.__iterations=1,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"effect",{get:function(){return this.__effect},set:function(t){null!=t&&this.__effect==t||(this.__effect=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"iterations",{get:function(){return this.__iterations},set:function(t){null!=t&&this.__iterations==t||(this.__iterations=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._EnumConverter,!0,t.AnimationEffectType,t.AnimationEffectType.Ripple)],i.prototype,"effect",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,1),t.ValidatorAttribute(t._NumberValidator,!0,0,null,!1,!0)],i.prototype,"iterations",null),i}(e._AnimationOption),e._EffectAnimationOption=i}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__style=new e._StyleOption(null),r.__from=new e._KeyFrameOption(null),r.__to=new e._KeyFrameOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"from",{get:function(){return this.__from},set:function(t){this.__from!=t&&(null==t&&(t=new e._KeyFrameOption),this.__from=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"to",{get:function(){return this.__to},set:function(t){this.__to!=t&&(null==t&&(t=new e._KeyFrameOption),this.__to=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_KeyFrameOption")],r.prototype,"from",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_KeyFrameOption")],r.prototype,"to",null),r}(e._EffectAnimationOption),e._FlickerEffectAnimationOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__style=new e._StyleOption(null),r.__symbol=null,r.__symbolWidth=10,r.__symbolHeight=10,r.__symbolTrail=0,r.__autoRotate=!1,null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"symbol",{get:function(){return this.__symbol},set:function(t){null!=this.__symbol&&this.__symbol==t||(this.__symbol=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"symbolHeight",{get:function(){return this.__symbolHeight},set:function(t){t=this.validate(t),null!=this.__symbolHeight&&this.__symbolHeight==t||(this.__symbolHeight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"symbolWidth",{get:function(){return this.__symbolWidth},set:function(t){t=this.validate(t),null!=this.__symbolWidth&&this.__symbolWidth==t||(this.__symbolWidth=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"symbolTrail",{get:function(){return this.__symbolTrail},set:function(t){t=this.validate(t),null!=this.__symbolTrail&&this.__symbolTrail==t||(this.__symbolTrail=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoRotate",{get:function(){return this.__autoRotate},set:function(t){this.__autoRotate!=t&&(this.__autoRotate=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._StringConverter,!0)],r.prototype,"symbol",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"symbolHeight",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"symbolWidth",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],r.prototype,"symbolTrail",null),o([t.JsonConverterAttribute(t._BooleanConverter,!0,!1)],r.prototype,"autoRotate",null),r}(e._EffectAnimationOption),e._FlowEffectAnimationOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__route=[],null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"constantSpeed",{get:function(){return this.__constantSpeed},set:function(t){t=this.validate(t),null!=this.__constantSpeed&&this.__constantSpeed==t||(this.__constantSpeed=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"route",{get:function(){return this.__route},set:function(t){null==(t=this.validate(t))||null!=this.__route&&this.__route==t||(this.__route=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0),t.ValidatorAttribute(t._NumberValidator,!0,0)],i.prototype,"constantSpeed",null),o([t.ValidatorAttribute(t._NumberArrayArrayValidator,!0,null,2)],i.prototype,"route",null),i}(e._FlowEffectAnimationOption),e._RouteFlowEffectAnimationOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__opacity=null,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"opacity",{get:function(){return this.__opacity},set:function(t){t=this.validate(t),null!=this.__opacity&&this.__opacity==t||(this.__opacity=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0),t.ValidatorAttribute(t._NumberValidator,!0,0,1,!0)],i.prototype,"opacity",null),i}(e._Option),e._KeyFrameOption=i}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(i){function r(n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var r=i.call(this,null,o)||this;return r.__style=new e._StyleOption(null),r.__count=1,r.__scale=new e._ValueOption({type:t.ValueOptionType.Pixel,value:10}),r.__from=new e._KeyFrameOption(null),r.__to=new e._KeyFrameOption(null),null!=n&&t.OptionSerializer.deserialize(r,n),r}return n(r,i),Object.defineProperty(r.prototype,"style",{get:function(){return this.__style},set:function(t){this.__style!=t&&(null==t&&(t=new e._StyleOption),this.__style=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"count",{get:function(){return this.__count},set:function(t){null!=this.__count&&this.__count==t||(this.__count=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.__scale},set:function(n){null==(n=this.validate(n))?this.__scale=new e._ValueOption({type:t.ValueOptionType.Pixel,value:10}):this.__scale!=n&&(this.__scale=n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"from",{get:function(){return this.__from},set:function(t){this.__from!=t&&(null==t&&(t=new e._KeyFrameOption),this.__from=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"to",{get:function(){return this.__to},set:function(t){this.__to!=t&&(null==t&&(t=new e._KeyFrameOption),this.__to=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_StyleOption")],r.prototype,"style",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,1)],r.prototype,"count",null),o([t.JsonConverterAttribute(t._ValueOptionWithPixelPercentageConverter,!0,1,null,!0,!1),t.ValidatorAttribute(t._RippleScaleValidator,!0)],r.prototype,"scale",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_KeyFrameOption")],r.prototype,"from",null),o([t.JsonConverterAttribute(t._OptionConverter,!1,"_KeyFrameOption")],r.prototype,"to",null),r}(e._EffectAnimationOption),e._RippleEffectAnimationOption=i}(t||(t={})),function(t){var e=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.id=t,this.item=e,this.children=[]},n=function(){function t(){this.__rootGroup=new e}return t.prototype.get=function(t){var e=this._findGroup(t,!1);return null==e?null:e.item},t.prototype.set=function(t,e){this._findGroup(t,!0).item=e},t.prototype.flush=function(){this.__rootGroup=new e},t.prototype.dispose=function(){this.__rootGroup=null},t.prototype._findGroup=function(t,n){for(var i=this.__rootGroup,o=function(t){var o=i.children.find((function(e){return e.id==t}));if(null==o){if(!n)return{value:null};o=new e(t),i.children.push(o)}i=o},r=0,l=t;r<l.length;r++){var a=o(l[r]);if("object"==typeof a)return a.value}return i},t}();t.AnimationCache=n}(t||(t={})),t||(t={}),function(t){t._isAnimationStorage=function(t){var e=t;return null!=e&&void 0!==e.updateAnimationCache&&void 0!==e.highlightAnimationCache}}(t||(t={})),function(t){var e=function(){function t(t){this.pointView=t,this.currentScale=1,this.reversed=!1,this.__referenceCount=0}return t.prototype.addReference=function(){return++this.__referenceCount},t.prototype.delReference=function(){return--this.__referenceCount},t}();t._HighlightAnimationState=e}(t||(t={})),t||(t={}),t||(t={}),t||(t={}),t||(t={}),t||(t={}),function(t){var e=function(){function e(){this.__before=new t.AnimationCache,this.__current=new t.AnimationCache}return Object.defineProperty(e.prototype,"before",{get:function(){return this.__before},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.__current},enumerable:!1,configurable:!0}),e.prototype.flush=function(){this.__before.dispose(),this.__before=this.__current,this.__current=new t.AnimationCache},e.prototype.dispose=function(){this.__before=null,this.__current=null},e}();t._UpdateAnimationCache=e}(t||(t={})),function(t){var e=function(){function t(){this.active=!0}return Object.defineProperty(t.prototype,"currentTime",{get:function(){return Date.now()},enumerable:!1,configurable:!0}),t}();t._DefaultAnimationTimeline=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i._defaultBuildInAnimationTimelineBuilderCollection=function(){return null==i.__buildInAnimationTimelineBuilderCollection&&(i.__buildInAnimationTimelineBuilderCollection=new i([],i._pluginType)),i.__buildInAnimationTimelineBuilderCollection},i.prototype._convert=function(e){return t._isAnimationTimelineBuilder(e)?e:null},i.prototype._animationTimeline=function(){for(var e=0,n=this._objects(null,null);e<n.length;e++)return n[e].item.buildTimeline();return new t._DefaultAnimationTimeline},i._pluginType="AnimationTimeline",i}(t._BuildInObjectCollection);t._BuildInAnimationTimelineBuilderCollection=e}(t||(t={})),function(t){t._isAnimationTimelineBuilder=function(t){return null!=t&&"function"==typeof t.buildTimeline}}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e._buildRectangleRingWithBorderRadius=function(e,n,i){var o=this._buildRectangleWithBorderRadius(n.left,n.top,n.width,n.height,i),r=this._buildRectangleWithBorderRadius(e.left,e.top,e.width,e.height,i),l=t._PathCommandUtility._getPathExpression(o),a=t._PathCommandUtility._getPathExpression(r);return t._PathBuilder._defaultPathBuilder._buildPathFromExpression(l+a)},e._buildRectangleWithBorderRadius=function(e,n,i,o,r){var l=[],a=t._PathCommandBuilder._defaultPathCommandBuilder;if(null==r||t.shapes._BorderRadiusExtension._isValueEmpty(r.horizontalRadius)&&t.shapes._BorderRadiusExtension._isValueEmpty(r.verticalRadius))l.push(a._buildMoveToPathCommand(e,n)),l.push(a._buildLineToPathCommand(e+i,n)),l.push(a._buildLineToPathCommand(e+i,n+o)),l.push(a._buildLineToPathCommand(e,n+o)),l.push(a._buildClosePathCommand());else{var u=t.shapes._BorderRadiusExtension._ratioOfConvertPercentageToPixel(r,i,o),s=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.topLeft,i,u),_=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.topLeft,o,u),p=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.topRight,i,u),c=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.topRight,o,u),h=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.bottomRight,i,u),f=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.bottomRight,o,u),d=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.horizontalRadius.bottomLeft,i,u),y=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(r.verticalRadius.bottomLeft,o,u);l.push(a._buildMoveToPathCommand(e+s,n)),l.push(a._buildLineToPathCommand(e+i-p,n)),l.push(a._buildQuadraticCurveToPathCommand(e+i,n,e+i,n+c)),l.push(a._buildLineToPathCommand(e+i,n+o-f)),l.push(a._buildQuadraticCurveToPathCommand(e+i,n+o,e+i-h,n+o)),l.push(a._buildLineToPathCommand(e+d,n+o)),l.push(a._buildQuadraticCurveToPathCommand(e,n+o,e,n+o-y)),l.push(a._buildLineToPathCommand(e,n+_)),l.push(a._buildQuadraticCurveToPathCommand(e,n,e+s,n)),l.push(a._buildClosePathCommand())}return t._PathBuilder._defaultPathBuilder._buildPath(l)},e._buildDonutSegmentRingWithBorderRadius=function(e,n,i,o,r,l,a,u,s){var _=this._buildDonutSegmentWithBorderRadius(e,n,i,o,a,u,s),p=this._buildDonutSegmentWithBorderRadius(e,n,r,l,a,u,s),c=t._PathCommandUtility._getPathExpression(_),h=t._PathCommandUtility._getPathExpression(p);return t._PathBuilder._defaultPathBuilder._buildPathFromExpression(c+h)},e._buildDonutSegmentWithBorderRadius=function(e,n,i,o,r,l,a){var u=[],s=t._PathCommandBuilder._defaultPathCommandBuilder;if(null==a||t.shapes._BorderRadiusExtension._isValueEmpty(a.horizontalRadius)&&t.shapes._BorderRadiusExtension._isValueEmpty(a.verticalRadius)){var _=r+l;if((c=new t.core.Point(e,n)).x+=o*Math.cos(_),c.y+=o*Math.sin(_),u.push(s._buildMoveToPathCommand(c.x,c.y)),(h=new t.core.Point(e,n)).x+=i*Math.cos(_),h.y+=i*Math.sin(_),u.push(s._buildLineToPathCommand(h.x,h.y)),(f=new t.core.Point(e,n)).x+=i*Math.cos(r),f.y+=i*Math.sin(r),0!==(T=i)){var p=(U=r-_)<0?1:0;u.push(s._buildCanvasArcToPathCommand(T,T,0,e,n,_,U,p))}(d=new t.core.Point(e,n)).x+=o*Math.cos(r),d.y+=o*Math.sin(r),u.push(s._buildLineToPathCommand(d.x,d.y)),0!==(F=o)&&(p=(M=_-r)<0?1:0,u.push(s._buildCanvasArcToPathCommand(F,F,0,e,n,r,M,p))),u.push(s._buildClosePathCommand())}else{var c,h,f,d,y=.5*(i+o),g=y*l,m=i-o,v=t.shapes._BorderRadiusExtension._ratioOfConvertPercentageToPixel(a,m,g),w=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.topLeft,m,v),b=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.topLeft,g,v),P=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.topRight,m,v),S=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.topRight,g,v),C=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.bottomRight,m,v),V=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.bottomRight,g,v),x=t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.horizontalRadius.bottomLeft,m,v),D=(_=r+l,r+(g-b)/y),O=r+(g-S)/y,A=r+t.shapes._BorderRadiusExtension._getCssPixelValueWithRatio(a.verticalRadius.bottomLeft,g,v)/y,L=r+V/y;(c=new t.core.Point(e,n)).x+=(i-w)*Math.cos(_),c.y+=(i-w)*Math.sin(_),u.push(s._buildMoveToPathCommand(c.x,c.y)),(h=new t.core.Point(e,n)).x+=(o+P)*Math.cos(_),h.y+=(o+P)*Math.sin(_),u.push(s._buildLineToPathCommand(h.x,h.y)),(f=new t.core.Point(e,n)).x+=o*Math.cos(_),f.y+=o*Math.sin(_),(d=new t.core.Point(e,n)).x+=o*Math.cos(O),d.y+=o*Math.sin(O),u.push(s._buildQuadraticCurveToPathCommand(f.x,f.y,d.x,d.y));var T,M,E=new t.core.Point(e,n);E.x+=o*Math.cos(L),E.y+=o*Math.sin(L),0!==(T=o)&&(p=(M=O-L)<0?1:0,u.push(s._buildCanvasArcToPathCommand(T,T,0,e,n,O,M,p)));var I=new t.core.Point(e,n);I.x+=o*Math.cos(r),I.y+=o*Math.sin(r);var B=new t.core.Point(e,n);B.x+=(o+C)*Math.cos(r),B.y+=(o+C)*Math.sin(r),u.push(s._buildQuadraticCurveToPathCommand(I.x,I.y,B.x,B.y));var R=new t.core.Point(e,n);R.x+=(i-x)*Math.cos(r),R.y+=(i-x)*Math.sin(r),u.push(s._buildLineToPathCommand(R.x,R.y));var k=new t.core.Point(e,n);k.x+=i*Math.cos(r),k.y+=i*Math.sin(r);var N=new t.core.Point(e,n);N.x+=i*Math.cos(A),N.y+=i*Math.sin(A),u.push(s._buildQuadraticCurveToPathCommand(k.x,k.y,N.x,N.y));var F,U,z=new t.core.Point(e,n);z.x+=i*Math.cos(D),z.y+=i*Math.sin(D),0!==(F=i)&&(p=(U=A-D)<0?1:0,u.push(s._buildCanvasArcToPathCommand(F,F,0,e,n,A,U,p)));var j=new t.core.Point(e,n);j.x+=i*Math.cos(_),j.y+=i*Math.sin(_),u.push(s._buildQuadraticCurveToPathCommand(j.x,j.y,c.x,c.y)),u.push(s._buildClosePathCommand())}return t._PathBuilder._defaultPathBuilder._buildPath(u)},e._buildFunnelRingWithBorderRadius=function(e,n){var i=t._PathCommandBuilder._defaultPathCommandBuilder,o=[];return o.push(i._buildMoveToPathCommand(n.leftTop.x,n.leftTop.y)),o.push(i._buildLineToPathCommand(n.rightTop.x,n.rightTop.y)),o.push(i._buildLineToPathCommand(n.rightNeck.x,n.rightNeck.y)),o.push(i._buildLineToPathCommand(n.rightBottom.x,n.rightBottom.y)),o.push(i._buildLineToPathCommand(n.leftBottom.x,n.leftBottom.y)),o.push(i._buildLineToPathCommand(n.leftNeck.x,n.leftNeck.y)),o.push(i._buildLineToPathCommand(n.leftTop.x,n.leftTop.y)),o.push(i._buildClosePathCommand()),o.push(i._buildMoveToPathCommand(e.leftTop.x,e.leftTop.y)),o.push(i._buildLineToPathCommand(e.rightTop.x,e.rightTop.y)),o.push(i._buildLineToPathCommand(e.rightNeck.x,e.rightNeck.y)),o.push(i._buildLineToPathCommand(e.rightBottom.x,e.rightBottom.y)),o.push(i._buildLineToPathCommand(e.leftBottom.x,e.leftBottom.y)),o.push(i._buildLineToPathCommand(e.leftNeck.x,e.leftNeck.y)),o.push(i._buildLineToPathCommand(e.leftTop.x,e.leftTop.y)),o.push(i._buildClosePathCommand()),t._PathBuilder._defaultPathBuilder._buildPath(o)},e}();t._AnimationPathUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._buildSymbolRingSymbol=function(e,n){if(t.models._isBoxSymbol(e)&&t.models._isBoxSymbol(n)){var i=e,o=n,r=t._PathCommandUtility._getPathExpression(t._PathUtility._buildRectangleShape(i.box)),l=t._PathCommandUtility._getPathExpression(t._PathUtility._buildRectangleShape(o.box)),a=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(l+r);return new t.models.PathSymbol(a,n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isDashSymbol(e)&&t.models._isDashSymbol(n)){for(var u=e,s=n,_=[],p=0;p<u.dash.points.length&&p<s.dash.points.length;p++)_.push(new t._PolylineShape([u.dash.points[p],s.dash.points[p]],null));return new t.models.PathSymbol(t._PathUtility._buildLineShapes(_),n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isDiamondSymbol(e)&&t.models._isDiamondSymbol(n)){var c=e,h=n,f=t._PathCommandUtility._getPathExpression(t._PathUtility._buildPolygonShape(c.diamond)),d=t._PathCommandUtility._getPathExpression(t._PathUtility._buildPolygonShape(h.diamond));return a=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(d+f),new t.models.PathSymbol(a,n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isDotSymbol(e)&&t.models._isDotSymbol(n)){var y=e,g=n,m=t._PathCommandUtility._getPathExpression(t._PathUtility._buildArcShape(y.dot)),v=t._PathCommandUtility._getPathExpression(t._PathUtility._buildArcShape(g.dot));return a=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(v+m),new t.models.PathSymbol(a,n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isPlusSymbol(e)&&t.models._isPlusSymbol(n)){var w=e,b=n;for(_=[],p=0;p<w.plusLine1.points.length&&p<b.plusLine1.points.length;p++)_.push(new t._PolylineShape([w.plusLine1.points[p],b.plusLine1.points[p]],null));for(p=0;p<w.plusLine2.points.length&&p<b.plusLine2.points.length;p++)_.push(new t._PolylineShape([w.plusLine2.points[p],b.plusLine2.points[p]],null));return new t.models.PathSymbol(t._PathUtility._buildLineShapes(_),n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isTriangleSymbol(e)&&t.models._isTriangleSymbol(n)){var P=e,S=n,C=t._PathCommandUtility._getPathExpression(t._PathUtility._buildPolygonShape(P.triangle)),V=t._PathCommandUtility._getPathExpression(t._PathUtility._buildPolygonShape(S.triangle));return a=t._PathBuilder._defaultPathBuilder._buildPathFromExpression(V+C),new t.models.PathSymbol(a,n.style,n.matrix,null,t.PathFillType.Evenodd)}if(t.models._isXSymbol(e)&&t.models._isXSymbol(n)){var x=e,D=n;for(_=[],p=0;p<x.xLine1.points.length&&p<D.xLine1.points.length;p++)_.push(new t._PolylineShape([x.xLine1.points[p],D.xLine1.points[p]],null));for(p=0;p<x.xLine2.points.length&&p<D.xLine2.points.length;p++)_.push(new t._PolylineShape([x.xLine2.points[p],D.xLine2.points[p]],null));return new t.models.PathSymbol(t._PathUtility._buildLineShapes(_),n.style,n.matrix,null,t.PathFillType.Evenodd)}return t.models._isPathSymbol(e)&&t.models._isPathSymbol(n)||t.models._isImageSymbol(e)&&t.models._isImageSymbol(n)?n:null},e}();t._AnimationSymbolUtility=e}(t||(t={})),function(t){var e=function(){function e(){}return e._findAnimationOption=function(e,n){if(t._isPlotView(n)){if(e==t.AnimationType.Loading)return this._findPlotLoadAnimationOption(n);if(e==t.AnimationType.Update||e==t.AnimationType.Resize)return this._findPlotUpdateAnimationOption(n)}else if(t._isOverlayView(n)){if(e==t.AnimationType.Loading)return this._findOverlayLoadAnimationOption(n);if(e==t.AnimationType.Update||e==t.AnimationType.Resize)return this._findOverlayUpdateAnimationOption(n)}return null},e._buildAnimation=function(e,n,i,o,r,l){var a=[],u=t.AnimationController.default.timeline;if(t._isPlotView(n)){if(e==t.AnimationType.Loading)for(var s=0,_=t._BuildInPlotLoadingAnimationDefinitionBuilderCollection._defaultBuildInLoadingAnimationDefinitionBuilders()._loadingAnimationDefinitions(n._getDefinition(),i,r,l);s<_.length;s++)null!=(m=(g=_[s]).builder.buildAnimation(n,g,u))&&a.push(m);else if(e==t.AnimationType.Update||e==t.AnimationType.Resize)for(var p=0,c=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._defaultBuildInUpdateAnimationDefinitionBuilders()._updateAnimationDefinitions(n._getDefinition(),i,r,o.updateAnimationCache,l);p<c.length;p++)null!=(m=(g=c[p]).builder.buildAnimation(n,g,u))&&a.push(m)}else if(t._isOverlayView(n))if(e==t.AnimationType.Loading)for(var h=0,f=t._BuildInOverlayLoadingAnimationDefinitionBuilderCollection._defaultBuildInLoadingAnimationDefinitionBuilders()._loadingAnimationDefinitions(n._getDefinition(),i,r,l);h<f.length;h++)null!=(m=(g=f[h]).builder.buildAnimation(n,g,u))&&a.push(m);else if(e==t.AnimationType.Update||e==t.AnimationType.Resize)for(var d=0,y=t._BuildInOverlayUpdateAnimationDefinitionBuilderCollection._defaultBuildInUpdateAnimationDefinitionBuilders()._updateAnimationDefinitions(n._getDefinition(),i,o.updateAnimationCache,r,l);d<y.length;d++){var g,m;null!=(m=(g=y[d]).builder.buildAnimation(n,g,u))&&a.push(m)}return a},e._saveCache=function(e,n,i,o,r){if(t._isPlotView(e))for(var l=0,a=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._defaultBuildInUpdateAnimationDefinitionBuilders()._updateAnimationDefinitions(e._getDefinition(),n,o,i.updateAnimationCache,r);l<a.length;l++)a[l].cache.saveCache(e);else if(t._isOverlayView(e))for(var u=0,s=t._BuildInOverlayUpdateAnimationDefinitionBuilderCollection._defaultBuildInUpdateAnimationDefinitionBuilders()._updateAnimationDefinitions(e._getDefinition(),n,i.updateAnimationCache,o,r);u<s.length;u++)s[u].cache.saveCache(e)},e._findPlotLoadAnimationOption=function(t){return t._getDefinition()._plotConfigOption.loadAnimation},e._findPlotUpdateAnimationOption=function(t){return t._getDefinition()._plotConfigOption.updateAnimation},e._findOverlayLoadAnimationOption=function(e){var n=this._findPlotLoadAnimationOption(e._getPlotView()),i=e._getDefinition()._getOption();return t.options._isOverlayOption(i)&&null!=i.loadAnimation&&(n=i.loadAnimation),n},e._findOverlayUpdateAnimationOption=function(e){var n=this._findPlotUpdateAnimationOption(e._getPlotView()),i=e._getDefinition()._getOption();return t.options._isOverlayOption(i)&&null!=i.updateAnimation&&(n=i.updateAnimation),n},e}();t._AnimationUtility=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o,r,l){var a=e.call(this,n,i,o,r,l)||this,u=n._getPlotView();return t._isBarCartesianPlotView(u)&&(a.__swapAxes=u._swapAxes()),a.__originRect=null,a}return n(i,e),i.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;i instanceof t._BarXyCartesianPointView&&(this.__originRect=i._rectangle().clone())}},i.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),null!=this.__originRect&&(this._type==t.AnimationKeyFramesType.Percentage?this.__swapAxes?(this.view._rectangle().top=this.__originRect.top-(n-1)*this.__originRect.height/2,this.view._rectangle().height=n*this.__originRect.height):(this.view._rectangle().left=this.__originRect.left-(n-1)*this.__originRect.width/2,this.view._rectangle().width=n*this.__originRect.width):this.__swapAxes?(this.view._rectangle().top=this.__originRect.top-n/2,this.view._rectangle().height=this.__originRect.height+n):(this.view._rectangle().left=this.__originRect.left-n/2,this.view._rectangle().width=this.__originRect.width+n))},i}(t._PointViewScaleAnimationAction);t._BarPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,n,i,o,r)||this;return l.__shape=null,l.__pointSpacePolicy=l.view._getPlotView()._getPointSpacePolicy(),l}return n(i,e),i.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;if(t._isRadialBarCartesianPointView(i)){var o=i;this.__shape=o._getDonutShape()}}},i.prototype._applyScale=function(n){if(e.prototype._applyScale.call(this,n),null!=this.__shape){var i=this.__shape.radius,o=this.__shape.innerRadius,r=0;if(r=this._type==t.AnimationKeyFramesType.Percentage?(i-o)*n+o:i+n,null!=this.__pointSpacePolicy){var l=this.__pointSpacePolicy._calculateViewInfoFromShapeInfo(this.__shape.center.x,this.__shape.center.y,r,this.__shape.innerRadius,this.__shape.startAngle,this.__shape.sweepAngle);this.view._setRadius(l.radius)}else this.view._setRadius(r)}},i}(t._PointViewScaleAnimationAction);t._BarRadialPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;i instanceof t._FunnelCartesianPointView&&(this.__originFunnel=i._getFunnelPolygon())}},i.prototype._applyScale=function(n){if(e.prototype._applyScale.call(this,n),this._type==t.AnimationKeyFramesType.Percentage)this.view._setFunnelPolygon(this.__originFunnel.scale(n,1));else{var i=this.__originFunnel.topWidth(),o=this.__originFunnel.bottomWidth(),r=void 0;r=0!=i?i:0!=o?o:.7,this.view._setFunnelPolygon(this.__originFunnel.scale((r+n)/r,1))}this.view._refresh()},i}(t._PointViewScaleAnimationAction);t._FunnelPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n,0,1)||this;return i._reversed=e._reversed(),i._isNegative=!e._isPositive(),i}return n(e,t),e.prototype._xor=function(t,e){return t!=e},e}(t._TransitionViewAnimationAction);t._BarPointTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.__swapAxes=i,o.__rect=o.view._rectangle().clone(),o}return n(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this)},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e);var n=this.__rect.clone(),i=this._isNegative;this.__swapAxes?this._xor(i,this._reversed)?(n.left=this.__rect.left+(this.__rect.width-this.__rect.width*e),n.width=this.__rect.width*e):n.width=this.__rect.width*e:(this._xor(i,this._reversed)||(n.top=this.__rect.top+this.__rect.height-this.__rect.height*e),n.height=this.__rect.height*e),this.view._updateRectangle(n)},e}(t._BarPointTransitionViewAnimationAction);t._BarPointRectangleTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.__swapAxes=i,o.__xs=o.view._getXs(),o.__ys=o.view._getYs(),o.__swapAxes?(o.__min=Math.min.apply(Math,o.__xs),o.__max=Math.max.apply(Math,o.__xs)):(o.__min=Math.min.apply(Math,o.__ys),o.__max=Math.max.apply(Math,o.__ys)),o}return n(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this)},e.prototype._onEnd=function(){t.prototype._onEnd.call(this),this.view._setXs([].concat(this.__xs)),this.view._setYs([].concat(this.__ys))},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e);var n=this._isNegative,i=this.__max,o=this.__min;this.__swapAxes?this._xor(n,this._reversed)?this.view._setXs(this.__xs.map((function(t){return i-(i-t)*e}))):this.view._setXs(this.__xs.map((function(t){return(t-o)*e+o}))):this._xor(n,this._reversed)?this.view._setYs(this.__ys.map((function(t){return(t-o)*e+o}))):this.view._setYs(this.__ys.map((function(t){return i-(i-t)*e})))},e}(t._BarPointTransitionViewAnimationAction);t._FunnelBarPointTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.__innerRadius=i.view._getInnerRadius(),i.__radius=i.view._getRadius(),i}return n(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this)},e.prototype._applyScale=function(e){if(t.prototype._applyScale.call(this,e),this._xor(this._isNegative,this._reversed)){var n=this.__radius-(this.__radius-this.__innerRadius)*e;this.view._setInnerRadius(n)}else{var i=(this.__radius-this.__innerRadius)*e+this.__innerRadius;this.view._setRadius(i)}},e}(t._BarPointTransitionViewAnimationAction);t._RadialBarPointRadiusTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this,o=i.view._getDonutShape();return null==o?i.timing=null:(i.__shapeCenter=o.center.clone(),i.__shapeRadius=o.radius,i.__shapeInnerRadius=o.innerRadius,i.__shapeSweepAngle=o.sweepAngle,i.__shapeStartAngle=o.startAngle,i.__pointSpacePolicy=i.view._getPlotView()._getPointSpacePolicy()),i}return n(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this)},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e);var n=this._xor(this._isNegative,this._reversed),i=this.__shapeStartAngle,o=this.__shapeSweepAngle*e;if(n&&(i=this.__shapeStartAngle+this.__shapeSweepAngle-o),null!=this.__pointSpacePolicy){var r=this.__pointSpacePolicy._calculateViewInfoFromShapeInfo(this.__shapeCenter.x,this.__shapeCenter.y,this.__shapeRadius,this.__shapeInnerRadius,i,o);this.view._setCenter(r.center),this.view._setRadius(r.radius),this.view._setInnerRadius(r.innerRadius),this.view._setStartAngle(r.startAngle),this.view._setSweep(r.sweepAngle)}else n&&this.view._setStartAngle(i),this.view._setSweep(o)},e}(t._BarPointTransitionViewAnimationAction);t._RadialBarPointSweepTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=[];e._traverseCartesianGroupView((function(t,e){for(var n=0,i=t._getCartesianSeriesViews();n<i.length;n++){var r=i[n];o.push.apply(o,r._viewportPointViews())}}),null),o.sort(this._pointSort);for(var r=[],l=o.length,a=0;a<l;a++){var u=o[a],s=null;if(n.mode===t.AnimationMode.Group){var _=u._data(),p=_._getSeries().plot()._seriesList(),c=p.indexOf(_._getSeries());(s=t._ActionTiming._createTiming(n.easing,c,p.length,n.duration,n.staggering)).startDelay+=n.startDelay}else n.mode===t.AnimationMode.Point?(s=t._ActionTiming._createTiming(n.easing,a,o.length,n.duration,n.staggering)).startDelay+=n.startDelay:s=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration);var h=this._createAnimationAction(u,s);null!=h&&r.push(h)}return new t._FrameAnimation(n,r,i)},e.prototype._pointSort=function(t,e){var n=t._getCartesianSeriesView()._getCartesianGroupView(),i=n._getXValue(t._data()),o=n._getXValue(e._data());return(null==i?0:i)-(null==o?0:o)},e}();t._CartesianPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n._value=e.value,n._dimension=e.dimension,n}return n(e,t),e.prototype._getCartesianPointView=function(){return this._animationView},e}(t._BasePointAnimationViewCache);t._CartesianPointAnimationViewCache=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createUpdateAnimationAction=function(e,n,i,o){if(t._isCartesianSeriesView(e)){var r=this._createSeriesUpdateAnimationAction(e,n,i,o);if(null!=r)return r}if(t._isCartesianPointView(e)){var l=this._createPointUpdateAnimationAction(e,n,i,o);if(null!=l)return l}return null},i.prototype._createSeriesUpdateAnimationAction=function(t,e,n,i){return null},i.prototype._createPointUpdateAnimationAction=function(e,n,i,o){return t._isCartesianPointAnimationViewCache(n)&&t._isCartesianPointAnimationViewCache(i)?new t._DisplayablePointViewAnimationAction(e,n,i,o):null},i.prototype._createAppearAnimationAction=function(t,n){if(!t._isVisible())return null;var i=this._createSeriesAppearAnimationAction(t,n);if(null!=i)return i;var o=this._createPointAppearAnimationAction(t,n);return null!=o?o:e.prototype._createAppearAnimationAction.call(this,t,n)},i.prototype._createSeriesAppearAnimationAction=function(t,e){return null},i.prototype._createPointAppearAnimationAction=function(t,e){return null},i.prototype._getAnimatableViews=function(t){return t._visualViews},i.prototype._cloneAnimatableView=function(e){return t._isCartesianSeriesView(e)?this._cloneSeriesView(e):t._isCartesianPointView(e)?this._clonePointView(e):e},i.prototype._cloneSeriesView=function(t){return t},i.prototype._clonePointView=function(e){var n=new t._CartesianPointView(e._getCartesianSeriesView(),e._data(),null);return t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n},i}(t._BasePlotViewUpdateAnimationBuilder);t._BaseCartesianPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationViewCache=function(n){if(t._isPointView(n)&&t._isCartesianPointView(n)&&t._isSymbolCartesianPointView(n)){var i=new t._BaseSymbolCartesianPointView(n._getCartesianSeriesView(),n._data(),null);return i._updateRectangle(n._rectangle().clone()),i._updateLegendSize(n.size),i._updateLegendColor(n.color),i._updateLegendShape(n.shape),i._updateLegendBackgroundColor(n.backgroundColor),t.CartesianPointViewClone.cloneVertex(i,n),t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),new t._SymbolCartesianPointAnimationViewCache(i)}return e.prototype._createAnimationViewCache.call(this,n)},i.prototype._createPointUpdateAnimationAction=function(n,i,o,r){if(t._isSymbolCartesianPointView(n)){if(t._isTextCartesianPointAnimationViewCache(i))return null;if(t._isSymbolCartesianPointAnimationViewCache(i)&&t._isSymbolCartesianPointAnimationViewCache(o)&&i._shape==n.shape)return new t._SymbolCartesianPointUpdateViewAnimationAction(n,i,o,r)}return e.prototype._createPointUpdateAnimationAction.call(this,n,i,o,r)},i.prototype._clonePointView=function(n){if(t._isSymbolCartesianPointView(n)){var i=new t._BaseSymbolCartesianPointView(n._getCartesianSeriesView(),n._data(),null);return i._updateRectangle(n._rectangle().clone()),i._updateLegendSize(n.size),i._updateLegendColor(n.color),i._updateLegendShape(n.shape),i._updateLegendBackgroundColor(n.backgroundColor),t.CartesianPointViewClone.cloneVertex(i,n),t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),i}return e.prototype._clonePointView.call(this,n)},i}(t._BaseCartesianPlotViewUpdateAnimationBuilder);t._BaseSymbolCartesianPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._getCartesianSeriesView=function(){return this._animationView},e}(t._BaseAnimationViewCache);t._CartesianSeriesAnimationViewCache=e}(t||(t={})),function(t){t._isCartesianPointAnimationViewCache=function(t){return"function"==typeof t._getCartesianPointView}}(t||(t={})),function(t){t._isCartesianSeriesAnimationViewCache=function(t){return"function"==typeof t._getCartesianSeriesView}}(t||(t={})),function(t){t._isSymbolCartesianPointAnimationViewCache=function(t){return null!=t._rectangle}}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n._rectangle=e._rectangle().clone(),n._shape=e.shape,n}return n(e,t),e}(t._CartesianPointAnimationViewCache);t._SymbolCartesianPointAnimationViewCache=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this),this.__rect=this.view._rectangle().clone();var n=this._getSymbolRectangle(this.__rect),i=this._defaultStyle();t._OptionUtility._applyStyleOption(i,this._rippleEffectDefinition().style),this.__symbol=t._AnimationSymbolUtility._buildSymbolRingSymbol(this.view._symbol(),this.view._symbolDefinition().createSymbol(n,i))},i.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n);var i=this.view._rectangle();if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel){var o=n*this._rippleEffectDefinition().scale.value;this.__rect=new t.core.Rect(i.left-.5*o,i.top-.5*o,i.width+o,i.height+o)}else if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage){var r=n*(this._rippleEffectDefinition().scale.value-1),l=.5*i.width,a=.5*i.height;this.__rect=new t.core.Rect(i.left-l*r,i.top-a*r,i.width+2*l*r,i.height+2*a*r)}var u=this._getSymbolRectangle(this.__rect),s=this._defaultStyle();t._OptionUtility._applyStyleOption(s,this._rippleEffectDefinition().style),this.__symbol=t._AnimationSymbolUtility._buildSymbolRingSymbol(this.view._symbol(),this.view._symbolDefinition().createSymbol(u,s))},i.prototype._draw=function(t,e){var n=this.view;null!=n&&n._isVisible()&&null!=this.__symbol&&n._getPlotView()._rectangle().width>0&&n._getPlotView()._rectangle().height>0&&this.__symbol.render(t,e)},i.prototype._getSymbolRectangle=function(t){var e=t.clone(),n=t.width<t.height?t.width:t.height;return t.width>t.height?e.left=t.left+(t.width-t.height)/2:t.height>t.width&&(e.top=t.top+(t.height-t.width)/2),e.height=n,e.width=n,e},i}(t._RippleEffectViewAnimationAction);t._SymbolPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,n,i,o,r)||this;return l.__originRect=null,l}return n(i,e),i.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;t._isCartesianPointView(i)&&t._isSymbolCartesianPointView(i)&&(this.__originRect=i._rectangle().clone())}},i.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),null!=this.__originRect&&(this._type==t.AnimationKeyFramesType.Percentage?(this.view._rectangle().top=this.__originRect.top-(n-1)*this.__originRect.height/2,this.view._rectangle().height=n*this.__originRect.height,this.view._rectangle().left=this.__originRect.left-(n-1)*this.__originRect.width/2,this.view._rectangle().width=n*this.__originRect.width):(this.view._rectangle().top=this.__originRect.top-n/2,this.view._rectangle().height=this.__originRect.height+n,this.view._rectangle().left=this.__originRect.left-n/2,this.view._rectangle().width=this.__originRect.width+n))},i}(t._PointViewScaleAnimationAction);t._SymbolPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__rectangle=n._rectangle.clone(),r._fromCache._rectangle.equalsWith(r._toCache._rectangle)&&(r.timing=null),r}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._updateRectangle(this.__rectangle),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},i.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},i.prototype._calcShape=function(e){var n=(this._toCache._rectangle.left-this._fromCache._rectangle.left)*e,i=(this._toCache._rectangle.top-this._fromCache._rectangle.top)*e,o=this._fromCache._rectangle.left+n,r=this._fromCache._rectangle.top+i,l=this._toCache._rectangle.width,a=this._toCache._rectangle.height;this.__rectangle=new t.core.Rect(o,r,l,a)},i.prototype._draw=function(t,e){this.view.showSymbol()&&this.view._renderSymbol(t,this.__rectangle,e)},i.prototype._contains=function(t){return this.__rectangle.contains(t)},i.prototype._cutOff=function(){return!0},i}(t._ViewTransitionViewAnimationAction);t._SymbolCartesianPointUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._findMaxSameArrayOf=function(e,n,i){for(var o=e.length>=n.length,r=o?e:n,l=o?n:e,a=0,u=0,s=0,_=0,p=0,c=0;c<l.length;c++)for(var h=c;h<l.length;h++){var f=t._Util.isChildOf(r,l.slice(c,h+1),i);if(null!=f){var d=h+1-c;if(d>a){if(h-c!=f.end-f.start)throw new t.AssertError(t.ErrorCode.NotEqual,h-c,f.end-f.start);a=d,u=o?c:f.start,s=o?h:f.end,_=o?f.start:c,p=o?f.end:h}}}return 0!=a?{arrayStart:_,arrayEnd:p,otherStart:u,otherEnd:s}:null},i}(t._ViewTransitionViewAnimationAction);t._CartesianSeriesUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="AreaLoading",this.type=t._BuildInPlotLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t._AreaCartesianPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._AreaPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AreaLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function t(t,e,n,i,o){this.shape=t,this.__points=e,this.__centers=n,this.__indexs=i,this.__hasSymbol=o,this._onCreate()}return t.prototype._onCreate=function(){if(this.__hasSymbol)for(var t=0,e=this.__points;t<e.length;t++)e[t]._animationVisible=!1},t.prototype._onStart=function(){if(this.__hasSymbol)for(var t=0,e=this.__points;t<e.length;t++){var n=e[t];n._animationVisible=!0,n._scale=0}},t.prototype._onEnd=function(){if(this.__hasSymbol)for(var t=0;t<this.__points.length;++t){var e=this.__points[t];this._translateTo(e._rectangle(),this.__centers[t]),e._scale=1,e._animationVisible=!0}},t.prototype._translateTo=function(t,e){t.left=e.x-t.width/2,t.top=e.y-t.height/2},t.prototype._getAnimationShape=function(t,e){var n=this.shape.clone();if(0==n._upperLine().length)return n;if(0==n._lowerLine().length){var i=n._upperLine()[0];n._upperLine().forEach((function(e,n){e.x=(e.x-i.x)*t+i.x,e.y=(e.y-i.y)*t+i.y}))}else n._upperLine().forEach((function(i,o){e?n._lowerLine().length==n._upperLine().length?i.x=(i.x-n._lowerLine()[o].x)*t+n._lowerLine()[o].x:i.x=(i.x-n._lowerLine()[0].x)*t+n._lowerLine()[0].x:n._lowerLine().length==n._upperLine().length?i.y=(i.y-n._lowerLine()[o].y)*t+n._lowerLine()[o].y:i.y=(i.y-n._lowerLine()[0].y)*t+n._lowerLine()[0].y}));if(this.__hasSymbol){var o=n._upperLine(),r=this.__points.length;t<0&&(t=0);for(var l=0;l<r;++l){var a=this.__points[l];this._translateTo(a._rectangle(),o[this.__indexs[l]]),a._scale=t}}return n},t._equal=function(t,e){return Math.abs(t-e)<.001},t._equalsWith=function(t,e){return this._equal(t.x,e.x)&&this._equal(t.y,e.y)},t._build=function(t,e,n){return this._from(t,e,n)},t._from=function(e,n,i){if(null==e||null==n)return null;for(var o=[],r=[],l=e._upperLine(),a=0,u=l.length,s=[],_=0,p=n;_<p.length;_++){var c=p[_];if(c)for(var h=c._rectangle().center;a<u;){if(this._equalsWith(h,l[a])){r.push(a),s.push(c),o.push(h),++a;break}++a}}return s.length==r.length&&s.length>0?new t(e,s,o,r,i):null},t}();t._AreaLoadingAnimationGroupClip=e}(t||(t={})),function(t){var e=function(){function e(t,e){this.start=0,this.shape=t.clone(),this.total=e.length,this._calcViewsIndex(t,e)}return e.makeChain=function(t){for(var e=0,n=0,i=t;n<i.length;n++)(l=i[n]).start=e,e+=l.views.length;for(var o=0,r=t;o<r.length;o++){var l;(l=r[o]).total=e}},e.prototype._calcViewsIndex=function(e,n){this.indexs=[];for(var i=0,o=e._upperLine(),r=o.length,l=[],a=0,u=n;a<u.length;a++){var s=u[a];if(null!=s)for(var _=s._rectangle().center;i<r;){if(t._PointPixelRoundEqualityComparer._pointPixelRoundEqualityComparer._equalsWith(_,o[i])){this.indexs.push(i),l.push(s),++i;break}++i}}this.views=l},e.prototype.animateShape=function(t,e,n){for(var i,o,r=this.shape.clone(),l=r._upperLine().length,a=r._lowerLine().length,u=t*(this.views.length-1),s=!0,_=0;_<this.views.length;++_)_<u?(i=_,n&&(this.views[_]._animationVisible=!0)):(s&&(o=_,s=!1),n&&(this.views[_]._animationVisible=!1));if(null==i)r._upperLine().splice(1),r._lowerLine().splice(1);else if(!s){var p=(u-i)/(o-i),c=this._lerpPointWithIndex(r._upperLine(),this.indexs[i],this.indexs[o],p),h=Math.floor((this.indexs[o]-this.indexs[i])*p)+this.indexs[i]+1;if(r._upperLine().splice(h),r._upperLine().push(c),0==r._lowerLine().length)return r;var f=Math.floor((a-1)*t);f=f<1?1:f;var d=r._lowerLine()[f];if(r._lowerLine().splice(f),e){var y=c.clone();if(a==l){var g=r._lowerLine()[f-1];y.x=g.x+p*(d.x-g.x)}else y.x=r._lowerLine()[0].x;r._lowerLine().push(y)}else y=c.clone(),a==l?(g=r._lowerLine()[f-1],y.y=g.y+p*(d.y-g.y)):y.y=r._lowerLine()[0].y,r._lowerLine().push(y)}return r},e.prototype._lerpPointWithIndex=function(t,e,n,i){var o=e+(n-e)*i;return this._lerpPoint(t[Math.floor(o)],t[Math.ceil(o)],i)},e.prototype._lerpPoint=function(t,e,n){var i=t.clone();return i.x+=(e.x-t.x)*n,i.y+=(e.y-t.y)*n,i},e.prototype.animateViews=function(t){for(var e=0;e<this.views.length;++e){var n=this.views[e];t>=1||this.indexs[e]<t*this.shape._upperLine().length-1?n._animationVisible=!0:n._animationVisible=!1}},e}();t._AreaLoadingAnimationPointClip=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=[],r=t._CartesianPlotViewUtility._calculateSeriesViewCount(e),l=0;return e._traverseCartesianGroupView((function(i,a){for(var u=0,s=i._getCartesianSeriesViews();u<s.length;u++){var _=s[u];if(t._isAreaCartesianSeriesView(_)){if(null==_._getSeriesShapes())continue;var p=null;if(n.mode===t.AnimationMode.All){p=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration);var c=new t._AreaSeriesShapeGroupClipTransitionViewAnimationAction(_,p,e._swapAxes());o.push(c)}else n.mode===t.AnimationMode.Group?((p=t._ActionTiming._createTiming(n.easing,l,r,n.duration,n.staggering)).startDelay+=n.startDelay,c=new t._AreaSeriesShapeGroupClipTransitionViewAnimationAction(_,p,e._swapAxes()),o.push(c)):(p=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),c=new t._AreaSeriesShapePointClipTransitionViewAnimationAction(_,p),o.push(c))}l++}}),null),new t._FrameAnimation(n,o,i)},e}();t._AreaPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__swapAxes=i,o.__hasSymbol=o.view._getCartesianSeriesDataModel()._symbols(),o}return n(i,e),i.prototype._onPending=function(){var n=this;e.prototype._onPending.call(this);var i=this._getRelativePointViews(this.view);this.__clips=this.view._getSeriesShapes().map((function(e,o){return t._AreaLoadingAnimationGroupClip._build(e.clone(),i[o],n.__hasSymbol)})).filter((function(t){return null!=t}))},i.prototype._onStart=function(){if(e.prototype._onStart.call(this),this.__clips)for(var t=0,n=this.__clips;t<n.length;t++)n[t]._onStart()},i.prototype._onEnd=function(){if(e.prototype._onEnd.call(this),this.__clips){for(var t=0,n=this.__clips;t<n.length;t++)(l=n[t])._onEnd();for(var i=[],o=0,r=this.__clips;o<r.length;o++){var l=r[o];i.push(l.shape)}this.view._setSeriesShapes(i),this.__clips=null}},i.prototype._applyScale=function(t){var e=this;this.__clips&&this.view._setSeriesShapes(this.__clips.map((function(n){return n._getAnimationShape(t,e.__swapAxes)})))},i.prototype._getRelativePointViews=function(t){var e=[];if(null==t||t._getPointViews().length<=0)return e;for(var n=t._getShapePointViews(),i=t._getSeriesShapes(),o=0;o<i.length;o++)null!=n[o]&&e.push(n[o]);return e},i}(t._TransitionViewAnimationAction);t._AreaSeriesShapeGroupClipTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n){var i=e.call(this,t,n)||this;return i.__hasSymbol=i.view._getCartesianSeriesDataModel()._symbols(),i}return n(i,e),i.prototype._onPending=function(){if(e.prototype._onPending.call(this),this.__hasSymbol)for(var n=0,i=this.view._getPointViews();n<i.length;n++)i[n]._animationVisible=!1;var o=this._getRelativePointViews(this.view);this.__clips=[];for(var r=0;r<this.view._getSeriesShapes().length&&r<o.length;++r){var l=this.view._getSeriesShapes()[r];0==l._lowerLine().length&&0==l._upperLine().length||0==o[r].length||this.__clips.push(new t._AreaLoadingAnimationPointClip(l.clone(),o[r]))}t._AreaLoadingAnimationPointClip.makeChain(this.__clips)},i.prototype._onEnd=function(){if(e.prototype._onEnd.call(this),this.__hasSymbol)for(var t=0,n=this.view._getPointViews();t<n.length;t++)n[t]._animationVisible=!0;if(this.__clips){for(var i=[],o=0,r=this.__clips;o<r.length;o++){var l=r[o];i.push(l.shape)}this.view._setSeriesShapes(i)}this.__clips=null},i.prototype._applyScale=function(t){for(var e=[],n=0;n<this.__clips.length;++n){var i=this.__clips[n],o=(i.total*t-i.start)/i.views.length;e.push(i.animateShape(o,this.view._swapAxes(),this.view._getCartesianSeriesDataModel()._symbols()))}this.view._setSeriesShapes(e)},i.prototype._getRelativePointViews=function(t){var e=[];if(null==t||t._getPointViews().length<=0)return e;for(var n=t._getShapePointViews(),i=t._getSeriesShapes(),o=0;o<i.length;o++)null!=n[o]&&e.push(n[o]);return e},i}(t._TransitionViewAnimationAction);t._AreaSeriesShapePointClipTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="AreaUpdate",this.type=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._AreaCartesianPlotDefinition){var r=new t._AreaPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._AreaUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n._polygonSegments=n._createPolygonSegmentAnimationCaches(e),n}return n(e,t),e.prototype._createPolygonSegmentAnimationCaches=function(t){if(t._getSeriesShapes().length<=0)return[];for(var e=t._getShapePointViews(),n=[],o=t._getSeriesShapes(),r=0;r<o.length;r++)null!=e[r]&&n.push(new i(o[r]._lowerLine(),o[r]._upperLine(),e[r]));return n},e.prototype._getAreaCartesianSeriesView=function(){return this._animationView},e}(t._CartesianSeriesAnimationViewCache);t._AreaCartesianSeriesAnimationViewCache=e;var i=function(e,n,i){void 0===i&&(i=null),this._shape=new t._AreaShape(e,n),this._cartesianPoints=i.map((function(e){return new t._CartesianPointAnimationViewCache(e)}))}}(t||(t={})),function(t){var e=function(e){function o(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__polygonAnimationSegments=r._createPolygonAnimationSegments(n,i),r.__shapes=r._fromCache._polygonSegments.map((function(t){return t._shape.clone()})),r}return n(o,e),o.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},o.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._setSeriesShapes(this.__shapes),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},o.prototype._applyTransformation=function(t){var n=this;e.prototype._applyTransformation.call(this,t),this.__shapes=t>=1?this.view._getSeriesShapes().map((function(t){return t.clone()})):this.__polygonAnimationSegments.map((function(e){return n._calculateAreaShape(e,t)}))},o.prototype._draw=function(t,e){this.view._renderAreaShapes(t,e,this.__shapes)},o.prototype._contains=function(e){var n=!0;return this.__shapes.forEach((function(i){t._ShapeUtil._shapeContainsPoint(i,e)||(n=!1)})),n},o.prototype._cutOff=function(){return!0},o.prototype._createPolygonAnimationSegments=function(t,e){for(var n=[],o=0,r=e._polygonSegments;o<r.length;o++){for(var l=r[o],a=null,u=0,s=t._polygonSegments;u<s.length;u++){var _=s[u];if(null!=(a=this._createPolygonAnimationSegment(_,l))){n.push(a);break}}null==a&&(a=new i([],[],l._shape._lowerLine(),l._shape._upperLine()),n.push(a))}return n},o.prototype._createPolygonAnimationSegment=function(t,e){var n=this._findMaxSameArrayOf(t._cartesianPoints,e._cartesianPoints,(function(t,e){return null!=t&&null!=e&&t._value==e._value&&t._dimension==e._dimension}));if(null!=n){for(var o=[],r=[],l=[],a=[],u=t._shape._lowerLine().length==t._shape._upperLine().length&&e._shape._lowerLine().length==e._shape._upperLine().length,s=0;s<t._shape._upperLine().length;s++)s<n.arrayStart&&(o.push(t._shape._upperLine()[s]),r.push(e._shape._upperLine()[n.otherStart]));if(u)for(s=0;s<t._shape._lowerLine().length;s++)s<n.arrayStart&&(l.push(t._shape._lowerLine()[s]),a.push(e._shape._lowerLine()[n.otherStart]));for(s=0;s<e._shape._upperLine().length;s++)s<n.otherStart&&(o.push(t._shape._upperLine()[n.arrayStart]),r.push(e._shape._upperLine()[s]));if(u)for(s=0;s<t._shape._lowerLine().length;s++)s<n.otherStart&&(l.push(t._shape._lowerLine()[n.arrayStart]),a.push(e._shape._lowerLine()[s]));for(s=0;s<t._shape._upperLine().length;s++)s>=n.arrayStart&&s<=n.arrayEnd&&o.push(t._shape._upperLine()[s]);if(u)for(s=0;s<t._shape._lowerLine().length;s++)s>=n.arrayStart&&s<=n.arrayEnd&&l.push(t._shape._lowerLine()[s]);for(s=0;s<e._shape._upperLine().length;s++)s>=n.otherStart&&s<=n.otherEnd&&r.push(e._shape._upperLine()[s]);if(u)for(s=0;s<e._shape._lowerLine().length;s++)s>=n.otherStart&&s<=n.otherEnd&&a.push(e._shape._lowerLine()[s]);for(s=0;s<e._shape._upperLine().length;s++)s>n.otherEnd&&(o.push(t._shape._upperLine()[n.arrayEnd]),r.push(e._shape._upperLine()[s]));if(u)for(s=0;s<e._shape._lowerLine().length;s++)s>n.otherEnd&&(l.push(t._shape._lowerLine()[n.arrayEnd]),a.push(e._shape._lowerLine()[s]));for(s=0;s<t._shape._upperLine().length;s++)s>n.arrayEnd&&(o.push(t._shape._upperLine()[s]),r.push(e._shape._upperLine()[n.otherEnd]));if(u)for(s=0;s<t._shape._lowerLine().length;s++)s>n.arrayEnd&&(l.push(t._shape._lowerLine()[s]),a.push(e._shape._lowerLine()[n.otherEnd]));return u||(l=t._shape._lowerLine(),a=e._shape._lowerLine()),new i(l,o,a,r)}return null},o.prototype._calculateAreaShape=function(e,n){var i=e._toLowerPoints.map((function(t){return null!=t?t.clone():null})),o=e._toUpperPoints.map((function(t){return null!=t?t.clone():null}));return new t._AreaShape(i.map((function(t,i){if(i<e._fromLowerPoints.length){var o=(t.x-e._fromLowerPoints[i].x)*n,r=(t.y-e._fromLowerPoints[i].y)*n;t.x=e._fromLowerPoints[i].x+o,t.y=e._fromLowerPoints[i].y+r}return t})),o.map((function(t,i){if(i<e._fromUpperPoints.length){var o=(t.x-e._fromUpperPoints[i].x)*n,r=(t.y-e._fromUpperPoints[i].y)*n;t.x=e._fromUpperPoints[i].x+o,t.y=e._fromUpperPoints[i].y+r}return t})))},o}(t._CartesianSeriesUpdateViewAnimationAction);t._AreaCartesianSeriesUpdateViewAnimationAction=e;var i=function(t,e,n,i){this._fromLowerPoints=t,this._toLowerPoints=n,this._fromUpperPoints=e,this._toUpperPoints=i}}(t||(t={})),function(t){var e=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return n(o,e),o.prototype._createAnimationViewCache=function(n){if(t._isSeriesView(n)&&t._isCartesianSeriesView(n)&&t._isAreaCartesianSeriesView(n)){var i=new t._AreaCartesianSeriesView(n._getCartesianGroupView(),n._getCartesianSeriesDataModel());return null!=n._getSeriesShapes()&&(i._setSeriesShapes(n._getSeriesShapes().map((function(t){return t.clone()}))),i._setShapePointViews(n._getShapePointViews().map((function(t){return t.slice()})))),t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),new t._AreaCartesianSeriesAnimationViewCache(i)}return e.prototype._createAnimationViewCache.call(this,n)},o.prototype._createSeriesUpdateAnimationAction=function(n,o,r,l){return t._isAreaCartesianSeriesView(n)&&t._isAreaCartesianSeriesAnimationViewCache(o)&&t._isAreaCartesianSeriesAnimationViewCache(r)&&!i._polygonSegmentAnimationCacheArrayEqualityComparer._equalsWith(o._polygonSegments,r._polygonSegments)?new t._AreaCartesianSeriesUpdateViewAnimationAction(n,o,r,l):e.prototype._createSeriesUpdateAnimationAction.call(this,n,o,r,l)},o.prototype._cloneSeriesView=function(n){if(t._isAreaCartesianSeriesView(n)){var i=new t._AreaCartesianSeriesView(n._getCartesianGroupView(),n._getCartesianSeriesDataModel());return null!=n._getSeriesShapes()&&(i._setSeriesShapes(n._getSeriesShapes().map((function(t){return t.clone()}))),i._setShapePointViews(n._getShapePointViews().map((function(t){return t.slice()})))),t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),i}return e.prototype._cloneSeriesView.call(this,n)},o}(t._BaseSymbolCartesianPlotViewUpdateAnimationBuilder);t._AreaPlotViewUpdateAnimationBuilder=e;var i=function(){function e(){}return e.prototype._equalsWith=function(t,e){return t._shape.equalsWith(e._shape)},e._polygonSegmentAnimationCacheEqualityComparer=new e,e._polygonSegmentAnimationCacheArrayEqualityComparer=new t._ArrayEqualityComparer(e._polygonSegmentAnimationCacheEqualityComparer),e}()}(t||(t={})),function(t){t._isAreaCartesianSeriesAnimationViewCache=function(e){return!!t._isCartesianSeriesAnimationViewCache(e)&&"function"==typeof e._getAreaCartesianSeriesView}}(t||(t={})),t||(t={}),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._canCreateUpdateAnimation=function(t,e,n){return n._isVisible},i.prototype._createAnimationViewCache=function(n){var i;if(t._isAxisGroupLabelView(n))return(i=new t._LineAxisGroupLabelView(n._getAxisView(),n.label,n.value,n._group()))._setTextLocation(n._getTextLocation()),t.CartesianPointViewClone.cloneBaseInfo(i,n),new t._AxisLabelAnimationViewCache(i);if(n instanceof t._LineAxisLabelView)return(i=new t._LineAxisLabelView(n._getAxisView(),n.label,n.tick,n.value))._setTextLocation(n._getTextLocation()),t.CartesianPointViewClone.cloneBaseInfo(i,n),new t._AxisLabelAnimationViewCache(i);if(t._isAxisLabelView(n)){var o=new t._BaseAxisLabelView(n._getAxisView(),n.label,n.value);return o._setTextLocation(n._getTextLocation()),t.CartesianPointViewClone.cloneBaseInfo(o,n),new t._AxisLabelAnimationViewCache(o)}return e.prototype._createAnimationViewCache.call(this,n)},i.prototype._createUpdateAnimationAction=function(t,e,n,i){var o=this._createAxisLabelUpdateAnimationAction(t,e,n,i);return null!=o?o:null},i.prototype._createAxisLabelUpdateAnimationAction=function(e,n,i,o){return t._isAxisLabelAnimationViewCache(n)&&t._isAxisLabelAnimationViewCache(i)?new t._AxisLabelViewTransitionAnimationAction(e,n,i,o):null},i.prototype._getAnimatableViews=function(t){var e=[],n=t._cartesianCoordinateSystemView();return null!=n&&null!=n._getHorizontalAxisViews()&&n._getHorizontalAxisViews().forEach((function(t){for(var n=0,i=t._labelViews();n<i.length;n++){var o=i[n];e.push(o)}})),null!=n&&null!=n._getVerticalAxisViews()&&n._getVerticalAxisViews().forEach((function(t){for(var n=0,i=t._labelViews();n<i.length;n++){var o=i[n];e.push(o)}})),e},i.prototype._cloneAnimatableView=function(e){var n;if(t._isAxisGroupLabelView(e))return(n=new t._LineAxisGroupLabelView(e._getAxisView(),e.label,e.value,e._group()))._setTextLocation(e._getTextLocation()),t.CartesianPointViewClone.cloneBaseInfo(n,e),n;if(e instanceof t._LineAxisLabelView)return(n=new t._LineAxisLabelView(e._getAxisView(),e.label,e.tick,e.value))._setTextLocation(e._getTextLocation()),t.CartesianPointViewClone.cloneBaseInfo(n,e),n;if(t._isAxisLabelView(e)){var i=new t._BaseAxisLabelView(e._getAxisView(),e.label,e.value);return i._setTextLocation(e._getTextLocation()),t.CartesianPointViewClone.cloneBaseInfo(i,e),i}return e},i}(t._BasePlotViewUpdateAnimationBuilder);t._CartesianPlotViewAxisUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this,i=e._getTextLocation();return n._textLocation=null==i?null:i.clone(),n}return n(e,t),e.prototype._getAxisLabelView=function(){return this._animationView},e}(t._BaseAnimationViewCache);t._AxisLabelAnimationViewCache=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function e(){this.name="AxisUpdate",this.type=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._TextCartesianPlotDefinition)return null;if(e instanceof t._BaseCartesianPlotDefinition){var r=new t._CartesianPlotViewAxisUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}(),e._AxisUpdateAnimationPlugin=n}(t||(t={})),function(t){t._isAxisLabelAnimationViewCache=function(t){return"function"==typeof t._getAxisLabelView}}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return(null==r._fromCache._textLocation||null==r._toCache._textLocation||r._fromCache._textLocation.equalsWith(r._toCache._textLocation))&&(r.timing=null),r}return n(i,e),i.prototype._onEnd=function(){this.view._transform=null},i.prototype._applyTransformation=function(n){if(e.prototype._applyTransformation.call(this,n),null!=this._fromCache._textLocation&&null!=this._toCache._textLocation){var i=(this._fromCache._textLocation.x-this._toCache._textLocation.x)*(1-n),o=(this._fromCache._textLocation.y-this._toCache._textLocation.y)*(1-n),r=new t.Matrix;r.translate(i,o),this.view._transform=r}},i}(t._ViewTransitionViewAnimationAction);t._AxisLabelViewTransitionAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="BarLoading",this.type=t._BuildInPlotLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t._BarCartesianPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._BarPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._BarLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n){var i=e._getCartesianSeriesView()._getCartesianGroupView()._getCartesianPlotView();return e instanceof t._BarXyCartesianPointView?new t._BarPointRectangleTransitionViewAnimationAction(e,n,i._swapAxes()):e instanceof t._FunnelCartesianPointView?new t._FunnelBarPointTransitionViewAnimationAction(e,n,i._swapAxes()):t._isRadialBarCartesianPointView(e)?i._swapAxes()?new t._RadialBarPointRadiusTransitionViewAnimationAction(e,n):new t._RadialBarPointSweepTransitionViewAnimationAction(e,n):null},i}(t._CartesianPlotViewLoadingAnimationBuilder);t._BarPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="BarUpdate",this.type=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._BarCartesianPlotDefinition){var r=new t._BarPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._BarUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationViewCache=function(n){if(t._isBarCartesianPointView(n)){if(n instanceof t._PolygonalBarCartesianPointView){var i=new t._PolygonalBarCartesianPointView(n._getCartesianSeriesView(),n._data(),null,null);return this._cloneRadialPointViewAttributes(n,i),new t._BarRadialCartesianPointAnimationViewCache(i)}if(t._isRadialBarCartesianPointView(n)){var o=new t._BarRadialCartesianPointView(n._getCartesianSeriesView(),n._data(),null,null);return this._cloneRadialPointViewAttributes(n,o),new t._BarRadialCartesianPointAnimationViewCache(o)}var r;if(n instanceof t._FunnelCartesianPointView)return(r=new t._FunnelCartesianPointView(n._getCartesianSeriesView(),n._data(),null))._updateRectangle(n._rectangle()),t.CartesianPointViewClone.cloneVertex(r,n),t.CartesianPointViewClone.cloneBaseInfo(r,n),r.cloneId(n),new t._BarXyCartesianPointAnimationViewCache(r);if(n instanceof t._BaseBarCartesianPointView)return(r=new t._BarXyCartesianPointView(n._getCartesianSeriesView(),n._data(),null,null))._updateRectangle(n._rectangle()),t.CartesianPointViewClone.cloneVertex(r,n),t.CartesianPointViewClone.cloneBaseInfo(r,n),r.cloneId(n),new t._BarXyCartesianPointAnimationViewCache(r)}return e.prototype._createAnimationViewCache.call(this,n)},i.prototype.buildAnimation=function(n,i,o){var r=e.prototype.buildAnimation.call(this,n,i,o);if(null!=r){for(var l=!1,a=0,u=r.actions;a<u.length;a++)if((h=u[a])instanceof t._BarPointRectangleTransitionViewAnimationAction){l=!0;break}if(l)for(var s=new t._ActionTiming(i.easing,i.startDelay+i.duration/3,i.endDelay,2*i.duration/3),_=new t._ActionTiming(i.easing,i.startDelay,i.endDelay,2*i.duration/3),p=0,c=r.actions;p<c.length;p++){var h;(h=c[p])instanceof t._BarPointRectangleTransitionViewAnimationAction?h.timing=s:h.timing=_}}return r},i.prototype._createAppearAnimationAction=function(n,i){if(n instanceof t._BarXyCartesianPointView){var o=n._getPlotView();return new t._BarPointRectangleTransitionViewAnimationAction(n,i,o._swapAxes())}return t._isRadialBarCartesianPointView(n)?(o=n._getPlotView())._swapAxes()?new t._RadialBarPointRadiusTransitionViewAnimationAction(n,i):new t._RadialBarPointSweepTransitionViewAnimationAction(n,i):e.prototype._createAppearAnimationAction.call(this,n,i)},i.prototype._createPointUpdateAnimationAction=function(n,i,o,r){return t._isTextCartesianPointAnimationViewCache(i)?null:t._isRadialBarCartesianPointView(n)&&t._isBarRadialCartesianPointAnimationViewCache(i)&&t._isBarRadialCartesianPointAnimationViewCache(o)?new t._BarRadialPointUpdateViewAnimationAction(n,i,o,r):n instanceof t._BarXyCartesianPointView&&t._isBarXyCartesianPointAnimationViewCache(i)&&i._getBarXyCartesianPointView()instanceof t._BarXyCartesianPointView&&t._isBarXyCartesianPointAnimationViewCache(o)&&o._getBarXyCartesianPointView()instanceof t._BarXyCartesianPointView?new t._BarXyCartesianPointUpdateViewAnimationAction(n,i,o,r):e.prototype._createPointUpdateAnimationAction.call(this,n,i,o,r)},i.prototype._clonePointView=function(n){if(n instanceof t._PolygonalBarCartesianPointView){var i=new t._PolygonalBarCartesianPointView(n._getCartesianSeriesView(),n._data(),null,null);return this._cloneRadialPointViewAttributes(n,i),i}if(t._isRadialBarCartesianPointView(n)){var o=new t._BarRadialCartesianPointView(n._getCartesianSeriesView(),n._data(),null,null);return this._cloneRadialPointViewAttributes(n,o),o}if(n instanceof t._BarXyCartesianPointView){var r=new t._BarXyCartesianPointView(n._getCartesianSeriesView(),n._data(),null,null);return r._updateRectangle(n._rectangle()),t.CartesianPointViewClone.cloneVertex(r,n),t.CartesianPointViewClone.cloneBaseInfo(r,n),r.cloneId(n),r}return e.prototype._clonePointView.call(this,n)},i.prototype._cloneRadialPointViewAttributes=function(e,n){n._setCenter(e._getCenter().clone()),n._setRadius(e._getRadius()),n._setInnerRadius(e._getInnerRadius()),n._setStartAngle(e._getStartAngle()),n._setSweep(e._getSweep()),n._scale=e._scale,t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e)},i}(t._BaseCartesianPlotViewUpdateAnimationBuilder);t._BarPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e){var n=t.call(this,e)||this;return n._center=e._getCenter().clone(),n._radius=e._getRadius(),n._innerRadius=e._getInnerRadius(),n._startAngle=e._getStartAngle(),n._sweep=e._getSweep(),n}return n(e,t),e.prototype._getBarRadialCartesianPointView=function(){return this._animationView},e}(t._CartesianPointAnimationViewCache);t._BarRadialCartesianPointAnimationViewCache=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__center=r._fromCache._center.clone(),r.__radius=r._fromCache._radius,r.__innerRadius=r._fromCache._innerRadius,r.__startAngle=r._fromCache._startAngle,r.__sweepAngle=r._fromCache._sweep,r.__borderRadius=t._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius,r.__pointScale=t._scale,r.__pointSpacePolicy=t._getPlotView()._getPointSpacePolicy(),r.__shapePathCalculateCallback=r._getShapePathCalculateCallback(),r._fromCache._center.equalsWith(r._toCache._center)&&r._fromCache._radius==r._toCache._radius&&r._fromCache._innerRadius==r._toCache._innerRadius&&r._fromCache._startAngle==r._toCache._startAngle&&r._fromCache._sweep==r._toCache._sweep&&(r.timing=null),r}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._setCenter(this.__center),this.view._setStartAngle(this._toCache._startAngle),this.view._setSweep(this._toCache._sweep),this.view._setInnerRadius(this._toCache._innerRadius),this.view._setRadius(this._toCache._radius),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},i.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},i.prototype._calcShape=function(e){var n=(this._toCache._center.x-this._fromCache._center.x)*e,i=(this._toCache._center.y-this._fromCache._center.y)*e,o=(this._toCache._startAngle-this._fromCache._startAngle)*e,r=(this._toCache._sweep-this._fromCache._sweep)*e,l=(this._toCache._radius-this._fromCache._radius)*e,a=(this._toCache._innerRadius-this._fromCache._innerRadius)*e;this.__center=new t.core.Point(this._fromCache._center.x+n,this._fromCache._center.y+i),this.__startAngle=this._fromCache._startAngle+o,this.__sweepAngle=this._fromCache._sweep+r,this.__innerRadius=this._fromCache._innerRadius+a,this.__radius=this._fromCache._radius+l},i.prototype._draw=function(t,e){var n=this.__center,i=this.__radius*((this.__pointScale-1)/2+1),o=this.__innerRadius*(1-(this.__pointScale-1)/2),r=this.__startAngle,l=this.__sweepAngle;this.view._renderRadialBar(t,e,n,i,o,r,l,this.__shapePathCalculateCallback)},i.prototype._contains=function(t){var e=this.__center,n=this.__radius*((this.__pointScale-1)/2+1),i=this.__innerRadius*(1-(this.__pointScale-1)/2),o=this.__startAngle,r=this.__sweepAngle;return this.view._checkDonutShapeContains(t,e,n,i,o,r)},i.prototype._cutOff=function(){return!0},i.prototype._getShapePathCalculateCallback=function(){var t=this;return function(){var e=t.__center,n=t.__radius*((t.__pointScale-1)/2+1),i=t.__innerRadius*(1-(t.__pointScale-1)/2),o=t.__startAngle,r=t.__sweepAngle;return t._buildRadialBarShapePath(e,n,i,o,r,t.__pointSpacePolicy,t.__borderRadius)}},i.prototype._buildRadialBarShapePath=function(e,n,i,o,r,l,a){var u=null;return null!=l&&(u=l._buildDonutSegmentWithSpace(e.x,e.y,n,i,o,r,a)),null==u&&(u=t._PathUtility._buildDonutSegmentWithBorderRadius(e.x,e.y,n,i,o,r,a)),u},i}(t._ViewTransitionViewAnimationAction);t._BarRadialPointUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._getBarXyCartesianPointView=function(){return this._animationView},e}(t._CartesianPointAnimationViewCache);t._BarXyCartesianPointAnimationViewCache=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__cache=i,r.__fromRect=n._getBarXyCartesianPointView()._rectangle().clone(),r.__toRect=t._rectangle().clone(),r}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this),this._calcShape(0)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._getBarXyCartesianPointView()._updateRectangle(this.__calcRect.clone())},i.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},i.prototype._calcShape=function(e){var n=this.__fromRect.center.x,i=this.__fromRect.center.y,o=this.__fromRect.width,r=this.__fromRect.height,l=n+(this.__toRect.center.x-n)*e,a=i+(this.__toRect.center.y-i)*e,u=o+(this.__toRect.width-o)*e,s=r+(this.__toRect.height-r)*e;this.__calcRect=new t.core.Rect(l-u/2,a-s/2,u,s),this.view._updateRectangle(this.__calcRect.clone())},i}(t._ViewTransitionViewAnimationAction);t._BarXyCartesianPointUpdateViewAnimationAction=e}(t||(t={})),function(t){t._isBarRadialCartesianPointAnimationViewCache=function(t){return"function"==typeof t._getBarRadialCartesianPointView}}(t||(t={})),function(t){t._isBarXyCartesianPointAnimationViewCache=function(t){return"function"==typeof t._getBarXyCartesianPointView}}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianFlickerEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._FlickerEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flicker&&t._isCartesianPointView(e))return new t._PointViewFlickerEffectAnimationDefinition(e,i,new t._PointViewFlickerEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianFlickerEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianHighlight",this.type=t._BuildInHighlightAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHighlightAnimationOption(n)?n:new t.options._HighlightAnimationOption(n),e instanceof t._BarXyCartesianPointView){var r=new t._BarPointViewHighlightAnimationBuilder(i);return new t._PointViewHighlightAnimationDefinition(e,o,r,r)}if(t._isRadialBarCartesianPointView(e))return r=new t._BarRadialPointViewHighlightAnimationBuilder(i),new t._PointViewHighlightAnimationDefinition(e,o,r,r);if(t._isFunnelCartesianPointView(e))return r=new t._FunnelPointViewHighlightAnimationBuilder(i),new t._PointViewHighlightAnimationDefinition(e,o,r,r);if(t._isCartesianPointView(e)&&t._isSymbolCartesianPointView(e))return r=new t._SymbolPointViewHighlightAnimationBuilder(i),new t._PointViewHighlightAnimationDefinition(e,o,r,r)}return null},e.prototype.queryInterface=function(t){return"IPointViewHighlightAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t.CartesianHighlightAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i,o){return new t._BarPointViewScaleAnimationAction(e,n,i,o,this._cache)},i.prototype._clonePointView=function(e){if(e instanceof t._BarXyCartesianPointView){var n=new t._BarXyCartesianPointView(e._getCartesianSeriesView(),e._data(),null,null);return t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n._updateRectangle(e._rectangle().clone()),n.cloneId(e),n}return null},i}(t._HighlightAnimationBuilder);t._BarPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i,o){return new t._BarRadialPointViewScaleAnimationAction(e,n,i,o,this._cache)},i.prototype._clonePointView=function(e){if(e instanceof t._PolygonalBarCartesianPointView){var n=new t._PolygonalBarCartesianPointView(e._getCartesianSeriesView(),e._data(),null,null);return this._cloneRadialPointViewAttributes(e,n),n}if(t._isRadialBarCartesianPointView(e)){var i=new t._BarRadialCartesianPointView(e._getCartesianSeriesView(),e._data(),null,null);return this._cloneRadialPointViewAttributes(e,i),i}return null},i.prototype._cloneRadialPointViewAttributes=function(e,n){n._setCenter(e._getCenter().clone()),n._setRadius(e._getRadius()),n._setInnerRadius(e._getInnerRadius()),n._setStartAngle(e._getStartAngle()),n._setSweep(e._getSweep()),n._scale=e._scale,t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e)},i}(t._HighlightAnimationBuilder);t._BarRadialPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i,o){return new t._FunnelPointViewScaleAnimationAction(e,n,i,o,this._cache)},i.prototype._clonePointView=function(e){if(e instanceof t._FunnelCartesianPointView){var n=new t._FunnelCartesianPointView(e._getCartesianSeriesView(),e._data(),null);return t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n._setFunnelPolygon(e._getFunnelPolygon().clone()),n.cloneId(e),n}return null},i}(t._HighlightAnimationBuilder);t._FunnelPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i,o){return t._isTextCartesianPointView(e)?null:new t._SymbolPointViewScaleAnimationAction(e,n,i,o,this._cache)},i.prototype._clonePointView=function(e){if(t._isCartesianPointView(e)&&t._isSymbolCartesianPointView(e)){var n=new t._BaseSymbolCartesianPointView(e._getCartesianSeriesView(),e._data(),null);return n._updateRectangle(e._rectangle().clone()),t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n}return null},i}(t._HighlightAnimationBuilder);t._SymbolPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianHover",this.type=t._BuildInHoverAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHoverAnimationOption(n)?n:new t.options._HoverAnimationOption(n),e instanceof t._BarXyCartesianPointView){var r=new t._BarPointViewHoverAnimationBuilder(i);return new t._PointViewHoverAnimationDefinition(e,o,r,r)}if(t._isRadialBarCartesianPointView(e))return r=new t._BarRadialPointViewHoverAnimationBuilder(i),new t._PointViewHoverAnimationDefinition(e,o,r,r);if(t._isFunnelCartesianPointView(e))return r=new t._FunnelPointViewHoverAnimationBuilder(i),new t._PointViewHoverAnimationDefinition(e,o,r,r);if(t._isCartesianPointView(e)&&t._isSymbolCartesianPointView(e))return r=new t._SymbolPointViewHoverAnimationBuilder(i),new t._PointViewHoverAnimationDefinition(e,o,r,r)}return null},e.prototype.queryInterface=function(t){return"IPointViewHoverAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t.CartesianHoverAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._BarPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},i.prototype._clonePointView=function(e){if(e instanceof t._BarXyCartesianPointView){var n=new t._BarXyCartesianPointView(e._getCartesianSeriesView(),e._data(),null,null);return t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n._updateRectangle(e._rectangle().clone()),n.cloneId(e),n}return null},i}(t._HoverAnimationBuilder);t._BarPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._BarRadialPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},i.prototype._clonePointView=function(e){if(e instanceof t._PolygonalBarCartesianPointView){var n=new t._PolygonalBarCartesianPointView(e._getCartesianSeriesView(),e._data(),null,null);return this._cloneRadialPointViewAttributes(e,n),n}if(t._isRadialBarCartesianPointView(e)){var i=new t._BarRadialCartesianPointView(e._getCartesianSeriesView(),e._data(),null,null);return this._cloneRadialPointViewAttributes(e,i),i}return null},i.prototype._cloneRadialPointViewAttributes=function(e,n){n._setCenter(e._getCenter().clone()),n._setRadius(e._getRadius()),n._setInnerRadius(e._getInnerRadius()),n._setStartAngle(e._getStartAngle()),n._setSweep(e._getSweep()),n._scale=e._scale,t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e)},i}(t._HoverAnimationBuilder);t._BarRadialPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._FunnelPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},i.prototype._clonePointView=function(e){if(e instanceof t._FunnelCartesianPointView){var n=new t._FunnelCartesianPointView(e._getCartesianSeriesView(),e._data(),null);return t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n._setFunnelPolygon(e._getFunnelPolygon().clone()),n.cloneId(e),n}return null},i}(t._HoverAnimationBuilder);t._FunnelPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return t._isTextCartesianPointView(e)?null:new t._SymbolPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},i.prototype._clonePointView=function(e){if(e instanceof t._BaseSymbolCartesianPointView){var n=new t._BaseSymbolCartesianPointView(e._getCartesianSeriesView(),e._data(),null);return n._updateRectangle(e._rectangle().clone()),t.CartesianPointViewClone.cloneVertex(n,e),t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n}return null},i}(t._HoverAnimationBuilder);t._SymbolPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="CartesianRippleEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._RippleEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Ripple){if(e instanceof t._BarXyCartesianPointView)return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._BarPointViewRippleEffectAnimationBuilder);if(t._isRadialBarCartesianPointView(e))return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._BarRadialPointViewRippleEffectAnimationBuilder);if(t._isFunnelCartesianPointView(e))return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._FunnelPointViewRippleEffectAnimationBuilder);if(t._isCartesianPointView(e)&&t._isSymbolCartesianPointView(e))return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._SymbolPointViewRippleEffectAnimationBuilder)}}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._CartesianRippleEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this),this.__rect=this.view._rectangle().clone();var n=this.view._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius;this.__path=t._AnimationPathUtility._buildRectangleRingWithBorderRadius(this.__rect,this.__rect,n)},i.prototype._xor=function(t,e){return t!=e},i.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n);var i=this.view._rectangle(),o=this.view._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius,r=n*this._rippleEffectDefinition().scale.value,l=n*(this._rippleEffectDefinition().scale.value-1),a=!this.view._isPositive(),u=this.view._isBaseLinePoint();if(this.view._getCartesianSeriesView()._getCartesianGroupView()._swapAxes()){var s=.5*i.height;this._xor(a,this.view._reversed())?this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel?this.__rect=u?new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+.5*r,i.height+r):new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+r,i.height+r):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage&&(this.__rect=u?new t.core.Rect(i.left-s*l,i.top-s*l,i.width+s*l,i.height+2*s*l):new t.core.Rect(i.left-s*l,i.top-s*l,i.width+2*s*l,i.height+2*s*l)):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel?this.__rect=u?new t.core.Rect(i.left,i.top-.5*r,i.width+.5*r,i.height+r):new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+r,i.height+r):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage&&(this.__rect=u?new t.core.Rect(i.left,i.top-s*l,i.width+s*l,i.height+2*s*l):new t.core.Rect(i.left-s*l,i.top-s*l,i.width+2*s*l,i.height+2*s*l))}else s=.5*i.width,this._xor(a,this.view._reversed())?this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel?this.__rect=u?new t.core.Rect(i.left-.5*r,i.top,i.width+r,i.height+.5*r):new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+r,i.height+r):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage&&(this.__rect=u?new t.core.Rect(i.left-s*l,i.top,i.width+2*s*l,i.height+s*l):new t.core.Rect(i.left-s*l,i.top-s*l,i.width+2*s*l,i.height+2*s*l)):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel?this.__rect=u?new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+r,i.height+.5*r):new t.core.Rect(i.left-.5*r,i.top-.5*r,i.width+r,i.height+r):this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage&&(this.__rect=u?new t.core.Rect(i.left-s*l,i.top-s*l,i.width+2*s*l,i.height+s*l):new t.core.Rect(i.left-s*l,i.top-s*l,i.width+2*s*l,i.height+2*s*l));this.__path=t._AnimationPathUtility._buildRectangleRingWithBorderRadius(this.view._rectangle(),this.__rect,o)},i.prototype._draw=function(e,n){var i=this.view;null!=i&&i._isVisible()&&null!=this.__path&&i._getPlotView()._rectangle().width>0&&i._getPlotView()._rectangle().height>0&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle()),t._OptionUtility._applyStyleOption(e,this._rippleEffectDefinition().style),e.drawPath(this.__path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform())},i}(t._RippleEffectViewAnimationAction);t._BarPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._BarPointRippleEffectViewAnimationAction(e,n,i)},i}(t._PointViewRippleEffectAnimationBuilder);t._BarPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return n(i,e),i.prototype._applyTransformation=function(n){if(e.prototype._applyTransformation.call(this,n),this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel){var i=n*this._rippleEffectDefinition().scale.value;this.__radius=this.view._getRadius()+.5*i,this.__innerRadius=this.view._getInnerRadius()-.5*i}else if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage){var o=n*(this._rippleEffectDefinition().scale.value-1),r=.5*(this.view._getRadius()-this.view._getInnerRadius());this.__radius=this.view._getRadius()+r*o,this.__innerRadius=this.view._getInnerRadius()-r*o}this.__startAngle=this.view._getStartAngle(),this.__sweepAngle=this.view._getSweep(),this.__innerRadius<0&&(this.__innerRadius=0);var l=this.view._getCenter().x,a=this.view._getCenter().y,u=this.view._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius,s=this.view._getPlotView()._getPointSpacePolicy();this.__path=null!=s?s._buildDonutSegmentRingWithSpace(l,a,this.view._getRadius(),this.view._getInnerRadius(),this.__radius,this.__innerRadius,this.__startAngle,this.__sweepAngle,u):t._AnimationPathUtility._buildDonutSegmentRingWithBorderRadius(l,a,this.view._getRadius(),this.view._getInnerRadius(),this.__radius,this.__innerRadius,this.__startAngle,this.__sweepAngle,u)},i.prototype._draw=function(e,n){var i=this.view;null!=i&&i._isVisible()&&null!=this.__path&&i._getPlotView()._rectangle().width>0&&i._getPlotView()._rectangle().height>0&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle()),t._OptionUtility._applyStyleOption(e,this._rippleEffectDefinition().style),e.drawPath(this.__path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform())},i}(t._RippleEffectViewAnimationAction);t._BarRadialPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._BarRadialPointRippleEffectViewAnimationAction(e,n,i)},i}(t._PointViewRippleEffectAnimationBuilder);t._BarRadialPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this),this.__funnelPolygon=this.view._getFunnelPolygon().clone(),this.__path=t._AnimationPathUtility._buildFunnelRingWithBorderRadius(this.view._getFunnelPolygon(),this.__funnelPolygon)},i.prototype._xor=function(t,e){return t!=e},i.prototype._updateFunnelPolygon=function(t,e,n,i,o,r,l,a,u,s,_,p,c){return t.leftTop.x+=e,t.leftNeck.x+=i,t.leftBottom.x+=r,t.leftTop.y+=n,t.leftNeck.y+=o,t.leftBottom.y+=l,t.rightTop.x+=a,t.rightNeck.x+=s,t.rightBottom.x+=p,t.rightTop.y+=u,t.rightNeck.y+=_,t.rightBottom.y+=c,t},i.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n);var i=this.view._getFunnelPolygon().clone(),o=!this.view._isPositive(),r=this.view._isBaseLinePoint(),l=Math.max(i.bottomWidth(),i.topWidth()),a=0;this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel?a=.5*n*this._rippleEffectDefinition().scale.value:this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage&&(a=.5*l*n*(this._rippleEffectDefinition().scale.value-1)),0==i.bottomWidth()?this.view._getCartesianSeriesView()._getCartesianGroupView()._swapAxes()?this._xor(o,this.view._reversed())?i.leftNeck.x==i.leftTop.x?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,-a,a,r?0:a,r?a:0,-a,-a,-a,-a,r?0:a,r?-a:0):this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,-a,a,r?0:a,a,-a,-a,-a,-a,r?0:a,-a):i.leftNeck.x==i.leftTop.x?this.__funnelPolygon=this._updateFunnelPolygon(i,a,a,a,a,r?0:-a,r?a:0,a,-a,a,-a,r?0:-a,r?-a:0):this.__funnelPolygon=this._updateFunnelPolygon(i,a,a,a,a,r?0:-a,a,a,-a,a,-a,r?0:-a,-a):this._xor(o,this.view._reversed())?i.leftNeck.y==i.leftBottom.y?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,r?-a:0,r?0:-a,r?-a:0,r?0:-a,a,a,r?a:0,r?0:a,r?a:0,r?0:a):this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,-a,a,-a,r?0:-a,a,a,a,a,a,r?0:-a):i.leftNeck.y==i.leftBottom.y?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,-a,r?-a:0,r?0:a,r?-a:0,r?0:a,a,-a,r?a:0,r?0:a,r?a:0,r?0:a):this.__funnelPolygon=this._updateFunnelPolygon(i,-a,-a,-a,-a,-a,r?0:a,a,-a,a,-a,a,r?0:a):0==i.topWidth()?this.view._getCartesianSeriesView()._getCartesianGroupView()._swapAxes()?this._xor(o,this.view._reversed())?i.leftNeck.x==i.leftTop.x?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,0,-a,0,r?0:a,a,-a,0,-a,0,r?0:a,-a):this.__funnelPolygon=this._updateFunnelPolygon(i,-a,0,-a,a,r?0:a,a,-a,0,-a,-a,r?0:a,-a):i.leftNeck.x==i.leftTop.x?this.__funnelPolygon=this._updateFunnelPolygon(i,a,0,a,0,r?0:-a,a,a,0,a,0,r?0:-a,-a):this.__funnelPolygon=this._updateFunnelPolygon(i,a,0,a,a,r?0:-a,a,a,0,a,-a,r?0:-a,-a):this._xor(o,this.view._reversed())?i.leftNeck.y==i.leftTop.y?this.__funnelPolygon=this._updateFunnelPolygon(i,0,a,0,a,-a,r?0:-a,0,a,0,a,a,r?0:-a):this.__funnelPolygon=this._updateFunnelPolygon(i,0,a,-a,a,-a,r?0:-a,0,a,a,a,a,r?0:-a):i.leftNeck.y==i.leftTop.y?this.__funnelPolygon=this._updateFunnelPolygon(i,0,-a,0,-a,-a,r?0:a,0,-a,0,-a,a,r?0:a):this.__funnelPolygon=this._updateFunnelPolygon(i,0,-a,-a,-a,-a,r?0:a,0,-a,a,-a,a,r?0:a):this.view._getCartesianSeriesView()._getCartesianGroupView()._swapAxes()?this._xor(o,this.view._reversed())?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,-a,a,r?0:a,a,-a,-a,-a,-a,r?0:a,-a):this.__funnelPolygon=this._updateFunnelPolygon(i,a,a,a,a,r?0:-a,a,a,-a,a,-a,r?0:-a,-a):this._xor(o,this.view._reversed())?this.__funnelPolygon=this._updateFunnelPolygon(i,-a,a,-a,a,-a,r?0:-a,a,a,a,a,a,r?0:-a):this.__funnelPolygon=this._updateFunnelPolygon(i,-a,-a,-a,-a,-a,r?0:a,a,-a,a,-a,a,r?0:a),this.__path=t._AnimationPathUtility._buildFunnelRingWithBorderRadius(this.view._getFunnelPolygon(),this.__funnelPolygon)},i.prototype._draw=function(e,n){var i=this.view;null!=i&&i._isVisible()&&null!=this.__path&&i._getPlotView()._rectangle().width>0&&i._getPlotView()._rectangle().height>0&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle()),t._OptionUtility._applyStyleOption(e,this._rippleEffectDefinition().style),e.drawPath(this.__path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform())},i}(t._RippleEffectViewAnimationAction);t._FunnelPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._FunnelPointRippleEffectViewAnimationAction(e,n,i)},i}(t._PointViewRippleEffectAnimationBuilder);t._FunnelPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return e.showSymbol()?new t._SymbolPointRippleEffectViewAnimationAction(e,n,i):null},i}(t._PointViewRippleEffectAnimationBuilder);t._SymbolPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e,i;e=t.plugins||(t.plugins={}),i=function(i){function o(){return null!==i&&i.apply(this,arguments)||this}return n(o,i),o.prototype._createAnimationViewCache=function(e){if(t._isPointDataLabelFrame(e)){var n=new t.GeneralPointDataLabelFrame(e._pointView(),null);return n._setContent(new t._LabelShape(e._labelShape()._getText())),n._updateTransformInfo(e._getTransformInfo().clone()),new t._DataLabelAnimationViewCache(n)}return i.prototype._createAnimationViewCache.call(this,e)},o.prototype._createUpdateAnimationAction=function(e,n,i,o){if(t._isDataLabelAnimationViewCache(n)&&null!=n._getDataLabelView()._labelShape()&&t._isDataLabelAnimationViewCache(i)&&null!=i._getDataLabelView()._labelShape()){var r=this._createDataLabelUpdateAnimationAction(e,n,i,o);if(null!=r)return r}return null},o.prototype._createDataLabelUpdateAnimationAction=function(t,n,i,o){return new e._DataLabelFrameUpdateViewAnimationAction(t,n,i,o)},o.prototype._getAnimatableViews=function(e){for(var n=[],i=0,o=e._getOverlayViews();i<o.length;i++){var r=o[i];if(t._isDataLabelOverlayView(r))for(var l=0,a=r._labelViews();l<a.length;l++){var u=a[l];t._isPointDataLabelFrame(u)&&n.push(u)}}return n},o.prototype._cloneAnimatableView=function(e){var n=new t.GeneralPointDataLabelFrame(e._pointView(),null);return n._setContent(new t._LabelShape(e._labelShape()._getText())),n._updateTransformInfo(e._getTransformInfo().clone()),n},o}(t._BasePlotViewUpdateAnimationBuilder),e._GCESDataLabelFrameUpdateAnimationBuilder=i}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._getDataLabelView=function(){return this._animationView},e}(t._BaseAnimationViewCache);t._DataLabelAnimationViewCache=e}(t||(t={})),function(t){var e,n;e=t.plugins||(t.plugins={}),n=function(){function n(){this.name="GCESDataLabelUpdate",this.type=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return n.prototype.buildDefinition=function(n,i,o){if(null!=n&&null!=i){var r=t._CastExtension.toAnimationOption(i);if(n instanceof t._BaseCartesianPlotDefinition){var l=new e._GCESDataLabelFrameUpdateAnimationBuilder(o);return new t._PlotViewUpdateAnimationDefinition(n,r,l,l)}if(t._isHierarchicalPlotDefinition(n))return l=new e._GCESDataLabelFrameUpdateAnimationBuilder(o),new t._PlotViewUpdateAnimationDefinition(n,r,l,l)}return null},n.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},n._defaultPlugin=new n,n}(),e._GCESDataLabelUpdateAnimationPlugin=n}(t||(t={})),function(t){t._isDataLabelAnimationViewCache=function(t){return"function"==typeof t._getDataLabelView}}(t||(t={})),function(t){var e,i;e=t.plugins||(t.plugins={}),i=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__cache=i,r._fromText=n._getDataLabelView()._labelShape()._getText(),r._toText=t._labelShape()._getText(),r._fromInfo=r._fromCache._getDataLabelView()._getTransformInfo().clone(),r._toInfo=r.view._getTransformInfo().clone(),r}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this),this._text=this._fromText},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._labelShape()._setText(this._toText),this.__cache._getDataLabelView()._labelShape()._setText(this._toText)},i.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n);var i=t._LerpUtil.lerpString(this._fromText,this._toText,n);this.view._labelShape()._setText(i);var o=this._fromInfo.connectionPoint.x+(this._toInfo.connectionPoint.x-this._fromInfo.connectionPoint.x)*n,r=this._fromInfo.connectionPoint.y+(this._toInfo.connectionPoint.y-this._fromInfo.connectionPoint.y)*n;this.view._getTransformInfo().connectionPoint.x=o,this.view._getTransformInfo().connectionPoint.y=r},i}(t._ViewTransitionViewAnimationAction),e._DataLabelFrameUpdateViewAnimationAction=i}(t||(t={})),function(t){var e=function(){function e(){this.name="LineFlow",this.type=t._BuildInSeriesEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._FlowEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flow&&e instanceof t._LineCartesianSeriesView)return new t._SeriesViewFlowEffectAnimationDefinition(e,i,new t._LineSeriesViewFlowEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineFlowAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i)||this;return r.__effectDefinition=o,r.__pathAnimationAction=new t._PathAnimationAction(r.__effectDefinition),r.__trailSymbols=[],r.__currentSymbol=null,r._isHiddenPhaseBefore=!1,r}return n(i,e),i.prototype._restart=function(){e.prototype._restart.call(this);var t=this._active-this.timing.startDelay,n=this.timing.duration+this.timing.endDelay+this.__effectDefinition.startDelay,i=Math.floor(t/n);this.timing.startDelay+=i*n,this._active=-1,this.__currentSymbol=null},i.prototype._onStart=function(){e.prototype._onStart.call(this);var t=this.view._getCartesianGroupView()._getCartesianPlotView()._coordinateSystemView()._getPlotListView().queryInterface("IDisplayablePipeLine");null!=t&&t._push(this)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this);var t=this.view._getCartesianGroupView()._getCartesianPlotView()._coordinateSystemView()._getPlotListView().queryInterface("IDisplayablePipeLine");null!=t&&t._delete(this),this._restart()},i.prototype.flushables=function(){var t=this.view._getCartesianGroupView()._getCartesianPlotView()._coordinateSystemView()._getPlotListView().queryInterface("IFlushable");return null!=t?[t]:e.prototype.flushables.call(this)},i.prototype._contains=function(t){return!1},i.prototype._cutOff=function(){return!1},i.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n);var i=this.view._getCartesianGroupView()._getCartesianPlotView()._getDefinition();null!=this.__currentSymbol&&(this.__trailSymbols.length>this.__effectDefinition.symbolTrail&&this.__trailSymbols.shift(),null==this.__currentSymbol.style.fillOpacity&&(this.__currentSymbol.style.fillOpacity=1),null==this.__currentSymbol.style.strokeOpacity&&(this.__currentSymbol.style.strokeOpacity=1),this.__trailSymbols.push(this.__currentSymbol));for(var o=[],r=0,l=this.view._getSeriesShapes().map((function(t){return t.clone()}));r<l.length;r++){var a=l[r];o.push.apply(o,t._ShapeUtil._getShapePoints(a))}this.__pathAnimationAction._applyTransformation(n,o),this.__currentSymbol=this.__pathAnimationAction._getSymbol(i._getSymbolDefinitionProviderList())},i.prototype._draw=function(t,e){var n=this.view;if(null!=n&&n._isVisible()){t.beginTransform();for(var i=0;i<this.__trailSymbols.length;i++){var o=this.__trailSymbols[i],r=Math.min(i/this.__trailSymbols.length/2+.1,1);o.style.fillOpacity=r,o.style.strokeOpacity=r,o.render(t,e)}null!=this.__currentSymbol&&this.__currentSymbol.render(t,e),t.restoreTransform()}},i}(t._ViewAnimationAction);t._LineSeriesViewFlowEffectAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){var r=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),l=this._createAnimationAction(e,r,o);return new t._FrameAnimation(n,[l],i,o.iterations,n.startDelay+n.duration+n.endDelay)}return null},e.prototype._createAnimationAction=function(e,n,i){return new t._LineSeriesViewFlowEffectAnimationAction(e,n,i)},e}();t._LineSeriesViewFlowEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="LineLoading",this.type=t._BuildInPlotLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t._LineCartesianPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._LinePlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t,e,n,i,o){this.shape=t,this.points=e,this.centers=n,this.indexs=i,this.swapAxes=o}return e.prototype._onCreate=function(){for(var t=0,e=this.points;t<e.length;t++)e[t]._animationVisible=!1},e.prototype._onStart=function(){for(var t=0,e=this.points;t<e.length;t++){var n=e[t];n._animationVisible=!0,n._scale=0}},e.prototype._onEnd=function(){for(var t=0;t<this.points.length;++t){var e=this.points[t];this._translateTo(e._rectangle(),this.centers[t]),e._scale=1,e._animationVisible=!0}},e.prototype._copyPointsInLine=function(e){return t._ShapeUtil._getShapePoints(e).map((function(t){return t.clone()}))},e.prototype._translateTo=function(t,e){t.left=e.x-t.width/2,t.top=e.y-t.height/2},e.prototype._getAnimationShape=function(e,n,i){var o,r=this._copyPointsInLine(this.shape);o=this.swapAxes?i.x:i.y;for(var l=0,a=r;l<a.length;l++){var u=a[l];this.swapAxes?u.x=(o-u.x)*(1-e)+u.x:u.y=(o-u.y)*(1-e)+u.y}var s=this.points.length;e<0&&(e=0);for(var _=0;_<s;++_){var p=this.points[_];this._translateTo(p._rectangle(),r[this.indexs[_]]),p._scale=e}return new t._PolylineShape(r,null)},e._equal=function(t,e){return Math.abs(t-e)<.001},e._equalsWith=function(t,e){return this._equal(t.x,e.x)&&this._equal(t.y,e.y)},e._build=function(t,e){if(null==t)return null;for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i],l=this._from(r.shape,r.views,e);null!=l&&(n.push(l),l._onCreate())}return n},e._from=function(n,i,o){if(null==n||null==i)return null;for(var r=[],l=[],a=t._ShapeUtil._getShapePoints(n),u=0,s=a.length,_=[],p=0,c=i;p<c.length;p++){var h=c[p];if(h)for(var f=h._rectangle().center;u<s;){if(this._equalsWith(f,a[u])){l.push(u),_.push(h),r.push(f),++u;break}++u}}return _.length==l.length&&_.length>0?new e(n,_,r,l,o):null},e}();t._LineLoadingAnimationGroupClip=e}(t||(t={})),function(t){var e=function(){function e(t,e,n,i){this.shape=t,this.points=e,this.indexs=n,this.staggering=i}return e.prototype._onCreate=function(t,e){this.staggering?this.duration=2/(e+1):this.duration=1/e,this.startTimes=[];for(var n=0,i=this.points.length;n<i;++n){this.points[n]._animationVisible=!1;var o=t+n;this.staggering?this.startTimes.push(o/(e+1)):this.startTimes.push(o/e)}},e.prototype._onEnd=function(){for(var t=0,e=this.points;t<e.length;t++){var n=e[t];n._animationVisible=!0,n._scale=1}},e.prototype._copyPointsInLine=function(e){return t._ShapeUtil._getShapePoints(e).map((function(t){return t.clone()}))},e.prototype._getAnimationShape=function(e){for(var n=this._copyPointsInLine(this.shape),i=!0,o=this.points.length,r=0;r<o;++r){var l=this.points[r],a=this.startTimes[r];if(e<a){if(i){if(0==r)n=[];else{var u=this.startTimes[r-1],s=this.indexs[r-1],_=this.indexs[r],p=(e-u)/(a-u),c=this._lerpPointWithIndex(n,s,_,p),h=Math.floor((_-s)*p)+s+1;n.splice(h),n.push(c)}i=!1}l._animationVisible=!1}else{l._animationVisible=!0;var f=(e-a)/this.duration;(f=.9*f+.1)>1&&(f=1),l._scale=f}}return new t._PolylineShape(n,null)},e.prototype._lerpPointWithIndex=function(t,e,n,i){var o=e+(n-e)*i;return this._lerpPoint(t[Math.floor(o)],t[Math.ceil(o)],i)},e.prototype._lerpPoint=function(t,e,n){var i=t.clone();return i.x+=(e.x-t.x)*n,i.y+=(e.y-t.y)*n,i},e._equal=function(t,e){return Math.abs(t-e)<.001},e._equalsWith=function(t,e){return this._equal(t.x,e.x)&&this._equal(t.y,e.y)},e._build=function(t,e){if(null==t)return null;for(var n=[],i=0,o=0,r=t;o<r.length;o++){var l=r[o];null!=(_=this._from(l.shape,l.views,e))&&(n.push(_),i+=_.points.length)}for(var a=0,u=0,s=n;u<s.length;u++){var _;(_=s[u])._onCreate(a,i),a+=_.points.length}return n},e._from=function(n,i,o){if(null==n||null==i)return null;for(var r=[],l=t._ShapeUtil._getShapePoints(n),a=0,u=l.length,s=[],_=0,p=i;_<p.length;_++){var c=p[_];if(c)for(var h=c._rectangle().center;a<u;){if(this._equalsWith(h,l[a])){r.push(a),s.push(c),++a;break}++a}}return s.length==r.length&&s.length>0?new e(n,s,r,o):null},e}();t._LineLoadingAnimationPointClip=e}(t||(t={})),t||(t={}),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=[],r=t._CartesianPlotViewUtility._calculateSeriesViewCount(e),l=0;return e._traverseCartesianGroupView((function(i,a){for(var u=0,s=i._getCartesianSeriesViews();u<s.length;u++){var _=s[u];if(_ instanceof t._LineCartesianSeriesView){if(null==_._getSeriesShapes())continue;var p=_._getCartesianSeriesDataModel()._symbols(),c=_._getCartesianGroupView()._yAxisView()._scaleModel._getReversed(),h=null;if(p)n.mode===t.AnimationMode.Point?(h=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),d=new t._LineSeriesShapePointClipTransitionViewAnimationAction(_,h,n.staggering),o.push(d)):n.mode===t.AnimationMode.Group?((h=t._ActionTiming._createTiming(n.easing,l,r,n.duration,n.staggering)).startDelay+=n.startDelay,d=new t._LineSeriesShapeGroupClipTransitionViewAnimationAction(_,h,e._swapAxes(),c),o.push(d)):(h=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),d=new t._LineSeriesShapeGroupClipTransitionViewAnimationAction(_,h,e._swapAxes(),c),o.push(d));else{var f=null;n.mode===t.AnimationMode.Group?(f=t._ActionTiming._createTiming(n.easing,l,r,n.duration,n.staggering)).startDelay+=n.startDelay:f=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration);var d=new t._LineSeriesShapeTransitionViewAnimationAction(_,f,e._swapAxes(),n.mode);o.push(d)}}l++}}),null),new t._FrameAnimation(n,o,i)},e}();t._LinePlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n)||this;return r.__shapes=t._getSeriesShapes().map((function(t){return t.clone()})),r.__swapAxes=i,r.__yReversed=o,r.__loadStartPoint=r._getLoadStartPoint(r.__shapes,r.__swapAxes,r.__yReversed),r}return n(i,e),i.prototype._onPending=function(){var n=this;e.prototype._onPending.call(this);var i=this.__shapes.length,o=this._getRelativePointViews(this.view);if(o.length==i){var r=o.map((function(t,e){return{shape:n.__shapes[e],views:t}})),l=t._LineLoadingAnimationGroupClip._build(r,this.__swapAxes).filter((function(t){return null!=t}));this.__clips=l}},i.prototype._onStart=function(){if(e.prototype._onStart.call(this),this.__clips)for(var t=0,n=this.__clips;t<n.length;t++)n[t]._onStart()},i.prototype._onEnd=function(){if(e.prototype._onEnd.call(this),this.__clips){for(var t=0,n=this.__clips;t<n.length;t++)n[t]._onEnd();this.view._setSeriesShapes(this.__shapes),this.__clips=null}},i.prototype._applyScale=function(t){var e=this;this.__clips&&this.view._setSeriesShapes(this.__clips.map((function(n){return n._getAnimationShape(t,e.__yReversed,e.__loadStartPoint)})))},i.prototype._getRelativePointViews=function(t){var e=[];if(null==t||t._getPointViews().length<=0)return e;for(var n=t._getShapePointViews(),i=t._getSeriesShapes().length,o=0;o<i;o++)null!=n[o]&&e.push(n[o]);return e},i.prototype._getLoadStartPoint=function(e,n,i){for(var o=null,r=0,l=e;r<l.length;r++){var a=l[r];n?i?a.points.forEach((function(t){(null==o||t.x>o.x)&&(o=t)})):a.points.forEach((function(t){(null==o||t.x<o.x)&&(o=t)})):i?a.points.forEach((function(t){(null==o||t.y<o.y)&&(o=t)})):a.points.forEach((function(t){(null==o||t.y>o.y)&&(o=t)}))}return null==o&&(o=new t.core.Point(0,0)),o},i}(t._TransitionViewAnimationAction);t._LineSeriesShapeGroupClipTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__staggering=i,o.__shapes=t._getSeriesShapes().map((function(t){return t.clone()})),o}return n(i,e),i.prototype._onPending=function(){var n=this;e.prototype._onPending.call(this);var i=this.__shapes.length,o=this._getRelativePointViews(this.view);if(o.length==i){var r=o.map((function(t,e){return{shape:n.__shapes[e],views:t}})),l=t._LineLoadingAnimationPointClip._build(r,this.__staggering);this.__clips=l}},i.prototype._onEnd=function(){if(e.prototype._onEnd.call(this),this.__clips){for(var t=0,n=this.__clips;t<n.length;t++)n[t]._onEnd();this.view._setSeriesShapes(this.__shapes),this.__clips=null}},i.prototype._applyScale=function(t){this.__clips&&this.view._setSeriesShapes(this.__clips.map((function(e){return e._getAnimationShape(t)})))},i.prototype._getRelativePointViews=function(t){var e=[];if(null==t||t._getPointViews().length<=0)return e;for(var n=t._getShapePointViews(),i=t._getSeriesShapes().length,o=0;o<i;o++)null!=n[o]&&e.push(n[o]);return e},i}(t._TransitionViewAnimationAction);t._LineSeriesShapePointClipTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n)||this;return r.__shapes=r.view._getSeriesShapes().map((function(t){return t.clone()})),r.__swapAxes=i,r.__mode=o,r}return n(i,e),i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._setSeriesShapes(this.__shapes)},i.prototype._applyScale=function(e){var n=this,i=this.__shapes.map((function(t){return t.clone()}));i.forEach((function(i){var o=t._ShapeUtil._getShapePoints(i);if(n.__mode===t.AnimationMode.All||n.__mode===t.AnimationMode.Group){var r=t._ShapeUtil._getShapePoints(i).map((function(t){return t.x})),l=t._ShapeUtil._getShapePoints(i).map((function(t){return t.y})),a=n.__swapAxes?Math.min.apply(Math,r):Math.max.apply(Math,l);o.forEach((function(t){n.__swapAxes?t.x=(a-t.x)*(1-e)+t.x:t.y=(a-t.y)*(1-e)+t.y}))}else{var u=o.length,s=Math.floor(e*u);if(s>0&&s<u){var _=e*u-s,p=o[s-1],c=o[s];c.x=p.x+_*(c.x-p.x),c.y=p.y+_*(c.y-p.y),o.splice(s),o.push(c)}else o.splice(s)}})),this.view._setSeriesShapes(i)},i}(t._TransitionViewAnimationAction);t._LineSeriesShapeTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="LineUpdate",this.type=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._LineCartesianPlotDefinition){var r=new t._LinePlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._LineUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){t._isLineCartesianSeriesAnimationViewCache=function(e){return!!t._isCartesianSeriesAnimationViewCache(e)&&"function"==typeof e._getLineCartesianSeriesView}}(t||(t={})),function(t){var e=function(e){function o(t){var n=e.call(this,t)||this;return n._curveSegments=n._createCurveSegmentAnimationCaches(t),n}return n(o,e),o.prototype._createCurveSegmentAnimationCaches=function(e){if(e._getSeriesShapes().length<=0)return[];for(var n=e._getShapePointViews(),o=[],r=e._getSeriesShapes(),l=0;l<r.length;l++)null!=n[l]&&o.push(new i(t._ShapeUtil._getShapePoints(r[l]),n[l],e.lineAspect));return o},o.prototype._getLineCartesianSeriesView=function(){return this._animationView},o}(t._CartesianSeriesAnimationViewCache);t._LineCartesianSeriesAnimationViewCache=e;var i=function(e,n,i){this._lineAspect=i,this._shape=new t._PolylineShape(e,null),this._cartesianPoints=n.map((function(e){return new t._CartesianPointAnimationViewCache(e)}))}}(t||(t={})),function(t){var e=function(e){function o(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__curveAnimationSegments=r._createCurveAnimationSegments(n,i),r.__shapes=r._fromCache._curveSegments.map((function(t){return t._shape.clone()})),r}return n(o,e),o.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},o.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._setSeriesShapes(this.__shapes),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},o.prototype._applyTransformation=function(t){var n=this;e.prototype._applyTransformation.call(this,t),this.__shapes=t>=1?this.view._getSeriesShapes().map((function(t){return t.clone()})):this.__curveAnimationSegments.map((function(e){return n._calculatePolylineShape(e,t)}))},o.prototype._draw=function(t,e){this.view._renderLineShapes(t,e,this.__shapes)},o.prototype._contains=function(e){var n=!0;return this.__shapes.forEach((function(i){t._ShapeUtil._shapeContainsPoint(i,e)||(n=!1)})),n},o.prototype._cutOff=function(){return!0},o.prototype._createCurveAnimationSegments=function(e,n){for(var o=[],r=0,l=n._curveSegments;r<l.length;r++){for(var a=l[r],u=null,s=0,_=e._curveSegments;s<_.length;s++){var p=_[s];if(null!=(u=this._createCurveAnimationSegment(p,a))){o.push(u);break}}null==u&&(u=new i([],t._ShapeUtil._getShapePoints(a._shape)),o.push(u))}return o},o.prototype._createCurveAnimationSegment=function(e,n){var o=t._ShapeUtil._getShapePoints(e._shape),r=t._ShapeUtil._getShapePoints(n._shape);if(e._lineAspect==t.LineAspect.Default&&n._lineAspect==t.LineAspect.Default){var l=this._findMaxSameArrayOf(e._cartesianPoints,n._cartesianPoints,(function(t,e){return null!=t&&null!=e&&t._value==e._value&&t._dimension==e._dimension}));if(null!=l){for(var a=[],u=[],s=0;s<o.length;s++)s<l.arrayStart&&(a.push(o[s]),u.push(r[l.otherStart]));for(s=0;s<r.length;s++)s<l.otherStart&&(a.push(o[l.arrayStart]),u.push(r[s]));for(s=0;s<o.length;s++)s>=l.arrayStart&&s<=l.arrayEnd&&a.push(o[s]);for(s=0;s<r.length;s++)s>=l.otherStart&&s<=l.otherEnd&&u.push(r[s]);for(s=0;s<r.length;s++)s>l.otherEnd&&(a.push(o[l.arrayEnd]),u.push(r[s]));for(s=0;s<o.length;s++)s>l.arrayEnd&&(a.push(o[s]),u.push(r[l.otherEnd]));return new i(a,u)}}else if(a=void 0,u=void 0,o.length>r.length){if(a=o,null!=(_=n._shape.queryInterface("ILineShapePointsInterpolater")))return 1==(u=_._interpolatePoints(a.length)).length&&(u=[]),new i(a,u)}else{if(!(r.length>o.length))return new i(a=o,u=r);var _;if(u=r,null!=(_=e._shape.queryInterface("ILineShapePointsInterpolater")))return 1==(a=_._interpolatePoints(u.length)).length&&(a=[]),new i(a,u)}return null},o.prototype._calculatePolylineShape=function(e,n){var i=e._toPoints.map((function(t){return null!=t?t.clone():null}));return new t._PolylineShape(i.map((function(t,i){if(i<e._fromPoints.length){var o=(t.x-e._fromPoints[i].x)*n,r=(t.y-e._fromPoints[i].y)*n;t.x=e._fromPoints[i].x+o,t.y=e._fromPoints[i].y+r}return t})),null)},o}(t._CartesianSeriesUpdateViewAnimationAction);t._LineCartesianSeriesUpdateViewAnimationAction=e;var i=function(t,e){this._fromPoints=t,this._toPoints=e}}(t||(t={})),function(t){var e=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return n(o,e),o.prototype._createAnimationViewCache=function(n){if(t._isSeriesView(n)&&t._isLineCartesianSeriesView(n)){var i=new t._LineCartesianSeriesView(n._getCartesianGroupView(),n._getCartesianSeriesDataModel());return null!=n._getSeriesShapes()&&(i._setSeriesShapes(n._getSeriesShapes().map((function(t){return t.clone()}))),i._setShapePointViews(n._getShapePointViews().map((function(t){return t.slice()})))),t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),new t._LineCartesianSeriesAnimationViewCache(i)}return e.prototype._createAnimationViewCache.call(this,n)},o.prototype._createSeriesUpdateAnimationAction=function(n,o,r,l){return t._isLineCartesianSeriesView(n)&&t._isLineCartesianSeriesAnimationViewCache(o)&&t._isLineCartesianSeriesAnimationViewCache(r)&&!i._curveSegmentAnimationCacheArrayEqualityComparer._equalsWith(o._curveSegments,r._curveSegments)?new t._LineCartesianSeriesUpdateViewAnimationAction(n,o,r,l):e.prototype._createSeriesUpdateAnimationAction.call(this,n,o,r,l)},o.prototype._cloneSeriesView=function(n){if(t._isLineCartesianSeriesView(n)){var i=new t._LineCartesianSeriesView(n._getCartesianGroupView(),n._getCartesianSeriesDataModel());return null!=n._getSeriesShapes()&&(i._setSeriesShapes(n._getSeriesShapes().map((function(t){return t.clone()}))),i._setShapePointViews(n._getShapePointViews().map((function(t){return t.slice()})))),t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),i}return e.prototype._cloneSeriesView.call(this,n)},o}(t._BaseSymbolCartesianPlotViewUpdateAnimationBuilder);t._LinePlotViewUpdateAnimationBuilder=e;var i=function(){function e(){}return e.prototype._equalsWith=function(t,e){return t._shape.equalsWith(e._shape)},e._curveSegmentAnimationCacheEqualityComparer=new e,e._curveSegmentAnimationCacheArrayEqualityComparer=new t._ArrayEqualityComparer(e._curveSegmentAnimationCacheEqualityComparer),e}()}(t||(t={})),function(t){var e=function(){function e(){this.name="RadialRotate",this.type=t._BuildInPlotEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n&&t._isCartesianPlotDefinition(e)&&e._getCoordinateSystemType()===t._RadialCartesianCoordinateSystemDefinition._type){var i=new t.options._RotateEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Transform)return new t._PlotViewRotateEffectAnimationDefinition(e,i,new t._RadialPlotViewRotateEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._RadialRotateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),t||(t={}),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.startAngle=n.startAngle,o.endAngle=n.endAngle,o}return n(e,t),e}(t._PlotViewEffectAnimationDefinition);t._PlotViewRotateEffectAnimationDefinition=e}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i,o.startAngle,o.endAngle)||this;return r.__effectDefinition=o,r.__transform=new t.Matrix,r.__center=r.view._getCenter(),r._isHiddenPhaseBefore=!1,r}return n(i,e),i.prototype._restart=function(){e.prototype._restart.call(this);var t=this._active-this.timing.startDelay,n=this.timing.duration+this.timing.endDelay+this.__effectDefinition.startDelay,i=Math.floor(t/n);this.timing.startDelay+=i*n,this._active=-1},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._coordinateSystemView()._getPlotListView()._transform=null,this._restart()},i.prototype._applyScale=function(t){e.prototype._applyScale.call(this,t);var n=t,i=this.__transform.clone();i.rotate(n,this.__center),this.view._coordinateSystemView()._getPlotListView()._transform=i},i}(t._TransitionViewAnimationAction);t._RadialPlotViewRotateEffectAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){var r=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),l=this._createAnimationAction(e,r,o);return new t._FrameAnimation(n,[l],i,o.iterations,n.startDelay+n.duration+n.endDelay)}return null},e.prototype._createAnimationAction=function(e,n,i){return new t._RadialPlotViewRotateEffectAnimationAction(e,n,i)},e}();t._RadialPlotViewRotateEffectAnimationBuilder=e}(t||(t={})),function(t){t.options||(t.options={})}(t||(t={})),function(t){var e,i;e=t.options||(t.options={}),i=function(e){function i(n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var o=e.call(this,null,i)||this;return o.__startAngle=0,o.__endAngle=0,null!=n&&t.OptionSerializer.deserialize(o,n),o}return n(i,e),Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.__startAngle},set:function(t){null!=this.__startAngle&&this.__startAngle==t||(this.__startAngle=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"endAngle",{get:function(){return this.__endAngle},set:function(t){null!=this.__endAngle&&this.__endAngle==t||(this.__endAngle=t)},enumerable:!1,configurable:!0}),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"startAngle",null),o([t.JsonConverterAttribute(t._NumberConverter,!0,0)],i.prototype,"endAngle",null),i}(e._EffectAnimationOption),e._RotateEffectAnimationOption=i}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n){return new t._SymbolPointScaleTransitionViewAnimationAction(e,n,0,1,!1)},i}(t._CartesianPlotViewLoadingAnimationBuilder);t._ScatterPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){void 0===i&&(i=0),void 0===o&&(o=1),void 0===r&&(r=!0);var l=e.call(this,t,n,i,o)||this;return l.__rect=t._rectangle().clone(),l.__fillAfter=r,l}return n(i,e),i.prototype._onStart=function(){e.prototype._onStart.call(this),this.__currentTo=this._from},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__fillAfter||(this.view._scale=this._to,null!=this.__rect&&t._isRectangleViewUpdater(this.view)&&this.view._update(this.__rect.clone()))},i.prototype._applyScale=function(t){e.prototype._applyScale.call(this,t),this.__currentTo=t,this.view._scale=t},i.prototype.reverse=function(){var e=new t._ActionTiming(this.timing.ease,0,0,this.timing.duration);return new i(this.view,e,this.__currentTo,this._from,!1)},i}(t._TransitionViewAnimationAction);t._SymbolPointScaleTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ScatterLoading",this.type=t._BuildInPlotLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t._ScatterCartesianPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._ScatterPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t._BaseSymbolCartesianPlotViewUpdateAnimationBuilder);t._ScatterPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="ScatterUpdate",this.type=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._ScatterCartesianPlotDefinition){var r=new t._ScatterPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._ScatterUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){for(var o=[],r=0,l=e._getPointViews();r<l.length;r++){var a=l[r],u=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),s=this._createAnimationAction(a,u);o.push(s)}return new t._FrameAnimation(n,o,i)},e.prototype._createAnimationAction=function(e,n){return new t._TextPointContentTransitionViewAnimationAction(e,n)},e}();t._TextPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i){void 0===i&&(i=0);var o=e.call(this,t,n)||this;return o.__fromNumber=i,o._isHiddenPhaseBefore=!1,o}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this),this.__textNumber=this.view._textContent().number,this._applyTransformation(0)},i.prototype._onStart=function(){e.prototype._onStart.call(this),this.view._textContent().number=this.__fromNumber},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._textContent().number=this.__textNumber},i.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),this.view._textContent().number=t._LerpUtil.lerpNumber(this.__fromNumber,this.__textNumber,n)},i}(t._TransitionViewAnimationAction);t._TextPointContentTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TextLoading",this.type=t._BuildInPlotLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t._TextCartesianPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._TextPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isTextCartesianPointAnimationViewCache=function(t){return"function"==typeof t._getTextCartesianPointView}}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._getTextCartesianPointView=function(){return this._animationView},e}(t._CartesianPointAnimationViewCache);t._TextCartesianPointAnimationViewCache=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationViewCache=function(n){return t._isPointView(n)&&t._isTextCartesianPointView(n)?new t._TextCartesianPointAnimationViewCache(n._clone()):e.prototype._createAnimationViewCache.call(this,n)},i.prototype._createPointUpdateAnimationAction=function(e,n,i,o){if(t._isTextCartesianPointAnimationViewCache(n)&&t._isTextCartesianPointAnimationViewCache(i)){var r=n._getTextCartesianPointView()._textContent(),l=i._getTextCartesianPointView()._textContent();if(r instanceof t._TextNumbericContent&&l instanceof t._TextNumbericContent)return new t._TextPointContentUpdateViewAnimationAction(e,n,i,o)}return null},i.prototype._getAnimatableViews=function(t){return t._visualViews},i.prototype._cloneAnimatableView=function(t){return t._clone()},i}(t._BaseCartesianPlotViewUpdateAnimationBuilder);t._TextPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__cache=i,r.__fromNumber=n._getTextCartesianPointView()._textContent().number,r.__toNumber=r.view._textContent().number,r.__fromNumber==r.__toNumber&&(r.timing=null),r}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this),this.view._textContent().number=this.__fromNumber},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._getTextCartesianPointView()._textContent().number=this.__toNumber},i.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n),this.view._textContent().number=t._LerpUtil.lerpNumber(this.__fromNumber,this.__toNumber,n)},i}(t._ViewTransitionViewAnimationAction);t._TextPointContentUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TextUpdate",this.type=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t._TextCartesianPlotDefinition){var r=new t._TextPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TextUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o,r){var l=e.call(this,t,n,i,o,r)||this;return l.__originRect=null,l}return n(i,e),i.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;i instanceof t._StockPointView&&(this.__originRect=i._rectangle().clone())}},i.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),null!=this.__originRect&&(this._type==t.AnimationKeyFramesType.Percentage?(this.view._rectangle().top=this.__originRect.top-(n-1)*this.__originRect.height/2,this.view._rectangle().height=n*this.__originRect.height):(this.view._rectangle().top=this.__originRect.top-n/2,this.view._rectangle().height=this.__originRect.height+n))},i}(t._PointViewScaleAnimationAction);t._StockPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__cache=i,r.__fromTopLineStart=null!=n._getCandlestickPointView()._getTopLineStart()?n._getCandlestickPointView()._getTopLineStart().clone():null,r.__fromTopLineEnd=null!=n._getCandlestickPointView()._getTopLineEnd()?n._getCandlestickPointView()._getTopLineEnd().clone():null,r.__fromBottomLineStart=null!=n._getCandlestickPointView()._getBottomLineStart()?n._getCandlestickPointView()._getBottomLineStart().clone():null,r.__fromBottomLineEnd=null!=n._getCandlestickPointView()._getBottomLineEnd()?n._getCandlestickPointView()._getBottomLineEnd().clone():null,r.__fromRect=n._getCandlestickPointView()._rectangle().clone(),r.__topLineStart=null!=n._getCandlestickPointView()._getTopLineStart()?n._getCandlestickPointView()._getTopLineStart().clone():null,r.__topLineEnd=null!=n._getCandlestickPointView()._getTopLineEnd()?n._getCandlestickPointView()._getTopLineEnd().clone():null,r.__bottomLineStart=null!=n._getCandlestickPointView()._getBottomLineStart()?n._getCandlestickPointView()._getBottomLineStart().clone():null,r.__bottomLineEnd=null!=n._getCandlestickPointView()._getBottomLineEnd()?n._getCandlestickPointView()._getBottomLineEnd().clone():null,r.__rect=n._getCandlestickPointView()._rectangle().clone(),r.__toTopLineStart=null!=t._getTopLineStart()?t._getTopLineStart().clone():null,r.__toTopLineEnd=null!=t._getTopLineEnd()?t._getTopLineEnd().clone():null,r.__toBottomLineStart=null!=t._getBottomLineStart()?t._getBottomLineStart().clone():null,r.__toBottomLineEnd=null!=t._getBottomLineEnd()?t._getBottomLineEnd().clone():null,r.__toRect=t._rectangle().clone(),r.__fromTopLineStart&&r.__fromTopLineStart.equalsWith(r.__toTopLineStart)&&r.__fromTopLineEnd&&r.__fromTopLineEnd.equalsWith(r.__toTopLineEnd)&&r.__fromBottomLineStart&&r.__fromBottomLineStart.equalsWith(r.__toBottomLineStart)&&r.__fromBottomLineEnd&&r.__fromBottomLineEnd.equalsWith(r.__toBottomLineEnd)&&r.__fromRect.equalsWith(r.__toRect)&&(r.timing=null),r}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._getCandlestickPointView()._setTopLineStart(this.__topLineStart),this.__cache._getCandlestickPointView()._setTopLineEnd(this.__topLineEnd),this.__cache._getCandlestickPointView()._setBottomLineStart(this.__bottomLineStart),this.__cache._getCandlestickPointView()._setBottomLineEnd(this.__bottomLineEnd),this.__cache._getCandlestickPointView()._updateRectangle(this.__rect.clone()),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},i.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},i.prototype._calcShape=function(e){if(null!=this.__topLineStart&&null!=this.__topLineEnd){var n=(this.__toTopLineStart.x-this.__fromTopLineStart.x)*e,i=(this.__toTopLineStart.y-this.__fromTopLineStart.y)*e,o=(this.__toTopLineEnd.x-this.__fromTopLineEnd.x)*e,r=(this.__toTopLineEnd.y-this.__fromTopLineEnd.y)*e;this.__topLineStart=new t.core.Point(this.__fromTopLineStart.x+n,this.__fromTopLineStart.y+i),this.__topLineEnd=new t.core.Point(this.__fromTopLineEnd.x+o,this.__fromTopLineEnd.y+r)}if(null!=this.__bottomLineStart&&null!=this.__bottomLineEnd){var l=(this.__toBottomLineStart.x-this.__fromBottomLineStart.x)*e,a=(this.__toBottomLineStart.y-this.__fromBottomLineStart.y)*e,u=(this.__toBottomLineEnd.x-this.__fromBottomLineEnd.x)*e,s=(this.__toBottomLineEnd.y-this.__fromBottomLineEnd.y)*e;this.__bottomLineStart=new t.core.Point(this.__fromBottomLineStart.x+l,this.__fromBottomLineStart.y+a),this.__bottomLineEnd=new t.core.Point(this.__fromBottomLineEnd.x+u,this.__fromBottomLineEnd.y+s)}var _=(this.__toRect.left-this.__fromRect.left)*e,p=(this.__toRect.top-this.__fromRect.top)*e,c=(this.__toRect.width-this.__fromRect.width)*e,h=(this.__toRect.height-this.__fromRect.height)*e;this.__rect=new t.core.Rect(this.__fromRect.left+_,this.__fromRect.top+p,this.__fromRect.width+c,this.__fromRect.height+h)},i.prototype._draw=function(t,e){null!=this.__topLineStart&&null!=this.__topLineEnd&&(this.__topLineStart.equalsWith(this.__topLineEnd)?this.__topLineStart.y!=this.__rect.top&&t.drawLine(this.__topLineStart.x,this.__topLineStart.y,this.__topLineEnd.x,this.__topLineEnd.y+1):t.drawLine(this.__topLineStart.x,this.__topLineStart.y,this.__topLineEnd.x,this.__topLineEnd.y)),null!=this.__bottomLineStart&&null!=this.__bottomLineEnd&&(this.__bottomLineStart.equalsWith(this.__bottomLineEnd)?this.__bottomLineStart.y!=this.__rect.bottom&&t.drawLine(this.__bottomLineStart.x,this.__bottomLineStart.y,this.__bottomLineEnd.x,this.__bottomLineEnd.y+1):t.drawLine(this.__bottomLineStart.x,this.__bottomLineStart.y,this.__bottomLineEnd.x,this.__bottomLineEnd.y)),0!=this.__rect.height?t.drawRect(this.__rect.left,this.__rect.top,this.__rect.width,this.__rect.height):t.drawLine(this.__rect.left,this.__rect.top,this.__rect.left+this.__rect.width,this.__rect.top)},i.prototype._contains=function(e){var n=[],i=[];null!=this.__topLineStart&&null!=this.__topLineEnd&&(n.push(this.__topLineStart.y,this.__topLineEnd.y),i.push(this.__topLineStart.y,this.__topLineEnd.y)),null!=this.__bottomLineStart&&null!=this.__bottomLineEnd&&(n.push(this.__bottomLineStart.y,this.__bottomLineEnd.y),i.push(this.__bottomLineStart.y,this.__bottomLineEnd.y)),0!=this.__rect.left&&0!=this.__rect.top&&0!=this.__rect.width&&0!=this.__rect.height&&(n.push(this.__rect.top),i.push(this.__rect.bottom));var o=Math.min.apply(Math,n)-t._CandlestickPointView.__padding,r=Math.max.apply(Math,i)+t._CandlestickPointView.__padding;return 0==this.__rect.left&&0==this.__rect.top&&0==this.__rect.width&&0==this.__rect.height?new t.core.Rect(this.__topLineStart.x-t._CandlestickPointView.__padding,o,2*t._CandlestickPointView.__padding,r-o).contains(e):new t.core.Rect(this.__rect.left,o,this.__rect.width,r-o).contains(e)},i.prototype._cutOff=function(){return!0},i}(t._ViewTransitionViewAnimationAction);t._CandlestickUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__cache=i,r.__fromHighLowStart=null!=n._getHlocPointView()._highLowStart()?n._getHlocPointView()._highLowStart().clone():null,r.__fromHighLowEnd=null!=n._getHlocPointView()._highLowEnd()?n._getHlocPointView()._highLowEnd().clone():null,r.__fromOpenStart=null!=n._getHlocPointView()._openStart()?n._getHlocPointView()._openStart().clone():null,r.__fromOpenEnd=null!=n._getHlocPointView()._openEnd()?n._getHlocPointView()._openEnd().clone():null,r.__fromCloseStart=null!=n._getHlocPointView()._closeStart()?n._getHlocPointView()._closeStart().clone():null,r.__fromCloseEnd=null!=n._getHlocPointView()._closeEnd()?n._getHlocPointView()._closeEnd().clone():null,r.__highLowStart=null!=n._getHlocPointView()._highLowStart()?n._getHlocPointView()._highLowStart().clone():null,r.__highLowEnd=null!=n._getHlocPointView()._highLowEnd()?n._getHlocPointView()._highLowEnd().clone():null,r.__openStart=null!=n._getHlocPointView()._openStart()?n._getHlocPointView()._openStart().clone():null,r.__openEnd=null!=n._getHlocPointView()._openEnd()?n._getHlocPointView()._openEnd().clone():null,r.__closeStart=null!=n._getHlocPointView()._closeStart()?n._getHlocPointView()._closeStart().clone():null,r.__closeEnd=null!=n._getHlocPointView()._closeEnd()?n._getHlocPointView()._closeEnd().clone():null,r.__toHighLowStart=null!=t._highLowStart()?t._highLowStart().clone():null,r.__toHighLowEnd=null!=t._highLowEnd()?t._highLowEnd().clone():null,r.__toOpenStart=null!=t._openStart()?t._openStart().clone():null,r.__toOpenEnd=null!=t._openEnd()?t._openEnd().clone():null,r.__toCloseStart=null!=t._closeStart()?t._closeStart().clone():null,r.__toCloseEnd=null!=t._closeEnd()?t._closeEnd().clone():null,r.__fromHighLowStart&&r.__fromHighLowStart.equalsWith(r.__toHighLowStart)&&r.__fromHighLowEnd&&r.__fromHighLowEnd.equalsWith(r.__toHighLowEnd)&&r.__fromOpenStart&&r.__fromOpenStart.equalsWith(r.__toOpenStart)&&r.__fromOpenEnd&&r.__fromOpenEnd.equalsWith(r.__toOpenEnd)&&r.__fromCloseStart&&r.__fromCloseStart.equalsWith(r.__toCloseStart)&&r.__fromCloseEnd&&r.__fromCloseEnd.equalsWith(r.__toCloseEnd)&&(r.timing=null),r}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache instanceof t._HlocPointView&&(this.__cache._setHighLowStart(this.__highLowStart),this.__cache._setHighLowEnd(this.__highLowEnd),this.__cache._setOpenStart(this.__openStart),this.__cache._setOpenEnd(this.__openEnd),this.__cache._setCloseStart(this.__closeStart),this.__cache._setCloseEnd(this.__closeEnd)),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},i.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},i.prototype._calcShape=function(e){if(null!=this.__fromHighLowStart&&null!=this.__fromHighLowEnd&&null!=this.__toHighLowStart&&null!=this.__toHighLowEnd){var n=(this.__toHighLowStart.x-this.__fromHighLowStart.x)*e,i=(this.__toHighLowStart.y-this.__fromHighLowStart.y)*e,o=(this.__toHighLowEnd.x-this.__fromHighLowEnd.x)*e,r=(this.__toHighLowEnd.y-this.__fromHighLowEnd.y)*e;this.__highLowStart=new t.core.Point(this.__fromHighLowStart.x+n,this.__fromHighLowStart.y+i),this.__highLowEnd=new t.core.Point(this.__fromHighLowEnd.x+o,this.__fromHighLowEnd.y+r)}if(null!=this.__fromOpenStart&&null!=this.__fromOpenEnd&&null!=this.__toOpenStart&&null!=this.__toOpenEnd){var l=(this.__toOpenStart.x-this.__fromOpenStart.x)*e,a=(this.__toOpenStart.y-this.__fromOpenStart.y)*e,u=(this.__toOpenEnd.x-this.__fromOpenEnd.x)*e,s=(this.__toOpenEnd.y-this.__fromOpenEnd.y)*e;this.__openStart=new t.core.Point(this.__fromOpenStart.x+l,this.__fromOpenStart.y+a),this.__openEnd=new t.core.Point(this.__fromOpenEnd.x+u,this.__fromOpenEnd.y+s)}if(null!=this.__fromCloseStart&&null!=this.__fromCloseEnd&&null!=this.__toCloseStart&&null!=this.__toCloseEnd){var _=(this.__toCloseStart.x-this.__fromCloseStart.x)*e,p=(this.__toCloseStart.y-this.__fromCloseStart.y)*e,c=(this.__toCloseEnd.x-this.__fromCloseEnd.x)*e,h=(this.__toCloseEnd.y-this.__fromCloseEnd.y)*e;this.__closeStart=new t.core.Point(this.__fromCloseStart.x+_,this.__fromCloseStart.y+p),this.__closeEnd=new t.core.Point(this.__fromCloseEnd.x+c,this.__fromCloseEnd.y+h)}},i.prototype._draw=function(t,e){null!=this.__highLowStart&&null!=this.__highLowEnd&&t.drawLine(this.__highLowStart.x,this.__highLowStart.y,this.__highLowEnd.x,this.__highLowEnd.y),null!=this.__openStart&&null!=this.__openEnd&&(this.__openStart.equalsWith(this.__openEnd)||t.drawLine(this.__openStart.x,this.__openStart.y,this.__openEnd.x,this.__openEnd.y)),null!=this.__closeStart&&null!=this.__closeEnd&&(this.__closeStart.equalsWith(this.__closeEnd)||t.drawLine(this.__closeStart.x,this.__closeStart.y,this.__closeEnd.x,this.__closeEnd.y))},i.prototype._contains=function(e){var n=[],i=[];if(null!=this.__highLowStart&&(n.push(this.__highLowStart.x),i.push(this.__highLowStart.y)),null!=this.__highLowEnd&&(n.push(this.__highLowEnd.x),i.push(this.__highLowEnd.y)),null!=this.__openStart&&(n.push(this.__openStart.x),i.push(this.__openStart.y)),null!=this.__openEnd&&(n.push(this.__openEnd.x),i.push(this.__openEnd.y)),null!=this.__closeStart&&(n.push(this.__closeStart.x),i.push(this.__closeStart.y)),null!=this.__closeEnd&&(n.push(this.__closeEnd.x),i.push(this.__closeEnd.y)),n.length>0&&i.length>0)for(var o=new t.core.Rect(Math.min.apply(Math,n),Math.min.apply(Math,i),Math.max.apply(Math,n)-Math.min.apply(Math,n),Math.max.apply(Math,i)-Math.min.apply(Math,i)),r=0,l=[new t.core.Rect(this.__openStart.x,this.__openStart.y-t._HlocPointView.__padding,o.width/2,2*t._HlocPointView.__padding),new t.core.Rect(this.__closeStart.x,this.__closeStart.y-t._HlocPointView.__padding,o.width/2,2*t._HlocPointView.__padding),new t.core.Rect(this.__highLowStart.x-t._HlocPointView.__padding,this.__highLowStart.y-t._HlocPointView.__padding,2*t._HlocPointView.__padding,this.__highLowEnd.y-this.__highLowStart.y+2*t._HlocPointView.__padding)];r<l.length;r++)if(l[r].contains(e))return!0;return!1},i.prototype._cutOff=function(){return!0},i}(t._ViewTransitionViewAnimationAction);t._HlocUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i,o){return new t._StockPointViewScaleAnimationAction(e,n,i,o,this._cache)},i.prototype._clonePointView=function(e){if(e instanceof t._StockPointView){var n=new t._StockPointView(e._getCartesianSeriesView(),e._data(),null);return n._updateRectangle(e._rectangle().clone()),n.cloneId(e),n}return null},i}(t._HighlightAnimationBuilder);t._StockPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="StockHighlight",this.type=t._BuildInHighlightAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHighlightAnimationOption(n)?n:new t.options._HighlightAnimationOption(n),e instanceof t._StockPointView){var r=new t._StockPointViewHighlightAnimationBuilder(i);return new t._PointViewHighlightAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHighlightAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockHighlightAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._StockPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},i.prototype._clonePointView=function(e){if(e instanceof t._StockPointView){var n=new t._StockPointView(e._getCartesianSeriesView(),e._data(),null);return n._updateRectangle(e._rectangle().clone()),n.cloneId(e),n}return null},i}(t._HoverAnimationBuilder);t._StockPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="StockHover",this.type=t._BuildInHoverAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHoverAnimationOption(n)?n:new t.options._HoverAnimationOption(n),e instanceof t._StockPointView){var r=new t._StockPointViewHoverAnimationBuilder(i);return new t._PointViewHoverAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHoverAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockHoverAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(t){this._plotView=t}return e.prototype._compare=function(t,e){var n=this._rectangle(t),i=this._rectangle(e);return this._plotView._swapAxes()?this._plotView._reversed()?n.bottom<i.bottom?1:n.bottom>i.bottom?-1:n.left<i.left?1:-1:n.top>i.top?1:n.top<i.top?-1:n.left>i.left?1:-1:n.left>i.left?1:n.left<i.left?-1:this._plotView._reversed()?n.bottom>i.bottom?1:-1:n.bottom<i.bottom?1:-1},e.prototype._rectangle=function(e){if(t._isCartesianPointView(e))return e._rectangle();if(t._isCartesianSeriesView(e))return e._rectangle();throw new t.RuntimeError(t.ErrorCode.Unknown)},e}(),n=function(){function n(){}return n.prototype.buildAnimation=function(n,i,o){var r=[],l=n._visualViews.filter((function(e){return t._isPointView(e)||t._isCartesianSeriesView(e)}));if(i.mode===t.AnimationMode.Point){var a=new e(n);l.sort((function(t,e){return a._compare(t,e)}))}var u=l.filter((function(e){return e instanceof t._StockPointView}));n instanceof t.financial._BaseStockPlotView&&n._xAxisView()._scaleModel._getReversed()&&u.reverse();var s=u.length;return u.forEach((function(e,n){if(0!=e._isVisible()&&e instanceof t._StockPointView){var o=null;i.mode===t.AnimationMode.All||i.mode===t.AnimationMode.Group?o=new t._ActionTiming(i.easing,i.startDelay,i.endDelay,i.duration):(o=t._ActionTiming._createTiming(i.easing,n,s,i.duration,i.staggering)).startDelay+=i.startDelay;var l=new t._StockTransitionViewAnimationAction(e,o,e._rectangle());r.push(l)}})),new t._FrameAnimation(i,r,o)},n}();t._StockPlotViewLoadingAnimationBuilder=n}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n)||this;return o.__rect=i.clone(),o}return n(i,e),i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.view._scale=this._to},i.prototype._applyScale=function(e){var n=this.__rect.clone();t._isRectangleViewUpdater(this.view)&&this.view._update(new t.core.Rect(n.left+(1-e)*n.width/2,n.top+(1-e)*n.height/2,e*n.width,e*n.height))},i}(t._TransitionViewAnimationAction);t._StockTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="StockLoading",this.type=t._BuildInPlotLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n&&e instanceof t.financial.models._BaseStockPlotDefinition){var i=t._CastExtension.toAnimationOption(n);return new t._PlotViewLoadingAnimationDefinition(e,i,new t._StockPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.buildAnimation=function(n,i,o){var r=e.prototype.buildAnimation.call(this,n,i,o);if(null!=r){for(var l=!1,a=0,u=r.actions;a<u.length;a++)if((h=u[a])instanceof t._StockTransitionViewAnimationAction){l=!0;break}if(l)for(var s=new t._ActionTiming(i.easing,i.startDelay+i.duration/3,i.endDelay,2*i.duration/3),_=new t._ActionTiming(i.easing,i.startDelay,i.endDelay,2*i.duration/3),p=0,c=r.actions;p<c.length;p++){var h;(h=c[p])instanceof t._StockTransitionViewAnimationAction?h.timing=s:h.timing=_}}return r},i.prototype._createAppearAnimationAction=function(n,i){return n instanceof t._StockPointView?new t._StockTransitionViewAnimationAction(n,i,n._rectangle()):e.prototype._createAppearAnimationAction.call(this,n,i)},i}(t._BaseCartesianPlotViewUpdateAnimationBuilder);t._BaseStockPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationViewCache=function(n){if(t._isCartesianPointView(n)){var i=new t._CandlestickPointView(n._getCartesianSeriesView(),n._data(),null);return t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),i._setTopLineStart(n._getTopLineStart()),i._setTopLineEnd(n._getTopLineEnd()),i._setBottomLineStart(n._getBottomLineStart()),i._setBottomLineEnd(n._getBottomLineEnd()),i._updateRectangle(n._rectangle().clone()),new t._CandlestickPointAnimationViewCache(i)}return e.prototype._createAnimationViewCache.call(this,n)},i.prototype._createPointUpdateAnimationAction=function(e,n,i,o){return t._isStockPointView(e)&&t._isCandlestickPointView(e)&&t._isCandlestickPointAnimationViewCache(n)&&t._isCandlestickPointAnimationViewCache(i)?new t._CandlestickUpdateViewAnimationAction(e,n,i,o):null},i.prototype._clonePointView=function(e){var n=new t._CandlestickPointView(e._getCartesianSeriesView(),e._data(),null);return t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n._setTopLineStart(e._getTopLineStart()),n._setTopLineEnd(e._getTopLineEnd()),n._setBottomLineStart(e._getBottomLineStart()),n._setBottomLineEnd(e._getBottomLineEnd()),n._updateRectangle(e._rectangle().clone()),n},i}(t._BaseStockPlotViewUpdateAnimationBuilder);t._CandlestickPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._getCandlestickPointView=function(){return this._animationView},e}(t._CartesianPointAnimationViewCache);t._CandlestickPointAnimationViewCache=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationViewCache=function(n){if(t._isCartesianPointView(n)){var i=new t._HlocPointView(n._getCartesianSeriesView(),n._data(),null);return t.CartesianPointViewClone.cloneBaseInfo(i,n),i.cloneId(n),i._setHighLowStart(n._highLowStart()),i._setHighLowEnd(n._highLowEnd()),i._setOpenStart(n._openStart()),i._setOpenEnd(n._openEnd()),i._setCloseStart(n._closeStart()),i._setCloseEnd(n._closeEnd()),new t._HlocPointAnimationViewCache(i)}return e.prototype._createAnimationViewCache.call(this,n)},i.prototype._createPointUpdateAnimationAction=function(e,n,i,o){return t._isStockPointView(e)&&t._isHlocPointView(e)&&t._isHlocPointAnimationViewCache(n)&&t._isHlocPointAnimationViewCache(i)?new t._HlocUpdateViewAnimationAction(e,n,i,o):null},i.prototype._clonePointView=function(e){var n=new t._HlocPointView(e._getCartesianSeriesView(),e._data(),null);return t.CartesianPointViewClone.cloneBaseInfo(n,e),n.cloneId(e),n._setHighLowStart(e._highLowStart()),n._setHighLowEnd(e._highLowEnd()),n._setOpenStart(e._openStart()),n._setOpenEnd(e._openEnd()),n._setCloseStart(e._closeStart()),n._setCloseEnd(e._closeEnd()),n},i}(t._BaseStockPlotViewUpdateAnimationBuilder);t._HlocPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._getHlocPointView=function(){return this._animationView},e}(t._CartesianPointAnimationViewCache);t._HlocPointAnimationViewCache=e}(t||(t={})),function(t){t._isCandlestickPointAnimationViewCache=function(t){return"function"==typeof t._getCandlestickPointView}}(t||(t={})),function(t){t._isHlocPointAnimationViewCache=function(t){return"function"==typeof t._getHlocPointView}}(t||(t={})),function(t){var e=function(){function e(){this.name="StockUpdate",this.type=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t.financial.models._CandlestickPlotDefinition){var r=new t._CandlestickPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}if(e instanceof t.financial.models._HlocPlotDefinition)return r=new t._HlocPlotViewUpdateAnimationBuilder(i),new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._StockUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),this._type===t.AnimationKeyFramesType.Percentage&&(this.view._scale=n)},i}(t._PointViewScaleAnimationAction);t._GraphPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="GraphHighlight",this.type=t._BuildInHighlightAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHighlightAnimationOption(n)?n:new t.options._HighlightAnimationOption(n),e instanceof t._GraphPointView){var r=new t._GraphPointViewHighlightAnimationBuilder(i);return new t._PointViewHighlightAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHighlightAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphHighlightAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i,o){return new t._GraphPointViewScaleAnimationAction(e,n,i,o,this._cache)},i.prototype._clonePointView=function(t){return t},i}(t._HighlightAnimationBuilder);t._GraphPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="GraphHover",this.type=t._BuildInHoverAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHoverAnimationOption(n)?n:new t.options._HoverAnimationOption(n),e instanceof t._GraphPointView){var r=new t._GraphPointViewHoverAnimationBuilder(i);return new t._PointViewHoverAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHoverAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphHoverAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._GraphPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},i.prototype._clonePointView=function(t){return t},i}(t._HoverAnimationBuilder);t._GraphPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="PlotFlow",this.type=t._BuildInPlotEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._RouteFlowEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flow&&t._isGraphPlotDefinition(e))return new t._PlotViewFlowEffectAnimationDefinition(i,new t._GraphPlotViewRouteFlowEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphPlotFlowAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(n,i,o){var r=e.call(this,n,i)||this;r.__effectDefinition=o,r.__pathAnimationAction=new t._PathAnimationAction(r.__effectDefinition);for(var l=[],a=0,u=r.__effectDefinition.route;a<u.length;a++){var s=u[a];l.push(new t.core.Point(s[0],s[1]))}return r.__points=l,r.__trailSymbols=[],r.__currentSymbol=null,r._isHiddenPhaseBefore=!1,r}return n(i,e),i.prototype._restart=function(){e.prototype._restart.call(this);var t=this._active-this.timing.startDelay,n=this.timing.duration+this.timing.endDelay+this.__effectDefinition.startDelay,i=Math.floor(t/n);this.timing.startDelay+=i*n,this._active=-1,this.__currentSymbol=null},i.prototype._onStart=function(){e.prototype._onStart.call(this);var t=this.view._coordinateSystemView()._getPlotListView().queryInterface("IDisplayablePipeLine");null!=t&&t._push(this)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this);var t=this.view._coordinateSystemView()._getPlotListView().queryInterface("IDisplayablePipeLine");null!=t&&t._delete(this),this._restart()},i.prototype.flushables=function(){var t=this.view._coordinateSystemView()._getPlotListView().queryInterface("IFlushable");return null!=t?[t]:e.prototype.flushables.call(this)},i.prototype._contains=function(t){return!1},i.prototype._cutOff=function(){return!1},i.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t);var n=this.view._getDefinition();null!=this.__currentSymbol&&(this.__trailSymbols.length>this.__effectDefinition.symbolTrail&&this.__trailSymbols.shift(),null==this.__currentSymbol.style.fillOpacity&&(this.__currentSymbol.style.fillOpacity=1),null==this.__currentSymbol.style.strokeOpacity&&(this.__currentSymbol.style.strokeOpacity=1),this.__trailSymbols.push(this.__currentSymbol)),this.__pathAnimationAction._applyTransformation(t,this.__points,this.__effectDefinition.constantSpeed),this.__currentSymbol=this.__pathAnimationAction._getSymbol(n._getSymbolDefinitionProviderList())},i.prototype._draw=function(t,e){var n=this,i=this.view;null!=i&&i._isVisible()&&(t.beginTransform(),t.drawGroup(null,null,this.view._space()._matrix(),(function(t){for(var i=0;i<n.__trailSymbols.length;i++){var o=n.__trailSymbols[i],r=Math.min(i/n.__trailSymbols.length/2+.1,1);o.style.fillOpacity=r,o.style.strokeOpacity=r,o.render(t,e)}null!=n.__currentSymbol&&n.__currentSymbol.render(t,e)})),t.restoreTransform())},i}(t._ViewAnimationAction);t._GraphPlotViewRouteFlowEffectAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){var o=n;if(null!=o){var r=o.constantSpeed>0?this._getConstantSpeedDuration(o):o.duration,l=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,r),a=this._createFrameAnimationAction(e,l,o);return new t._FrameAnimation(n,[a],i,o.iterations,n.startDelay+r+n.endDelay)}return null},e.prototype._getConstantSpeedDuration=function(t){return this._getRouteDistance(t.route)/(t.constantSpeed>0?t.constantSpeed:100)*1e3},e.prototype._getRouteDistance=function(t){for(var e=0,n=0;n<t.length-1;n++){var i=t[n],o=i[0],r=i[1],l=t[n+1],a=l[0]-o,u=l[1]-r;e+=Math.sqrt(a*a+u*u)}return e},e.prototype._createFrameAnimationAction=function(e,n,i){return new t._GraphPlotViewRouteFlowEffectAnimationAction(e,n,i)},e}();t._GraphPlotViewRouteFlowEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="GraphFlickerEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._FlickerEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flicker&&e instanceof t._GraphPointView)return new t._PointViewFlickerEffectAnimationDefinition(e,i,new t._GraphPointViewFlickerEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._GraphPointViewFlickerEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._onEnd=function(){t.prototype._onEnd.call(this)},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e)},e}(t._FlickerEffectViewAnimationAction);t._GraphPointFlickerEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._GraphPointFlickerEffectViewAnimationAction(e,n,i)},i}(t._PointViewFlickerEffectAnimationBuilder);t._GraphPointViewFlickerEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;i instanceof t._SunburstPointView&&(this.__originRadius=i._getRadius())}},i.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n),this._type==t.AnimationKeyFramesType.Percentage?this.view._setRadius((this.__originRadius-this.view._getInnerRadius())*n+this.view._getInnerRadius()):this.view._setRadius(this.__originRadius+n)},i}(t._PointViewScaleAnimationAction);t._SunburstPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._onPending=function(){if(e.prototype._onPending.call(this),this.view instanceof t._TreeMapPointView){var n=this.view.queryInterface("IDisplayablePipeLine");if(null!=n){for(var o=0,r=n._filter((function(t){return t instanceof i}));o<r.length;o++){var l=r[o];n._delete(l)}n._unshift(this),this.__pipeline=n}}},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null);var t=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);null!=t&&t.reversed&&1==t.currentScale&&this._cache.set([this.view._getPlotView()._id(),this.view._id()],null)},i.prototype._onStart=function(){e.prototype._onStart.call(this);var n=this._cache.get([this.view._getPlotView()._id(),this.view._id()]);if(null!=n){var i=n.pointView;i instanceof t._TreeMapPointView&&(this.__originRectShape=i._internalShape.clone())}},i.prototype._applyScale=function(n){e.prototype._applyScale.call(this,n);var i=this.view._internalShape.clone();i=this._type==t.AnimationKeyFramesType.Percentage?new t._RectangleShape(i.center.x,i.center.y,this.__originRectShape.size.width*n,this.__originRectShape.size.height*n,i.angle):new t._RectangleShape(i.center.x,i.center.y,this.__originRectShape.size.width+n,this.__originRectShape.size.height+n,i.angle),this.view._internalShape=i},i.prototype._draw=function(e,n){var i=this.view;null!=i&&i instanceof t._TreeMapPointView&&(i.hover||n._hovered&&(this._interrupt(),i._calcShape()),i._drawInternal(e,n,i._rectangle(),!1))},i.prototype._contains=function(e){return null!=this.view&&null!=this.view._internalShape&&t._ShapeUtil._shapeContainsPoint(this.view._internalShape,e)},i.prototype._cutOff=function(){return!0},i}(t._PointViewScaleAnimationAction);t._TreeMapPointViewScaleAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){}return e.prototype.buildAnimation=function(e,n,i){for(var o=e._children,r=[],l=o.length,a=0;a<l;a++){var u=o[a];if(0!=u._isVisible()){var s=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),_=this._createAnimationAction(u,s);null!=_&&r.push(_)}}return new t._FrameAnimation(n,r,i)},e}();t._HierarchicalPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="HierarchicalFlickerEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._FlickerEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flicker&&t._isHierarchicalPointView(e))return new t._PointViewFlickerEffectAnimationDefinition(e,i,new t._PointViewFlickerEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._HierarchicalFlickerEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i,o){return new t._SunburstPointViewScaleAnimationAction(e,n,i,o,this._cache)},i.prototype._clonePointView=function(e){return e instanceof t._SunburstPointView?e._clone():null},i}(t._HighlightAnimationBuilder);t._SunburstPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstHighlight",this.type=t._BuildInHighlightAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHighlightAnimationOption(n)?n:new t.options._HighlightAnimationOption(n),e instanceof t._SunburstPointView){var r=new t._SunburstPointViewHighlightAnimationBuilder(i);return new t._PointViewHighlightAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHighlightAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstHighlightAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._SunburstPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},i.prototype._clonePointView=function(e){return e instanceof t._SunburstPointView?e._clone():null},i}(t._HoverAnimationBuilder);t._SunburstPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstHover",this.type=t._BuildInHoverAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHoverAnimationOption(n)?n:new t.options._HoverAnimationOption(n),e instanceof t._SunburstPointView){var r=new t._SunburstPointViewHoverAnimationBuilder(i);return new t._PointViewHoverAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHoverAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstHoverAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n){return new t._SunburstPointTransitionViewAnimationAction(e,n)},i}(t._HierarchicalPlotViewLoadingAnimationBuilder);t._SunburstPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.__sweep=i.view._getSweep(),i.__radius=i.view._getRadius(),i}return n(e,t),e.prototype._onStart=function(){t.prototype._onStart.call(this)},e.prototype._onEnd=function(){t.prototype._onEnd.call(this),this.view._setSweep(this.__sweep),this.view._setRadius(this.__radius)},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e);var n=this.view._getInnerRadius();this.view._setRadius((this.__radius-n)*e+n),this.view._setSweep(this.__sweep*e)},e}(t._TransitionViewAnimationAction);t._SunburstPointTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstLoading",this.type=t._BuildInPlotLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t.models._SunburstPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._SunburstPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return n(i,e),i.prototype._applyTransformation=function(n){if(e.prototype._applyTransformation.call(this,n),this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel){var i=n*this._rippleEffectDefinition().scale.value;this.__radius=this.view._getRadius()+.5*i,this.__innerRadius=this.view._getInnerRadius()-.5*i}else if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage){var o=n*(this._rippleEffectDefinition().scale.value-1),r=.5*(this.view._getRadius()-this.view._getInnerRadius());this.__radius=this.view._getRadius()+r*o,this.__innerRadius=this.view._getInnerRadius()-r*o}this.__startAngle=this.view._getStartAngle(),this.__sweepAngle=this.view._getSweep(),this.__innerRadius<0&&(this.__innerRadius=0);var l=this.view._getCenter().x,a=this.view._getCenter().y,u=this.view._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius;this.__path=t._AnimationPathUtility._buildDonutSegmentRingWithBorderRadius(l,a,this.view._getRadius(),this.view._getInnerRadius(),this.__radius,this.__innerRadius,this.__startAngle,this.__sweepAngle,u)},i.prototype._draw=function(e,n){var i=this.view;null!=i&&i._isVisible()&&null!=this.__path&&i._getPlotView()._rectangle().width>0&&i._getPlotView()._rectangle().height>0&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle()),t._OptionUtility._applyStyleOption(e,this._rippleEffectDefinition().style),e.drawPath(this.__path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform())},i}(t._RippleEffectViewAnimationAction);t._SunburstPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._SunburstPointRippleEffectViewAnimationAction(e,n,i)},i}(t._PointViewRippleEffectAnimationBuilder);t._SunburstPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstRippleEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._RippleEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Ripple&&e instanceof t._SunburstPointView)return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._SunburstPointViewRippleEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstRippleEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isSunburstPointAnimationViewCache=function(e){return!!t._isPointAnimationViewCache(e)&&"function"==typeof e._getSunburstPointView}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationViewCache=function(e){return new t._SunburstPointAnimationViewCache(e._clone())},i.prototype._createUpdateAnimationAction=function(e,n,i,o){return t._isSunburstPointAnimationViewCache(n)&&t._isSunburstPointAnimationViewCache(i)?new t._SunburstPointUpdateViewAnimationAction(e,n,i,o):t._isPointAnimationViewCache(n)&&t._isSunburstPointAnimationViewCache(i)?new t._DisplayablePointViewAnimationAction(e,n,i,o):null},i.prototype._getAnimatableViews=function(t){return t._children},i.prototype._cloneAnimatableView=function(t){return t._clone()},i}(t._BasePlotViewUpdateAnimationBuilder);t._SunburstPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._getSunburstPointView=function(){return this._animationView},e}(t._BasePointAnimationViewCache);t._SunburstPointAnimationViewCache=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__cache=i,r.__center=r.__fromCenter=n._getSunburstPointView()._getCenter().clone(),r.__radius=r.__fromRadius=n._getSunburstPointView()._getRadius(),r.__innerRadius=r.__fromInnerRadius=n._getSunburstPointView()._getInnerRadius(),r.__startAngle=r.__fromStartAngle=n._getSunburstPointView()._getStartAngle(),r.__sweep=r.__fromSweep=n._getSunburstPointView()._getSweep(),r.__toCenter=t._getCenter().clone(),r.__toRadius=t._getRadius(),r.__toInnerRadius=t._getInnerRadius(),r.__toStartAngle=t._getStartAngle(),r.__toSweep=t._getSweep(),r.__borderRadius=t._getPlotView()._getDefinition()._dvConfigOption.bar.borderRadius,r.__pointScale=t._scale,r.__gradientFillDirection=t._getPlotView()._getDefinition()._plotConfigOption.gradientFillDirection,r.__fromCenter.equalsWith(r.__toCenter)&&r.__fromRadius==r.__toRadius&&r.__fromInnerRadius==r.__toInnerRadius&&r.__fromStartAngle==r.__toStartAngle&&r.__fromSweep==r.__toSweep&&(r.timing=null),r}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._getSunburstPointView()._setCenter(this.__center),this.__cache._getSunburstPointView()._setStartAngle(this.__toStartAngle),this.__cache._getSunburstPointView()._setSweep(this.__toSweep),this.__cache._getSunburstPointView()._setInnerRadius(this.__toInnerRadius),this.__cache._getSunburstPointView()._setRadius(this.__toRadius),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},i.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},i.prototype._calcShape=function(e){var n=(this.__toCenter.x-this.__fromCenter.x)*e,i=(this.__toCenter.y-this.__fromCenter.y)*e,o=(this.__toStartAngle-this.__fromStartAngle)*e,r=(this.__toSweep-this.__fromSweep)*e,l=(this.__toRadius-this.__fromRadius)*e,a=(this.__toInnerRadius-this.__fromInnerRadius)*e;this.__center=new t.core.Point(this.__fromCenter.x+n,this.__fromCenter.y+i),this.__startAngle=this.__fromStartAngle+o,this.__sweep=this.__fromSweep+r,this.__innerRadius=this.__fromInnerRadius+a,this.__radius=this.__fromRadius+l},i.prototype._draw=function(e,n){var i=this.__center.x,o=this.__center.y,r=this.__radius*((this.__pointScale-1)/2+1),l=this.__innerRadius*(1-(this.__pointScale-1)/2),a=this.__startAngle,u=this.__sweep,s=this.__borderRadius,_=t._PathUtility._buildDonutSegmentWithBorderRadius(i,o,r,l,a,u,s),p=this.__gradientFillDirection;if(null!=p&&p!=t.GradientFillDirection.Default&&e.fill instanceof t._RadialGradientColor){e.beginTransform();var c=t._ColorStopUtility._calcColorStopWithRadius(e.fill.colorStops,p==t.GradientFillDirection.InnerRadius?l:0,r),h=new t.core.Point(.5,.5),f=new t._RadialGradientColor(h,.5,h,.5,c),d=e.fillOpacity;if(e.fill=f,e.fillOpacity=d,r==l&&u>=t._Utility._PI2)e.drawDonut(i,o,r,l,a,u,null);else{var y=null;if(null!=_)y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(_);else{var g=t._PathBuilder._defaultPathBuilder._buildDonutSegment(i,o,r,l,a,u);y=t.RegionBuilder.defaultRegionBuilder.buildPathRegion(g)}e.beginTransform(),e.stroke=t._CssColor._none(),e.drawEllipse(i,o,r,r,y),e.restoreTransform(),e.fill=t._CssColor._none(),null!=_?e.drawPath(_,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(i,o,r,l,a,u,null)}e.restoreTransform()}else null!=_?e.drawPath(_,t.PathFillType.Nonzero,t.LineCap.Butt,t.LineJoin.Miter):e.drawDonut(this.__center.x,this.__center.y,this.__radius*((this.__pointScale-1)/2+1),this.__innerRadius*(1-(this.__pointScale-1)/2),this.__startAngle,this.__sweep,null)},i.prototype._contains=function(t){var e=t.x-this.__center.x,n=t.y-this.__center.y,i=e*e+n*n,o=this.__innerRadius*this.__innerRadius,r=this.__radius*this.__radius;if(i>=o&&i<=r){var l=90*this.__sweep/Math.PI,a=this._clampAngle(180*this.__startAngle/Math.PI+l),u=180*Math.atan2(n,e)/Math.PI,s=this._clampAngle(a-u);if(Math.abs(s)<=l)return!0}return!1},i.prototype._cutOff=function(){return!0},i.prototype._clampAngle=function(t){var e=(t+180)%360-180;return e<-180&&(e+=360),e},i}(t._ViewTransitionViewAnimationAction);t._SunburstPointUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="SunburstUpdate",this.type=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t.models._SunburstPlotDefinition){var r=new t._SunburstPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._SunburstUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i,o){return new t._TreeMapPointViewScaleAnimationAction(e,n,i,o,this._cache)},i.prototype._clonePointView=function(e){return e instanceof t._TreeMapPointView?e._clone():null},i}(t._HighlightAnimationBuilder);t._TreeMapPointViewHighlightAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapHighlight",this.type=t._BuildInHighlightAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHighlightAnimationOption(n)?n:new t.options._HighlightAnimationOption(n),t._isTreeMapPointView(e)){var r=new t._TreeMapPointViewHighlightAnimationBuilder(i);return new t._PointViewHighlightAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHighlightAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapHighlightAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._TreeMapPointViewScaleAnimationAction(e,n,this._cache.get([e._getPlotView()._id(),e._id()]).reversed,i,this._cache)},i.prototype._clonePointView=function(e){return e instanceof t._TreeMapPointView?e._clone():null},i}(t._HoverAnimationBuilder);t._TreeMapPointViewHoverAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapHover",this.type=t._BuildInHoverAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=null;if(o=t.options._isHoverAnimationOption(n)?n:new t.options._HoverAnimationOption(n),t._isTreeMapPointView(e)){var r=new t._TreeMapPointViewHoverAnimationBuilder(i);return new t._PointViewHoverAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPointViewHoverAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapHoverAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.buildAnimation=function(e,n,i){var o=e._getRootTreeMapPointView(),r=[];if(o)if(n.mode===t.AnimationMode.All){var l=new t._ActionTiming(n.easing,n.startDelay,n.endDelay,n.duration),a=this._createAnimationAction(o,l);null!=a&&r.push(a)}else r.push.apply(r,this._createAnimationActions(e,o,n));return new t._FrameAnimation(n,r,i)},i.prototype._createAnimationAction=function(e,n){return new t._TreeMapPointTransitionViewAnimationAction(e,n)},i.prototype._createAnimationActions=function(e,n,i){for(var o=this._getAnimateDepth(e._getHierarchicalPlotDataModel()),r=this._traverseCreateAnimationActions(n,o),l=1==i.staggering,a=0,u=r.length;a<u;++a){var s=r[a],_=t._ActionTiming._createTiming(i.easing,a,u,i.duration,l);_.startDelay+=i.startDelay,s.timing=_}return r},i.prototype._traverseCreateAnimationActions=function(t,e){var n=[],i=t._data();if(!t||i._depth()>e)return n;if(t._haveHeader()&&!t._hiddenHeader||i._depth()===e)n.push(this._createAnimationAction(t,null));else for(var o=0,r=t._children;o<r.length;o++){var l=r[o];n.push.apply(n,this._traverseCreateAnimationActions(l,e))}return n},i.prototype._getAnimateDepth=function(e){var n=e._hierarchicalPlotDefinition()._detailDefinition()._dataFieldDefinitions.map((function(t){return t._dataField._name})),i=e._hierarchicalPlotDefinition()._encodingsDefinition._getColorEncodingDefinition();if(null!=i&&t._isHierarchicalLegendEncodingDefinition(i))for(var o=i._dataFieldDefinitions.map((function(t){return t._dataField._name})),r=0;r<o.length;){var l=o[r],a=n.indexOf(l);if(a>=0)return a+1;r++}return 1},i}(t._HierarchicalPlotViewLoadingAnimationBuilder);t._TreeMapPlotViewLoadingAnimationBuilder=e}(t||(t={})),function(t){var e=function(e){function i(t,n){return e.call(this,t,n)||this}return n(i,e),i.prototype._onStart=function(){e.prototype._onStart.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__shape=this.view._internalShape.clone())},i.prototype._onEnd=function(){e.prototype._onEnd.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._delete(this),this.view._internalShape=this.__shape.clone())},i.prototype._applyScale=function(e){var n=new t.core.Rect(this.__shape.center.x-.5*this.__shape.size.width,this.__shape.center.y-.5*this.__shape.size.height,this.__shape.size.width,this.__shape.size.height);null!=(n=this._scaleRectangle(e,e,n))&&(this.view._internalShape=t._ShapeBuilder._defaultShapeBuilder._BuildRectangleShapeFromRect(n))},i.prototype._scaleRectangle=function(t,e,n){if(isNaN(t)||isNaN(e))return null;var i=n;return i.top=i.top+(1-e)*i.height/2,i.height=e*i.height,i.left=i.left+(1-t)*i.width/2,i.width=t*i.width,i},i.prototype._draw=function(t,e){var n=this.view;null!=n&&n._isVisible()&&(n._isHover()?this._interrupt():e._hovered&&(this._interrupt(),n._calcShape()),n._drawInternal(t,e,n._rectangle()))},i.prototype._contains=function(t){return!1},i.prototype._cutOff=function(){return!0},i}(t._TransitionViewAnimationAction);t._TreeMapPointTransitionViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapLoading",this.type=t._BuildInPlotLoadingAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=t._CastExtension.toAnimationOption(n);if(e instanceof t.models._TreeMapPlotDefinition)return new t._PlotViewLoadingAnimationDefinition(e,i,new t._TreeMapPlotViewLoadingAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPlotAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapLoadingAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(e){function i(t,n,i){var o=e.call(this,t,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return n(i,e),i.prototype._onPending=function(){e.prototype._onPending.call(this);var n=this.view._rectangle().clone();this.__rect=n,this.__path=t._AnimationPathUtility._buildRectangleRingWithBorderRadius(n,this.__rect,null)},i.prototype._applyTransformation=function(n){e.prototype._applyTransformation.call(this,n);var i=this.view._rectangle().clone(),o=.5*i.width,r=.5*i.height;if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Pixel){var l=n*this._rippleEffectDefinition().scale.value;this.__rect=new t.core.Rect(i.left-.5*l,i.top-.5*l,i.width+l,i.height+l)}else if(this._rippleEffectDefinition().scale.type==t.ValueOptionType.Percentage){var a=n*(this._rippleEffectDefinition().scale.value-1);this.__rect=new t.core.Rect(i.left-o*a,i.top-r*a,i.width+2*o*a,i.height+2*r*a)}this.__path=t._AnimationPathUtility._buildRectangleRingWithBorderRadius(i,this.__rect,null)},i.prototype._draw=function(e,n){var i=this.view;null!=i&&i._isVisible()&&null!=this.__path&&i._getPlotView()._rectangle().width>0&&i._getPlotView()._rectangle().height>0&&(e.beginTransform(),t._StyleUtility._applyStyle(e,this._defaultStyle()),t._OptionUtility._applyStyleOption(e,this._rippleEffectDefinition().style),e.drawPath(this.__path,t.PathFillType.Evenodd,t.LineCap.Butt,t.LineJoin.Miter),e.restoreTransform())},i}(t._RippleEffectViewAnimationAction);t._TreeMapPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._TreeMapPointRippleEffectViewAnimationAction(e,n,i)},i}(t._PointViewRippleEffectAnimationBuilder);t._TreeMapPointViewRippleEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapRippleEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._RippleEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Ripple&&t._isTreeMapPointView(e))return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._TreeMapPointViewRippleEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapRippleEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){t._isTreeMapPointAnimationViewCache=function(t){return"function"==typeof t._getTreeMapPointView}}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationViewCache=function(e){return new t._TreeMapPointAnimationViewCache(e._clone())},i.prototype._createUpdateAnimationAction=function(e,n,i,o){return t._isTreeMapPointAnimationViewCache(n)&&t._isTreeMapPointAnimationViewCache(i)?new t._TreeMapPointUpdateViewAnimationAction(e,n,i,o):null},i.prototype._getAnimatableViews=function(t){return t._children},i.prototype._cloneAnimatableView=function(t){return t._clone()},i}(t._BasePlotViewUpdateAnimationBuilder);t._TreeMapPlotViewUpdateAnimationBuilder=e}(t||(t={})),function(t){var e=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._getTreeMapPointView=function(){return this._animationView},e}(t._BasePointAnimationViewCache);t._TreeMapPointAnimationViewCache=e}(t||(t={})),function(t){var e=function(e){function i(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.__cache=i,r.__rect=r.__fromRectangle=n._getTreeMapPointView()._rectangle().clone(),r.__toRectangle=t._rectangle().clone(),r.__fromRectangle.equalsWith(r.__toRectangle)&&(r.timing=null),r}return n(i,e),i.prototype._onEnd=function(){e.prototype._onEnd.call(this),this.__cache._getTreeMapPointView()._internalShape=this._rectToShape(this.__rect),null!=this.__pipeline&&(this.__pipeline._delete(this),this.__pipeline=null)},i.prototype._onPending=function(){e.prototype._onPending.call(this);var t=this.view.queryInterface("IDisplayablePipeLine");null!=t&&(t._unshift(this),this.__pipeline=t)},i.prototype._applyTransformation=function(t){e.prototype._applyTransformation.call(this,t),this._calcShape(t)},i.prototype._calcShape=function(e){var n=this.__fromRectangle.left+(this.__toRectangle.left-this.__fromRectangle.left)*e,i=this.__fromRectangle.top+(this.__toRectangle.top-this.__fromRectangle.top)*e,o=this.__fromRectangle.right+(this.__toRectangle.right-this.__fromRectangle.right)*e,r=this.__fromRectangle.bottom+(this.__toRectangle.bottom-this.__fromRectangle.bottom)*e;this.__rect=new t.core.Rect(n,i,o-n,r-i)},i.prototype._rectToShape=function(e){var n=e.left+.5*e.width,i=e.top+.5*e.height;return new t._RectangleShape(n,i,e.width,e.height,0)},i.prototype._contains=function(t){return!1},i.prototype._cutOff=function(){return!0},i.prototype._draw=function(e,n){var i=this.view;null!=i&&i instanceof t._TreeMapPointView&&i._drawInternal(e,n,this.__rect,!1)},i}(t._ViewTransitionViewAnimationAction);t._TreeMapPointUpdateViewAnimationAction=e}(t||(t={})),function(t){var e=function(){function e(){this.name="TreeMapUpdate",this.type=t._BuildInPlotUpdateAnimationDefinitionBuilderCollection._pluginType,this.priority=0}return e.prototype.buildDefinition=function(e,n,i){if(null!=e&&null!=n){var o=t._CastExtension.toAnimationOption(n);if(e instanceof t.models._TreeMapPlotDefinition){var r=new t._TreeMapPlotViewUpdateAnimationBuilder(i);return new t._PlotViewUpdateAnimationDefinition(e,o,r,r)}}return null},e.prototype.queryInterface=function(t){return"IPlotUpdateAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t._TreeMapUpdateAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(){function e(){this.name="MapFlickerEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._FlickerEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Flicker){if(t._isGeographyPointView(e)&&t._isMapPointView(e))return new t._PointViewFlickerEffectAnimationDefinition(e,i,new t._MapPointViewFlickerEffectAnimationBuilder);if(e instanceof t._ScatterMapPointView)return new t._PointViewFlickerEffectAnimationDefinition(e,i,new t._PointViewFlickerEffectAnimationBuilder)}}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t.MapFlickerEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._onEnd=function(){t.prototype._onEnd.call(this),null!=this.view._getShapeView()&&(this.view._getShapeView()._externalStyle=null)},e.prototype._applyScale=function(e){t.prototype._applyScale.call(this,e),null!=this.view._getShapeView()&&(this.view._getShapeView()._externalStyle=this.view._externalStyle)},e}(t._FlickerEffectViewAnimationAction);t._MapPointFlickerEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._MapPointFlickerEffectViewAnimationAction(e,n,i)},i}(t._PointViewFlickerEffectAnimationBuilder);t._MapPointViewFlickerEffectAnimationBuilder=e}(t||(t={})),function(t){var e=function(){function e(){this.name="MapRippleEffect",this.type=t._BuildInEffectAnimationDefinitionBuilderCollection._pluginType,this.priority=1}return e.prototype.buildDefinition=function(e,n){if(null!=e&&null!=n){var i=new t.options._RippleEffectAnimationOption(n);if(i.effect==t.AnimationEffectType.Ripple&&t._isGeographyPointView(e)&&t._isSymbolGeographyPointView(e))return new t._PointViewRippleEffectAnimationDefinition(e,i,new t._MapSymbolPointViewRippleEffectAnimationBuilder)}return null},e.prototype.queryInterface=function(t){return"IPointViewAnimationDefinitionBuilder"==t||"IPlugin"==t?this:null},e._defaultPlugin=new e,e}();t.MapRippleEffectAnimationPlugin=e,t.plugins.PluginCollection.defaultPluginCollection.register(e._defaultPlugin,!0)}(t||(t={})),function(t){var e=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o._isHiddenPhaseBefore=!1,o}return n(e,t),e}(t._SymbolPointRippleEffectViewAnimationAction);t._MapSymbolPointRippleEffectViewAnimationAction=e}(t||(t={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype._createAnimationAction=function(e,n,i){return new t._MapSymbolPointRippleEffectViewAnimationAction(e,n,i)},i}(t._PointViewRippleEffectAnimationBuilder);t._MapSymbolPointViewRippleEffectAnimationBuilder=e}(t||(t={})),t})?n.apply(e,i):n)||(t.exports=o)},36960:()=>{}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(91522),e=n.n(t);n(36960);window.GrapeCity||(window.GrapeCity={}),window.GrapeCity.ActiveReports||(window.GrapeCity.ActiveReports={}),window.GrapeCity.ActiveReports.DvChart=e()})()})();